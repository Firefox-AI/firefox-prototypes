/*! THIS FILE IS AUTO-GENERATED: webpack.system-addon.config.js */
var NewtabRenderUtils;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  NewTab: () => (/* binding */ NewTab),
  renderCache: () => (/* binding */ renderCache),
  renderWithoutState: () => (/* binding */ renderWithoutState)
});

;// CONCATENATED MODULE: ./common/Actions.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

// This file is accessed from both content and system scopes.

const MAIN_MESSAGE_TYPE = "ActivityStream:Main";
const CONTENT_MESSAGE_TYPE = "ActivityStream:Content";
const PRELOAD_MESSAGE_TYPE = "ActivityStream:PreloadedBrowser";
const UI_CODE = 1;
const BACKGROUND_PROCESS = 2;

/**
 * globalImportContext - Are we in UI code (i.e. react, a dom) or some kind of background process?
 *                       Use this in action creators if you need different logic
 *                       for ui/background processes.
 */
const globalImportContext =
  typeof Window === "undefined" ? BACKGROUND_PROCESS : UI_CODE;

// Create an object that avoids accidental differing key/value pairs:
// {
//   INIT: "INIT",
//   UNINIT: "UNINIT"
// }
const actionTypes = {};

for (const type of [
  "ABOUT_SPONSORED_TOP_SITES",
  "ADDONS_INFO_REQUEST",
  "ADDONS_INFO_RESPONSE",
  "ADS_FEED_UPDATE",
  "ADS_INIT",
  "ADS_RESET",
  "ADS_UPDATE_SPOCS",
  "ADS_UPDATE_TILES",
  "BLOCK_SECTION",
  "BLOCK_URL",
  "BOOKMARK_URL",
  "CARD_SECTION_IMPRESSION",
  "CLEAR_PREF",
  "COPY_DOWNLOAD_LINK",
  "DELETE_BOOKMARK_BY_ID",
  "DELETE_HISTORY_URL",
  "DIALOG_CANCEL",
  "DIALOG_CLOSE",
  "DIALOG_OPEN",
  "DISABLE_SEARCH",
  "DISCOVERY_STREAM_CONFIG_CHANGE",
  "DISCOVERY_STREAM_CONFIG_RESET",
  "DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS",
  "DISCOVERY_STREAM_CONFIG_SETUP",
  "DISCOVERY_STREAM_CONFIG_SET_VALUE",
  "DISCOVERY_STREAM_DEV_BLOCKS",
  "DISCOVERY_STREAM_DEV_BLOCKS_RESET",
  "DISCOVERY_STREAM_DEV_EXPIRE_CACHE",
  "DISCOVERY_STREAM_DEV_IDLE_DAILY",
  "DISCOVERY_STREAM_DEV_IMPRESSIONS",
  "DISCOVERY_STREAM_DEV_SHOW_PLACEHOLDER",
  "DISCOVERY_STREAM_DEV_SYNC_RS",
  "DISCOVERY_STREAM_DEV_SYSTEM_TICK",
  "DISCOVERY_STREAM_EXPERIMENT_DATA",
  "DISCOVERY_STREAM_FEEDS_UPDATE",
  "DISCOVERY_STREAM_FEED_UPDATE",
  "DISCOVERY_STREAM_IMPRESSION_STATS",
  "DISCOVERY_STREAM_LAYOUT_RESET",
  "DISCOVERY_STREAM_LAYOUT_UPDATE",
  "DISCOVERY_STREAM_LINK_BLOCKED",
  "DISCOVERY_STREAM_LOADED_CONTENT",
  "DISCOVERY_STREAM_PERSONALIZATION_INIT",
  "DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED",
  "DISCOVERY_STREAM_PERSONALIZATION_OVERRIDE",
  "DISCOVERY_STREAM_PERSONALIZATION_RESET",
  "DISCOVERY_STREAM_PERSONALIZATION_TOGGLE",
  "DISCOVERY_STREAM_PERSONALIZATION_UPDATED",
  "DISCOVERY_STREAM_PREFS_SETUP",
  "DISCOVERY_STREAM_RETRY_FEED",
  "DISCOVERY_STREAM_SPOCS_CAPS",
  "DISCOVERY_STREAM_SPOCS_ENDPOINT",
  "DISCOVERY_STREAM_SPOCS_PLACEMENTS",
  "DISCOVERY_STREAM_SPOCS_UPDATE",
  "DISCOVERY_STREAM_SPOC_BLOCKED",
  "DISCOVERY_STREAM_SPOC_IMPRESSION",
  "DISCOVERY_STREAM_TOPICS_LOADING",
  "DISCOVERY_STREAM_USER_EVENT",
  "DOWNLOAD_CHANGED",
  "FAKESPOT_CTA_CLICK",
  "FAKESPOT_DISMISS",
  "FAKE_FOCUS_SEARCH",
  "FILL_SEARCH_TERM",
  "FOLLOW_SECTION",
  "HANDOFF_SEARCH_TO_AWESOMEBAR",
  "HIDE_PERSONALIZE",
  "HIDE_TOAST_MESSAGE",
  "INFERRED_PERSONALIZATION_MODEL_UPDATE",
  "INFERRED_PERSONALIZATION_REFRESH",
  "INFERRED_PERSONALIZATION_RESET",
  "INFERRED_PERSONALIZATION_UPDATE",
  "INIT",
  "INLINE_SELECTION_CLICK",
  "INLINE_SELECTION_IMPRESSION",
  "MESSAGE_BLOCK",
  "MESSAGE_CLICK",
  "MESSAGE_DISMISS",
  "MESSAGE_IMPRESSION",
  "MESSAGE_NOTIFY_VISIBILITY",
  "MESSAGE_SET",
  "MESSAGE_TOGGLE_VISIBILITY",
  "NEW_TAB_INIT",
  "NEW_TAB_INITIAL_STATE",
  "NEW_TAB_LOAD",
  "NEW_TAB_REHYDRATED",
  "NEW_TAB_STATE_REQUEST",
  "NEW_TAB_STATE_REQUEST_STARTUPCACHE",
  "NEW_TAB_STATE_REQUEST_WITHOUT_STARTUPCACHE",
  "NEW_TAB_UNLOAD",
  "OPEN_ABOUT_FAKESPOT",
  "OPEN_DOWNLOAD_FILE",
  "OPEN_LINK",
  "OPEN_NEW_WINDOW",
  "OPEN_PRIVATE_WINDOW",
  "OPEN_WEBEXT_SETTINGS",
  "PARTNER_LINK_ATTRIBUTION",
  "PLACES_BOOKMARKS_REMOVED",
  "PLACES_BOOKMARK_ADDED",
  "PLACES_HISTORY_CLEARED",
  "PLACES_LINKS_CHANGED",
  "PLACES_LINKS_DELETED",
  "PLACES_LINK_BLOCKED",
  "POCKET_CTA",
  "POCKET_THUMBS_DOWN",
  "POCKET_THUMBS_UP",
  "POCKET_WAITING_FOR_SPOC",
  "PREFS_INITIAL_VALUES",
  "PREF_CHANGED",
  "PREVIEW_REQUEST",
  "PREVIEW_REQUEST_CANCEL",
  "PREVIEW_RESPONSE",
  "PROMO_CARD_CLICK",
  "PROMO_CARD_DISMISS",
  "PROMO_CARD_IMPRESSION",
  "REMOVE_DOWNLOAD_FILE",
  "REPORT_AD_OPEN",
  "REPORT_AD_SUBMIT",
  "REPORT_CLOSE",
  "REPORT_CONTENT_OPEN",
  "REPORT_CONTENT_SUBMIT",
  "RICH_ICON_MISSING",
  "SAVE_SESSION_PERF_DATA",
  "SCREENSHOT_UPDATED",
  "SECTION_DEREGISTER",
  "SECTION_DISABLE",
  "SECTION_ENABLE",
  "SECTION_OPTIONS_CHANGED",
  "SECTION_PERSONALIZATION_SET",
  "SECTION_PERSONALIZATION_UPDATE",
  "SECTION_REGISTER",
  "SECTION_UPDATE",
  "SECTION_UPDATE_CARD",
  "SETTINGS_CLOSE",
  "SETTINGS_OPEN",
  "SET_PREF",
  "SHOW_DOWNLOAD_FILE",
  "SHOW_FIREFOX_ACCOUNTS",
  "SHOW_PERSONALIZE",
  "SHOW_PRIVACY_INFO",
  "SHOW_SEARCH",
  "SHOW_TOAST_MESSAGE",
  "SKIPPED_SIGNIN",
  "SOV_UPDATED",
  "SUBMIT_EMAIL",
  "SUBMIT_SIGNIN",
  "SYSTEM_TICK",
  "TELEMETRY_IMPRESSION_STATS",
  "TELEMETRY_USER_EVENT",
  "TOPIC_SELECTION_IMPRESSION",
  "TOPIC_SELECTION_MAYBE_LATER",
  "TOPIC_SELECTION_SPOTLIGHT_CLOSE",
  "TOPIC_SELECTION_SPOTLIGHT_OPEN",
  "TOPIC_SELECTION_USER_DISMISS",
  "TOPIC_SELECTION_USER_OPEN",
  "TOPIC_SELECTION_USER_SAVE",
  "TOP_SITES_ADD",
  "TOP_SITES_CANCEL_EDIT",
  "TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL",
  "TOP_SITES_EDIT",
  "TOP_SITES_INSERT",
  "TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL",
  "TOP_SITES_ORGANIC_IMPRESSION_STATS",
  "TOP_SITES_PIN",
  "TOP_SITES_PREFS_UPDATED",
  "TOP_SITES_SPONSORED_IMPRESSION_STATS",
  "TOP_SITES_UNPIN",
  "TOP_SITES_UPDATED",
  "TOTAL_BOOKMARKS_REQUEST",
  "TOTAL_BOOKMARKS_RESPONSE",
  "TRENDING_SEARCH_IMPRESSION",
  "TRENDING_SEARCH_SUGGESTION_OPEN",
  "TRENDING_SEARCH_TOGGLE_COLLAPSE",
  "TRENDING_SEARCH_UPDATE",
  "UNBLOCK_SECTION",
  "UNFOLLOW_SECTION",
  "UNINIT",
  "UPDATE_PINNED_SEARCH_SHORTCUTS",
  "UPDATE_SEARCH_SHORTCUTS",
  "WALLPAPERS_CATEGORY_SET",
  "WALLPAPERS_CUSTOM_SET",
  "WALLPAPERS_FEATURE_HIGHLIGHT_COUNTER_INCREMENT",
  "WALLPAPERS_FEATURE_HIGHLIGHT_CTA_CLICKED",
  "WALLPAPERS_FEATURE_HIGHLIGHT_DISMISSED",
  "WALLPAPERS_FEATURE_HIGHLIGHT_SEEN",
  "WALLPAPERS_SET",
  "WALLPAPER_CATEGORY_CLICK",
  "WALLPAPER_CLICK",
  "WALLPAPER_REMOVE_UPLOAD",
  "WALLPAPER_UPLOAD",
  "WEATHER_IMPRESSION",
  "WEATHER_LOAD_ERROR",
  "WEATHER_LOCATION_DATA_UPDATE",
  "WEATHER_LOCATION_SEARCH_UPDATE",
  "WEATHER_LOCATION_SUGGESTIONS_UPDATE",
  "WEATHER_OPEN_PROVIDER_URL",
  "WEATHER_QUERY_UPDATE",
  "WEATHER_SEARCH_ACTIVE",
  "WEATHER_UPDATE",
  "WEBEXT_CLICK",
  "WEBEXT_DISMISS",
  "WIDGETS_LISTS_CHANGE_SELECTED",
  "WIDGETS_LISTS_SET",
  "WIDGETS_LISTS_SET_SELECTED",
  "WIDGETS_LISTS_UPDATE",
  "WIDGETS_LISTS_USER_EVENT",
  "WIDGETS_LISTS_USER_IMPRESSION",
  "WIDGETS_TIMER_END",
  "WIDGETS_TIMER_PAUSE",
  "WIDGETS_TIMER_PLAY",
  "WIDGETS_TIMER_RESET",
  "WIDGETS_TIMER_SET",
  "WIDGETS_TIMER_SET_DURATION",
  "WIDGETS_TIMER_SET_TYPE",
  "WIDGETS_TIMER_USER_EVENT",
  "WIDGETS_TIMER_USER_IMPRESSION",
]) {
  actionTypes[type] = type;
}

// Helper function for creating routed actions between content and main
// Not intended to be used by consumers
function _RouteMessage(action, options) {
  const meta = action.meta ? { ...action.meta } : {};
  if (!options || !options.from || !options.to) {
    throw new Error(
      "Routed Messages must have options as the second parameter, and must at least include a .from and .to property."
    );
  }
  // For each of these fields, if they are passed as an option,
  // add them to the action. If they are not defined, remove them.
  ["from", "to", "toTarget", "fromTarget", "skipMain", "skipLocal"].forEach(
    o => {
      if (typeof options[o] !== "undefined") {
        meta[o] = options[o];
      } else if (meta[o]) {
        delete meta[o];
      }
    }
  );
  return { ...action, meta };
}

/**
 * AlsoToMain - Creates a message that will be dispatched locally and also sent to the Main process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {bool}   skipLocal Used by OnlyToMain to skip the main reducer
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */
function AlsoToMain(action, fromTarget, skipLocal) {
  return _RouteMessage(action, {
    from: CONTENT_MESSAGE_TYPE,
    to: MAIN_MESSAGE_TYPE,
    fromTarget,
    skipLocal,
  });
}

/**
 * OnlyToMain - Creates a message that will be sent to the Main process and skip the local reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */
function OnlyToMain(action, fromTarget) {
  return AlsoToMain(action, fromTarget, true);
}

/**
 * BroadcastToContent - Creates a message that will be dispatched to main and sent to ALL content processes.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options (optional)
 * @return {object} An action with added .meta properties
 */
function BroadcastToContent(action, options) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE,
    ...options,
  });
}

/**
 * AlsoToOneContent - Creates a message that will be will be dispatched to the main store
 *                    and also sent to a particular Content process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @param  {bool} skipMain Used by OnlyToOneContent to skip the main process
 * @return {object} An action with added .meta properties
 */
function AlsoToOneContent(action, target, skipMain) {
  if (!target) {
    throw new Error(
      "You must provide a target ID as the second parameter of AlsoToOneContent. If you want to send to all content processes, use BroadcastToContent"
    );
  }
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE,
    toTarget: target,
    skipMain,
  });
}

/**
 * OnlyToOneContent - Creates a message that will be sent to a particular Content process
 *                    and skip the main reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @return {object} An action with added .meta properties
 */
function OnlyToOneContent(action, target) {
  return AlsoToOneContent(action, target, true);
}

/**
 * AlsoToPreloaded - Creates a message that dispatched to the main reducer and also sent to the preloaded tab.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */
function AlsoToPreloaded(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: PRELOAD_MESSAGE_TYPE,
  });
}

/**
 * UserEvent - A telemetry ping indicating a user action. This should only
 *                   be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */
function UserEvent(data) {
  return AlsoToMain({
    type: actionTypes.TELEMETRY_USER_EVENT,
    data,
  });
}

/**
 * DiscoveryStreamUserEvent - A telemetry ping indicating a user action from Discovery Stream. This should only
 *                     be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */
function DiscoveryStreamUserEvent(data) {
  return AlsoToMain({
    type: actionTypes.DISCOVERY_STREAM_USER_EVENT,
    data,
  });
}

/**
 * ImpressionStats - A telemetry ping indicating an impression stats.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */
function ImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.TELEMETRY_IMPRESSION_STATS,
    data,
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

/**
 * DiscoveryStreamImpressionStats - A telemetry ping indicating an impression stats in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */
function DiscoveryStreamImpressionStats(
  data,
  importContext = globalImportContext
) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_IMPRESSION_STATS,
    data,
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

/**
 * DiscoveryStreamLoadedContent - A telemetry ping indicating a content gets loaded in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */
function DiscoveryStreamLoadedContent(
  data,
  importContext = globalImportContext
) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_LOADED_CONTENT,
    data,
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function SetPref(prefName, value, importContext = globalImportContext) {
  const action = {
    type: actionTypes.SET_PREF,
    data: { name: prefName, value },
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function WebExtEvent(type, data, importContext = globalImportContext) {
  if (!data || !data.source) {
    throw new Error(
      'WebExtEvent actions should include a property "source", the id of the webextension that should receive the event.'
    );
  }
  const action = { type, data };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

const actionCreators = {
  BroadcastToContent,
  UserEvent,
  DiscoveryStreamUserEvent,
  ImpressionStats,
  AlsoToOneContent,
  OnlyToOneContent,
  AlsoToMain,
  OnlyToMain,
  AlsoToPreloaded,
  SetPref,
  WebExtEvent,
  DiscoveryStreamImpressionStats,
  DiscoveryStreamLoadedContent,
};

// These are helpers to test for certain kinds of actions
const actionUtils = {
  isSendToMain(action) {
    if (!action.meta) {
      return false;
    }
    return (
      action.meta.to === MAIN_MESSAGE_TYPE &&
      action.meta.from === CONTENT_MESSAGE_TYPE
    );
  },
  isBroadcastToContent(action) {
    if (!action.meta) {
      return false;
    }
    if (action.meta.to === CONTENT_MESSAGE_TYPE && !action.meta.toTarget) {
      return true;
    }
    return false;
  },
  isSendToOneContent(action) {
    if (!action.meta) {
      return false;
    }
    if (action.meta.to === CONTENT_MESSAGE_TYPE && action.meta.toTarget) {
      return true;
    }
    return false;
  },
  isSendToPreloaded(action) {
    if (!action.meta) {
      return false;
    }
    return (
      action.meta.to === PRELOAD_MESSAGE_TYPE &&
      action.meta.from === MAIN_MESSAGE_TYPE
    );
  },
  isFromMain(action) {
    if (!action.meta) {
      return false;
    }
    return (
      action.meta.from === MAIN_MESSAGE_TYPE &&
      action.meta.to === CONTENT_MESSAGE_TYPE
    );
  },
  getPortIdOfSender(action) {
    return (action.meta && action.meta.fromTarget) || null;
  },
  _RouteMessage,
};

;// CONCATENATED MODULE: external "ReactRedux"
const external_ReactRedux_namespaceObject = ReactRedux;
;// CONCATENATED MODULE: external "React"
const external_React_namespaceObject = React;
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_namespaceObject);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamAdmin/SimpleHashRouter.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SimpleHashRouter extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onHashChange = this.onHashChange.bind(this);
    this.state = {
      hash: globalThis.location.hash
    };
  }
  onHashChange() {
    this.setState({
      hash: globalThis.location.hash
    });
  }
  componentWillMount() {
    globalThis.addEventListener("hashchange", this.onHashChange);
  }
  componentWillUnmount() {
    globalThis.removeEventListener("hashchange", this.onHashChange);
  }
  render() {
    const [, ...routes] = this.state.hash.split("-");
    return /*#__PURE__*/external_React_default().cloneElement(this.props.children, {
      location: {
        hash: this.state.hash,
        routes
      }
    });
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamAdmin/DiscoveryStreamAdmin.jsx
function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






// Pref Constants
const PREF_AD_SIZE_MEDIUM_RECTANGLE = "newtabAdSize.mediumRectangle";
const PREF_AD_SIZE_BILLBOARD = "newtabAdSize.billboard";
const PREF_AD_SIZE_LEADERBOARD = "newtabAdSize.leaderboard";
const PREF_CONTEXTUAL_CONTENT_SELECTED_FEED = "discoverystream.contextualContent.selectedFeed";
const PREF_CONTEXTUAL_CONTENT_FEEDS = "discoverystream.contextualContent.feeds";
const PREF_SECTIONS_ENABLED = "discoverystream.sections.enabled";
const PREF_SPOC_PLACEMENTS = "discoverystream.placements.spocs";
const PREF_SPOC_COUNTS = "discoverystream.placements.spocs.counts";
const PREF_CONTEXTUAL_ADS_ENABLED = "discoverystream.sections.contextualAds.enabled";
const PREF_CONTEXTUAL_BANNER_PLACEMENTS = "discoverystream.placements.contextualBanners";
const PREF_CONTEXTUAL_BANNER_COUNTS = "discoverystream.placements.contextualBanners.counts";
const Row = props => /*#__PURE__*/external_React_default().createElement("tr", _extends({
  className: "message-item"
}, props), props.children);
function relativeTime(timestamp) {
  if (!timestamp) {
    return "";
  }
  const seconds = Math.floor((Date.now() - timestamp) / 1000);
  const minutes = Math.floor((Date.now() - timestamp) / 60000);
  if (seconds < 2) {
    return "just now";
  } else if (seconds < 60) {
    return `${seconds} seconds ago`;
  } else if (minutes === 1) {
    return "1 minute ago";
  } else if (minutes < 600) {
    return `${minutes} minutes ago`;
  }
  return new Date(timestamp).toLocaleString();
}
class ToggleStoryButton extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }
  handleClick() {
    this.props.onClick(this.props.story);
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("button", {
      onClick: this.handleClick
    }, "collapse/open");
  }
}
class TogglePrefCheckbox extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onChange = this.onChange.bind(this);
  }
  onChange(event) {
    this.props.onChange(this.props.pref, event.target.checked);
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      checked: this.props.checked,
      onChange: this.onChange,
      disabled: this.props.disabled
    }), " ", this.props.pref, " ");
  }
}
class Personalization extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.togglePersonalization = this.togglePersonalization.bind(this);
  }
  togglePersonalization() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_PERSONALIZATION_TOGGLE
    }));
  }
  render() {
    const {
      lastUpdated,
      initialized
    } = this.props.state.Personalization;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      colSpan: "2"
    }, /*#__PURE__*/external_React_default().createElement(TogglePrefCheckbox, {
      checked: this.props.personalized,
      pref: "personalized",
      onChange: this.togglePersonalization
    }))), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Personalization Last Updated"), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(lastUpdated) || "(no data)")), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Personalization Initialized"), /*#__PURE__*/external_React_default().createElement("td", null, initialized ? "true" : "false")))));
  }
}
class DiscoveryStreamAdminUI extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.restorePrefDefaults = this.restorePrefDefaults.bind(this);
    this.setConfigValue = this.setConfigValue.bind(this);
    this.expireCache = this.expireCache.bind(this);
    this.refreshCache = this.refreshCache.bind(this);
    this.showPlaceholder = this.showPlaceholder.bind(this);
    this.idleDaily = this.idleDaily.bind(this);
    this.systemTick = this.systemTick.bind(this);
    this.syncRemoteSettings = this.syncRemoteSettings.bind(this);
    this.onStoryToggle = this.onStoryToggle.bind(this);
    this.handleWeatherSubmit = this.handleWeatherSubmit.bind(this);
    this.handleWeatherUpdate = this.handleWeatherUpdate.bind(this);
    this.resetBlocks = this.resetBlocks.bind(this);
    this.refreshInferredPersonalization = this.refreshInferredPersonalization.bind(this);
    this.refreshTopicSelectionCache = this.refreshTopicSelectionCache.bind(this);
    this.toggleTBRFeed = this.toggleTBRFeed.bind(this);
    this.handleSectionsToggle = this.handleSectionsToggle.bind(this);
    this.toggleIABBanners = this.toggleIABBanners.bind(this);
    this.state = {
      toggledStories: {},
      weatherQuery: ""
    };
  }
  setConfigValue(configName, configValue) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_CONFIG_SET_VALUE,
      data: {
        name: configName,
        value: configValue
      }
    }));
  }
  restorePrefDefaults() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS
    }));
  }
  refreshCache() {
    const {
      config
    } = this.props.state.DiscoveryStream;
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_CONFIG_CHANGE,
      data: config
    }));
  }
  refreshInferredPersonalization() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.INFERRED_PERSONALIZATION_REFRESH
    }));
  }
  refreshTopicSelectionCache() {
    this.props.dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.displayCount", 0));
    this.props.dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", true));
  }
  dispatchSimpleAction(type) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type
    }));
  }
  resetBlocks() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_DEV_BLOCKS_RESET
    }));
  }
  systemTick() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_SYSTEM_TICK);
  }
  expireCache() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_EXPIRE_CACHE);
  }
  showPlaceholder() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_SHOW_PLACEHOLDER);
  }
  toggleTBRFeed(e) {
    const feed = e.target.value;
    const selectedFeed = PREF_CONTEXTUAL_CONTENT_SELECTED_FEED;
    this.props.dispatch(actionCreators.SetPref(selectedFeed, feed));
  }
  idleDaily() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_IDLE_DAILY);
  }
  syncRemoteSettings() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_SYNC_RS);
  }
  handleWeatherUpdate(e) {
    this.setState({
      weatherQuery: e.target.value || ""
    });
  }
  handleWeatherSubmit(e) {
    e.preventDefault();
    const {
      weatherQuery
    } = this.state;
    this.props.dispatch(actionCreators.SetPref("weather.query", weatherQuery));
  }
  toggleIABBanners(e) {
    const {
      pressed,
      id
    } = e.target;

    // Set the active pref to true/false
    switch (id) {
      case "newtab_billboard":
        // Update boolean pref for billboard ad size
        this.props.dispatch(actionCreators.SetPref(PREF_AD_SIZE_BILLBOARD, pressed));
        break;
      case "newtab_leaderboard":
        // Update boolean pref for billboard ad size
        this.props.dispatch(actionCreators.SetPref(PREF_AD_SIZE_LEADERBOARD, pressed));
        break;
      case "newtab_rectangle":
        // Update boolean pref for mediumRectangle (MREC) ad size
        this.props.dispatch(actionCreators.SetPref(PREF_AD_SIZE_MEDIUM_RECTANGLE, pressed));
        break;
    }

    // Note: The counts array is passively updated whenever the placements array is updated.
    // The default pref values for each are:
    // PREF_SPOC_PLACEMENTS: "newtab_spocs"
    // PREF_SPOC_COUNTS: "6"
    const generateSpocPrefValues = () => {
      const placements = this.props.otherPrefs[PREF_SPOC_PLACEMENTS]?.split(",").map(item => item.trim()).filter(item => item) || [];
      const counts = this.props.otherPrefs[PREF_SPOC_COUNTS]?.split(",").map(item => item.trim()).filter(item => item) || [];

      // Confirm that the IAB type will have a count value of "1"
      const supportIABAdTypes = ["newtab_leaderboard", "newtab_rectangle", "newtab_billboard"];
      let countValue;
      if (supportIABAdTypes.includes(id)) {
        countValue = "1"; // Default count value for all IAB ad types
      } else {
        throw new Error("IAB ad type not supported");
      }
      if (pressed) {
        // If pressed is true, add the id to the placements array
        if (!placements.includes(id)) {
          placements.push(id);
          counts.push(countValue);
        }
      } else {
        // If pressed is false, remove the id from the placements array
        const index = placements.indexOf(id);
        if (index !== -1) {
          placements.splice(index, 1);
          counts.splice(index, 1);
        }
      }
      return {
        placements: placements.join(", "),
        counts: counts.join(", ")
      };
    };
    const {
      placements,
      counts
    } = generateSpocPrefValues();

    // Update prefs with new values
    this.props.dispatch(actionCreators.SetPref(PREF_SPOC_PLACEMENTS, placements));
    this.props.dispatch(actionCreators.SetPref(PREF_SPOC_COUNTS, counts));

    // If contextual ads, sections, and one of the banners are enabled
    // update the contextualBanner prefs to include the banner value and count
    // Else, clear the prefs
    if (PREF_CONTEXTUAL_ADS_ENABLED && PREF_SECTIONS_ENABLED) {
      if (PREF_AD_SIZE_BILLBOARD && placements.includes("newtab_billboard")) {
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_PLACEMENTS, "newtab_billboard"));
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_COUNTS, "1"));
      } else if (PREF_AD_SIZE_LEADERBOARD && placements.includes("newtab_leaderboard")) {
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_PLACEMENTS, "newtab_leaderboard"));
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_COUNTS, "1"));
      } else {
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_PLACEMENTS, ""));
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_COUNTS, ""));
      }
    }
  }
  handleSectionsToggle(e) {
    const {
      pressed
    } = e.target;
    this.props.dispatch(actionCreators.SetPref(PREF_SECTIONS_ENABLED, pressed));
    this.props.dispatch(actionCreators.SetPref("discoverystream.sections.cards.enabled", pressed));
    this.props.dispatch(actionCreators.SetPref("discoverystream.sections.cards.thumbsUpDown.enabled", pressed));
  }
  renderComponent(width, component) {
    return /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Type"), /*#__PURE__*/external_React_default().createElement("td", null, component.type)), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Width"), /*#__PURE__*/external_React_default().createElement("td", null, width)), component.feed && this.renderFeed(component.feed)));
  }
  renderWeatherData() {
    const {
      suggestions
    } = this.props.state.Weather;
    let weatherTable;
    if (suggestions) {
      weatherTable = /*#__PURE__*/external_React_default().createElement("div", {
        className: "weather-section"
      }, /*#__PURE__*/external_React_default().createElement("form", {
        onSubmit: this.handleWeatherSubmit
      }, /*#__PURE__*/external_React_default().createElement("label", {
        htmlFor: "weather-query"
      }, "Weather query"), /*#__PURE__*/external_React_default().createElement("input", {
        type: "text",
        min: "3",
        max: "10",
        id: "weather-query",
        onChange: this.handleWeatherUpdate,
        value: this.weatherQuery
      }), /*#__PURE__*/external_React_default().createElement("button", {
        type: "submit"
      }, "Submit")), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, suggestions.map(suggestion => /*#__PURE__*/external_React_default().createElement("tr", {
        className: "message-item",
        key: suggestion.city_name
      }, /*#__PURE__*/external_React_default().createElement("td", {
        className: "message-id"
      }, /*#__PURE__*/external_React_default().createElement("span", null, suggestion.city_name, " ", /*#__PURE__*/external_React_default().createElement("br", null))), /*#__PURE__*/external_React_default().createElement("td", {
        className: "message-summary"
      }, /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(suggestion, null, 2))))))));
    }
    return weatherTable;
  }
  renderPersonalizationData() {
    const {
      inferredInterests,
      coarseInferredInterests,
      coarsePrivateInferredInterests
    } = this.props.state.InferredPersonalization;
    return /*#__PURE__*/external_React_default().createElement("div", null, " ", "Inferred Interests:", /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(inferredInterests, null, 2)), " Coarse Inferred Interests:", /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(coarseInferredInterests, null, 2)), " Coarse Inferred Interests With Differential Privacy:", /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(coarsePrivateInferredInterests, null, 2)));
  }
  renderFeedData(url) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    const feed = feeds.data[url].data;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h4", null, "Feed url: ", url), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, feed.recommendations?.map(story => this.renderStoryData(story)))));
  }
  renderFeedsData() {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, Object.keys(feeds.data).map(url => this.renderFeedData(url)));
  }
  renderImpressionsData() {
    const {
      impressions
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h4", null, "Feed Impressions"), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, Object.keys(impressions.feed).map(key => {
      return /*#__PURE__*/external_React_default().createElement(Row, {
        key: key
      }, /*#__PURE__*/external_React_default().createElement("td", {
        className: "min"
      }, key), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(impressions.feed[key]) || "(no data)"));
    }))));
  }
  renderBlocksData() {
    const {
      blocks
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h4", null, "Blocks"), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.resetBlocks
    }, "Reset Blocks"), " ", /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, Object.keys(blocks).map(key => {
      return /*#__PURE__*/external_React_default().createElement(Row, {
        key: key
      }, /*#__PURE__*/external_React_default().createElement("td", {
        className: "min"
      }, key));
    }))));
  }
  renderSpocs() {
    const {
      spocs
    } = this.props.state.DiscoveryStream;
    const unifiedAdsSpocsEnabled = this.props.otherPrefs["unifiedAds.spocs.enabled"];

    // Determine which mechanism is querying the UAPI ads server
    const PREF_UNIFIED_ADS_ADSFEED_ENABLED = "unifiedAds.adsFeed.enabled";
    const adsFeedEnabled = this.props.otherPrefs[PREF_UNIFIED_ADS_ADSFEED_ENABLED];
    const unifiedAdsEndpoint = this.props.otherPrefs["unifiedAds.endpoint"];
    let spocsData = [];
    if (spocs.data && spocs.data.newtab_spocs && spocs.data.newtab_spocs.items) {
      spocsData = spocs.data.newtab_spocs.items || [];
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "adsfeed enabled"), /*#__PURE__*/external_React_default().createElement("td", null, adsFeedEnabled ? "true" : "false")), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "spocs_endpoint"), /*#__PURE__*/external_React_default().createElement("td", null, unifiedAdsSpocsEnabled ? unifiedAdsEndpoint : spocs.spocs_endpoint)), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(spocs.lastUpdated))))), /*#__PURE__*/external_React_default().createElement("h4", null, "Spoc data"), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, spocsData.map(spoc => this.renderStoryData(spoc)))), /*#__PURE__*/external_React_default().createElement("h4", null, "Spoc frequency caps"), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, spocs.frequency_caps.map(spoc => this.renderStoryData(spoc)))));
  }
  onStoryToggle(story) {
    const {
      toggledStories
    } = this.state;
    this.setState({
      toggledStories: {
        ...toggledStories,
        [story.id]: !toggledStories[story.id]
      }
    });
  }
  renderStoryData(story) {
    let storyData = "";
    if (this.state.toggledStories[story.id]) {
      storyData = JSON.stringify(story, null, 2);
    }
    return /*#__PURE__*/external_React_default().createElement("tr", {
      className: "message-item",
      key: story.id
    }, /*#__PURE__*/external_React_default().createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/external_React_default().createElement("span", null, story.id, " ", /*#__PURE__*/external_React_default().createElement("br", null)), /*#__PURE__*/external_React_default().createElement(ToggleStoryButton, {
      story: story,
      onClick: this.onStoryToggle
    })), /*#__PURE__*/external_React_default().createElement("td", {
      className: "message-summary"
    }, /*#__PURE__*/external_React_default().createElement("pre", null, storyData)));
  }
  renderFeed(feed) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    if (!feed.url) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Feed url"), /*#__PURE__*/external_React_default().createElement("td", null, feed.url)), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(feeds.data[feed.url] ? feeds.data[feed.url].lastUpdated : null) || "(no data)")));
  }
  render() {
    const prefToggles = "enabled collapsible".split(" ");
    const {
      config,
      layout
    } = this.props.state.DiscoveryStream;
    const personalized = this.props.otherPrefs["discoverystream.personalization.enabled"];
    const selectedFeed = this.props.otherPrefs[PREF_CONTEXTUAL_CONTENT_SELECTED_FEED];
    const sectionsEnabled = this.props.otherPrefs[PREF_SECTIONS_ENABLED];
    const TBRFeeds = this.props.otherPrefs[PREF_CONTEXTUAL_CONTENT_FEEDS].split(",").map(s => s.trim()).filter(item => item);

    // Prefs for IAB Banners
    const mediumRectangleEnabled = this.props.otherPrefs[PREF_AD_SIZE_MEDIUM_RECTANGLE];
    const billboardsEnabled = this.props.otherPrefs[PREF_AD_SIZE_BILLBOARD];
    const leaderboardEnabled = this.props.otherPrefs[PREF_AD_SIZE_LEADERBOARD];
    const spocPlacements = this.props.otherPrefs[PREF_SPOC_PLACEMENTS];
    const mediumRectangleEnabledPressed = mediumRectangleEnabled && spocPlacements.includes("newtab_rectangle");
    const billboardPressed = billboardsEnabled && spocPlacements.includes("newtab_billboard");
    const leaderboardPressed = leaderboardEnabled && spocPlacements.includes("newtab_leaderboard");
    return /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.restorePrefDefaults
    }, "Restore Pref Defaults"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.refreshCache
    }, "Refresh Cache"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.expireCache
    }, "Expire Cache"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.systemTick
    }, "Trigger System Tick"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.idleDaily
    }, "Trigger Idle Daily"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.refreshInferredPersonalization
    }, "Refresh Inferred Personalization"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.syncRemoteSettings
    }, "Sync Remote Settings"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.refreshTopicSelectionCache
    }, "Refresh Topic selection count"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.showPlaceholder
    }, "Show Placeholder Cards"), " ", /*#__PURE__*/external_React_default().createElement("select", {
      className: "button",
      onChange: this.toggleTBRFeed,
      value: selectedFeed
    }, TBRFeeds.map(feed => /*#__PURE__*/external_React_default().createElement("option", {
      key: feed,
      value: feed
    }, feed))), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "sections-toggle",
      pressed: sectionsEnabled || null,
      onToggle: this.handleSectionsToggle,
      label: "Toggle DS Sections"
    })), /*#__PURE__*/external_React_default().createElement("details", {
      className: "details-section"
    }, /*#__PURE__*/external_React_default().createElement("summary", null, "IAB Banner Ad Sizes"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "newtab_leaderboard",
      pressed: leaderboardPressed || null,
      onToggle: this.toggleIABBanners,
      label: "Enable IAB Leaderboard"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "newtab_billboard",
      pressed: billboardPressed || null,
      onToggle: this.toggleIABBanners,
      label: "Enable IAB Billboard"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "newtab_rectangle",
      pressed: mediumRectangleEnabledPressed || null,
      onToggle: this.toggleIABBanners,
      label: "Enable IAB Medium Rectangle (MREC)"
    }))), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, prefToggles.map(pref => /*#__PURE__*/external_React_default().createElement(Row, {
      key: pref
    }, /*#__PURE__*/external_React_default().createElement("td", null, /*#__PURE__*/external_React_default().createElement(TogglePrefCheckbox, {
      checked: config[pref],
      pref: pref,
      onChange: this.setConfigValue
    })))))), /*#__PURE__*/external_React_default().createElement("h3", null, "Layout"), layout.map((row, rowIndex) => /*#__PURE__*/external_React_default().createElement("div", {
      key: `row-${rowIndex}`
    }, row.components.map((component, componentIndex) => /*#__PURE__*/external_React_default().createElement("div", {
      key: `component-${componentIndex}`,
      className: "ds-component"
    }, this.renderComponent(row.width, component))))), /*#__PURE__*/external_React_default().createElement("h3", null, "Personalization"), /*#__PURE__*/external_React_default().createElement(Personalization, {
      personalized: personalized,
      dispatch: this.props.dispatch,
      state: {
        Personalization: this.props.state.Personalization
      }
    }), /*#__PURE__*/external_React_default().createElement("h3", null, "Spocs"), this.renderSpocs(), /*#__PURE__*/external_React_default().createElement("h3", null, "Feeds Data"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "large-data-container"
    }, this.renderFeedsData()), /*#__PURE__*/external_React_default().createElement("h3", null, "Impressions Data"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "large-data-container"
    }, this.renderImpressionsData()), /*#__PURE__*/external_React_default().createElement("h3", null, "Blocked Data"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "large-data-container"
    }, this.renderBlocksData()), /*#__PURE__*/external_React_default().createElement("h3", null, "Weather Data"), this.renderWeatherData(), /*#__PURE__*/external_React_default().createElement("h3", null, "Personalization Data"), this.renderPersonalizationData());
  }
}
class DiscoveryStreamAdminInner extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.setState = this.setState.bind(this);
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: `discoverystream-admin ${this.props.collapsed ? "collapsed" : "expanded"}`
    }, /*#__PURE__*/external_React_default().createElement("main", {
      className: "main-panel"
    }, /*#__PURE__*/external_React_default().createElement("h1", null, "Discovery Stream Admin"), /*#__PURE__*/external_React_default().createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/external_React_default().createElement("span", null, "Need to access the ASRouter Admin dev tools?", " ", /*#__PURE__*/external_React_default().createElement("a", {
      target: "blank",
      href: "about:asrouter"
    }, "Click here"))), /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement(DiscoveryStreamAdminUI, {
      state: {
        DiscoveryStream: this.props.DiscoveryStream,
        Personalization: this.props.Personalization,
        Weather: this.props.Weather,
        InferredPersonalization: this.props.InferredPersonalization
      },
      otherPrefs: this.props.Prefs.values,
      dispatch: this.props.dispatch
    }))));
  }
}
class CollapseToggle extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onCollapseToggle = this.onCollapseToggle.bind(this);
    this.state = {
      collapsed: false
    };
  }
  get renderAdmin() {
    const {
      props
    } = this;
    return props.location.hash && props.location.hash.startsWith("#devtools");
  }
  onCollapseToggle(e) {
    e.preventDefault();
    this.setState(state => ({
      collapsed: !state.collapsed
    }));
  }
  setBodyClass() {
    if (this.renderAdmin && !this.state.collapsed) {
      globalThis.document.body.classList.add("no-scroll");
    } else {
      globalThis.document.body.classList.remove("no-scroll");
    }
  }
  componentDidMount() {
    this.setBodyClass();
  }
  componentDidUpdate() {
    this.setBodyClass();
  }
  componentWillUnmount() {
    globalThis.document.body.classList.remove("no-scroll");
  }
  render() {
    const {
      props
    } = this;
    const {
      renderAdmin
    } = this;
    const isCollapsed = this.state.collapsed || !renderAdmin;
    const label = `${isCollapsed ? "Expand" : "Collapse"} devtools`;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("a", {
      href: "#devtools",
      title: label,
      "aria-label": label,
      className: `discoverystream-admin-toggle ${isCollapsed ? "collapsed" : "expanded"}`,
      onClick: this.renderAdmin ? this.onCollapseToggle : null
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-devtools"
    })), renderAdmin ? /*#__PURE__*/external_React_default().createElement(DiscoveryStreamAdminInner, _extends({}, props, {
      collapsed: this.state.collapsed
    })) : null);
  }
}
const _DiscoveryStreamAdmin = props => /*#__PURE__*/external_React_default().createElement(SimpleHashRouter, null, /*#__PURE__*/external_React_default().createElement(CollapseToggle, props));
const DiscoveryStreamAdmin = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Personalization: state.Personalization,
  InferredPersonalization: state.InferredPersonalization,
  Prefs: state.Prefs,
  Weather: state.Weather
}))(_DiscoveryStreamAdmin);
;// CONCATENATED MODULE: ./content-src/components/ConfirmDialog/ConfirmDialog.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





/**
 * ConfirmDialog component.
 * One primary action button, one cancel button.
 *
 * Content displayed is controlled by `data` prop the component receives.
 * Example:
 * data: {
 *   // Any sort of data needed to be passed around by actions.
 *   payload: site.url,
 *   // Primary button AlsoToMain action.
 *   action: "DELETE_HISTORY_URL",
 *   // Primary button USerEvent action.
 *   userEvent: "DELETE",
 *   // Array of locale ids to display.
 *   message_body: ["confirm_history_delete_p1", "confirm_history_delete_notice_p2"],
 *   // Text for primary button.
 *   confirm_button_string_id: "menu_action_delete"
 * },
 */
class _ConfirmDialog extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this._handleCancelBtn = this._handleCancelBtn.bind(this);
    this._handleConfirmBtn = this._handleConfirmBtn.bind(this);
  }
  _handleCancelBtn() {
    this.props.dispatch({
      type: actionTypes.DIALOG_CANCEL
    });
    this.props.dispatch(actionCreators.UserEvent({
      event: actionTypes.DIALOG_CANCEL,
      source: this.props.data.eventSource
    }));
  }
  _handleConfirmBtn() {
    this.props.data.onConfirm.forEach(this.props.dispatch);
  }
  _renderModalMessage() {
    const message_body = this.props.data.body_string_id;
    if (!message_body) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement("span", null, message_body.map(msg => /*#__PURE__*/external_React_default().createElement("p", {
      key: msg,
      "data-l10n-id": msg
    })));
  }
  render() {
    if (!this.props.visible) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "confirmation-dialog"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "modal-overlay",
      onClick: this._handleCancelBtn,
      role: "presentation"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "modal"
    }, /*#__PURE__*/external_React_default().createElement("section", {
      className: "modal-message"
    }, this.props.data.icon && /*#__PURE__*/external_React_default().createElement("span", {
      className: `icon icon-spacer icon-${this.props.data.icon}`
    }), this._renderModalMessage()), /*#__PURE__*/external_React_default().createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      onClick: this._handleCancelBtn,
      "data-l10n-id": this.props.data.cancel_button_string_id
    }), /*#__PURE__*/external_React_default().createElement("button", {
      className: "done",
      onClick: this._handleConfirmBtn,
      "data-l10n-id": this.props.data.confirm_button_string_id,
      "data-l10n-args": JSON.stringify(this.props.data.confirm_button_string_args)
    }))));
  }
}
const ConfirmDialog = (0,external_ReactRedux_namespaceObject.connect)(state => state.Dialog)(_ConfirmDialog);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSImage/DSImage.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const PLACEHOLDER_IMAGE_DATA_ARRAY = [{
  rotation: "0deg",
  offsetx: "20px",
  offsety: "8px",
  scale: "45%"
}, {
  rotation: "54deg",
  offsetx: "-26px",
  offsety: "62px",
  scale: "55%"
}, {
  rotation: "-30deg",
  offsetx: "78px",
  offsety: "30px",
  scale: "68%"
}, {
  rotation: "-22deg",
  offsetx: "0",
  offsety: "92px",
  scale: "60%"
}, {
  rotation: "-65deg",
  offsetx: "66px",
  offsety: "28px",
  scale: "60%"
}, {
  rotation: "22deg",
  offsetx: "-35px",
  offsety: "62px",
  scale: "52%"
}, {
  rotation: "-25deg",
  offsetx: "86px",
  offsety: "-15px",
  scale: "68%"
}];
const PLACEHOLDER_IMAGE_COLORS_ARRAY = "#0090ED #FF4F5F #2AC3A2 #FF7139 #A172FF #FFA437 #FF2A8A".split(" ");
function generateIndex({
  keyCode,
  max
}) {
  if (!keyCode) {
    // Just grab a random index if we cannot generate an index from a key.
    return Math.floor(Math.random() * max);
  }
  const hashStr = str => {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
      let charCode = str.charCodeAt(i);
      hash += charCode;
    }
    return hash;
  };
  const hash = hashStr(keyCode);
  return hash % max;
}
function PlaceholderImage({
  urlKey,
  titleKey
}) {
  const dataIndex = generateIndex({
    keyCode: urlKey,
    max: PLACEHOLDER_IMAGE_DATA_ARRAY.length
  });
  const colorIndex = generateIndex({
    keyCode: titleKey,
    max: PLACEHOLDER_IMAGE_COLORS_ARRAY.length
  });
  const {
    rotation,
    offsetx,
    offsety,
    scale
  } = PLACEHOLDER_IMAGE_DATA_ARRAY[dataIndex];
  const color = PLACEHOLDER_IMAGE_COLORS_ARRAY[colorIndex];
  const style = {
    "--placeholderBackgroundColor": color,
    "--placeholderBackgroundRotation": rotation,
    "--placeholderBackgroundOffsetx": offsetx,
    "--placeholderBackgroundOffsety": offsety,
    "--placeholderBackgroundScale": scale
  };
  return /*#__PURE__*/external_React_default().createElement("div", {
    style: style,
    className: "placeholder-image"
  });
}
class DSImage extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onOptimizedImageError = this.onOptimizedImageError.bind(this);
    this.onNonOptimizedImageError = this.onNonOptimizedImageError.bind(this);
    this.onLoad = this.onLoad.bind(this);
    this.state = {
      isLoaded: false,
      optimizedImageFailed: false,
      useTransition: false
    };
  }
  onIdleCallback() {
    if (!this.state.isLoaded) {
      this.setState({
        useTransition: true
      });
    }
  }

  // Wraps the image url with the Pocket proxy to both resize and crop the image.
  reformatImageURL(url, width, height) {
    const smart = this.props.smartCrop ? "smart/" : "";
    // Change the image URL to request a size tailored for the parent container width
    // Also: force JPEG, quality 60, no upscaling, no EXIF data
    // Uses Thumbor: https://thumbor.readthedocs.io/en/latest/usage.html
    const formattedUrl = `https://img-getpocket.cdn.mozilla.net/${width}x${height}/${smart}filters:format(jpeg):quality(60):no_upscale():strip_exif()/${encodeURIComponent(url)}`;
    return this.secureImageURL(formattedUrl);
  }

  // Wraps the image URL with the moz-cached-ohttp:// protocol.
  // This enables Firefox to load resources over Oblivious HTTP (OHTTP),
  // providing privacy-preserving resource loading.
  // Applied only when inferred personalization is enabled.
  // See: https://firefox-source-docs.mozilla.org/browser/components/mozcachedohttp/docs/index.html
  secureImageURL(url) {
    if (!this.props.secureImage) {
      return url;
    }
    return `moz-cached-ohttp://newtab-image/?url=${encodeURIComponent(url)}`;
  }
  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));
  }
  componentWillUnmount() {
    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }
  render() {
    let classNames = `ds-image
      ${this.props.extraClassNames ? ` ${this.props.extraClassNames}` : ``}
      ${this.state && this.state.useTransition ? ` use-transition` : ``}
      ${this.state && this.state.isLoaded ? ` loaded` : ``}
    `;
    let img;
    if (this.state) {
      if (this.props.optimize && this.props.rawSource && !this.state.optimizedImageFailed) {
        const baseSource = this.props.rawSource;

        // We don't care about securing this.props.source, as this exclusivly
        // comes from an older service that is not personalized.
        // This can also return a non secure url if this functionality is not enabled.
        const securedSource = this.secureImageURL(baseSource);
        let sizeRules = [];
        let srcSetRules = [];
        for (let rule of this.props.sizes) {
          let {
            mediaMatcher,
            width,
            height
          } = rule;
          let sizeRule = `${mediaMatcher} ${width}px`;
          sizeRules.push(sizeRule);
          let srcSetRule = `${this.reformatImageURL(baseSource, width, height)} ${width}w`;
          let srcSetRule2x = `${this.reformatImageURL(baseSource, width * 2, height * 2)} ${width * 2}w`;
          srcSetRules.push(srcSetRule);
          srcSetRules.push(srcSetRule2x);
        }
        if (this.props.sizes.length) {
          // We have to supply a fallback in the very unlikely event that none of
          // the media queries match. The smallest dimension was chosen arbitrarily.
          sizeRules.push(`${this.props.sizes[this.props.sizes.length - 1].width}px`);
        }
        img = /*#__PURE__*/external_React_default().createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onOptimizedImageError,
          sizes: sizeRules.join(","),
          src: securedSource,
          srcSet: srcSetRules.join(",")
        });
      } else if (this.props.source && !this.state.nonOptimizedImageFailed) {
        img = /*#__PURE__*/external_React_default().createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onNonOptimizedImageError,
          src: this.props.source
        });
      } else {
        // We consider a failed to load img or source without an image as loaded.
        classNames = `${classNames} loaded`;
        // Remove the img element if we have no source. Render a placeholder instead.
        // This only happens for recent saves without a source.
        if (this.props.isRecentSave && !this.props.rawSource && !this.props.source) {
          img = /*#__PURE__*/external_React_default().createElement(PlaceholderImage, {
            urlKey: this.props.url,
            titleKey: this.props.title
          });
        } else {
          img = /*#__PURE__*/external_React_default().createElement("div", {
            className: "broken-image"
          });
        }
      }
    }
    return /*#__PURE__*/external_React_default().createElement("picture", {
      className: classNames
    }, img);
  }
  onOptimizedImageError() {
    // This will trigger a re-render and the unoptimized 450px image will be used as a fallback
    this.setState({
      optimizedImageFailed: true
    });
  }
  onNonOptimizedImageError() {
    this.setState({
      nonOptimizedImageFailed: true
    });
  }
  onLoad() {
    this.setState({
      isLoaded: true
    });
  }
}
DSImage.defaultProps = {
  source: null,
  // The current source style from Pocket API (always 450px)
  rawSource: null,
  // Unadulterated image URL to filter through Thumbor
  extraClassNames: null,
  // Additional classnames to append to component
  optimize: true,
  // Measure parent container to request exact sizes
  alt_text: null,
  windowObj: window,
  // Added to support unit tests
  sizes: []
};
;// CONCATENATED MODULE: ./content-src/components/ContextMenu/ContextMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class ContextMenu extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.hideContext = this.hideContext.bind(this);
    this.onShow = this.onShow.bind(this);
    this.onClick = this.onClick.bind(this);
  }
  hideContext() {
    this.props.onUpdate(false);
  }
  onShow() {
    if (this.props.onShow) {
      this.props.onShow();
    }
  }
  componentDidMount() {
    this.onShow();
    setTimeout(() => {
      globalThis.addEventListener("click", this.hideContext);
    }, 0);
  }
  componentWillUnmount() {
    globalThis.removeEventListener("click", this.hideContext);
  }
  onClick(event) {
    // Eat all clicks on the context menu so they don't bubble up to window.
    // This prevents the context menu from closing when clicking disabled items
    // or the separators.
    event.stopPropagation();
  }
  render() {
    // Disabling focus on the menu span allows the first tab to focus on the first menu item instead of the wrapper.
    return (
      /*#__PURE__*/
      // eslint-disable-next-line jsx-a11y/interactive-supports-focus
      external_React_default().createElement("span", {
        className: "context-menu"
      }, /*#__PURE__*/external_React_default().createElement("ul", {
        role: "menu",
        onClick: this.onClick,
        onKeyDown: this.onClick,
        className: "context-menu-list"
      }, this.props.options.map((option, i) => option.type === "separator" ? /*#__PURE__*/external_React_default().createElement("li", {
        key: i,
        className: "separator",
        role: "separator"
      }) : option.type !== "empty" && /*#__PURE__*/external_React_default().createElement(ContextMenuItem, {
        key: i,
        option: option,
        hideContext: this.hideContext,
        keyboardAccess: this.props.keyboardAccess
      }))))
    );
  }
}
class _ContextMenuItem extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onKeyUp = this.onKeyUp.bind(this);
    this.focusFirst = this.focusFirst.bind(this);
  }
  onClick(event) {
    this.props.hideContext();
    this.props.option.onClick(event);
  }

  // Focus the first menu item if the menu was accessed via the keyboard.
  focusFirst(button) {
    if (this.props.keyboardAccess && button) {
      button.focus();
    }
  }

  // This selects the correct node based on the key pressed
  focusSibling(target, key) {
    const {
      parentNode
    } = target;
    const closestSiblingSelector = key === "ArrowUp" ? "previousSibling" : "nextSibling";
    if (!parentNode[closestSiblingSelector]) {
      return;
    }
    if (parentNode[closestSiblingSelector].firstElementChild) {
      parentNode[closestSiblingSelector].firstElementChild.focus();
    } else {
      parentNode[closestSiblingSelector][closestSiblingSelector].firstElementChild.focus();
    }
  }
  onKeyDown(event) {
    const {
      option
    } = this.props;
    switch (event.key) {
      case "Tab":
        // tab goes down in context menu, shift + tab goes up in context menu
        // if we're on the last item, one more tab will close the context menu
        // similarly, if we're on the first item, one more shift + tab will close it
        if (event.shiftKey && option.first || !event.shiftKey && option.last) {
          this.props.hideContext();
        }
        break;
      case "ArrowUp":
      case "ArrowDown":
        event.preventDefault();
        this.focusSibling(event.target, event.key);
        break;
      case "Enter":
      case " ":
        event.preventDefault();
        this.props.hideContext();
        option.onClick();
        break;
      case "Escape":
        this.props.hideContext();
        break;
    }
  }

  // Prevents the default behavior of spacebar
  // scrolling the page & auto-triggering buttons.
  onKeyUp(event) {
    if (event.key === " ") {
      event.preventDefault();
    }
  }
  render() {
    const {
      option
    } = this.props;
    const className = [option.disabled ? "disabled" : ""].join(" ");
    return /*#__PURE__*/external_React_default().createElement("li", {
      role: "presentation",
      className: "context-menu-item"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      role: "menuitem",
      className: className,
      onClick: this.onClick,
      onKeyDown: this.onKeyDown,
      onKeyUp: this.onKeyUp,
      ref: option.first ? this.focusFirst : null,
      "aria-haspopup": option.id === "newtab-menu-edit-topsites" ? "dialog" : null
    }, /*#__PURE__*/external_React_default().createElement("span", {
      "data-l10n-id": option.string_id || option.id
    })));
  }
}
const ContextMenuItem = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_ContextMenuItem);
;// CONCATENATED MODULE: ./content-src/lib/link-menu-options.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



const _OpenInPrivateWindow = site => ({
  id: "newtab-menu-open-new-private-window",
  icon: "new-window-private",
  action: actionCreators.OnlyToMain({
    type: actionTypes.OPEN_PRIVATE_WINDOW,
    data: {
      url: site.url,
      referrer: site.referrer,
      event_source: "CONTEXT_MENU",
    },
  }),
  userEvent: "OPEN_PRIVATE_WINDOW",
});

/**
 * List of functions that return items that can be included as menu options in a
 * LinkMenu. All functions take the site as the first parameter, and optionally
 * the index of the site.
 */
const LinkMenuOptions = {
  Separator: () => ({ type: "separator" }),
  EmptyItem: () => ({ type: "empty" }),
  ShowPrivacyInfo: () => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: {
      type: actionTypes.SHOW_PRIVACY_INFO,
    },
    userEvent: "SHOW_PRIVACY_INFO",
  }),
  AboutSponsored: site => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: actionCreators.AlsoToMain({
      type: actionTypes.ABOUT_SPONSORED_TOP_SITES,
      data: {
        advertiser_name: (site.label || site.hostname).toLocaleLowerCase(),
        position: site.sponsored_position,
        tile_id: site.sponsored_tile_id,
        block_key: site.block_key,
      },
    }),
    userEvent: "TOPSITE_SPONSOR_INFO",
  }),
  RemoveBookmark: site => ({
    id: "newtab-menu-remove-bookmark",
    icon: "bookmark-added",
    action: actionCreators.AlsoToMain({
      type: actionTypes.DELETE_BOOKMARK_BY_ID,
      data: site.bookmarkGuid,
    }),
    userEvent: "BOOKMARK_DELETE",
  }),
  AddBookmark: site => ({
    id: "newtab-menu-bookmark",
    icon: "bookmark-hollow",
    action: actionCreators.AlsoToMain({
      type: actionTypes.BOOKMARK_URL,
      data: { url: site.url, title: site.title, type: site.type },
    }),
    userEvent: "BOOKMARK_ADD",
  }),
  OpenInNewWindow: site => ({
    id: "newtab-menu-open-new-window",
    icon: "new-window",
    action: actionCreators.AlsoToMain({
      type: actionTypes.OPEN_NEW_WINDOW,
      data: {
        card_type: site.card_type,
        referrer: site.referrer,
        typedBonus: site.typedBonus,
        url: site.url,
        is_sponsored: !!site.sponsored_tile_id,
        event_source: "CONTEXT_MENU",
        topic: site.topic,
        firstVisibleTimestamp: site.firstVisibleTimestamp,
        tile_id: site.tile_id,
        recommendation_id: site.recommendation_id,
        scheduled_corpus_item_id: site.scheduled_corpus_item_id,
        corpus_item_id: site.corpus_item_id,
        received_rank: site.received_rank,
        recommended_at: site.recommended_at,
        format: site.format,
        ...(site.flight_id ? { flight_id: site.flight_id } : {}),
        is_pocket_card: site.type === "CardGrid",
        is_list_card: site.is_list_card,
        ...(site.section
          ? {
              section: site.section,
              section_position: site.section_position,
              is_section_followed: site.is_section_followed,
            }
          : {}),
      },
    }),
    userEvent: "OPEN_NEW_WINDOW",
  }),

  // This blocks the url for regular stories,
  // but also sends a message to DiscoveryStream with flight_id.
  // If DiscoveryStream sees this message for a flight_id
  // it also blocks it on the flight_id.
  BlockUrl: (site, index, eventSource) => {
    return LinkMenuOptions.BlockUrls([site], index, eventSource);
  },
  // Same as BlockUrl, except can work on an array of sites.
  BlockUrls: (tiles, pos, eventSource) => ({
    id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: actionCreators.AlsoToMain({
      type: actionTypes.BLOCK_URL,
      source: eventSource,
      data: tiles.map(site => ({
        url: site.original_url || site.open_url || site.url,
        // pocket_id is only for pocket stories being in highlights, and then dismissed.
        pocket_id: site.pocket_id,
        tile_id: site.tile_id,
        ...(site.block_key ? { block_key: site.block_key } : {}),
        recommendation_id: site.recommendation_id,
        scheduled_corpus_item_id: site.scheduled_corpus_item_id,
        corpus_item_id: site.corpus_item_id,
        received_rank: site.received_rank,
        recommended_at: site.recommended_at,
        // used by PlacesFeed and TopSitesFeed for sponsored top sites blocking.
        isSponsoredTopSite: site.sponsored_position,
        type: site.type,
        card_type: site.card_type,
        ...(site.shim && site.shim.delete ? { shim: site.shim.delete } : {}),
        ...(site.flight_id ? { flight_id: site.flight_id } : {}),
        // If not sponsored, hostname could be anything (Cat3 Data!).
        // So only put in advertiser_name for sponsored topsites.
        ...(site.sponsored_position
          ? {
              advertiser_name: (
                site.label || site.hostname
              )?.toLocaleLowerCase(),
            }
          : {}),
        position: pos,
        ...(site.sponsored_tile_id ? { tile_id: site.sponsored_tile_id } : {}),
        is_pocket_card: site.type === "CardGrid",
        is_list_card: site.is_list_card,
        ...(site.format ? { format: site.format } : {}),
        ...(site.section
          ? {
              section: site.section,
              section_position: site.section_position,
              is_section_followed: site.is_section_followed,
            }
          : {}),
      })),
    }),
    impression: actionCreators.ImpressionStats({
      source: eventSource,
      block: 0,
      tiles: tiles.map((site, index) => ({
        id: site.guid,
        pos: pos + index,
        ...(site.shim && site.shim.delete ? { shim: site.shim.delete } : {}),
      })),
    }),
    userEvent: "BLOCK",
  }),

  // This is the "Dismiss" action for leaderboard/billboard ads.
  BlockAdUrl: (site, pos, eventSource) => ({
    id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: actionCreators.AlsoToMain({
      type: actionTypes.BLOCK_URL,
      data: [site],
    }),
    impression: actionCreators.ImpressionStats({
      source: eventSource,
      block: 0,
      tiles: [
        {
          id: site.guid,
          pos,
          ...(site.shim && site.shim.save ? { shim: site.shim.save } : {}),
        },
      ],
    }),
    userEvent: "BLOCK",
  }),

  // This is an option for web extentions which will result in remove items from
  // memory and notify the web extenion, rather than using the built-in block list.
  WebExtDismiss: (site, index, eventSource) => ({
    id: "menu_action_webext_dismiss",
    string_id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: actionCreators.WebExtEvent(actionTypes.WEBEXT_DISMISS, {
      source: eventSource,
      url: site.url,
      action_position: index,
    }),
  }),
  DeleteUrl: (site, index, eventSource, isEnabled, siteInfo) => ({
    id: "newtab-menu-delete-history",
    icon: "delete",
    action: {
      type: actionTypes.DIALOG_OPEN,
      data: {
        onConfirm: [
          actionCreators.AlsoToMain({
            type: actionTypes.DELETE_HISTORY_URL,
            data: {
              url: site.url,
              pocket_id: site.pocket_id,
              forceBlock: site.bookmarkGuid,
            },
          }),
          actionCreators.UserEvent(
            Object.assign(
              { event: "DELETE", source: eventSource, action_position: index },
              siteInfo
            )
          ),
          // Also broadcast that this url has been deleted so that
          // the confirmation dialog knows it needs to disappear now.
          actionCreators.AlsoToMain({
            type: actionTypes.DIALOG_CLOSE,
          }),
        ],
        eventSource,
        body_string_id: [
          "newtab-confirm-delete-history-p1",
          "newtab-confirm-delete-history-p2",
        ],
        confirm_button_string_id: "newtab-topsites-delete-history-button",
        cancel_button_string_id: "newtab-topsites-cancel-button",
        icon: "modal-delete",
      },
    },
    userEvent: "DIALOG_OPEN",
  }),
  ShowFile: site => ({
    id: "newtab-menu-show-file",
    icon: "search",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SHOW_DOWNLOAD_FILE,
      data: { url: site.url },
    }),
  }),
  OpenFile: site => ({
    id: "newtab-menu-open-file",
    icon: "open-file",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_DOWNLOAD_FILE,
      data: { url: site.url },
    }),
  }),
  CopyDownloadLink: site => ({
    id: "newtab-menu-copy-download-link",
    icon: "copy",
    action: actionCreators.OnlyToMain({
      type: actionTypes.COPY_DOWNLOAD_LINK,
      data: { url: site.url },
    }),
  }),
  GoToDownloadPage: site => ({
    id: "newtab-menu-go-to-download-page",
    icon: "download",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.referrer },
    }),
    disabled: !site.referrer,
  }),
  RemoveDownload: site => ({
    id: "newtab-menu-remove-download",
    icon: "delete",
    action: actionCreators.OnlyToMain({
      type: actionTypes.REMOVE_DOWNLOAD_FILE,
      data: { url: site.url },
    }),
  }),
  PinTopSite: (site, index) => ({
    id: "newtab-menu-pin",
    icon: "pin",
    action: actionCreators.AlsoToMain({
      type: actionTypes.TOP_SITES_PIN,
      data: {
        site,
        index,
      },
    }),
    userEvent: "PIN",
  }),
  UnpinTopSite: site => ({
    id: "newtab-menu-unpin",
    icon: "unpin",
    action: actionCreators.AlsoToMain({
      type: actionTypes.TOP_SITES_UNPIN,
      data: { site: { url: site.url } },
    }),
    userEvent: "UNPIN",
  }),
  EditTopSite: (site, index) => ({
    id: "newtab-menu-edit-topsites",
    icon: "edit",
    action: {
      type: actionTypes.TOP_SITES_EDIT,
      data: { index },
    },
  }),
  CheckBookmark: site =>
    site.bookmarkGuid
      ? LinkMenuOptions.RemoveBookmark(site)
      : LinkMenuOptions.AddBookmark(site),
  CheckPinTopSite: (site, index) =>
    site.isPinned
      ? LinkMenuOptions.UnpinTopSite(site)
      : LinkMenuOptions.PinTopSite(site, index),
  OpenInPrivateWindow: (site, index, eventSource, isEnabled) =>
    isEnabled ? _OpenInPrivateWindow(site) : LinkMenuOptions.EmptyItem(),
  ChangeWeatherLocation: () => ({
    id: "newtab-weather-menu-change-location",
    action: actionCreators.BroadcastToContent({
      type: actionTypes.WEATHER_SEARCH_ACTIVE,
      data: true,
    }),
  }),
  ChangeWeatherDisplaySimple: () => ({
    id: "newtab-weather-menu-change-weather-display-simple",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.display",
        value: "simple",
      },
    }),
  }),
  ChangeWeatherDisplayDetailed: () => ({
    id: "newtab-weather-menu-change-weather-display-detailed",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.display",
        value: "detailed",
      },
    }),
  }),
  ChangeTempUnitFahrenheit: () => ({
    id: "newtab-weather-menu-change-temperature-units-fahrenheit",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.temperatureUnits",
        value: "f",
      },
    }),
  }),
  ChangeTempUnitCelsius: () => ({
    id: "newtab-weather-menu-change-temperature-units-celsius",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.temperatureUnits",
        value: "c",
      },
    }),
  }),
  HideWeather: () => ({
    id: "newtab-weather-menu-hide-weather",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "showWeather",
        value: false,
      },
    }),
  }),
  OpenLearnMoreURL: site => ({
    id: "newtab-weather-menu-learn-more",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.url },
    }),
  }),
  FakespotDismiss: () => ({
    id: "newtab-menu-dismiss",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "discoverystream.contextualContent.fakespot.enabled",
        value: false,
      },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.FAKESPOT_DISMISS,
    }),
  }),
  AboutFakespot: site => ({
    id: "newtab-menu-about-fakespot",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.url },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_ABOUT_FAKESPOT,
    }),
  }),
  SectionBlock: ({
    sectionPersonalization,
    sectionKey,
    sectionPosition,
    title,
  }) => ({
    id: "newtab-menu-section-block",
    icon: "delete",
    action: {
      // Open the confirmation dialog to block a section.
      type: actionTypes.DIALOG_OPEN,
      data: {
        onConfirm: [
          // Once the user confirmed their intention to block this section,
          // update their preferences.
          actionCreators.AlsoToMain({
            type: actionTypes.SECTION_PERSONALIZATION_SET,
            data: {
              ...sectionPersonalization,
              [sectionKey]: {
                isBlocked: true,
                isFollowed: false,
              },
            },
          }),
          // Telemetry
          actionCreators.OnlyToMain({
            type: actionTypes.BLOCK_SECTION,
            data: {
              section: sectionKey,
              section_position: sectionPosition,
              event_source: "CONTEXT_MENU",
            },
          }),
          // Also broadcast that this section has been blocked so that
          // the confirmation dialog knows it needs to disappear now.
          actionCreators.AlsoToMain({
            type: actionTypes.DIALOG_CLOSE,
          }),
        ],
        // Pass Fluent strings to ConfirmDialog component for the copy
        // of the prompt to block sections.
        body_string_id: [
          "newtab-section-confirm-block-topic-p1",
          "newtab-section-confirm-block-topic-p2",
        ],
        confirm_button_string_id: "newtab-section-block-topic-button",
        confirm_button_string_args: { topic: title },
        cancel_button_string_id: "newtab-section-cancel-button",
      },
    },
    userEvent: "DIALOG_OPEN",
  }),
  SectionUnfollow: ({
    sectionPersonalization,
    sectionKey,
    sectionPosition,
  }) => ({
    id: "newtab-menu-section-unfollow",
    action: actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: (({ [sectionKey]: _sectionKey, ...remaining }) => remaining)(
        sectionPersonalization
      ),
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.UNFOLLOW_SECTION,
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        event_source: "CONTEXT_MENU",
      },
    }),
  }),
  ManageSponsoredContent: () => ({
    id: "newtab-menu-manage-sponsored-content",
    action: actionCreators.OnlyToMain({ type: actionTypes.SETTINGS_OPEN }),
    userEvent: "OPEN_NEWTAB_PREFS",
  }),
  OurSponsorsAndYourPrivacy: () => ({
    id: "newtab-menu-our-sponsors-and-your-privacy",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: {
        url: "https://support.mozilla.org/kb/pocket-sponsored-stories-new-tabs",
      },
    }),
    userEvent: "CLICK_PRIVACY_INFO",
  }),
  ReportAd: site => {
    return {
      id: "newtab-menu-report-this-ad",
      action: actionCreators.AlsoToMain({
        type: actionTypes.REPORT_AD_OPEN,
        data: {
          card_type: site.card_type,
          position: site.position,
          reporting_url: site.shim.report,
          url: site.url,
        },
      }),
    };
  },

  ReportContent: site => {
    return {
      id: "newtab-menu-report",
      action: actionCreators.AlsoToMain({
        type: actionTypes.REPORT_CONTENT_OPEN,
        data: {
          card_type: site.card_type,
          corpus_item_id: site.corpus_item_id,
          scheduled_corpus_item_id: site.scheduled_corpus_item_id,
          section_position: site.section_position,
          section: site.section,
          title: site.title,
          topic: site.topic,
          url: site.url,
        },
      }),
    };
  },
  TrendingSearchLearnMore: site => ({
    id: "newtab-trending-searches-learn-more",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.url },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.TRENDING_SEARCH_LEARN_MORE,
      data: {
        variant: site.variant,
      },
    }),
  }),
  TrendingSearchDismiss: site => ({
    id: "newtab-trending-searches-dismiss",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "trendingSearch.enabled",
        value: false,
      },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.TRENDING_SEARCH_DISMISS,
      data: {
        variant: site.variant,
      },
    }),
  }),
};

;// CONCATENATED MODULE: ./content-src/components/LinkMenu/LinkMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const DEFAULT_SITE_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl"];
class _LinkMenu extends (external_React_default()).PureComponent {
  getOptions() {
    const {
      props
    } = this;
    const {
      site,
      index,
      source,
      isPrivateBrowsingEnabled,
      siteInfo,
      platform,
      dispatch,
      options,
      shouldSendImpressionStats,
      userEvent = actionCreators.UserEvent
    } = props;

    // Handle special case of default site
    const propOptions = site.isDefault && !site.searchTopSite && !site.sponsored_position ? DEFAULT_SITE_MENU_OPTIONS : options;
    const linkMenuOptions = propOptions.map(o => LinkMenuOptions[o](site, index, source, isPrivateBrowsingEnabled, siteInfo, platform)).map(option => {
      const {
        action,
        impression,
        id,
        type,
        userEvent: eventName
      } = option;
      if (!type && id) {
        option.onClick = (event = {}) => {
          const {
            ctrlKey,
            metaKey,
            shiftKey,
            button
          } = event;
          // Only send along event info if there's something non-default to send
          if (ctrlKey || metaKey || shiftKey || button === 1) {
            action.data = Object.assign({
              event: {
                ctrlKey,
                metaKey,
                shiftKey,
                button
              }
            }, action.data);
          }
          dispatch(action);
          if (eventName) {
            let value;
            // Bug 1958135: Pass additional info to ac.OPEN_NEW_WINDOW event
            if (action.type === "OPEN_NEW_WINDOW") {
              const {
                card_type,
                corpus_item_id,
                event_source,
                fetchTimestamp,
                firstVisibleTimestamp,
                format,
                is_list_card,
                is_section_followed,
                received_rank,
                recommendation_id,
                recommended_at,
                scheduled_corpus_item_id,
                section_position,
                section,
                selected_topics,
                tile_id,
                topic
              } = action.data;
              value = {
                card_type,
                corpus_item_id,
                event_source,
                fetchTimestamp,
                firstVisibleTimestamp,
                format,
                is_list_card,
                received_rank,
                recommendation_id,
                recommended_at,
                scheduled_corpus_item_id,
                ...(section ? {
                  is_section_followed,
                  section_position,
                  section
                } : {}),
                selected_topics: selected_topics ? selected_topics : "",
                tile_id,
                topic
              };
            } else {
              value = {
                card_type: site.flight_id ? "spoc" : "organic"
              };
            }
            const userEventData = Object.assign({
              event: eventName,
              source,
              action_position: index,
              value
            }, siteInfo);
            dispatch(userEvent(userEventData));
            if (impression && shouldSendImpressionStats) {
              dispatch(impression);
            }
          }
        };
      }
      return option;
    });

    // This is for accessibility to support making each item tabbable.
    // We want to know which item is the first and which item
    // is the last, so we can close the context menu accordingly.
    linkMenuOptions[0].first = true;
    linkMenuOptions[linkMenuOptions.length - 1].last = true;
    return linkMenuOptions;
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement(ContextMenu, {
      onUpdate: this.props.onUpdate,
      onShow: this.props.onShow,
      options: this.getOptions(),
      keyboardAccess: this.props.keyboardAccess
    });
  }
}
const getState = state => ({
  isPrivateBrowsingEnabled: state.Prefs.values.isPrivateBrowsingEnabled,
  platform: state.Prefs.values.platform
});
const LinkMenu = (0,external_ReactRedux_namespaceObject.connect)(getState)(_LinkMenu);
;// CONCATENATED MODULE: ./content-src/components/ContextMenu/ContextMenuButton.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ContextMenuButton extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false,
      contextMenuKeyboard: false
    };
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onUpdate = this.onUpdate.bind(this);
  }
  openContextMenu(isKeyBoard) {
    if (this.props.onUpdate) {
      this.props.onUpdate(true);
    }
    this.setState({
      showContextMenu: true,
      contextMenuKeyboard: isKeyBoard
    });
  }
  onClick(event) {
    event.preventDefault();
    this.openContextMenu(false, event);
  }
  onKeyDown(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.openContextMenu(true, event);
    }
  }
  onUpdate(showContextMenu) {
    if (this.props.onUpdate) {
      this.props.onUpdate(showContextMenu);
    }
    this.setState({
      showContextMenu
    });
  }
  render() {
    const {
      tooltipArgs,
      tooltip,
      children,
      refFunction
    } = this.props;
    const {
      showContextMenu,
      contextMenuKeyboard
    } = this.state;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("button", {
      "aria-haspopup": "true",
      "data-l10n-id": tooltip,
      "data-l10n-args": tooltipArgs ? JSON.stringify(tooltipArgs) : null,
      className: "context-menu-button icon",
      onKeyDown: this.onKeyDown,
      onClick: this.onClick,
      ref: refFunction,
      tabIndex: this.props.tabIndex || 0,
      onFocus: this.props.onFocus
    }), showContextMenu ? /*#__PURE__*/external_React_default().cloneElement(children, {
      keyboardAccess: contextMenuKeyboard,
      onUpdate: this.onUpdate
    }) : null);
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSLinkMenu/DSLinkMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class _DSLinkMenu extends (external_React_default()).PureComponent {
  render() {
    const {
      index,
      dispatch
    } = this.props;
    let TOP_STORIES_CONTEXT_MENU_OPTIONS;
    const PREF_REPORT_ADS_ENABLED = "discoverystream.reportAds.enabled";
    const prefs = this.props.Prefs.values;
    const showAdsReporting = prefs[PREF_REPORT_ADS_ENABLED];
    const isSpoc = this.props.card_type === "spoc";
    if (isSpoc) {
      TOP_STORIES_CONTEXT_MENU_OPTIONS = ["BlockUrl", ...(showAdsReporting ? ["ReportAd"] : []), "ManageSponsoredContent", "OurSponsorsAndYourPrivacy"];
    } else {
      TOP_STORIES_CONTEXT_MENU_OPTIONS = ["CheckBookmark", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(this.props.section ? ["ReportContent"] : [])];
    }
    const type = this.props.type || "DISCOVERY_STREAM";
    const title = this.props.title || this.props.source;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "context-menu-position-container"
    }, /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.props.onMenuUpdate
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: index,
      source: type.toUpperCase(),
      onShow: this.props.onMenuShow,
      options: TOP_STORIES_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      userEvent: actionCreators.DiscoveryStreamUserEvent,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title: this.props.title,
        type: this.props.type,
        url: this.props.url,
        guid: this.props.id,
        pocket_id: this.props.pocket_id,
        card_type: this.props.card_type,
        shim: this.props.shim,
        bookmarkGuid: this.props.bookmarkGuid,
        flight_id: this.props.flightId,
        tile_id: this.props.tile_id,
        recommendation_id: this.props.recommendation_id,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        firstVisibleTimestamp: this.props.firstVisibleTimestamp,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank,
        topic: this.props.topic,
        is_list_card: this.props.is_list_card,
        position: index,
        ...(this.props.format ? {
          format: this.props.format
        } : {}),
        ...(this.props.section ? {
          section: this.props.section,
          section_position: this.props.section_position,
          is_section_followed: this.props.is_section_followed
        } : {})
      }
    })));
  }
}
const DSLinkMenu = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_DSLinkMenu);
;// CONCATENATED MODULE: ./content-src/lib/utils.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */

const PREF_WEATHER_PLACEMENT = "weather.placement";
const PREF_DAILY_BRIEF_SECTIONID = "discoverystream.dailyBrief.sectionId";
const PREF_DAILY_BRIEF_ENABLED = "discoverystream.dailyBrief.enabled";
const PREF_STORIES_ENABLED = "feeds.section.topstories";
const PREF_SYSTEM_STORIES_ENABLED = "feeds.system.topstories";

/**
 * A custom react hook that sets up an IntersectionObserver to observe a single
 * or list of elements and triggers a callback when the element comes into the viewport
 * Note: The refs used should be an array type
 * @function useIntersectionObserver
 * @param {function} callback - The function to call when an element comes into the viewport
 * @param {Object} options - Options object passed to Intersection Observer:
 * https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/IntersectionObserver#options
 * @param {Boolean} [isSingle = false] Boolean if the elements are an array or single element
 *
 * @returns {React.MutableRefObject} a ref containing an array of elements or single element
 *
 *
 *
 */
function useIntersectionObserver(callback, threshold = 0.3) {
  const elementsRef = (0,external_React_namespaceObject.useRef)([]);
  const triggeredElements = (0,external_React_namespaceObject.useRef)(new WeakSet());
  (0,external_React_namespaceObject.useEffect)(() => {
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !triggeredElements.current.has(entry.target)) {
          triggeredElements.current.add(entry.target);
          callback(entry.target);
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold
    });
    elementsRef.current.forEach(el => {
      if (el && !triggeredElements.current.has(el)) {
        observer.observe(el);
      }
    });

    // Cleanup function to disconnect observer on unmount
    return () => observer.disconnect();
  }, [callback, threshold]);
  return elementsRef;
}

/**
 * Determines the active card size ("small", "medium", or "large") based on the screen width
 * and class names applied to the card element at the time of an event (example: click)
 *
 * @param {number} screenWidth - The current window width (in pixels).
 * @param {string | string[]} classNames - A string or array of class names applied to the sections card.
 * @param {boolean[]} sectionsEnabled - If sections is not enabled, all cards are `medium-card`
 * @param {number} flightId - Error ege case: This function should not be called on spocs, which have flightId
 * @returns {"small-card" | "medium-card" | "large-card" | null} The active card type, or null if none is matched.
 */
function getActiveCardSize(screenWidth, classNames, sectionsEnabled, flightId) {
  // Only applies to sponsored content
  if (flightId) {
    return "spoc";
  }

  // Default layout only supports `medium-card`
  if (!sectionsEnabled) {
    // Missing arguments
    return "medium-card";
  }

  // Return null if no values are available
  if (!screenWidth || !classNames) {
    // Missing arguments
    return null;
  }
  const classList = classNames.split(" ");

  // Each breakpoint corresponds to a minimum screen width and its associated column class
  const breakpoints = [{
    min: 1374,
    column: "col-4"
  },
  // $break-point-sections-variant
  {
    min: 1122,
    column: "col-3"
  },
  // $break-point-widest
  {
    min: 724,
    column: "col-2"
  },
  // $break-point-layout-variant
  {
    min: 0,
    column: "col-1"
  } // (default layout)
  ];
  const cardTypes = ["small", "medium", "large"];

  // Determine which column is active based on the current screen width
  const currColumnCount = breakpoints.find(bp => screenWidth >= bp.min).column;

  // Match the card type for that column count
  for (let type of cardTypes) {
    const className = `${currColumnCount}-${type}`;
    if (classList.includes(className)) {
      // Special case: below $break-point-medium (610px), report `col-1-small` as medium
      if (screenWidth < 610 && currColumnCount === "col-1" && type === "small") {
        return "medium-card";
      }
      // Will be either "small-card", "medium-card", or "large-card"
      return `${type}-card`;
    }
  }
  return null;
}
const CONFETTI_VARS = ["--color-red-40", "--color-yellow-40", "--color-purple-40", "--color-blue-40", "--color-green-40"];

/**
 * Custom hook to animate a confetti burst.
 *
 * @param {number} count   Number of particles
 * @param {number} spread  spread of confetti
 * @returns {[React.RefObject<HTMLCanvasElement>, () => void]}
 */
function useConfetti(count = 80, spread = Math.PI / 3) {
  // avoid errors from about:home cache
  const prefersReducedMotion = typeof window !== "undefined" && typeof window.matchMedia === "function" && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  let colors;
  // if in abouthome cache, getComputedStyle will not be available
  if (typeof getComputedStyle === "function") {
    const styles = getComputedStyle(document.documentElement);
    colors = CONFETTI_VARS.map(variable => styles.getPropertyValue(variable).trim());
  } else {
    colors = ["#fa5e75", "#de9600", "#c671eb", "#3f94ff", "#37b847"];
  }
  const canvasRef = (0,external_React_namespaceObject.useRef)(null);
  const particlesRef = (0,external_React_namespaceObject.useRef)([]);
  const animationFrameRef = (0,external_React_namespaceObject.useRef)(0);

  // initialize/reset pool
  const initializeConfetti = (0,external_React_namespaceObject.useCallback)((width, height) => {
    const centerX = width / 2;
    const centerY = height;
    const pool = particlesRef.current;

    // Create or overwrite each particles initial state
    for (let i = 0; i < count; i++) {
      const angle = Math.PI / 2 + (Math.random() - 0.5) * spread;
      const cos = Math.cos(angle);
      const sin = Math.sin(angle);
      const color = colors[Math.floor(Math.random() * colors.length)];
      pool[i] = {
        x: centerX + (Math.random() - 0.5) * 40,
        y: centerY,
        cos,
        sin,
        velocity: Math.random() * 6 + 6,
        gravity: 0.3,
        decay: 0.96,
        size: 8,
        color,
        life: 0,
        maxLife: 100,
        tilt: Math.random() * Math.PI * 2,
        tiltSpeed: Math.random() * 0.2 + 0.05
      };
    }
  }, [count, spread, colors]);

  // Core animation loop  updates physics & renders each frame
  const animateParticles = (0,external_React_namespaceObject.useCallback)(canvas => {
    const context = canvas.getContext("2d");
    const {
      width,
      height
    } = canvas;
    const pool = particlesRef.current;

    // Clear the entire canvas each frame
    context.clearRect(0, 0, width, height);
    let anyAlive = false;
    for (let particle of pool) {
      if (particle.life < particle.maxLife) {
        anyAlive = true;

        // update each particles physics: position, velocity decay, gravity, tilt, lifespan
        particle.velocity *= particle.decay;
        particle.x += particle.cos * particle.velocity;
        particle.y -= particle.sin * particle.velocity;
        particle.y += particle.gravity;
        particle.tilt += particle.tiltSpeed;
        particle.life += 1;
      }

      // Draw: apply alpha, transform & draw a rotated, scaled square
      const alphaValue = 1 - particle.life / particle.maxLife;
      const scaleY = Math.sin(particle.tilt);
      context.globalAlpha = alphaValue;
      context.setTransform(1, 0, 0, 1, particle.x, particle.y);
      context.rotate(Math.PI / 4);
      context.scale(1, scaleY);
      context.fillStyle = particle.color;
      context.fillRect(-particle.size / 2, -particle.size / 2, particle.size, particle.size);

      // reset each particle
      context.setTransform(1, 0, 0, 1, 0, 0);
      context.globalAlpha = 1;
    }
    if (anyAlive) {
      // continue the animation
      animationFrameRef.current = requestAnimationFrame(() => {
        animateParticles(canvas);
      });
    } else {
      cancelAnimationFrame(animationFrameRef.current);
      context.clearRect(0, 0, width, height);
    }
  }, []);

  // Resets and starts a new confetti animation
  const fireConfetti = (0,external_React_namespaceObject.useCallback)(() => {
    if (prefersReducedMotion) {
      return;
    }
    const canvas = canvasRef?.current;
    if (canvas) {
      cancelAnimationFrame(animationFrameRef.current);
      initializeConfetti(canvas.width, canvas.height);
      animateParticles(canvas);
    }
  }, [initializeConfetti, animateParticles, prefersReducedMotion]);
  return [canvasRef, fireConfetti];
}
function selectWeatherPlacement(state) {
  const prefs = state.Prefs.values || {};

  // Intent: only placed in section if explicitly requested
  const placementPref = prefs.trainhopConfig?.dailyBriefing?.placement || prefs[PREF_WEATHER_PLACEMENT];
  if (placementPref === "header" || !placementPref) {
    return "header";
  }
  const sections = state.DiscoveryStream.feeds.data["https://merino.services.mozilla.com/api/v1/curated-recommendations"]?.data.sections ?? [];
  // check the following prefs to make sure weather is elligible to be placed in sections
  // 1. The daily brieifng section must be availible and in the top position
  // 2. That the daily briefing section has not been blocked
  // 3. That reccomended stories are truned on
  // Otherwise it should be placed in the header
  const pocketEnabled = prefs[PREF_STORIES_ENABLED] && prefs[PREF_SYSTEM_STORIES_ENABLED];
  const sectionPersonalization = state.DiscoveryStream?.sectionPersonalization || {};
  const dailyBriefEnabled = prefs.trainhopConfig?.dailyBriefing?.enabled || prefs[PREF_DAILY_BRIEF_ENABLED];
  const sectionId = prefs.trainhopConfig?.dailyBriefing?.sectionId || prefs[PREF_DAILY_BRIEF_SECTIONID];
  const notBlocked = sectionId && !sectionPersonalization[sectionId]?.isBlocked;
  let filteredSections = sections.filter(section => !sectionPersonalization[section.sectionKey]?.isBlocked);
  const foundSection = filteredSections.find(section => section.sectionKey === sectionId);
  const isTopSection = foundSection?.receivedRank === 0 || filteredSections.indexOf(foundSection) === 0;
  const eligible = pocketEnabled && dailyBriefEnabled && sectionId && notBlocked && isTopSection;
  return eligible ? "section" : "header";
}

;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSitesConstants.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const TOP_SITES_SOURCE = "TOP_SITES";
const TOP_SITES_CONTEXT_MENU_OPTIONS = [
  "CheckPinTopSite",
  "EditTopSite",
  "Separator",
  "OpenInNewWindow",
  "OpenInPrivateWindow",
  "Separator",
  "BlockUrl",
  "DeleteUrl",
];
const TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS = [
  "OpenInNewWindow",
  "OpenInPrivateWindow",
  "Separator",
  "BlockUrl",
  "ShowPrivacyInfo",
];
const TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS = [
  "OpenInNewWindow",
  "OpenInPrivateWindow",
  "Separator",
  "BlockUrl",
  "AboutSponsored",
];
// the special top site for search shortcut experiment can only have the option to unpin (which removes) the topsite
const TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS = [
  "CheckPinTopSite",
  "Separator",
  "BlockUrl",
];
// minimum size necessary to show a rich icon instead of a screenshot
const MIN_RICH_FAVICON_SIZE = 96;
// minimum size necessary to show any icon
const MIN_SMALL_FAVICON_SIZE = 16;

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamImpressionStats/ImpressionStats.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";

// Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test
const INTERSECTION_RATIO = 0.5;

/**
 * Impression wrapper for Discovery Stream related React components.
 *
 * It makes use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 *
 * Note:
 *   * This wrapper used to be used either at the individual card level,
 *     or by the card container components.
 *     It is now only used for individual card level.
 *   * Each impression will be sent only once as soon as the desired
 *     visibility is detected
 *   * Batching is not yet implemented, hence it might send multiple
 *     impression pings separately
 */
class ImpressionStats_ImpressionStats extends (external_React_default()).PureComponent {
  // This checks if the given cards are the same as those in the last impression ping.
  // If so, it should not send the same impression ping again.
  _needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }
    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.impressionCardGuids[i]) {
        return true;
      }
    }
    return false;
  }
  _dispatchImpressionStats() {
    const {
      props
    } = this;
    const {
      isFakespot
    } = props;
    const cards = props.rows;
    if (this.props.flightId) {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.DISCOVERY_STREAM_SPOC_IMPRESSION,
        data: {
          flightId: this.props.flightId
        }
      }));

      // Record sponsored topsites impressions if the source is `TOP_SITES_SOURCE`.
      if (this.props.source === TOP_SITES_SOURCE) {
        for (const card of cards) {
          this.props.dispatch(actionCreators.OnlyToMain({
            type: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
            data: {
              type: "impression",
              tile_id: card.id,
              source: "newtab",
              advertiser: card.advertiser,
              // Keep the 0-based position, can be adjusted by the telemetry
              // sender if necessary.
              position: card.pos
            }
          }));
        }
      }
    }
    if (this._needsImpressionStats(cards)) {
      if (isFakespot) {
        props.dispatch(actionCreators.DiscoveryStreamImpressionStats({
          source: props.source.toUpperCase(),
          window_inner_width: window.innerWidth,
          window_inner_height: window.innerHeight,
          tiles: cards.map(link => ({
            id: link.id,
            type: "fakespot",
            category: link.category
          }))
        }));
      } else {
        props.dispatch(actionCreators.DiscoveryStreamImpressionStats({
          source: props.source.toUpperCase(),
          window_inner_width: window.innerWidth,
          window_inner_height: window.innerHeight,
          tiles: cards.map(link => ({
            id: link.id,
            pos: link.pos,
            type: props.flightId ? "spoc" : "organic",
            ...(link.shim ? {
              shim: link.shim
            } : {}),
            recommendation_id: link.recommendation_id,
            fetchTimestamp: link.fetchTimestamp,
            corpus_item_id: link.corpus_item_id,
            scheduled_corpus_item_id: link.scheduled_corpus_item_id,
            recommended_at: link.recommended_at,
            received_rank: link.received_rank,
            topic: link.topic,
            features: link.features,
            is_list_card: link.is_list_card,
            ...(link.format ? {
              format: link.format
            } : {
              format: getActiveCardSize(window.innerWidth, link.class_names, link.section, link.flightId)
            }),
            ...(link.section ? {
              section: link.section,
              section_position: link.section_position,
              is_section_followed: link.is_section_followed,
              layout_name: link.sectionLayoutName
            } : {})
          })),
          firstVisibleTimestamp: props.firstVisibleTimestamp
        }));
        this.impressionCardGuids = cards.map(link => link.id);
      }
    }
  }

  // This checks if the given cards are the same as those in the last loaded content ping.
  // If so, it should not send the same loaded content ping again.
  _needsLoadedContent(cards) {
    if (!this.loadedContentGuids || this.loadedContentGuids.length !== cards.length) {
      return true;
    }
    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.loadedContentGuids[i]) {
        return true;
      }
    }
    return false;
  }
  _dispatchLoadedContent() {
    const {
      props
    } = this;
    const cards = props.rows;
    if (this._needsLoadedContent(cards)) {
      props.dispatch(actionCreators.DiscoveryStreamLoadedContent({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos
        }))
      }));
      this.loadedContentGuids = cards.map(link => link.id);
    }
  }
  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;
    if (!props.dispatch) {
      return;
    }
    if (props.document.visibilityState === VISIBLE) {
      // Send the loaded content ping once the page is visible.
      this._dispatchLoadedContent();
      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          // Send the loaded content ping once the page is visible.
          this._dispatchLoadedContent();
          this.setImpressionObserver();
          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */
  setImpressionObserver() {
    const {
      props
    } = this;
    if (!props.rows.length) {
      return;
    }
    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();
        this.impressionObserver.unobserve(this.refs.impression);
      }
    };
    const options = {
      threshold: INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.impression);
  }
  componentDidMount() {
    if (this.props.rows.length) {
      this.setImpressionObserverOrAddListener();
    }
  }
  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.impression);
    }
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: "impression",
      className: "impression-observer"
    }, this.props.children);
  }
}
ImpressionStats_ImpressionStats.defaultProps = {
  IntersectionObserver: globalThis.IntersectionObserver,
  document: globalThis.document,
  rows: [],
  source: ""
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/SafeAnchor/SafeAnchor.jsx
function SafeAnchor_extends() { return SafeAnchor_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, SafeAnchor_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class SafeAnchor extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
  }
  onClick(event) {
    // Use dispatch instead of normal link click behavior to include referrer
    if (this.props.dispatch) {
      event.preventDefault();
      const {
        altKey,
        button,
        ctrlKey,
        metaKey,
        shiftKey
      } = event;
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_LINK,
        data: {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          },
          referrer: this.props.referrer || "https://getpocket.com/recommendations",
          // Use the anchor's url, which could have been cleaned up
          url: event.currentTarget.href,
          is_sponsored: this.props.isSponsored
        }
      }));
    }

    // Propagate event if there's a handler
    if (this.props.onLinkClick) {
      this.props.onLinkClick(event);
    }
  }
  safeURI(url) {
    let protocol = null;
    try {
      protocol = new URL(url).protocol;
    } catch (e) {
      return "";
    }
    const isAllowed = ["http:", "https:"].includes(protocol);
    if (!isAllowed) {
      console.warn(`${url} is not allowed for anchor targets.`); // eslint-disable-line no-console
      return "";
    }
    return url;
  }
  render() {
    const {
      url,
      className,
      title,
      isSponsored
    } = this.props;
    let anchor = /*#__PURE__*/external_React_default().createElement("a", SafeAnchor_extends({
      href: this.safeURI(url),
      title: title,
      className: className,
      onClick: this.onClick,
      "data-is-sponsored-link": !!isSponsored
    }, this.props.tabIndex === 0 || this.props.tabIndex ? {
      ref: this.props.setRef,
      tabIndex: this.props.tabIndex
    } : {}), this.props.children);
    return anchor;
  }
}
;// CONCATENATED MODULE: ./content-src/components/Card/types.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const cardContextTypes = {
  history: {
    fluentID: "newtab-label-visited",
    icon: "history-item",
  },
  removedBookmark: {
    fluentID: "newtab-label-removed-bookmark",
    icon: "bookmark-removed",
  },
  bookmark: {
    fluentID: "newtab-label-bookmarked",
    icon: "bookmark-added",
  },
  trending: {
    fluentID: "newtab-label-recommended",
    icon: "trending",
  },
  pocket: {
    fluentID: "newtab-label-saved",
    icon: "pocket",
  },
  download: {
    fluentID: "newtab-label-download",
    icon: "download",
  },
};

;// CONCATENATED MODULE: external "ReactTransitionGroup"
const external_ReactTransitionGroup_namespaceObject = ReactTransitionGroup;
;// CONCATENATED MODULE: ./content-src/components/FluentOrText/FluentOrText.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



/**
 * Set text on a child element/component depending on if the message is already
 * translated plain text or a fluent id with optional args.
 */
class FluentOrText extends (external_React_default()).PureComponent {
  render() {
    // Ensure we have a single child to attach attributes
    const {
      children,
      message
    } = this.props;
    const child = children ? external_React_default().Children.only(children) : /*#__PURE__*/external_React_default().createElement("span", null);

    // For a string message, just use it as the child's text
    let grandChildren = message;
    let extraProps;

    // Convert a message object to set desired fluent-dom attributes
    if (typeof message === "object") {
      const args = message.args || message.values;
      extraProps = {
        "data-l10n-args": args && JSON.stringify(args),
        "data-l10n-id": message.id || message.string_id
      };

      // Use original children potentially with data-l10n-name attributes
      grandChildren = child.props.children;
    }

    // Add the message to the child via fluent attributes or text node
    return /*#__PURE__*/external_React_default().cloneElement(child, extraProps, grandChildren);
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSContextFooter/DSContextFooter.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


// eslint-disable-next-line no-shadow




// Animation time is mirrored in DSContextFooter.scss
const ANIMATION_DURATION = 3000;
const DSMessageLabel = props => {
  const {
    context,
    context_type,
    mayHaveSectionsCards
  } = props;
  const {
    icon,
    fluentID
  } = cardContextTypes[context_type] || {};
  if (!context && context_type && !mayHaveSectionsCards) {
    return /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.TransitionGroup, {
      component: null
    }, /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      key: fluentID,
      timeout: ANIMATION_DURATION,
      classNames: "story-animate"
    }, /*#__PURE__*/external_React_default().createElement(StatusMessage, {
      icon: icon,
      fluentID: fluentID
    })));
  }
  return null;
};
const StatusMessage = ({
  icon,
  fluentID
}) => /*#__PURE__*/external_React_default().createElement("div", {
  className: "status-message"
}, /*#__PURE__*/external_React_default().createElement("span", {
  "aria-haspopup": "true",
  className: `story-badge-icon icon icon-${icon}`
}), /*#__PURE__*/external_React_default().createElement("div", {
  className: "story-context-label",
  "data-l10n-id": fluentID
}));
const SponsorLabel = ({
  sponsored_by_override,
  sponsor,
  context,
  newSponsoredLabel
}) => {
  const classList = `story-sponsored-label ${newSponsoredLabel || ""} clamp`;
  // If override is not false or an empty string.
  if (sponsored_by_override) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: classList
    }, sponsored_by_override);
  } else if (sponsored_by_override === "") {
    // We specifically want to display nothing if the server returns an empty string.
    // So the server can turn off the label.
    // This is to support the use cases where the sponsored context is displayed elsewhere.
    return null;
  } else if (sponsor) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: classList
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: {
        id: `newtab-label-sponsored-by`,
        values: {
          sponsor
        }
      }
    }));
  } else if (context) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: classList
    }, context);
  }
  return null;
};
class DSContextFooter extends (external_React_default()).PureComponent {
  render() {
    const {
      context,
      context_type,
      sponsor,
      sponsored_by_override,
      cta_button_variant,
      source,
      mayHaveSectionsCards
    } = this.props;
    const sponsorLabel = SponsorLabel({
      sponsored_by_override,
      sponsor,
      context
    });
    const dsMessageLabel = DSMessageLabel({
      context,
      context_type,
      mayHaveSectionsCards
    });
    if (cta_button_variant === "variant-a") {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "story-footer"
      }, /*#__PURE__*/external_React_default().createElement("button", {
        "aria-hidden": "true",
        className: "story-cta-button"
      }, "Shop Now"), sponsorLabel);
    }
    if (cta_button_variant === "variant-b") {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "story-footer"
      }, sponsorLabel, /*#__PURE__*/external_React_default().createElement("span", {
        className: "source clamp cta-footer-source"
      }, source));
    }
    if (sponsorLabel || dsMessageLabel && context_type !== "pocket") {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "story-footer"
      }, sponsorLabel, dsMessageLabel);
    }
    return null;
  }
}
const DSMessageFooter = props => {
  const {
    context,
    context_type
  } = props;
  const dsMessageLabel = DSMessageLabel({
    context,
    context_type
  });

  // This case is specific and already displayed to the user elsewhere.
  if (!dsMessageLabel) {
    return null;
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "story-footer"
  }, dsMessageLabel);
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSThumbsUpDownButtons/DSThumbsUpDownButtons.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function DSThumbsUpDownButtons({
  sponsor,
  onThumbsUpClick,
  onThumbsDownClick,
  isThumbsUpActive,
  isThumbsDownActive,
  refinedCardsLayout
}) {
  let thumbsButtons = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("button", {
    onClick: onThumbsUpClick,
    className: `card-stp-thumbs-button icon icon-thumbs-up ${isThumbsUpActive ? "is-active" : null}`,
    "data-l10n-id": "newtab-pocket-thumbs-up-tooltip"
  }), /*#__PURE__*/external_React_default().createElement("button", {
    onClick: onThumbsDownClick,
    className: `card-stp-thumbs-button icon icon-thumbs-down ${isThumbsDownActive ? "is-active" : null}`,
    "data-l10n-id": "newtab-pocket-thumbs-down-tooltip"
  }));
  if (refinedCardsLayout) {
    thumbsButtons = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("moz-button", {
      iconsrc: "chrome://global/skin/icons/thumbs-up-20.svg",
      onClick: onThumbsUpClick,
      className: `card-stp-thumbs-button icon icon-thumbs-up refined-layout ${isThumbsUpActive ? "is-active" : null}`,
      "data-l10n-id": "newtab-pocket-thumbs-up-tooltip",
      type: "icon ghost"
    }), /*#__PURE__*/external_React_default().createElement("moz-button", {
      iconsrc: "chrome://global/skin/icons/thumbs-down-20.svg",
      onClick: onThumbsDownClick,
      className: `card-stp-thumbs-button icon icon-thumbs-down ${isThumbsDownActive ? "is-active" : null}`,
      "data-l10n-id": "newtab-pocket-thumbs-down-tooltip",
      type: "icon ghost"
    }));
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "card-stp-thumbs-buttons-wrapper"
  }, !sponsor && /*#__PURE__*/external_React_default().createElement("div", {
    className: "card-stp-thumbs-buttons"
  }, thumbsButtons));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSCard/DSCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */













const READING_WPM = 220;
const PREF_OHTTP_MERINO = "discoverystream.merino-provider.ohttp.enabled";
const PREF_OHTTP_UNIFIED_ADS = "unifiedAds.ohttp.enabled";
const DSCard_PREF_SECTIONS_ENABLED = "discoverystream.sections.enabled";
const PREF_FAVICONS_ENABLED = "discoverystream.publisherFavicon.enabled";

/**
 * READ TIME FROM WORD COUNT
 * @param {int} wordCount number of words in an article
 * @returns {int} number of words per minute in minutes
 */
function readTimeFromWordCount(wordCount) {
  if (!wordCount) {
    return false;
  }
  return Math.ceil(parseInt(wordCount, 10) / READING_WPM);
}
const DSSource = ({
  source,
  timeToRead,
  newSponsoredLabel,
  context,
  sponsor,
  sponsored_by_override,
  icon_src,
  refinedCardsLayout
}) => {
  // refinedCard styles will have a larger favicon size
  const faviconSize = refinedCardsLayout ? 20 : 16;

  // First try to display sponsored label or time to read here.
  if (newSponsoredLabel) {
    // If we can display something for spocs, do so.
    if (sponsored_by_override || sponsor || context) {
      return /*#__PURE__*/external_React_default().createElement(SponsorLabel, {
        context: context,
        sponsor: sponsor,
        sponsored_by_override: sponsored_by_override,
        newSponsoredLabel: "new-sponsored-label"
      });
    }
  }

  // If we are not a spoc, and can display a time to read value.
  if (source && timeToRead) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: "source clamp time-to-read"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: {
        id: `newtab-label-source-read-time`,
        values: {
          source,
          timeToRead
        }
      }
    }));
  }

  // Otherwise display a default source.
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "source-wrapper"
  }, icon_src && /*#__PURE__*/external_React_default().createElement("img", {
    src: icon_src,
    height: faviconSize,
    width: faviconSize,
    alt: ""
  }), /*#__PURE__*/external_React_default().createElement("p", {
    className: "source clamp"
  }, source));
};
const DefaultMeta = ({
  source,
  title,
  excerpt,
  timeToRead,
  newSponsoredLabel,
  context,
  context_type,
  sponsor,
  sponsored_by_override,
  ctaButtonVariant,
  dispatch,
  mayHaveSectionsCards,
  mayHaveThumbsUpDown,
  onThumbsUpClick,
  onThumbsDownClick,
  isListCard,
  state,
  format,
  topic,
  isSectionsCard,
  showTopics,
  icon_src,
  refinedCardsLayout
}) => {
  const shouldHaveThumbs = !isListCard && format !== "rectangle" && mayHaveSectionsCards && mayHaveThumbsUpDown;
  const shouldHaveFooterSection = isSectionsCard && (shouldHaveThumbs || showTopics);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "meta"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "info-wrap"
  }, ctaButtonVariant !== "variant-b" && format !== "rectangle" && !refinedCardsLayout && /*#__PURE__*/external_React_default().createElement(DSSource, {
    source: source,
    timeToRead: timeToRead,
    newSponsoredLabel: newSponsoredLabel,
    context: context,
    sponsor: sponsor,
    sponsored_by_override: sponsored_by_override,
    icon_src: icon_src
  }), /*#__PURE__*/external_React_default().createElement("h3", {
    className: "title clamp"
  }, format === "rectangle" ? "Sponsored" : title), format === "rectangle" ? /*#__PURE__*/external_React_default().createElement("p", {
    className: "excerpt clamp"
  }, "Sponsored content supports our mission to build a better web.") : excerpt && /*#__PURE__*/external_React_default().createElement("p", {
    className: "excerpt clamp"
  }, excerpt)), !isListCard && format !== "rectangle" && !mayHaveSectionsCards && mayHaveThumbsUpDown && !refinedCardsLayout && /*#__PURE__*/external_React_default().createElement(DSThumbsUpDownButtons, {
    onThumbsDownClick: onThumbsDownClick,
    onThumbsUpClick: onThumbsUpClick,
    sponsor: sponsor,
    isThumbsDownActive: state.isThumbsDownActive,
    isThumbsUpActive: state.isThumbsUpActive
  }), (shouldHaveFooterSection || refinedCardsLayout) && /*#__PURE__*/external_React_default().createElement("div", {
    className: "sections-card-footer"
  }, refinedCardsLayout && format !== "rectangle" && format !== "spoc" && /*#__PURE__*/external_React_default().createElement(DSSource, {
    source: source,
    timeToRead: timeToRead,
    newSponsoredLabel: newSponsoredLabel,
    context: context,
    sponsor: sponsor,
    sponsored_by_override: sponsored_by_override,
    icon_src: icon_src,
    refinedCardsLayout: refinedCardsLayout
  }), (shouldHaveThumbs || refinedCardsLayout) && /*#__PURE__*/external_React_default().createElement(DSThumbsUpDownButtons, {
    onThumbsDownClick: onThumbsDownClick,
    onThumbsUpClick: onThumbsUpClick,
    sponsor: sponsor,
    isThumbsDownActive: state.isThumbsDownActive,
    isThumbsUpActive: state.isThumbsUpActive,
    refinedCardsLayout: refinedCardsLayout
  }), showTopics && /*#__PURE__*/external_React_default().createElement("span", {
    className: "ds-card-topic",
    "data-l10n-id": `newtab-topic-label-${topic}`
  })), !newSponsoredLabel && /*#__PURE__*/external_React_default().createElement(DSContextFooter, {
    context_type: context_type,
    context: context,
    sponsor: sponsor,
    sponsored_by_override: sponsored_by_override,
    cta_button_variant: ctaButtonVariant,
    source: source,
    dispatch: dispatch,
    mayHaveSectionsCards: mayHaveSectionsCards
  }), newSponsoredLabel && /*#__PURE__*/external_React_default().createElement(DSMessageFooter, {
    context_type: context_type,
    context: null
  }));
};
class _DSCard extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.doesLinkTopicMatchSelectedTopic = this.doesLinkTopicMatchSelectedTopic.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);
    this.onThumbsUpClick = this.onThumbsUpClick.bind(this);
    this.onThumbsDownClick = this.onThumbsDownClick.bind(this);
    const refinedCardsLayout = this.props.Prefs.values["discoverystream.refinedCardsLayout.enabled"];
    this.setContextMenuButtonHostRef = element => {
      this.contextMenuButtonHostElement = element;
    };
    this.setPlaceholderRef = element => {
      this.placeholderElement = element;
    };
    this.state = {
      isSeen: false,
      isThumbsUpActive: false,
      isThumbsDownActive: false
    };

    // If this is for the about:home startup cache, then we always want
    // to render the DSCard, regardless of whether or not its been seen.
    if (props.App.isForStartupCache.App) {
      this.state.isSeen = true;
    }

    // We want to choose the optimal thumbnail for the underlying DSImage, but
    // want to do it in a performant way. The breakpoints used in the
    // CSS of the page are, unfortuntely, not easy to retrieve without
    // causing a style flush. To avoid that, we hardcode them here.
    //
    // The values chosen here were the dimensions of the card thumbnails as
    // computed by getBoundingClientRect() for each type of viewport width
    // across both high-density and normal-density displays.
    this.standardCardImageSizes = [{
      mediaMatcher: "default",
      width: 296,
      height: 148
    }];
    this.listCardImageSizes = [{
      mediaMatcher: "(min-width: 1122px)",
      width: 75,
      height: 75
    }, {
      mediaMatcher: "default",
      width: 50,
      height: 50
    }];
    this.sectionsCardImagesSizes = {
      small: {
        width: 110,
        height: 117
      },
      medium: {
        width: 300,
        height: refinedCardsLayout ? 160 : 150
      },
      large: {
        width: 190,
        height: 250
      }
    };
    this.sectionsColumnMediaMatcher = {
      1: "default",
      2: "(min-width: 724px)",
      3: "(min-width: 1122px)",
      4: "(min-width: 1390px)"
    };
  }
  getSectionImageSize(column, size) {
    const cardImageSize = {
      mediaMatcher: this.sectionsColumnMediaMatcher[column],
      width: this.sectionsCardImagesSizes[size].width,
      height: this.sectionsCardImagesSizes[size].height
    };
    return cardImageSize;
  }
  doesLinkTopicMatchSelectedTopic() {
    // Edge case for clicking on a card when topic selections have not be set
    if (!this.props.selectedTopics) {
      return "not-set";
    }

    // Edge case the topic of the card is not one of the available topics
    if (!this.props.availableTopics.includes(this.props.topic)) {
      return "topic-not-selectable";
    }
    if (this.props.selectedTopics.includes(this.props.topic)) {
      return "true";
    }
    return "false";
  }
  onLinkClick() {
    const matchesSelectedTopic = this.doesLinkTopicMatchSelectedTopic();
    if (this.props.dispatch) {
      if (this.props.isFakespot) {
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "FAKESPOT_CLICK",
          value: {
            product_id: this.props.id,
            category: this.props.category || ""
          }
        }));
      } else {
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "CLICK",
          source: this.props.type.toUpperCase(),
          action_position: this.props.pos,
          value: {
            event_source: "card",
            card_type: this.props.flightId ? "spoc" : "organic",
            recommendation_id: this.props.recommendation_id,
            tile_id: this.props.id,
            ...(this.props.shim && this.props.shim.click ? {
              shim: this.props.shim.click
            } : {}),
            fetchTimestamp: this.props.fetchTimestamp,
            firstVisibleTimestamp: this.props.firstVisibleTimestamp,
            corpus_item_id: this.props.corpus_item_id,
            scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
            recommended_at: this.props.recommended_at,
            received_rank: this.props.received_rank,
            topic: this.props.topic,
            features: this.props.features,
            matches_selected_topic: matchesSelectedTopic,
            selected_topics: this.props.selectedTopics,
            is_list_card: this.props.isListCard,
            ...(this.props.format ? {
              format: this.props.format
            } : {
              format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, this.props.flightId)
            }),
            ...(this.props.section ? {
              section: this.props.section,
              section_position: this.props.sectionPosition,
              is_section_followed: this.props.sectionFollowed,
              layout_name: this.props.sectionLayoutName
            } : {})
          }
        }));
        this.props.dispatch(actionCreators.ImpressionStats({
          source: this.props.type.toUpperCase(),
          click: 0,
          window_inner_width: this.props.windowObj.innerWidth,
          window_inner_height: this.props.windowObj.innerHeight,
          tiles: [{
            id: this.props.id,
            pos: this.props.pos,
            ...(this.props.shim && this.props.shim.click ? {
              shim: this.props.shim.click
            } : {}),
            type: this.props.flightId ? "spoc" : "organic",
            recommendation_id: this.props.recommendation_id,
            topic: this.props.topic,
            selected_topics: this.props.selectedTopics,
            is_list_card: this.props.isListCard,
            ...(this.props.format ? {
              format: this.props.format
            } : {
              format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, this.props.flightId)
            }),
            ...(this.props.section ? {
              section: this.props.section,
              section_position: this.props.sectionPosition,
              is_section_followed: this.props.sectionFollowed
            } : {})
          }]
        }));
      }
    }
  }
  onThumbsUpClick(event) {
    event.stopPropagation();
    event.preventDefault();

    // Toggle active state for thumbs up button to show CSS animation
    const currentState = this.state.isThumbsUpActive;

    // If thumbs up has been clicked already, do nothing.
    if (currentState) {
      return;
    }
    this.setState({
      isThumbsUpActive: !currentState
    });

    // Record thumbs up telemetry event
    this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "POCKET_THUMBS_UP",
      source: "THUMBS_UI",
      value: {
        action_position: this.props.pos,
        recommendation_id: this.props.recommendation_id,
        tile_id: this.props.id,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank,
        thumbs_up: true,
        thumbs_down: false,
        topic: this.props.topic,
        format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, false // (thumbs up/down only exist on organic content)
        ),
        ...(this.props.section ? {
          section: this.props.section,
          section_position: this.props.sectionPosition,
          is_section_followed: this.props.sectionFollowed
        } : {})
      }
    }));

    // Show Toast
    this.props.dispatch(actionCreators.OnlyToOneContent({
      type: actionTypes.SHOW_TOAST_MESSAGE,
      data: {
        showNotifications: true,
        toastId: "thumbsUpToast"
      }
    }, "ActivityStream:Content"));
  }
  onThumbsDownClick(event) {
    event.stopPropagation();
    event.preventDefault();

    // Toggle active state for thumbs down button to show CSS animation
    const currentState = this.state.isThumbsDownActive;
    this.setState({
      isThumbsDownActive: !currentState
    });

    // Run dismiss event after 0.5 second delay
    if (this.props.dispatch && this.props.type && this.props.id && this.props.url) {
      const index = this.props.pos;
      const source = this.props.type.toUpperCase();
      const spocData = {
        url: this.props.url,
        guid: this.props.id,
        type: "CardGrid",
        card_type: "organic",
        recommendation_id: this.props.recommendation_id,
        tile_id: this.props.id,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank
      };
      const blockUrlOption = LinkMenuOptions.BlockUrl(spocData, index, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      setTimeout(() => {
        this.props.dispatch(action);
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: userEvent,
          source,
          action_position: index
        }));
      }, 500);
      if (impression) {
        this.props.dispatch(impression);
      }

      // Record thumbs down telemetry event
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "POCKET_THUMBS_DOWN",
        source: "THUMBS_UI",
        value: {
          action_position: this.props.pos,
          recommendation_id: this.props.recommendation_id,
          tile_id: this.props.id,
          corpus_item_id: this.props.corpus_item_id,
          scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
          recommended_at: this.props.recommended_at,
          received_rank: this.props.received_rank,
          thumbs_up: false,
          thumbs_down: true,
          topic: this.props.topic,
          format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, false // (thumbs up/down only exist on organic content)
          ),
          ...(this.props.section ? {
            section: this.props.section,
            section_position: this.props.sectionPosition,
            is_section_followed: this.props.sectionFollowed
          } : {})
        }
      }));

      // Show Toast
      this.props.dispatch(actionCreators.OnlyToOneContent({
        type: actionTypes.SHOW_TOAST_MESSAGE,
        data: {
          showNotifications: true,
          toastId: "thumbsDownToast"
        }
      }, "ActivityStream:Content"));
    }
  }
  onMenuUpdate(showContextMenu) {
    if (!showContextMenu) {
      const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;
      if (dsLinkMenuHostDiv) {
        dsLinkMenuHostDiv.classList.remove("active", "last-item");
      }
    }
  }
  async onMenuShow() {
    const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;
    if (dsLinkMenuHostDiv) {
      // Force translation so we can be sure it's ready before measuring.
      await this.props.windowObj.document.l10n.translateFragment(dsLinkMenuHostDiv);
      if (this.props.windowObj.scrollMaxX > 0) {
        dsLinkMenuHostDiv.classList.add("last-item");
      }
      dsLinkMenuHostDiv.classList.add("active");
    }
  }
  onSeen(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);
      if (entry) {
        if (this.placeholderElement) {
          this.observer.unobserve(this.placeholderElement);
        }

        // Stop observing since element has been seen
        this.setState({
          isSeen: true
        });
      }
    }
  }
  onIdleCallback() {
    if (!this.state.isSeen) {
      // To improve responsiveness without impacting performance,
      // we start rendering stories on idle.
      // To reduce the number of requests for secure OHTTP images,
      // we skip idle-time loading.
      if (!this.secureImage) {
        if (this.observer && this.placeholderElement) {
          this.observer.unobserve(this.placeholderElement);
        }
        this.setState({
          isSeen: true
        });
      }
    }
  }
  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));
    if (this.placeholderElement) {
      this.observer = new IntersectionObserver(this.onSeen.bind(this));
      this.observer.observe(this.placeholderElement);
    }
  }
  componentWillUnmount() {
    // Remove observer on unmount
    if (this.observer && this.placeholderElement) {
      this.observer.unobserve(this.placeholderElement);
    }
    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  // Wraps the image URL with the moz-cached-ohttp:// protocol.
  // This enables Firefox to load resources over Oblivious HTTP (OHTTP),
  // providing privacy-preserving resource loading.
  // Applied only when inferred personalization is enabled.
  // See: https://firefox-source-docs.mozilla.org/browser/components/mozcachedohttp/docs/index.html
  secureImageURL(url) {
    return `moz-cached-ohttp://newtab-image/?url=${encodeURIComponent(url)}`;
  }
  getRawImageSrc() {
    let rawImageSrc = "";
    // There is no point in fetching images for startup cache.
    if (!this.props.App.isForStartupCache.App) {
      rawImageSrc = this.props.raw_image_src;
    }
    return rawImageSrc;
  }
  getFaviconSrc() {
    let faviconSrc = "";
    const faviconEnabled = this.props.Prefs.values[PREF_FAVICONS_ENABLED];
    // There is no point in fetching favicons for startup cache.
    if (!this.props.App.isForStartupCache.App && faviconEnabled && this.props.icon_src) {
      faviconSrc = this.props.icon_src;
      if (this.secureImage) {
        faviconSrc = this.secureImageURL(this.props.icon_src);
      }
    }
    return faviconSrc;
  }
  get secureImage() {
    const {
      Prefs,
      flightId
    } = this.props;
    let ohttpEnabled = false;
    if (flightId) {
      ohttpEnabled = Prefs.values[PREF_OHTTP_UNIFIED_ADS];
    } else {
      ohttpEnabled = Prefs.values[PREF_OHTTP_MERINO];
    }
    const ohttpImagesEnabled = Prefs.values.ohttpImagesConfig?.enabled;
    const includeTopStoriesSection = Prefs.values.ohttpImagesConfig?.includeTopStoriesSection;
    const nonPersonalizedSections = ["top_stories_section"];
    const sectionPersonalized = !nonPersonalizedSections.includes(this.props.section) || includeTopStoriesSection;
    const secureImage = ohttpImagesEnabled && ohttpEnabled && sectionPersonalized;
    return secureImage;
  }
  renderImage({
    sizes = [],
    classNames = ""
  } = {}) {
    const {
      Prefs
    } = this.props;
    const rawImageSrc = this.getRawImageSrc();
    const smartCrop = Prefs.values["images.smart"];
    return /*#__PURE__*/external_React_default().createElement(DSImage, {
      extraClassNames: `img ${classNames}`,
      source: this.props.image_src,
      rawSource: rawImageSrc,
      sizes: sizes,
      url: this.props.url,
      title: this.props.title,
      isRecentSave: this.props.isRecentSave,
      alt_text: this.props.alt_text,
      smartCrop: smartCrop,
      secureImage: this.secureImage
    });
  }
  renderSectionCardImages() {
    const {
      sectionsCardImageSizes
    } = this.props;
    const columns = ["1", "2", "3", "4"];
    const images = [];
    for (const column of columns) {
      const size = sectionsCardImageSizes[column];
      const sizes = [this.getSectionImageSize(column, size)];
      const image = this.renderImage({
        sizes,
        classNames: `image-${column}`
      });
      images.push(image);
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, images);
  }
  render() {
    const {
      isRecentSave,
      DiscoveryStream,
      Prefs,
      isListCard,
      isFakespot,
      mayHaveSectionsCards,
      format
    } = this.props;
    const refinedCardsLayout = Prefs.values["discoverystream.refinedCardsLayout.enabled"];
    const refinedCardsClassName = refinedCardsLayout ? `refined-cards` : ``;
    if (this.props.placeholder || !this.state.isSeen) {
      // placeholder-seen is used to ensure the loading animation is only used if the card is visible.
      const placeholderClassName = this.state.isSeen ? `placeholder-seen` : ``;
      let placeholderElements = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-image placeholder-fill"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-label placeholder-fill"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-header placeholder-fill"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-description placeholder-fill"
      }));
      if (refinedCardsLayout) {
        placeholderElements = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
          className: "placeholder-image placeholder-fill"
        }), /*#__PURE__*/external_React_default().createElement("div", {
          className: "placeholder-description placeholder-fill"
        }), /*#__PURE__*/external_React_default().createElement("div", {
          className: "placeholder-header placeholder-fill"
        }));
      }
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: `ds-card placeholder ${placeholderClassName} ${isListCard ? "list-card-placeholder" : ""} ${refinedCardsClassName}`,
        ref: this.setPlaceholderRef
      }, placeholderElements);
    }
    let source = this.props.source || this.props.publisher;
    if (!source) {
      try {
        source = new URL(this.props.url).hostname;
      } catch (e) {}
    }
    const {
      hideDescriptions,
      compactImages,
      imageGradient,
      newSponsoredLabel,
      titleLines = 3,
      descLines = 3,
      readTime: displayReadTime
    } = DiscoveryStream;
    const sectionsEnabled = Prefs.values[DSCard_PREF_SECTIONS_ENABLED];
    // Refined cards have their own excerpt hiding logic.
    // We can ignore hideDescriptions if we are in sections and refined cards.
    const excerpt = !hideDescriptions || sectionsEnabled && refinedCardsLayout ? this.props.excerpt : "";
    let timeToRead;
    if (displayReadTime) {
      timeToRead = this.props.time_to_read || readTimeFromWordCount(this.props.word_count);
    }
    const ctaButtonEnabled = this.props.ctaButtonSponsors?.includes(this.props.sponsor?.toLowerCase());
    let ctaButtonVariant = "";
    if (ctaButtonEnabled) {
      ctaButtonVariant = this.props.ctaButtonVariant;
    }
    let ctaButtonVariantClassName = ctaButtonVariant;
    const ctaButtonClassName = ctaButtonEnabled ? `ds-card-cta-button` : ``;
    const compactImagesClassName = compactImages ? `ds-card-compact-image` : ``;
    const imageGradientClassName = imageGradient ? `ds-card-image-gradient` : ``;
    const listCardClassName = isListCard ? `list-feed-card` : ``;
    const fakespotClassName = isFakespot ? `fakespot` : ``;
    const sectionsCardsClassName = [mayHaveSectionsCards ? `sections-card-ui` : ``, this.props.sectionsClassNames].join(" ");
    const titleLinesName = `ds-card-title-lines-${titleLines}`;
    const descLinesClassName = `ds-card-desc-lines-${descLines}`;
    const isMediumRectangle = format === "rectangle";
    const spocFormatClassName = isMediumRectangle ? `ds-spoc-rectangle` : ``;
    const faviconSrc = this.getFaviconSrc();
    let images = this.renderImage({
      sizes: this.standardCardImageSizes
    });
    if (isMediumRectangle) {
      images = this.renderImage();
    } else if (isListCard) {
      images = this.renderImage({
        sizes: this.listCardImageSizes
      });
    } else if (sectionsEnabled) {
      images = this.renderSectionCardImages();
    }
    return /*#__PURE__*/external_React_default().createElement("article", {
      className: `ds-card ${listCardClassName} ${fakespotClassName} ${sectionsCardsClassName} ${compactImagesClassName} ${imageGradientClassName} ${titleLinesName} ${descLinesClassName} ${spocFormatClassName} ${ctaButtonClassName} ${ctaButtonVariantClassName} ${refinedCardsClassName}`,
      ref: this.setContextMenuButtonHostRef,
      "data-position-one": this.props["data-position-one"],
      "data-position-two": this.props["data-position-one"],
      "data-position-three": this.props["data-position-one"],
      "data-position-four": this.props["data-position-one"]
    }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-card-link",
      dispatch: this.props.dispatch,
      onLinkClick: !this.props.placeholder ? this.onLinkClick : undefined,
      url: this.props.url,
      title: this.props.title,
      isSponsored: !!this.props.flightId
    }, this.props.showTopics && !this.props.mayHaveSectionsCards && this.props.topic && !isListCard && !refinedCardsLayout && /*#__PURE__*/external_React_default().createElement("span", {
      className: "ds-card-topic",
      "data-l10n-id": `newtab-topic-label-${this.props.topic}`
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "img-wrapper"
    }, images), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
      flightId: this.props.flightId,
      rows: [{
        id: this.props.id,
        pos: this.props.pos,
        ...(this.props.shim && this.props.shim.impression ? {
          shim: this.props.shim.impression
        } : {}),
        recommendation_id: this.props.recommendation_id,
        fetchTimestamp: this.props.fetchTimestamp,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank,
        topic: this.props.topic,
        features: this.props.features,
        is_list_card: isListCard,
        ...(format ? {
          format
        } : {}),
        isFakespot,
        category: this.props.category,
        ...(this.props.section ? {
          section: this.props.section,
          section_position: this.props.sectionPosition,
          is_section_followed: this.props.sectionFollowed,
          sectionLayoutName: this.props.sectionLayoutName
        } : {}),
        ...(!format && this.props.section ?
        // Note: sectionsCardsClassName is passed to ImpressionStats.jsx in order to calculate format
        {
          class_names: sectionsCardsClassName
        } : {})
      }],
      dispatch: this.props.dispatch,
      isFakespot: isFakespot,
      source: this.props.type,
      firstVisibleTimestamp: this.props.firstVisibleTimestamp
    }), ctaButtonVariant === "variant-b" && /*#__PURE__*/external_React_default().createElement("div", {
      className: "cta-header"
    }, "Shop Now"), isFakespot ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "meta"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "info-wrap"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      className: "title clamp"
    }, this.props.title))) : /*#__PURE__*/external_React_default().createElement(DefaultMeta, {
      source: source,
      title: this.props.title,
      excerpt: excerpt,
      newSponsoredLabel: newSponsoredLabel,
      timeToRead: timeToRead,
      context: this.props.context,
      context_type: this.props.context_type,
      sponsor: this.props.sponsor,
      sponsored_by_override: this.props.sponsored_by_override,
      ctaButtonVariant: ctaButtonVariant,
      dispatch: this.props.dispatch,
      mayHaveThumbsUpDown: this.props.mayHaveThumbsUpDown,
      mayHaveSectionsCards: this.props.mayHaveSectionsCards,
      onThumbsUpClick: this.onThumbsUpClick,
      onThumbsDownClick: this.onThumbsDownClick,
      state: this.state,
      isListCard: isListCard,
      showTopics: !refinedCardsLayout && this.props.showTopics,
      isSectionsCard: this.props.mayHaveSectionsCards && this.props.topic && !isListCard,
      format: format,
      topic: this.props.topic,
      icon_src: faviconSrc,
      refinedCardsLayout: refinedCardsLayout
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-stp-button-hover-background"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-stp-button-position-wrapper"
    }, !isFakespot && /*#__PURE__*/external_React_default().createElement(DSLinkMenu, {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: source,
      type: this.props.type,
      card_type: this.props.flightId ? "spoc" : "organic",
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: this.props.flightId,
      showPrivacyInfo: !!this.props.flightId,
      onMenuUpdate: this.onMenuUpdate,
      onMenuShow: this.onMenuShow,
      isRecentSave: isRecentSave,
      recommendation_id: this.props.recommendation_id,
      tile_id: this.props.id,
      block_key: this.props.id,
      corpus_item_id: this.props.corpus_item_id,
      scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
      recommended_at: this.props.recommended_at,
      received_rank: this.props.received_rank,
      is_list_card: this.props.isListCard,
      section: this.props.section,
      section_position: this.props.sectionPosition,
      is_section_followed: this.props.sectionFollowed,
      fetchTimestamp: this.props.fetchTimestamp,
      firstVisibleTimestamp: this.props.firstVisibleTimestamp,
      format: format ? format : getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, this.props.flightId),
      isSectionsCard: this.props.mayHaveSectionsCards,
      topic: this.props.topic,
      selected_topics: this.props.selected_topics
    }))));
  }
}
_DSCard.defaultProps = {
  windowObj: window // Added to support unit tests
};
const DSCard = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs
}))(_DSCard);
const PlaceholderDSCard = () => /*#__PURE__*/external_React_default().createElement(DSCard, {
  placeholder: true
});
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSEmptyState/DSEmptyState.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSEmptyState extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onReset = this.onReset.bind(this);
    this.state = {};
  }
  componentWillUnmount() {
    if (this.timeout) {
      clearTimeout(this.timeout);
    }
  }
  onReset() {
    if (this.props.dispatch && this.props.feed) {
      const {
        feed
      } = this.props;
      const {
        url
      } = feed;
      this.props.dispatch({
        type: actionTypes.DISCOVERY_STREAM_FEED_UPDATE,
        data: {
          feed: {
            ...feed,
            data: {
              ...feed.data,
              status: "waiting"
            }
          },
          url
        }
      });
      this.setState({
        waiting: true
      });
      this.timeout = setTimeout(() => {
        this.timeout = null;
        this.setState({
          waiting: false
        });
      }, 300);
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.DISCOVERY_STREAM_RETRY_FEED,
        data: {
          feed
        }
      }));
    }
  }
  renderButton() {
    if (this.props.status === "waiting" || this.state.waiting) {
      return /*#__PURE__*/external_React_default().createElement("button", {
        className: "try-again-button waiting",
        "data-l10n-id": "newtab-discovery-empty-section-topstories-loading"
      });
    }
    return /*#__PURE__*/external_React_default().createElement("button", {
      className: "try-again-button",
      onClick: this.onReset,
      "data-l10n-id": "newtab-discovery-empty-section-topstories-try-again-button"
    });
  }
  renderState() {
    if (this.props.status === "waiting" || this.props.status === "failed") {
      return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h2", {
        "data-l10n-id": "newtab-discovery-empty-section-topstories-timed-out"
      }), this.renderButton());
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h2", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-header"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-content"
    }));
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "empty-state-message"
    }, this.renderState()));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/TopicsWidget/TopicsWidget.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






function _TopicsWidget(props) {
  const {
    id,
    source,
    position,
    DiscoveryStream,
    dispatch
  } = props;
  const {
    utmCampaign,
    utmContent,
    utmSource
  } = DiscoveryStream.experimentData;
  let queryParams = `?utm_source=${utmSource}`;
  if (utmCampaign && utmContent) {
    queryParams += `&utm_content=${utmContent}&utm_campaign=${utmCampaign}`;
  }
  const topics = [{
    label: "Technology",
    name: "technology"
  }, {
    label: "Science",
    name: "science"
  }, {
    label: "Self-Improvement",
    name: "self-improvement"
  }, {
    label: "Travel",
    name: "travel"
  }, {
    label: "Career",
    name: "career"
  }, {
    label: "Entertainment",
    name: "entertainment"
  }, {
    label: "Food",
    name: "food"
  }, {
    label: "Health",
    name: "health"
  }, {
    label: "Must-Reads",
    name: "must-reads",
    url: `https://getpocket.com/collections${queryParams}`
  }];
  function onLinkClick(topic, positionInCard) {
    if (dispatch) {
      dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source,
        action_position: position,
        value: {
          card_type: "topics_widget",
          topic,
          ...(positionInCard || positionInCard === 0 ? {
            position_in_card: positionInCard
          } : {}),
          section_position: position
        }
      }));
      dispatch(actionCreators.ImpressionStats({
        source,
        click: 0,
        window_inner_width: props.windowObj.innerWidth,
        window_inner_height: props.windowObj.innerHeight,
        tiles: [{
          id,
          pos: position
        }]
      }));
    }
  }
  function mapTopicItem(topic, index) {
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: topic.name,
      className: topic.overflow ? "ds-topics-widget-list-overflow-item" : ""
    }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      url: topic.url || `https://getpocket.com/explore/${topic.name}${queryParams}`,
      dispatch: dispatch,
      onLinkClick: () => onLinkClick(topic.name, index)
    }, topic.label));
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-topics-widget"
  }, /*#__PURE__*/external_React_default().createElement("header", {
    className: "ds-topics-widget-header"
  }, "Popular Topics"), /*#__PURE__*/external_React_default().createElement("hr", null), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-topics-widget-list-container"
  }, /*#__PURE__*/external_React_default().createElement("ul", null, topics.map(mapTopicItem))), /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "ds-topics-widget-button button primary",
    url: `https://getpocket.com/${queryParams}`,
    dispatch: dispatch,
    onLinkClick: () => onLinkClick("more-topics")
  }, "More Topics"), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
    dispatch: dispatch,
    rows: [{
      id,
      pos: position
    }],
    source: source
  }));
}
_TopicsWidget.defaultProps = {
  windowObj: window // Added to support unit tests
};
const TopicsWidget = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  DiscoveryStream: state.DiscoveryStream
}))(_TopicsWidget);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/ListFeed/ListFeed.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const PREF_LISTFEED_TITLE = "discoverystream.contextualContent.listFeedTitle";
const PREF_FAKESPOT_CATEGROY = "discoverystream.contextualContent.fakespot.defaultCategoryTitle";
const PREF_FAKESPOT_FOOTER = "discoverystream.contextualContent.fakespot.footerCopy";
const PREF_FAKESPOT_CTA_COPY = "discoverystream.contextualContent.fakespot.ctaCopy";
const PREF_FAKESPOT_CTA_URL = "discoverystream.contextualContent.fakespot.ctaUrl";
const ListFeed_PREF_CONTEXTUAL_CONTENT_SELECTED_FEED = "discoverystream.contextualContent.selectedFeed";
function ListFeed({
  type,
  firstVisibleTimestamp,
  recs,
  categories,
  dispatch
}) {
  const [selectedFakespotFeed, setSelectedFakespotFeed] = (0,external_React_namespaceObject.useState)("");
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const listFeedTitle = prefs[PREF_LISTFEED_TITLE];
  const categoryTitle = prefs[PREF_FAKESPOT_CATEGROY];
  const footerCopy = prefs[PREF_FAKESPOT_FOOTER];
  const ctaCopy = prefs[PREF_FAKESPOT_CTA_COPY];
  const ctaUrl = prefs[PREF_FAKESPOT_CTA_URL];
  const isFakespot = prefs[ListFeed_PREF_CONTEXTUAL_CONTENT_SELECTED_FEED] === "fakespot";
  // Todo: need to remove ads while using default recommendations, remove this line once API has been updated.
  let listFeedRecs = selectedFakespotFeed ? recs.filter(rec => rec.category === selectedFakespotFeed) : recs;
  function handleCtaClick() {
    dispatch(actionCreators.OnlyToMain({
      type: "FAKESPOT_CTA_CLICK"
    }));
  }
  function handleChange(e) {
    setSelectedFakespotFeed(e.target.value);
    dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "FAKESPOT_CATEGORY",
      value: {
        category: e.target.value || ""
      }
    }));
  }
  const contextMenuOptions = ["FakespotDismiss", "AboutFakespot"];
  const {
    length: listLength
  } = listFeedRecs;
  // determine if the list should take up all availible height or not
  const fullList = listLength >= 5;
  return listLength > 0 && /*#__PURE__*/external_React_default().createElement("div", {
    className: `list-feed ${fullList ? "full-height" : ""} ${listLength > 2 ? "span-2" : "span-1"}`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "list-feed-inner-wrapper"
  }, isFakespot ? /*#__PURE__*/external_React_default().createElement("div", {
    className: "fakespot-heading"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "dropdown-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("select", {
    className: "fakespot-dropdown",
    name: "fakespot-categories",
    value: selectedFakespotFeed,
    onChange: handleChange
  }, /*#__PURE__*/external_React_default().createElement("option", {
    value: ""
  }, categoryTitle || "Holiday Gift Guide"), categories.map(category => /*#__PURE__*/external_React_default().createElement("option", {
    key: category,
    value: category
  }, category))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "context-menu-wrapper"
  }, /*#__PURE__*/external_React_default().createElement(ContextMenuButton, null, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
    dispatch: dispatch,
    options: contextMenuOptions,
    shouldSendImpressionStats: true,
    site: {
      url: "https://www.fakespot.com"
    }
  })))), /*#__PURE__*/external_React_default().createElement("p", {
    className: "fakespot-desc"
  }, listFeedTitle)) : /*#__PURE__*/external_React_default().createElement("h1", {
    className: "list-feed-title",
    id: "list-feed-title"
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: "icon icon-newsfeed"
  }), listFeedTitle), /*#__PURE__*/external_React_default().createElement("div", {
    className: "list-feed-content",
    role: "menu",
    "aria-labelledby": "list-feed-title"
  }, listFeedRecs.slice(0, 5).map((rec, index) => {
    if (!rec || rec.placeholder) {
      return /*#__PURE__*/external_React_default().createElement(DSCard, {
        key: `list-card-${index}`,
        placeholder: true,
        isListCard: true
      });
    }
    return /*#__PURE__*/external_React_default().createElement(DSCard, {
      key: `list-card-${index}`,
      pos: index,
      flightId: rec.flight_id,
      image_src: rec.image_src,
      raw_image_src: rec.raw_image_src,
      word_count: rec.word_count,
      time_to_read: rec.time_to_read,
      title: rec.title,
      topic: rec.topic,
      excerpt: rec.excerpt,
      url: rec.url,
      id: rec.id,
      shim: rec.shim,
      type: type,
      context: rec.context,
      sponsor: rec.sponsor,
      sponsored_by_override: rec.sponsored_by_override,
      dispatch: dispatch,
      source: rec.domain,
      publisher: rec.publisher,
      pocket_id: rec.pocket_id,
      context_type: rec.context_type,
      bookmarkGuid: rec.bookmarkGuid,
      firstVisibleTimestamp: firstVisibleTimestamp,
      corpus_item_id: rec.corpus_item_id,
      scheduled_corpus_item_id: rec.scheduled_corpus_item_id,
      recommended_at: rec.recommended_at,
      received_rank: rec.received_rank,
      isListCard: true,
      isFakespot: isFakespot,
      category: rec.category
    });
  }), isFakespot && /*#__PURE__*/external_React_default().createElement("div", {
    className: "fakespot-footer"
  }, /*#__PURE__*/external_React_default().createElement("p", null, footerCopy), /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "fakespot-cta",
    url: ctaUrl,
    referrer: "",
    onLinkClick: handleCtaClick,
    dispatch: dispatch
  }, ctaCopy)))));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/AdBannerContextMenu/AdBannerContextMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */





/**
 * A context menu for IAB banners (e.g. billboard, leaderboard).
 *
 * Note: MREC ad formats and sponsored stories share the context menu with
 * other cards: make sure you also look at DSLinkMenu component
 * to keep any updates to ad-related context menu items in sync.
 *
 * @param dispatch
 * @param spoc
 * @param position
 * @param type
 * @param showAdReporting
 * @returns {Element}
 * @constructor
 */
function AdBannerContextMenu({
  dispatch,
  spoc,
  position,
  type,
  showAdReporting,
  toggleActive = () => {}
}) {
  const ADBANNER_CONTEXT_MENU_OPTIONS = ["BlockAdUrl", ...(showAdReporting ? ["ReportAd"] : []), "ManageSponsoredContent", "OurSponsorsAndYourPrivacy"];
  const [showContextMenu, setShowContextMenu] = (0,external_React_namespaceObject.useState)(false);
  const [contextMenuClassNames, setContextMenuClassNames] = (0,external_React_namespaceObject.useState)("ads-context-menu");

  // The keyboard access parameter is passed down to LinkMenu component
  // that uses it to focus on the first context menu option for accessibility.
  const [isKeyboardAccess, setIsKeyboardAccess] = (0,external_React_namespaceObject.useState)(false);

  /**
   * Toggles the style fix for context menu hover/active styles.
   * This allows us to have unobtrusive, transparent button background by default,
   * yet flip it over to semi-transparent grey when the menu is visible.
   *
   * @param contextMenuOpen
   */
  const toggleContextMenuStyleSwitch = contextMenuOpen => {
    if (contextMenuOpen) {
      setContextMenuClassNames("ads-context-menu context-menu-open");
    } else {
      setContextMenuClassNames("ads-context-menu");
    }
  };

  /**
   * Toggles the context menu to open or close. Sets state depending on whether
   * the context menu is accessed by mouse or keyboard.
   *
   * @param isKeyBoard
   */
  const toggleContextMenu = isKeyBoard => {
    toggleContextMenuStyleSwitch(!showContextMenu);
    toggleActive(!showContextMenu);
    setShowContextMenu(!showContextMenu);
    setIsKeyboardAccess(isKeyBoard);
  };
  const onClick = e => {
    e.preventDefault();
    toggleContextMenu(false);
  };
  const onKeyDown = e => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      toggleContextMenu(true);
    }
  };
  const onUpdate = () => {
    toggleContextMenuStyleSwitch(!showContextMenu);
    toggleActive(!showContextMenu);
    setShowContextMenu(!showContextMenu);
  };
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "ads-context-menu-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: contextMenuClassNames
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon",
    size: "default",
    "data-l10n-id": "newtab-menu-content-tooltip",
    "data-l10n-args": JSON.stringify({
      title: spoc.title || spoc.sponsor || spoc.alt_text
    }),
    iconsrc: "chrome://global/skin/icons/more.svg",
    onClick: onClick,
    onKeyDown: onKeyDown
  }), showContextMenu && /*#__PURE__*/external_React_default().createElement(LinkMenu, {
    onUpdate: onUpdate,
    dispatch: dispatch,
    keyboardAccess: isKeyboardAccess,
    options: ADBANNER_CONTEXT_MENU_OPTIONS,
    shouldSendImpressionStats: true,
    userEvent: actionCreators.DiscoveryStreamUserEvent,
    site: {
      // Props we want to pass on for new ad types that come from Unified Ads API
      block_key: spoc.block_key,
      fetchTimestamp: spoc.fetchTimestamp,
      flight_id: spoc.flight_id,
      format: spoc.format,
      id: spoc.id,
      guid: spoc.guid,
      card_type: "spoc",
      // required to record telemetry for an action, see handleBlockUrl in TelemetryFeed.sys.mjs
      is_pocket_card: true,
      position,
      sponsor: spoc.sponsor,
      title: spoc.title,
      url: spoc.url || spoc.shim.url,
      personalization_models: spoc.personalization_models,
      priority: spoc.priority,
      score: spoc.score,
      alt_text: spoc.alt_text,
      shim: spoc.shim
    },
    index: position,
    source: type.toUpperCase()
  })));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/PromoCard/PromoCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const PREF_PROMO_CARD_DISMISSED = "discoverystream.promoCard.visible";

/**
 * The PromoCard component displays a promotional message.
 * It is used next to the AdBanner component in a four-column layout.
 */

const PromoCard = () => {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const onCtaClick = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.PROMO_CARD_CLICK
    }));
  }, [dispatch]);
  const onDismissClick = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.PROMO_CARD_DISMISS
    }));
    dispatch(actionCreators.SetPref(PREF_PROMO_CARD_DISMISSED, false));
  }, [dispatch]);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.PROMO_CARD_IMPRESSION
    }));
  }, [dispatch]);
  const ref = useIntersectionObserver(handleIntersection);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "promo-card-wrapper",
    ref: el => {
      ref.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "promo-card-dismiss-button"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    size: "small",
    "data-l10n-id": "newtab-promo-card-dismiss-button",
    iconsrc: "chrome://global/skin/icons/close.svg",
    onClick: onDismissClick,
    onKeyDown: onDismissClick
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "promo-card-inner"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "img-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("img", {
    src: "chrome://newtab/content/data/content/assets/puzzle-fox.svg",
    alt: ""
  })), /*#__PURE__*/external_React_default().createElement("span", {
    className: "promo-card-title",
    "data-l10n-id": "newtab-promo-card-title"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "promo-card-body",
    "data-l10n-id": "newtab-promo-card-body"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "promo-card-cta-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("a", {
    href: "https://support.mozilla.org/kb/sponsor-privacy",
    "data-l10n-id": "newtab-promo-card-cta",
    target: "_blank",
    rel: "noreferrer",
    onClick: onCtaClick
  }))));
};

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/AdBanner/AdBanner.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







const AdBanner_PREF_SECTIONS_ENABLED = "discoverystream.sections.enabled";
const AdBanner_PREF_OHTTP_UNIFIED_ADS = "unifiedAds.ohttp.enabled";
const PREF_REPORT_ADS_ENABLED = "discoverystream.reportAds.enabled";
const PREF_PROMOCARD_ENABLED = "discoverystream.promoCard.enabled";
const PREF_PROMOCARD_VISIBLE = "discoverystream.promoCard.visible";

/**
 * A new banner ad that appears between rows of stories: leaderboard or billboard size.
 *
 * @param spoc
 * @param dispatch
 * @param firstVisibleTimestamp
 * @param row
 * @param type
 * @param prefs
 * @returns {Element}
 * @constructor
 */
const AdBanner = ({
  spoc,
  dispatch,
  firstVisibleTimestamp,
  row,
  type,
  prefs
}) => {
  const getDimensions = format => {
    switch (format) {
      case "leaderboard":
        return {
          width: "728",
          height: "90"
        };
      case "billboard":
        return {
          width: "970",
          height: "250"
        };
    }
    return {
      // image will still render with default values
      width: undefined,
      height: undefined
    };
  };
  const promoCardEnabled = spoc.format === "billboard" && prefs[PREF_PROMOCARD_ENABLED] && prefs[PREF_PROMOCARD_VISIBLE];
  const sectionsEnabled = prefs[AdBanner_PREF_SECTIONS_ENABLED];
  const ohttpEnabled = prefs[AdBanner_PREF_OHTTP_UNIFIED_ADS];
  const showAdReporting = prefs[PREF_REPORT_ADS_ENABLED];
  const ohttpImagesEnabled = prefs.ohttpImagesConfig?.enabled;
  const [menuActive, setMenuActive] = (0,external_React_namespaceObject.useState)(false);
  const adBannerWrapperClassName = `ad-banner-wrapper ${menuActive ? "active" : ""} ${promoCardEnabled ? "promo-card" : ""}`;
  const {
    width: imgWidth,
    height: imgHeight
  } = getDimensions(spoc.format);
  const onLinkClick = () => {
    dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "CLICK",
      source: type.toUpperCase(),
      // Banner ads don't have a position, but a row number
      action_position: parseInt(row, 10),
      value: {
        card_type: "spoc",
        tile_id: spoc.id,
        ...(spoc.shim?.click ? {
          shim: spoc.shim.click
        } : {}),
        fetchTimestamp: spoc.fetchTimestamp,
        firstVisibleTimestamp,
        format: spoc.format,
        ...(sectionsEnabled ? {
          section: spoc.format,
          section_position: parseInt(row, 10)
        } : {})
      }
    }));
  };
  const toggleActive = active => {
    setMenuActive(active);
  };

  // in the default card grid 1 would come before the 1st row of cards and 9 comes after the last row
  // using clamp to make sure its between valid values (1-9)
  const clampedRow = Math.max(1, Math.min(9, row));
  const secureImage = ohttpImagesEnabled && ohttpEnabled;
  let rawImageSrc = spoc.raw_image_src;

  // Wraps the image URL with the moz-cached-ohttp:// protocol.
  // This enables Firefox to load resources over Oblivious HTTP (OHTTP),
  // providing privacy-preserving resource loading.
  // Applied only when inferred personalization is enabled.
  // See: https://firefox-source-docs.mozilla.org/browser/components/mozcachedohttp/docs/index.html
  if (secureImage) {
    rawImageSrc = `moz-cached-ohttp://newtab-image/?url=${encodeURIComponent(spoc.raw_image_src)}`;
  }
  return /*#__PURE__*/external_React_default().createElement("aside", {
    className: adBannerWrapperClassName,
    style: {
      gridRow: clampedRow
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: `ad-banner-inner ${spoc.format}`
  }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "ad-banner-link",
    url: spoc.url,
    title: spoc.title || spoc.sponsor || spoc.alt_text,
    onLinkClick: onLinkClick,
    dispatch: dispatch,
    isSponsored: true
  }, /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
    flightId: spoc.flight_id,
    rows: [{
      id: spoc.id,
      card_type: "spoc",
      pos: row,
      recommended_at: spoc.recommended_at,
      received_rank: spoc.received_rank,
      format: spoc.format,
      ...(spoc.shim?.impression ? {
        shim: spoc.shim.impression
      } : {})
    }],
    dispatch: dispatch,
    firstVisibleTimestamp: firstVisibleTimestamp
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ad-banner-content"
  }, /*#__PURE__*/external_React_default().createElement("img", {
    src: rawImageSrc,
    alt: spoc.alt_text,
    loading: "eager",
    width: imgWidth,
    height: imgHeight
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ad-banner-sponsored"
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: "ad-banner-sponsored-label",
    "data-l10n-id": "newtab-label-sponsored-fixed"
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ad-banner-hover-background"
  }, /*#__PURE__*/external_React_default().createElement(AdBannerContextMenu, {
    dispatch: dispatch,
    spoc: spoc,
    position: row,
    type: type,
    showAdReporting: showAdReporting,
    toggleActive: toggleActive
  }))), promoCardEnabled && /*#__PURE__*/external_React_default().createElement(PromoCard, null));
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/TrendingSearches/TrendingSearches.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const PREF_TRENDING_VARIANT = "trendingSearch.variant";
const PREF_REFINED_CARDS_LAYOUT = "discoverystream.refinedCardsLayout.enabled";
function TrendingSearches() {
  const [showContextMenu, setShowContextMenu] = (0,external_React_namespaceObject.useState)(false);
  // The keyboard access parameter is passed down to LinkMenu component
  // that uses it to focus on the first context menu option for accessibility.
  const [isKeyboardAccess, setIsKeyboardAccess] = (0,external_React_namespaceObject.useState)(false);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const {
    TrendingSearch,
    Prefs
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state);
  const {
    values: prefs
  } = Prefs;
  const {
    suggestions,
    collapsed
  } = TrendingSearch;
  const variant = prefs[PREF_TRENDING_VARIANT];
  const refinedCards = prefs[PREF_REFINED_CARDS_LAYOUT];
  let resultRef = (0,external_React_namespaceObject.useRef)([]);
  let contextMenuHost = (0,external_React_namespaceObject.useRef)(null);
  const TRENDING_SEARCH_CONTEXT_MENU_OPTIONS = ["TrendingSearchDismiss", "TrendingSearchLearnMore"];
  function onArrowClick() {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.TRENDING_SEARCH_TOGGLE_COLLAPSE,
      data: {
        collapsed: !collapsed,
        variant
      }
    }));
  }
  function handleLinkOpen() {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.TRENDING_SEARCH_SUGGESTION_OPEN,
      data: {
        variant
      }
    }));
  }

  // If the window is small, the context menu in variant B will move closer to the card
  // so that it doesn't cut off
  const handleContextMenuShow = () => {
    const host = contextMenuHost.current;
    const isRTL = document.dir === "rtl"; // returns true if page language is right-to-left
    const checkRect = host.getBoundingClientRect();
    const maxBounds = 200;

    // Adds the class of "last-item" if the card is near the edge of the window
    const checkBounds = isRTL ? checkRect.left <= maxBounds : window.innerWidth - checkRect.right <= maxBounds;
    if (checkBounds) {
      host.classList.add("last-item");
    }
  };
  const handleContextMenuUpdate = () => {
    const host = contextMenuHost.current;
    if (!host) {
      return;
    }
    host.classList.remove("last-item");
  };
  const toggleContextMenu = isKeyBoard => {
    setShowContextMenu(!showContextMenu);
    setIsKeyboardAccess(isKeyBoard);
    if (!showContextMenu) {
      handleContextMenuShow();
    } else {
      handleContextMenuUpdate();
    }
  };
  function onContextMenuClick(e) {
    e.preventDefault();
    toggleContextMenu(false);
  }
  function onContextMenuKeyDown(e) {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      toggleContextMenu(true);
    }
  }
  function onUpdate() {
    setShowContextMenu(!showContextMenu);
  }
  function handleResultKeyDown(event, index) {
    const maxResults = suggestions.length;
    let nextIndex = index;
    if (event.key === "ArrowDown") {
      event.preventDefault();
      if (index < maxResults - 1) {
        nextIndex = index + 1;
      } else {
        return;
      }
    } else if (event.key === "ArrowUp") {
      event.preventDefault();
      if (index > 0) {
        nextIndex = index - 1;
      } else {
        return;
      }
    }
    resultRef.current[index].tabIndex = -1;
    resultRef.current[nextIndex].tabIndex = 0;
    resultRef.current[nextIndex].focus();
  }
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.TRENDING_SEARCH_IMPRESSION,
      data: {
        variant
      }
    }));
  }, [dispatch, variant]);
  const ref = useIntersectionObserver(handleIntersection);
  if (!suggestions?.length) {
    return null;
  } else if (variant === "a" || variant === "c") {
    return /*#__PURE__*/external_React_default().createElement("section", {
      ref: el => {
        ref.current = [el];
      }
      // Variant C matches the design of variant A but should only
      // appear on hover
      ,
      className: `trending-searches-pill-wrapper ${variant === "c" ? "hover-only" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "trending-searches-title-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "trending-searches-icon icon icon-arrow-trending"
    }), /*#__PURE__*/external_React_default().createElement("h2", {
      className: "trending-searches-title",
      "data-l10n-id": "newtab-trending-searches-title"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "close-open-trending-searches"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      iconsrc: `chrome://global/skin/icons/arrow-${collapsed ? "down" : "up"}.svg`,
      onClick: onArrowClick,
      className: `icon icon-arrowhead-up`,
      type: "icon ghost",
      "data-l10n-id": `newtab-trending-searches-${collapsed ? "show" : "hide"}-trending`
    }))), !collapsed && /*#__PURE__*/external_React_default().createElement("ul", {
      className: "trending-searches-list"
    }, suggestions.map((result, index) => {
      return /*#__PURE__*/external_React_default().createElement("li", {
        key: result.suggestion,
        className: "trending-search-item",
        onKeyDown: e => handleResultKeyDown(e, index)
      }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
        url: result.searchUrl,
        onLinkClick: handleLinkOpen,
        title: result.suggestion,
        setRef: item => resultRef.current[index] = item,
        tabIndex: index === 0 ? 0 : -1
      }, result.lowerCaseSuggestion));
    })));
  } else if (variant === "b") {
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: el => {
        ref.current = [el];
        contextMenuHost.current = el;
      },
      className: "trending-searches-list-view"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "trending-searches-list-view-header"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      "data-l10n-id": "newtab-trending-searches-title"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "trending-searches-context-menu-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: `trending-searches-context-menu ${showContextMenu ? "context-menu-open" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      type: "icon ghost",
      size: "default",
      "data-l10n-id": "newtab-menu-section-tooltip",
      iconsrc: "chrome://global/skin/icons/more.svg",
      onClick: onContextMenuClick,
      onKeyDown: onContextMenuKeyDown
    }), showContextMenu && /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      onUpdate: onUpdate,
      dispatch: dispatch,
      keyboardAccess: isKeyboardAccess,
      options: TRENDING_SEARCH_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      site: {
        url: "https://support.mozilla.org/1/firefox/%VERSION%/%OS%/%LOCALE%/trending-searches-new-tab",
        variant
      }
    })))), /*#__PURE__*/external_React_default().createElement("ul", {
      className: "trending-searches-list-items"
    }, suggestions.slice(0, 6).map((result, index) => {
      return /*#__PURE__*/external_React_default().createElement("li", {
        key: result.suggestion,
        className: `trending-searches-list-item ${refinedCards ? "compact" : ""}`,
        onKeyDown: e => handleResultKeyDown(e, index)
      }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
        url: result.searchUrl,
        onLinkClick: handleLinkOpen,
        title: result.suggestion,
        setRef: item => resultRef.current[index] = item,
        tabIndex: index === 0 ? 0 : -1
      }, result.icon ? /*#__PURE__*/external_React_default().createElement("div", {
        className: "trending-icon-wrapper"
      }, /*#__PURE__*/external_React_default().createElement("img", {
        src: result.icon,
        alt: "",
        className: "trending-icon"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "trending-info-wrapper"
      }, result.lowerCaseSuggestion, /*#__PURE__*/external_React_default().createElement("small", null, result.description))) : /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("span", {
        className: "trending-searches-icon icon icon-arrow-trending"
      }), result.lowerCaseSuggestion)));
    })));
  }
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/CardGrid/CardGrid.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










const PREF_SECTIONS_CARDS_ENABLED = "discoverystream.sections.cards.enabled";
const PREF_THUMBS_UP_DOWN_ENABLED = "discoverystream.thumbsUpDown.enabled";
const PREF_TOPICS_ENABLED = "discoverystream.topicLabels.enabled";
const PREF_TOPICS_SELECTED = "discoverystream.topicSelection.selectedTopics";
const PREF_TOPICS_AVAILABLE = "discoverystream.topicSelection.topics";
const PREF_SPOCS_STARTUPCACHE_ENABLED = "discoverystream.spocs.startupCache.enabled";
const PREF_LIST_FEED_ENABLED = "discoverystream.contextualContent.enabled";
const PREF_LIST_FEED_SELECTED_FEED = "discoverystream.contextualContent.selectedFeed";
const PREF_FAKESPOT_ENABLED = "discoverystream.contextualContent.fakespot.enabled";
const PREF_BILLBOARD_ENABLED = "newtabAdSize.billboard";
const PREF_BILLBOARD_POSITION = "newtabAdSize.billboard.position";
const PREF_LEADERBOARD_ENABLED = "newtabAdSize.leaderboard";
const PREF_LEADERBOARD_POSITION = "newtabAdSize.leaderboard.position";
const PREF_TRENDING_SEARCH = "trendingSearch.enabled";
const PREF_TRENDING_SEARCH_SYSTEM = "system.trendingSearch.enabled";
const PREF_SEARCH_ENGINE = "trendingSearch.defaultSearchEngine";
const PREF_TRENDING_SEARCH_VARIANT = "trendingSearch.variant";
const WIDGET_IDS = {
  TOPICS: 1
};
function DSSubHeader({
  children
}) {
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-top-bar ds-sub-header"
  }, /*#__PURE__*/external_React_default().createElement("h3", {
    className: "section-title-container"
  }, children));
}

// eslint-disable-next-line no-shadow
function CardGrid_IntersectionObserver({
  children,
  windowObj = window,
  onIntersecting
}) {
  const intersectionElement = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    let observer;
    if (!observer && onIntersecting && intersectionElement.current) {
      observer = new windowObj.IntersectionObserver(entries => {
        const entry = entries.find(e => e.isIntersecting);
        if (entry) {
          // Stop observing since element has been seen
          if (observer && intersectionElement.current) {
            observer.unobserve(intersectionElement.current);
          }
          onIntersecting();
        }
      });
      observer.observe(intersectionElement.current);
    }
    // Cleanup
    return () => observer?.disconnect();
  }, [windowObj, onIntersecting]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    ref: intersectionElement
  }, children);
}
class _CardGrid extends (external_React_default()).PureComponent {
  // eslint-disable-next-line max-statements
  renderCards() {
    const prefs = this.props.Prefs.values;
    const {
      items,
      ctaButtonSponsors,
      ctaButtonVariant,
      widgets,
      DiscoveryStream
    } = this.props;
    const {
      topicsLoading
    } = DiscoveryStream;
    const mayHaveSectionsCards = prefs[PREF_SECTIONS_CARDS_ENABLED];
    const mayHaveThumbsUpDown = prefs[PREF_THUMBS_UP_DOWN_ENABLED];
    const showTopics = prefs[PREF_TOPICS_ENABLED];
    const selectedTopics = prefs[PREF_TOPICS_SELECTED];
    const availableTopics = prefs[PREF_TOPICS_AVAILABLE];
    const spocsStartupCacheEnabled = prefs[PREF_SPOCS_STARTUPCACHE_ENABLED];
    const listFeedEnabled = prefs[PREF_LIST_FEED_ENABLED];
    const listFeedSelectedFeed = prefs[PREF_LIST_FEED_SELECTED_FEED];
    const billboardEnabled = prefs[PREF_BILLBOARD_ENABLED];
    const leaderboardEnabled = prefs[PREF_LEADERBOARD_ENABLED];
    const trendingEnabled = prefs[PREF_TRENDING_SEARCH] && prefs[PREF_TRENDING_SEARCH_SYSTEM] && prefs[PREF_SEARCH_ENGINE]?.toLowerCase() === "google";
    const trendingVariant = prefs[PREF_TRENDING_SEARCH_VARIANT];

    // filter out recs that should be in ListFeed
    const recs = this.props.data.recommendations.filter(item => !item.feedName).slice(0, items);
    const cards = [];
    for (let index = 0; index < items; index++) {
      const rec = recs[index];
      cards.push(topicsLoading || !rec || rec.placeholder || rec.flight_id && !spocsStartupCacheEnabled && this.props.App.isForStartupCache.DiscoveryStream ? /*#__PURE__*/external_React_default().createElement(PlaceholderDSCard, {
        key: `dscard-${index}`
      }) : /*#__PURE__*/external_React_default().createElement(DSCard, {
        key: `dscard-${rec.id}`,
        pos: rec.pos,
        flightId: rec.flight_id,
        image_src: rec.image_src,
        raw_image_src: rec.raw_image_src,
        icon_src: rec.icon_src,
        word_count: rec.word_count,
        time_to_read: rec.time_to_read,
        title: rec.title,
        topic: rec.topic,
        features: rec.features,
        showTopics: showTopics,
        selectedTopics: selectedTopics,
        excerpt: rec.excerpt,
        availableTopics: availableTopics,
        url: rec.url,
        id: rec.id,
        shim: rec.shim,
        fetchTimestamp: rec.fetchTimestamp,
        type: this.props.type,
        context: rec.context,
        sponsor: rec.sponsor,
        sponsored_by_override: rec.sponsored_by_override,
        dispatch: this.props.dispatch,
        source: rec.domain,
        publisher: rec.publisher,
        pocket_id: rec.pocket_id,
        context_type: rec.context_type,
        bookmarkGuid: rec.bookmarkGuid,
        ctaButtonSponsors: ctaButtonSponsors,
        ctaButtonVariant: ctaButtonVariant,
        recommendation_id: rec.recommendation_id,
        firstVisibleTimestamp: this.props.firstVisibleTimestamp,
        mayHaveThumbsUpDown: mayHaveThumbsUpDown,
        mayHaveSectionsCards: mayHaveSectionsCards,
        corpus_item_id: rec.corpus_item_id,
        scheduled_corpus_item_id: rec.scheduled_corpus_item_id,
        recommended_at: rec.recommended_at,
        received_rank: rec.received_rank,
        format: rec.format,
        alt_text: rec.alt_text,
        isTimeSensitive: rec.isTimeSensitive
      }));
    }
    if (widgets?.positions?.length && widgets?.data?.length) {
      let positionIndex = 0;
      const source = "CARDGRID_WIDGET";
      for (const widget of widgets.data) {
        let widgetComponent = null;
        const position = widgets.positions[positionIndex];

        // Stop if we run out of positions to place widgets.
        if (!position) {
          break;
        }
        switch (widget?.type) {
          case "TopicsWidget":
            widgetComponent = /*#__PURE__*/external_React_default().createElement(TopicsWidget, {
              position: position.index,
              dispatch: this.props.dispatch,
              source: source,
              id: WIDGET_IDS.TOPICS
            });
            break;
        }
        if (widgetComponent) {
          // We found a widget, so up the position for next try.
          positionIndex++;
          // We replace an existing card with the widget.
          cards.splice(position.index, 1, widgetComponent);
        }
      }
    }
    if (listFeedEnabled) {
      const isFakespot = listFeedSelectedFeed === "fakespot";
      const fakespotEnabled = prefs[PREF_FAKESPOT_ENABLED];
      if (!isFakespot || isFakespot && fakespotEnabled) {
        // Place the list feed as the 3rd element in the card grid
        cards.splice(2, 1, this.renderListFeed(this.props.data.recommendations, listFeedSelectedFeed));
      }
    }
    if (trendingEnabled && trendingVariant === "b") {
      const firstSpocPosition = this.props.spocPositions[0]?.index;
      // double check that a spoc/mrec is actually in the index it should be in
      const format = cards[firstSpocPosition]?.props?.format;
      const isSpoc = format === "spoc" || format === "rectangle";
      // if the spoc is not in its position, place TrendingSearches in the 3rd position
      cards.splice(isSpoc ? firstSpocPosition + 1 : 2, 1, /*#__PURE__*/external_React_default().createElement(TrendingSearches, null));
    }

    // if a banner ad is enabled and we have any available, place them in the grid
    const {
      spocs
    } = this.props.DiscoveryStream;
    if ((billboardEnabled || leaderboardEnabled) && spocs?.data?.newtab_spocs?.items) {
      // Only render one AdBanner in the grid -
      // Prioritize rendering a leaderboard if it exists,
      // otherwise render a billboard
      const spocToRender = spocs.data.newtab_spocs.items.find(({
        format
      }) => format === "leaderboard" && leaderboardEnabled) || spocs.data.newtab_spocs.items.find(({
        format
      }) => format === "billboard" && billboardEnabled);
      if (spocToRender && !spocs.blocked.includes(spocToRender.url)) {
        const row = spocToRender.format === "leaderboard" ? prefs[PREF_LEADERBOARD_POSITION] : prefs[PREF_BILLBOARD_POSITION];
        function displayCardsPerRow() {
          // Determines the number of cards per row based on the window width:
          // width <= 1122px: 2 cards per row
          // width 1123px to 1697px: 3 cards per row
          // width >= 1698px: 4 cards per row
          if (window.innerWidth <= 1122) {
            return 2;
          } else if (window.innerWidth > 1122 && window.innerWidth < 1698) {
            return 3;
          }
          return 4;
        }
        const injectAdBanner = bannerIndex => {
          // .splice() inserts the AdBanner at the desired index, ensuring correct DOM order for accessibility and keyboard navigation.
          // .push() would place it at the end, which is visually incorrect even if adjusted with CSS.
          cards.splice(bannerIndex, 0, /*#__PURE__*/external_React_default().createElement(AdBanner, {
            spoc: spocToRender,
            key: `dscard-${spocToRender.id}`,
            dispatch: this.props.dispatch,
            type: this.props.type,
            firstVisibleTimestamp: this.props.firstVisibleTimestamp,
            row: row,
            prefs: prefs
          }));
        };
        const getBannerIndex = () => {
          // Calculate the index for where the AdBanner should be added, depending on number of cards per row on the grid
          const cardsPerRow = displayCardsPerRow();
          let bannerIndex = (row - 1) * cardsPerRow;
          return bannerIndex;
        };
        injectAdBanner(getBannerIndex());
      }
    }
    const gridClassName = this.renderGridClassName();
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, cards?.length > 0 && /*#__PURE__*/external_React_default().createElement("div", {
      className: gridClassName
    }, cards));
  }
  renderListFeed(recommendations, selectedFeed) {
    const recs = recommendations.filter(item => item.feedName === selectedFeed);
    const isFakespot = selectedFeed === "fakespot";
    // remove duplicates from category list
    const categories = [...new Set(recs.map(({
      category
    }) => category))];
    const listFeed = /*#__PURE__*/external_React_default().createElement(ListFeed
    // only display recs that match selectedFeed for ListFeed
    , {
      recs: recs,
      categories: isFakespot ? categories : [],
      firstVisibleTimestamp: this.props.firstVisibleTimestamp,
      type: this.props.type,
      dispatch: this.props.dispatch
    });
    return listFeed;
  }
  renderGridClassName() {
    const {
      hybridLayout,
      hideCardBackground,
      fourCardLayout,
      compactGrid,
      hideDescriptions
    } = this.props;
    const hideCardBackgroundClass = hideCardBackground ? `ds-card-grid-hide-background` : ``;
    const fourCardLayoutClass = fourCardLayout ? `ds-card-grid-four-card-variant` : ``;
    const hideDescriptionsClassName = !hideDescriptions ? `ds-card-grid-include-descriptions` : ``;
    const compactGridClassName = compactGrid ? `ds-card-grid-compact` : ``;
    const hybridLayoutClassName = hybridLayout ? `ds-card-grid-hybrid-layout` : ``;
    const gridClassName = `ds-card-grid ${hybridLayoutClassName} ${hideCardBackgroundClass} ${fourCardLayoutClass} ${hideDescriptionsClassName} ${compactGridClassName}`;
    return gridClassName;
  }
  render() {
    const {
      data
    } = this.props;

    // Handle a render before feed has been fetched by displaying nothing
    if (!data) {
      return null;
    }

    // Handle the case where a user has dismissed all recommendations
    const isEmpty = data.recommendations.length === 0;
    return /*#__PURE__*/external_React_default().createElement("div", null, this.props.title && /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-header"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "title"
    }, this.props.title), this.props.context && /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: this.props.context
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-context"
    }))), isEmpty ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-card-grid empty"
    }, /*#__PURE__*/external_React_default().createElement(DSEmptyState, {
      status: data.status,
      dispatch: this.props.dispatch,
      feed: this.props.feed
    })) : this.renderCards());
  }
}
_CardGrid.defaultProps = {
  items: 4 // Number of stories to display
};
const CardGrid = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs,
  App: state.App,
  DiscoveryStream: state.DiscoveryStream
}))(_CardGrid);
;// CONCATENATED MODULE: ./content-src/components/A11yLinkButton/A11yLinkButton.jsx
function A11yLinkButton_extends() { return A11yLinkButton_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, A11yLinkButton_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function A11yLinkButton(props) {
  // function for merging classes, if necessary
  let className = "a11y-link-button";
  if (props.className) {
    className += ` ${props.className}`;
  }
  return /*#__PURE__*/external_React_default().createElement("button", A11yLinkButton_extends({
    type: "button"
  }, props, {
    className: className
  }), props.children);
}
;// CONCATENATED MODULE: ./content-src/components/ErrorBoundary/ErrorBoundary.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class ErrorBoundaryFallback extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.windowObj = this.props.windowObj || window;
    this.onClick = this.onClick.bind(this);
  }

  /**
   * Since we only get here if part of the page has crashed, do a
   * forced reload to give us the best chance at recovering.
   */
  onClick() {
    this.windowObj.location.reload(true);
  }
  render() {
    const defaultClass = "as-error-fallback";
    let className;
    if ("className" in this.props) {
      className = `${this.props.className} ${defaultClass}`;
    } else {
      className = defaultClass;
    }

    // "A11yLinkButton" to force normal link styling stuff (eg cursor on hover)
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: className
    }, /*#__PURE__*/external_React_default().createElement("div", {
      "data-l10n-id": "newtab-error-fallback-info"
    }), /*#__PURE__*/external_React_default().createElement("span", null, /*#__PURE__*/external_React_default().createElement(A11yLinkButton, {
      className: "reload-button",
      onClick: this.onClick,
      "data-l10n-id": "newtab-error-fallback-refresh-link"
    })));
  }
}
ErrorBoundaryFallback.defaultProps = {
  className: "as-error-fallback"
};
class ErrorBoundary extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      hasError: false
    };
  }
  componentDidCatch() {
    this.setState({
      hasError: true
    });
  }
  render() {
    if (!this.state.hasError) {
      return this.props.children;
    }
    return /*#__PURE__*/external_React_default().createElement(this.props.FallbackComponent, {
      className: this.props.className
    });
  }
}
ErrorBoundary.defaultProps = {
  FallbackComponent: ErrorBoundaryFallback
};
;// CONCATENATED MODULE: ./content-src/components/CollapsibleSection/CollapsibleSection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







/**
 * A section that can collapse. As of bug 1710937, it can no longer collapse.
 * See bug 1727365 for follow-up work to simplify this component.
 */
class _CollapsibleSection extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onBodyMount = this.onBodyMount.bind(this);
    this.onMenuButtonMouseEnter = this.onMenuButtonMouseEnter.bind(this);
    this.onMenuButtonMouseLeave = this.onMenuButtonMouseLeave.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.setContextMenuButtonRef = this.setContextMenuButtonRef.bind(this);
    this.handleTopicSelectionButtonClick = this.handleTopicSelectionButtonClick.bind(this);
    this.state = {
      menuButtonHover: false,
      showContextMenu: false
    };
  }
  setContextMenuButtonRef(element) {
    this.contextMenuButtonRef = element;
  }
  onBodyMount(node) {
    this.sectionBody = node;
  }
  onMenuButtonMouseEnter() {
    this.setState({
      menuButtonHover: true
    });
  }
  onMenuButtonMouseLeave() {
    this.setState({
      menuButtonHover: false
    });
  }
  onMenuUpdate(showContextMenu) {
    this.setState({
      showContextMenu
    });
  }
  handleTopicSelectionButtonClick() {
    const maybeDisplay = this.props.Prefs.values["discoverystream.topicSelection.onboarding.maybeDisplay"];
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.TOPIC_SELECTION_USER_OPEN
    }));
    if (maybeDisplay) {
      // if still part of onboarding, remove user from onboarding flow
      this.props.dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
    }
    this.props.dispatch(actionCreators.BroadcastToContent({
      type: actionTypes.TOPIC_SELECTION_SPOTLIGHT_OPEN
    }));
  }
  render() {
    const {
      isAnimating,
      maxHeight,
      menuButtonHover,
      showContextMenu
    } = this.state;
    const {
      id,
      collapsed,
      title,
      subTitle,
      mayHaveTopicsSelection,
      sectionsEnabled
    } = this.props;
    const active = menuButtonHover || showContextMenu;
    let bodyStyle;
    if (isAnimating && !collapsed) {
      bodyStyle = {
        maxHeight
      };
    } else if (!isAnimating && collapsed) {
      bodyStyle = {
        display: "none"
      };
    }
    let titleStyle;
    if (this.props.hideTitle) {
      titleStyle = {
        visibility: "hidden"
      };
    }
    const hasSubtitleClassName = subTitle ? `has-subtitle` : ``;
    const hasBeenUpdatedPreviously = this.props.Prefs.values["discoverystream.topicSelection.hasBeenUpdatedPreviously"];
    const selectedTopics = this.props.Prefs.values["discoverystream.topicSelection.selectedTopics"];
    const topicsHaveBeenPreviouslySet = hasBeenUpdatedPreviously || selectedTopics;
    return /*#__PURE__*/external_React_default().createElement("section", {
      className: `collapsible-section ${this.props.className}${active ? " active" : ""}`
      // Note: data-section-id is used for web extension api tests in mozilla central
      ,
      "data-section-id": id
    }, !sectionsEnabled && /*#__PURE__*/external_React_default().createElement("div", {
      className: "section-top-bar"
    }, /*#__PURE__*/external_React_default().createElement("h2", {
      className: `section-title-container ${hasSubtitleClassName}`,
      style: titleStyle
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-title"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: title
    })), subTitle && /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-sub-title"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: subTitle
    }))), mayHaveTopicsSelection && /*#__PURE__*/external_React_default().createElement("div", {
      className: "button-topic-selection"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      "data-l10n-id": topicsHaveBeenPreviouslySet ? "newtab-topic-selection-button-update-interests" : "newtab-topic-selection-button-pick-interests",
      type: topicsHaveBeenPreviouslySet ? "default" : "primary",
      onClick: this.handleTopicSelectionButtonClick
    }))), /*#__PURE__*/external_React_default().createElement(ErrorBoundary, {
      className: "section-body-fallback"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      ref: this.onBodyMount,
      style: bodyStyle
    }, this.props.children)));
  }
}
_CollapsibleSection.defaultProps = {
  document: globalThis.document || {
    addEventListener: () => {},
    removeEventListener: () => {},
    visibilityState: "hidden"
  }
};
const CollapsibleSection = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_CollapsibleSection);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSMessage/DSMessage.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class DSMessage extends (external_React_default()).PureComponent {
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-message"
    }, /*#__PURE__*/external_React_default().createElement("header", {
      className: "title"
    }, this.props.icon && /*#__PURE__*/external_React_default().createElement("div", {
      className: "glyph",
      style: {
        backgroundImage: `url(${this.props.icon})`
      }
    }), this.props.title && /*#__PURE__*/external_React_default().createElement("span", {
      className: "title-text"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: this.props.title
    })), this.props.link_text && this.props.link_url && /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "link",
      url: this.props.link_url
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: this.props.link_text
    }))));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/ReportContent/ReportContent.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */



const ReportContent = spocs => {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const modal = (0,external_React_namespaceObject.useRef)(null);
  const radioGroupRef = (0,external_React_namespaceObject.useRef)(null);
  const submitButtonRef = (0,external_React_namespaceObject.useRef)(null);
  const report = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream.report);
  const [valueSelected, setValueSelected] = (0,external_React_namespaceObject.useState)(false);
  const [selectedReason, setSelectedReason] = (0,external_React_namespaceObject.useState)(null);
  const spocData = spocs.spocs.data;

  // Sends a dispatch to update the redux store when modal is cancelled
  const handleCancel = () => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.REPORT_CLOSE
    }));
  };
  const handleSubmit = (0,external_React_namespaceObject.useCallback)(() => {
    const {
      card_type,
      corpus_item_id,
      position,
      reporting_url,
      scheduled_corpus_item_id,
      section_position,
      section,
      title,
      topic,
      url
    } = report;
    if (card_type === "organic") {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.REPORT_CONTENT_SUBMIT,
        data: {
          card_type,
          corpus_item_id,
          report_reason: selectedReason,
          scheduled_corpus_item_id,
          section_position,
          section,
          title,
          topic,
          url
        }
      }));
    } else if (card_type === "spoc") {
      // Retrieve placement_id by comparing spocData with the ad that was reported
      const getPlacementId = () => {
        if (!spocData || !report.url) {
          return null;
        }
        for (const [placementId, spocList] of Object.entries(spocData)) {
          for (const spoc of Object.values(spocList)) {
            if (spoc?.url === report.url) {
              return placementId;
            }
          }
        }
        return null;
      };
      const placement_id = getPlacementId();
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.REPORT_AD_SUBMIT,
        data: {
          report_reason: selectedReason,
          placement_id,
          position,
          reporting_url,
          url
        }
      }));
    }
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.BLOCK_URL,
      data: [{
        ...report
      }]
    }));
    dispatch(actionCreators.OnlyToOneContent({
      type: actionTypes.SHOW_TOAST_MESSAGE,
      data: {
        toastId: "reportSuccessToast",
        showNotifications: true
      }
    }, "ActivityStream:Content"));
  }, [dispatch, selectedReason, report, spocData]);

  // Opens and closes the modal based on user interaction
  (0,external_React_namespaceObject.useEffect)(() => {
    if (report.visible && modal?.current) {
      modal.current.showModal();

      // Clear any previously selected radio button
      const radioGroup = radioGroupRef.current;
      if (radioGroup) {
        const selectedRadioButton = radioGroup.querySelector("moz-radio[checked]");
        if (selectedRadioButton) {
          selectedRadioButton.removeAttribute("checked");
        }
      }

      // Clear out the states
      setValueSelected(false);
      setSelectedReason(null);
    } else if (!report.visible && modal?.current?.open) {
      modal.current.close();
    }
  }, [report.visible]);

  // Updates the submit button's state based on if a value is selected
  (0,external_React_namespaceObject.useEffect)(() => {
    const radioGroup = radioGroupRef.current;
    const submitButton = submitButtonRef.current;
    const handleRadioChange = e => {
      const reasonValue = e?.target?.value;
      if (reasonValue) {
        setValueSelected(true);
        setSelectedReason(reasonValue);
      }
    };
    if (radioGroup) {
      radioGroup.addEventListener("change", handleRadioChange);
    }

    // Handle submit button state on valueSelected change
    const updateSubmitState = () => {
      if (valueSelected) {
        submitButton.removeAttribute("disabled");
      } else {
        submitButton.setAttribute("disabled", "");
      }
    };
    updateSubmitState();
    return () => {
      if (radioGroup) {
        radioGroup.removeEventListener("change", handleRadioChange);
      }
    };
  }, [valueSelected, selectedReason]);
  return /*#__PURE__*/external_React_default().createElement("dialog", {
    className: "report-content-form",
    id: "dialog-report",
    ref: modal,
    onClose: () => dispatch({
      type: actionTypes.REPORT_CLOSE
    })
  }, /*#__PURE__*/external_React_default().createElement("form", {
    action: ""
  }, report.card_type === "spoc" ? /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("moz-radio-group", {
    name: "report",
    ref: radioGroupRef,
    id: "report-group",
    "data-l10n-id": "newtab-report-ads-why-reporting",
    className: "report-ads-options"
  }, /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-ads-reason-not-interested",
    value: "not_interested"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-ads-reason-inappropriate",
    value: "inappropriate"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-ads-reason-seen-it-too-many-times",
    value: "seen_too_many_times"
  }))) : /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("moz-radio-group", {
    name: "report",
    ref: radioGroupRef,
    id: "report-group",
    "data-l10n-id": "newtab-report-content-why-reporting-this",
    className: "report-content-options"
  }, /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-wrong-category",
    value: "wrong_category"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-outdated",
    value: "outdated"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-inappropriate-offensive",
    value: "inappropriate_or_offensive"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-spam-misleading",
    value: "spam_or_misleading"
  }))), /*#__PURE__*/external_React_default().createElement("moz-button-group", null, /*#__PURE__*/external_React_default().createElement("moz-button", {
    "data-l10n-id": "newtab-report-cancel",
    onClick: handleCancel,
    className: "cancel-report-btn"
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "primary",
    "data-l10n-id": "newtab-report-submit",
    ref: submitButtonRef,
    onClick: handleSubmit,
    className: "submit-report-btn"
  }))));
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSSignup/DSSignup.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







class DSSignup extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      active: false,
      lastItem: false
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);
  }
  onMenuButtonUpdate(showContextMenu) {
    if (!showContextMenu) {
      this.setState({
        active: false,
        lastItem: false
      });
    }
  }
  nextAnimationFrame() {
    return new Promise(resolve => this.props.windowObj.requestAnimationFrame(resolve));
  }
  async onMenuShow() {
    let {
      lastItem
    } = this.state;
    // Wait for next frame before computing scrollMaxX to allow fluent menu strings to be visible
    await this.nextAnimationFrame();
    if (this.props.windowObj.scrollMaxX > 0) {
      lastItem = true;
    }
    this.setState({
      active: true,
      lastItem
    });
  }
  onLinkClick() {
    const {
      data
    } = this.props;
    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase();
      // Grab the first item in the array as we only have 1 spoc position.
      const [spoc] = data.spocs;
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(actionCreators.ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }
  render() {
    const {
      data,
      dispatch,
      type
    } = this.props;
    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    }
    // Grab the first item in the array as we only have 1 spoc position.
    const [spoc] = data.spocs;
    const {
      title,
      url,
      excerpt,
      flight_id,
      id,
      shim
    } = spoc;
    const SIGNUP_CONTEXT_MENU_OPTIONS = ["OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(flight_id ? ["ShowPrivacyInfo"] : [])];
    const outerClassName = ["ds-signup", this.state.active && "active", this.state.lastItem && "last-item"].filter(v => v).join(" ");
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: outerClassName
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-signup-content"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-small-spacer icon-mail"
    }), /*#__PURE__*/external_React_default().createElement("span", null, title, " ", /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-chevron-link",
      dispatch: dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, excerpt)), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: dispatch,
      source: type
    })), /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: 0,
      source: type.toUpperCase(),
      onShow: this.onMenuShow,
      options: SIGNUP_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      userEvent: actionCreators.DiscoveryStreamUserEvent,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title,
        type,
        url,
        guid: id,
        shim,
        flight_id
      }
    })));
  }
}
DSSignup.defaultProps = {
  windowObj: window // Added to support unit tests
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSDismiss/DSDismiss.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class DSDismiss extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onDismissClick = this.onDismissClick.bind(this);
    this.onHover = this.onHover.bind(this);
    this.offHover = this.offHover.bind(this);
    this.state = {
      hovering: false
    };
  }
  onDismissClick() {
    if (this.props.onDismissClick) {
      this.props.onDismissClick();
    }
  }
  onHover() {
    this.setState({
      hovering: true
    });
  }
  offHover() {
    this.setState({
      hovering: false
    });
  }
  render() {
    let className = `ds-dismiss
      ${this.state.hovering ? ` hovering` : ``}
      ${this.props.extraClasses ? ` ${this.props.extraClasses}` : ``}`;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: className
    }, this.props.children, /*#__PURE__*/external_React_default().createElement("button", {
      className: "ds-dismiss-button",
      "data-l10n-id": "newtab-dismiss-button-tooltip",
      onClick: this.onDismissClick,
      onMouseEnter: this.onHover,
      onMouseLeave: this.offHover
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-dismiss"
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSTextPromo/DSTextPromo.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








class DSTextPromo extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onDismissClick = this.onDismissClick.bind(this);
  }
  onLinkClick() {
    const {
      data
    } = this.props;
    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase();
      // Grab the first item in the array as we only have 1 spoc position.
      const [spoc] = data.spocs;
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(actionCreators.ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }
  onDismissClick() {
    const {
      data
    } = this.props;
    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const index = 0;
      const source = this.props.type.toUpperCase();
      // Grab the first item in the array as we only have 1 spoc position.
      const [spoc] = data.spocs;
      const spocData = {
        url: spoc.url,
        guid: spoc.id,
        shim: spoc.shim
      };
      const blockUrlOption = LinkMenuOptions.BlockUrl(spocData, index, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      this.props.dispatch(action);
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: userEvent,
        source,
        action_position: index
      }));
      if (impression) {
        this.props.dispatch(impression);
      }
    }
  }
  render() {
    const {
      data
    } = this.props;
    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    }
    // Grab the first item in the array as we only have 1 spoc position.
    const [spoc] = data.spocs;
    const {
      image_src,
      raw_image_src,
      alt_text,
      title,
      url,
      context,
      cta,
      flight_id,
      id,
      shim
    } = spoc;
    return /*#__PURE__*/external_React_default().createElement(DSDismiss, {
      onDismissClick: this.onDismissClick,
      extraClasses: `ds-dismiss-ds-text-promo`
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-text-promo"
    }, /*#__PURE__*/external_React_default().createElement(DSImage, {
      alt_text: alt_text,
      source: image_src,
      rawSource: raw_image_src
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "text"
    }, /*#__PURE__*/external_React_default().createElement("h3", null, `${title}\u2003`, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-chevron-link",
      dispatch: this.props.dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, cta)), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle"
    }, context)), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: this.props.dispatch,
      source: this.props.type
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/lib/screenshot-utils.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * List of helper functions for screenshot-based images.
 *
 * There are two kinds of images:
 * 1. Remote Image: This is the image from the main process and it refers to
 *    the image in the React props. This can either be an object with the `data`
 *    and `path` properties, if it is a blob, or a string, if it is a normal image.
 * 2. Local Image: This is the image object in the content process and it refers
 *    to the image *object* in the React component's state. All local image
 *    objects have the `url` property, and an additional property `path`, if they
 *    are blobs.
 */
const ScreenshotUtils = {
  isBlob(isLocal, image) {
    return !!(
      image &&
      image.path &&
      ((!isLocal && image.data) || (isLocal && image.url))
    );
  },

  // This should always be called with a remote image and not a local image.
  createLocalImageObject(remoteImage) {
    if (!remoteImage) {
      return null;
    }
    if (this.isBlob(false, remoteImage)) {
      return {
        url: globalThis.URL.createObjectURL(remoteImage.data),
        path: remoteImage.path,
      };
    }
    return { url: remoteImage };
  },

  // Revokes the object URL of the image if the local image is a blob.
  // This should always be called with a local image and not a remote image.
  maybeRevokeBlobObjectURL(localImage) {
    if (this.isBlob(true, localImage)) {
      globalThis.URL.revokeObjectURL(localImage.url);
    }
  },

  // Checks if remoteImage and localImage are the same.
  isRemoteImageLocal(localImage, remoteImage) {
    // Both remoteImage and localImage are present.
    if (remoteImage && localImage) {
      return this.isBlob(false, remoteImage)
        ? localImage.path === remoteImage.path
        : localImage.url === remoteImage;
    }

    // This will only handle the remaining three possible outcomes.
    // (i.e. everything except when both image and localImage are present)
    return !remoteImage && !localImage;
  },
};

;// CONCATENATED MODULE: ./content-src/components/Card/Card.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









// Keep track of pending image loads to only request once
const gImageLoading = new Map();

/**
 * Card component.
 * Cards are found within a Section component and contain information about a link such
 * as preview image, page title, page description, and some context about if the page
 * was visited, bookmarked, trending etc...
 * Each Section can make an unordered list of Cards which will create one instane of
 * this class. Each card will then get a context menu which reflects the actions that
 * can be done on this Card.
 */
class _Card extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      activeCard: null,
      imageLoaded: false,
      cardImage: null
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  /**
   * Helper to conditionally load an image and update state when it loads.
   */
  async maybeLoadImage() {
    // No need to load if it's already loaded or no image
    const {
      cardImage
    } = this.state;
    if (!cardImage) {
      return;
    }
    const imageUrl = cardImage.url;
    if (!this.state.imageLoaded) {
      // Initialize a promise to share a load across multiple card updates
      if (!gImageLoading.has(imageUrl)) {
        const loaderPromise = new Promise((resolve, reject) => {
          const loader = new Image();
          loader.addEventListener("load", resolve);
          loader.addEventListener("error", reject);
          loader.src = imageUrl;
        });

        // Save and remove the promise only while it's pending
        gImageLoading.set(imageUrl, loaderPromise);
        loaderPromise.catch(ex => ex).then(() => gImageLoading.delete(imageUrl));
      }

      // Wait for the image whether just started loading or reused promise
      try {
        await gImageLoading.get(imageUrl);
      } catch (ex) {
        // Ignore the failed image without changing state
        return;
      }

      // Only update state if we're still waiting to load the original image
      if (ScreenshotUtils.isRemoteImageLocal(this.state.cardImage, this.props.link.image) && !this.state.imageLoaded) {
        this.setState({
          imageLoaded: true
        });
      }
    }
  }

  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */
  static getNextStateFromProps(nextProps, prevState) {
    const {
      image
    } = nextProps.link;
    const imageInState = ScreenshotUtils.isRemoteImageLocal(prevState.cardImage, image);
    let nextState = null;

    // Image is updating.
    if (!imageInState && nextProps.link) {
      nextState = {
        imageLoaded: false
      };
    }
    if (imageInState) {
      return nextState;
    }

    // Since image was updated, attempt to revoke old image blob URL, if it exists.
    ScreenshotUtils.maybeRevokeBlobObjectURL(prevState.cardImage);
    nextState = nextState || {};
    nextState.cardImage = ScreenshotUtils.createLocalImageObject(image);
    return nextState;
  }
  onMenuButtonUpdate(isOpen) {
    if (isOpen) {
      this.setState({
        activeCard: this.props.index
      });
    } else {
      this.setState({
        activeCard: null
      });
    }
  }

  /**
   * Report to telemetry additional information about the item.
   */
  _getTelemetryInfo() {
    // Filter out "history" type for being the default
    if (this.props.link.type !== "history") {
      return {
        value: {
          card_type: this.props.link.type
        }
      };
    }
    return null;
  }
  onLinkClick(event) {
    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;
    if (this.props.link.type === "download") {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_DOWNLOAD_FILE,
        data: Object.assign(this.props.link, {
          event: {
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    } else {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    }
    if (this.props.isWebExtension) {
      this.props.dispatch(actionCreators.WebExtEvent(actionTypes.WEBEXT_CLICK, {
        source: this.props.eventSource,
        url: this.props.link.url,
        action_position: this.props.index
      }));
    } else {
      this.props.dispatch(actionCreators.UserEvent(Object.assign({
        event: "CLICK",
        source: this.props.eventSource,
        action_position: this.props.index
      }, this._getTelemetryInfo())));
      if (this.props.shouldSendImpressionStats) {
        this.props.dispatch(actionCreators.ImpressionStats({
          source: this.props.eventSource,
          click: 0,
          tiles: [{
            id: this.props.link.guid,
            pos: this.props.index
          }]
        }));
      }
    }
  }
  componentDidMount() {
    this.maybeLoadImage();
  }
  componentDidUpdate() {
    this.maybeLoadImage();
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillMount() {
    const nextState = _Card.getNextStateFromProps(this.props, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillReceiveProps(nextProps) {
    const nextState = _Card.getNextStateFromProps(nextProps, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }
  componentWillUnmount() {
    ScreenshotUtils.maybeRevokeBlobObjectURL(this.state.cardImage);
  }
  render() {
    const {
      index,
      className,
      link,
      dispatch,
      contextMenuOptions,
      eventSource,
      shouldSendImpressionStats
    } = this.props;
    const {
      props
    } = this;
    const title = link.title || link.hostname;
    const isContextMenuOpen = this.state.activeCard === index;
    // Display "now" as "trending" until we have new strings #3402
    const {
      icon,
      fluentID
    } = cardContextTypes[link.type === "now" ? "trending" : link.type] || {};
    const hasImage = this.state.cardImage || link.hasImage;
    const imageStyle = {
      backgroundImage: this.state.cardImage ? `url(${this.state.cardImage.url})` : "none"
    };
    const outerClassName = ["card-outer", className, isContextMenuOpen && "active", props.placeholder && "placeholder"].filter(v => v).join(" ");
    return /*#__PURE__*/external_React_default().createElement("li", {
      className: outerClassName
    }, /*#__PURE__*/external_React_default().createElement("a", {
      href: link.type === "pocket" ? link.open_url : link.url,
      onClick: !props.placeholder ? this.onLinkClick : undefined
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "card"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-preview-image-outer"
    }, hasImage && /*#__PURE__*/external_React_default().createElement("div", {
      className: `card-preview-image${this.state.imageLoaded ? " loaded" : ""}`,
      style: imageStyle
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-details"
    }, link.type === "download" && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-host-name alternate",
      "data-l10n-id": "newtab-menu-open-file"
    }), link.hostname && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-host-name"
    }, link.hostname.slice(0, 100), link.type === "download" && `  \u2014 ${link.description}`), /*#__PURE__*/external_React_default().createElement("div", {
      className: ["card-text", icon ? "" : "no-context", link.description ? "" : "no-description", link.hostname ? "" : "no-host-name"].join(" ")
    }, /*#__PURE__*/external_React_default().createElement("h4", {
      className: "card-title",
      dir: "auto"
    }, link.title), /*#__PURE__*/external_React_default().createElement("p", {
      className: "card-description",
      dir: "auto"
    }, link.description)), /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-context"
    }, icon && !link.context && /*#__PURE__*/external_React_default().createElement("span", {
      "aria-haspopup": "true",
      className: `card-context-icon icon icon-${icon}`
    }), link.icon && link.context && /*#__PURE__*/external_React_default().createElement("span", {
      "aria-haspopup": "true",
      className: "card-context-icon icon",
      style: {
        backgroundImage: `url('${link.icon}')`
      }
    }), fluentID && !link.context && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-context-label",
      "data-l10n-id": fluentID
    }), link.context && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-context-label"
    }, link.context))))), !props.placeholder && /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: index,
      source: eventSource,
      options: link.contextMenuOptions || contextMenuOptions,
      site: link,
      siteInfo: this._getTelemetryInfo(),
      shouldSendImpressionStats: shouldSendImpressionStats
    })));
  }
}
_Card.defaultProps = {
  link: {}
};
const Card = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  platform: state.Prefs.values.platform
}))(_Card);
const PlaceholderCard = props => /*#__PURE__*/external_React_default().createElement(Card, {
  placeholder: true,
  className: props.className
});
;// CONCATENATED MODULE: ./content-src/lib/perf-service.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

let usablePerfObj = window.performance;

function _PerfService(options) {
  // For testing, so that we can use a fake Window.performance object with
  // known state.
  if (options && options.performanceObj) {
    this._perf = options.performanceObj;
  } else {
    this._perf = usablePerfObj;
  }
}

_PerfService.prototype = {
  /**
   * Calls the underlying mark() method on the appropriate Window.performance
   * object to add a mark with the given name to the appropriate performance
   * timeline.
   *
   * @param  {String} name  the name to give the current mark
   * @return {void}
   */
  mark: function mark(str) {
    this._perf.mark(str);
  },

  /**
   * Calls the underlying getEntriesByName on the appropriate Window.performance
   * object.
   *
   * @param  {String} name
   * @param  {String} type eg "mark"
   * @return {Array}       Performance* objects
   */
  getEntriesByName: function getEntriesByName(entryName, type) {
    return this._perf.getEntriesByName(entryName, type);
  },

  /**
   * The timeOrigin property from the appropriate performance object.
   * Used to ensure that timestamps from the add-on code and the content code
   * are comparable.
   *
   * @note If this is called from a context without a window
   * (eg a JSM in chrome), it will return the timeOrigin of the XUL hidden
   * window, which appears to be the first created window (and thus
   * timeOrigin) in the browser.  Note also, however, there is also a private
   * hidden window, presumably for private browsing, which appears to be
   * created dynamically later.  Exactly how/when that shows up needs to be
   * investigated.
   *
   * @return {Number} A double of milliseconds with a precision of 0.5us.
   */
  get timeOrigin() {
    return this._perf.timeOrigin;
  },

  /**
   * Returns the "absolute" version of performance.now(), i.e. one that
   * should ([bug 1401406](https://bugzilla.mozilla.org/show_bug.cgi?id=1401406)
   * be comparable across both chrome and content.
   *
   * @return {Number}
   */
  absNow: function absNow() {
    return this.timeOrigin + this._perf.now();
  },

  /**
   * This returns the absolute startTime from the most recent performance.mark()
   * with the given name.
   *
   * @param  {String} name  the name to lookup the start time for
   *
   * @return {Number}       the returned start time, as a DOMHighResTimeStamp
   *
   * @throws {Error}        "No Marks with the name ..." if none are available
   *
   * @note Always surround calls to this by try/catch.  Otherwise your code
   * may fail when the `privacy.resistFingerprinting` pref is true.  When
   * this pref is set, all attempts to get marks will likely fail, which will
   * cause this method to throw.
   *
   * See [bug 1369303](https://bugzilla.mozilla.org/show_bug.cgi?id=1369303)
   * for more info.
   */
  getMostRecentAbsMarkStartByName(entryName) {
    let entries = this.getEntriesByName(entryName, "mark");

    if (!entries.length) {
      throw new Error(`No marks with the name ${entryName}`);
    }

    let mostRecentEntry = entries[entries.length - 1];
    return this._perf.timeOrigin + mostRecentEntry.startTime;
  },
};

const perfService = new _PerfService();

;// CONCATENATED MODULE: ./content-src/components/ComponentPerfTimer/ComponentPerfTimer.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





// Currently record only a fixed set of sections. This will prevent data
// from custom sections from showing up or from topstories.
const RECORDED_SECTIONS = ["highlights", "topsites"];
class ComponentPerfTimer extends (external_React_default()).Component {
  constructor(props) {
    super(props);
    // Just for test dependency injection:
    this.perfSvc = this.props.perfSvc || perfService;
    this._sendBadStateEvent = this._sendBadStateEvent.bind(this);
    this._sendPaintedEvent = this._sendPaintedEvent.bind(this);
    this._reportMissingData = false;
    this._timestampHandled = false;
    this._recordedFirstRender = false;
  }
  componentDidMount() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }
    this._maybeSendPaintedEvent();
  }
  componentDidUpdate() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }
    this._maybeSendPaintedEvent();
  }

  /**
   * Call the given callback after the upcoming frame paints.
   *
   * @note Both setTimeout and requestAnimationFrame are throttled when the page
   * is hidden, so this callback may get called up to a second or so after the
   * requestAnimationFrame "paint" for hidden tabs.
   *
   * Newtabs hidden while loading will presumably be fairly rare (other than
   * preloaded tabs, which we will be filtering out on the server side), so such
   * cases should get lost in the noise.
   *
   * If we decide that it's important to find out when something that's hidden
   * has "painted", however, another option is to post a message to this window.
   * That should happen even faster than setTimeout, and, at least as of this
   * writing, it's not throttled in hidden windows in Firefox.
   *
   * @param {Function} callback
   *
   * @returns void
   */
  _afterFramePaint(callback) {
    requestAnimationFrame(() => setTimeout(callback, 0));
  }
  _maybeSendBadStateEvent() {
    // Follow up bugs:
    // https://github.com/mozilla/activity-stream/issues/3691
    if (!this.props.initialized) {
      // Remember to report back when data is available.
      this._reportMissingData = true;
    } else if (this._reportMissingData) {
      this._reportMissingData = false;
      // Report how long it took for component to become initialized.
      this._sendBadStateEvent();
    }
  }
  _maybeSendPaintedEvent() {
    // If we've already handled a timestamp, don't do it again.
    if (this._timestampHandled || !this.props.initialized) {
      return;
    }

    // And if we haven't, we're doing so now, so remember that. Even if
    // something goes wrong in the callback, we can't try again, as we'd be
    // sending back the wrong data, and we have to do it here, so that other
    // calls to this method while waiting for the next frame won't also try to
    // handle it.
    this._timestampHandled = true;
    this._afterFramePaint(this._sendPaintedEvent);
  }

  /**
   * Triggered by call to render. Only first call goes through due to
   * `_recordedFirstRender`.
   */
  _ensureFirstRenderTsRecorded() {
    // Used as t0 for recording how long component took to initialize.
    if (!this._recordedFirstRender) {
      this._recordedFirstRender = true;
      // topsites_first_render_ts, highlights_first_render_ts.
      const key = `${this.props.id}_first_render_ts`;
      this.perfSvc.mark(key);
    }
  }

  /**
   * Creates `SAVE_SESSION_PERF_DATA` with timestamp in ms
   * of how much longer the data took to be ready for display than it would
   * have been the ideal case.
   * https://github.com/mozilla/ping-centre/issues/98
   */
  _sendBadStateEvent() {
    // highlights_data_ready_ts, topsites_data_ready_ts.
    const dataReadyKey = `${this.props.id}_data_ready_ts`;
    this.perfSvc.mark(dataReadyKey);
    try {
      const firstRenderKey = `${this.props.id}_first_render_ts`;
      // value has to be Int32.
      const value = parseInt(this.perfSvc.getMostRecentAbsMarkStartByName(dataReadyKey) - this.perfSvc.getMostRecentAbsMarkStartByName(firstRenderKey), 10);
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.SAVE_SESSION_PERF_DATA,
        // highlights_data_late_by_ms, topsites_data_late_by_ms.
        data: {
          [`${this.props.id}_data_late_by_ms`]: value
        }
      }));
    } catch (ex) {
      // If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.
    }
  }
  _sendPaintedEvent() {
    // Record first_painted event but only send if topsites.
    if (this.props.id !== "topsites") {
      return;
    }

    // topsites_first_painted_ts.
    const key = `${this.props.id}_first_painted_ts`;
    this.perfSvc.mark(key);
    try {
      const data = {};
      data[key] = this.perfSvc.getMostRecentAbsMarkStartByName(key);
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.SAVE_SESSION_PERF_DATA,
        data
      }));
    } catch (ex) {
      // If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up, and should continue
      // to set this._timestampHandled to avoid going through this again.
    }
  }
  render() {
    if (RECORDED_SECTIONS.includes(this.props.id)) {
      this._ensureFirstRenderTsRecorded();
      this._maybeSendBadStateEvent();
    }
    return this.props.children;
  }
}
;// CONCATENATED MODULE: ./content-src/components/MoreRecommendations/MoreRecommendations.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class MoreRecommendations extends (external_React_default()).PureComponent {
  render() {
    const {
      read_more_endpoint
    } = this.props;
    if (read_more_endpoint) {
      return /*#__PURE__*/external_React_default().createElement("a", {
        className: "more-recommendations",
        href: read_more_endpoint,
        "data-l10n-id": "newtab-pocket-more-recommendations"
      });
    }
    return null;
  }
}
;// CONCATENATED MODULE: ./content-src/components/ModalOverlay/ModalOverlay.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function ModalOverlayWrapper({
  // eslint-disable-next-line no-shadow
  document = globalThis.document,
  unstyled,
  innerClassName,
  onClose,
  children,
  headerId,
  id
}) {
  const modalRef = (0,external_React_namespaceObject.useRef)(null);
  let className = unstyled ? "" : "modalOverlayInner active";
  if (innerClassName) {
    className += ` ${innerClassName}`;
  }

  // The intended behaviour is to listen for an escape key
  // but not for a click; see Bug 1582242
  const onKeyDown = (0,external_React_namespaceObject.useCallback)(event => {
    if (event.key === "Escape") {
      onClose(event);
    }
  }, [onClose]);
  (0,external_React_namespaceObject.useEffect)(() => {
    document.addEventListener("keydown", onKeyDown);
    document.body.classList.add("modal-open");
    return () => {
      document.removeEventListener("keydown", onKeyDown);
      document.body.classList.remove("modal-open");
    };
  }, [document, onKeyDown]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "modalOverlayOuter active",
    onKeyDown: onKeyDown,
    role: "presentation"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: className,
    "aria-labelledby": headerId,
    id: id,
    role: "dialog",
    ref: modalRef
  }, children));
}

;// CONCATENATED MODULE: ./content-src/components/TopSites/SearchShortcutsForm.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class SelectableSearchShortcut extends (external_React_default()).PureComponent {
  render() {
    const {
      shortcut,
      selected
    } = this.props;
    const imageStyle = {
      backgroundImage: `url("${shortcut.tippyTopIcon}")`
    };
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-outer search-shortcut"
    }, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      id: shortcut.keyword,
      name: shortcut.keyword,
      checked: selected,
      onChange: this.props.onChange
    }), /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: shortcut.keyword
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/external_React_default().createElement("span", null, /*#__PURE__*/external_React_default().createElement("div", {
      className: "tile"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon rich-icon",
      style: imageStyle,
      "data-fallback": "@"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon search-topsite"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "title"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      dir: "auto"
    }, shortcut.keyword))))));
  }
}
class SearchShortcutsForm extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onSaveButtonClick = this.onSaveButtonClick.bind(this);

    // clone the shortcuts and add them to the state so we can add isSelected property
    const shortcuts = [];
    const {
      rows,
      searchShortcuts
    } = props.TopSites;
    searchShortcuts.forEach(shortcut => {
      shortcuts.push({
        ...shortcut,
        isSelected: !!rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword)
      });
    });
    this.state = {
      shortcuts
    };
  }
  handleChange(event) {
    const {
      target
    } = event;
    const {
      name: targetName,
      checked
    } = target;
    this.setState(prevState => {
      const shortcuts = prevState.shortcuts.slice();
      let shortcut = shortcuts.find(({
        keyword
      }) => keyword === targetName);
      shortcut.isSelected = checked;
      return {
        shortcuts
      };
    });
  }
  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }
  onSaveButtonClick(ev) {
    ev.preventDefault();

    // Check if there were any changes and act accordingly
    const {
      rows
    } = this.props.TopSites;
    const pinQueue = [];
    const unpinQueue = [];
    this.state.shortcuts.forEach(shortcut => {
      const alreadyPinned = rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword);
      if (shortcut.isSelected && !alreadyPinned) {
        pinQueue.push(this._searchTopSite(shortcut));
      } else if (!shortcut.isSelected && alreadyPinned) {
        unpinQueue.push({
          url: alreadyPinned.url,
          searchVendor: shortcut.shortURL
        });
      }
    });

    // Tell the feed to do the work.
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.UPDATE_PINNED_SEARCH_SHORTCUTS,
      data: {
        addedShortcuts: pinQueue,
        deletedShortcuts: unpinQueue
      }
    }));

    // Send the Telemetry pings.
    pinQueue.forEach(shortcut => {
      this.props.dispatch(actionCreators.UserEvent({
        source: TOP_SITES_SOURCE,
        event: "SEARCH_EDIT_ADD",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    unpinQueue.forEach(shortcut => {
      this.props.dispatch(actionCreators.UserEvent({
        source: TOP_SITES_SOURCE,
        event: "SEARCH_EDIT_DELETE",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    this.props.onClose();
  }
  _searchTopSite(shortcut) {
    return {
      url: shortcut.url,
      searchTopSite: true,
      label: shortcut.keyword,
      searchVendor: shortcut.shortURL
    };
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("form", {
      className: "topsite-form"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "search-shortcuts-container"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": "newtab-topsites-add-search-engine-header"
    }), /*#__PURE__*/external_React_default().createElement("div", null, this.state.shortcuts.map(shortcut => /*#__PURE__*/external_React_default().createElement(SelectableSearchShortcut, {
      key: shortcut.keyword,
      shortcut: shortcut,
      selected: shortcut.isSelected,
      onChange: this.handleChange
    })))), /*#__PURE__*/external_React_default().createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), /*#__PURE__*/external_React_default().createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.onSaveButtonClick,
      "data-l10n-id": "newtab-topsites-save-button"
    })));
  }
}
;// CONCATENATED MODULE: ../../modules/Dedupe.sys.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class Dedupe {
  constructor(createKey) {
    this.createKey = createKey || this.defaultCreateKey;
  }

  defaultCreateKey(item) {
    return item;
  }

  /**
   * Dedupe any number of grouped elements favoring those from earlier groups.
   *
   * @param {Array} groups Contains an arbitrary number of arrays of elements.
   * @returns {Array} A matching array of each provided group deduped.
   */
  group(...groups) {
    const globalKeys = new Set();
    const result = [];
    for (const values of groups) {
      const valueMap = new Map();
      for (const value of values) {
        const key = this.createKey(value);
        if (!globalKeys.has(key) && !valueMap.has(key)) {
          valueMap.set(key, value);
        }
      }
      result.push(valueMap);
      valueMap.forEach((value, key) => globalKeys.add(key));
    }
    return result.map(m => Array.from(m.values()));
  }
}

;// CONCATENATED MODULE: ../../components/topsites/constants.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

const TOP_SITES_DEFAULT_ROWS = 1;
const TOP_SITES_MAX_SITES_PER_ROW = 8;

;// CONCATENATED MODULE: ./common/Reducers.sys.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */






const dedupe = new Dedupe(site => site && site.url);

const INITIAL_STATE = {
  App: {
    // Have we received real data from the app yet?
    initialized: false,
    locale: "",
    isForStartupCache: {
      App: false,
      TopSites: false,
      DiscoveryStream: false,
      Weather: false,
      Wallpaper: false,
    },
    customizeMenuVisible: false,
  },
  Ads: {
    initialized: false,
    lastUpdated: null,
    tiles: {},
    spocs: {},
    spocPlacements: {},
  },
  TopSites: {
    // Have we received real data from history yet?
    initialized: false,
    // The history (and possibly default) links
    rows: [],
    // Used in content only to dispatch action to TopSiteForm.
    editForm: null,
    // Used in content only to open the SearchShortcutsForm modal.
    showSearchShortcutsForm: false,
    // The list of available search shortcuts.
    searchShortcuts: [],
    // The "Share-of-Voice" allocations generated by TopSitesFeed
    sov: {
      ready: false,
      positions: [
        // {position: 0, assignedPartner: "amp"},
        // {position: 1, assignedPartner: "moz-sales"},
      ],
    },
  },
  Prefs: {
    initialized: false,
    values: { featureConfig: {} },
  },
  Dialog: {
    visible: false,
    data: {},
  },
  Sections: [],
  Pocket: {
    pocketCta: {},
    waitingForSpoc: true,
  },
  // This is the new pocket configurable layout state.
  DiscoveryStream: {
    // This is a JSON-parsed copy of the discoverystream.config pref value.
    config: { enabled: false },
    layout: [],
    topicsLoading: false,
    feeds: {
      data: {
        // "https://foo.com/feed1": {lastUpdated: 123, data: [], personalized: false}
      },
      loaded: false,
    },
    // Used to show impressions in newtab devtools.
    impressions: {
      feed: {},
    },
    // Used to show blocks in newtab devtools.
    blocks: {},
    spocs: {
      spocs_endpoint: "",
      lastUpdated: null,
      data: {
        // "spocs": {title: "", context: "", items: [], personalized: false},
        // "placement1": {title: "", context: "", items: [], personalized: false},
      },
      loaded: false,
      frequency_caps: [],
      blocked: [],
      placements: [],
    },
    experimentData: {
      utmSource: "pocket-newtab",
      utmCampaign: undefined,
      utmContent: undefined,
    },
    showTopicSelection: false,
    report: {
      visible: false,
      data: {},
    },
    sectionPersonalization: {},
  },
  // Messages received from ASRouter to render in newtab
  Messages: {
    // messages received from ASRouter are initially visible
    isVisible: true,
    // portID for that tab that was sent the message
    portID: "",
    // READONLY Message data received from ASRouter
    messageData: {},
  },
  Notifications: {
    showNotifications: false,
    toastCounter: 0,
    toastId: "",
    // This queue is reset each time SHOW_TOAST_MESSAGE is ran.
    // For can be a queue in the future, but for now is one item
    toastQueue: [],
  },
  Personalization: {
    lastUpdated: null,
    initialized: false,
  },
  InferredPersonalization: {
    initialized: false,
    lastUpdated: null,
    inferredInterests: {},
    coarseInferredInterests: {},
    coarsePrivateInferredInterests: {},
  },
  Search: {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    fakeFocus: false,
    // Hide the search box after handing off to AwesomeBar and user starts typing.
    hide: false,
  },
  Wallpapers: {
    wallpaperList: [],
    highlightSeenCounter: 0,
    categories: [],
    uploadedWallpaper: "",
  },
  Weather: {
    initialized: false,
    lastUpdated: null,
    query: "",
    suggestions: [],
    locationData: {
      city: "",
      adminArea: "",
      country: "",
    },
    // Display search input in Weather widget
    searchActive: false,
    locationSearchString: "",
    suggestedLocations: [],
  },
  TrendingSearch: {
    suggestions: [],
    collapsed: false,
  },
  // Widgets
  ListsWidget: {
    // value pointing to last selectled list
    selected: "taskList",
    // Default state of an empty task list
    lists: {
      taskList: {
        label: "",
        tasks: [],
        completed: [],
      },
    },
  },
  TimerWidget: {
    // The timer will have 2 types of states, focus and break.
    // Focus will the default state
    timerType: "focus",
    focus: {
      // Timer duration set by user; 25 mins by default
      duration: 25 * 60,
      // Initial duration - also set by the user; does not update until timer ends or user resets timer
      initialDuration: 25 * 60,
      // the Date.now() value when a user starts/resumes a timer
      startTime: null,
      // Boolean indicating if timer is currently running
      isRunning: false,
    },
    break: {
      duration: 5 * 60,
      initialDuration: 5 * 60,
      startTime: null,
      isRunning: false,
    },
  },
};

function App(prevState = INITIAL_STATE.App, action) {
  switch (action.type) {
    case actionTypes.INIT:
      return Object.assign({}, prevState, action.data || {}, {
        initialized: true,
      });
    case actionTypes.TOP_SITES_UPDATED:
      // Toggle `isForStartupCache.TopSites` when receiving the `TOP_SITES_UPDATE` action
      // so that sponsored tiles can be rendered as usual. See Bug 1826360.
      return {
        ...prevState,
        isForStartupCache: { ...prevState.isForStartupCache, TopSites: false },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_UPDATE:
      // Toggle `isForStartupCache.DiscoveryStream` when receiving the `DISCOVERY_STREAM_SPOCS_UPDATE` action
      // so that spoc cards can be rendered as usual.
      return {
        ...prevState,
        isForStartupCache: {
          ...prevState.isForStartupCache,
          DiscoveryStream: false,
        },
      };
    case actionTypes.WEATHER_UPDATE:
      // Toggle `isForStartupCache.Weather` when receiving the `WEATHER_UPDATE` action
      // so that weather can be rendered as usual.
      return {
        ...prevState,
        isForStartupCache: { ...prevState.isForStartupCache, Weather: false },
      };
    case actionTypes.WALLPAPERS_CUSTOM_SET:
      // Toggle `isForStartupCache.Wallpaper` when receiving the `WALLPAPERS_CUSTOM_SET` action
      // so that custom wallpaper can be rendered as usual.
      return {
        ...prevState,
        isForStartupCache: { ...prevState.isForStartupCache, Wallpaper: false },
      };
    case actionTypes.SHOW_PERSONALIZE:
      return Object.assign({}, prevState, {
        customizeMenuVisible: true,
      });
    case actionTypes.HIDE_PERSONALIZE:
      return Object.assign({}, prevState, {
        customizeMenuVisible: false,
      });
    default:
      return prevState;
  }
}

function TopSites(prevState = INITIAL_STATE.TopSites, action) {
  let hasMatch;
  let newRows;
  switch (action.type) {
    case actionTypes.TOP_SITES_UPDATED:
      if (!action.data || !action.data.links) {
        return prevState;
      }
      return Object.assign(
        {},
        prevState,
        { initialized: true, rows: action.data.links },
        action.data.pref ? { pref: action.data.pref } : {}
      );
    case actionTypes.TOP_SITES_PREFS_UPDATED:
      return Object.assign({}, prevState, { pref: action.data.pref });
    case actionTypes.TOP_SITES_EDIT:
      return Object.assign({}, prevState, {
        editForm: {
          index: action.data.index,
          previewResponse: null,
        },
      });
    case actionTypes.TOP_SITES_CANCEL_EDIT:
      return Object.assign({}, prevState, { editForm: null });
    case actionTypes.TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, { showSearchShortcutsForm: true });
    case actionTypes.TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, { showSearchShortcutsForm: false });
    case actionTypes.PREVIEW_RESPONSE:
      if (
        !prevState.editForm ||
        action.data.url !== prevState.editForm.previewUrl
      ) {
        return prevState;
      }
      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: action.data.preview,
          previewUrl: action.data.url,
        },
      });
    case actionTypes.PREVIEW_REQUEST:
      if (!prevState.editForm) {
        return prevState;
      }
      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null,
          previewUrl: action.data.url,
        },
      });
    case actionTypes.PREVIEW_REQUEST_CANCEL:
      if (!prevState.editForm) {
        return prevState;
      }
      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null,
        },
      });
    case actionTypes.SCREENSHOT_UPDATED:
      newRows = prevState.rows.map(row => {
        if (row && row.url === action.data.url) {
          hasMatch = true;
          return Object.assign({}, row, { screenshot: action.data.screenshot });
        }
        return row;
      });
      return hasMatch
        ? Object.assign({}, prevState, { rows: newRows })
        : prevState;
    case actionTypes.PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }
      newRows = prevState.rows.map(site => {
        if (site && site.url === action.data.url) {
          const { bookmarkGuid, bookmarkTitle, dateAdded } = action.data;
          return Object.assign({}, site, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded,
          });
        }
        return site;
      });
      return Object.assign({}, prevState, { rows: newRows });
    case actionTypes.PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }
      newRows = prevState.rows.map(site => {
        if (site && action.data.urls.includes(site.url)) {
          const newSite = Object.assign({}, site);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;
          return newSite;
        }
        return site;
      });
      return Object.assign({}, prevState, { rows: newRows });
    case actionTypes.PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }
      newRows = prevState.rows.filter(
        site => !action.data.urls.includes(site.url)
      );
      return Object.assign({}, prevState, { rows: newRows });
    case actionTypes.UPDATE_SEARCH_SHORTCUTS:
      return { ...prevState, searchShortcuts: action.data.searchShortcuts };
    case actionTypes.SOV_UPDATED: {
      const sov = {
        ready: action.data.ready,
        positions: action.data.positions,
      };
      return { ...prevState, sov };
    }
    default:
      return prevState;
  }
}

function Dialog(prevState = INITIAL_STATE.Dialog, action) {
  switch (action.type) {
    case actionTypes.DIALOG_OPEN:
      return Object.assign({}, prevState, { visible: true, data: action.data });
    case actionTypes.DIALOG_CANCEL:
      return Object.assign({}, prevState, { visible: false });
    case actionTypes.DIALOG_CLOSE:
      // Reset and hide the confirmation dialog once the action is complete.
      return Object.assign({}, INITIAL_STATE.Dialog);
    default:
      return prevState;
  }
}

function Prefs(prevState = INITIAL_STATE.Prefs, action) {
  let newValues;
  switch (action.type) {
    case actionTypes.PREFS_INITIAL_VALUES:
      return Object.assign({}, prevState, {
        initialized: true,
        values: action.data,
      });
    case actionTypes.PREF_CHANGED:
      newValues = Object.assign({}, prevState.values);
      newValues[action.data.name] = action.data.value;
      return Object.assign({}, prevState, { values: newValues });
    default:
      return prevState;
  }
}

function Sections(prevState = INITIAL_STATE.Sections, action) {
  let hasMatch;
  let newState;
  switch (action.type) {
    case actionTypes.SECTION_DEREGISTER:
      return prevState.filter(section => section.id !== action.data);
    case actionTypes.SECTION_REGISTER:
      // If section exists in prevState, update it
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          hasMatch = true;
          return Object.assign({}, section, action.data);
        }
        return section;
      });
      // Otherwise, append it
      if (!hasMatch) {
        const initialized = !!(action.data.rows && !!action.data.rows.length);
        const section = Object.assign(
          { title: "", rows: [], enabled: false },
          action.data,
          { initialized }
        );
        newState.push(section);
      }
      return newState;
    case actionTypes.SECTION_UPDATE:
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          // If the action is updating rows, we should consider initialized to be true.
          // This can be overridden if initialized is defined in the action.data
          const initialized = action.data.rows ? { initialized: true } : {};

          // Make sure pinned cards stay at their current position when rows are updated.
          // Disabling a section (SECTION_UPDATE with empty rows) does not retain pinned cards.
          if (
            action.data.rows &&
            !!action.data.rows.length &&
            section.rows.find(card => card.pinned)
          ) {
            const rows = Array.from(action.data.rows);
            section.rows.forEach((card, index) => {
              if (card.pinned) {
                // Only add it if it's not already there.
                if (rows[index].guid !== card.guid) {
                  rows.splice(index, 0, card);
                }
              }
            });
            return Object.assign(
              {},
              section,
              initialized,
              Object.assign({}, action.data, { rows })
            );
          }

          return Object.assign({}, section, initialized, action.data);
        }
        return section;
      });

      if (!action.data.dedupeConfigurations) {
        return newState;
      }

      action.data.dedupeConfigurations.forEach(dedupeConf => {
        newState = newState.map(section => {
          if (section.id === dedupeConf.id) {
            const dedupedRows = dedupeConf.dedupeFrom.reduce(
              (rows, dedupeSectionId) => {
                const dedupeSection = newState.find(
                  s => s.id === dedupeSectionId
                );
                const [, newRows] = dedupe.group(dedupeSection.rows, rows);
                return newRows;
              },
              section.rows
            );

            return Object.assign({}, section, { rows: dedupedRows });
          }

          return section;
        });
      });

      return newState;
    case actionTypes.SECTION_UPDATE_CARD:
      return prevState.map(section => {
        if (section && section.id === action.data.id && section.rows) {
          const newRows = section.rows.map(card => {
            if (card.url === action.data.url) {
              return Object.assign({}, card, action.data.options);
            }
            return card;
          });
          return Object.assign({}, section, { rows: newRows });
        }
        return section;
      });
    case actionTypes.PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.map(item => {
            // find the item within the rows that is attempted to be bookmarked
            if (item.url === action.data.url) {
              const { bookmarkGuid, bookmarkTitle, dateAdded } = action.data;
              return Object.assign({}, item, {
                bookmarkGuid,
                bookmarkTitle,
                bookmarkDateCreated: dateAdded,
                type: "bookmark",
              });
            }
            return item;
          }),
        })
      );
    case actionTypes.PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.map(item => {
            // find the bookmark within the rows that is attempted to be removed
            if (action.data.urls.includes(item.url)) {
              const newSite = Object.assign({}, item);
              delete newSite.bookmarkGuid;
              delete newSite.bookmarkTitle;
              delete newSite.bookmarkDateCreated;
              if (!newSite.type || newSite.type === "bookmark") {
                newSite.type = "history";
              }
              return newSite;
            }
            return item;
          }),
        })
      );
    case actionTypes.PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.filter(
            site => !action.data.urls.includes(site.url)
          ),
        })
      );
    case actionTypes.PLACES_LINK_BLOCKED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.filter(site => site.url !== action.data.url),
        })
      );
    default:
      return prevState;
  }
}

function Messages(prevState = INITIAL_STATE.Messages, action) {
  switch (action.type) {
    case actionTypes.MESSAGE_SET:
      if (prevState.messageData.messageType) {
        return prevState;
      }
      return {
        ...prevState,
        messageData: action.data.message,
        portID: action.data.portID || "",
      };
    case actionTypes.MESSAGE_TOGGLE_VISIBILITY:
      return { ...prevState, isVisible: action.data };
    default:
      return prevState;
  }
}

function Pocket(prevState = INITIAL_STATE.Pocket, action) {
  switch (action.type) {
    case actionTypes.POCKET_WAITING_FOR_SPOC:
      return { ...prevState, waitingForSpoc: action.data };
    case actionTypes.POCKET_CTA:
      return {
        ...prevState,
        pocketCta: {
          ctaButton: action.data.cta_button,
          ctaText: action.data.cta_text,
          ctaUrl: action.data.cta_url,
          useCta: action.data.use_cta,
        },
      };
    default:
      return prevState;
  }
}

function Reducers_sys_Personalization(prevState = INITIAL_STATE.Personalization, action) {
  switch (action.type) {
    case actionTypes.DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED:
      return {
        ...prevState,
        lastUpdated: action.data.lastUpdated,
      };
    case actionTypes.DISCOVERY_STREAM_PERSONALIZATION_INIT:
      return {
        ...prevState,
        initialized: true,
      };
    case actionTypes.DISCOVERY_STREAM_PERSONALIZATION_RESET:
      return { ...INITIAL_STATE.Personalization };
    default:
      return prevState;
  }
}

function InferredPersonalization(
  prevState = INITIAL_STATE.InferredPersonalization,
  action
) {
  switch (action.type) {
    case actionTypes.INFERRED_PERSONALIZATION_UPDATE:
      return {
        ...prevState,
        initialized: true,
        inferredInterests: action.data.inferredInterests,
        coarseInferredInterests: action.data.coarseInferredInterests,
        coarsePrivateInferredInterests:
          action.data.coarsePrivateInferredInterests,
        lastUpdated: action.data.lastUpdated,
      };
    case actionTypes.INFERRED_PERSONALIZATION_RESET:
      return { ...INITIAL_STATE.InferredPersonalization };
    default:
      return prevState;
  }
}

// eslint-disable-next-line complexity
function DiscoveryStream(prevState = INITIAL_STATE.DiscoveryStream, action) {
  // Return if action data is empty, or spocs or feeds data is not loaded
  const isNotReady = () =>
    !action.data || !prevState.spocs.loaded || !prevState.feeds.loaded;

  const handlePlacements = handleSites => {
    const { data, placements } = prevState.spocs;
    const result = {};

    const forPlacement = placement => {
      const placementSpocs = data[placement.name];

      if (
        !placementSpocs ||
        !placementSpocs.items ||
        !placementSpocs.items.length
      ) {
        return;
      }

      result[placement.name] = {
        ...placementSpocs,
        items: handleSites(placementSpocs.items),
      };
    };

    if (!placements || !placements.length) {
      [{ name: "spocs" }].forEach(forPlacement);
    } else {
      placements.forEach(forPlacement);
    }
    return result;
  };

  const nextState = handleSites => ({
    ...prevState,
    spocs: {
      ...prevState.spocs,
      data: handlePlacements(handleSites),
    },
    feeds: {
      ...prevState.feeds,
      data: Object.keys(prevState.feeds.data).reduce(
        (accumulator, feed_url) => {
          accumulator[feed_url] = {
            data: {
              ...prevState.feeds.data[feed_url].data,
              recommendations: handleSites(
                prevState.feeds.data[feed_url].data.recommendations
              ),
            },
          };
          return accumulator;
        },
        {}
      ),
    },
  });

  switch (action.type) {
    case actionTypes.DISCOVERY_STREAM_CONFIG_CHANGE:
    // Fall through to a separate action is so it doesn't trigger a listener update on init
    case actionTypes.DISCOVERY_STREAM_CONFIG_SETUP:
      return { ...prevState, config: action.data || {} };
    case actionTypes.DISCOVERY_STREAM_EXPERIMENT_DATA:
      return { ...prevState, experimentData: action.data || {} };
    case actionTypes.DISCOVERY_STREAM_LAYOUT_UPDATE:
      return {
        ...prevState,
        layout: action.data.layout || [],
      };
    case actionTypes.DISCOVERY_STREAM_TOPICS_LOADING:
      return {
        ...prevState,
        topicsLoading: action.data,
      };
    case actionTypes.DISCOVERY_STREAM_PREFS_SETUP:
      return {
        ...prevState,
        hideDescriptions: action.data.hideDescriptions,
        compactImages: action.data.compactImages,
        imageGradient: action.data.imageGradient,
        newSponsoredLabel: action.data.newSponsoredLabel,
        titleLines: action.data.titleLines,
        descLines: action.data.descLines,
        readTime: action.data.readTime,
      };
    case actionTypes.SHOW_PRIVACY_INFO:
      return {
        ...prevState,
      };
    case actionTypes.DISCOVERY_STREAM_LAYOUT_RESET:
      return { ...INITIAL_STATE.DiscoveryStream, config: prevState.config };
    case actionTypes.DISCOVERY_STREAM_FEEDS_UPDATE:
      return {
        ...prevState,
        feeds: {
          ...prevState.feeds,
          loaded: true,
        },
      };
    case actionTypes.DISCOVERY_STREAM_FEED_UPDATE: {
      const newData = {};
      newData[action.data.url] = action.data.feed;
      return {
        ...prevState,
        feeds: {
          ...prevState.feeds,
          data: {
            ...prevState.feeds.data,
            ...newData,
          },
        },
      };
    }
    case actionTypes.DISCOVERY_STREAM_DEV_IMPRESSIONS:
      return {
        ...prevState,
        impressions: {
          ...prevState.impressions,
          feed: action.data,
        },
      };
    case actionTypes.DISCOVERY_STREAM_DEV_BLOCKS:
      return {
        ...prevState,
        blocks: action.data,
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_CAPS:
      return {
        ...prevState,
        spocs: {
          ...prevState.spocs,
          frequency_caps: [...prevState.spocs.frequency_caps, ...action.data],
        },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_ENDPOINT:
      return {
        ...prevState,
        spocs: {
          ...INITIAL_STATE.DiscoveryStream.spocs,
          spocs_endpoint:
            action.data.url ||
            INITIAL_STATE.DiscoveryStream.spocs.spocs_endpoint,
        },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_PLACEMENTS:
      return {
        ...prevState,
        spocs: {
          ...prevState.spocs,
          placements:
            action.data.placements ||
            INITIAL_STATE.DiscoveryStream.spocs.placements,
        },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_UPDATE:
      if (action.data) {
        return {
          ...prevState,
          spocs: {
            ...prevState.spocs,
            lastUpdated: action.data.lastUpdated,
            data: action.data.spocs,
            loaded: true,
          },
        };
      }
      return prevState;
    case actionTypes.DISCOVERY_STREAM_SPOC_BLOCKED:
      return {
        ...prevState,
        spocs: {
          ...prevState.spocs,
          blocked: [...prevState.spocs.blocked, action.data.url],
        },
      };
    case actionTypes.DISCOVERY_STREAM_LINK_BLOCKED:
      return isNotReady()
        ? prevState
        : nextState(items =>
            items.filter(item => item.url !== action.data.url)
          );

    case actionTypes.PLACES_BOOKMARK_ADDED: {
      const updateBookmarkInfo = item => {
        if (item.url === action.data.url) {
          const { bookmarkGuid, bookmarkTitle, dateAdded } = action.data;
          return Object.assign({}, item, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded,
            context_type: "bookmark",
          });
        }
        return item;
      };
      return isNotReady()
        ? prevState
        : nextState(items => items.map(updateBookmarkInfo));
    }
    case actionTypes.PLACES_BOOKMARKS_REMOVED: {
      const removeBookmarkInfo = item => {
        if (action.data.urls.includes(item.url)) {
          const newSite = Object.assign({}, item);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;
          if (!newSite.context_type || newSite.context_type === "bookmark") {
            newSite.context_type = "removedBookmark";
          }
          return newSite;
        }
        return item;
      };
      return isNotReady()
        ? prevState
        : nextState(items => items.map(removeBookmarkInfo));
    }
    case actionTypes.TOPIC_SELECTION_SPOTLIGHT_OPEN:
      return {
        ...prevState,
        showTopicSelection: true,
      };
    case actionTypes.TOPIC_SELECTION_SPOTLIGHT_CLOSE:
      return {
        ...prevState,
        showTopicSelection: false,
      };
    case actionTypes.SECTION_BLOCKED:
      return {
        ...prevState,
        showBlockSectionConfirmation: true,
        sectionPersonalization: action.data,
      };
    case actionTypes.REPORT_AD_OPEN:
      return {
        ...prevState,
        report: {
          ...prevState.report,
          card_type: action.data?.card_type,
          position: action.data?.position,
          placement_id: action.data?.placement_id,
          reporting_url: action.data?.reporting_url,
          url: action.data?.url,
          visible: true,
        },
      };
    case actionTypes.REPORT_CONTENT_OPEN:
      return {
        ...prevState,
        report: {
          ...prevState.report,
          card_type: action.data?.card_type,
          corpus_item_id: action.data?.corpus_item_id,
          scheduled_corpus_item_id: action.data?.scheduled_corpus_item_id,
          section_position: action.data?.section_position,
          section: action.data?.section,
          title: action.data?.title,
          topic: action.data?.topic,
          url: action.data?.url,
          visible: true,
        },
      };
    case actionTypes.REPORT_CLOSE:
    case actionTypes.REPORT_AD_SUBMIT:
    case actionTypes.REPORT_CONTENT_SUBMIT:
      return {
        ...prevState,
        report: {
          ...prevState.report,
          visible: false,
        },
      };
    case actionTypes.SECTION_PERSONALIZATION_UPDATE:
      return { ...prevState, sectionPersonalization: action.data };
    default:
      return prevState;
  }
}

function Search(prevState = INITIAL_STATE.Search, action) {
  switch (action.type) {
    case actionTypes.DISABLE_SEARCH:
      return Object.assign({ ...prevState, disable: true });
    case actionTypes.FAKE_FOCUS_SEARCH:
      return Object.assign({ ...prevState, fakeFocus: true });
    case actionTypes.SHOW_SEARCH:
      return Object.assign({ ...prevState, disable: false, fakeFocus: false });
    default:
      return prevState;
  }
}

function Wallpapers(prevState = INITIAL_STATE.Wallpapers, action) {
  switch (action.type) {
    case actionTypes.WALLPAPERS_SET:
      return {
        ...prevState,
        wallpaperList: action.data,
      };
    case actionTypes.WALLPAPERS_FEATURE_HIGHLIGHT_COUNTER_INCREMENT:
      return {
        ...prevState,
        highlightSeenCounter: action.data,
      };
    case actionTypes.WALLPAPERS_CATEGORY_SET:
      return { ...prevState, categories: action.data };
    case actionTypes.WALLPAPERS_CUSTOM_SET:
      return { ...prevState, uploadedWallpaper: action.data };
    default:
      return prevState;
  }
}

function Notifications(prevState = INITIAL_STATE.Notifications, action) {
  switch (action.type) {
    case actionTypes.SHOW_TOAST_MESSAGE:
      return {
        ...prevState,
        showNotifications: action.data.showNotifications,
        toastCounter: prevState.toastCounter + 1,
        toastId: action.data.toastId,
        toastQueue: [action.data.toastId],
      };
    case actionTypes.HIDE_TOAST_MESSAGE: {
      const { showNotifications, toastId: hiddenToastId } = action.data;
      const queuedToasts = [...prevState.toastQueue].filter(
        toastId => toastId !== hiddenToastId
      );
      return {
        ...prevState,
        toastCounter: queuedToasts.length,
        toastQueue: queuedToasts,
        toastId: "",
        showNotifications,
      };
    }
    default:
      return prevState;
  }
}

function Weather(prevState = INITIAL_STATE.Weather, action) {
  switch (action.type) {
    case actionTypes.WEATHER_UPDATE:
      return {
        ...prevState,
        suggestions: action.data.suggestions,
        lastUpdated: action.data.date,
        locationData: action.data.locationData || prevState.locationData,
        initialized: true,
      };
    case actionTypes.WEATHER_SEARCH_ACTIVE:
      return { ...prevState, searchActive: action.data };
    case actionTypes.WEATHER_LOCATION_SEARCH_UPDATE:
      return { ...prevState, locationSearchString: action.data };
    case actionTypes.WEATHER_LOCATION_SUGGESTIONS_UPDATE:
      return { ...prevState, suggestedLocations: action.data };
    case actionTypes.WEATHER_LOCATION_DATA_UPDATE:
      return { ...prevState, locationData: action.data };
    default:
      return prevState;
  }
}

function Ads(prevState = INITIAL_STATE.Ads, action) {
  switch (action.type) {
    case actionTypes.ADS_INIT:
      return {
        ...prevState,
        initialized: true,
      };
    case actionTypes.ADS_UPDATE_TILES:
      return {
        ...prevState,
        tiles: action.data.tiles,
      };
    case actionTypes.ADS_UPDATE_SPOCS:
      return {
        ...prevState,
        spocs: action.data.spocs,
        spocPlacements: action.data.spocPlacements,
      };
    case actionTypes.ADS_RESET:
      return { ...INITIAL_STATE.Ads };
    default:
      return prevState;
  }
}

function TrendingSearch(prevState = INITIAL_STATE.TrendingSearch, action) {
  switch (action.type) {
    case actionTypes.TRENDING_SEARCH_UPDATE:
      return { ...prevState, suggestions: action.data };
    case actionTypes.TRENDING_SEARCH_TOGGLE_COLLAPSE:
      return { ...prevState, collapsed: action.data.collapsed };
    default:
      return prevState;
  }
}

function TimerWidget(prevState = INITIAL_STATE.TimerWidget, action) {
  // fallback to current timerType in state if not provided in action
  const timerType = action.data?.timerType || prevState.timerType;
  switch (action.type) {
    case actionTypes.WIDGETS_TIMER_SET:
      return {
        ...prevState,
        ...action.data,
      };
    case actionTypes.WIDGETS_TIMER_SET_TYPE:
      return {
        ...prevState,
        timerType: action.data.timerType,
      };
    case actionTypes.WIDGETS_TIMER_SET_DURATION:
      return {
        ...prevState,
        [timerType]: {
          // setting a dynamic key assignment to let us dynamically update timer type's state based on what is set
          duration: action.data.duration,
          initialDuration: action.data.duration,
          startTime: null,
          isRunning: false,
        },
      };
    case actionTypes.WIDGETS_TIMER_PLAY:
      return {
        ...prevState,
        [timerType]: {
          ...prevState[timerType],
          startTime: Math.floor(Date.now() / 1000), // reflected in seconds
          isRunning: true,
        },
      };
    case actionTypes.WIDGETS_TIMER_PAUSE:
      if (prevState[timerType]?.isRunning) {
        return {
          ...prevState,
          [timerType]: {
            ...prevState[timerType],
            duration: action.data.duration,
            // setting startTime to null on pause because we need to check the exact time the user presses play,
            // whether it's when the user starts or resumes the timer. This helps get accurate results
            startTime: null,
            isRunning: false,
          },
        };
      }
      return prevState;
    case actionTypes.WIDGETS_TIMER_RESET:
      return {
        ...prevState,
        [timerType]: {
          ...prevState[timerType],
          duration: action.data.duration,
          initialDuration: action.data.duration,
          startTime: null,
          isRunning: false,
        },
      };
    case actionTypes.WIDGETS_TIMER_END:
      return {
        ...prevState,
        [timerType]: {
          ...prevState[timerType],
          duration: action.data.duration,
          initialDuration: action.data.duration,
          startTime: null,
          isRunning: false,
        },
      };
    default:
      return prevState;
  }
}

function ListsWidget(prevState = INITIAL_STATE.ListsWidget, action) {
  switch (action.type) {
    case actionTypes.WIDGETS_LISTS_SET:
      return { ...prevState, lists: action.data };
    case actionTypes.WIDGETS_LISTS_SET_SELECTED:
      return { ...prevState, selected: action.data };
    default:
      return prevState;
  }
}

const reducers = {
  TopSites,
  App,
  Ads,
  Prefs,
  Dialog,
  Sections,
  Messages,
  Notifications,
  Pocket,
  Personalization: Reducers_sys_Personalization,
  InferredPersonalization,
  DiscoveryStream,
  Search,
  TimerWidget,
  ListsWidget,
  TrendingSearch,
  Wallpapers,
  Weather,
};

;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteFormInput.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class TopSiteFormInput extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      validationError: this.props.validationError
    };
    this.onChange = this.onChange.bind(this);
    this.onMount = this.onMount.bind(this);
    this.onClearIconPress = this.onClearIconPress.bind(this);
  }
  componentWillReceiveProps(nextProps) {
    if (nextProps.shouldFocus && !this.props.shouldFocus) {
      this.input.focus();
    }
    if (nextProps.validationError && !this.props.validationError) {
      this.setState({
        validationError: true
      });
    }
    // If the component is in an error state but the value was cleared by the parent
    if (this.state.validationError && !nextProps.value) {
      this.setState({
        validationError: false
      });
    }
  }
  onClearIconPress(event) {
    // If there is input in the URL or custom image URL fields,
    // and we hit 'enter' while tabbed over the clear icon,
    // we should execute the function to clear the field.
    if (event.key === "Enter") {
      this.props.onClear();
    }
  }
  onChange(ev) {
    if (this.state.validationError) {
      this.setState({
        validationError: false
      });
    }
    this.props.onChange(ev);
  }
  onMount(input) {
    this.input = input;
  }
  renderLoadingOrCloseButton() {
    const showClearButton = this.props.value && this.props.onClear;
    if (this.props.loading) {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "loading-container"
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "loading-animation"
      }));
    } else if (showClearButton) {
      return /*#__PURE__*/external_React_default().createElement("button", {
        type: "button",
        className: "icon icon-clear-input icon-button-style",
        onClick: this.props.onClear,
        onKeyPress: this.onClearIconPress
      });
    }
    return null;
  }
  render() {
    const {
      typeUrl
    } = this.props;
    const {
      validationError
    } = this.state;
    return /*#__PURE__*/external_React_default().createElement("label", null, /*#__PURE__*/external_React_default().createElement("span", {
      "data-l10n-id": this.props.titleId
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: `field ${typeUrl ? "url" : ""}${validationError ? " invalid" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("input", {
      type: "text",
      value: this.props.value,
      ref: this.onMount,
      onChange: this.onChange,
      "data-l10n-id": this.props.placeholderId
      // Set focus on error if the url field is valid or when the input is first rendered and is empty
      // eslint-disable-next-line jsx-a11y/no-autofocus
      ,
      autoFocus: this.props.autoFocusOnOpen,
      disabled: this.props.loading
    }), this.renderLoadingOrCloseButton(), validationError && /*#__PURE__*/external_React_default().createElement("aside", {
      className: "error-tooltip",
      "data-l10n-id": this.props.errorMessageId
    })));
  }
}
TopSiteFormInput.defaultProps = {
  showClearButton: false,
  value: "",
  validationError: false
};
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteImpressionWrapper.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



const TopSiteImpressionWrapper_VISIBLE = "visible";
const TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT = "visibilitychange";

// Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test
const TopSiteImpressionWrapper_INTERSECTION_RATIO = 0.5;

/**
 * Impression wrapper for a TopSite tile.
 *
 * It makses use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 */
class TopSiteImpressionWrapper extends (external_React_default()).PureComponent {
  _dispatchImpressionStats() {
    const {
      actionType,
      tile
    } = this.props;
    if (!actionType) {
      return;
    }
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionType,
      data: {
        type: "impression",
        ...tile
      }
    }));
  }
  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;
    if (!props.dispatch) {
      return;
    }
    if (props.document.visibilityState === TopSiteImpressionWrapper_VISIBLE) {
      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === TopSiteImpressionWrapper_VISIBLE) {
          this.setImpressionObserver();
          props.document.removeEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */
  setImpressionObserver() {
    const {
      props
    } = this;
    if (!props.tile) {
      return;
    }
    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= TopSiteImpressionWrapper_INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();
        this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
      }
    };
    const options = {
      threshold: TopSiteImpressionWrapper_INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.topsite_impression_wrapper);
  }
  componentDidMount() {
    if (this.props.tile) {
      this.setImpressionObserverOrAddListener();
    }
  }
  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
    }
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: "topsite_impression_wrapper",
      className: "topsite-impression-observer"
    }, this.props.children);
  }
}
TopSiteImpressionWrapper.defaultProps = {
  IntersectionObserver: globalThis.IntersectionObserver,
  document: globalThis.document,
  actionType: null,
  tile: null
};
;// CONCATENATED MODULE: ./content-src/components/MessageWrapper/MessageWrapper.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






// Note: MessageWrapper emits events via submitGleanPingForPing() in the OMC messaging-system.
// If a feature is triggered outside of this flow (e.g., the Mobile Download QR Promo),
// it should emit New Tab-specific Glean events independently.

function MessageWrapper({
  children,
  dispatch,
  hiddenOverride,
  onDismiss
}) {
  const message = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const [isIntersecting, setIsIntersecting] = (0,external_React_namespaceObject.useState)(false);
  const [tabIsVisible, setTabIsVisible] = (0,external_React_namespaceObject.useState)(() => typeof document !== "undefined" && document.visibilityState === "visible");
  const [hasRun, setHasRun] = (0,external_React_namespaceObject.useState)();
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    setIsIntersecting(true);
    // only send impression if messageId is defined and tab is visible
    if (tabIsVisible && message.messageData.id && !hasRun) {
      setHasRun(true);
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.MESSAGE_IMPRESSION,
        data: message.messageData
      }));
    }
  }, [dispatch, message, tabIsVisible, hasRun]);
  (0,external_React_namespaceObject.useEffect)(() => {
    // we dont want to dispatch this action unless the current tab is open and visible
    if (message.isVisible && tabIsVisible) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.MESSAGE_NOTIFY_VISIBILITY,
        data: true
      }));
    }
  }, [message, dispatch, tabIsVisible]);
  (0,external_React_namespaceObject.useEffect)(() => {
    const handleVisibilityChange = () => {
      setTabIsVisible(document.visibilityState === "visible");
    };
    document.addEventListener("visibilitychange", handleVisibilityChange);
    return () => {
      document.removeEventListener("visibilitychange", handleVisibilityChange);
    };
  }, []);
  const ref = useIntersectionObserver(handleIntersection);
  const handleClose = (0,external_React_namespaceObject.useCallback)(() => {
    const action = {
      type: actionTypes.MESSAGE_TOGGLE_VISIBILITY,
      data: false //isVisible
    };
    if (message.portID) {
      dispatch(actionCreators.OnlyToOneContent(action, message.portID));
    } else {
      dispatch(actionCreators.AlsoToMain(action));
    }
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.MESSAGE_NOTIFY_VISIBILITY,
      data: false
    }));
    onDismiss?.();
  }, [dispatch, message, onDismiss]);
  function handleDismiss() {
    const {
      id
    } = message.messageData;
    if (id) {
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.MESSAGE_DISMISS,
        data: {
          message: message.messageData
        }
      }));
    }
    handleClose();
  }
  function handleBlock() {
    const {
      id
    } = message.messageData;
    if (id) {
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.MESSAGE_BLOCK,
        data: id
      }));
    }
  }
  function handleClick(elementId) {
    const {
      id
    } = message.messageData;
    if (id) {
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.MESSAGE_CLICK,
        data: {
          message: message.messageData,
          source: elementId || ""
        }
      }));
    }
  }
  if (!message || !hiddenOverride && !message.isVisible) {
    return null;
  }

  // only display the message if `isVisible` is true
  return /*#__PURE__*/external_React_default().createElement("div", {
    ref: el => {
      ref.current = [el];
    },
    className: "message-wrapper"
  }, /*#__PURE__*/external_React_default().cloneElement(children, {
    isIntersecting,
    handleDismiss,
    handleClick,
    handleBlock,
    handleClose
  }));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/FeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



function FeatureHighlight({
  message,
  icon,
  toggle,
  arrowPosition = "",
  position = "top-left",
  verticalPosition = "",
  title,
  ariaLabel,
  feature = "FEATURE_HIGHLIGHT_DEFAULT",
  dispatch = () => {},
  windowObj = __webpack_require__.g,
  openedOverride = false,
  showButtonIcon = true,
  dismissCallback = () => {},
  outsideClickCallback = () => {},
  modalClassName = ""
}) {
  const [opened, setOpened] = (0,external_React_namespaceObject.useState)(openedOverride);
  const ref = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    const handleOutsideClick = e => {
      if (!ref?.current?.contains(e.target)) {
        setOpened(false);
        outsideClickCallback();
      }
    };
    const handleKeyDown = e => {
      if (e.key === "Escape") {
        outsideClickCallback();
      }
    };
    windowObj.document.addEventListener("click", handleOutsideClick);
    windowObj.document.addEventListener("keydown", handleKeyDown);
    return () => {
      windowObj.document.removeEventListener("click", handleOutsideClick);
      windowObj.document.removeEventListener("keydown", handleKeyDown);
    };
  }, [windowObj, outsideClickCallback]);
  const onToggleClick = (0,external_React_namespaceObject.useCallback)(() => {
    if (!opened) {
      dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source: "FEATURE_HIGHLIGHT",
        value: {
          feature
        }
      }));
    }
    setOpened(!opened);
  }, [dispatch, feature, opened]);
  const onDismissClick = (0,external_React_namespaceObject.useCallback)(() => {
    setOpened(false);
    dismissCallback();
  }, [dismissCallback]);
  const hideButtonClass = showButtonIcon ? `` : `isHidden`;
  const openedClassname = opened ? `opened` : `closed`;
  return /*#__PURE__*/external_React_default().createElement("div", {
    ref: ref,
    className: `feature-highlight ${verticalPosition}`
  }, /*#__PURE__*/external_React_default().createElement("button", {
    title: title,
    "aria-haspopup": "true",
    "aria-label": ariaLabel,
    className: `toggle-button ${hideButtonClass}`,
    onClick: onToggleClick
  }, toggle), /*#__PURE__*/external_React_default().createElement("div", {
    className: `feature-highlight-modal ${position} ${arrowPosition} ${modalClassName} ${openedClassname}`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "message-icon"
  }, icon), /*#__PURE__*/external_React_default().createElement("p", {
    className: "content-wrapper"
  }, message), /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    size: "small",
    "data-l10n-id": "feature-highlight-dismiss-button",
    iconsrc: "chrome://global/skin/icons/close.svg",
    onClick: onDismissClick,
    onKeyDown: onDismissClick
  })));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/ShortcutFeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



function ShortcutFeatureHighlight({
  position,
  dispatch,
  handleDismiss,
  handleBlock,
  feature
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "shortcut-feature-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    feature: feature,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "shortcut-feature-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: "chrome://global/skin/icons/open-in-new.svg",
      width: "24",
      height: "24",
      alt: ""
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "shortcut-feature-highlight-copy"
    }, /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": "newtab-shortcuts-highlight-title"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": "newtab-shortcuts-highlight-subtitle"
    }))),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSite.jsx
function TopSite_extends() { return TopSite_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, TopSite_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */













const SPOC_TYPE = "SPOC";
const NEWTAB_SOURCE = "newtab";

// For cases if we want to know if this is sponsored by either sponsored_position or type.
// We have two sources for sponsored topsites, and
// sponsored_position is set by one sponsored source, and type is set by another.
// This is not called in all cases, sometimes we want to know if it's one source
// or the other. This function is only applicable in cases where we only care if it's either.
function isSponsored(link) {
  return link?.sponsored_position || link?.type === SPOC_TYPE;
}
class TopSiteLink extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      screenshotImage: null
    };
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onKeyPress = this.onKeyPress.bind(this);
    this.shouldShowOMCHighlight = this.shouldShowOMCHighlight.bind(this);
  }

  /*
   * Helper to determine whether the drop zone should allow a drop. We only allow
   * dropping top sites for now. We don't allow dropping on sponsored top sites
   * as their position is fixed.
   */
  _allowDrop(e) {
    return (this.dragged || !isSponsored(this.props.link)) && e.dataTransfer.types.includes("text/topsite-index");
  }
  onDragEvent(event) {
    switch (event.type) {
      case "click":
        // Stop any link clicks if we started any dragging
        if (this.dragged) {
          event.preventDefault();
        }
        break;
      case "dragstart":
        event.target.blur();
        if (isSponsored(this.props.link)) {
          event.preventDefault();
          break;
        }
        this.dragged = true;
        event.dataTransfer.effectAllowed = "move";
        event.dataTransfer.setData("text/topsite-index", this.props.index);
        this.props.onDragEvent(event, this.props.index, this.props.link, this.props.title);
        break;
      case "dragend":
        this.props.onDragEvent(event);
        break;
      case "dragenter":
      case "dragover":
      case "drop":
        if (this._allowDrop(event)) {
          event.preventDefault();
          this.props.onDragEvent(event, this.props.index);
        }
        break;
      case "mousedown":
        // Block the scroll wheel from appearing for middle clicks on search top sites
        if (event.button === 1 && this.props.link.searchTopSite) {
          event.preventDefault();
        }
        // Reset at the first mouse event of a potential drag
        this.dragged = false;
        break;
    }
  }

  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */
  static getNextStateFromProps(nextProps, prevState) {
    const {
      screenshot
    } = nextProps.link;
    const imageInState = ScreenshotUtils.isRemoteImageLocal(prevState.screenshotImage, screenshot);
    if (imageInState) {
      return null;
    }

    // Since image was updated, attempt to revoke old image blob URL, if it exists.
    ScreenshotUtils.maybeRevokeBlobObjectURL(prevState.screenshotImage);
    return {
      screenshotImage: ScreenshotUtils.createLocalImageObject(screenshot)
    };
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillMount() {
    const nextState = TopSiteLink.getNextStateFromProps(this.props, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillReceiveProps(nextProps) {
    const nextState = TopSiteLink.getNextStateFromProps(nextProps, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }
  componentWillUnmount() {
    ScreenshotUtils.maybeRevokeBlobObjectURL(this.state.screenshotImage);
  }
  onKeyPress(event) {
    // If we have tabbed to a search shortcut top site, and we click 'enter',
    // we should execute the onClick function. This needs to be added because
    // search top sites are anchor tags without an href. See bug 1483135
    if (event.key === "Enter" && (this.props.link.searchTopSite || this.props.isAddButton)) {
      this.props.onClick(event);
    }
  }

  /*
   * Takes the url as a string, runs it through a simple (non-secure) hash turning it into a random number
   * Apply that random number to the color array. The same url will always generate the same color.
   */
  generateColor() {
    let {
      title,
      colors
    } = this.props;
    if (!colors) {
      return "";
    }
    let colorArray = colors.split(",");
    const hashStr = str => {
      let hash = 0;
      for (let i = 0; i < str.length; i++) {
        let charCode = str.charCodeAt(i);
        hash += charCode;
      }
      return hash;
    };
    let hash = hashStr(title);
    let index = hash % colorArray.length;
    return colorArray[index];
  }
  calculateStyle() {
    const {
      defaultStyle,
      link
    } = this.props;
    const {
      tippyTopIcon,
      faviconSize
    } = link;
    let imageClassName;
    let imageStyle;
    let showSmallFavicon = false;
    let smallFaviconStyle;
    let hasScreenshotImage = this.state.screenshotImage && this.state.screenshotImage.url;
    let selectedColor;
    if (defaultStyle) {
      // force no styles (letter fallback) even if the link has imagery
      selectedColor = this.generateColor();
    } else if (link.searchTopSite) {
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon})`
      };
      smallFaviconStyle = {
        backgroundImage: `url(${tippyTopIcon})`
      };
    } else if (link.customScreenshotURL) {
      // assume high quality custom screenshot and use rich icon styles and class names
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: hasScreenshotImage ? `url(${this.state.screenshotImage.url})` : ""
      };
    } else if (tippyTopIcon || link.type === SPOC_TYPE || faviconSize >= MIN_RICH_FAVICON_SIZE) {
      // styles and class names for top sites with rich icons
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon || link.favicon})`
      };
    } else if (faviconSize >= MIN_SMALL_FAVICON_SIZE) {
      showSmallFavicon = true;
      smallFaviconStyle = {
        backgroundImage: `url(${link.favicon})`
      };
    } else {
      selectedColor = this.generateColor();
      imageClassName = "";
    }
    return {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    };
  }
  shouldShowOMCHighlight(componentId) {
    const messageData = this.props.Messages?.messageData;
    if (!messageData || Object.keys(messageData).length === 0) {
      return false;
    }
    return messageData?.content?.messageType === componentId;
  }
  render() {
    const {
      children,
      className,
      isDraggable,
      link,
      onClick,
      title,
      isAddButton,
      visibleTopSites
    } = this.props;
    const topSiteOuterClassName = `top-site-outer${className ? ` ${className}` : ""}${link.isDragged ? " dragged" : ""}${link.searchTopSite ? " search-shortcut" : ""}`;
    const [letterFallback] = title;
    const {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    } = this.calculateStyle();
    const addButtonLabell10n = {
      "data-l10n-id": "newtab-topsites-add-shortcut-label"
    };
    const addButtonTitlel10n = {
      "data-l10n-id": "newtab-topsites-add-shortcut-title"
    };
    const addPinnedTitlel10n = {
      "data-l10n-id": "topsite-label-pinned",
      "data-l10n-args": JSON.stringify({
        title
      })
    };
    let draggableProps = {};
    if (isDraggable) {
      draggableProps = {
        onClick: this.onDragEvent,
        onDragEnd: this.onDragEvent,
        onDragStart: this.onDragEvent,
        onMouseDown: this.onDragEvent
      };
    }
    let impressionStats = null;
    if (link.type === SPOC_TYPE) {
      // Record impressions for Pocket tiles.
      impressionStats = /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
        flightId: link.flightId,
        rows: [{
          id: link.id,
          pos: link.pos,
          shim: link.shim && link.shim.impression,
          advertiser: title.toLocaleLowerCase()
        }],
        dispatch: this.props.dispatch,
        source: TOP_SITES_SOURCE
      });
    } else if (isSponsored(link)) {
      // Record impressions for non-Pocket sponsored tiles.
      impressionStats = /*#__PURE__*/external_React_default().createElement(TopSiteImpressionWrapper, {
        actionType: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
        tile: {
          position: this.props.index,
          tile_id: link.sponsored_tile_id || -1,
          reporting_url: link.sponsored_impression_url,
          advertiser: title.toLocaleLowerCase(),
          source: NEWTAB_SOURCE,
          visible_topsites: visibleTopSites
        }
        // For testing.
        ,
        IntersectionObserver: this.props.IntersectionObserver,
        document: this.props.document,
        dispatch: this.props.dispatch
      });
    } else {
      // Record impressions for organic tiles.
      impressionStats = /*#__PURE__*/external_React_default().createElement(TopSiteImpressionWrapper, {
        actionType: actionTypes.TOP_SITES_ORGANIC_IMPRESSION_STATS,
        tile: {
          position: this.props.index,
          source: NEWTAB_SOURCE,
          isPinned: this.props.link.isPinned,
          guid: this.props.link.guid,
          visible_topsites: visibleTopSites
        }
        // For testing.
        ,
        IntersectionObserver: this.props.IntersectionObserver,
        document: this.props.document,
        dispatch: this.props.dispatch
      });
    }
    return /*#__PURE__*/external_React_default().createElement("li", TopSite_extends({
      className: topSiteOuterClassName,
      onDrop: this.onDragEvent,
      onDragOver: this.onDragEvent,
      onDragEnter: this.onDragEvent,
      onDragLeave: this.onDragEvent,
      ref: this.props.setRef
    }, draggableProps), /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/external_React_default().createElement("a", TopSite_extends({
      className: "top-site-button",
      href: link.searchTopSite ? undefined : link.url,
      tabIndex: this.props.tabIndex,
      onKeyPress: this.onKeyPress,
      onClick: onClick,
      draggable: true,
      "data-is-sponsored-link": !!link.sponsored_tile_id,
      onFocus: this.props.onFocus,
      "aria-label": link.isPinned ? undefined : title
    }, isAddButton && {
      ...addButtonTitlel10n
    }, !isAddButton && {
      title
    }, link.isPinned && {
      ...addPinnedTitlel10n
    }, {
      "data-l10n-args": JSON.stringify({
        title
      })
    }), link.isPinned && /*#__PURE__*/external_React_default().createElement("div", {
      className: "icon icon-pin-small"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "tile",
      "aria-hidden": true
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: selectedColor ? "icon-wrapper letter-fallback" : "icon-wrapper",
      "data-fallback": letterFallback,
      style: selectedColor ? {
        backgroundColor: selectedColor
      } : {}
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: imageClassName,
      style: imageStyle
    }), showSmallFavicon && /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon default-icon",
      "data-fallback": smallFaviconStyle ? "" : letterFallback,
      style: smallFaviconStyle
    }))), /*#__PURE__*/external_React_default().createElement("div", {
      className: `title${link.isPinned ? " has-icon pinned" : ""}${link.type === SPOC_TYPE || link.show_sponsored_label ? " sponsored" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("span", TopSite_extends({
      className: "title-label",
      dir: "auto"
    }, isAddButton && {
      ...addButtonLabell10n
    }), link.searchTopSite && /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon search-topsite"
    }), title || /*#__PURE__*/external_React_default().createElement("br", null)), /*#__PURE__*/external_React_default().createElement("span", {
      className: "sponsored-label",
      "data-l10n-id": "newtab-topsite-sponsored"
    }))), isAddButton && this.shouldShowOMCHighlight("ShortcutHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
      dispatch: this.props.dispatch,
      onClick: e => e.stopPropagation()
    }, /*#__PURE__*/external_React_default().createElement(ShortcutFeatureHighlight, {
      dispatch: this.props.dispatch,
      feature: "FEATURE_SHORTCUT_HIGHLIGHT",
      position: "inset-block-end inset-inline-start"
    })), children, impressionStats));
  }
}
TopSiteLink.defaultProps = {
  title: "",
  link: {},
  isDraggable: true
};
class TopSite extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false
    };
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
  }

  /**
   * Report to telemetry additional information about the item.
   */
  _getTelemetryInfo() {
    const value = {
      icon_type: this.props.link.iconType
    };
    // Filter out "not_pinned" type for being the default
    if (this.props.link.isPinned) {
      value.card_type = "pinned";
    }
    if (this.props.link.searchTopSite) {
      // Set the card_type as "search" regardless of its pinning status
      value.card_type = "search";
      value.search_vendor = this.props.link.hostname;
    }
    if (isSponsored(this.props.link)) {
      value.card_type = "spoc";
    }
    return {
      value
    };
  }
  userEvent(event) {
    this.props.dispatch(actionCreators.UserEvent(Object.assign({
      event,
      source: TOP_SITES_SOURCE,
      action_position: this.props.index
    }, this._getTelemetryInfo())));
  }
  onLinkClick(event) {
    this.userEvent("CLICK");

    // Specially handle a top site link click for "typed" frecency bonus as
    // specified as a property on the link.
    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;
    if (!this.props.link.searchTopSite) {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          },
          is_sponsored: !!this.props.link.sponsored_tile_id
        })
      }));
      if (this.props.link.type === SPOC_TYPE) {
        // Record a Pocket-specific click.
        this.props.dispatch(actionCreators.ImpressionStats({
          source: TOP_SITES_SOURCE,
          click: 0,
          tiles: [{
            id: this.props.link.id,
            pos: this.props.link.pos,
            shim: this.props.link.shim && this.props.link.shim.click
          }]
        }));

        // Record a click for a Pocket sponsored tile.
        // This first event is for the shim property
        // and is used by our ad service provider.
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "CLICK",
          source: TOP_SITES_SOURCE,
          action_position: this.props.link.pos,
          value: {
            card_type: "spoc",
            tile_id: this.props.link.id,
            shim: this.props.link.shim && this.props.link.shim.click
          }
        }));

        // A second event is recoded for internal usage.
        const title = this.props.link.label || this.props.link.hostname;
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.link.pos,
            tile_id: this.props.link.id,
            advertiser: title.toLocaleLowerCase(),
            source: NEWTAB_SOURCE
          }
        }));
      } else if (isSponsored(this.props.link)) {
        // Record a click for a non-Pocket sponsored tile.
        const title = this.props.link.label || this.props.link.hostname;
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.index,
            tile_id: this.props.link.sponsored_tile_id || -1,
            reporting_url: this.props.link.sponsored_click_url,
            advertiser: title.toLocaleLowerCase(),
            source: NEWTAB_SOURCE,
            visible_topsites: this.props.visibleTopSites
          }
        }));
      } else {
        // Record a click for an organic tile.
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.TOP_SITES_ORGANIC_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.index,
            source: NEWTAB_SOURCE,
            isPinned: this.props.link.isPinned,
            guid: this.props.link.guid,
            visible_topsites: this.props.visibleTopSites
          }
        }));
      }
      if (this.props.link.sendAttributionRequest) {
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.PARTNER_LINK_ATTRIBUTION,
          data: {
            targetURL: this.props.link.url,
            source: "newtab"
          }
        }));
      }
    } else {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.FILL_SEARCH_TERM,
        data: {
          label: this.props.link.label
        }
      }));
    }
  }
  onMenuUpdate(isOpen) {
    if (isOpen) {
      this.props.onActivate(this.props.index);
    } else {
      this.props.onActivate();
    }
  }
  render() {
    const {
      props
    } = this;
    const {
      link
    } = props;
    const isContextMenuOpen = props.activeIndex === props.index;
    const title = link.label || link.title || link.hostname;
    let menuOptions;
    if (link.sponsored_position) {
      menuOptions = TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS;
    } else if (link.searchTopSite) {
      menuOptions = TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS;
    } else if (link.type === SPOC_TYPE) {
      menuOptions = TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS;
    } else {
      menuOptions = TOP_SITES_CONTEXT_MENU_OPTIONS;
    }
    return /*#__PURE__*/external_React_default().createElement(TopSiteLink, TopSite_extends({}, props, {
      onClick: this.onLinkClick,
      onDragEvent: this.props.onDragEvent,
      className: `${props.className || ""}${isContextMenuOpen ? " active" : ""}`,
      title: title,
      setPref: this.props.setPref,
      tabIndex: this.props.tabIndex,
      onFocus: this.props.onFocus
    }), /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuUpdate,
      tabIndex: this.props.tabIndex,
      onFocus: this.props.onFocus
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: props.dispatch,
      index: props.index,
      onUpdate: this.onMenuUpdate,
      options: menuOptions,
      site: link,
      shouldSendImpressionStats: link.type === SPOC_TYPE,
      siteInfo: this._getTelemetryInfo(),
      source: TOP_SITES_SOURCE
    }))));
  }
}
TopSite.defaultProps = {
  link: {},
  onActivate() {}
};
class TopSiteAddButton extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onEditButtonClick = this.onEditButtonClick.bind(this);
  }
  onEditButtonClick() {
    this.props.dispatch({
      type: actionTypes.TOP_SITES_EDIT,
      data: {
        index: this.props.index
      }
    });
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement(TopSiteLink, TopSite_extends({}, this.props, {
      isAddButton: true,
      className: `add-button ${this.props.className || ""}`,
      onClick: this.onEditButtonClick,
      setPref: this.props.setPref,
      isDraggable: false,
      tabIndex: this.props.tabIndex
    }));
  }
}
class TopSitePlaceholder extends (external_React_default()).PureComponent {
  render() {
    return /*#__PURE__*/external_React_default().createElement(TopSiteLink, TopSite_extends({}, this.props, {
      className: `placeholder ${this.props.className || ""}`,
      isDraggable: false
    }));
  }
}
class _TopSiteList extends (external_React_default()).PureComponent {
  static get DEFAULT_STATE() {
    return {
      activeIndex: null,
      draggedIndex: null,
      draggedSite: null,
      draggedTitle: null,
      topSitesPreview: null,
      focusedIndex: 0
    };
  }
  constructor(props) {
    super(props);
    this.state = _TopSiteList.DEFAULT_STATE;
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onActivate = this.onActivate.bind(this);
    this.onWrapperFocus = this.onWrapperFocus.bind(this);
    this.onTopsiteFocus = this.onTopsiteFocus.bind(this);
    this.onWrapperBlur = this.onWrapperBlur.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
  }
  componentWillReceiveProps(nextProps) {
    if (this.state.draggedSite) {
      const prevTopSites = this.props.TopSites && this.props.TopSites.rows;
      const newTopSites = nextProps.TopSites && nextProps.TopSites.rows;
      if (prevTopSites && prevTopSites[this.state.draggedIndex] && prevTopSites[this.state.draggedIndex].url === this.state.draggedSite.url && (!newTopSites[this.state.draggedIndex] || newTopSites[this.state.draggedIndex].url !== this.state.draggedSite.url)) {
        // We got the new order from the redux store via props. We can clear state now.
        this.setState(_TopSiteList.DEFAULT_STATE);
      }
    }
  }
  userEvent(event, index) {
    this.props.dispatch(actionCreators.UserEvent({
      event,
      source: TOP_SITES_SOURCE,
      action_position: index
    }));
  }
  onDragEvent(event, index, link, title) {
    switch (event.type) {
      case "dragstart":
        this.dropped = false;
        this.setState({
          draggedIndex: index,
          draggedSite: link,
          draggedTitle: title,
          activeIndex: null
        });
        this.userEvent("DRAG", index);
        break;
      case "dragend":
        if (!this.dropped) {
          // If there was no drop event, reset the state to the default.
          this.setState(_TopSiteList.DEFAULT_STATE);
        }
        break;
      case "dragenter":
        if (index === this.state.draggedIndex) {
          this.setState({
            topSitesPreview: null
          });
        } else {
          this.setState({
            topSitesPreview: this._makeTopSitesPreview(index)
          });
        }
        break;
      case "drop":
        if (index !== this.state.draggedIndex) {
          this.dropped = true;
          this.props.dispatch(actionCreators.AlsoToMain({
            type: actionTypes.TOP_SITES_INSERT,
            data: {
              site: {
                url: this.state.draggedSite.url,
                label: this.state.draggedTitle,
                customScreenshotURL: this.state.draggedSite.customScreenshotURL,
                // Only if the search topsites experiment is enabled
                ...(this.state.draggedSite.searchTopSite && {
                  searchTopSite: true
                })
              },
              index,
              draggedFromIndex: this.state.draggedIndex
            }
          }));
          this.userEvent("DROP", index);
        }
        break;
    }
  }
  _getTopSites() {
    // Make a copy of the sites to truncate or extend to desired length
    let topSites = this.props.TopSites.rows.slice();
    topSites.length = this.props.TopSitesRows * TOP_SITES_MAX_SITES_PER_ROW;
    // if topSites do not fill an entire row add 'Add shortcut' button to array of topSites
    // (there should only be one of these)
    let firstPlaceholder = topSites.findIndex(Object.is.bind(null, undefined));
    // make sure placeholder exists and there already isnt a add button
    if (firstPlaceholder && !topSites.includes(site => site.isAddButton)) {
      topSites[firstPlaceholder] = {
        isAddButton: true
      };
    } else if (topSites.includes(site => site.isAddButton)) {
      topSites.push(topSites.splice(topSites.indexOf({
        isAddButton: true
      }), 1)[0]);
    }
    return topSites;
  }

  /**
   * Make a preview of the topsites that will be the result of dropping the currently
   * dragged site at the specified index.
   */
  _makeTopSitesPreview(index) {
    const topSites = this._getTopSites();
    topSites[this.state.draggedIndex] = null;
    const preview = topSites.map(site => site && (site.isPinned || isSponsored(site)) ? site : null);
    const unpinned = topSites.filter(site => site && !site.isPinned && !isSponsored(site));
    const siteToInsert = Object.assign({}, this.state.draggedSite, {
      isPinned: true,
      isDragged: true
    });
    if (!preview[index]) {
      preview[index] = siteToInsert;
    } else {
      // Find the hole to shift the pinned site(s) towards. We shift towards the
      // hole left by the site being dragged.
      let holeIndex = index;
      const indexStep = index > this.state.draggedIndex ? -1 : 1;
      while (preview[holeIndex]) {
        holeIndex += indexStep;
      }

      // Shift towards the hole.
      const shiftingStep = index > this.state.draggedIndex ? 1 : -1;
      while (index > this.state.draggedIndex ? holeIndex < index : holeIndex > index) {
        let nextIndex = holeIndex + shiftingStep;
        while (isSponsored(preview[nextIndex])) {
          nextIndex += shiftingStep;
        }
        preview[holeIndex] = preview[nextIndex];
        holeIndex = nextIndex;
      }
      preview[index] = siteToInsert;
    }

    // Fill in the remaining holes with unpinned sites.
    for (let i = 0; i < preview.length; i++) {
      if (!preview[i]) {
        preview[i] = unpinned.shift() || null;
      }
    }
    return preview;
  }
  onActivate(index) {
    this.setState({
      activeIndex: index
    });
  }
  onKeyDown(e) {
    if (this.state.activeIndex || this.state.activeIndex === 0) {
      return;
    }
    if (e.key === "ArrowDown" || e.key === "ArrowUp") {
      // prevent the page from scrolling up/down while navigating.
      e.preventDefault();
    }
    if (this.focusedRef?.nextSibling?.querySelector("a") && e.key === "ArrowDown") {
      this.focusedRef.nextSibling.querySelector("a").tabIndex = 0;
      this.focusedRef.nextSibling.querySelector("a").focus();
    }
    if (this.focusedRef?.previousSibling?.querySelector("a") && e.key === "ArrowUp") {
      this.focusedRef.previousSibling.querySelector("a").tabIndex = 0;
      this.focusedRef.previousSibling.querySelector("a").focus();
    }
  }
  onWrapperFocus() {
    this.focusRef?.addEventListener("keydown", this.onKeyDown);
  }
  onWrapperBlur() {
    this.focusRef?.removeEventListener("keydown", this.onKeyDown);
  }
  onTopsiteFocus(focusIndex) {
    this.setState(() => ({
      focusedIndex: focusIndex
    }));
  }
  render() {
    const {
      props
    } = this;
    const topSites = this.state.topSitesPreview || this._getTopSites();
    const topSitesUI = [];
    const commonProps = {
      onDragEvent: this.onDragEvent,
      dispatch: props.dispatch
    };
    // We assign a key to each placeholder slot. We need it to be independent
    // of the slot index (i below) so that the keys used stay the same during
    // drag and drop reordering and the underlying DOM nodes are reused.
    // This mostly (only?) affects linux so be sure to test on linux before changing.
    let holeIndex = 0;

    // On narrow viewports, we only show 6 sites per row. We'll mark the rest as
    // .hide-for-narrow to hide in CSS via @media query.
    const maxNarrowVisibleIndex = props.TopSitesRows * 6;
    for (let i = 0, l = topSites.length; i < l; i++) {
      const link = topSites[i] && Object.assign({}, topSites[i], {
        iconType: this.props.topSiteIconType(topSites[i])
      });
      const slotProps = {
        key: link ? link.url : holeIndex++,
        index: i
      };
      if (i >= maxNarrowVisibleIndex) {
        slotProps.className = "hide-for-narrow";
      }
      let topSiteLink;
      // Use a placeholder if the link is empty or it's rendering a sponsored
      // tile for the about:home startup cache.
      if (!link || props.App.isForStartupCache.TopSites && isSponsored(link)) {
        if (link) {
          topSiteLink = /*#__PURE__*/external_React_default().createElement(TopSitePlaceholder, TopSite_extends({}, slotProps, commonProps));
        }
      } else if (topSites[i]?.isAddButton) {
        topSiteLink = /*#__PURE__*/external_React_default().createElement(TopSiteAddButton, TopSite_extends({}, slotProps, commonProps, {
          setRef: i === this.state.focusedIndex ? el => {
            this.focusedRef = el;
          } : () => {},
          tabIndex: i === this.state.focusedIndex ? 0 : -1,
          onFocus: () => {
            this.onTopsiteFocus(i);
          },
          Messages: this.props.Messages,
          visibleTopSites: this.props.visibleTopSites
        }));
      } else {
        topSiteLink = /*#__PURE__*/external_React_default().createElement(TopSite, TopSite_extends({
          link: link,
          activeIndex: this.state.activeIndex,
          onActivate: this.onActivate
        }, slotProps, commonProps, {
          colors: props.colors,
          setRef: i === this.state.focusedIndex ? el => {
            this.focusedRef = el;
          } : () => {},
          tabIndex: i === this.state.focusedIndex ? 0 : -1,
          onFocus: () => {
            this.onTopsiteFocus(i);
          },
          visibleTopSites: this.props.visibleTopSites
        }));
      }
      topSitesUI.push(topSiteLink);
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-sites-list-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("ul", {
      role: "group",
      "aria-label": "Shortcuts",
      onFocus: this.onWrapperFocus,
      onBlur: this.onWrapperBlur,
      ref: el => {
        this.focusRef = el;
      },
      className: `top-sites-list${this.state.draggedSite ? " dnd-active" : ""}`
    }, topSitesUI));
  }
}
const TopSiteList = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  Messages: state.Messages,
  Prefs: state.Prefs
}))(_TopSiteList);
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteForm.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







class TopSiteForm extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    const {
      site
    } = props;
    this.state = {
      label: site ? site.label || site.hostname : "",
      url: site ? site.url : "",
      validationError: false,
      customScreenshotUrl: site ? site.customScreenshotURL : "",
      showCustomScreenshotForm: site ? site.customScreenshotURL : false,
      hasURLChanged: false,
      hasTitleChanged: false
    };
    this.onClearScreenshotInput = this.onClearScreenshotInput.bind(this);
    this.onLabelChange = this.onLabelChange.bind(this);
    this.onUrlChange = this.onUrlChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onClearUrlClick = this.onClearUrlClick.bind(this);
    this.onDoneButtonClick = this.onDoneButtonClick.bind(this);
    this.onCustomScreenshotUrlChange = this.onCustomScreenshotUrlChange.bind(this);
    this.onPreviewButtonClick = this.onPreviewButtonClick.bind(this);
    this.onEnableScreenshotUrlForm = this.onEnableScreenshotUrlForm.bind(this);
    this.validateUrl = this.validateUrl.bind(this);
  }
  onLabelChange(event) {
    this.setState({
      label: event.target.value,
      hasTitleChanged: true
    });
  }
  onUrlChange(event) {
    this.setState({
      url: event.target.value,
      validationError: false,
      hasURLChanged: true
    });
  }
  onClearUrlClick() {
    this.setState({
      url: "",
      validationError: false
    });
  }
  onEnableScreenshotUrlForm() {
    this.setState({
      showCustomScreenshotForm: true
    });
  }
  _updateCustomScreenshotInput(customScreenshotUrl) {
    this.setState({
      customScreenshotUrl,
      validationError: false
    });
    this.props.dispatch({
      type: actionTypes.PREVIEW_REQUEST_CANCEL
    });
  }
  onCustomScreenshotUrlChange(event) {
    this._updateCustomScreenshotInput(event.target.value);
  }
  onClearScreenshotInput() {
    this._updateCustomScreenshotInput("");
  }
  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }
  onDoneButtonClick(ev) {
    ev.preventDefault();
    if (this.validateForm()) {
      const site = {
        url: this.cleanUrl(this.state.url)
      };
      const {
        index
      } = this.props;
      const isEdit = !!this.props.site;
      if (this.state.label !== "") {
        site.label = this.state.label;
      }
      if (this.state.customScreenshotUrl) {
        site.customScreenshotURL = this.cleanUrl(this.state.customScreenshotUrl);
      } else if (this.props.site && this.props.site.customScreenshotURL) {
        // Used to flag that previously cached screenshot should be removed
        site.customScreenshotURL = null;
      }
      this.props.dispatch(actionCreators.AlsoToMain({
        type: actionTypes.TOP_SITES_PIN,
        data: {
          site,
          index
        }
      }));
      if (isEdit) {
        this.props.dispatch(actionCreators.UserEvent({
          source: TOP_SITES_SOURCE,
          event: "TOP_SITES_EDIT",
          action_position: index,
          hasTitleChanged: this.state.hasTitleChanged,
          hasURLChanged: this.state.hasURLChanged
        }));
      } else if (!isEdit) {
        this.props.dispatch(actionCreators.UserEvent({
          source: TOP_SITES_SOURCE,
          event: "TOP_SITES_ADD",
          action_position: index
        }));
      }
      this.props.onClose();
    }
  }
  onPreviewButtonClick(event) {
    event.preventDefault();
    if (this.validateForm()) {
      this.props.dispatch(actionCreators.AlsoToMain({
        type: actionTypes.PREVIEW_REQUEST,
        data: {
          url: this.cleanUrl(this.state.customScreenshotUrl)
        }
      }));
      this.props.dispatch(actionCreators.UserEvent({
        source: TOP_SITES_SOURCE,
        event: "PREVIEW_REQUEST"
      }));
    }
  }
  cleanUrl(url) {
    // If we are missing a protocol, prepend http://
    if (!url.startsWith("http:") && !url.startsWith("https:")) {
      return `http://${url}`;
    }
    return url;
  }
  _tryParseUrl(url) {
    try {
      return new URL(url);
    } catch (e) {
      return null;
    }
  }
  validateUrl(url) {
    const validProtocols = ["http:", "https:"];
    const urlObj = this._tryParseUrl(url) || this._tryParseUrl(this.cleanUrl(url));
    return urlObj && validProtocols.includes(urlObj.protocol);
  }
  validateCustomScreenshotUrl() {
    const {
      customScreenshotUrl
    } = this.state;
    return !customScreenshotUrl || this.validateUrl(customScreenshotUrl);
  }
  validateForm() {
    const validate = this.validateUrl(this.state.url) && this.validateCustomScreenshotUrl();
    if (!validate) {
      this.setState({
        validationError: true
      });
    }
    return validate;
  }
  _renderCustomScreenshotInput() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === "";
    const validationError = this.state.validationError && !this.validateCustomScreenshotUrl() || requestFailed;
    // Set focus on error if the url field is valid or when the input is first rendered and is empty
    const shouldFocus = validationError && this.validateUrl(this.state.url) || !customScreenshotUrl;
    const isLoading = this.props.previewResponse === null && customScreenshotUrl && this.props.previewUrl === this.cleanUrl(customScreenshotUrl);
    if (!this.state.showCustomScreenshotForm) {
      return /*#__PURE__*/external_React_default().createElement(A11yLinkButton, {
        onClick: this.onEnableScreenshotUrlForm,
        className: "enable-custom-image-input",
        "data-l10n-id": "newtab-topsites-use-image-link"
      });
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "custom-image-input-container"
    }, /*#__PURE__*/external_React_default().createElement(TopSiteFormInput, {
      errorMessageId: requestFailed ? "newtab-topsites-image-validation" : "newtab-topsites-url-validation",
      loading: isLoading,
      onChange: this.onCustomScreenshotUrlChange,
      onClear: this.onClearScreenshotInput,
      shouldFocus: shouldFocus,
      typeUrl: true,
      value: customScreenshotUrl,
      validationError: validationError,
      titleId: "newtab-topsites-image-url-label",
      placeholderId: "newtab-topsites-url-input"
    }));
  }
  render() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === "";
    // For UI purposes, editing without an existing link is "add"
    const showAsAdd = !this.props.site;
    const previous = this.props.site && this.props.site.customScreenshotURL || "";
    const changed = customScreenshotUrl && this.cleanUrl(customScreenshotUrl) !== previous;
    // Preview mode if changes were made to the custom screenshot URL and no preview was received yet
    // or the request failed
    const previewMode = changed && !this.props.previewResponse;
    const previewLink = Object.assign({}, this.props.site);
    if (this.props.previewResponse) {
      previewLink.screenshot = this.props.previewResponse;
      previewLink.customScreenshotURL = this.props.previewUrl;
    }
    // Handles the form submit so an enter press performs the correct action
    const onSubmit = previewMode ? this.onPreviewButtonClick : this.onDoneButtonClick;
    const addTopsitesHeaderL10nId = "newtab-topsites-add-shortcut-header";
    const editTopsitesHeaderL10nId = "newtab-topsites-edit-shortcut-header";
    return /*#__PURE__*/external_React_default().createElement("form", {
      className: "topsite-form",
      onSubmit: onSubmit
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "form-input-container"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": showAsAdd ? addTopsitesHeaderL10nId : editTopsitesHeaderL10nId
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "fields-and-preview"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "form-wrapper"
    }, /*#__PURE__*/external_React_default().createElement(TopSiteFormInput, {
      onChange: this.onLabelChange,
      value: this.state.label,
      titleId: "newtab-topsites-title-label",
      placeholderId: "newtab-topsites-title-input",
      autoFocusOnOpen: true
    }), /*#__PURE__*/external_React_default().createElement(TopSiteFormInput, {
      onChange: this.onUrlChange,
      shouldFocus: this.state.validationError && !this.validateUrl(this.state.url),
      value: this.state.url,
      onClear: this.onClearUrlClick,
      validationError: this.state.validationError && !this.validateUrl(this.state.url),
      titleId: "newtab-topsites-url-label",
      typeUrl: true,
      placeholderId: "newtab-topsites-url-input",
      errorMessageId: "newtab-topsites-url-validation"
    }), this._renderCustomScreenshotInput()), /*#__PURE__*/external_React_default().createElement(TopSiteLink, {
      link: previewLink,
      defaultStyle: requestFailed,
      title: this.state.label
    }))), /*#__PURE__*/external_React_default().createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), previewMode ? /*#__PURE__*/external_React_default().createElement("button", {
      className: "done preview",
      type: "submit",
      "data-l10n-id": "newtab-topsites-preview-button"
    }) : /*#__PURE__*/external_React_default().createElement("button", {
      className: "done",
      type: "submit",
      "data-l10n-id": showAsAdd ? "newtab-topsites-add-button" : "newtab-topsites-save-button"
    })));
  }
}
TopSiteForm.defaultProps = {
  site: null,
  index: -1
};
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSites.jsx
function TopSites_extends() { return TopSites_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, TopSites_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */












function topSiteIconType(link) {
  if (link.customScreenshotURL) {
    return "custom_screenshot";
  }
  if (link.tippyTopIcon || link.faviconRef === "tippytop") {
    return "tippytop";
  }
  if (link.faviconSize >= MIN_RICH_FAVICON_SIZE) {
    return "rich_icon";
  }
  if (link.screenshot) {
    return "screenshot";
  }
  return "no_image";
}

/**
 * Iterates through TopSites and counts types of images.
 * @param acc Accumulator for reducer.
 * @param topsite Entry in TopSites.
 */
function countTopSitesIconsTypes(topSites) {
  const countTopSitesTypes = (acc, link) => {
    acc[topSiteIconType(link)]++;
    return acc;
  };
  return topSites.reduce(countTopSitesTypes, {
    custom_screenshot: 0,
    screenshot: 0,
    tippytop: 0,
    rich_icon: 0,
    no_image: 0
  });
}
class _TopSites extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onEditFormClose = this.onEditFormClose.bind(this);
    this.onSearchShortcutsFormClose = this.onSearchShortcutsFormClose.bind(this);
  }

  /**
   * Dispatch session statistics about the quality of TopSites icons and pinned count.
   */
  _dispatchTopSitesStats() {
    const topSites = this._getVisibleTopSites().filter(topSite => topSite !== null && topSite !== undefined);
    const topSitesIconsStats = countTopSitesIconsTypes(topSites);
    const topSitesPinned = topSites.filter(site => !!site.isPinned).length;
    const searchShortcuts = topSites.filter(site => !!site.searchTopSite).length;
    // Dispatch telemetry event with the count of TopSites images types.
    this.props.dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SAVE_SESSION_PERF_DATA,
      data: {
        topsites_icon_stats: topSitesIconsStats,
        topsites_pinned: topSitesPinned,
        topsites_search_shortcuts: searchShortcuts
      }
    }));
  }

  /**
   * Return the TopSites that are visible based on prefs and window width.
   */
  _getVisibleTopSites() {
    // We hide 2 sites per row when not in the wide layout.
    let sitesPerRow = TOP_SITES_MAX_SITES_PER_ROW;
    // $break-point-widest = 1072px (from _variables.scss)
    if (!globalThis.matchMedia(`(min-width: 1072px)`).matches) {
      sitesPerRow -= 2;
    }
    return this.props.TopSites.rows.slice(0, this.props.TopSitesRows * sitesPerRow);
  }
  componentDidUpdate() {
    this._dispatchTopSitesStats();
  }
  componentDidMount() {
    this._dispatchTopSitesStats();
  }
  onEditFormClose() {
    this.props.dispatch(actionCreators.UserEvent({
      source: TOP_SITES_SOURCE,
      event: "TOP_SITES_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: actionTypes.TOP_SITES_CANCEL_EDIT
    });
  }
  onSearchShortcutsFormClose() {
    this.props.dispatch(actionCreators.UserEvent({
      source: TOP_SITES_SOURCE,
      event: "SEARCH_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: actionTypes.TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL
    });
  }
  render() {
    const {
      props
    } = this;
    const {
      editForm,
      showSearchShortcutsForm
    } = props.TopSites;
    const extraMenuOptions = ["AddTopSite"];
    let visibleTopSites;
    const colors = props.Prefs.values["newNewtabExperience.colors"];

    // do not run this function when for startup cache
    if (!props.App.isForStartupCache.TopSites) {
      visibleTopSites = this._getVisibleTopSites()?.length;
    }
    if (props.Prefs.values["improvesearch.topSiteSearchShortcuts"]) {
      extraMenuOptions.push("AddSearchShortcut");
    }
    return /*#__PURE__*/external_React_default().createElement(ComponentPerfTimer, {
      id: "topsites",
      initialized: props.TopSites.initialized,
      dispatch: props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(CollapsibleSection, {
      className: "top-sites",
      id: "topsites",
      title: props.title || {
        id: "newtab-section-header-topsites"
      },
      hideTitle: true,
      extraMenuOptions: extraMenuOptions,
      showPrefName: "feeds.topsites",
      eventSource: TOP_SITES_SOURCE,
      collapsed: false,
      isFixed: props.isFixed,
      isFirst: props.isFirst,
      isLast: props.isLast,
      dispatch: props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(TopSiteList, {
      TopSites: props.TopSites,
      TopSitesRows: props.TopSitesRows,
      dispatch: props.dispatch,
      topSiteIconType: topSiteIconType,
      colors: colors,
      visibleTopSites: visibleTopSites
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "edit-topsites-wrapper"
    }, editForm && /*#__PURE__*/external_React_default().createElement("div", {
      className: "edit-topsites"
    }, /*#__PURE__*/external_React_default().createElement(ModalOverlayWrapper, {
      unstyled: true,
      onClose: this.onEditFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/external_React_default().createElement(TopSiteForm, TopSites_extends({
      site: props.TopSites.rows[editForm.index],
      onClose: this.onEditFormClose,
      dispatch: this.props.dispatch
    }, editForm)))), showSearchShortcutsForm && /*#__PURE__*/external_React_default().createElement("div", {
      className: "edit-search-shortcuts"
    }, /*#__PURE__*/external_React_default().createElement(ModalOverlayWrapper, {
      unstyled: true,
      onClose: this.onSearchShortcutsFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/external_React_default().createElement(SearchShortcutsForm, {
      TopSites: props.TopSites,
      onClose: this.onSearchShortcutsFormClose,
      dispatch: this.props.dispatch
    }))))));
  }
}
const TopSites_TopSites = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  TopSites: state.TopSites,
  Prefs: state.Prefs,
  TopSitesRows: state.Prefs.values.topSitesRows
}))(_TopSites);
;// CONCATENATED MODULE: ./content-src/components/Sections/Sections.jsx
function Sections_extends() { return Sections_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Sections_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










const Sections_VISIBLE = "visible";
const Sections_VISIBILITY_CHANGE_EVENT = "visibilitychange";
const CARDS_PER_ROW_DEFAULT = 3;
const CARDS_PER_ROW_COMPACT_WIDE = 4;
class Section extends (external_React_default()).PureComponent {
  get numRows() {
    const {
      rowsPref,
      maxRows,
      Prefs
    } = this.props;
    return rowsPref ? Prefs.values[rowsPref] : maxRows;
  }
  _dispatchImpressionStats() {
    const {
      props
    } = this;
    let cardsPerRow = CARDS_PER_ROW_DEFAULT;
    if (props.compactCards && globalThis.matchMedia(`(min-width: 1072px)`).matches) {
      // If the section has compact cards and the viewport is wide enough, we show
      // 4 columns instead of 3.
      // $break-point-widest = 1072px (from _variables.scss)
      cardsPerRow = CARDS_PER_ROW_COMPACT_WIDE;
    }
    const maxCards = cardsPerRow * this.numRows;
    const cards = props.rows.slice(0, maxCards);
    if (this.needsImpressionStats(cards)) {
      props.dispatch(actionCreators.ImpressionStats({
        source: props.eventSource,
        tiles: cards.map(link => ({
          id: link.guid
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.guid);
    }
  }

  // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.
  sendImpressionStatsOrAddListener() {
    const {
      props
    } = this;
    if (!props.shouldSendImpressionStats || !props.dispatch) {
      return;
    }
    if (props.document.visibilityState === Sections_VISIBLE) {
      this._dispatchImpressionStats();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }

      // When the page becomes visible, send the impression stats ping if the section isn't collapsed.
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === Sections_VISIBLE) {
          if (!this.props.pref.collapsed) {
            this._dispatchImpressionStats();
          }
          props.document.removeEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  componentWillMount() {
    this.sendNewTabRehydrated(this.props.initialized);
  }
  componentDidMount() {
    if (this.props.rows.length && !this.props.pref.collapsed) {
      this.sendImpressionStatsOrAddListener();
    }
  }
  componentDidUpdate(prevProps) {
    const {
      props
    } = this;
    const isCollapsed = props.pref.collapsed;
    const wasCollapsed = prevProps.pref.collapsed;
    if (
    // Don't send impression stats for the empty state
    props.rows.length && (
    // We only want to send impression stats if the content of the cards has changed
    // and the section is not collapsed...
    props.rows !== prevProps.rows && !isCollapsed ||
    // or if we are expanding a section that was collapsed.
    wasCollapsed && !isCollapsed)) {
      this.sendImpressionStatsOrAddListener();
    }
  }
  componentWillUpdate(nextProps) {
    this.sendNewTabRehydrated(nextProps.initialized);
  }
  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }
    for (let i = 0; i < cards.length; i++) {
      if (cards[i].guid !== this.impressionCardGuids[i]) {
        return true;
      }
    }
    return false;
  }

  // The NEW_TAB_REHYDRATED event is used to inform feeds that their
  // data has been consumed e.g. for counting the number of tabs that
  // have rendered that data.
  sendNewTabRehydrated(initialized) {
    if (initialized && !this.renderNotified) {
      this.props.dispatch(actionCreators.AlsoToMain({
        type: actionTypes.NEW_TAB_REHYDRATED,
        data: {}
      }));
      this.renderNotified = true;
    }
  }
  render() {
    const {
      id,
      eventSource,
      title,
      rows,
      emptyState,
      dispatch,
      compactCards,
      read_more_endpoint,
      contextMenuOptions,
      initialized,
      learnMore,
      pref,
      privacyNoticeURL,
      isFirst,
      isLast
    } = this.props;
    const waitingForSpoc = id === "topstories" && this.props.Pocket.waitingForSpoc;
    const maxCardsPerRow = compactCards ? CARDS_PER_ROW_COMPACT_WIDE : CARDS_PER_ROW_DEFAULT;
    const {
      numRows
    } = this;
    const maxCards = maxCardsPerRow * numRows;
    const maxCardsOnNarrow = CARDS_PER_ROW_DEFAULT * numRows;
    const shouldShowReadMore = read_more_endpoint;
    const realRows = rows.slice(0, maxCards);

    // The empty state should only be shown after we have initialized and there is no content.
    // Otherwise, we should show placeholders.
    const shouldShowEmptyState = initialized && !rows.length;
    const cards = [];
    if (!shouldShowEmptyState) {
      for (let i = 0; i < maxCards; i++) {
        const link = realRows[i];
        // On narrow viewports, we only show 3 cards per row. We'll mark the rest as
        // .hide-for-narrow to hide in CSS via @media query.
        const className = i >= maxCardsOnNarrow ? "hide-for-narrow" : "";
        let usePlaceholder = !link;
        // If we are in the third card and waiting for spoc,
        // use the placeholder.
        if (!usePlaceholder && i === 2 && waitingForSpoc) {
          usePlaceholder = true;
        }
        cards.push(!usePlaceholder ? /*#__PURE__*/external_React_default().createElement(Card, {
          key: i,
          index: i,
          className: className,
          dispatch: dispatch,
          link: link,
          contextMenuOptions: contextMenuOptions,
          eventSource: eventSource,
          shouldSendImpressionStats: this.props.shouldSendImpressionStats,
          isWebExtension: this.props.isWebExtension
        }) : /*#__PURE__*/external_React_default().createElement(PlaceholderCard, {
          key: i,
          className: className
        }));
      }
    }
    const sectionClassName = ["section", compactCards ? "compact-cards" : "normal-cards"].join(" ");

    // <Section> <-- React component
    // <section> <-- HTML5 element
    return /*#__PURE__*/external_React_default().createElement(ComponentPerfTimer, this.props, /*#__PURE__*/external_React_default().createElement(CollapsibleSection, {
      className: sectionClassName,
      title: title,
      id: id,
      eventSource: eventSource,
      collapsed: this.props.pref.collapsed,
      showPrefName: pref && pref.feed || id,
      privacyNoticeURL: privacyNoticeURL,
      Prefs: this.props.Prefs,
      isFixed: this.props.isFixed,
      isFirst: isFirst,
      isLast: isLast,
      learnMore: learnMore,
      dispatch: this.props.dispatch,
      isWebExtension: this.props.isWebExtension
    }, !shouldShowEmptyState && /*#__PURE__*/external_React_default().createElement("ul", {
      className: "section-list",
      style: {
        padding: 0
      }
    }, cards), shouldShowEmptyState && /*#__PURE__*/external_React_default().createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "empty-state"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: emptyState.message
    }, /*#__PURE__*/external_React_default().createElement("p", {
      className: "empty-state-message"
    })))), id === "topstories" && /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-stories-bottom-container"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "wrapper-more-recommendations"
    }, shouldShowReadMore && /*#__PURE__*/external_React_default().createElement(MoreRecommendations, {
      read_more_endpoint: read_more_endpoint
    })))));
  }
}
Section.defaultProps = {
  document: globalThis.document,
  rows: [],
  emptyState: {},
  pref: {},
  title: ""
};
const SectionIntl = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs,
  Pocket: state.Pocket
}))(Section);
class _Sections extends (external_React_default()).PureComponent {
  renderSections() {
    const sections = [];
    const enabledSections = this.props.Sections.filter(section => section.enabled);
    const {
      sectionOrder,
      "feeds.topsites": showTopSites
    } = this.props.Prefs.values;
    // Enabled sections doesn't include Top Sites, so we add it if enabled.
    const expectedCount = enabledSections.length + ~~showTopSites;
    for (const sectionId of sectionOrder.split(",")) {
      const commonProps = {
        key: sectionId,
        isFirst: sections.length === 0,
        isLast: sections.length === expectedCount - 1
      };
      if (sectionId === "topsites" && showTopSites) {
        sections.push(/*#__PURE__*/external_React_default().createElement(TopSites_TopSites, commonProps));
      } else {
        const section = enabledSections.find(s => s.id === sectionId);
        if (section) {
          sections.push(/*#__PURE__*/external_React_default().createElement(SectionIntl, Sections_extends({}, section, commonProps)));
        }
      }
    }
    return sections;
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "sections-list"
    }, this.renderSections());
  }
}
const Sections_Sections = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Sections: state.Sections,
  Prefs: state.Prefs
}))(_Sections);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/Highlights/Highlights.jsx
function Highlights_extends() { return Highlights_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Highlights_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class _Highlights extends (external_React_default()).PureComponent {
  render() {
    const section = this.props.Sections.find(s => s.id === "highlights");
    if (!section || !section.enabled) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-highlights sections-list"
    }, /*#__PURE__*/external_React_default().createElement(SectionIntl, Highlights_extends({}, section, {
      isFixed: true
    })));
  }
}
const Highlights = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Sections: state.Sections
}))(_Highlights);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/HorizontalRule/HorizontalRule.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class HorizontalRule extends (external_React_default()).PureComponent {
  render() {
    return /*#__PURE__*/external_React_default().createElement("hr", {
      className: "ds-hr"
    });
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/Navigation/Navigation.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class Topic extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
  }
  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source: "POPULAR_TOPICS",
        action_position: 0,
        value: {
          topic: event.target.text.toLowerCase().replace(` `, `-`)
        }
      }));
    }
  }
  render() {
    const {
      url,
      name: topicName
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      onLinkClick: this.onLinkClick,
      className: this.props.className,
      url: url
    }, topicName);
  }
}
class Navigation extends (external_React_default()).PureComponent {
  render() {
    let links = this.props.links || [];
    const alignment = this.props.alignment || "centered";
    const header = this.props.header || {};
    const english = this.props.locale.startsWith("en-");
    const privacyNotice = this.props.privacyNoticeURL || {};
    const {
      newFooterSection
    } = this.props;
    const className = `ds-navigation ds-navigation-${alignment} ${newFooterSection ? `ds-navigation-new-topics` : ``}`;
    let {
      title
    } = header;
    if (newFooterSection) {
      title = {
        id: "newtab-pocket-new-topics-title"
      };
      if (this.props.extraLinks) {
        links = [...links.slice(0, links.length - 1), ...this.props.extraLinks, links[links.length - 1]];
      }
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: className
    }, title && english ? /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: title
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "ds-navigation-header"
    })) : null, english ? /*#__PURE__*/external_React_default().createElement("ul", null, links && links.map(t => /*#__PURE__*/external_React_default().createElement("li", {
      key: t.name
    }, /*#__PURE__*/external_React_default().createElement(Topic, {
      url: t.url,
      name: t.name,
      dispatch: this.props.dispatch
    })))) : null, !newFooterSection ? /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-navigation-privacy",
      url: privacyNotice.url
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: privacyNotice.title
    })) : null, newFooterSection ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-navigation-family"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon firefox-logo"
    }), /*#__PURE__*/external_React_default().createElement("span", null, "|"), /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon pocket-logo"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "ds-navigation-family-message",
      "data-l10n-id": "newtab-pocket-pocket-firefox-family"
    })) : null);
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/PrivacyLink/PrivacyLink.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class PrivacyLink extends (external_React_default()).PureComponent {
  render() {
    const {
      properties
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-privacy-link"
    }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      url: properties.url
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: properties.title
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/SectionTitle/SectionTitle.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SectionTitle extends (external_React_default()).PureComponent {
  render() {
    const {
      header: {
        title,
        subtitle
      }
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-section-title"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "title"
    }, title), subtitle ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "subtitle"
    }, subtitle) : null);
  }
}
;// CONCATENATED MODULE: ./content-src/lib/selectLayoutRender.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const selectLayoutRender = ({ state = {}, prefs = {} }) => {
  const { layout, feeds, spocs } = state;
  let spocIndexPlacementMap = {};

  /* This function fills spoc positions on a per placement basis with available spocs.
   * It does this by looping through each position for a placement and replacing a rec with a spoc.
   * If it runs out of spocs or positions, it stops.
   * If it sees the same placement again, it remembers the previous spoc index, and continues.
   * If it sees a blocked spoc, it skips that position leaving in a regular story.
   */
  function fillSpocPositionsForPlacement(
    data,
    spocsPositions,
    spocsData,
    placementName
  ) {
    if (
      !spocIndexPlacementMap[placementName] &&
      spocIndexPlacementMap[placementName] !== 0
    ) {
      spocIndexPlacementMap[placementName] = 0;
    }
    const results = [...data];
    for (let position of spocsPositions) {
      const spoc = spocsData[spocIndexPlacementMap[placementName]];
      // If there are no spocs left, we can stop filling positions.
      if (!spoc) {
        break;
      }

      // A placement could be used in two sections.
      // In these cases, we want to maintain the index of the previous section.
      // If we didn't do this, it might duplicate spocs.
      spocIndexPlacementMap[placementName]++;

      // A spoc that's blocked is removed from the source for subsequent newtab loads.
      // If we have a spoc in the source that's blocked, it means it was *just* blocked,
      // and in this case, we skip this position, and show a regular spoc instead.
      if (!spocs.blocked.includes(spoc.url)) {
        results.splice(position.index, 0, spoc);
      }
    }

    return results;
  }

  const positions = {};
  const DS_COMPONENTS = [
    "Message",
    "TextPromo",
    "SectionTitle",
    "Signup",
    "Navigation",
    "Widgets",
    "CardGrid",
    "HorizontalRule",
    "PrivacyLink",
  ];

  const filterArray = [];

  // Filter sections is Topsites are turned off
  if (!prefs["feeds.topsites"]) {
    filterArray.push("TopSites");
  }

  // Filter sections is Widgets are turned off
  // Note extra logic is required bc this feature can be enabled via Nimbus
  const nimbusWidgetsTrainhopEnabled = prefs.trainhopConfig?.widgets?.enabled;
  const nimbusWidgetsEnabled = prefs.widgetsConfig?.enabled;
  const widgetsEnabled = prefs["widgets.system.enabled"];
  if (
    !nimbusWidgetsTrainhopEnabled &&
    !nimbusWidgetsEnabled &&
    !widgetsEnabled
  ) {
    filterArray.push("Widgets");
  }

  // Filter sections is Recommended Stories are turned off
  const pocketEnabled =
    prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
  if (!pocketEnabled) {
    filterArray.push(
      // Bug 1980459 - Do not remove Widgets if DS is disabled
      ...DS_COMPONENTS.filter(component => component !== "Widgets")
    );
  }

  // function to determine amount of tiles shown per section per viewport
  function getMaxTiles(responsiveLayouts) {
    return responsiveLayouts
      .flatMap(responsiveLayout => responsiveLayout)
      .reduce((acc, t) => {
        acc[t.columnCount] = t.tiles.length;

        // Update maxTile if current tile count is greater
        if (!acc.maxTile || t.tiles.length > acc.maxTile) {
          acc.maxTile = t.tiles.length;
        }
        return acc;
      }, {});
  }

  const placeholderComponent = component => {
    if (!component.feed) {
      // TODO we now need a placeholder for topsites and textPromo.
      return {
        ...component,
        data: {
          spocs: [],
        },
      };
    }
    const data = {
      recommendations: [],
      sections: [
        {
          layout: {
            responsiveLayouts: [],
          },
          data: [],
        },
      ],
    };

    let items = 0;
    if (component.properties && component.properties.items) {
      items = component.properties.items;
    }
    for (let i = 0; i < items; i++) {
      data.recommendations.push({ placeholder: true });
    }

    const sectionsEnabled = prefs["discoverystream.sections.enabled"];
    if (sectionsEnabled) {
      for (let i = 0; i < items; i++) {
        data.sections[0].data.push({ placeholder: true });
      }
    }

    return { ...component, data };
  };

  // TODO update devtools to show placements
  const handleSpocs = (data = [], spocsPositions, spocsPlacement) => {
    let result = [...data];
    // Do we ever expect to possibly have a spoc.
    if (spocsPositions?.length) {
      const placement = spocsPlacement || {};
      const placementName = placement.name || "newtab_spocs";
      const spocsData = spocs.data[placementName];

      // We expect a spoc, spocs are loaded, and the server returned spocs.
      if (spocs.loaded && spocsData?.items?.length) {
        // Since banner-type ads are placed by row and don't use the normal spoc position,
        // dont combine with content
        const excludedSpocs = ["billboard", "leaderboard"];
        const filteredSpocs = spocsData?.items?.filter(
          item => !excludedSpocs.includes(item.format)
        );
        result = fillSpocPositionsForPlacement(
          result,
          spocsPositions,
          filteredSpocs,
          placementName
        );
      }
    }
    return result;
  };

  const handleSections = (sections = [], recommendations = []) => {
    let result = sections.sort((a, b) => a.receivedRank - b.receivedRank);

    const sectionsMap = recommendations.reduce((acc, recommendation) => {
      const { section } = recommendation;
      acc[section] = acc[section] || [];
      acc[section].push(recommendation);
      return acc;
    }, {});

    result.forEach(section => {
      const { sectionKey } = section;
      section.data = sectionsMap[sectionKey];
    });

    return result;
  };

  const handleComponent = component => {
    if (component?.spocs?.positions?.length) {
      const placement = component.placement || {};
      const placementName = placement.name || "newtab_spocs";
      const spocsData = spocs.data[placementName];
      if (spocs.loaded && spocsData?.items?.length) {
        return {
          ...component,
          data: {
            spocs: spocsData.items
              .filter(spoc => spoc && !spocs.blocked.includes(spoc.url))
              .map((spoc, index) => ({
                ...spoc,
                pos: index,
              })),
          },
        };
      }
    }
    return {
      ...component,
      data: {
        spocs: [],
      },
    };
  };

  const handleComponentWithFeed = component => {
    positions[component.type] = positions[component.type] || 0;
    let data = {
      recommendations: [],
      sections: [],
    };

    const feed = feeds.data[component.feed.url];
    if (feed?.data) {
      data = {
        ...feed.data,
        recommendations: [...(feed.data.recommendations || [])],
        sections: [...(feed.data.sections || [])],
      };
    }

    if (component && component.properties && component.properties.offset) {
      data = {
        ...data,
        recommendations: data.recommendations.slice(
          component.properties.offset
        ),
      };
    }
    const spocsPositions = component?.spocs?.positions;
    const spocsPlacement = component?.placement;

    const sectionsEnabled = prefs["discoverystream.sections.enabled"];
    data = {
      ...data,
      ...(sectionsEnabled
        ? {
            sections: handleSections(data.sections, data.recommendations).map(
              section => {
                const sectionsSpocsPositions = [];
                section.layout.responsiveLayouts
                  // Initial position for spocs is going to be for the smallest breakpoint.
                  // We can then move it from there via breakpoints.
                  .find(item => item.columnCount === 1)
                  .tiles.forEach(tile => {
                    if (tile.hasAd) {
                      sectionsSpocsPositions.push({ index: tile.position });
                    }
                  });
                return {
                  ...section,
                  data: handleSpocs(
                    section.data,
                    sectionsSpocsPositions,
                    spocsPlacement
                  ),
                };
              }
            ),
            // We don't fill spocs in recs if sections are enabled,
            // because recs are not going to be seen.
            recommendations: data.recommendations,
          }
        : {
            recommendations: handleSpocs(
              data.recommendations,
              spocsPositions,
              spocsPlacement
            ),
          }),
    };

    let items = 0;
    if (component.properties && component.properties.items) {
      items = Math.min(component.properties.items, data.recommendations.length);
    }

    // loop through a component items
    // Store the items position sequentially for multiple components of the same type.
    // Example: A second card grid starts pos offset from the last card grid.
    for (let i = 0; i < items; i++) {
      data.recommendations[i] = {
        ...data.recommendations[i],
        pos: positions[component.type]++,
      };
    }

    // Setup absolute positions for sections layout.
    if (sectionsEnabled) {
      let currentPosition = 0;
      data.sections.forEach(section => {
        // We assume the count for the breakpoint with the most tiles.
        const { maxTile } = getMaxTiles(section?.layout?.responsiveLayouts);
        for (let i = 0; i < maxTile; i++) {
          if (section.data[i]) {
            section.data[i] = {
              ...section.data[i],
              pos: currentPosition++,
            };
          }
        }
      });
    }

    return { ...component, data };
  };

  const renderLayout = () => {
    const renderedLayoutArray = [];
    for (const row of layout.filter(
      r => r.components.filter(c => !filterArray.includes(c.type)).length
    )) {
      let components = [];
      renderedLayoutArray.push({
        ...row,
        components,
      });
      for (const component of row.components.filter(
        c => !filterArray.includes(c.type)
      )) {
        const spocsConfig = component.spocs;
        if (spocsConfig || component.feed) {
          if (
            (component.feed && !feeds.data[component.feed.url]) ||
            (spocsConfig &&
              spocsConfig.positions &&
              spocsConfig.positions.length &&
              !spocs.loaded)
          ) {
            components.push(placeholderComponent(component));
          } else if (component.feed) {
            components.push(handleComponentWithFeed(component));
          } else {
            components.push(handleComponent(component));
          }
        } else {
          components.push(component);
        }
      }
    }
    return renderedLayoutArray;
  };

  const layoutRender = renderLayout();

  return { layoutRender };
};

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/SectionContextMenu/SectionContextMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */




/**
 * A context menu for blocking, following and unfollowing sections.
 *
 * @param props
 * @returns {React.FunctionComponent}
 */
function SectionContextMenu({
  type = "DISCOVERY_STREAM",
  title,
  source,
  index,
  dispatch,
  sectionKey,
  following,
  sectionPersonalization,
  sectionPosition
}) {
  // Initial context menu options: block this section only.
  const SECTIONS_CONTEXT_MENU_OPTIONS = ["SectionBlock"];
  const [showContextMenu, setShowContextMenu] = (0,external_React_namespaceObject.useState)(false);
  if (following) {
    SECTIONS_CONTEXT_MENU_OPTIONS.push("SectionUnfollow");
  }
  const onClick = e => {
    e.preventDefault();
    setShowContextMenu(!showContextMenu);
  };
  const onUpdate = () => {
    setShowContextMenu(!showContextMenu);
  };
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-context-menu"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon",
    size: "default",
    iconsrc: "chrome://global/skin/icons/more.svg",
    title: title || source,
    onClick: onClick
  }), showContextMenu && /*#__PURE__*/external_React_default().createElement(LinkMenu, {
    onUpdate: onUpdate,
    dispatch: dispatch,
    index: index,
    source: type.toUpperCase(),
    options: SECTIONS_CONTEXT_MENU_OPTIONS,
    shouldSendImpressionStats: true,
    site: {
      sectionPersonalization,
      sectionKey,
      sectionPosition,
      title
    }
  }));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/InterestPicker/InterestPicker.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const PREF_VISIBLE_SECTIONS = "discoverystream.sections.interestPicker.visibleSections";

/**
 * Shows a list of recommended topics with visual indication whether
 * the user follows some of the topics (active, blue, selected topics)
 * or is yet to do so (neutrally-coloured topics with a "plus" button).
 *
 * @returns {React.Element}
 */
function InterestPicker({
  title,
  subtitle,
  interests,
  receivedFeedRank
}) {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const focusedRef = (0,external_React_namespaceObject.useRef)(null);
  const focusRef = (0,external_React_namespaceObject.useRef)(null);
  const [focusedIndex, setFocusedIndex] = (0,external_React_namespaceObject.useState)(0);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const visibleSections = prefs[PREF_VISIBLE_SECTIONS]?.split(",").map(item => item.trim()).filter(item => item);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.INLINE_SELECTION_IMPRESSION,
      data: {
        section_position: receivedFeedRank
      }
    }));
  }, [dispatch, receivedFeedRank]);
  const ref = useIntersectionObserver(handleIntersection);
  const onKeyDown = (0,external_React_namespaceObject.useCallback)(e => {
    if (e.key === "ArrowDown" || e.key === "ArrowUp") {
      // prevent the page from scrolling up/down while navigating.
      e.preventDefault();
    }
    if (focusedRef.current?.nextSibling?.querySelector("input") && e.key === "ArrowDown") {
      focusedRef.current.nextSibling.querySelector("input").tabIndex = 0;
      focusedRef.current.nextSibling.querySelector("input").focus();
    }
    if (focusedRef.current?.previousSibling?.querySelector("input") && e.key === "ArrowUp") {
      focusedRef.current.previousSibling.querySelector("input").tabIndex = 0;
      focusedRef.current.previousSibling.querySelector("input").focus();
    }
  }, []);
  function onWrapperFocus() {
    focusRef.current?.addEventListener("keydown", onKeyDown);
  }
  function onWrapperBlur() {
    focusRef.current?.removeEventListener("keydown", onKeyDown);
  }
  function onItemFocus(index) {
    setFocusedIndex(index);
  }

  // Updates user preferences as they follow or unfollow topics
  // by selecting them from the list
  function handleChange(e, index) {
    const {
      name: topic,
      checked
    } = e.target;
    let updatedSections = {
      ...sectionPersonalization
    };
    if (checked) {
      updatedSections[topic] = {
        isFollowed: true,
        isBlocked: false,
        followedAt: new Date().toISOString()
      };
      if (!visibleSections.includes(topic)) {
        // add section to visible sections and place after the inline picker
        // subtract 1 from the rank so that it is normalized with array index
        visibleSections.splice(receivedFeedRank - 1, 0, topic);
        dispatch(actionCreators.SetPref(PREF_VISIBLE_SECTIONS, visibleSections.join(", ")));
      }
    } else {
      delete updatedSections[topic];
    }
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.INLINE_SELECTION_CLICK,
      data: {
        topic,
        is_followed: checked,
        topic_position: index,
        section_position: receivedFeedRank
      }
    }));
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSections
    }));
  }
  return /*#__PURE__*/external_React_default().createElement("section", {
    className: "inline-selection-wrapper ds-section",
    ref: el => {
      ref.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-heading"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-title-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("h2", {
    className: "section-title"
  }, title), /*#__PURE__*/external_React_default().createElement("p", {
    className: "section-subtitle"
  }, subtitle))), /*#__PURE__*/external_React_default().createElement("ul", {
    className: "topic-list",
    onFocus: onWrapperFocus,
    onBlur: onWrapperBlur,
    ref: focusRef
  }, interests.map((interest, index) => {
    const checked = sectionPersonalization[interest.sectionId]?.isFollowed;
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: interest.sectionId,
      ref: index === focusedIndex ? focusedRef : null
    }, /*#__PURE__*/external_React_default().createElement("label", null, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      id: interest.sectionId,
      name: interest.sectionId,
      checked: checked,
      "aria-checked": checked,
      onChange: e => handleChange(e, index),
      key: `${interest.sectionId}-${checked}` // Force remount to sync DOM state with React state
      ,
      tabIndex: index === focusedIndex ? 0 : -1,
      onFocus: () => {
        onItemFocus(index);
      }
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-item-label"
    }, interest.title || ""), /*#__PURE__*/external_React_default().createElement("div", {
      className: `topic-item-icon icon ${checked ? "icon-check-filled" : "icon-add-circle-fill"}`
    })));
  })), /*#__PURE__*/external_React_default().createElement("p", {
    className: "learn-more-copy"
  }, /*#__PURE__*/external_React_default().createElement("a", {
    href: prefs["support.url"],
    "data-l10n-id": "newtab-topic-selection-privacy-link"
  })));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/PersonalizedCard/PersonalizedCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




const PersonalizedCard = ({
  dispatch,
  handleDismiss,
  handleClick,
  handleBlock,
  messageData
}) => {
  const wavingFox = "chrome://newtab/content/data/content/assets/waving-fox.svg";
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  const onToggleClick = (0,external_React_namespaceObject.useCallback)(elementId => {
    dispatch({
      type: actionTypes.SHOW_PERSONALIZE
    });
    dispatch(actionCreators.UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
    handleClick(elementId);
  }, [dispatch, handleClick]);
  return /*#__PURE__*/external_React_default().createElement("aside", {
    className: "personalized-card-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "personalized-card-dismiss"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    iconSrc: "chrome://global/skin/icons/close.svg",
    onClick: onDismiss,
    "data-l10n-id": "newtab-toast-dismiss-button"
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "personalized-card-inner"
  }, /*#__PURE__*/external_React_default().createElement("img", {
    src: wavingFox,
    alt: ""
  }), /*#__PURE__*/external_React_default().createElement("h2", null, messageData.content.cardTitle), /*#__PURE__*/external_React_default().createElement("p", null, messageData.content.cardMessage), /*#__PURE__*/external_React_default().createElement("div", {
    className: "personalized-card-cta-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "primary",
    class: "personalized-card-cta",
    onClick: () => onToggleClick("open-personalization-panel")
  }, messageData.content.ctaText), /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "personalized-card-link",
    dispatch: dispatch,
    url: messageData.content.linkUrl || "https://support.mozilla.org/",
    onLinkClick: () => {
      handleClick("link-click");
    }
  }, messageData.content.linkText))));
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/FollowSectionButtonHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



function FollowSectionButtonHighlight({
  arrowPosition,
  position,
  verticalPosition,
  dispatch,
  handleDismiss,
  handleBlock,
  feature
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "follow-section-button-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    arrowPosition: arrowPosition,
    verticalPosition: verticalPosition,
    feature: feature,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "follow-section-button-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: "chrome://browser/content/asrouter/assets/smiling-fox-icon.svg",
      width: "24",
      height: "24",
      alt: ""
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "follow-section-button-highlight-copy"
    }, /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": "newtab-section-follow-highlight-title"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": "newtab-section-follow-highlight-subtitle"
    }))),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/Weather/LocationSearch.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




function LocationSearch({
  outerClassName
}) {
  // should be the location object from suggestedLocations
  const [selectedLocation, setSelectedLocation] = (0,external_React_namespaceObject.useState)("");
  const suggestedLocations = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Weather.suggestedLocations);
  const locationSearchString = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Weather.locationSearchString);
  const [userInput, setUserInput] = (0,external_React_namespaceObject.useState)(locationSearchString || "");
  const inputRef = (0,external_React_namespaceObject.useRef)(null);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  (0,external_React_namespaceObject.useEffect)(() => {
    if (selectedLocation) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WEATHER_LOCATION_DATA_UPDATE,
        data: {
          city: selectedLocation.localized_name,
          adminName: selectedLocation.administrative_area,
          country: selectedLocation.country
        }
      }));
      dispatch(actionCreators.SetPref("weather.query", selectedLocation.key));
      dispatch(actionCreators.BroadcastToContent({
        type: actionTypes.WEATHER_SEARCH_ACTIVE,
        data: false
      }));
    }
  }, [selectedLocation, dispatch]);

  // when component mounts, set focus to input
  (0,external_React_namespaceObject.useEffect)(() => {
    inputRef?.current?.focus();
  }, [inputRef]);
  function handleChange(event) {
    const {
      value
    } = event.target;
    setUserInput(value);
    // if the user input contains less than three characters and suggestedLocations is not an empty array,
    // reset suggestedLocations to [] so there arent incorrect items in the datalist
    if (value.length < 3 && suggestedLocations.length) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WEATHER_LOCATION_SUGGESTIONS_UPDATE,
        data: []
      }));
    }
    // find match in suggestedLocation array
    const match = suggestedLocations?.find(({
      key
    }) => key === value);
    if (match) {
      setSelectedLocation(match);
      setUserInput(`${match.localized_name}, ${match.administrative_area.localized_name}`);
    } else if (value.length >= 3 && !match) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WEATHER_LOCATION_SEARCH_UPDATE,
        data: value
      }));
    }
  }
  function handleCloseSearch() {
    dispatch(actionCreators.BroadcastToContent({
      type: actionTypes.WEATHER_SEARCH_ACTIVE,
      data: false
    }));
    setUserInput("");
  }
  function handleKeyDown(e) {
    if (e.key === "Escape") {
      handleCloseSearch();
    }
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: `${outerClassName} location-search`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "location-input-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "search-icon"
  }), /*#__PURE__*/external_React_default().createElement("input", {
    ref: inputRef,
    list: "merino-location-list",
    type: "text",
    "data-l10n-id": "newtab-weather-change-location-search-input-placeholder",
    onChange: handleChange,
    value: userInput,
    onKeyDown: handleKeyDown
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    class: "close-icon",
    type: "icon ghost",
    size: "small",
    iconSrc: "chrome://global/skin/icons/close.svg",
    onClick: handleCloseSearch
  }), /*#__PURE__*/external_React_default().createElement("datalist", {
    id: "merino-location-list"
  }, (suggestedLocations || []).map(merinoLcation => /*#__PURE__*/external_React_default().createElement("option", {
    value: merinoLcation.key,
    key: merinoLcation.key
  }, merinoLcation.localized_name, ",", " ", merinoLcation.administrative_area.localized_name)))));
}

;// CONCATENATED MODULE: ./content-src/components/Weather/Weather.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







const Weather_VISIBLE = "visible";
const Weather_VISIBILITY_CHANGE_EVENT = "visibilitychange";
function WeatherPlaceholder() {
  const [isSeen, setIsSeen] = (0,external_React_namespaceObject.useState)(false);

  // We are setting up a visibility and intersection event
  // so animations don't happen with headless automation.
  // The animations causes tests to fail beause they never stop,
  // and many tests wait until everything has stopped before passing.
  const ref = useIntersectionObserver(() => setIsSeen(true), 1);
  const isSeenClassName = isSeen ? `placeholder-seen` : ``;
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: `weather weather-placeholder ${isSeenClassName}`,
    ref: el => {
      ref.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-image placeholder-fill"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-context"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-header placeholder-fill"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-description placeholder-fill"
  })));
}
class _Weather extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      contextMenuKeyboard: false,
      showContextMenu: false,
      url: "https://example.com",
      impressionSeen: false,
      errorSeen: false
    };
    this.setImpressionRef = element => {
      this.impressionElement = element;
    };
    this.setErrorRef = element => {
      this.errorElement = element;
    };
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onUpdate = this.onUpdate.bind(this);
    this.onProviderClick = this.onProviderClick.bind(this);
  }
  componentDidMount() {
    const {
      props
    } = this;
    if (!props.dispatch) {
      return;
    }
    if (props.document.visibilityState === Weather_VISIBLE) {
      // Setup the impression observer once the page is visible.
      this.setImpressionObservers();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === Weather_VISIBLE) {
          // Setup the impression observer once the page is visible.
          this.setImpressionObservers();
          props.document.removeEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  componentWillUnmount() {
    // Remove observers on unmount
    if (this.observer && this.impressionElement) {
      this.observer.unobserve(this.impressionElement);
    }
    if (this.observer && this.errorElement) {
      this.observer.unobserve(this.errorElement);
    }
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  setImpressionObservers() {
    if (this.impressionElement) {
      this.observer = new IntersectionObserver(this.onImpression.bind(this));
      this.observer.observe(this.impressionElement);
    }
    if (this.errorElement) {
      this.observer = new IntersectionObserver(this.onError.bind(this));
      this.observer.observe(this.errorElement);
    }
  }
  onImpression(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);
      if (entry) {
        if (this.impressionElement) {
          this.observer.unobserve(this.impressionElement);
        }
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WEATHER_IMPRESSION
        }));

        // Stop observing since element has been seen
        this.setState({
          impressionSeen: true
        });
      }
    }
  }
  onError(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);
      if (entry) {
        if (this.errorElement) {
          this.observer.unobserve(this.errorElement);
        }
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WEATHER_LOAD_ERROR
        }));

        // Stop observing since element has been seen
        this.setState({
          errorSeen: true
        });
      }
    }
  }
  openContextMenu(isKeyBoard) {
    if (this.props.onUpdate) {
      this.props.onUpdate(true);
    }
    this.setState({
      showContextMenu: true,
      contextMenuKeyboard: isKeyBoard
    });
  }
  onClick(event) {
    event.preventDefault();
    this.openContextMenu(false, event);
  }
  onKeyDown(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.openContextMenu(true, event);
    }
  }
  onUpdate(showContextMenu) {
    if (this.props.onUpdate) {
      this.props.onUpdate(showContextMenu);
    }
    this.setState({
      showContextMenu
    });
  }
  onProviderClick() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.WEATHER_OPEN_PROVIDER_URL,
      data: {
        source: "WEATHER"
      }
    }));
  }
  handleRejectOptIn = () => {
    this.props.dispatch(actionCreators.SetPref("weather.optInAccepted", false));
    this.props.dispatch(actionCreators.SetPref("weather.optInDisplayed", false));
  };
  handleAcceptOptIn = () => {
    this.props.dispatch(actionCreators.SetPref("weather.optInAccepted", true));
    this.props.dispatch(actionCreators.SetPref("weather.optInDisplayed", false));
  };
  render() {
    // Check if weather should be rendered
    const isWeatherEnabled = this.props.Prefs.values["system.showWeather"];
    if (!isWeatherEnabled) {
      return false;
    }
    if (this.props.App.isForStartupCache.Weather || !this.props.Weather.initialized) {
      return /*#__PURE__*/external_React_default().createElement(WeatherPlaceholder, null);
    }
    const {
      showContextMenu
    } = this.state;
    const {
      props
    } = this;
    const {
      dispatch,
      Prefs,
      Weather
    } = props;
    const WEATHER_SUGGESTION = Weather.suggestions?.[0];
    const outerClassName = ["weather", Weather.searchActive && "search", props.isInSection && "section-weather"].filter(v => v).join(" ");
    const showDetailedView = Prefs.values["weather.display"] === "detailed";
    const isOptInEnabled = Prefs.values["system.showWeatherOptIn"];
    const optInDisplayed = Prefs.values["weather.optInDisplayed"];
    const nimbusOptInDisplayed = Prefs.values.trainhopConfig?.weather?.optInDisplayed;
    const optInUserChoice = Prefs.values["weather.optInAccepted"];
    const nimbusOptInUserChoice = Prefs.values.trainhopConfig?.weather?.optInAccepted;
    const optInPrompt = nimbusOptInDisplayed ?? optInDisplayed ?? false;
    const userChoice = nimbusOptInUserChoice ?? optInUserChoice ?? false;
    const isUserWeatherEnabled = Prefs.values.showWeather;

    // Opt-in dialog should only show if:
    // - weather enabled on customization menu
    // - weather opt-in pref is enabled
    // - opt-in prompt is enabled
    // - user hasn't accepted the opt-in yet
    const shouldShowOptInDialog = isUserWeatherEnabled && isOptInEnabled && optInPrompt && !userChoice;

    // Note: The temperature units/display options will become secondary menu items
    const WEATHER_SOURCE_CONTEXT_MENU_OPTIONS = [...(Prefs.values["weather.locationSearchEnabled"] ? ["ChangeWeatherLocation"] : []), ...(Prefs.values["weather.temperatureUnits"] === "f" ? ["ChangeTempUnitCelsius"] : ["ChangeTempUnitFahrenheit"]), ...(Prefs.values["weather.display"] === "simple" ? ["ChangeWeatherDisplayDetailed"] : ["ChangeWeatherDisplaySimple"]), "HideWeather", "OpenLearnMoreURL"];
    const WEATHER_SOURCE_ERROR_CONTEXT_MENU_OPTIONS = [...(Prefs.values["weather.locationSearchEnabled"] ? ["ChangeWeatherLocation"] : []), "HideWeather", "OpenLearnMoreURL"];
    const contextMenu = contextOpts => /*#__PURE__*/external_React_default().createElement("div", {
      className: "weatherButtonContextMenuWrapper"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      "aria-haspopup": "true",
      onKeyDown: this.onKeyDown,
      onClick: this.onClick,
      "data-l10n-id": "newtab-menu-section-tooltip",
      className: "weatherButtonContextMenu"
    }, showContextMenu ? /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: 0,
      source: "WEATHER",
      onUpdate: this.onUpdate,
      options: contextOpts,
      site: {
        url: "https://support.mozilla.org/kb/customize-items-on-firefox-new-tab-page"
      },
      link: "https://support.mozilla.org/kb/customize-items-on-firefox-new-tab-page",
      shouldSendImpressionStats: false
    }) : null));
    if (Weather.searchActive) {
      return /*#__PURE__*/external_React_default().createElement(LocationSearch, {
        outerClassName: outerClassName
      });
    } else if (WEATHER_SUGGESTION) {
      return /*#__PURE__*/external_React_default().createElement("div", {
        ref: this.setImpressionRef,
        className: outerClassName
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherCard"
      }, /*#__PURE__*/external_React_default().createElement("a", {
        "data-l10n-id": "newtab-weather-see-forecast",
        "data-l10n-args": "{\"provider\": \"AccuWeather\xAE\"}",
        href: WEATHER_SUGGESTION.forecast.url,
        className: "weatherInfoLink",
        onClick: this.onProviderClick
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherIconCol"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        className: `weatherIcon iconId${WEATHER_SUGGESTION.current_conditions.icon_id}`
      })), /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherText"
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherForecastRow"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherTemperature"
      }, WEATHER_SUGGESTION.current_conditions.temperature[Prefs.values["weather.temperatureUnits"]], "\xB0", Prefs.values["weather.temperatureUnits"])), /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherCityRow"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherCity"
      }, Weather.locationData.city)), showDetailedView ? /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherDetailedSummaryRow"
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherHighLowTemps"
      }, /*#__PURE__*/external_React_default().createElement("span", null, WEATHER_SUGGESTION.forecast.high[Prefs.values["weather.temperatureUnits"]], "\xB0", Prefs.values["weather.temperatureUnits"]), /*#__PURE__*/external_React_default().createElement("span", null, "\u2022"), /*#__PURE__*/external_React_default().createElement("span", null, WEATHER_SUGGESTION.forecast.low[Prefs.values["weather.temperatureUnits"]], "\xB0", Prefs.values["weather.temperatureUnits"])), /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherTextSummary"
      }, WEATHER_SUGGESTION.current_conditions.summary)) : null)), contextMenu(WEATHER_SOURCE_CONTEXT_MENU_OPTIONS)), /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherSponsorText"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        "data-l10n-id": "newtab-weather-sponsored",
        "data-l10n-args": "{\"provider\": \"AccuWeather\xAE\"}"
      })), shouldShowOptInDialog && /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherOptIn"
      }, /*#__PURE__*/external_React_default().createElement("dialog", {
        open: true
      }, /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherOptInImg"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherOptInContent"
      }, /*#__PURE__*/external_React_default().createElement("h3", null, "Do you want to see the weather for your location?"), /*#__PURE__*/external_React_default().createElement("moz-button-group", {
        className: "button-group"
      }, /*#__PURE__*/external_React_default().createElement("moz-button", {
        size: "small",
        type: "default",
        label: "Not now",
        onClick: this.handleRejectOptIn
      }), /*#__PURE__*/external_React_default().createElement("moz-button", {
        size: "small",
        type: "default",
        label: "Yes",
        onClick: this.handleAcceptOptIn
      }))))));
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: this.setErrorRef,
      className: outerClassName
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "weatherNotAvailable"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-info-warning"
    }), " ", /*#__PURE__*/external_React_default().createElement("p", {
      "data-l10n-id": "newtab-weather-error-not-available"
    }), contextMenu(WEATHER_SOURCE_ERROR_CONTEXT_MENU_OPTIONS)));
  }
}
const Weather_Weather = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  Weather: state.Weather,
  Prefs: state.Prefs,
  IntersectionObserver: globalThis.IntersectionObserver,
  document: globalThis.document
}))(_Weather);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/CardSections/CardSections.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */
















// Prefs
const CardSections_PREF_SECTIONS_CARDS_ENABLED = "discoverystream.sections.cards.enabled";
const PREF_SECTIONS_CARDS_THUMBS_UP_DOWN_ENABLED = "discoverystream.sections.cards.thumbsUpDown.enabled";
const PREF_SECTIONS_PERSONALIZATION_ENABLED = "discoverystream.sections.personalization.enabled";
const CardSections_PREF_TOPICS_ENABLED = "discoverystream.topicLabels.enabled";
const CardSections_PREF_TOPICS_SELECTED = "discoverystream.topicSelection.selectedTopics";
const CardSections_PREF_TOPICS_AVAILABLE = "discoverystream.topicSelection.topics";
const CardSections_PREF_THUMBS_UP_DOWN_ENABLED = "discoverystream.thumbsUpDown.enabled";
const PREF_INTEREST_PICKER_ENABLED = "discoverystream.sections.interestPicker.enabled";
const CardSections_PREF_VISIBLE_SECTIONS = "discoverystream.sections.interestPicker.visibleSections";
const CardSections_PREF_BILLBOARD_ENABLED = "newtabAdSize.billboard";
const CardSections_PREF_BILLBOARD_POSITION = "newtabAdSize.billboard.position";
const CardSections_PREF_LEADERBOARD_ENABLED = "newtabAdSize.leaderboard";
const CardSections_PREF_LEADERBOARD_POSITION = "newtabAdSize.leaderboard.position";
const PREF_REFINED_CARDS_ENABLED = "discoverystream.refinedCardsLayout.enabled";
const PREF_INFERRED_PERSONALIZATION_USER = "discoverystream.sections.personalization.inferred.user.enabled";
const CardSections_PREF_TRENDING_SEARCH = "trendingSearch.enabled";
const CardSections_PREF_TRENDING_SEARCH_SYSTEM = "system.trendingSearch.enabled";
const CardSections_PREF_SEARCH_ENGINE = "trendingSearch.defaultSearchEngine";
const CardSections_PREF_TRENDING_SEARCH_VARIANT = "trendingSearch.variant";
const CardSections_PREF_DAILY_BRIEF_SECTIONID = "discoverystream.dailyBrief.sectionId";
const CardSections_PREF_SPOCS_STARTUPCACHE_ENABLED = "discoverystream.spocs.startupCache.enabled";
function getLayoutData(responsiveLayouts, index, refinedCardsLayout, sectionKey) {
  let layoutData = {
    classNames: [],
    imageSizes: {}
  };
  responsiveLayouts.forEach(layout => {
    layout.tiles.forEach((tile, tileIndex) => {
      if (tile.position === index) {
        // When trending searches should be placed in the `top_stories_section`,
        // we update the layout so that the first item is always a medium card to make
        // room for the trending search widget
        if (sectionKey === "top_stories_section" && tileIndex === 0) {
          layoutData.classNames.push(`col-${layout.columnCount}-medium`);
          layoutData.classNames.push(`col-${layout.columnCount}-position-${tileIndex}`);
          layoutData.imageSizes[layout.columnCount] = "medium";
          layoutData.classNames.push(`col-${layout.columnCount}-hide-excerpt`);
        } else {
          layoutData.classNames.push(`col-${layout.columnCount}-${tile.size}`);
          layoutData.classNames.push(`col-${layout.columnCount}-position-${tileIndex}`);
          layoutData.imageSizes[layout.columnCount] = tile.size;
        }

        // The API tells us whether the tile should show the excerpt or not.
        // Apply extra styles accordingly.
        if (tile.hasExcerpt) {
          if (tile.size === "medium" && refinedCardsLayout) {
            layoutData.classNames.push(`col-${layout.columnCount}-hide-excerpt`);
          } else {
            layoutData.classNames.push(`col-${layout.columnCount}-show-excerpt`);
          }
        } else {
          layoutData.classNames.push(`col-${layout.columnCount}-hide-excerpt`);
        }
      }
    });
  });
  return layoutData;
}

// function to determine amount of tiles shown per section per viewport
function getMaxTiles(responsiveLayouts) {
  return responsiveLayouts.flatMap(responsiveLayout => responsiveLayout).reduce((acc, t) => {
    acc[t.columnCount] = t.tiles.length;

    // Update maxTile if current tile count is greater
    if (!acc.maxTile || t.tiles.length > acc.maxTile) {
      acc.maxTile = t.tiles.length;
    }
    return acc;
  }, {});
}

/**
 * Transforms a comma-separated string in user preferences
 * into a cleaned-up array.
 *
 * @param {string} pref - The comma-separated pref to be converted.
 * @returns {string[]} An array of trimmed strings, excluding empty values.
 */

const prefToArray = (pref = "") => {
  return pref.split(",").map(item => item.trim()).filter(item => item);
};
function shouldShowOMCHighlight(messageData, componentId) {
  if (!messageData || Object.keys(messageData).length === 0) {
    return false;
  }
  return messageData?.content?.messageType === componentId;
}
function CardSection({
  sectionPosition,
  section,
  dispatch,
  type,
  firstVisibleTimestamp,
  ctaButtonVariant,
  ctaButtonSponsors,
  anySectionsFollowed,
  showWeather
}) {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const {
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const {
    isForStartupCache
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.App);
  const showTopics = prefs[CardSections_PREF_TOPICS_ENABLED];
  const mayHaveSectionsCards = prefs[CardSections_PREF_SECTIONS_CARDS_ENABLED];
  const mayHaveSectionsCardsThumbsUpDown = prefs[PREF_SECTIONS_CARDS_THUMBS_UP_DOWN_ENABLED];
  const mayHaveThumbsUpDown = prefs[CardSections_PREF_THUMBS_UP_DOWN_ENABLED];
  const selectedTopics = prefs[CardSections_PREF_TOPICS_SELECTED];
  const availableTopics = prefs[CardSections_PREF_TOPICS_AVAILABLE];
  const refinedCardsLayout = prefs[PREF_REFINED_CARDS_ENABLED];
  const spocsStartupCacheEnabled = prefs[CardSections_PREF_SPOCS_STARTUPCACHE_ENABLED];
  const trendingEnabled = prefs[CardSections_PREF_TRENDING_SEARCH] && prefs[CardSections_PREF_TRENDING_SEARCH_SYSTEM] && prefs[CardSections_PREF_SEARCH_ENGINE]?.toLowerCase() === "google";
  const trendingVariant = prefs[CardSections_PREF_TRENDING_SEARCH_VARIANT];
  const shouldShowTrendingSearch = trendingEnabled && trendingVariant === "b";
  const mayHaveSectionsPersonalization = prefs[PREF_SECTIONS_PERSONALIZATION_ENABLED];
  const {
    sectionKey,
    title,
    subtitle
  } = section;
  const {
    responsiveLayouts,
    name: layoutName
  } = section.layout;
  const following = sectionPersonalization[sectionKey]?.isFollowed;
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.CARD_SECTION_IMPRESSION,
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        is_section_followed: following,
        layout_name: layoutName
      }
    }));
  }, [dispatch, sectionKey, sectionPosition, following, layoutName]);

  // Ref to hold the section element
  const sectionRefs = useIntersectionObserver(handleIntersection);

  // Only show thumbs up/down buttons if both default thumbs and sections thumbs prefs are enabled
  const mayHaveCombinedThumbsUpDown = mayHaveSectionsCardsThumbsUpDown && mayHaveThumbsUpDown;
  const onFollowClick = (0,external_React_namespaceObject.useCallback)(() => {
    const updatedSectionData = {
      ...sectionPersonalization,
      [sectionKey]: {
        isFollowed: true,
        isBlocked: false,
        followedAt: new Date().toISOString()
      }
    };
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "FOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        event_source: "MOZ_BUTTON"
      }
    }));
  }, [dispatch, sectionPersonalization, sectionKey, sectionPosition]);
  const onUnfollowClick = (0,external_React_namespaceObject.useCallback)(() => {
    const updatedSectionData = {
      ...sectionPersonalization
    };
    delete updatedSectionData[sectionKey];
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));

    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "UNFOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        event_source: "MOZ_BUTTON"
      }
    }));
  }, [dispatch, sectionPersonalization, sectionKey, sectionPosition]);
  const {
    maxTile
  } = getMaxTiles(responsiveLayouts);
  const displaySections = section.data.slice(0, maxTile);
  const isSectionEmpty = !displaySections?.length;
  const shouldShowLabels = sectionKey === "top_stories_section" && showTopics;
  if (isSectionEmpty) {
    return null;
  }
  const sectionContextWrapper = /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-context-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: following ? "section-follow following" : "section-follow"
  }, !anySectionsFollowed && sectionPosition === 1 && shouldShowOMCHighlight(messageData, "FollowSectionButtonHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
    dispatch: dispatch
  }, /*#__PURE__*/external_React_default().createElement(FollowSectionButtonHighlight, {
    verticalPosition: "inset-block-center",
    position: "arrow-inline-start",
    dispatch: dispatch,
    feature: "FEATURE_FOLLOW_SECTION_BUTTON"
  })), !anySectionsFollowed && sectionPosition === 1 && shouldShowOMCHighlight(messageData, "FollowSectionButtonAltHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
    dispatch: dispatch
  }, /*#__PURE__*/external_React_default().createElement(FollowSectionButtonHighlight, {
    verticalPosition: "inset-block-center",
    position: "arrow-inline-start",
    dispatch: dispatch,
    feature: "FEATURE_ALT_FOLLOW_SECTION_BUTTON"
  })), /*#__PURE__*/external_React_default().createElement("moz-button", {
    onClick: following ? onUnfollowClick : onFollowClick,
    type: "default",
    index: sectionPosition,
    section: sectionKey
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: "section-button-follow-text",
    "data-l10n-id": "newtab-section-follow-button"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "section-button-following-text",
    "data-l10n-id": "newtab-section-following-button"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "section-button-unfollow-text",
    "data-l10n-id": "newtab-section-unfollow-button"
  }))), /*#__PURE__*/external_React_default().createElement(SectionContextMenu, {
    dispatch: dispatch,
    index: sectionPosition,
    following: following,
    sectionPersonalization: sectionPersonalization,
    sectionKey: sectionKey,
    title: title,
    type: type,
    sectionPosition: sectionPosition
  }));
  return /*#__PURE__*/external_React_default().createElement("section", {
    className: "ds-section",
    ref: el => {
      sectionRefs.current[0] = el;
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-heading"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-heading-inline-start"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-title-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("h2", {
    className: "section-title"
  }, title), subtitle && /*#__PURE__*/external_React_default().createElement("p", {
    className: "section-subtitle"
  }, subtitle)), showWeather && /*#__PURE__*/external_React_default().createElement(Weather_Weather, {
    isInSection: true
  })), mayHaveSectionsPersonalization ? sectionContextWrapper : null), /*#__PURE__*/external_React_default().createElement("div", {
    className: `ds-section-grid ds-card-grid`
  }, section.data.slice(0, maxTile).map((rec, index) => {
    const layoutData = getLayoutData(responsiveLayouts, index, refinedCardsLayout, shouldShowTrendingSearch && sectionKey);
    const {
      classNames,
      imageSizes
    } = layoutData;
    // Render a placeholder card when:
    // 1. No recommendation is available.
    // 2. The item is flagged as a placeholder.
    // 3. Spocs are loading for with spocs startup cache disabled.
    if (!rec || rec.placeholder || rec.flight_id && !spocsStartupCacheEnabled && isForStartupCache.DiscoveryStream) {
      return /*#__PURE__*/external_React_default().createElement(PlaceholderDSCard, {
        key: `dscard-${index}`
      });
    }
    const card = /*#__PURE__*/external_React_default().createElement(DSCard, {
      key: `dscard-${rec.id}`,
      pos: rec.pos,
      flightId: rec.flight_id,
      image_src: rec.image_src,
      raw_image_src: rec.raw_image_src,
      icon_src: rec.icon_src,
      word_count: rec.word_count,
      time_to_read: rec.time_to_read,
      title: rec.title,
      topic: rec.topic,
      features: rec.features,
      excerpt: rec.excerpt,
      url: rec.url,
      id: rec.id,
      shim: rec.shim,
      fetchTimestamp: rec.fetchTimestamp,
      type: type,
      context: rec.context,
      sponsor: rec.sponsor,
      sponsored_by_override: rec.sponsored_by_override,
      dispatch: dispatch,
      source: rec.domain,
      publisher: rec.publisher,
      pocket_id: rec.pocket_id,
      context_type: rec.context_type,
      bookmarkGuid: rec.bookmarkGuid,
      recommendation_id: rec.recommendation_id,
      firstVisibleTimestamp: firstVisibleTimestamp,
      corpus_item_id: rec.corpus_item_id,
      scheduled_corpus_item_id: rec.scheduled_corpus_item_id,
      recommended_at: rec.recommended_at,
      received_rank: rec.received_rank,
      format: rec.format,
      alt_text: rec.alt_text,
      mayHaveThumbsUpDown: mayHaveCombinedThumbsUpDown,
      mayHaveSectionsCards: mayHaveSectionsCards,
      showTopics: shouldShowLabels,
      selectedTopics: selectedTopics,
      availableTopics: availableTopics,
      ctaButtonSponsors: ctaButtonSponsors,
      ctaButtonVariant: ctaButtonVariant,
      sectionsClassNames: classNames.join(" "),
      sectionsCardImageSizes: imageSizes,
      section: sectionKey,
      sectionPosition: sectionPosition,
      sectionFollowed: following,
      sectionLayoutName: layoutName,
      isTimeSensitive: rec.isTimeSensitive
    });
    return index === 0 && shouldShowTrendingSearch && sectionKey === "top_stories_section" ? [card, /*#__PURE__*/external_React_default().createElement(TrendingSearches, {
      key: "trending"
    })] : [card];
  })));
}
function CardSections({
  data,
  feed,
  dispatch,
  type,
  firstVisibleTimestamp,
  ctaButtonVariant,
  ctaButtonSponsors
}) {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    spocs,
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const weatherPlacement = (0,external_ReactRedux_namespaceObject.useSelector)(selectWeatherPlacement);
  const dailyBriefSectionId = prefs.trainhopConfig?.dailyBriefing?.sectionId || prefs[CardSections_PREF_DAILY_BRIEF_SECTIONID];
  const weatherEnabled = prefs.showWeather;
  const personalizationEnabled = prefs[PREF_SECTIONS_PERSONALIZATION_ENABLED];
  const interestPickerEnabled = prefs[PREF_INTEREST_PICKER_ENABLED];

  // Handle a render before feed has been fetched by displaying nothing
  if (!data) {
    return null;
  }
  const visibleSections = prefToArray(prefs[CardSections_PREF_VISIBLE_SECTIONS]);
  const {
    interestPicker
  } = data;

  // Used to determine if we should show FollowSectionButtonHighlight
  const anySectionsFollowed = sectionPersonalization && Object.values(sectionPersonalization).some(section => section?.isFollowed);
  let filteredSections = data.sections.filter(section => !sectionPersonalization[section.sectionKey]?.isBlocked);
  if (interestPickerEnabled && visibleSections.length) {
    filteredSections = visibleSections.reduce((acc, visibleSection) => {
      const found = filteredSections.find(({
        sectionKey
      }) => sectionKey === visibleSection);
      if (found) {
        acc.push(found);
      }
      return acc;
    }, []);
  }
  let sectionsToRender = filteredSections.map((section, sectionPosition) => /*#__PURE__*/external_React_default().createElement(CardSection, {
    key: `section-${section.sectionKey}`,
    sectionPosition: sectionPosition,
    section: section,
    dispatch: dispatch,
    type: type,
    firstVisibleTimestamp: firstVisibleTimestamp,
    ctaButtonVariant: ctaButtonVariant,
    ctaButtonSponsors: ctaButtonSponsors,
    anySectionsFollowed: anySectionsFollowed,
    showWeather: weatherEnabled && weatherPlacement === "section" && sectionPosition === 0 && section.sectionKey === dailyBriefSectionId
  }));

  // Add a billboard/leaderboard IAB ad to the sectionsToRender array (if enabled/possible).
  const billboardEnabled = prefs[CardSections_PREF_BILLBOARD_ENABLED];
  const leaderboardEnabled = prefs[CardSections_PREF_LEADERBOARD_ENABLED];
  if ((billboardEnabled || leaderboardEnabled) && spocs?.data?.newtab_spocs?.items) {
    const spocToRender = spocs.data.newtab_spocs.items.find(({
      format
    }) => format === "leaderboard" && leaderboardEnabled) || spocs.data.newtab_spocs.items.find(({
      format
    }) => format === "billboard" && billboardEnabled);
    if (spocToRender && !spocs.blocked.includes(spocToRender.url)) {
      const row = spocToRender.format === "leaderboard" ? prefs[CardSections_PREF_LEADERBOARD_POSITION] : prefs[CardSections_PREF_BILLBOARD_POSITION];
      sectionsToRender.splice(
      // Math.min is used here to ensure the given row stays within the bounds of the sectionsToRender array.
      Math.min(sectionsToRender.length - 1, row), 0, /*#__PURE__*/external_React_default().createElement(AdBanner, {
        spoc: spocToRender,
        key: `dscard-${spocToRender.id}`,
        dispatch: dispatch,
        type: type,
        firstVisibleTimestamp: firstVisibleTimestamp,
        row: row,
        prefs: prefs
      }));
    }
  }

  // Add the interest picker to the sectionsToRender array (if enabled/possible).
  if (interestPickerEnabled && personalizationEnabled && interestPicker?.sections) {
    const index = interestPicker.receivedFeedRank - 1;
    sectionsToRender.splice(
    // Math.min is used here to ensure the given row stays within the bounds of the sectionsToRender array.
    Math.min(sectionsToRender.length - 1, index), 0, /*#__PURE__*/external_React_default().createElement(InterestPicker, {
      title: interestPicker.title,
      subtitle: interestPicker.subtitle,
      interests: interestPicker.sections || [],
      receivedFeedRank: interestPicker.receivedFeedRank
    }));
  }
  function displayP13nCard() {
    if (messageData && Object.keys(messageData).length >= 1) {
      if (shouldShowOMCHighlight(messageData, "PersonalizedCard") && prefs[PREF_INFERRED_PERSONALIZATION_USER]) {
        const row = messageData.content.position;
        sectionsToRender.splice(row, 0, /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
          dispatch: dispatch,
          onDismiss: () => {}
        }, /*#__PURE__*/external_React_default().createElement(PersonalizedCard, {
          position: row,
          dispatch: dispatch,
          messageData: messageData
        })));
      }
    }
  }
  displayP13nCard();
  const isEmpty = sectionsToRender.length === 0;
  return isEmpty ? /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-card-grid empty"
  }, /*#__PURE__*/external_React_default().createElement(DSEmptyState, {
    status: data.status,
    dispatch: dispatch,
    feed: feed
  })) : /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-section-wrapper"
  }, sectionsToRender);
}

;// CONCATENATED MODULE: ./content-src/components/Widgets/Lists/Lists.jsx
function Lists_extends() { return Lists_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Lists_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */





const TASK_TYPE = {
  IN_PROGRESS: "tasks",
  COMPLETED: "completed"
};
const USER_ACTION_TYPES = {
  LIST_COPY: "list_copy",
  LIST_CREATE: "list_create",
  LIST_EDIT: "list_edit",
  LIST_DELETE: "list_delete",
  TASK_CREATE: "task_create",
  TASK_EDIT: "task_edit",
  TASK_DELETE: "task_delete",
  TASK_COMPLETE: "task_complete"
};
const PREF_WIDGETS_LISTS_MAX_LISTS = "widgets.lists.maxLists";
const PREF_WIDGETS_LISTS_MAX_LISTITEMS = "widgets.lists.maxListItems";
const PREF_WIDGETS_LISTS_BADGE_ENABLED = "widgets.lists.badge.enabled";
const PREF_WIDGETS_LISTS_BADGE_LABEL = "widgets.lists.badge.label";
function Lists({
  dispatch,
  handleUserInteraction
}) {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    selected,
    lists
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.ListsWidget);
  const [newTask, setNewTask] = (0,external_React_namespaceObject.useState)("");
  const [isEditing, setIsEditing] = (0,external_React_namespaceObject.useState)(false);
  const [pendingNewList, setPendingNewList] = (0,external_React_namespaceObject.useState)(null);
  const selectedList = (0,external_React_namespaceObject.useMemo)(() => lists[selected], [lists, selected]);
  const prevCompletedCount = (0,external_React_namespaceObject.useRef)(selectedList?.completed?.length || 0);
  const inputRef = (0,external_React_namespaceObject.useRef)(null);
  const selectRef = (0,external_React_namespaceObject.useRef)(null);
  const reorderListRef = (0,external_React_namespaceObject.useRef)(null);
  const [canvasRef, fireConfetti] = useConfetti();
  const handleListInteraction = (0,external_React_namespaceObject.useCallback)(() => handleUserInteraction("lists"), [handleUserInteraction]);

  // store selectedList with useMemo so it isnt re-calculated on every re-render
  const isValidUrl = (0,external_React_namespaceObject.useCallback)(str => URL.canParse(str), []);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.WIDGETS_LISTS_USER_IMPRESSION
    }));
  }, [dispatch]);
  const listsRef = useIntersectionObserver(handleIntersection);
  const reorderLists = (0,external_React_namespaceObject.useCallback)((draggedElement, targetElement, before = false) => {
    const draggedIndex = selectedList.tasks.findIndex(({
      id
    }) => id === draggedElement.id);
    const targetIndex = selectedList.tasks.findIndex(({
      id
    }) => id === targetElement.id);

    // return early is index is not found
    if (draggedIndex === -1 || targetIndex === -1 || draggedIndex === targetIndex) {
      return;
    }
    const reordered = [...selectedList.tasks];
    const [removed] = reordered.splice(draggedIndex, 1);
    const insertIndex = before ? targetIndex : targetIndex + 1;
    reordered.splice(insertIndex > draggedIndex ? insertIndex - 1 : insertIndex, 0, removed);
    const updatedLists = {
      ...lists,
      [selected]: {
        ...selectedList,
        tasks: reordered
      }
    };
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.WIDGETS_LISTS_UPDATE,
      data: {
        lists: updatedLists
      }
    }));
    handleListInteraction();
  }, [lists, selected, selectedList, dispatch, handleListInteraction]);
  const moveTask = (0,external_React_namespaceObject.useCallback)((task, direction) => {
    const index = selectedList.tasks.findIndex(({
      id
    }) => id === task.id);

    // guardrail a falsey index
    if (index === -1) {
      return;
    }
    const targetIndex = direction === "up" ? index - 1 : index + 1;
    const before = direction === "up";
    const targetTask = selectedList.tasks[targetIndex];
    if (targetTask) {
      reorderLists(task, targetTask, before);
    }
  }, [selectedList, reorderLists]);
  (0,external_React_namespaceObject.useEffect)(() => {
    const selectNode = selectRef.current;
    const reorderNode = reorderListRef.current;
    if (!selectNode || !reorderNode) {
      return undefined;
    }
    function handleSelectChange(e) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_CHANGE_SELECTED,
        data: e.target.value
      }));
      handleListInteraction();
    }
    function handleReorder(e) {
      const {
        draggedElement,
        targetElement,
        position
      } = e.detail;
      reorderLists(draggedElement, targetElement, position === -1);
    }
    reorderNode.addEventListener("reorder", handleReorder);
    selectNode.addEventListener("change", handleSelectChange);
    return () => {
      selectNode.removeEventListener("change", handleSelectChange);
      reorderNode.removeEventListener("reorder", handleReorder);
    };
  }, [dispatch, isEditing, reorderLists, handleListInteraction]);

  // effect that enables editing new list name only after store has been hydrated
  (0,external_React_namespaceObject.useEffect)(() => {
    if (selected === pendingNewList) {
      setIsEditing(true);
      setPendingNewList(null);
    }
  }, [selected, pendingNewList]);
  function saveTask() {
    const trimmedTask = newTask.trimEnd();
    // only add new task if it has a length, to avoid creating empty tasks
    if (trimmedTask) {
      const formattedTask = {
        value: trimmedTask,
        completed: false,
        created: Date.now(),
        id: crypto.randomUUID(),
        isUrl: isValidUrl(trimmedTask)
      };
      const updatedLists = {
        ...lists,
        [selected]: {
          ...selectedList,
          tasks: [formattedTask, ...lists[selected].tasks]
        }
      };
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_UPDATE,
          data: {
            lists: updatedLists
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction: USER_ACTION_TYPES.TASK_CREATE
          }
        }));
      });
      setNewTask("");
      handleListInteraction();
    }
  }
  function updateTask(updatedTask, type) {
    const isCompletedType = type === TASK_TYPE.COMPLETED;
    const isNowCompleted = updatedTask.completed;
    let newTasks = selectedList.tasks;
    let newCompleted = selectedList.completed;
    let userAction;

    // If the task is in the completed array and is now unchecked
    const shouldMoveToTasks = isCompletedType && !isNowCompleted;

    // If we're moving the task from tasks  completed (user checked it)
    const shouldMoveToCompleted = !isCompletedType && isNowCompleted;

    //  Move task from completed -> task
    if (shouldMoveToTasks) {
      newCompleted = selectedList.completed.filter(task => task.id !== updatedTask.id);
      newTasks = [...selectedList.tasks, updatedTask];
      // Move task to completed, but also create local version
    } else if (shouldMoveToCompleted) {
      newTasks = selectedList.tasks.filter(task => task.id !== updatedTask.id);
      newCompleted = [...selectedList.completed, updatedTask];
      userAction = USER_ACTION_TYPES.TASK_COMPLETE;
    } else {
      const targetKey = isCompletedType ? "completed" : "tasks";
      const updatedArray = selectedList[targetKey].map(task => task.id === updatedTask.id ? updatedTask : task);
      // In-place update: toggle checkbox (but stay in same array or edit name)
      if (targetKey === "tasks") {
        newTasks = updatedArray;
      } else {
        newCompleted = updatedArray;
      }
      userAction = USER_ACTION_TYPES.TASK_EDIT;
    }
    const updatedLists = {
      ...lists,
      [selected]: {
        ...selectedList,
        tasks: newTasks,
        completed: newCompleted
      }
    };
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_UPDATE,
        data: {
          lists: updatedLists
        }
      }));
      if (userAction) {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction
          }
        }));
      }
    });
    handleListInteraction();
  }
  function deleteTask(task, type) {
    const selectedTasks = lists[selected][type];
    const updatedTasks = selectedTasks.filter(({
      id
    }) => id !== task.id);
    const updatedLists = {
      ...lists,
      [selected]: {
        ...selectedList,
        [type]: updatedTasks
      }
    };
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_UPDATE,
        data: {
          lists: updatedLists
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_LISTS_USER_EVENT,
        data: {
          userAction: USER_ACTION_TYPES.TASK_DELETE
        }
      }));
    });
    handleListInteraction();
  }
  function handleKeyDown(e) {
    if (e.key === "Enter" && document.activeElement === inputRef.current) {
      saveTask();
    } else if (e.key === "Escape" && document.activeElement === inputRef.current) {
      // Clear out the input when esc is pressed
      setNewTask("");
    }
  }
  function handleListNameSave(newLabel) {
    const trimmedLabel = newLabel.trimEnd();
    if (trimmedLabel && trimmedLabel !== selectedList?.label) {
      const updatedLists = {
        ...lists,
        [selected]: {
          ...selectedList,
          label: trimmedLabel
        }
      };
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_UPDATE,
          data: {
            lists: updatedLists
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction: USER_ACTION_TYPES.LIST_EDIT
          }
        }));
      });
      setIsEditing(false);
      handleListInteraction();
    }
  }
  function handleCreateNewList() {
    const id = crypto.randomUUID();
    const newLists = {
      ...lists,
      [id]: {
        label: "",
        tasks: [],
        completed: []
      }
    };
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_UPDATE,
        data: {
          lists: newLists
        }
      }));
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_CHANGE_SELECTED,
        data: id
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_LISTS_USER_EVENT,
        data: {
          userAction: USER_ACTION_TYPES.LIST_CREATE
        }
      }));
    });
    setPendingNewList(id);
    handleListInteraction();
  }
  function handleCancelNewList() {
    // If current list is new and has no label/tasks, remove it
    if (!selectedList?.label && selectedList?.tasks?.length === 0) {
      const updatedLists = {
        ...lists
      };
      delete updatedLists[selected];
    }
  }
  function handleDeleteList() {
    let updatedLists = {
      ...lists
    };
    if (updatedLists[selected]) {
      delete updatedLists[selected];

      // if this list was the last one created, add a new list as default
      if (Object.keys(updatedLists)?.length === 0) {
        updatedLists = {
          [crypto.randomUUID()]: {
            label: "",
            tasks: [],
            completed: []
          }
        };
      }
      const listKeys = Object.keys(updatedLists);
      const key = listKeys[listKeys.length - 1];
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_UPDATE,
          data: {
            lists: updatedLists
          }
        }));
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_CHANGE_SELECTED,
          data: key
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction: USER_ACTION_TYPES.LIST_DELETE
          }
        }));
      });
    }
    handleListInteraction();
  }
  function handleHideLists() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "widgets.lists.enabled",
        value: false
      }
    }));
    handleListInteraction();
  }
  function handleCopyListToClipboard() {
    const currentList = lists[selected];
    if (!currentList) {
      return;
    }
    const {
      label,
      tasks = [],
      completed = []
    } = currentList;
    const uncompleted = tasks.filter(task => !task.completed);
    const currentCompleted = tasks.filter(task => task.completed);

    // In order in include all items, we need to iterate through both current and completed tasks list and mark format all completed tasks accordingly.
    const formatted = [`List: ${label}`, `---`, ...uncompleted.map(task => `- [ ] ${task.value}`), ...currentCompleted.map(task => `- [x] ${task.value}`), ...completed.map(task => `- [x] ${task.value}`)].join("\n");
    try {
      navigator.clipboard.writeText(formatted);
    } catch (err) {
      console.error("Copy failed", err);
    }
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.WIDGETS_LISTS_USER_EVENT,
      data: {
        userAction: USER_ACTION_TYPES.LIST_COPY
      }
    }));
    handleListInteraction();
  }
  function handleLearnMore() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: {
        url: "https://support.mozilla.org/kb/firefox-new-tab-widgets"
      }
    }));
    handleListInteraction();
  }

  // Reset baseline only when switching lists
  (0,external_React_namespaceObject.useEffect)(() => {
    prevCompletedCount.current = selectedList?.completed?.length || 0;
    // intentionally leaving out selectedList from dependency array
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [selected]);
  (0,external_React_namespaceObject.useEffect)(() => {
    if (selectedList) {
      const doneCount = selectedList.completed?.length || 0;
      const previous = Math.floor(prevCompletedCount.current / 5);
      const current = Math.floor(doneCount / 5);
      if (current > previous) {
        fireConfetti();
      }
      prevCompletedCount.current = doneCount;
    }
  }, [selectedList, fireConfetti, selected]);
  if (!lists) {
    return null;
  }

  // Enforce maximum count limits to lists
  const currentListsCount = Object.keys(lists).length;
  // Ensure a minimum of 1, but allow higher values from prefs
  const maxListsCount = Math.max(1, prefs[PREF_WIDGETS_LISTS_MAX_LISTS]);
  const isAtMaxListsLimit = currentListsCount >= maxListsCount;

  // Enforce maximum count limits to list items
  // The maximum applies to the total number of items (both incomplete and completed items)
  const currentSelectedListItemsCount = selectedList?.tasks.length + selectedList?.completed.length;

  // Ensure a minimum of 1, but allow higher values from prefs
  const maxListItemsCount = Math.max(1, prefs[PREF_WIDGETS_LISTS_MAX_LISTITEMS]);
  const isAtMaxListItemsLimit = currentSelectedListItemsCount >= maxListItemsCount;

  // Figure out if the selected list is the first (default) or a new one.
  // Index 0  use "Task list"; any later index  use "New list".
  // Fallback to 0 if the selected id isnt found.
  const listKeys = Object.keys(lists);
  const selectedIndex = Math.max(0, listKeys.indexOf(selected));
  const listNamePlaceholder = currentListsCount > 1 && selectedIndex !== 0 ? "newtab-widget-lists-name-placeholder-new" : "newtab-widget-lists-name-placeholder-default";
  const nimbusBadgeEnabled = prefs.widgetsConfig?.listsBadgeEnabled;
  const nimbusBadgeLabel = prefs.widgetsConfig?.listsBadgeLabel;
  const nimbusBadgeTrainhopEnabled = prefs.trainhopConfig?.widgets?.listsBadgeEnabled;
  const nimbusBadgeTrainhopLabel = prefs.trainhopConfig?.widgets?.listsBadgeLabel;
  const badgeEnabled = (nimbusBadgeEnabled || nimbusBadgeTrainhopEnabled) ?? prefs[PREF_WIDGETS_LISTS_BADGE_ENABLED] ?? false;
  const badgeLabel = (nimbusBadgeLabel || nimbusBadgeTrainhopLabel) ?? prefs[PREF_WIDGETS_LISTS_BADGE_LABEL] ?? "";
  return /*#__PURE__*/external_React_default().createElement("article", {
    className: "lists",
    ref: el => {
      listsRef.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "select-wrapper"
  }, /*#__PURE__*/external_React_default().createElement(EditableText, {
    value: lists[selected]?.label || "",
    onSave: handleListNameSave,
    isEditing: isEditing,
    setIsEditing: setIsEditing,
    onCancel: handleCancelNewList,
    type: "list",
    maxLength: 30,
    dataL10nId: listNamePlaceholder
  }, /*#__PURE__*/external_React_default().createElement("moz-select", {
    ref: selectRef,
    value: selected
  }, Object.entries(lists).map(([key, list]) => /*#__PURE__*/external_React_default().createElement("moz-option", Lists_extends({
    key: key,
    value: key
    // On the first/initial list, use default name
  }, list.label ? {
    label: list.label
  } : {
    "data-l10n-id": "newtab-widget-lists-name-label-default"
  }))))), !isEditing && badgeEnabled && badgeLabel && /*#__PURE__*/external_React_default().createElement("moz-badge", {
    "data-l10n-id": (() => {
      if (badgeLabel === "New") {
        return "newtab-widget-lists-label-new";
      }
      if (badgeLabel === "Beta") {
        return "newtab-widget-lists-label-beta";
      }
      return "";
    })()
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    className: "lists-panel-button",
    iconSrc: "chrome://global/skin/icons/more.svg",
    menuId: "lists-panel",
    type: "ghost"
  }), /*#__PURE__*/external_React_default().createElement("panel-list", {
    id: "lists-panel"
  }, /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-edit",
    onClick: () => setIsEditing(true)
  }), /*#__PURE__*/external_React_default().createElement("panel-item", Lists_extends({}, isAtMaxListsLimit ? {
    disabled: true
  } : {}, {
    "data-l10n-id": "newtab-widget-lists-menu-create",
    onClick: () => handleCreateNewList(),
    className: "create-list"
  })), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-delete",
    onClick: () => handleDeleteList()
  }), /*#__PURE__*/external_React_default().createElement("hr", null), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-copy",
    onClick: () => handleCopyListToClipboard()
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-hide",
    onClick: () => handleHideLists()
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    className: "learn-more",
    "data-l10n-id": "newtab-widget-lists-menu-learn-more",
    onClick: handleLearnMore
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "add-task-container"
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: `icon icon-add ${isAtMaxListItemsLimit ? "icon-disabled" : ""}`
  }), /*#__PURE__*/external_React_default().createElement("input", {
    ref: inputRef,
    onBlur: () => saveTask(),
    onChange: e => setNewTask(e.target.value),
    value: newTask,
    "data-l10n-id": "newtab-widget-lists-input-add-an-item",
    className: "add-task-input",
    onKeyDown: handleKeyDown,
    type: "text",
    maxLength: 100,
    disabled: isAtMaxListItemsLimit
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "task-list-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("moz-reorderable-list", {
    ref: reorderListRef,
    itemSelector: "fieldset .task-type-tasks",
    dragSelector: ".checkbox-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("fieldset", null, selectedList?.tasks.length >= 1 && selectedList.tasks.map((task, index) => /*#__PURE__*/external_React_default().createElement(ListItem, {
    type: TASK_TYPE.IN_PROGRESS,
    task: task,
    key: task.id,
    updateTask: updateTask,
    deleteTask: deleteTask,
    moveTask: moveTask,
    isValidUrl: isValidUrl,
    isFirst: index === 0,
    isLast: index === selectedList.tasks.length - 1
  })), selectedList?.completed.length >= 1 && /*#__PURE__*/external_React_default().createElement("details", {
    className: "completed-task-wrapper",
    open: selectedList?.tasks.length < 1
  }, /*#__PURE__*/external_React_default().createElement("summary", null, /*#__PURE__*/external_React_default().createElement("span", {
    "data-l10n-id": "newtab-widget-lists-completed-list",
    "data-l10n-args": JSON.stringify({
      number: lists[selected]?.completed.length
    }),
    className: "completed-title"
  })), selectedList?.completed.map(completedTask => /*#__PURE__*/external_React_default().createElement(ListItem, {
    key: completedTask.id,
    type: TASK_TYPE.COMPLETED,
    task: completedTask,
    deleteTask: deleteTask,
    updateTask: updateTask
  }))))), selectedList?.tasks.length < 1 && selectedList?.completed.length < 1 && /*#__PURE__*/external_React_default().createElement("div", {
    className: "empty-list"
  }, /*#__PURE__*/external_React_default().createElement("picture", null, /*#__PURE__*/external_React_default().createElement("source", {
    srcSet: "chrome://newtab/content/data/content/assets/lists-empty-state-dark.svg",
    media: "(prefers-color-scheme: dark)"
  }), /*#__PURE__*/external_React_default().createElement("source", {
    srcSet: "chrome://newtab/content/data/content/assets/lists-empty-state-light.svg",
    media: "(prefers-color-scheme: light)"
  }), /*#__PURE__*/external_React_default().createElement("img", {
    width: "100",
    height: "100",
    alt: ""
  })), /*#__PURE__*/external_React_default().createElement("p", {
    className: "empty-list-text",
    "data-l10n-id": "newtab-widget-lists-empty-cta"
  }))), /*#__PURE__*/external_React_default().createElement("canvas", {
    className: "confetti-canvas",
    ref: canvasRef
  }));
}
function ListItem({
  task,
  updateTask,
  deleteTask,
  moveTask,
  isValidUrl,
  type,
  isFirst = false,
  isLast = false
}) {
  const [isEditing, setIsEditing] = (0,external_React_namespaceObject.useState)(false);
  const [exiting, setExiting] = (0,external_React_namespaceObject.useState)(false);
  const isCompleted = type === TASK_TYPE.COMPLETED;
  const prefersReducedMotion = typeof window !== "undefined" && typeof window.matchMedia === "function" && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  function handleCheckboxChange(e) {
    const {
      checked
    } = e.target;
    const updatedTask = {
      ...task,
      completed: checked
    };
    if (checked && !prefersReducedMotion) {
      setExiting(true);
    } else {
      updateTask(updatedTask, type);
    }
  }

  // When the CSS transition finishes, dispatch the real completed = true
  function handleTransitionEnd(e) {
    // only fire once for the exit:
    if (e.propertyName === "opacity" && exiting) {
      updateTask({
        ...task,
        completed: true
      }, type);
      setExiting(false);
    }
  }
  function handleSave(newValue) {
    const trimmedTask = newValue.trimEnd();
    if (trimmedTask && trimmedTask !== task.value) {
      updateTask({
        ...task,
        value: newValue,
        isUrl: isValidUrl(trimmedTask)
      }, type);
      setIsEditing(false);
    }
  }
  function handleDelete() {
    deleteTask(task, type);
  }
  const taskLabel = task.isUrl ? /*#__PURE__*/external_React_default().createElement("a", {
    href: task.value,
    rel: "noopener noreferrer",
    target: "_blank",
    className: "task-label",
    title: task.value
  }, task.value) : /*#__PURE__*/external_React_default().createElement("label", {
    className: "task-label",
    title: task.value,
    htmlFor: `task-${task.id}`,
    onClick: () => setIsEditing(true)
  }, task.value);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: `task-item task-type-${type} ${exiting ? " exiting" : ""}`,
    id: task.id,
    key: task.id,
    onTransitionEnd: handleTransitionEnd
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "checkbox-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("input", {
    type: "checkbox",
    onChange: handleCheckboxChange,
    checked: task.completed || exiting,
    id: `task-${task.id}`
  }), isCompleted ? taskLabel : /*#__PURE__*/external_React_default().createElement(EditableText, {
    isEditing: isEditing,
    setIsEditing: setIsEditing,
    value: task.value,
    onSave: handleSave,
    type: "task"
  }, taskLabel)), /*#__PURE__*/external_React_default().createElement("moz-button", {
    iconSrc: "chrome://global/skin/icons/more.svg",
    menuId: `panel-task-${task.id}`,
    type: "ghost"
  }), /*#__PURE__*/external_React_default().createElement("panel-list", {
    id: `panel-task-${task.id}`
  }, !isCompleted && /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, task.isUrl && /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-input-menu-open-link",
    onClick: () => window.open(task.value, "_blank", "noopener")
  }), /*#__PURE__*/external_React_default().createElement("panel-item", Lists_extends({}, isFirst ? {
    disabled: true
  } : {}, {
    onClick: () => moveTask(task, "up"),
    "data-l10n-id": "newtab-widget-lists-input-menu-move-up"
  })), /*#__PURE__*/external_React_default().createElement("panel-item", Lists_extends({}, isLast ? {
    disabled: true
  } : {}, {
    onClick: () => moveTask(task, "down"),
    "data-l10n-id": "newtab-widget-lists-input-menu-move-down"
  })), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-input-menu-edit",
    className: "edit-item",
    onClick: () => setIsEditing(true)
  })), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-input-menu-delete",
    className: "delete-item",
    onClick: handleDelete
  })));
}
function EditableText({
  value,
  isEditing,
  setIsEditing,
  onSave,
  onCancel,
  children,
  type,
  dataL10nId = null,
  maxLength = 100
}) {
  const [tempValue, setTempValue] = (0,external_React_namespaceObject.useState)(value);
  const inputRef = (0,external_React_namespaceObject.useRef)(null);

  // True if tempValue is empty, null/undefined, or only whitespace
  const showPlaceholder = (tempValue ?? "").trim() === "";
  (0,external_React_namespaceObject.useEffect)(() => {
    if (isEditing) {
      inputRef.current?.focus();
    } else {
      setTempValue(value);
    }
  }, [isEditing, value]);
  function handleKeyDown(e) {
    if (e.key === "Enter") {
      onSave(tempValue.trim());
      setIsEditing(false);
    } else if (e.key === "Escape") {
      setIsEditing(false);
      setTempValue(value);
      onCancel?.();
    }
  }
  function handleOnBlur() {
    onSave(tempValue.trim());
    setIsEditing(false);
  }
  return isEditing ? /*#__PURE__*/external_React_default().createElement("input", Lists_extends({
    className: `edit-${type}`,
    ref: inputRef,
    type: "text",
    value: tempValue,
    maxLength: maxLength,
    onChange: event => setTempValue(event.target.value),
    onBlur: handleOnBlur,
    onKeyDown: handleKeyDown
    // Note that if a user has a custom name set, it will override the placeholder
  }, showPlaceholder && dataL10nId ? {
    "data-l10n-id": dataL10nId
  } : {})) : [children];
}

;// CONCATENATED MODULE: ./content-src/components/Widgets/FocusTimer/FocusTimer.jsx
function FocusTimer_extends() { return FocusTimer_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, FocusTimer_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */





const FocusTimer_USER_ACTION_TYPES = {
  TIMER_SET: "timer_set",
  TIMER_PLAY: "timer_play",
  TIMER_PAUSE: "timer_pause",
  TIMER_RESET: "timer_reset",
  TIMER_END: "timer_end",
  TIMER_TOGGLE_FOCUS: "timer_toggle_focus",
  TIMER_TOGGLE_BREAK: "timer_toggle_break"
};

/**
 * Calculates the remaining time (in seconds) by subtracting elapsed time from the original duration
 *
 * @param duration
 * @param start
 * @returns int
 */
const calculateTimeRemaining = (duration, start) => {
  const currentTime = Math.floor(Date.now() / 1000);

  // Subtract the elapsed time from initial duration to get time remaining in the timer
  return Math.max(duration - (currentTime - start), 0);
};

/**
 * Converts a number of seconds into a zero-padded MM:SS time string
 *
 * @param seconds
 * @returns string
 */
const formatTime = seconds => {
  const minutes = Math.floor(seconds / 60).toString().padStart(2, "0");
  const secs = (seconds % 60).toString().padStart(2, "0");
  return `${minutes}:${secs}`;
};

/**
 * Converts a polar coordinate (angle on circle) into a percentage-based [x,y] position for clip-path
 *
 * @param cx
 * @param cy
 * @param radius
 * @param angle
 * @returns string
 */
const polarToPercent = (cx, cy, radius, angle) => {
  const rad = (angle - 90) * Math.PI / 180;
  const x = cx + radius * Math.cos(rad);
  const y = cy + radius * Math.sin(rad);
  return `${x}% ${y}%`;
};

/**
 * Generates a clip-path polygon string that represents a pie slice from 0 degrees
 * to the current progress angle
 *
 * @returns string
 * @param progress
 */
const getClipPath = progress => {
  const cx = 50;
  const cy = 50;
  const radius = 50;
  // Show some progress right at the start - 6 degrees is just enough to paint a dot once the timer is ticking
  const angle = progress > 0 ? Math.max(progress * 360, 6) : 0;
  const points = [`50% 50%`];
  for (let a = 0; a <= angle; a += 2) {
    points.push(polarToPercent(cx, cy, radius, a));
  }
  return `polygon(${points.join(", ")})`;
};
const FocusTimer = ({
  dispatch,
  handleUserInteraction
}) => {
  const [timeLeft, setTimeLeft] = (0,external_React_namespaceObject.useState)(0);
  // calculated value for the progress circle; 1 = 100%
  const [progress, setProgress] = (0,external_React_namespaceObject.useState)(0);
  const activeMinutesRef = (0,external_React_namespaceObject.useRef)(null);
  const activeSecondsRef = (0,external_React_namespaceObject.useRef)(null);
  const arcRef = (0,external_React_namespaceObject.useRef)(null);
  const timerType = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.TimerWidget.timerType);
  const timerData = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.TimerWidget);
  const {
    duration,
    initialDuration,
    startTime,
    isRunning
  } = timerData[timerType];
  const initialTimerDuration = timerData[timerType].initialDuration;
  const handleTimerInteraction = (0,external_React_namespaceObject.useCallback)(() => handleUserInteraction("focusTimer"), [handleUserInteraction]);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.WIDGETS_TIMER_USER_IMPRESSION
    }));
  }, [dispatch]);
  const timerRef = useIntersectionObserver(handleIntersection);
  const resetProgressCircle = (0,external_React_namespaceObject.useCallback)(() => {
    if (arcRef?.current) {
      arcRef.current.style.clipPath = "polygon(50% 50%)";
      arcRef.current.style.webkitClipPath = "polygon(50% 50%)";
    }
    setProgress(0);
    handleTimerInteraction();
  }, [arcRef, handleTimerInteraction]);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const showSystemNotifications = prefs["widgets.focusTimer.showSystemNotifications"];
  (0,external_React_namespaceObject.useEffect)(() => {
    // resets default values after timer ends
    let interval;
    if (isRunning && duration > 0) {
      interval = setInterval(() => {
        const remaining = calculateTimeRemaining(duration, startTime);
        if (remaining <= 0) {
          clearInterval(interval);
          (0,external_ReactRedux_namespaceObject.batch)(() => {
            dispatch(actionCreators.AlsoToMain({
              type: actionTypes.WIDGETS_TIMER_END,
              data: {
                timerType,
                duration: initialTimerDuration,
                initialDuration: initialTimerDuration
              }
            }));
            dispatch(actionCreators.OnlyToMain({
              type: actionTypes.WIDGETS_TIMER_USER_EVENT,
              data: {
                userAction: FocusTimer_USER_ACTION_TYPES.TIMER_END
              }
            }));
          });

          // animate the progress circle to turn solid green
          setProgress(1);

          // More transitions after a delay to allow the animation above to complete
          setTimeout(() => {
            // progress circle goes back to default grey
            resetProgressCircle();

            // There's more to see!
            setTimeout(() => {
              // switch over to the other timer type
              // eslint-disable-next-line max-nested-callbacks
              (0,external_ReactRedux_namespaceObject.batch)(() => {
                dispatch(actionCreators.AlsoToMain({
                  type: actionTypes.WIDGETS_TIMER_SET_TYPE,
                  data: {
                    timerType: timerType === "focus" ? "break" : "focus"
                  }
                }));
                dispatch(actionCreators.OnlyToMain({
                  type: actionTypes.WIDGETS_TIMER_USER_EVENT,
                  data: {
                    userAction: timerType === "focus" ? FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_BREAK : FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_FOCUS
                  }
                }));
              });
            }, 1500);
          }, 1500);
        }

        // using setTimeLeft to trigger a re-render of the component to show live countdown each second
        setTimeLeft(remaining);
        setProgress((initialDuration - remaining) / initialDuration);
      }, 1000);
    }

    // Shows the correct live time in the UI whenever the timer state changes
    const newTime = isRunning ? calculateTimeRemaining(duration, startTime) : duration;
    setTimeLeft(newTime);

    // Set progress for paused timers (handles page load and timer type toggling)
    if (!isRunning && duration < initialDuration) {
      // Show previously elapsed time
      setProgress((initialDuration - duration) / initialDuration);
    } else if (!isRunning) {
      // Reset progress for fresh timers
      setProgress(0);
    }
    return () => clearInterval(interval);
  }, [isRunning, startTime, duration, initialDuration, dispatch, resetProgressCircle, timerType, initialTimerDuration]);

  // Update the clip-path of the gradient circle to match the current progress value
  (0,external_React_namespaceObject.useEffect)(() => {
    if (arcRef?.current) {
      // Only set clip-path if current timer has been started or is running
      if (progress > 0 || isRunning) {
        arcRef.current.style.clipPath = getClipPath(progress);
      } else {
        arcRef.current.style.clipPath = "";
      }
    }
  }, [progress, isRunning]);

  // set timer function
  const setTimerDuration = () => {
    const minutesEl = activeMinutesRef.current;
    const secondsEl = activeSecondsRef.current;
    const minutesValue = minutesEl.innerText.trim() || "0";
    const secondsValue = secondsEl.innerText.trim() || "0";
    let minutes = parseInt(minutesValue || "0", 10);
    let seconds = parseInt(secondsValue || "0", 10);

    // Set a limit of 99 minutes
    minutes = Math.min(minutes, 99);
    // Set a limit of 59 seconds
    seconds = Math.min(seconds, 59);
    const totalSeconds = minutes * 60 + seconds;
    if (!Number.isNaN(totalSeconds) && totalSeconds > 0 && totalSeconds !== duration) {
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_SET_DURATION,
          data: {
            timerType,
            duration: totalSeconds
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_SET
          }
        }));
      });
    }
    handleTimerInteraction();
  };

  // Pause timer function
  const toggleTimer = () => {
    if (!isRunning && duration > 0) {
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_PLAY,
          data: {
            timerType
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PLAY
          }
        }));
      });
    } else if (isRunning) {
      // calculated to get the new baseline of the timer when it starts or resumes
      const remaining = calculateTimeRemaining(duration, startTime);
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_PAUSE,
          data: {
            timerType,
            duration: remaining
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PAUSE
          }
        }));
      });
    }
    handleTimerInteraction();
  };

  // reset timer function
  const resetTimer = () => {
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_TIMER_RESET,
        data: {
          timerType,
          duration: initialTimerDuration,
          initialDuration: initialTimerDuration
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_TIMER_USER_EVENT,
        data: {
          userAction: FocusTimer_USER_ACTION_TYPES.TIMER_RESET
        }
      }));
    });

    // Reset progress value and gradient arc on the progress circle
    resetProgressCircle();
    handleTimerInteraction();
  };

  // Toggles between "focus" and "break" timer types
  const toggleType = type => {
    const oldTypeRemaining = calculateTimeRemaining(duration, startTime);
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      // The type we are toggling away from automatically pauses
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_TIMER_PAUSE,
        data: {
          timerType,
          duration: oldTypeRemaining
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_TIMER_USER_EVENT,
        data: {
          userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PAUSE
        }
      }));

      // Sets the current timer type so it persists when opening a new tab
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_TIMER_SET_TYPE,
        data: {
          timerType: type
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_TIMER_USER_EVENT,
        data: {
          userAction: type === "focus" ? FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_FOCUS : FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_BREAK
        }
      }));
    });
    handleTimerInteraction();
  };
  const handleKeyDown = e => {
    if (e.key === "Enter") {
      e.preventDefault();
      setTimerDuration(e);
      handleTimerInteraction();
    }
    if (e.key === "Tab") {
      setTimerDuration(e);
      handleTimerInteraction();
    }
  };
  const handleBeforeInput = e => {
    const input = e.data;
    const values = e.target.innerText.trim();

    // only allow numerical digits 09 for time input
    if (!/^\d+$/.test(input)) {
      e.preventDefault();
    }

    // only allow 2 values each for minutes and seconds
    if (values.length >= 2) {
      e.preventDefault();
    }
    const selection = window.getSelection();
    const selectedText = selection.toString();

    // if entire value is selected, replace it with the new input
    if (selectedText === values) {
      e.preventDefault(); // prevent default typing
      e.target.innerText = input;

      // Places the caret at the end of the content-editable text
      // This is a known problem with content-editable where the caret
      const range = document.createRange();
      range.selectNodeContents(e.target);
      range.collapse(false);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    }
  };
  const handleFocus = e => {
    if (isRunning) {
      // calculated to get the new baseline of the timer when it starts or resumes
      const remaining = calculateTimeRemaining(duration, startTime);
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_PAUSE,
          data: {
            timerType,
            duration: remaining
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PAUSE
          }
        }));
      });
    }

    // highlight entire text when focused on the time.
    // this makes it easier to input the new time instead of backspacing
    const el = e.target;
    if (document.createRange && window.getSelection) {
      const range = document.createRange();
      range.selectNodeContents(el);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    }
  };
  function handleLearnMore() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: {
        url: "https://support.mozilla.org/kb/firefox-new-tab-widgets"
      }
    }));
    handleTimerInteraction();
  }
  function handlePrefUpdate(prefName, prefValue) {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: prefName,
        value: prefValue
      }
    }));
    handleTimerInteraction();
  }
  return timerData ? /*#__PURE__*/external_React_default().createElement("article", {
    className: "focus-timer",
    ref: el => {
      timerRef.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "newtab-widget-timer-notification-title-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("h3", {
    "data-l10n-id": "newtab-widget-timer-notification-title"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "focus-timer-context-menu-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    className: "focus-timer-context-menu-button",
    iconSrc: "chrome://global/skin/icons/more.svg",
    menuId: "focus-timer-context-menu",
    type: "ghost"
  }), /*#__PURE__*/external_React_default().createElement("panel-list", {
    id: "focus-timer-context-menu"
  }, /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": showSystemNotifications ? "newtab-widget-timer-menu-notifications" : "newtab-widget-timer-menu-notifications-on",
    onClick: () => {
      handlePrefUpdate("widgets.focusTimer.showSystemNotifications", !showSystemNotifications);
    }
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-timer-menu-hide",
    onClick: () => {
      handlePrefUpdate("widgets.focusTimer.enabled", false);
    }
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-timer-menu-learn-more",
    onClick: handleLearnMore
  })))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "focus-timer-tabs"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "focus-timer-tabs-buttons"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: timerType === "focus" ? "default" : "ghost",
    "data-l10n-id": "newtab-widget-timer-mode-focus",
    size: "small",
    onClick: () => toggleType("focus")
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: timerType === "break" ? "default" : "ghost",
    "data-l10n-id": "newtab-widget-timer-mode-break",
    size: "small",
    onClick: () => toggleType("break")
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    role: "progress",
    className: `progress-circle-wrapper ${!showSystemNotifications && !timerData[timerType].isRunning ? "is-small" : ""}`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle-background${timerType === "break" ? "-break" : ""}`
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle ${timerType === "focus" ? "focus-visible" : "focus-hidden"}`,
    ref: timerType === "focus" ? arcRef : null
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle ${timerType === "break" ? "break-visible" : "break-hidden"}`,
    ref: timerType === "break" ? arcRef : null
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle-complete${progress === 1 ? " visible" : ""}`
  }), /*#__PURE__*/external_React_default().createElement("div", {
    role: "timer",
    className: "progress-circle-label"
  }, /*#__PURE__*/external_React_default().createElement(EditableTimerFields, {
    minutesRef: activeMinutesRef,
    secondsRef: activeSecondsRef,
    onKeyDown: handleKeyDown,
    onBeforeInput: handleBeforeInput,
    onFocus: handleFocus,
    timeLeft: timeLeft,
    onBlur: () => setTimerDuration()
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "set-timer-controls-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: `focus-timer-controls timer-running`
  }, /*#__PURE__*/external_React_default().createElement("moz-button", FocusTimer_extends({}, !isRunning ? {
    type: "primary"
  } : {}, {
    iconsrc: `chrome://global/skin/media/${isRunning ? "pause" : "play"}-fill.svg`,
    "data-l10n-id": isRunning ? "newtab-widget-timer-label-pause" : "newtab-widget-timer-label-play",
    onClick: toggleTimer
  })), isRunning && /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    iconsrc: "chrome://newtab/content/data/content/assets/arrow-clockwise-16.svg",
    "data-l10n-id": "newtab-widget-timer-reset",
    onClick: resetTimer
  }))), !showSystemNotifications && !timerData[timerType].isRunning && /*#__PURE__*/external_React_default().createElement("p", {
    className: "timer-notification-status",
    "data-l10n-id": "newtab-widget-timer-notification-warning"
  })) : null;
};
function EditableTimerFields({
  minutesRef,
  secondsRef,
  tabIndex = 0,
  ...props
}) {
  return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("span", {
    contentEditable: "true",
    ref: minutesRef,
    className: "timer-set-minutes",
    onKeyDown: props.onKeyDown,
    onBeforeInput: props.onBeforeInput,
    onFocus: props.onFocus,
    onBlur: props.onBlur,
    tabIndex: tabIndex
  }, formatTime(props.timeLeft).split(":")[0]), ":", /*#__PURE__*/external_React_default().createElement("span", {
    contentEditable: "true",
    ref: secondsRef,
    className: "timer-set-seconds",
    onKeyDown: props.onKeyDown,
    onBeforeInput: props.onBeforeInput,
    onFocus: props.onFocus,
    onBlur: props.onBlur,
    tabIndex: tabIndex
  }, formatTime(props.timeLeft).split(":")[1]));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/WidgetsFeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */



function WidgetsFeatureHighlight({
  handleDismiss,
  handleBlock,
  dispatch
}) {
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  return /*#__PURE__*/React.createElement(FeatureHighlight, {
    position: "inset-inline-center inset-block-end",
    arrowPosition: "arrow-top-center",
    openedOverride: true,
    showButtonIcon: false,
    feature: messageData?.content?.feature,
    modalClassName: "widget-highlight-wrapper",
    message: /*#__PURE__*/React.createElement("div", {
      className: "widget-highlight"
    }, /*#__PURE__*/React.createElement("img", {
      src: "chrome://newtab/content/data/content/assets/widget-message.png",
      alt: ""
    }), /*#__PURE__*/React.createElement("h3", {
      "data-l10n-id": "newtab-widget-message-title"
    }), /*#__PURE__*/React.createElement("p", {
      "data-l10n-id": "newtab-widget-message-copy"
    })),
    dispatch: dispatch,
    dismissCallback: () => {
      handleDismiss();
      handleBlock();
    },
    outsideClickCallback: handleDismiss
  });
}

;// CONCATENATED MODULE: ./content-src/components/Widgets/Widgets.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const PREF_WIDGETS_LISTS_ENABLED = "widgets.lists.enabled";
const PREF_WIDGETS_SYSTEM_LISTS_ENABLED = "widgets.system.lists.enabled";
const PREF_WIDGETS_TIMER_ENABLED = "widgets.focusTimer.enabled";
const PREF_WIDGETS_SYSTEM_TIMER_ENABLED = "widgets.system.focusTimer.enabled";
const PREF_FEEDS_SECTION_TOPSTORIES = "feeds.section.topstories";
function Widgets() {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const nimbusListsEnabled = prefs.widgetsConfig?.listsEnabled;
  const nimbusTimerEnabled = prefs.widgetsConfig?.timerEnabled;
  const nimbusListsTrainhopEnabled = prefs.trainhopConfig?.widgets?.listsEnabled;
  const nimbusTimerTrainhopEnabled = prefs.trainhopConfig?.widgets?.timerEnabled;
  const listsEnabled = (nimbusListsTrainhopEnabled || nimbusListsEnabled || prefs[PREF_WIDGETS_SYSTEM_LISTS_ENABLED]) && prefs[PREF_WIDGETS_LISTS_ENABLED];
  const timerEnabled = (nimbusTimerTrainhopEnabled || nimbusTimerEnabled || prefs[PREF_WIDGETS_SYSTEM_TIMER_ENABLED]) && prefs[PREF_WIDGETS_TIMER_ENABLED];
  const recommendedStoriesEnabled = prefs[PREF_FEEDS_SECTION_TOPSTORIES];
  function handleUserInteraction(widgetName) {
    const prefName = `widgets.${widgetName}.interaction`;
    const hasInteracted = prefs[prefName];
    // we want to make sure that the value is a strict false (and that the property exists)
    if (hasInteracted === false) {
      dispatch(actionCreators.SetPref(prefName, true));
    }
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "widgets-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "widgets-container"
  }, listsEnabled && /*#__PURE__*/external_React_default().createElement(Lists, {
    dispatch: dispatch,
    handleUserInteraction: handleUserInteraction
  }), timerEnabled && /*#__PURE__*/external_React_default().createElement(FocusTimer, {
    dispatch: dispatch,
    handleUserInteraction: handleUserInteraction
  })), recommendedStoriesEnabled && /*#__PURE__*/external_React_default().createElement("div", {
    className: "widgets-scroll-message fade-in",
    "aria-live": "polite"
  }, /*#__PURE__*/external_React_default().createElement("p", {
    "data-l10n-id": "newtab-widget-keep-scrolling"
  })), messageData?.content?.messageType === "WidgetMessage" && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
    dispatch: dispatch
  }, /*#__PURE__*/external_React_default().createElement(WidgetsFeatureHighlight, {
    dispatch: dispatch
  })));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamBase/DiscoveryStreamBase.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


















const ALLOWED_CSS_URL_PREFIXES = ["chrome://", "resource://", "https://img-getpocket.cdn.mozilla.net/"];
const DUMMY_CSS_SELECTOR = "DUMMY#CSS.SELECTOR";

/**
 * Validate a CSS declaration. The values are assumed to be normalized by CSSOM.
 */
function isAllowedCSS(property, value) {
  // Bug 1454823: INTERNAL properties, e.g., -moz-context-properties, are
  // exposed but their values aren't resulting in getting nothing. Fortunately,
  // we don't care about validating the values of the current set of properties.
  if (value === undefined) {
    return true;
  }

  // Make sure all urls are of the allowed protocols/prefixes
  const urls = value.match(/url\("[^"]+"\)/g);
  return !urls || urls.every(url => ALLOWED_CSS_URL_PREFIXES.some(prefix => url.slice(5).startsWith(prefix)));
}
class _DiscoveryStreamBase extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onStyleMount = this.onStyleMount.bind(this);
  }
  onStyleMount(style) {
    // Unmounting style gets rid of old styles, so nothing else to do
    if (!style) {
      return;
    }
    const {
      sheet
    } = style;
    const styles = JSON.parse(style.dataset.styles);
    styles.forEach((row, rowIndex) => {
      row.forEach((component, componentIndex) => {
        // Nothing to do without optional styles overrides
        if (!component) {
          return;
        }
        Object.entries(component).forEach(([selectors, declarations]) => {
          // Start with a dummy rule to validate declarations and selectors
          sheet.insertRule(`${DUMMY_CSS_SELECTOR} {}`);
          const [rule] = sheet.cssRules;

          // Validate declarations and remove any offenders. CSSOM silently
          // discards invalid entries, so here we apply extra restrictions.
          rule.style = declarations;
          [...rule.style].forEach(property => {
            const value = rule.style[property];
            if (!isAllowedCSS(property, value)) {
              console.error(`Bad CSS declaration ${property}: ${value}`);
              rule.style.removeProperty(property);
            }
          });

          // Set the actual desired selectors scoped to the component
          const prefix = `.ds-layout > .ds-column:nth-child(${rowIndex + 1}) .ds-column-grid > :nth-child(${componentIndex + 1})`;
          // NB: Splitting on "," doesn't work with strings with commas, but
          // we're okay with not supporting those selectors
          rule.selectorText = selectors.split(",").map(selector => prefix + (
          // Assume :pseudo-classes are for component instead of descendant
          selector[0] === ":" ? "" : " ") + selector).join(",");

          // CSSOM silently ignores bad selectors, so we'll be noisy instead
          if (rule.selectorText === DUMMY_CSS_SELECTOR) {
            console.error(`Bad CSS selector ${selectors}`);
          }
        });
      });
    });
  }
  renderComponent(component) {
    switch (component.type) {
      case "Highlights":
        return /*#__PURE__*/external_React_default().createElement(Highlights, null);
      case "TopSites":
        return /*#__PURE__*/external_React_default().createElement("div", {
          className: "ds-top-sites"
        }, /*#__PURE__*/external_React_default().createElement(TopSites_TopSites, {
          isFixed: true,
          title: component.header?.title
        }));
      case "TextPromo":
        return /*#__PURE__*/external_React_default().createElement(DSTextPromo, {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });
      case "Signup":
        return /*#__PURE__*/external_React_default().createElement(DSSignup, {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });
      case "Message":
        return /*#__PURE__*/external_React_default().createElement(DSMessage, {
          title: component.header && component.header.title,
          subtitle: component.header && component.header.subtitle,
          link_text: component.header && component.header.link_text,
          link_url: component.header && component.header.link_url,
          icon: component.header && component.header.icon
        });
      case "SectionTitle":
        return /*#__PURE__*/external_React_default().createElement(SectionTitle, {
          header: component.header
        });
      case "Navigation":
        return /*#__PURE__*/external_React_default().createElement(Navigation, {
          dispatch: this.props.dispatch,
          links: component.properties.links,
          extraLinks: component.properties.extraLinks,
          alignment: component.properties.alignment,
          explore_topics: component.properties.explore_topics,
          header: component.header,
          locale: this.props.App.locale,
          newFooterSection: component.newFooterSection,
          privacyNoticeURL: component.properties.privacyNoticeURL
        });
      case "CardGrid":
        {
          const sectionsEnabled = this.props.Prefs.values["discoverystream.sections.enabled"];
          if (sectionsEnabled) {
            return /*#__PURE__*/external_React_default().createElement(CardSections, {
              feed: component.feed,
              data: component.data,
              dispatch: this.props.dispatch,
              type: component.type,
              firstVisibleTimestamp: this.props.firstVisibleTimestamp,
              ctaButtonSponsors: component.properties.ctaButtonSponsors,
              ctaButtonVariant: component.properties.ctaButtonVariant
            });
          }
          return /*#__PURE__*/external_React_default().createElement(CardGrid, {
            title: component.header && component.header.title,
            data: component.data,
            feed: component.feed,
            widgets: component.widgets,
            type: component.type,
            dispatch: this.props.dispatch,
            items: component.properties.items,
            hybridLayout: component.properties.hybridLayout,
            hideCardBackground: component.properties.hideCardBackground,
            fourCardLayout: component.properties.fourCardLayout,
            compactGrid: component.properties.compactGrid,
            ctaButtonSponsors: component.properties.ctaButtonSponsors,
            ctaButtonVariant: component.properties.ctaButtonVariant,
            hideDescriptions: this.props.DiscoveryStream.hideDescriptions,
            firstVisibleTimestamp: this.props.firstVisibleTimestamp,
            spocPositions: component.spocs?.positions
          });
        }
      case "HorizontalRule":
        return /*#__PURE__*/external_React_default().createElement(HorizontalRule, null);
      case "PrivacyLink":
        return /*#__PURE__*/external_React_default().createElement(PrivacyLink, {
          properties: component.properties
        });
      case "Widgets":
        return /*#__PURE__*/external_React_default().createElement(Widgets, null);
      default:
        return /*#__PURE__*/external_React_default().createElement("div", null, component.type);
    }
  }
  renderStyles(styles) {
    // Use json string as both the key and styles to render so React knows when
    // to unmount and mount a new instance for new styles.
    const json = JSON.stringify(styles);
    return /*#__PURE__*/external_React_default().createElement("style", {
      key: json,
      "data-styles": json,
      ref: this.onStyleMount
    });
  }
  render() {
    const {
      locale
    } = this.props;
    // Bug 1980459 - Note that selectLayoutRender acts as a selector that transforms layout data based on current
    // preferences and experiment flags. It runs after Redux state is populated but before render.
    // Components removed in selectLayoutRender (e.g., Widgets or TopSites) will not appear in the
    // layoutRender result, and therefore will not be rendered here regardless of logic below.

    // Select layout renders data by adding spocs and position to recommendations
    const {
      layoutRender
    } = selectLayoutRender({
      state: this.props.DiscoveryStream,
      prefs: this.props.Prefs.values,
      locale
    });
    const sectionsEnabled = this.props.Prefs.values["discoverystream.sections.enabled"];
    const {
      config
    } = this.props.DiscoveryStream;
    const topicSelectionEnabled = this.props.Prefs.values["discoverystream.topicSelection.enabled"];
    const reportAdsEnabled = this.props.Prefs.values["discoverystream.reportAds.enabled"];
    const spocsEnabled = this.props.Prefs.values["unifiedAds.spocs.enabled"];

    // Allow rendering without extracting special components
    if (!config.collapsible) {
      return this.renderLayout(layoutRender);
    }

    // Find the first component of a type and remove it from layout
    const extractComponent = type => {
      for (const [rowIndex, row] of Object.entries(layoutRender)) {
        for (const [index, component] of Object.entries(row.components)) {
          if (component.type === type) {
            // Remove the row if it was the only component or the single item
            if (row.components.length === 1) {
              layoutRender.splice(rowIndex, 1);
            } else {
              row.components.splice(index, 1);
            }
            return component;
          }
        }
      }
      return null;
    };

    // Get "topstories" Section state for default values
    const topStories = this.props.Sections.find(s => s.id === "topstories");
    if (!topStories) {
      return null;
    }

    // Extract TopSites to render before the rest and Message to use for header
    const topSites = extractComponent("TopSites");

    // There are two ways to enable widgets:
    // Via `widgets.system.*` prefs or Nimbus experiment
    const widgetsNimbusTrainhopEnabled = this.props.Prefs.values.trainhopConfig?.widgets?.enabled;
    const widgetsNimbusEnabled = this.props.Prefs.values.widgetsConfig?.enabled;
    const widgetsSystemPrefsEnabled = this.props.Prefs.values["widgets.system.enabled"];
    const widgets = widgetsNimbusTrainhopEnabled || widgetsNimbusEnabled || widgetsSystemPrefsEnabled;
    const message = extractComponent("Message") || {
      header: {
        link_text: topStories.learnMore.link.message,
        link_url: topStories.learnMore.link.href,
        title: topStories.title
      }
    };
    const privacyLinkComponent = extractComponent("PrivacyLink");
    let learnMore = {
      link: {
        href: message.header.link_url,
        message: message.header.link_text
      }
    };
    let sectionTitle = message.header.title;
    let subTitle = "";
    const {
      DiscoveryStream
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, (reportAdsEnabled && spocsEnabled || sectionsEnabled) && /*#__PURE__*/external_React_default().createElement(ReportContent, {
      spocs: DiscoveryStream.spocs
    }), topSites && this.renderLayout([{
      width: 12,
      components: [topSites],
      sectionType: "topsites"
    }]), widgets && this.renderLayout([{
      width: 12,
      components: [{
        type: "Widgets"
      }],
      sectionType: "widgets"
    }]), !!layoutRender.length && /*#__PURE__*/external_React_default().createElement(CollapsibleSection, {
      className: "ds-layout",
      collapsed: topStories.pref.collapsed,
      dispatch: this.props.dispatch,
      id: topStories.id,
      isFixed: true,
      learnMore: learnMore,
      privacyNoticeURL: topStories.privacyNoticeURL,
      showPrefName: topStories.pref.feed,
      title: sectionTitle,
      subTitle: subTitle,
      mayHaveTopicsSelection: topicSelectionEnabled,
      sectionsEnabled: sectionsEnabled,
      eventSource: "CARDGRID"
    }, this.renderLayout(layoutRender)), this.renderLayout([{
      width: 12,
      components: [{
        type: "Highlights"
      }]
    }]), privacyLinkComponent && this.renderLayout([{
      width: 12,
      components: [privacyLinkComponent]
    }]));
  }
  renderLayout(layoutRender) {
    const styles = [];
    let [data] = layoutRender;
    // Add helper class for topsites
    const sectionClass = data.sectionType ? `ds-layout-${data.sectionType}` : "";
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: `discovery-stream ds-layout ${sectionClass}`
    }, layoutRender.map((row, rowIndex) => /*#__PURE__*/external_React_default().createElement("div", {
      key: `row-${rowIndex}`,
      className: `ds-column ds-column-${row.width}`
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-column-grid"
    }, row.components.map((component, componentIndex) => {
      if (!component) {
        return null;
      }
      styles[rowIndex] = [...(styles[rowIndex] || []), component.styles];
      return /*#__PURE__*/external_React_default().createElement("div", {
        key: `component-${componentIndex}`
      }, this.renderComponent(component, row.width));
    })))), this.renderStyles(styles));
  }
}
const DiscoveryStreamBase = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs,
  Sections: state.Sections,
  document: globalThis.document,
  App: state.App
}))(_DiscoveryStreamBase);
;// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/SectionsMgmtPanel/SectionsMgmtPanel.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




// eslint-disable-next-line no-shadow

function SectionsMgmtPanel({
  exitEventFired
}) {
  const [showPanel, setShowPanel] = (0,external_React_namespaceObject.useState)(false); // State management with useState
  const {
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const layoutComponents = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream.layout[0].components);
  const sections = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream.feeds.data);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();

  // TODO: Wrap sectionsFeedName -> sectionsList logic in try...catch?
  let sectionsFeedName;
  const cardGridEntry = layoutComponents.find(item => item.type === "CardGrid");
  if (cardGridEntry) {
    sectionsFeedName = cardGridEntry.feed.url;
  }
  let sectionsList;
  if (sectionsFeedName) {
    sectionsList = sections[sectionsFeedName].data.sections;
  }
  const [sectionsState, setSectionState] = (0,external_React_namespaceObject.useState)(sectionPersonalization); // State management with useState

  let followedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isFollowed);
  let blockedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isBlocked);
  function updateCachedData() {
    // Reset cached followed/blocked list data while panel is open
    setSectionState(sectionPersonalization);
    followedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isFollowed);
    blockedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isBlocked);
  }
  const onFollowClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: {
        ...sectionPersonalization,
        [sectionKey]: {
          isFollowed: true,
          isBlocked: false,
          followedAt: new Date().toISOString()
        }
      }
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "FOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);
  const onBlockClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: {
        ...sectionPersonalization,
        [sectionKey]: {
          isFollowed: false,
          isBlocked: true
        }
      }
    }));

    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "BLOCK_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);
  const onUnblockClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    const updatedSectionData = {
      ...sectionPersonalization
    };
    delete updatedSectionData[sectionKey];
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "UNBLOCK_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);
  const onUnfollowClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    const updatedSectionData = {
      ...sectionPersonalization
    };
    delete updatedSectionData[sectionKey];
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "UNFOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);

  // Close followed/blocked topic subpanel when parent menu is closed
  (0,external_React_namespaceObject.useEffect)(() => {
    if (exitEventFired) {
      setShowPanel(false);
    }
  }, [exitEventFired]);
  const togglePanel = () => {
    setShowPanel(prevShowPanel => !prevShowPanel);

    // Fire when the panel is open
    if (!showPanel) {
      updateCachedData();
    }
  };
  const followedSectionsList = followedSectionsData.map(({
    sectionKey,
    title,
    receivedRank
  }) => {
    const following = sectionPersonalization[sectionKey]?.isFollowed;
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: sectionKey
    }, /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: `follow-topic-${sectionKey}`
    }, title), /*#__PURE__*/external_React_default().createElement("div", {
      className: following ? "section-follow following" : "section-follow"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      onClick: () => following ? onUnfollowClick(sectionKey, receivedRank) : onFollowClick(sectionKey, receivedRank),
      type: "default",
      index: receivedRank,
      section: sectionKey,
      id: `follow-topic-${sectionKey}`
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-follow-text",
      "data-l10n-id": "newtab-section-follow-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-following-text",
      "data-l10n-id": "newtab-section-following-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-unfollow-text",
      "data-l10n-id": "newtab-section-unfollow-button"
    }))));
  });
  const blockedSectionsList = blockedSectionsData.map(({
    sectionKey,
    title,
    receivedRank
  }) => {
    const blocked = sectionPersonalization[sectionKey]?.isBlocked;
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: sectionKey
    }, /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: `blocked-topic-${sectionKey}`
    }, title), /*#__PURE__*/external_React_default().createElement("div", {
      className: blocked ? "section-block blocked" : "section-block"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      onClick: () => blocked ? onUnblockClick(sectionKey, receivedRank) : onBlockClick(sectionKey, receivedRank),
      type: "default",
      index: receivedRank,
      section: sectionKey,
      id: `blocked-topic-${sectionKey}`
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-block-text",
      "data-l10n-id": "newtab-section-block-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-blocked-text",
      "data-l10n-id": "newtab-section-blocked-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-unblock-text",
      "data-l10n-id": "newtab-section-unblock-button"
    }))));
  });
  return /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("moz-box-button", {
    onClick: togglePanel,
    "data-l10n-id": "newtab-section-manage-topics-button-v2"
  }), /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
    in: showPanel,
    timeout: 300,
    classNames: "sections-mgmt-panel",
    unmountOnExit: true
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "sections-mgmt-panel"
  }, /*#__PURE__*/external_React_default().createElement("button", {
    className: "arrow-button",
    onClick: togglePanel
  }, /*#__PURE__*/external_React_default().createElement("h1", {
    "data-l10n-id": "newtab-section-mangage-topics-title"
  })), /*#__PURE__*/external_React_default().createElement("h3", {
    "data-l10n-id": "newtab-section-mangage-topics-followed-topics"
  }), followedSectionsData.length ? /*#__PURE__*/external_React_default().createElement("ul", {
    className: "topic-list"
  }, followedSectionsList) : /*#__PURE__*/external_React_default().createElement("span", {
    className: "topic-list-empty-state",
    "data-l10n-id": "newtab-section-mangage-topics-followed-topics-empty-state"
  }), /*#__PURE__*/external_React_default().createElement("h3", {
    "data-l10n-id": "newtab-section-mangage-topics-blocked-topics"
  }), blockedSectionsData.length ? /*#__PURE__*/external_React_default().createElement("ul", {
    className: "topic-list"
  }, blockedSectionsList) : /*#__PURE__*/external_React_default().createElement("span", {
    className: "topic-list-empty-state",
    "data-l10n-id": "newtab-section-mangage-topics-blocked-topics-empty-state"
  }))));
}

;// CONCATENATED MODULE: ./content-src/components/WallpaperCategories/WallpaperCategories.jsx
function WallpaperCategories_extends() { return WallpaperCategories_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, WallpaperCategories_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




// eslint-disable-next-line no-shadow

const PREF_WALLPAPER_UPLOADED_PREVIOUSLY = "newtabWallpapers.customWallpaper.uploadedPreviously";
const PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE = "newtabWallpapers.customWallpaper.fileSize";
const PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE_ENABLED = "newtabWallpapers.customWallpaper.fileSize.enabled";

// Returns a function will not be continuously triggered when called. The
// function will be triggered if called again after `wait` milliseconds.
function debounce(func, wait) {
  let timer;
  return (...args) => {
    if (timer) {
      return;
    }
    let wakeUp = () => {
      timer = null;
    };
    timer = setTimeout(wakeUp, wait);
    func.apply(this, args);
  };
}
class _WallpaperCategories extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.handleColorInput = this.handleColorInput.bind(this);
    this.debouncedHandleChange = debounce(this.handleChange.bind(this), 999);
    this.handleChange = this.handleChange.bind(this);
    this.handleReset = this.handleReset.bind(this);
    this.handleCategory = this.handleCategory.bind(this);
    this.focusCategory = this.focusCategory.bind(this);
    this.handleUpload = this.handleUpload.bind(this);
    this.handleBack = this.handleBack.bind(this);
    this.getRGBColors = this.getRGBColors.bind(this);
    this.prefersHighContrastQuery = null;
    this.prefersDarkQuery = null;
    this.categoryRef = []; // store references for wallpaper category list
    this.wallpaperRef = []; // store reference for wallpaper selection list
    this.customColorPickerRef = /*#__PURE__*/external_React_default().createRef(); // Used to determine contrast icon color for custom color picker
    this.customColorInput = /*#__PURE__*/external_React_default().createRef(); // Used to determine contrast icon color for custom color picker
    this.state = {
      activeCategory: null,
      activeCategoryFluentID: null,
      showColorPicker: false,
      inputType: "radio",
      activeId: null,
      customWallpaperErrorType: null,
      focusedCategoryIndex: 0
    };
  }
  componentDidMount() {
    this.prefersDarkQuery = globalThis.matchMedia("(prefers-color-scheme: dark)");
  }
  componentDidUpdate(prevProps) {
    // Walllpaper category subpanel should close when parent menu is closed
    if (this.props.exitEventFired && this.props.exitEventFired !== prevProps.exitEventFired) {
      this.handleBack();
    }
  }
  handleColorInput(event) {
    let {
      id
    } = event.target;
    // Set ID to include hex value of custom color
    id = `solid-color-picker-${event.target.value}`;
    const rgbColors = this.getRGBColors(event.target.value);

    // Set background color to custom color
    event.target.style.backgroundColor = `rgb(${rgbColors.toString()})`;
    if (this.customColorPickerRef.current) {
      const colorInputBackground = this.customColorPickerRef.current.children[0].style.backgroundColor;
      this.customColorPickerRef.current.style.backgroundColor = colorInputBackground;
    }

    // Set icon color based on the selected color
    const isColorDark = this.isWallpaperColorDark(rgbColors);
    if (this.customColorPickerRef.current) {
      if (isColorDark) {
        this.customColorPickerRef.current.classList.add("is-dark");
      } else {
        this.customColorPickerRef.current.classList.remove("is-dark");
      }

      // Remove any possible initial classes
      this.customColorPickerRef.current.classList.remove("custom-color-set", "custom-color-dark", "default-color-set");
    }

    // Setting this now so when we remove v1 we don't have to migrate v1 values.
    this.props.setPref("newtabWallpapers.wallpaper", id);
  }

  // Note: There's a separate event (debouncedHandleChange) that fires the handleChange
  // event but is delayed so that it doesn't fire multiple events when a user
  // is selecting a custom color background
  handleChange(event) {
    let {
      id
    } = event.target;

    // Set ID to include hex value of custom color
    if (id === "solid-color-picker") {
      id = `solid-color-picker-${event.target.value}`;
    }
    this.props.setPref("newtabWallpapers.wallpaper", id);
    const uploadedPreviously = this.props.Prefs.values[PREF_WALLPAPER_UPLOADED_PREVIOUSLY];
    this.handleUserEvent(actionTypes.WALLPAPER_CLICK, {
      selected_wallpaper: id,
      had_previous_wallpaper: !!this.props.activeWallpaper,
      had_uploaded_previously: !!uploadedPreviously
    });
  }
  focusCategory(focusIndex) {
    if (!this.categoryRef) {
      return;
    }
    const el = this.categoryRef[focusIndex];
    if (el) {
      el.focus();
    }
  }

  // function implementing arrow navigation for wallpaper category selection
  handleCategoryKeyDown(event, category) {
    const getIndex = this.categoryRef.findIndex(cat => cat.id === category);
    if (getIndex === -1) {
      return; // prevents errors if wallpaper index isn't found when navigating with arrow keys
    }
    const isRTL = document.dir === "rtl"; // returns true if page language is right-to-left
    let eventKey = event.key;
    if (eventKey === "ArrowRight" || eventKey === "ArrowLeft") {
      if (isRTL) {
        eventKey = eventKey === "ArrowRight" ? "ArrowLeft" : "ArrowRight";
      }
    }
    let nextIndex = getIndex;
    if (eventKey === "ArrowRight") {
      nextIndex = getIndex + 1 < this.categoryRef.length ? getIndex + 1 : getIndex;
    } else if (eventKey === "ArrowLeft") {
      nextIndex = getIndex - 1 >= 0 ? getIndex - 1 : getIndex;
    }
    this.setState({
      focusedCategoryIndex: nextIndex
    }, () => this.focusCategory(nextIndex));
  }

  // function implementing arrow navigation for wallpaper selection
  handleWallpaperKeyDown(event, title) {
    if (event.key === "Tab") {
      if (event.shiftKey) {
        event.preventDefault();
        this.backToMenuButton?.focus();
      } else {
        event.preventDefault(); // prevent tabbing within wallpaper selection. We should only be using the Tab key to tab between groups
      }
      return;
    }
    const isRTL = document.dir === "rtl"; // returns true if page language is right-to-left
    let eventKey = event.key;
    if (eventKey === "ArrowRight" || eventKey === "ArrowLeft") {
      if (isRTL) {
        eventKey = eventKey === "ArrowRight" ? "ArrowLeft" : "ArrowRight";
      }
    }
    const getIndex = this.wallpaperRef.findIndex(wallpaper => wallpaper.id === title);
    if (getIndex === -1) {
      return; // prevents errors if wallpaper index isn't found when navigating with arrow keys
    }

    // the set layout of columns per row for the wallpaper selection
    const columnCount = 3;
    let nextIndex = getIndex;
    if (eventKey === "ArrowRight") {
      nextIndex = getIndex + 1 < this.wallpaperRef.length ? getIndex + 1 : getIndex;
    } else if (eventKey === "ArrowLeft") {
      nextIndex = getIndex - 1 >= 0 ? getIndex - 1 : getIndex;
    } else if (eventKey === "ArrowDown") {
      nextIndex = getIndex + columnCount < this.wallpaperRef.length ? getIndex + columnCount : getIndex;
    } else if (eventKey === "ArrowUp") {
      nextIndex = getIndex - columnCount >= 0 ? getIndex - columnCount : getIndex;
    }
    this.wallpaperRef[nextIndex].tabIndex = 0;
    this.wallpaperRef[getIndex].tabIndex = -1;
    this.wallpaperRef[nextIndex].focus();
    this.wallpaperRef[nextIndex].click();
  }
  handleReset() {
    const uploadedPreviously = this.props.Prefs.values[PREF_WALLPAPER_UPLOADED_PREVIOUSLY];
    const selectedWallpaper = this.props.Prefs.values["newtabWallpapers.wallpaper"];

    // If a custom wallpaper is set, remove it
    if (selectedWallpaper === "custom") {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WALLPAPER_REMOVE_UPLOAD
      }));
    }

    // Reset active wallpaper
    this.props.setPref("newtabWallpapers.wallpaper", "");

    // Fire WALLPAPER_CLICK telemetry event
    this.handleUserEvent(actionTypes.WALLPAPER_CLICK, {
      selected_wallpaper: "none",
      had_previous_wallpaper: !!this.props.activeWallpaper,
      had_uploaded_previously: !!uploadedPreviously
    });
  }
  handleCategory = event => {
    this.setState({
      activeCategory: event.target.id
    });
    this.handleUserEvent(actionTypes.WALLPAPER_CATEGORY_CLICK, event.target.id);
    let fluent_id;
    switch (event.target.id) {
      case "abstracts":
        fluent_id = "newtab-wallpaper-category-title-abstract";
        break;
      case "celestial":
        fluent_id = "newtab-wallpaper-category-title-celestial";
        break;
      case "photographs":
        fluent_id = "newtab-wallpaper-category-title-photographs";
        break;
      case "solid-colors":
        fluent_id = "newtab-wallpaper-category-title-colors";
    }
    this.setState({
      activeCategoryFluentID: fluent_id
    });
  };

  // Custom wallpaper image upload
  async handleUpload() {
    const wallpaperUploadMaxFileSizeEnabled = this.props.Prefs.values[PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE_ENABLED];
    const wallpaperUploadMaxFileSize = this.props.Prefs.values[PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE];
    const uploadedPreviously = this.props.Prefs.values[PREF_WALLPAPER_UPLOADED_PREVIOUSLY];

    // Create a file input since category buttons are radio inputs
    const fileInput = document.createElement("input");
    fileInput.type = "file";
    fileInput.accept = "image/*"; // only allow image files

    // Catch cancel events
    fileInput.oncancel = async () => {
      this.setState({
        customWallpaperErrorType: null
      });
    };

    // Reset error state when user begins file selection
    this.setState({
      customWallpaperErrorType: null
    });

    // Fire when user selects a file
    fileInput.onchange = async event => {
      const [file] = event.target.files;
      if (file) {
        // Validate file type: Only accept files with a valid image MIME type
        const isValidImage = file.type && file.type.startsWith("image/");
        if (!isValidImage) {
          console.error("Invalid file type");
          this.setState({
            customWallpaperErrorType: "fileType"
          });
          return;
        }

        // Limit image uploaded to a maximum file size if enabled
        // Note: The max file size pref (customWallpaper.fileSize) is converted to megabytes (MB)
        // Example: if pref value is 5, max file size is 5 MB
        const maxSize = wallpaperUploadMaxFileSize * 1024 * 1024;
        if (wallpaperUploadMaxFileSizeEnabled && file.size > maxSize) {
          console.error("File size exceeds limit");
          this.setState({
            customWallpaperErrorType: "fileSize"
          });
          return;
        }
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WALLPAPER_UPLOAD,
          data: {
            file
          }
        }));

        // Set active wallpaper ID to "custom"
        this.props.setPref("newtabWallpapers.wallpaper", "custom");

        // Update the uploadedPreviously pref to TRUE
        // Note: this pref used for telemetry. Do not reset to false.
        this.props.setPref(PREF_WALLPAPER_UPLOADED_PREVIOUSLY, true);
        this.handleUserEvent(actionTypes.WALLPAPER_CLICK, {
          selected_wallpaper: "custom",
          had_previous_wallpaper: !!this.props.activeWallpaper,
          had_uploaded_previously: !!uploadedPreviously
        });
      }
    };
    fileInput.click();
  }
  handleBack() {
    this.setState({
      activeCategory: null
    }, () => {
      // Wait for the category grid to be back in the DOM
      requestAnimationFrame(() => {
        this.focusCategory(this.state.focusedCategoryIndex);
      });
    });
  }

  // Record user interaction when changing wallpaper and reseting wallpaper to default
  handleUserEvent(type, data) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type,
      data
    }));
  }
  setActiveId = id => {
    this.setState({
      activeId: id
    }); // Set the active ID
  };
  getRGBColors(input) {
    if (input.length !== 7) {
      return [];
    }
    const r = parseInt(input.substr(1, 2), 16);
    const g = parseInt(input.substr(3, 2), 16);
    const b = parseInt(input.substr(5, 2), 16);
    return [r, g, b];
  }
  isWallpaperColorDark([r, g, b]) {
    return 0.2125 * r + 0.7154 * g + 0.0721 * b <= 110;
  }
  render() {
    const prefs = this.props.Prefs.values;
    const {
      wallpaperList,
      categories
    } = this.props.Wallpapers;
    const {
      activeWallpaper
    } = this.props;
    const {
      activeCategory,
      showColorPicker
    } = this.state;
    const {
      activeCategoryFluentID
    } = this.state;
    let filteredWallpapers = wallpaperList.filter(wallpaper => wallpaper.category === activeCategory);
    const wallpaperUploadMaxFileSize = this.props.Prefs.values[PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE];
    function reduceColorsToFitCustomColorInput(arr) {
      // Reduce the amount of custom colors to make space for the custom color picker
      while (arr.length % 3 !== 2) {
        arr.pop();
      }
      return arr;
    }
    let wallpaperCustomSolidColorHex = null;
    const selectedWallpaper = prefs["newtabWallpapers.wallpaper"];

    // User has previous selected a custom color
    if (selectedWallpaper.includes("solid-color-picker")) {
      this.setState({
        showColorPicker: true
      });
      const regex = /#([a-fA-F0-9]{6})/;
      [wallpaperCustomSolidColorHex] = selectedWallpaper.match(regex);
    }

    // Enable custom color select if pref'ed on
    this.setState({
      showColorPicker: prefs["newtabWallpapers.customColor.enabled"]
    });

    // Remove last item of solid colors to make space for custom color picker
    if (prefs["newtabWallpapers.customColor.enabled"] && activeCategory === "solid-colors") {
      filteredWallpapers = reduceColorsToFitCustomColorInput(filteredWallpapers);
    }

    // Bug 1953012 - If nothing selected, default to color of customize panel
    // --color-blue-70 : #054096
    // --color-blue-05 : #deeafc
    const starterColorHex = this.prefersDarkQuery?.matches ? "#054096" : "#deeafc";

    // Set initial state of the color picker (depending if the user has already set a custom color)
    let initStateClassname = wallpaperCustomSolidColorHex ? "custom-color-set" : "default-color-set";

    // If a custom color picker is set, make sure the icon has the correct contrast
    if (wallpaperCustomSolidColorHex) {
      const rgbColors = this.getRGBColors(wallpaperCustomSolidColorHex);
      const isColorDark = this.isWallpaperColorDark(rgbColors);
      if (isColorDark) {
        initStateClassname += " custom-color-dark";
      }
    }
    let colorPickerInput = showColorPicker && activeCategory === "solid-colors" ? /*#__PURE__*/external_React_default().createElement("div", {
      className: `theme-custom-color-picker ${initStateClassname}`,
      ref: this.customColorPickerRef
    }, /*#__PURE__*/external_React_default().createElement("input", {
      onInput: this.handleColorInput,
      onChange: this.debouncedHandleChange,
      onClick: () => this.setActiveId("solid-color-picker") //
      ,
      type: "color",
      name: `wallpaper-solid-color-picker`,
      id: "solid-color-picker"
      // aria-checked is not applicable for input[type="color"] elements
      ,
      "aria-current": this.state.activeId === "solid-color-picker",
      value: wallpaperCustomSolidColorHex || starterColorHex,
      className: `wallpaper-input
              ${this.state.activeId === "solid-color-picker" ? "active" : ""}`,
      ref: this.customColorInput
    }), /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: "solid-color-picker",
      "data-l10n-id": "newtab-wallpaper-custom-color"
    })) : "";
    return /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("div", {
      className: "category-header"
    }, /*#__PURE__*/external_React_default().createElement("h2", {
      "data-l10n-id": "newtab-wallpaper-title"
    }), /*#__PURE__*/external_React_default().createElement("button", {
      className: "wallpapers-reset",
      onClick: this.handleReset,
      "data-l10n-id": "newtab-wallpaper-reset"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      role: "grid",
      "aria-label": "Wallpaper category selection. Use arrow keys to navigate."
    }, /*#__PURE__*/external_React_default().createElement("fieldset", {
      className: "category-list"
    }, categories.map((category, index) => {
      const filteredList = wallpaperList.filter(wallpaper => wallpaper.category === category);
      const activeWallpaperObj = activeWallpaper && filteredList.find(wp => wp.title === activeWallpaper);
      // Detect custom solid color
      const isCustomSolidColor = category === "solid-colors" && activeWallpaper.startsWith("solid-color-picker");
      const thumbnail = activeWallpaperObj || filteredList[0];
      let fluent_id;
      switch (category) {
        case "abstracts":
          fluent_id = "newtab-wallpaper-category-title-abstract";
          break;
        case "celestial":
          fluent_id = "newtab-wallpaper-category-title-celestial";
          break;
        case "custom-wallpaper":
          fluent_id = "newtab-wallpaper-upload-image";
          break;
        case "photographs":
          fluent_id = "newtab-wallpaper-category-title-photographs";
          break;
        case "solid-colors":
          fluent_id = "newtab-wallpaper-category-title-colors";
      }
      let style = {};
      if (thumbnail?.wallpaperUrl) {
        style.backgroundImage = `url(${thumbnail.wallpaperUrl})`;
      } else {
        style.backgroundColor = thumbnail?.solid_color || "";
      }
      // If custom solid color is active, override the thumbnail to the chosen hex
      if (isCustomSolidColor) {
        const hex = activeWallpaper.split("solid-color-picker-")[1] || "";
        style.backgroundColor = hex;
      }
      const isCategorySelected = activeWallpaperObj || isCustomSolidColor;
      return /*#__PURE__*/external_React_default().createElement("div", {
        key: category
      }, /*#__PURE__*/external_React_default().createElement("button", WallpaperCategories_extends({
        ref: el => {
          if (el) {
            this.categoryRef[index] = el;
          }
        },
        id: category,
        style: style,
        onKeyDown: e => this.handleCategoryKeyDown(e, category)
        // Add overrides for custom wallpaper upload UI
        ,
        onClick: event => {
          this.setState({
            focusedCategoryIndex: index
          });
          if (category !== "custom-wallpaper") {
            this.handleCategory(event);
          } else {
            this.handleUpload();
          }
        },
        className: `wallpaper-input
                      ${category === "custom-wallpaper" ? "theme-custom-wallpaper" : ""}
                      ${isCategorySelected ? "selected" : ""}`,
        tabIndex: this.state.focusedCategoryIndex === index ? 0 : -1
      }, category === "custom-wallpaper" ? {
        "aria-errormessage": "customWallpaperError"
      } : {})), /*#__PURE__*/external_React_default().createElement("label", {
        htmlFor: category,
        "data-l10n-id": fluent_id
      }, fluent_id));
    })), this.state.customWallpaperErrorType && /*#__PURE__*/external_React_default().createElement("div", {
      className: "custom-wallpaper-error",
      id: "customWallpaperError"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-info"
    }), (() => {
      switch (this.state.customWallpaperErrorType) {
        case "fileSize":
          return /*#__PURE__*/external_React_default().createElement("span", {
            "data-l10n-id": "newtab-wallpaper-error-max-file-size",
            "data-l10n-args": `{"file_size": ${wallpaperUploadMaxFileSize}}`
          });
        case "fileType":
          return /*#__PURE__*/external_React_default().createElement("span", {
            "data-l10n-id": "newtab-wallpaper-error-upload-file-type"
          });
        default:
          return null;
      }
    })())), /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      in: !!activeCategory,
      timeout: 300,
      classNames: "wallpaper-list",
      unmountOnExit: true
    }, /*#__PURE__*/external_React_default().createElement("section", {
      className: "category wallpaper-list ignore-color-mode"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "arrow-button",
      "data-l10n-id": activeCategoryFluentID,
      onClick: this.handleBack,
      ref: el => {
        this.backToMenuButton = el;
      }
    }), /*#__PURE__*/external_React_default().createElement("div", {
      role: "grid",
      "aria-label": "Wallpaper selection. Use arrow keys to navigate."
    }, /*#__PURE__*/external_React_default().createElement("fieldset", null, filteredWallpapers.map(({
      title,
      theme,
      fluent_id,
      solid_color,
      wallpaperUrl
    }, index) => {
      let style = {};
      if (wallpaperUrl) {
        style.backgroundImage = `url(${wallpaperUrl})`;
      } else {
        style.backgroundColor = solid_color || "";
      }
      return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("input", {
        ref: el => {
          if (el) {
            this.wallpaperRef[index] = el;
          }
        },
        onChange: this.handleChange,
        onKeyDown: e => this.handleWallpaperKeyDown(e, title),
        style: style,
        type: "radio",
        name: `wallpaper-${title}`,
        id: title,
        value: title,
        checked: title === activeWallpaper,
        "aria-checked": title === activeWallpaper,
        className: `wallpaper-input theme-${theme} ${this.state.activeId === title ? "active" : ""}`,
        onClick: () => this.setActiveId(title) //
        ,
        tabIndex: index === 0 ? 0 : -1 //the first wallpaper in the array will have a tabindex of 0 so we can tab into it. The rest will have a tabindex of -1
      }), /*#__PURE__*/external_React_default().createElement("label", {
        htmlFor: title,
        className: "sr-only",
        "data-l10n-id": fluent_id
      }, fluent_id));
    }), colorPickerInput)))));
  }
}
const WallpaperCategories = (0,external_ReactRedux_namespaceObject.connect)(state => {
  return {
    Wallpapers: state.Wallpapers,
    Prefs: state.Prefs
  };
})(_WallpaperCategories);
;// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/ContentSection/ContentSection.jsx
function ContentSection_extends() { return ContentSection_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, ContentSection_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class ContentSection extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onPreferenceSelect = this.onPreferenceSelect.bind(this);

    // Refs are necessary for dynamically measuring drawer heights for slide animations
    this.topSitesDrawerRef = /*#__PURE__*/external_React_default().createRef();
    this.pocketDrawerRef = /*#__PURE__*/external_React_default().createRef();
  }
  inputUserEvent(eventSource, eventValue) {
    this.props.dispatch(actionCreators.UserEvent({
      event: "PREF_CHANGED",
      source: eventSource,
      value: {
        status: eventValue,
        menu_source: "CUSTOMIZE_MENU"
      }
    }));
  }
  onPreferenceSelect(e) {
    // eventSource: WEATHER | TOP_SITES | TOP_STORIES | WIDGET_LISTS | WIDGET_TIMER | TRENDING_SEARCH
    const {
      preference,
      eventSource
    } = e.target.dataset;
    let value;
    if (e.target.nodeName === "SELECT") {
      value = parseInt(e.target.value, 10);
    } else if (e.target.nodeName === "INPUT") {
      value = e.target.checked;
      if (eventSource) {
        this.inputUserEvent(eventSource, value);
      }
    } else if (e.target.nodeName === "MOZ-TOGGLE") {
      value = e.target.pressed;
      if (eventSource) {
        this.inputUserEvent(eventSource, value);
      }
    }
    this.props.setPref(preference, value);
  }
  componentDidMount() {
    this.setDrawerMargins();
  }
  componentDidUpdate() {
    this.setDrawerMargins();
  }
  setDrawerMargins() {
    this.setDrawerMargin(`TOP_SITES`, this.props.enabledSections.topSitesEnabled);
    this.setDrawerMargin(`TOP_STORIES`, this.props.enabledSections.pocketEnabled);
  }
  setDrawerMargin(drawerID, isOpen) {
    let drawerRef;
    if (drawerID === `TOP_SITES`) {
      drawerRef = this.topSitesDrawerRef.current;
    } else if (drawerID === `TOP_STORIES`) {
      drawerRef = this.pocketDrawerRef.current;
    } else {
      return;
    }
    if (drawerRef) {
      let drawerHeight = parseFloat(window.getComputedStyle(drawerRef)?.height) || 0;
      if (isOpen) {
        drawerRef.style.marginTop = "var(--space-small)";
      } else {
        drawerRef.style.marginTop = `-${drawerHeight + 3}px`;
      }
    }
  }
  render() {
    const {
      enabledSections,
      enabledWidgets,
      pocketRegion,
      mayHaveInferredPersonalization,
      mayHaveWeather,
      mayHaveTrendingSearch,
      mayHaveWidgets,
      mayHaveTimerWidget,
      mayHaveListsWidget,
      openPreferences,
      wallpapersEnabled,
      activeWallpaper,
      setPref,
      mayHaveTopicSections,
      exitEventFired
    } = this.props;
    const {
      topSitesEnabled,
      pocketEnabled,
      weatherEnabled,
      trendingSearchEnabled,
      showInferredPersonalizationEnabled,
      topSitesRowsCount
    } = enabledSections;
    const {
      timerEnabled,
      listsEnabled
    } = enabledWidgets;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "home-section"
    }, wallpapersEnabled && /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
      className: "wallpapers-section"
    }, /*#__PURE__*/external_React_default().createElement(WallpaperCategories, {
      setPref: setPref,
      activeWallpaper: activeWallpaper,
      exitEventFired: exitEventFired
    })), !mayHaveWidgets && /*#__PURE__*/external_React_default().createElement("span", {
      className: "divider",
      role: "separator"
    })), mayHaveWidgets && /*#__PURE__*/external_React_default().createElement("div", {
      className: "widgets-section"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "category-header"
    }, /*#__PURE__*/external_React_default().createElement("h2", {
      "data-l10n-id": "newtab-custom-widget-section-title"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "settings-widgets"
    }, mayHaveWeather && /*#__PURE__*/external_React_default().createElement("div", {
      id: "weather-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "weather-toggle",
      pressed: weatherEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "showWeather",
      "data-eventSource": "WEATHER",
      "data-l10n-id": "newtab-custom-widget-weather-toggle"
    })), mayHaveListsWidget && /*#__PURE__*/external_React_default().createElement("div", {
      id: "lists-widget-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "lists-toggle",
      pressed: listsEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "widgets.lists.enabled",
      "data-eventSource": "WIDGET_LISTS",
      "data-l10n-id": "newtab-custom-widget-lists-toggle"
    })), mayHaveTimerWidget && /*#__PURE__*/external_React_default().createElement("div", {
      id: "timer-widget-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "timer-toggle",
      pressed: timerEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "widgets.focusTimer.enabled",
      "data-eventSource": "WIDGET_TIMER",
      "data-l10n-id": "newtab-custom-widget-timer-toggle"
    })), mayHaveTrendingSearch && /*#__PURE__*/external_React_default().createElement("div", {
      id: "trending-search-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "trending-search-toggle",
      pressed: trendingSearchEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "trendingSearch.enabled",
      "data-eventSource": "TRENDING_SEARCH",
      "data-l10n-id": "newtab-custom-widget-trending-search-toggle"
    })), /*#__PURE__*/external_React_default().createElement("span", {
      className: "divider",
      role: "separator"
    }))), /*#__PURE__*/external_React_default().createElement("div", {
      className: "settings-toggles"
    }, !mayHaveWidgets && mayHaveWeather && /*#__PURE__*/external_React_default().createElement("div", {
      id: "weather-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "weather-toggle",
      pressed: weatherEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "showWeather",
      "data-eventSource": "WEATHER",
      "data-l10n-id": "newtab-custom-weather-toggle"
    })), !mayHaveWidgets && mayHaveTrendingSearch && /*#__PURE__*/external_React_default().createElement("div", {
      id: "trending-search-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "trending-search-toggle",
      pressed: trendingSearchEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "trendingSearch.enabled",
      "data-eventSource": "TRENDING_SEARCH",
      "data-l10n-id": "newtab-custom-trending-search-toggle"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      id: "shortcuts-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "shortcuts-toggle",
      pressed: topSitesEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "feeds.topsites",
      "data-eventSource": "TOP_SITES",
      "data-l10n-id": "newtab-custom-shortcuts-toggle"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      slot: "nested"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-info-top-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-information",
      ref: this.topSitesDrawerRef
    }, /*#__PURE__*/external_React_default().createElement("select", {
      id: "row-selector",
      className: "selector",
      name: "row-count",
      "data-preference": "topSitesRows",
      value: topSitesRowsCount,
      onChange: this.onPreferenceSelect,
      disabled: !topSitesEnabled,
      "aria-labelledby": "custom-shortcuts-title"
    }, /*#__PURE__*/external_React_default().createElement("option", {
      value: "1",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 1}"
    }), /*#__PURE__*/external_React_default().createElement("option", {
      value: "2",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 2}"
    }), /*#__PURE__*/external_React_default().createElement("option", {
      value: "3",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 3}"
    }), /*#__PURE__*/external_React_default().createElement("option", {
      value: "4",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 4}"
    }))))))), pocketRegion && /*#__PURE__*/external_React_default().createElement("div", {
      id: "pocket-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", ContentSection_extends({
      id: "pocket-toggle",
      pressed: pocketEnabled || null,
      onToggle: this.onPreferenceSelect,
      "aria-describedby": "custom-pocket-subtitle",
      "data-preference": "feeds.section.topstories",
      "data-eventSource": "TOP_STORIES"
    }, mayHaveInferredPersonalization ? {
      "data-l10n-id": "newtab-custom-stories-personalized-toggle"
    } : {
      "data-l10n-id": "newtab-custom-stories-toggle"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      slot: "nested"
    }, (mayHaveInferredPersonalization || mayHaveTopicSections) && /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-info-pocket-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-information",
      ref: this.pocketDrawerRef
    }, mayHaveInferredPersonalization && /*#__PURE__*/external_React_default().createElement("div", {
      className: "check-wrapper",
      role: "presentation"
    }, /*#__PURE__*/external_React_default().createElement("input", {
      id: "inferred-personalization",
      className: "customize-menu-checkbox",
      disabled: !pocketEnabled,
      checked: showInferredPersonalizationEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      "data-preference": "discoverystream.sections.personalization.inferred.user.enabled",
      "data-eventSource": "INFERRED_PERSONALIZATION"
    }), /*#__PURE__*/external_React_default().createElement("label", {
      className: "customize-menu-checkbox-label",
      htmlFor: "inferred-personalization",
      "data-l10n-id": "newtab-custom-stories-personalized-checkbox-label"
    })), mayHaveTopicSections && /*#__PURE__*/external_React_default().createElement(SectionsMgmtPanel, {
      exitEventFired: exitEventFired
    }))))))), /*#__PURE__*/external_React_default().createElement("span", {
      className: "divider",
      role: "separator"
    }), /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("button", {
      id: "settings-link",
      className: "external-link",
      onClick: openPreferences,
      "data-l10n-id": "newtab-custom-settings"
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/CustomizeMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




// eslint-disable-next-line no-shadow

class _CustomizeMenu extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onEntered = this.onEntered.bind(this);
    this.onExited = this.onExited.bind(this);
    this.state = {
      exitEventFired: false
    };
  }
  onEntered() {
    this.setState({
      exitEventFired: false
    });
    if (this.closeButton) {
      this.closeButton.focus();
    }
  }
  onExited() {
    this.setState({
      exitEventFired: true
    });
    if (this.openButton) {
      this.openButton.focus();
    }
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("span", null, /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      timeout: 300,
      classNames: "personalize-animate",
      in: !this.props.showing,
      appear: true
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "personalize-button",
      "data-l10n-id": "newtab-customize-panel-icon-button",
      onClick: () => this.props.onOpen(),
      onKeyDown: e => {
        if (e.key === "Enter") {
          this.props.onOpen();
        }
      },
      ref: c => this.openButton = c
    }, /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("img", {
      role: "presentation",
      src: "chrome://global/skin/icons/edit-outline.svg"
    })), /*#__PURE__*/external_React_default().createElement("label", {
      "data-l10n-id": "newtab-customize-panel-icon-button-label"
    }))), /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      timeout: 250,
      classNames: "customize-animate",
      in: this.props.showing,
      onEntered: this.onEntered,
      onExited: this.onExited,
      appear: true
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "customize-menu",
      role: "dialog",
      "data-l10n-id": "newtab-settings-dialog-label"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "close-button-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      onClick: () => this.props.onClose(),
      id: "close-button",
      type: "icon ghost",
      "data-l10n-id": "newtab-custom-close-menu-button",
      iconsrc: "chrome://global/skin/icons/close.svg",
      ref: c => this.closeButton = c
    })), /*#__PURE__*/external_React_default().createElement(ContentSection, {
      openPreferences: this.props.openPreferences,
      setPref: this.props.setPref,
      enabledSections: this.props.enabledSections,
      enabledWidgets: this.props.enabledWidgets,
      wallpapersEnabled: this.props.wallpapersEnabled,
      activeWallpaper: this.props.activeWallpaper,
      pocketRegion: this.props.pocketRegion,
      mayHaveTopicSections: this.props.mayHaveTopicSections,
      mayHaveInferredPersonalization: this.props.mayHaveInferredPersonalization,
      mayHaveWeather: this.props.mayHaveWeather,
      mayHaveTrendingSearch: this.props.mayHaveTrendingSearch,
      mayHaveWidgets: this.props.mayHaveWidgets,
      mayHaveTimerWidget: this.props.mayHaveTimerWidget,
      mayHaveListsWidget: this.props.mayHaveListsWidget,
      dispatch: this.props.dispatch,
      exitEventFired: this.state.exitEventFired
    }))));
  }
}
const CustomizeMenu = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  DiscoveryStream: state.DiscoveryStream
}))(_CustomizeMenu);
;// CONCATENATED MODULE: ./content-src/lib/constants.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const IS_NEWTAB =
  globalThis.document && globalThis.document.documentURI === "about:newtab";
const NEWTAB_DARK_THEME = {
  ntp_background: {
    r: 42,
    g: 42,
    b: 46,
    a: 1,
  },
  ntp_card_background: {
    r: 66,
    g: 65,
    b: 77,
    a: 1,
  },
  ntp_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1,
  },
  sidebar: {
    r: 56,
    g: 56,
    b: 61,
    a: 1,
  },
  sidebar_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1,
  },
};

;// CONCATENATED MODULE: ./content-src/components/Logo/Logo.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function Logo() {
  return /*#__PURE__*/external_React_default().createElement("h1", {
    className: "logo-and-wordmark-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "logo-and-wordmark",
    role: "img",
    "data-l10n-id": "newtab-logo-and-wordmark"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "logo"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "wordmark"
  })));
}

;// CONCATENATED MODULE: ./content-src/components/Search/Search.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* globals ContentSearchUIController, ContentSearchHandoffUIController */







class _Search extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onSearchClick = this.onSearchClick.bind(this);
    this.onSearchHandoffClick = this.onSearchHandoffClick.bind(this);
    this.onSearchHandoffPaste = this.onSearchHandoffPaste.bind(this);
    this.onSearchHandoffDrop = this.onSearchHandoffDrop.bind(this);
    this.onInputMount = this.onInputMount.bind(this);
    this.onInputMountHandoff = this.onInputMountHandoff.bind(this);
    this.onSearchHandoffButtonMount = this.onSearchHandoffButtonMount.bind(this);
  }
  handleEvent(event) {
    // Also track search events with our own telemetry
    if (event.detail.type === "Search") {
      this.props.dispatch(actionCreators.UserEvent({
        event: "SEARCH"
      }));
    }
  }
  onSearchClick(event) {
    window.gContentSearchController.search(event);
  }
  doSearchHandoff(text) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.HANDOFF_SEARCH_TO_AWESOMEBAR,
      data: {
        text
      }
    }));
    this.props.dispatch({
      type: actionTypes.FAKE_FOCUS_SEARCH
    });
    this.props.dispatch(actionCreators.UserEvent({
      event: "SEARCH_HANDOFF"
    }));
    if (text) {
      this.props.dispatch({
        type: actionTypes.DISABLE_SEARCH
      });
    }
  }
  onSearchHandoffClick(event) {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    event.preventDefault();
    this.doSearchHandoff();
  }
  onSearchHandoffPaste(event) {
    event.preventDefault();
    this.doSearchHandoff(event.clipboardData.getData("Text"));
  }
  onSearchHandoffDrop(event) {
    event.preventDefault();
    let text = event.dataTransfer.getData("text");
    if (text) {
      this.doSearchHandoff(text);
    }
  }
  componentDidMount() {
    const caret = this.fakeCaret;
    const {
      caretBlinkCount,
      caretBlinkTime
    } = this.props.Prefs.values;
    if (caret) {
      // If caret blink count isn't defined, use the default infinite behavior for animation
      caret.style.setProperty("--caret-blink-count", caretBlinkCount > -1 ? caretBlinkCount : "infinite");

      // Apply custom blink rate if set, else fallback to default (567ms on/off --> 1134ms total)
      caret.style.setProperty("--caret-blink-time", caretBlinkTime > 0 ? `${caretBlinkTime * 2}ms` : `${1134}ms`);
    }
  }
  componentWillUnmount() {
    delete window.gContentSearchController;
  }
  onInputMount(input) {
    if (input) {
      // The "healthReportKey" and needs to be "newtab" or "abouthome" so that
      // BrowserUsageTelemetry.sys.mjs knows to handle events with this name, and
      // can add the appropriate telemetry probes for search. Without the correct
      // name, certain tests like browser_UsageTelemetry_content.js will fail
      // (See github ticket #2348 for more details)
      const healthReportKey = IS_NEWTAB ? "newtab" : "abouthome";

      // gContentSearchController needs to exist as a global so that tests for
      // the existing about:home can find it; and so it allows these tests to pass.
      // In the future, when activity stream is default about:home, this can be renamed
      window.gContentSearchController = new ContentSearchUIController(input, input.parentNode, healthReportKey);
      addEventListener("ContentSearchClient", this);
    } else {
      window.gContentSearchController = null;
      removeEventListener("ContentSearchClient", this);
    }
  }
  onInputMountHandoff(input) {
    if (input) {
      // The handoff UI controller helps us set the search icon and reacts to
      // changes to default engine to keep everything in sync.
      this._handoffSearchController = new ContentSearchHandoffUIController();
    }
  }
  onSearchHandoffButtonMount(button) {
    // Keep a reference to the button for use during "paste" event handling.
    this._searchHandoffButton = button;
  }

  /*
   * Do not change the ID on the input field, as legacy newtab code
   * specifically looks for the id 'newtab-search-text' on input fields
   * in order to execute searches in various tests
   */
  render() {
    const wrapperClassName = ["search-wrapper", this.props.disable && "search-disabled", this.props.fakeFocus && "fake-focus"].filter(v => v).join(" ");
    const prefs = this.props.Prefs.values;
    const trendingSearchEnabled = prefs["trendingSearch.enabled"] && prefs["system.trendingSearch.enabled"] && prefs["trendingSearch.defaultSearchEngine"]?.toLowerCase() === "google";
    const trendingSearchVariant = this.props.Prefs.values["trendingSearch.variant"];
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
      className: wrapperClassName
    }, this.props.showLogo && /*#__PURE__*/external_React_default().createElement(Logo, null), !this.props.handoffEnabled && /*#__PURE__*/external_React_default().createElement("div", {
      className: "search-inner-wrapper no-handoff"
    }, /*#__PURE__*/external_React_default().createElement("input", {
      id: "newtab-search-text",
      "data-l10n-id": "newtab-search-box-input",
      maxLength: "256",
      ref: this.onInputMount,
      type: "search"
    }), /*#__PURE__*/external_React_default().createElement("button", {
      id: "searchSubmit",
      className: "search-button",
      "data-l10n-id": "newtab-search-box-search-button",
      onClick: this.onSearchClick
    }), trendingSearchEnabled && (trendingSearchVariant === "a" || trendingSearchVariant === "c") && /*#__PURE__*/external_React_default().createElement(TrendingSearches, null)), this.props.handoffEnabled && /*#__PURE__*/external_React_default().createElement("div", {
      className: "search-inner-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "search-handoff-button",
      ref: this.onSearchHandoffButtonMount,
      onClick: this.onSearchHandoffClick,
      tabIndex: "-1"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "fake-textbox"
    }), /*#__PURE__*/external_React_default().createElement("input", {
      type: "search",
      className: "fake-editable",
      tabIndex: "-1",
      "aria-hidden": "true",
      onDrop: this.onSearchHandoffDrop,
      onPaste: this.onSearchHandoffPaste,
      ref: this.onInputMountHandoff
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "fake-caret",
      ref: el => {
        this.fakeCaret = el;
      }
    })), trendingSearchEnabled && (trendingSearchVariant === "a" || trendingSearchVariant === "c") && /*#__PURE__*/external_React_default().createElement(TrendingSearches, null))));
  }
}
const Search_Search = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_Search);
;// CONCATENATED MODULE: ./content-src/components/DownloadModalToggle/DownloadModalToggle.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function DownloadModalToggle({
  onClick,
  isActive
}) {
  return /*#__PURE__*/external_React_default().createElement("button", {
    className: `mobile-download-promo ${isActive ? " is-active" : ""}`,
    onClick: onClick
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "icon icon-device-phone"
  }));
}

;// CONCATENATED MODULE: ./content-src/components/Notifications/Toasts/ThumbUpThumbDownToast.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function ThumbUpThumbDownToast({
  onDismissClick,
  onAnimationEnd
}) {
  const mozMessageBarRef = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    const {
      current: mozMessageBarElement
    } = mozMessageBarRef;
    mozMessageBarElement.addEventListener("message-bar:user-dismissed", onDismissClick, {
      once: true
    });
    return () => {
      mozMessageBarElement.removeEventListener("message-bar:user-dismissed", onDismissClick);
    };
  }, [onDismissClick]);
  return /*#__PURE__*/external_React_default().createElement("moz-message-bar", {
    type: "success",
    class: "notification-feed-item",
    dismissable: true,
    "data-l10n-id": "newtab-toast-thumbs-up-or-down2",
    ref: mozMessageBarRef,
    onAnimationEnd: onAnimationEnd
  });
}

;// CONCATENATED MODULE: ./content-src/components/Notifications/Toasts/ReportContentToast.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function ReportContentToast({
  onDismissClick,
  onAnimationEnd
}) {
  const mozMessageBarRef = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    const {
      current: mozMessageBarElement
    } = mozMessageBarRef;
    mozMessageBarElement.addEventListener("message-bar:user-dismissed", onDismissClick, {
      once: true
    });
    return () => {
      mozMessageBarElement.removeEventListener("message-bar:user-dismissed", onDismissClick);
    };
  }, [onDismissClick]);
  return /*#__PURE__*/external_React_default().createElement("moz-message-bar", {
    type: "success",
    class: "notification-feed-item",
    dismissable: true,
    "data-l10n-id": "newtab-toast-thanks-for-reporting",
    ref: mozMessageBarRef,
    onAnimationEnd: onAnimationEnd
  });
}

;// CONCATENATED MODULE: ./content-src/components/Notifications/Notifications.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






function Notifications_Notifications({
  dispatch
}) {
  const toastQueue = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Notifications.toastQueue);
  const toastCounter = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Notifications.toastCounter);

  /**
   * Syncs {@link toastQueue} array so it can be used to
   * remove the toasts wrapper if there are none after a
   * toast is auto-hidden (animated out) via CSS.
   */
  const syncHiddenToastData = (0,external_React_namespaceObject.useCallback)(() => {
    const toastId = toastQueue[toastQueue.length - 1];
    const queuedToasts = [...toastQueue].slice(1);
    dispatch(actionCreators.OnlyToOneContent({
      type: actionTypes.HIDE_TOAST_MESSAGE,
      data: {
        toastQueue: queuedToasts,
        toastCounter: queuedToasts.length,
        toastId,
        showNotifications: false
      }
    }, "ActivityStream:Content"));
  }, [dispatch, toastQueue]);
  const getToast = (0,external_React_namespaceObject.useCallback)(() => {
    // Note: This architecture could expand to support multiple toast notifications at once
    const latestToastItem = toastQueue[toastQueue.length - 1];
    if (!latestToastItem) {
      throw new Error("No toast found");
    }
    switch (latestToastItem) {
      case "reportSuccessToast":
        return /*#__PURE__*/external_React_default().createElement(ReportContentToast, {
          onDismissClick: syncHiddenToastData,
          onAnimationEnd: syncHiddenToastData,
          key: toastCounter
        });
      case "thumbsUpToast":
      case "thumbsDownToast":
        return /*#__PURE__*/external_React_default().createElement(ThumbUpThumbDownToast, {
          onDismissClick: syncHiddenToastData,
          onAnimationEnd: syncHiddenToastData,
          key: toastCounter
        });
      default:
        throw new Error(`Unexpected toast type: ${latestToastItem}`);
    }
  }, [syncHiddenToastData, toastCounter, toastQueue]);
  (0,external_React_namespaceObject.useEffect)(() => {
    getToast();
  }, [toastQueue, getToast]);
  return toastQueue.length ? /*#__PURE__*/external_React_default().createElement("div", {
    className: "notification-wrapper"
  }, getToast()) : "";
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/TopicSelection/TopicSelection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const EMOJI_LABELS = {
  business: "",
  arts: "",
  food: "",
  health: "",
  finance: "",
  government: "",
  sports: "",
  tech: "",
  travel: "",
  "education-science": "",
  society: ""
};
function TopicSelection({
  supportUrl
}) {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const inputRef = (0,external_React_namespaceObject.useRef)(null);
  const modalRef = (0,external_React_namespaceObject.useRef)(null);
  const checkboxWrapperRef = (0,external_React_namespaceObject.useRef)(null);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const topics = prefs["discoverystream.topicSelection.topics"].split(", ");
  const selectedTopics = prefs["discoverystream.topicSelection.selectedTopics"];
  const suggestedTopics = prefs["discoverystream.topicSelection.suggestedTopics"]?.split(", ");
  const displayCount = prefs["discoverystream.topicSelection.onboarding.displayCount"];
  const topicsHaveBeenPreviouslySet = prefs["discoverystream.topicSelection.hasBeenUpdatedPreviously"];
  const [isFirstRun] = (0,external_React_namespaceObject.useState)(displayCount === 0);
  const displayCountRef = (0,external_React_namespaceObject.useRef)(displayCount);
  const preselectedTopics = () => {
    if (selectedTopics) {
      return selectedTopics.split(", ");
    }
    return isFirstRun ? suggestedTopics : [];
  };
  const [topicsToSelect, setTopicsToSelect] = (0,external_React_namespaceObject.useState)(preselectedTopics);
  function isFirstSave() {
    // Only return true if the user has not previous set prefs
    // and the selected topics pref is empty
    if (selectedTopics === "" && !topicsHaveBeenPreviouslySet) {
      return true;
    }
    return false;
  }
  function handleModalClose() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.TOPIC_SELECTION_USER_DISMISS
    }));
    dispatch(actionCreators.BroadcastToContent({
      type: actionTypes.TOPIC_SELECTION_SPOTLIGHT_CLOSE
    }));
  }
  function handleUserClose(e) {
    const id = e?.target?.id;
    if (id === "first-run") {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.TOPIC_SELECTION_MAYBE_LATER
      }));
      dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", true));
    } else {
      dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
    }
    handleModalClose();
  }

  // By doing this, the useEffect that sets up the IntersectionObserver
  // will not re-run every time displayCount changes,
  // but the observer callback will always have access
  // to the latest displayCount value through the ref.
  (0,external_React_namespaceObject.useEffect)(() => {
    displayCountRef.current = displayCount;
  }, [displayCount]);
  (0,external_React_namespaceObject.useEffect)(() => {
    const {
      current
    } = modalRef;
    let observer;
    if (current) {
      observer = new IntersectionObserver(([entry]) => {
        if (entry.isIntersecting) {
          // if the user has seen the modal more than 3 times,
          // automatically remove them from onboarding
          if (displayCountRef.current > 3) {
            dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
          }
          observer.unobserve(modalRef.current);
          dispatch(actionCreators.AlsoToMain({
            type: actionTypes.TOPIC_SELECTION_IMPRESSION
          }));
        }
      });
      observer.observe(current);
    }
    return () => {
      if (current) {
        observer.unobserve(current);
      }
    };
  }, [modalRef, dispatch]);

  // when component mounts, set focus to input
  (0,external_React_namespaceObject.useEffect)(() => {
    inputRef?.current?.focus();
  }, [inputRef]);
  const handleFocus = (0,external_React_namespaceObject.useCallback)(e => {
    // this list will have to be updated with other reusable components that get used inside of this modal
    const tabbableElements = modalRef.current.querySelectorAll('a[href], button, moz-button, input[tabindex="0"]');
    const [firstTabableEl] = tabbableElements;
    const lastTabbableEl = tabbableElements[tabbableElements.length - 1];
    let isTabPressed = e.key === "Tab" || e.keyCode === 9;
    let isArrowPressed = e.key === "ArrowUp" || e.key === "ArrowDown";
    if (isTabPressed) {
      if (e.shiftKey) {
        if (document.activeElement === firstTabableEl) {
          lastTabbableEl.focus();
          e.preventDefault();
        }
      } else if (document.activeElement === lastTabbableEl) {
        firstTabableEl.focus();
        e.preventDefault();
      }
    } else if (isArrowPressed && checkboxWrapperRef.current.contains(document.activeElement)) {
      const checkboxElements = checkboxWrapperRef.current.querySelectorAll("input");
      const [firstInput] = checkboxElements;
      const lastInput = checkboxElements[checkboxElements.length - 1];
      const inputArr = Array.from(checkboxElements);
      const currentIndex = inputArr.indexOf(document.activeElement);
      let nextEl;
      if (e.key === "ArrowUp") {
        nextEl = document.activeElement === firstInput ? lastInput : checkboxElements[currentIndex - 1];
      } else if (e.key === "ArrowDown") {
        nextEl = document.activeElement === lastInput ? firstInput : checkboxElements[currentIndex + 1];
      }
      nextEl.tabIndex = 0;
      document.activeElement.tabIndex = -1;
      nextEl.focus();
    }
  }, []);
  (0,external_React_namespaceObject.useEffect)(() => {
    const ref = modalRef.current;
    ref.addEventListener("keydown", handleFocus);
    inputRef.current.tabIndex = 0;
    return () => {
      ref.removeEventListener("keydown", handleFocus);
    };
  }, [handleFocus]);
  function handleChange(e) {
    const topic = e.target.name;
    const isChecked = e.target.checked;
    if (isChecked) {
      setTopicsToSelect([...topicsToSelect, topic]);
    } else {
      const updatedTopics = topicsToSelect.filter(t => t !== topic);
      setTopicsToSelect(updatedTopics);
    }
  }
  function handleSubmit() {
    const topicsString = topicsToSelect.join(", ");
    dispatch(actionCreators.SetPref("discoverystream.topicSelection.selectedTopics", topicsString));
    dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
    if (!topicsHaveBeenPreviouslySet) {
      dispatch(actionCreators.SetPref("discoverystream.topicSelection.hasBeenUpdatedPreviously", true));
    }
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.TOPIC_SELECTION_USER_SAVE,
      data: {
        topics: topicsString,
        previous_topics: selectedTopics,
        first_save: isFirstSave()
      }
    }));
    handleModalClose();
  }
  return /*#__PURE__*/external_React_default().createElement(ModalOverlayWrapper, {
    onClose: handleUserClose,
    innerClassName: "topic-selection-container"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "topic-selection-form",
    ref: modalRef
  }, /*#__PURE__*/external_React_default().createElement("button", {
    className: "dismiss-button",
    title: "dismiss",
    onClick: handleUserClose
  }), /*#__PURE__*/external_React_default().createElement("h1", {
    className: "title",
    "data-l10n-id": "newtab-topic-selection-title"
  }), /*#__PURE__*/external_React_default().createElement("p", {
    className: "subtitle",
    "data-l10n-id": "newtab-topic-selection-subtitle"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "topic-list",
    ref: checkboxWrapperRef
  }, topics.map((topic, i) => {
    const checked = topicsToSelect.includes(topic);
    return /*#__PURE__*/external_React_default().createElement("label", {
      className: `topic-item`,
      key: topic
    }, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      id: topic,
      name: topic,
      ref: i === 0 ? inputRef : null,
      onChange: handleChange,
      checked: checked,
      "aria-checked": checked,
      tabIndex: -1
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: `topic-custom-checkbox`
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-icon"
    }, EMOJI_LABELS[`${topic}`]), /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-checked"
    })), /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-item-label",
      "data-l10n-id": `newtab-topic-label-${topic}`
    }));
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "modal-footer"
  }, /*#__PURE__*/external_React_default().createElement("a", {
    href: supportUrl,
    "data-l10n-id": "newtab-topic-selection-privacy-link"
  }), /*#__PURE__*/external_React_default().createElement("moz-button-group", {
    className: "button-group"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    id: isFirstRun ? "first-run" : "",
    "data-l10n-id": isFirstRun ? "newtab-topic-selection-button-maybe-later" : "newtab-topic-selection-cancel-button",
    onClick: handleUserClose
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    "data-l10n-id": "newtab-topic-selection-save-button",
    type: "primary",
    onClick: handleSubmit
  })))));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/DownloadMobilePromoHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_A = "mobileDownloadModal.variant-a";
const PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_B = "mobileDownloadModal.variant-b";
const PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_C = "mobileDownloadModal.variant-c";
const FEATURE_ID = "FEATURE_DOWNLOAD_MOBILE_PROMO";
function DownloadMobilePromoHighlight({
  position,
  dispatch,
  handleDismiss,
  handleBlock,
  isIntersecting
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    // This event is emitted manually because the feature may be triggered outside the OMC flow,
    // and may not be captured by the messaging-systems automatic reporting.
    dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "FEATURE_HIGHLIGHT_DISMISS",
      source: "FEATURE_HIGHLIGHT",
      value: {
        feature: FEATURE_ID
      }
    }));
    handleDismiss();
    handleBlock();
  }, [dispatch, handleDismiss, handleBlock]);
  (0,external_React_namespaceObject.useEffect)(() => {
    if (isIntersecting) {
      // This event is emitted manually because the feature may be triggered outside the OMC flow,
      // and may not be captured by the messaging-systems automatic reporting.
      dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "FEATURE_HIGHLIGHT_IMPRESSION",
        source: "FEATURE_HIGHLIGHT",
        value: {
          feature: FEATURE_ID
        }
      }));
    }
  }, [dispatch, isIntersecting]);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const mobileDownloadPromoVarA = prefs[PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_A];
  const mobileDownloadPromoVarB = prefs[PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_B];
  const mobileDownloadPromoVarC = prefs[PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_C];
  function getActiveVariant() {
    if (mobileDownloadPromoVarA) {
      return "A";
    }
    if (mobileDownloadPromoVarB) {
      return "B";
    }
    if (mobileDownloadPromoVarC) {
      return "C";
    }
    return null;
  }
  function getVariantQRCodeImg() {
    const variant = getActiveVariant();
    switch (variant) {
      case "A":
        return "chrome://newtab/content/data/content/assets/download-qr-code-var-a.png";
      case "B":
        return "chrome://newtab/content/data/content/assets/download-qr-code-var-b.png";
      case "C":
        return "chrome://newtab/content/data/content/assets/download-qr-code-var-c.png";
      default:
        return null;
    }
  }
  function getVariantCopy() {
    const variant = getActiveVariant();
    switch (variant) {
      case "A":
        return "newtab-download-mobile-highlight-body-variant-a";
      case "B":
        return "newtab-download-mobile-highlight-body-variant-b";
      case "C":
        return "newtab-download-mobile-highlight-body-variant-c";
      default:
        return null;
    }
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "download-firefox-feature-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    feature: FEATURE_ID,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "download-firefox-feature-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: getVariantQRCodeImg(),
      "data-l10n-id": "newtab-download-mobile-highlight-image",
      width: "120",
      height: "191",
      alt: ""
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": "newtab-download-mobile-highlight-title"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": getVariantCopy()
    })),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/WallpaperFeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





function WallpaperFeatureHighlight({
  position,
  dispatch,
  handleDismiss,
  handleClick,
  handleBlock
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  const onToggleClick = (0,external_React_namespaceObject.useCallback)(elementId => {
    dispatch({
      type: actionTypes.SHOW_PERSONALIZE
    });
    dispatch(actionCreators.UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
    handleClick(elementId);
    onDismiss();
  }, [dispatch, onDismiss, handleClick]);

  // Extract the strings and feature ID from OMC
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "wallpaper-feature-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    "data-l10n-id": "feature-highlight-wallpaper",
    feature: messageData.content.feature,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "wallpaper-feature-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: "chrome://newtab/content/data/content/assets/custom-wp-highlight.png",
      alt: "",
      width: "320",
      height: "195"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": messageData.content.title
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": messageData.content.subtitle
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "button-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      type: "default",
      onClick: () => onToggleClick("open-customize-menu"),
      "data-l10n-id": messageData.content.cta
    }))),
    toggle: /*#__PURE__*/external_React_default().createElement("div", {
      className: "icon icon-help"
    }),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/Base/Base.jsx
function Base_extends() { return Base_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Base_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




















const Base_VISIBLE = "visible";
const Base_VISIBILITY_CHANGE_EVENT = "visibilitychange";
const PREF_INFERRED_PERSONALIZATION_SYSTEM = "discoverystream.sections.personalization.inferred.enabled";
const Base_PREF_INFERRED_PERSONALIZATION_USER = "discoverystream.sections.personalization.inferred.user.enabled";

// Returns a function will not be continuously triggered when called. The
// function will be triggered if called again after `wait` milliseconds.
function Base_debounce(func, wait) {
  let timer;
  return (...args) => {
    if (timer) {
      return;
    }
    let wakeUp = () => {
      timer = null;
    };
    timer = setTimeout(wakeUp, wait);
    func.apply(this, args);
  };
}
class _Base extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      message: {}
    };
    this.notifyContent = this.notifyContent.bind(this);
  }
  notifyContent(state) {
    this.setState(state);
  }
  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const isDevtoolsEnabled = props.Prefs.values["asrouter.devtoolsEnabled"];
    if (!App.initialized) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement(ErrorBoundary, {
      className: "base-content-fallback"
    }, /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement(BaseContent, Base_extends({}, this.props, {
      adminContent: this.state
    })), isDevtoolsEnabled ? /*#__PURE__*/external_React_default().createElement(DiscoveryStreamAdmin, {
      notifyContent: this.notifyContent
    }) : null));
  }
}
class BaseContent extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.openPreferences = this.openPreferences.bind(this);
    this.openCustomizationMenu = this.openCustomizationMenu.bind(this);
    this.closeCustomizationMenu = this.closeCustomizationMenu.bind(this);
    this.handleOnKeyDown = this.handleOnKeyDown.bind(this);
    this.onWindowScroll = Base_debounce(this.onWindowScroll.bind(this), 5);
    this.setPref = this.setPref.bind(this);
    this.shouldShowOMCHighlight = this.shouldShowOMCHighlight.bind(this);
    this.updateWallpaper = this.updateWallpaper.bind(this);
    this.prefersDarkQuery = null;
    this.handleColorModeChange = this.handleColorModeChange.bind(this);
    this.shouldDisplayTopicSelectionModal = this.shouldDisplayTopicSelectionModal.bind(this);
    this.toggleDownloadHighlight = this.toggleDownloadHighlight.bind(this);
    this.handleDismissDownloadHighlight = this.handleDismissDownloadHighlight.bind(this);
    this.applyBodyClasses = this.applyBodyClasses.bind(this);
    this.state = {
      fixedSearch: false,
      firstVisibleTimestamp: null,
      colorMode: "",
      fixedNavStyle: {},
      wallpaperTheme: "",
      showDownloadHighlightOverride: null
    };
  }
  setFirstVisibleTimestamp() {
    if (!this.state.firstVisibleTimestamp) {
      this.setState({
        firstVisibleTimestamp: Date.now()
      });
    }
  }
  componentDidMount() {
    this.applyBodyClasses();
    __webpack_require__.g.addEventListener("scroll", this.onWindowScroll);
    __webpack_require__.g.addEventListener("keydown", this.handleOnKeyDown);
    const prefs = this.props.Prefs.values;
    const wallpapersEnabled = prefs["newtabWallpapers.enabled"];
    if (this.props.document.visibilityState === Base_VISIBLE) {
      this.setFirstVisibleTimestamp();
      this.shouldDisplayTopicSelectionModal();
    } else {
      this._onVisibilityChange = () => {
        if (this.props.document.visibilityState === Base_VISIBLE) {
          this.setFirstVisibleTimestamp();
          this.shouldDisplayTopicSelectionModal();
          this.props.document.removeEventListener(Base_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
          this._onVisibilityChange = null;
        }
      };
      this.props.document.addEventListener(Base_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
    // track change event to dark/light mode
    this.prefersDarkQuery = globalThis.matchMedia("(prefers-color-scheme: dark)");
    this.prefersDarkQuery.addEventListener("change", this.handleColorModeChange);
    this.handleColorModeChange();
    if (wallpapersEnabled) {
      this.updateWallpaper();
    }
  }
  componentDidUpdate(prevProps) {
    this.applyBodyClasses();
    const prefs = this.props.Prefs.values;

    // Check if weather widget was re-enabled from customization menu
    const wasWeatherDisabled = !prevProps.Prefs.values.showWeather;
    const isWeatherEnabled = this.props.Prefs.values.showWeather;
    if (wasWeatherDisabled && isWeatherEnabled) {
      // If weather widget was enabled from customization menu, display opt-in dialog
      this.props.dispatch(actionCreators.SetPref("weather.optInDisplayed", true));
    }
    const wallpapersEnabled = prefs["newtabWallpapers.enabled"];
    if (wallpapersEnabled) {
      // destructure current and previous props with fallbacks
      // (preventing undefined errors)
      const {
        Wallpapers: {
          uploadedWallpaper = null,
          wallpaperList = null
        } = {}
      } = this.props;
      const {
        Wallpapers: {
          uploadedWallpaper: prevUploadedWallpaper = null,
          wallpaperList: prevWallpaperList = null
        } = {},
        Prefs: {
          values: prevPrefs = {}
        } = {}
      } = prevProps;
      const selectedWallpaper = prefs["newtabWallpapers.wallpaper"];
      const prevSelectedWallpaper = prevPrefs["newtabWallpapers.wallpaper"];
      const uploadedWallpaperTheme = prefs["newtabWallpapers.customWallpaper.theme"];
      const prevUploadedWallpaperTheme = prevPrefs["newtabWallpapers.customWallpaper.theme"];

      // don't update wallpaper unless the wallpaper is being changed.
      if (selectedWallpaper !== prevSelectedWallpaper ||
      // selecting a new wallpaper
      uploadedWallpaper !== prevUploadedWallpaper ||
      // uploading a new wallpaper
      wallpaperList !== prevWallpaperList ||
      // remote settings wallpaper list updates
      this.props.App.isForStartupCache.Wallpaper !== prevProps.App.isForStartupCache.Wallpaper ||
      // Startup cached page wallpaper is updating
      uploadedWallpaperTheme !== prevUploadedWallpaperTheme) {
        this.updateWallpaper();
      }
    }
  }
  handleColorModeChange() {
    const colorMode = this.prefersDarkQuery?.matches ? "dark" : "light";
    if (colorMode !== this.state.colorMode) {
      this.setState({
        colorMode
      });
      this.updateWallpaper();
    }
  }
  componentWillUnmount() {
    this.prefersDarkQuery?.removeEventListener("change", this.handleColorModeChange);
    __webpack_require__.g.removeEventListener("scroll", this.onWindowScroll);
    __webpack_require__.g.removeEventListener("keydown", this.handleOnKeyDown);
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(Base_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  onWindowScroll() {
    if (window.innerHeight <= 700) {
      // Bug 1937296: Only apply fixed-search logic
      // if the page is tall enough to support it.
      return;
    }
    const prefs = this.props.Prefs.values;
    const {
      showSearch
    } = prefs;
    if (!showSearch) {
      // Bug 1944718: Only apply fixed-search logic
      // if search is visible.
      return;
    }
    const logoAlwaysVisible = prefs["logowordmark.alwaysVisible"];

    /* Bug 1917937: The logic presented below is fragile but accurate to the pixel. As new tab experiments with layouts, we have a tech debt of competing styles and classes the slightly modify where the search bar sits on the page. The larger solution for this is to replace everything with an intersection observer, but would require a larger refactor of this file. In the interim, we can programmatically calculate when to fire the fixed-scroll event and account for the moved elements so that topsites/etc stays in the same place. The CSS this references has been flagged to reference this logic so (hopefully) keep them in sync. */

    let SCROLL_THRESHOLD = 0; // When the fixed-scroll event fires
    let MAIN_OFFSET_PADDING = 0; // The padding to compensate for the moved elements

    const CSS_VAR_SPACE_XXLARGE = 32.04; // Custom Acorn themed variable (8 * 0.267rem);

    let layout = {
      outerWrapperPaddingTop: 24,
      searchWrapperPaddingTop: 16,
      searchWrapperPaddingBottom: CSS_VAR_SPACE_XXLARGE,
      searchWrapperFixedScrollPaddingTop: 27,
      searchWrapperFixedScrollPaddingBottom: 27,
      searchInnerWrapperMinHeight: 52,
      logoAndWordmarkWrapperHeight: 0,
      logoAndWordmarkWrapperMarginBottom: 0
    };

    // Logo visibility applies to all layouts
    if (!logoAlwaysVisible) {
      layout.logoAndWordmarkWrapperHeight = 0;
      layout.logoAndWordmarkWrapperMarginBottom = 0;
    }
    SCROLL_THRESHOLD = layout.outerWrapperPaddingTop + layout.searchWrapperPaddingTop + layout.logoAndWordmarkWrapperHeight + layout.logoAndWordmarkWrapperMarginBottom - layout.searchWrapperFixedScrollPaddingTop;
    MAIN_OFFSET_PADDING = layout.searchWrapperPaddingTop + layout.searchWrapperPaddingBottom + layout.searchInnerWrapperMinHeight + layout.logoAndWordmarkWrapperHeight + layout.logoAndWordmarkWrapperMarginBottom;

    // Edge case if logo and thums are turned off, but Var A is enabled
    if (SCROLL_THRESHOLD < 1) {
      SCROLL_THRESHOLD = 1;
    }
    if (__webpack_require__.g.scrollY > SCROLL_THRESHOLD && !this.state.fixedSearch) {
      this.setState({
        fixedSearch: true,
        fixedNavStyle: {
          paddingBlockStart: `${MAIN_OFFSET_PADDING}px`
        }
      });
    } else if (__webpack_require__.g.scrollY <= SCROLL_THRESHOLD && this.state.fixedSearch) {
      this.setState({
        fixedSearch: false,
        fixedNavStyle: {}
      });
    }
  }
  openPreferences() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.SETTINGS_OPEN
    }));
    this.props.dispatch(actionCreators.UserEvent({
      event: "OPEN_NEWTAB_PREFS"
    }));
  }
  openCustomizationMenu() {
    this.props.dispatch({
      type: actionTypes.SHOW_PERSONALIZE
    });
    this.props.dispatch(actionCreators.UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
  }
  closeCustomizationMenu() {
    if (this.props.App.customizeMenuVisible) {
      this.props.dispatch({
        type: actionTypes.HIDE_PERSONALIZE
      });
      this.props.dispatch(actionCreators.UserEvent({
        event: "HIDE_PERSONALIZE"
      }));
    }
  }
  handleOnKeyDown(e) {
    if (e.key === "Escape") {
      this.closeCustomizationMenu();
    }
  }
  setPref(pref, value) {
    this.props.dispatch(actionCreators.SetPref(pref, value));
  }
  applyBodyClasses() {
    const {
      body
    } = this.props.document;
    if (!body) {
      return;
    }
    if (!body.classList.contains("activity-stream")) {
      body.classList.add("activity-stream");
    }
  }
  renderWallpaperAttribution() {
    const {
      wallpaperList
    } = this.props.Wallpapers;
    const activeWallpaper = this.props.Prefs.values[`newtabWallpapers.wallpaper`];
    const selected = wallpaperList.find(wp => wp.title === activeWallpaper);
    // make sure a wallpaper is selected and that the attribution also exists
    if (!selected?.attribution) {
      return null;
    }
    const {
      name: authorDetails,
      webpage
    } = selected.attribution;
    if (activeWallpaper && wallpaperList && authorDetails.url) {
      return /*#__PURE__*/external_React_default().createElement("p", {
        className: `wallpaper-attribution`,
        key: authorDetails.string,
        "data-l10n-id": "newtab-wallpaper-attribution",
        "data-l10n-args": JSON.stringify({
          author_string: authorDetails.string,
          author_url: authorDetails.url,
          webpage_string: webpage.string,
          webpage_url: webpage.url
        })
      }, /*#__PURE__*/external_React_default().createElement("a", {
        "data-l10n-name": "name-link",
        href: authorDetails.url
      }, authorDetails.string), /*#__PURE__*/external_React_default().createElement("a", {
        "data-l10n-name": "webpage-link",
        href: webpage.url
      }, webpage.string));
    }
    return null;
  }
  async updateWallpaper() {
    const prefs = this.props.Prefs.values;
    const selectedWallpaper = prefs["newtabWallpapers.wallpaper"];
    const {
      wallpaperList,
      uploadedWallpaper: uploadedWallpaperUrl
    } = this.props.Wallpapers;
    const uploadedWallpaperTheme = prefs["newtabWallpapers.customWallpaper.theme"];
    // Uuse this.prefersDarkQuery since this.state.colorMode can be undefined when this is called
    const colorMode = this.prefersDarkQuery?.matches ? "dark" : "light";
    let url = "";
    let color = "transparent";
    let newTheme = colorMode;

    // if no selected wallpaper fallback to browser/theme styles
    if (!selectedWallpaper) {
      __webpack_require__.g.document?.body.style.removeProperty("--newtab-wallpaper");
      __webpack_require__.g.document?.body.style.removeProperty("--newtab-wallpaper-color");
      __webpack_require__.g.document?.body.classList.remove("lightWallpaper", "darkWallpaper");
      return;
    }

    // uploaded wallpaper
    if (selectedWallpaper === "custom" && uploadedWallpaperUrl) {
      url = uploadedWallpaperUrl;
      color = "transparent";
      newTheme = uploadedWallpaperTheme || colorMode;
    } else if (wallpaperList) {
      const wallpaper = wallpaperList.find(wp => wp.title === selectedWallpaper);
      // solid color picker
      if (selectedWallpaper.includes("solid-color-picker")) {
        const regexRGB = /#([a-fA-F0-9]{6})/;
        const hex = selectedWallpaper.match(regexRGB)?.[0];
        url = "";
        color = hex;
        const rgbColors = this.getRGBColors(hex);
        newTheme = this.isWallpaperColorDark(rgbColors) ? "dark" : "light";
        // standard wallpaper & solid colors
      } else if (selectedWallpaper) {
        url = wallpaper?.wallpaperUrl || "";
        color = wallpaper?.solid_color || "transparent";
        newTheme = wallpaper?.theme || colorMode;
        // if a solid color, determine if dark or light
        if (wallpaper?.solid_color) {
          const rgbColors = this.getRGBColors(wallpaper.solid_color);
          const isColorDark = this.isWallpaperColorDark(rgbColors);
          newTheme = isColorDark ? "dark" : "light";
        }
      }
    }
    __webpack_require__.g.document?.body.style.setProperty("--newtab-wallpaper", `url(${url})`);
    __webpack_require__.g.document?.body.style.setProperty("--newtab-wallpaper-color", color || "transparent");
    __webpack_require__.g.document?.body.classList.remove("lightWallpaper", "darkWallpaper");
    __webpack_require__.g.document?.body.classList.add(newTheme === "dark" ? "darkWallpaper" : "lightWallpaper");
  }
  shouldShowOMCHighlight(componentId) {
    const messageData = this.props.Messages?.messageData;
    if (!messageData || Object.keys(messageData).length === 0) {
      return false;
    }
    return messageData?.content?.messageType === componentId;
  }
  toggleDownloadHighlight() {
    this.setState(prevState => {
      const override = !(prevState.showDownloadHighlightOverride ?? this.shouldShowOMCHighlight("DownloadMobilePromoHighlight"));
      if (override) {
        // Emit an open event manually since OMC isn't handling it
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "FEATURE_HIGHLIGHT_OPEN",
          source: "FEATURE_HIGHLIGHT",
          value: {
            feature: "FEATURE_DOWNLOAD_MOBILE_PROMO"
          }
        }));
      }
      return {
        showDownloadHighlightOverride: override
      };
    });
  }
  handleDismissDownloadHighlight() {
    this.setState({
      showDownloadHighlightOverride: false
    });
  }
  getRGBColors(input) {
    if (input.length !== 7) {
      return [];
    }
    const r = parseInt(input.substr(1, 2), 16);
    const g = parseInt(input.substr(3, 2), 16);
    const b = parseInt(input.substr(5, 2), 16);
    return [r, g, b];
  }
  isWallpaperColorDark([r, g, b]) {
    return 0.2125 * r + 0.7154 * g + 0.0721 * b <= 110;
  }
  shouldDisplayTopicSelectionModal() {
    const prefs = this.props.Prefs.values;
    const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
    const topicSelectionOnboardingEnabled = prefs["discoverystream.topicSelection.onboarding.enabled"] && pocketEnabled;
    const maybeShowModal = prefs["discoverystream.topicSelection.onboarding.maybeDisplay"];
    const displayTimeout = prefs["discoverystream.topicSelection.onboarding.displayTimeout"];
    const lastDisplayed = prefs["discoverystream.topicSelection.onboarding.lastDisplayed"];
    const displayCount = prefs["discoverystream.topicSelection.onboarding.displayCount"];
    if (!maybeShowModal || !prefs["discoverystream.topicSelection.enabled"] || !topicSelectionOnboardingEnabled) {
      return;
    }
    const day = 24 * 60 * 60 * 1000;
    const now = new Date().getTime();
    const timeoutOccured = now - parseFloat(lastDisplayed) > displayTimeout;
    if (displayCount < 3) {
      if (displayCount === 0 || timeoutOccured) {
        this.props.dispatch(actionCreators.BroadcastToContent({
          type: actionTypes.TOPIC_SELECTION_SPOTLIGHT_OPEN
        }));
        this.setPref("discoverystream.topicSelection.onboarding.displayTimeout", day);
      }
    }
  }

  // eslint-disable-next-line max-statements, complexity
  render() {
    const {
      props
    } = this;
    const {
      App,
      DiscoveryStream
    } = props;
    const {
      initialized,
      customizeMenuVisible
    } = App;
    const prefs = props.Prefs.values;
    const activeWallpaper = prefs[`newtabWallpapers.wallpaper`];
    const wallpapersEnabled = prefs["newtabWallpapers.enabled"];
    const weatherEnabled = prefs.showWeather;
    const {
      showTopicSelection
    } = DiscoveryStream;
    const mayShowTopicSelection = showTopicSelection && prefs["discoverystream.topicSelection.enabled"];
    const isDiscoveryStream = props.DiscoveryStream.config && props.DiscoveryStream.config.enabled;
    let filteredSections = props.Sections.filter(section => section.id !== "topstories");
    const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
    const noSectionsEnabled = !prefs["feeds.topsites"] && !pocketEnabled && filteredSections.filter(section => section.enabled).length === 0;
    const searchHandoffEnabled = prefs["improvesearch.handoffToAwesomebar"];
    const enabledSections = {
      topSitesEnabled: prefs["feeds.topsites"],
      pocketEnabled: prefs["feeds.section.topstories"],
      showInferredPersonalizationEnabled: prefs[Base_PREF_INFERRED_PERSONALIZATION_USER],
      topSitesRowsCount: prefs.topSitesRows,
      weatherEnabled: prefs.showWeather,
      trendingSearchEnabled: prefs["trendingSearch.enabled"]
    };
    const pocketRegion = prefs["feeds.system.topstories"];
    const mayHaveInferredPersonalization = prefs[PREF_INFERRED_PERSONALIZATION_SYSTEM];
    const mayHaveWeather = prefs["system.showWeather"];
    const supportUrl = prefs["support.url"];

    // Weather can be enabled and not rendered in the top right corner
    const shouldDisplayWeather = prefs.showWeather && this.props.weatherPlacement === "header";

    // Widgets experiment pref check
    const nimbusWidgetsEnabled = prefs.widgetsConfig?.enabled;
    const nimbusListsEnabled = prefs.widgetsConfig?.listsEnabled;
    const nimbusTimerEnabled = prefs.widgetsConfig?.timerEnabled;
    const nimbusWidgetsTrainhopEnabled = prefs.trainhopConfig?.widgets?.enabled;
    const nimbusListsTrainhopEnabled = prefs.trainhopConfig?.widgets?.listsEnabled;
    const nimbusTimerTrainhopEnabled = prefs.trainhopConfig?.widgets?.timerEnabled;
    const mayHaveWidgets = prefs["widgets.system.enabled"] || nimbusWidgetsEnabled || nimbusWidgetsTrainhopEnabled;
    const mayHaveListsWidget = prefs["widgets.system.lists.enabled"] || nimbusListsEnabled || nimbusListsTrainhopEnabled;
    const mayHaveTimerWidget = prefs["widgets.system.focusTimer.enabled"] || nimbusTimerEnabled || nimbusTimerTrainhopEnabled;

    // These prefs set the initial values on the Customize panel toggle switches
    const enabledWidgets = {
      listsEnabled: prefs["widgets.lists.enabled"],
      timerEnabled: prefs["widgets.focusTimer.enabled"],
      trendingSearchEnabled: prefs["trendingSearch.enabled"],
      weatherEnabled: prefs.showWeather
    };

    // Trending Searches experiment pref check
    const mayHaveTrendingSearch = prefs["system.trendingSearch.enabled"] && prefs["trendingSearch.defaultSearchEngine"].toLowerCase() === "google";

    // Mobile Download Promo Pref Checks
    const mobileDownloadPromoEnabled = prefs["mobileDownloadModal.enabled"];
    const mobileDownloadPromoVariantAEnabled = prefs["mobileDownloadModal.variant-a"];
    const mobileDownloadPromoVariantBEnabled = prefs["mobileDownloadModal.variant-b"];
    const mobileDownloadPromoVariantCEnabled = prefs["mobileDownloadModal.variant-c"];
    const mobileDownloadPromoVariantABorC = mobileDownloadPromoVariantAEnabled || mobileDownloadPromoVariantBEnabled || mobileDownloadPromoVariantCEnabled;
    const mobileDownloadPromoWrapperHeightModifier = prefs["weather.display"] === "detailed" && weatherEnabled && shouldDisplayWeather && mayHaveWeather ? "is-tall" : "";
    const hasThumbsUpDownLayout = prefs["discoverystream.thumbsUpDown.searchTopsitesCompact"];
    const hasThumbsUpDown = prefs["discoverystream.thumbsUpDown.enabled"];
    const sectionsEnabled = prefs["discoverystream.sections.enabled"];
    const topicLabelsEnabled = prefs["discoverystream.topicLabels.enabled"];
    const sectionsCustomizeMenuPanelEnabled = prefs["discoverystream.sections.customizeMenuPanel.enabled"];
    const sectionsPersonalizationEnabled = prefs["discoverystream.sections.personalization.enabled"];

    // Logic to show follow/block topic mgmt panel in Customize panel
    const mayHavePersonalizedTopicSections = sectionsPersonalizationEnabled && topicLabelsEnabled && sectionsEnabled && sectionsCustomizeMenuPanelEnabled && DiscoveryStream.feeds.loaded;
    const featureClassName = [mobileDownloadPromoEnabled && mobileDownloadPromoVariantABorC && "has-mobile-download-promo",
    // Mobile download promo modal is enabled/visible
    weatherEnabled && mayHaveWeather && shouldDisplayWeather && "has-weather",
    // Weather widget is enabled/visible
    prefs.showSearch ? "has-search" : "no-search",
    // layoutsVariantAEnabled ? "layout-variant-a" : "", // Layout experiment variant A
    // layoutsVariantBEnabled ? "layout-variant-b" : "", // Layout experiment variant B
    pocketEnabled ? "has-recommended-stories" : "no-recommended-stories", sectionsEnabled ? "has-sections-grid" : ""].filter(v => v).join(" ");
    const outerClassName = ["outer-wrapper", isDiscoveryStream && pocketEnabled && "ds-outer-wrapper-search-alignment", isDiscoveryStream && "ds-outer-wrapper-breakpoint-override", prefs.showSearch && this.state.fixedSearch && !noSectionsEnabled && "fixed-search", prefs.showSearch && noSectionsEnabled && "only-search", prefs["feeds.topsites"] && !pocketEnabled && !prefs.showSearch && "only-topsites", noSectionsEnabled && "no-sections", prefs["logowordmark.alwaysVisible"] && "visible-logo", hasThumbsUpDownLayout && hasThumbsUpDown && "thumbs-ui-compact"].filter(v => v).join(" ");

    // If state.showDownloadHighlightOverride has value, let it override the logic
    // Otherwise, defer to OMC message display logic
    const shouldShowDownloadHighlight = this.state.showDownloadHighlightOverride ?? this.shouldShowOMCHighlight("DownloadMobilePromoHighlight");
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: featureClassName
    }, /*#__PURE__*/external_React_default().createElement("menu", {
      className: "personalizeButtonWrapper"
    }, /*#__PURE__*/external_React_default().createElement(CustomizeMenu, {
      onClose: this.closeCustomizationMenu,
      onOpen: this.openCustomizationMenu,
      openPreferences: this.openPreferences,
      setPref: this.setPref,
      enabledSections: enabledSections,
      enabledWidgets: enabledWidgets,
      wallpapersEnabled: wallpapersEnabled,
      activeWallpaper: activeWallpaper,
      pocketRegion: pocketRegion,
      mayHaveTopicSections: mayHavePersonalizedTopicSections,
      mayHaveInferredPersonalization: mayHaveInferredPersonalization,
      mayHaveWeather: mayHaveWeather,
      mayHaveTrendingSearch: mayHaveTrendingSearch,
      mayHaveWidgets: mayHaveWidgets,
      mayHaveTimerWidget: mayHaveTimerWidget,
      mayHaveListsWidget: mayHaveListsWidget,
      showing: customizeMenuVisible
    }), this.shouldShowOMCHighlight("CustomWallpaperHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
      dispatch: this.props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(WallpaperFeatureHighlight, {
      position: "inset-block-start inset-inline-start",
      dispatch: this.props.dispatch
    }))), /*#__PURE__*/external_React_default().createElement("div", {
      className: "weatherWrapper"
    }, shouldDisplayWeather && /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(Weather_Weather, null))), /*#__PURE__*/external_React_default().createElement("div", {
      className: `mobileDownloadPromoWrapper ${mobileDownloadPromoWrapperHeightModifier}`
    }, mobileDownloadPromoEnabled && mobileDownloadPromoVariantABorC && /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(DownloadModalToggle, {
      isActive: shouldShowDownloadHighlight,
      onClick: this.toggleDownloadHighlight
    }), shouldShowDownloadHighlight && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
      hiddenOverride: shouldShowDownloadHighlight,
      onDismiss: this.handleDismissDownloadHighlight,
      dispatch: this.props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(DownloadMobilePromoHighlight, {
      position: `inset-inline-start inset-block-end`,
      dispatch: this.props.dispatch
    })))), /*#__PURE__*/external_React_default().createElement("div", {
      className: outerClassName,
      onClick: this.closeCustomizationMenu
    }, /*#__PURE__*/external_React_default().createElement("main", {
      className: "newtab-main",
      style: this.state.fixedNavStyle
    }, prefs.showSearch && /*#__PURE__*/external_React_default().createElement("div", {
      className: "non-collapsible-section"
    }, /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(Search_Search, Base_extends({
      showLogo: noSectionsEnabled || prefs["logowordmark.alwaysVisible"],
      handoffEnabled: searchHandoffEnabled
    }, props.Search)))), !prefs.showSearch && !noSectionsEnabled && /*#__PURE__*/external_React_default().createElement(Logo, null), /*#__PURE__*/external_React_default().createElement("div", {
      className: `body-wrapper${initialized ? " on" : ""}`
    }, isDiscoveryStream ? /*#__PURE__*/external_React_default().createElement(ErrorBoundary, {
      className: "borderless-error"
    }, /*#__PURE__*/external_React_default().createElement(DiscoveryStreamBase, {
      locale: props.App.locale,
      firstVisibleTimestamp: this.state.firstVisibleTimestamp
    })) : /*#__PURE__*/external_React_default().createElement(Sections_Sections, null)), /*#__PURE__*/external_React_default().createElement(ConfirmDialog, null), wallpapersEnabled && this.renderWallpaperAttribution()), /*#__PURE__*/external_React_default().createElement("aside", null, this.props.Notifications?.showNotifications && /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(Notifications_Notifications, {
      dispatch: this.props.dispatch
    }))), mayShowTopicSelection && pocketEnabled && /*#__PURE__*/external_React_default().createElement(TopicSelection, {
      supportUrl: supportUrl
    })));
  }
}
BaseContent.defaultProps = {
  document: __webpack_require__.g.document
};
const Base = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  Prefs: state.Prefs,
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Messages: state.Messages,
  Notifications: state.Notifications,
  Search: state.Search,
  Wallpapers: state.Wallpapers,
  Weather: state.Weather,
  weatherPlacement: selectWeatherPlacement(state)
}))(_Base);
;// CONCATENATED MODULE: ./content-src/lib/detect-user-session-start.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




const detect_user_session_start_VISIBLE = "visible";
const detect_user_session_start_VISIBILITY_CHANGE_EVENT = "visibilitychange";

class DetectUserSessionStart {
  constructor(store, options = {}) {
    this._store = store;
    // Overrides for testing
    this.document = options.document || globalThis.document;
    this._perfService = options.perfService || perfService;
    this._onVisibilityChange = this._onVisibilityChange.bind(this);
  }

  /**
   * sendEventOrAddListener - Notify immediately if the page is already visible,
   *                    or else set up a listener for when visibility changes.
   *                    This is needed for accurate session tracking for telemetry,
   *                    because tabs are pre-loaded.
   */
  sendEventOrAddListener() {
    if (this.document.visibilityState === detect_user_session_start_VISIBLE) {
      // If the document is already visible, to the user, send a notification
      // immediately that a session has started.
      this._sendEvent();
    } else {
      // If the document is not visible, listen for when it does become visible.
      this.document.addEventListener(
        detect_user_session_start_VISIBILITY_CHANGE_EVENT,
        this._onVisibilityChange
      );
    }
  }

  /**
   * _sendEvent - Sends a message to the main process to indicate the current
   *              tab is now visible to the user, includes the
   *              visibility_event_rcvd_ts time in ms from the UNIX epoch.
   */
  _sendEvent() {
    this._perfService.mark("visibility_event_rcvd_ts");

    try {
      let visibility_event_rcvd_ts =
        this._perfService.getMostRecentAbsMarkStartByName(
          "visibility_event_rcvd_ts"
        );

      this._store.dispatch(
        actionCreators.AlsoToMain({
          type: actionTypes.SAVE_SESSION_PERF_DATA,
          data: {
            visibility_event_rcvd_ts,
            window_inner_width: window.innerWidth,
            window_inner_height: window.innerHeight,
          },
        })
      );
    } catch (ex) {
      // If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up.
    }
  }

  /**
   * _onVisibilityChange - If the visibility has changed to visible, sends a notification
   *                      and removes the event listener. This should only be called once per tab.
   */
  _onVisibilityChange() {
    if (this.document.visibilityState === detect_user_session_start_VISIBLE) {
      this._sendEvent();
      this.document.removeEventListener(
        detect_user_session_start_VISIBILITY_CHANGE_EVENT,
        this._onVisibilityChange
      );
    }
  }
}

;// CONCATENATED MODULE: external "Redux"
const external_Redux_namespaceObject = Redux;
;// CONCATENATED MODULE: ./content-src/lib/init-store.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* eslint-env mozilla/remote-page */


// We disable import checking here as redux is installed via the npm packages
// at the newtab level, rather than in the top-level package.json.
// eslint-disable-next-line import/no-unresolved


const MERGE_STORE_ACTION = "NEW_TAB_INITIAL_STATE";
const OUTGOING_MESSAGE_NAME = "ActivityStream:ContentToMain";
const INCOMING_MESSAGE_NAME = "ActivityStream:MainToContent";

/**
 * A higher-order function which returns a reducer that, on MERGE_STORE action,
 * will return the action.data object merged into the previous state.
 *
 * For all other actions, it merely calls mainReducer.
 *
 * Because we want this to merge the entire state object, it's written as a
 * higher order function which takes the main reducer (itself often a call to
 * combineReducers) as a parameter.
 *
 * @param  {function} mainReducer reducer to call if action != MERGE_STORE_ACTION
 * @return {function}             a reducer that, on MERGE_STORE_ACTION action,
 *                                will return the action.data object merged
 *                                into the previous state, and the result
 *                                of calling mainReducer otherwise.
 */
function mergeStateReducer(mainReducer) {
  return (prevState, action) => {
    if (action.type === MERGE_STORE_ACTION) {
      return { ...prevState, ...action.data };
    }

    return mainReducer(prevState, action);
  };
}

/**
 * messageMiddleware - Middleware that looks for SentToMain type actions, and sends them if necessary
 */
const messageMiddleware = () => next => action => {
  const skipLocal = action.meta && action.meta.skipLocal;
  if (actionUtils.isSendToMain(action)) {
    RPMSendAsyncMessage(OUTGOING_MESSAGE_NAME, action);
  }
  if (!skipLocal) {
    next(action);
  }
};

const rehydrationMiddleware = ({ getState }) => {
  // NB: The parameter here is MiddlewareAPI which looks like a Store and shares
  // the same getState, so attached properties are accessible from the store.
  getState.didRehydrate = false;
  getState.didRequestInitialState = false;
  return next => action => {
    if (getState.didRehydrate || window.__FROM_STARTUP_CACHE__) {
      // Startup messages can be safely ignored by the about:home document
      // stored in the startup cache.
      if (
        window.__FROM_STARTUP_CACHE__ &&
        action.meta &&
        action.meta.isStartup
      ) {
        return null;
      }
      return next(action);
    }

    const isMergeStoreAction = action.type === MERGE_STORE_ACTION;
    const isRehydrationRequest = action.type === actionTypes.NEW_TAB_STATE_REQUEST;

    if (isRehydrationRequest) {
      getState.didRequestInitialState = true;
      return next(action);
    }

    if (isMergeStoreAction) {
      getState.didRehydrate = true;
      return next(action);
    }

    // If init happened after our request was made, we need to re-request
    if (getState.didRequestInitialState && action.type === actionTypes.INIT) {
      return next(actionCreators.AlsoToMain({ type: actionTypes.NEW_TAB_STATE_REQUEST }));
    }

    if (
      actionUtils.isBroadcastToContent(action) ||
      actionUtils.isSendToOneContent(action) ||
      actionUtils.isSendToPreloaded(action)
    ) {
      // Note that actions received before didRehydrate will not be dispatched
      // because this could negatively affect preloading and the the state
      // will be replaced by rehydration anyway.
      return null;
    }

    return next(action);
  };
};

/**
 * initStore - Create a store and listen for incoming actions
 *
 * @param  {object} reducers An object containing Redux reducers
 * @param  {object} intialState (optional) The initial state of the store, if desired
 * @return {object}          A redux store
 */
function initStore(reducers, initialState) {
  const store = (0,external_Redux_namespaceObject.createStore)(
    mergeStateReducer((0,external_Redux_namespaceObject.combineReducers)(reducers)),
    initialState,
    globalThis.RPMAddMessageListener &&
      (0,external_Redux_namespaceObject.applyMiddleware)(rehydrationMiddleware, messageMiddleware)
  );

  if (globalThis.RPMAddMessageListener) {
    globalThis.RPMAddMessageListener(INCOMING_MESSAGE_NAME, msg => {
      try {
        store.dispatch(msg.data);
      } catch (ex) {
        console.error("Content msg:", msg, "Dispatch error: ", ex);
        dump(
          `Content msg: ${JSON.stringify(msg)}\nDispatch error: ${ex}\n${
            ex.stack
          }`
        );
      }
    });
  }

  return store;
}

;// CONCATENATED MODULE: external "ReactDOM"
const external_ReactDOM_namespaceObject = ReactDOM;
var external_ReactDOM_default = /*#__PURE__*/__webpack_require__.n(external_ReactDOM_namespaceObject);
;// CONCATENATED MODULE: ./content-src/activity-stream.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









const NewTab = ({
  store
}) => /*#__PURE__*/external_React_default().createElement(external_ReactRedux_namespaceObject.Provider, {
  store: store
}, /*#__PURE__*/external_React_default().createElement(Base, null));
function doRequestWhenReady() {
  // If this document has already gone into the background by the time we've reached
  // here, we can deprioritize the request until the event loop
  // frees up. If, however, the visibility changes, we then send the request.
  const doRequestPromise = new Promise(resolve => {
    let didRequest = false;
    let requestIdleCallbackId = 0;
    function doRequest() {
      if (!didRequest) {
        if (requestIdleCallbackId) {
          cancelIdleCallback(requestIdleCallbackId);
        }
        didRequest = true;
        resolve();
      }
    }
    if (document.hidden) {
      requestIdleCallbackId = requestIdleCallback(doRequest);
      addEventListener("visibilitychange", doRequest, {
        once: true
      });
    } else {
      resolve();
    }
  });
  return doRequestPromise;
}
function renderWithoutState() {
  const store = initStore(reducers);
  new DetectUserSessionStart(store).sendEventOrAddListener();
  doRequestWhenReady().then(() => {
    // If state events happened before we got here, we can request state again.
    store.dispatch(actionCreators.AlsoToMain({
      type: actionTypes.NEW_TAB_STATE_REQUEST
    }));
    // If we rendered without state, we don't need the startup cache.
    store.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.NEW_TAB_STATE_REQUEST_WITHOUT_STARTUPCACHE
    }));
  });
  external_ReactDOM_default().hydrate(/*#__PURE__*/external_React_default().createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}
function renderCache(initialState) {
  if (initialState) {
    initialState.App.isForStartupCache.App = false;
  }
  const store = initStore(reducers, initialState);
  new DetectUserSessionStart(store).sendEventOrAddListener();
  doRequestWhenReady().then(() => {
    // If state events happened before we got here,
    // we can notify main that we need updates.
    // The individual feeds know what state is not cached.
    store.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.NEW_TAB_STATE_REQUEST_STARTUPCACHE
    }));
  });
  external_ReactDOM_default().hydrate(/*#__PURE__*/external_React_default().createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}
NewtabRenderUtils = __webpack_exports__;
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aXZpdHktc3RyZWFtLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O1VBQUE7VUFDQTs7Ozs7V0NEQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsaUNBQWlDLFdBQVc7V0FDNUM7V0FDQSxFOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0EsRTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLEdBQUc7V0FDSDtXQUNBO1dBQ0EsQ0FBQyxJOzs7OztXQ1BELHdGOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RCxFOzs7Ozs7Ozs7Ozs7Ozs7O0FDTkE7QUFDQTtBQUNBOztBQUVBOztBQUVPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxNQUFNO0FBQ2xCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVksS0FBSztBQUNqQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7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RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVMsZUFBZTtBQUN4QixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBLFNBQVMsV0FBRTtBQUNYO0FBQ0EsU0FBUyxXQUFFO0FBQ1gsZUFBZTtBQUNmLFNBQVMsV0FBRTtBQUNYLGVBQWU7QUFDZixTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsV0FBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxXQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTLFdBQUU7QUFDWCxlQUFlO0FBQ2YsU0FBUyxXQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsV0FBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVMsV0FBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsV0FBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVMsV0FBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FB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LG1DQUFnQixjQUFDdG9FLHNDQUFBLENBQUN3b0UsTUFBTTtJQUFDQyxLQUFLLEVBQUVBO0VBQU0sQ0FBRSxDQUFDLEVBQUV4N0QsUUFBUSxDQUFDbzhELGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3RSxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29tbW9uL0FjdGlvbnMubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL2V4dGVybmFsIHZhciBcIlJlYWN0UmVkdXhcIiIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCB2YXIgXCJSZWFjdFwiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1BZG1pbi9TaW1wbGVIYXNoUm91dGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQWRtaW4vRGlzY292ZXJ5U3RyZWFtQWRtaW4uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db25maXJtRGlhbG9nL0NvbmZpcm1EaWFsb2cuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTSW1hZ2UvRFNJbWFnZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2xpYi9saW5rLW1lbnUtb3B0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTTGlua01lbnUvRFNMaW5rTWVudS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvdXRpbHMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc0NvbnN0YW50cy5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1NhZmVBbmNob3IvU2FmZUFuY2hvci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NhcmQvdHlwZXMubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL2V4dGVybmFsIHZhciBcIlJlYWN0VHJhbnNpdGlvbkdyb3VwXCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTQ29udGV4dEZvb3Rlci9EU0NvbnRleHRGb290ZXIuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTVGh1bWJzVXBEb3duQnV0dG9ucy9EU1RodW1ic1VwRG93bkJ1dHRvbnMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTQ2FyZC9EU0NhcmQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTRW1wdHlTdGF0ZS9EU0VtcHR5U3RhdGUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1RvcGljc1dpZGdldC9Ub3BpY3NXaWRnZXQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0xpc3RGZWVkL0xpc3RGZWVkLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9BZEJhbm5lckNvbnRleHRNZW51L0FkQmFubmVyQ29udGV4dE1lbnUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1Byb21vQ2FyZC9Qcm9tb0NhcmQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0FkQmFubmVyL0FkQmFubmVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9UcmVuZGluZ1NlYXJjaGVzL1RyZW5kaW5nU2VhcmNoZXMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0NhcmRHcmlkL0NhcmRHcmlkLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5L0Vycm9yQm91bmRhcnkuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db2xsYXBzaWJsZVNlY3Rpb24vQ29sbGFwc2libGVTZWN0aW9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU01lc3NhZ2UvRFNNZXNzYWdlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9SZXBvcnRDb250ZW50L1JlcG9ydENvbnRlbnQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTU2lnbnVwL0RTU2lnbnVwLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0Rpc21pc3MvRFNEaXNtaXNzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU1RleHRQcm9tby9EU1RleHRQcm9tby5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlscy5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NhcmQvQ2FyZC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvcGVyZi1zZXJ2aWNlLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50UGVyZlRpbWVyL0NvbXBvbmVudFBlcmZUaW1lci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL01vcmVSZWNvbW1lbmRhdGlvbnMvTW9yZVJlY29tbWVuZGF0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL01vZGFsT3ZlcmxheS9Nb2RhbE92ZXJsYXkuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9TZWFyY2hTaG9ydGN1dHNGb3JtLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uLi8uLi9tb2R1bGVzL0RlZHVwZS5zeXMubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4uLy4uL2NvbXBvbmVudHMvdG9wc2l0ZXMvY29uc3RhbnRzLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbW1vbi9SZWR1Y2Vycy5zeXMubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlRm9ybUlucHV0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvTWVzc2FnZVdyYXBwZXIvTWVzc2FnZVdyYXBwZXIuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvRmVhdHVyZUhpZ2hsaWdodC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRmVhdHVyZUhpZ2hsaWdodC9TaG9ydGN1dEZlYXR1cmVIaWdobGlnaHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZUZvcm0uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlcy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1NlY3Rpb25zL1NlY3Rpb25zLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9IaWdobGlnaHRzL0hpZ2hsaWdodHMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0hvcml6b250YWxSdWxlL0hvcml6b250YWxSdWxlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9OYXZpZ2F0aW9uL05hdmlnYXRpb24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1ByaXZhY3lMaW5rL1ByaXZhY3lMaW5rLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9TZWN0aW9uVGl0bGUvU2VjdGlvblRpdGxlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2xpYi9zZWxlY3RMYXlvdXRSZW5kZXIubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1NlY3Rpb25Db250ZXh0TWVudS9TZWN0aW9uQ29udGV4dE1lbnUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ludGVyZXN0UGlja2VyL0ludGVyZXN0UGlja2VyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9QZXJzb25hbGl6ZWRDYXJkL1BlcnNvbmFsaXplZENhcmQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvRm9sbG93U2VjdGlvbkJ1dHRvbkhpZ2hsaWdodC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1dlYXRoZXIvTG9jYXRpb25TZWFyY2guanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9XZWF0aGVyL1dlYXRoZXIuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0NhcmRTZWN0aW9ucy9DYXJkU2VjdGlvbnMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9XaWRnZXRzL0xpc3RzL0xpc3RzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2lkZ2V0cy9Gb2N1c1RpbWVyL0ZvY3VzVGltZXIuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvV2lkZ2V0c0ZlYXR1cmVIaWdobGlnaHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9XaWRnZXRzL1dpZGdldHMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1CYXNlL0Rpc2NvdmVyeVN0cmVhbUJhc2UuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9DdXN0b21pemVNZW51L1NlY3Rpb25zTWdtdFBhbmVsL1NlY3Rpb25zTWdtdFBhbmVsLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2FsbHBhcGVyQ2F0ZWdvcmllcy9XYWxscGFwZXJDYXRlZ29yaWVzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9Db250ZW50U2VjdGlvbi9Db250ZW50U2VjdGlvbi5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQ3VzdG9taXplTWVudS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvY29uc3RhbnRzLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvTG9nby9Mb2dvLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VhcmNoL1NlYXJjaC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rvd25sb2FkTW9kYWxUb2dnbGUvRG93bmxvYWRNb2RhbFRvZ2dsZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbnMvVG9hc3RzL1RodW1iVXBUaHVtYkRvd25Ub2FzdC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbnMvVG9hc3RzL1JlcG9ydENvbnRlbnRUb2FzdC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL05vdGlmaWNhdGlvbnMvTm90aWZpY2F0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvVG9waWNTZWxlY3Rpb24vVG9waWNTZWxlY3Rpb24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvRG93bmxvYWRNb2JpbGVQcm9tb0hpZ2hsaWdodC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRmVhdHVyZUhpZ2hsaWdodC9XYWxscGFwZXJGZWF0dXJlSGlnaGxpZ2h0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQmFzZS9CYXNlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2xpYi9kZXRlY3QtdXNlci1zZXNzaW9uLXN0YXJ0Lm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCB2YXIgXCJSZWR1eFwiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL2luaXQtc3RvcmUubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL2V4dGVybmFsIHZhciBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9hY3Rpdml0eS1zdHJlYW0uanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8vIFRoaXMgZmlsZSBpcyBhY2Nlc3NlZCBmcm9tIGJvdGggY29udGVudCBhbmQgc3lzdGVtIHNjb3Blcy5cblxuZXhwb3J0IGNvbnN0IE1BSU5fTUVTU0FHRV9UWVBFID0gXCJBY3Rpdml0eVN0cmVhbTpNYWluXCI7XG5leHBvcnQgY29uc3QgQ09OVEVOVF9NRVNTQUdFX1RZUEUgPSBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRcIjtcbmV4cG9ydCBjb25zdCBQUkVMT0FEX01FU1NBR0VfVFlQRSA9IFwiQWN0aXZpdHlTdHJlYW06UHJlbG9hZGVkQnJvd3NlclwiO1xuZXhwb3J0IGNvbnN0IFVJX0NPREUgPSAxO1xuZXhwb3J0IGNvbnN0IEJBQ0tHUk9VTkRfUFJPQ0VTUyA9IDI7XG5cbi8qKlxuICogZ2xvYmFsSW1wb3J0Q29udGV4dCAtIEFyZSB3ZSBpbiBVSSBjb2RlIChpLmUuIHJlYWN0LCBhIGRvbSkgb3Igc29tZSBraW5kIG9mIGJhY2tncm91bmQgcHJvY2Vzcz9cbiAqICAgICAgICAgICAgICAgICAgICAgICBVc2UgdGhpcyBpbiBhY3Rpb24gY3JlYXRvcnMgaWYgeW91IG5lZWQgZGlmZmVyZW50IGxvZ2ljXG4gKiAgICAgICAgICAgICAgICAgICAgICAgZm9yIHVpL2JhY2tncm91bmQgcHJvY2Vzc2VzLlxuICovXG5leHBvcnQgY29uc3QgZ2xvYmFsSW1wb3J0Q29udGV4dCA9XG4gIHR5cGVvZiBXaW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBCQUNLR1JPVU5EX1BST0NFU1MgOiBVSV9DT0RFO1xuXG4vLyBDcmVhdGUgYW4gb2JqZWN0IHRoYXQgYXZvaWRzIGFjY2lkZW50YWwgZGlmZmVyaW5nIGtleS92YWx1ZSBwYWlyczpcbi8vIHtcbi8vICAgSU5JVDogXCJJTklUXCIsXG4vLyAgIFVOSU5JVDogXCJVTklOSVRcIlxuLy8gfVxuZXhwb3J0IGNvbnN0IGFjdGlvblR5cGVzID0ge307XG5cbmZvciAoY29uc3QgdHlwZSBvZiBbXG4gIFwiQUJPVVRfU1BPTlNPUkVEX1RPUF9TSVRFU1wiLFxuICBcIkFERE9OU19JTkZPX1JFUVVFU1RcIixcbiAgXCJBRERPTlNfSU5GT19SRVNQT05TRVwiLFxuICBcIkFEU19GRUVEX1VQREFURVwiLFxuICBcIkFEU19JTklUXCIsXG4gIFwiQURTX1JFU0VUXCIsXG4gIFwiQURTX1VQREFURV9TUE9DU1wiLFxuICBcIkFEU19VUERBVEVfVElMRVNcIixcbiAgXCJCTE9DS19TRUNUSU9OXCIsXG4gIFwiQkxPQ0tfVVJMXCIsXG4gIFwiQk9PS01BUktfVVJMXCIsXG4gIFwiQ0FSRF9TRUNUSU9OX0lNUFJFU1NJT05cIixcbiAgXCJDTEVBUl9QUkVGXCIsXG4gIFwiQ09QWV9ET1dOTE9BRF9MSU5LXCIsXG4gIFwiREVMRVRFX0JPT0tNQVJLX0JZX0lEXCIsXG4gIFwiREVMRVRFX0hJU1RPUllfVVJMXCIsXG4gIFwiRElBTE9HX0NBTkNFTFwiLFxuICBcIkRJQUxPR19DTE9TRVwiLFxuICBcIkRJQUxPR19PUEVOXCIsXG4gIFwiRElTQUJMRV9TRUFSQ0hcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0VcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1JFU0VUX0RFRkFVTFRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUVVBcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRfVkFMVUVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9CTE9DS1NcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9CTE9DS1NfUkVTRVRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9FWFBJUkVfQ0FDSEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9JRExFX0RBSUxZXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfSU1QUkVTU0lPTlNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9TSE9XX1BMQUNFSE9MREVSXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lOQ19SU1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fREVWX1NZU1RFTV9USUNLXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9FWFBFUklNRU5UX0RBVEFcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0ZFRURTX1VQREFURVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fRkVFRF9VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0lNUFJFU1NJT05fU1RBVFNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9SRVNFVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1VQREFURVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fTElOS19CTE9DS0VEXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9MT0FERURfQ09OVEVOVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX0lOSVRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9MQVNUX1VQREFURURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9PVkVSUklERVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX1JFU0VUXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fVE9HR0xFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fVVBEQVRFRFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fUFJFRlNfU0VUVVBcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1JFVFJZX0ZFRURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0NBUFNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0VORFBPSU5UXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19QTEFDRU1FTlRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NfQkxPQ0tFRFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9UT1BJQ1NfTE9BRElOR1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fVVNFUl9FVkVOVFwiLFxuICBcIkRPV05MT0FEX0NIQU5HRURcIixcbiAgXCJGQUtFU1BPVF9DVEFfQ0xJQ0tcIixcbiAgXCJGQUtFU1BPVF9ESVNNSVNTXCIsXG4gIFwiRkFLRV9GT0NVU19TRUFSQ0hcIixcbiAgXCJGSUxMX1NFQVJDSF9URVJNXCIsXG4gIFwiRk9MTE9XX1NFQ1RJT05cIixcbiAgXCJIQU5ET0ZGX1NFQVJDSF9UT19BV0VTT01FQkFSXCIsXG4gIFwiSElERV9QRVJTT05BTElaRVwiLFxuICBcIkhJREVfVE9BU1RfTUVTU0FHRVwiLFxuICBcIklORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9NT0RFTF9VUERBVEVcIixcbiAgXCJJTkZFUlJFRF9QRVJTT05BTElaQVRJT05fUkVGUkVTSFwiLFxuICBcIklORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9SRVNFVFwiLFxuICBcIklORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9VUERBVEVcIixcbiAgXCJJTklUXCIsXG4gIFwiSU5MSU5FX1NFTEVDVElPTl9DTElDS1wiLFxuICBcIklOTElORV9TRUxFQ1RJT05fSU1QUkVTU0lPTlwiLFxuICBcIk1FU1NBR0VfQkxPQ0tcIixcbiAgXCJNRVNTQUdFX0NMSUNLXCIsXG4gIFwiTUVTU0FHRV9ESVNNSVNTXCIsXG4gIFwiTUVTU0FHRV9JTVBSRVNTSU9OXCIsXG4gIFwiTUVTU0FHRV9OT1RJRllfVklTSUJJTElUWVwiLFxuICBcIk1FU1NBR0VfU0VUXCIsXG4gIFwiTUVTU0FHRV9UT0dHTEVfVklTSUJJTElUWVwiLFxuICBcIk5FV19UQUJfSU5JVFwiLFxuICBcIk5FV19UQUJfSU5JVElBTF9TVEFURVwiLFxuICBcIk5FV19UQUJfTE9BRFwiLFxuICBcIk5FV19UQUJfUkVIWURSQVRFRFwiLFxuICBcIk5FV19UQUJfU1RBVEVfUkVRVUVTVFwiLFxuICBcIk5FV19UQUJfU1RBVEVfUkVRVUVTVF9TVEFSVFVQQ0FDSEVcIixcbiAgXCJORVdfVEFCX1NUQVRFX1JFUVVFU1RfV0lUSE9VVF9TVEFSVFVQQ0FDSEVcIixcbiAgXCJORVdfVEFCX1VOTE9BRFwiLFxuICBcIk9QRU5fQUJPVVRfRkFLRVNQT1RcIixcbiAgXCJPUEVOX0RPV05MT0FEX0ZJTEVcIixcbiAgXCJPUEVOX0xJTktcIixcbiAgXCJPUEVOX05FV19XSU5ET1dcIixcbiAgXCJPUEVOX1BSSVZBVEVfV0lORE9XXCIsXG4gIFwiT1BFTl9XRUJFWFRfU0VUVElOR1NcIixcbiAgXCJQQVJUTkVSX0xJTktfQVRUUklCVVRJT05cIixcbiAgXCJQTEFDRVNfQk9PS01BUktTX1JFTU9WRURcIixcbiAgXCJQTEFDRVNfQk9PS01BUktfQURERURcIixcbiAgXCJQTEFDRVNfSElTVE9SWV9DTEVBUkVEXCIsXG4gIFwiUExBQ0VTX0xJTktTX0NIQU5HRURcIixcbiAgXCJQTEFDRVNfTElOS1NfREVMRVRFRFwiLFxuICBcIlBMQUNFU19MSU5LX0JMT0NLRURcIixcbiAgXCJQT0NLRVRfQ1RBXCIsXG4gIFwiUE9DS0VUX1RIVU1CU19ET1dOXCIsXG4gIFwiUE9DS0VUX1RIVU1CU19VUFwiLFxuICBcIlBPQ0tFVF9XQUlUSU5HX0ZPUl9TUE9DXCIsXG4gIFwiUFJFRlNfSU5JVElBTF9WQUxVRVNcIixcbiAgXCJQUkVGX0NIQU5HRURcIixcbiAgXCJQUkVWSUVXX1JFUVVFU1RcIixcbiAgXCJQUkVWSUVXX1JFUVVFU1RfQ0FOQ0VMXCIsXG4gIFwiUFJFVklFV19SRVNQT05TRVwiLFxuICBcIlBST01PX0NBUkRfQ0xJQ0tcIixcbiAgXCJQUk9NT19DQVJEX0RJU01JU1NcIixcbiAgXCJQUk9NT19DQVJEX0lNUFJFU1NJT05cIixcbiAgXCJSRU1PVkVfRE9XTkxPQURfRklMRVwiLFxuICBcIlJFUE9SVF9BRF9PUEVOXCIsXG4gIFwiUkVQT1JUX0FEX1NVQk1JVFwiLFxuICBcIlJFUE9SVF9DTE9TRVwiLFxuICBcIlJFUE9SVF9DT05URU5UX09QRU5cIixcbiAgXCJSRVBPUlRfQ09OVEVOVF9TVUJNSVRcIixcbiAgXCJSSUNIX0lDT05fTUlTU0lOR1wiLFxuICBcIlNBVkVfU0VTU0lPTl9QRVJGX0RBVEFcIixcbiAgXCJTQ1JFRU5TSE9UX1VQREFURURcIixcbiAgXCJTRUNUSU9OX0RFUkVHSVNURVJcIixcbiAgXCJTRUNUSU9OX0RJU0FCTEVcIixcbiAgXCJTRUNUSU9OX0VOQUJMRVwiLFxuICBcIlNFQ1RJT05fT1BUSU9OU19DSEFOR0VEXCIsXG4gIFwiU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VUXCIsXG4gIFwiU0VDVElPTl9QRVJTT05BTElaQVRJT05fVVBEQVRFXCIsXG4gIFwiU0VDVElPTl9SRUdJU1RFUlwiLFxuICBcIlNFQ1RJT05fVVBEQVRFXCIsXG4gIFwiU0VDVElPTl9VUERBVEVfQ0FSRFwiLFxuICBcIlNFVFRJTkdTX0NMT1NFXCIsXG4gIFwiU0VUVElOR1NfT1BFTlwiLFxuICBcIlNFVF9QUkVGXCIsXG4gIFwiU0hPV19ET1dOTE9BRF9GSUxFXCIsXG4gIFwiU0hPV19GSVJFRk9YX0FDQ09VTlRTXCIsXG4gIFwiU0hPV19QRVJTT05BTElaRVwiLFxuICBcIlNIT1dfUFJJVkFDWV9JTkZPXCIsXG4gIFwiU0hPV19TRUFSQ0hcIixcbiAgXCJTSE9XX1RPQVNUX01FU1NBR0VcIixcbiAgXCJTS0lQUEVEX1NJR05JTlwiLFxuICBcIlNPVl9VUERBVEVEXCIsXG4gIFwiU1VCTUlUX0VNQUlMXCIsXG4gIFwiU1VCTUlUX1NJR05JTlwiLFxuICBcIlNZU1RFTV9USUNLXCIsXG4gIFwiVEVMRU1FVFJZX0lNUFJFU1NJT05fU1RBVFNcIixcbiAgXCJURUxFTUVUUllfVVNFUl9FVkVOVFwiLFxuICBcIlRPUElDX1NFTEVDVElPTl9JTVBSRVNTSU9OXCIsXG4gIFwiVE9QSUNfU0VMRUNUSU9OX01BWUJFX0xBVEVSXCIsXG4gIFwiVE9QSUNfU0VMRUNUSU9OX1NQT1RMSUdIVF9DTE9TRVwiLFxuICBcIlRPUElDX1NFTEVDVElPTl9TUE9UTElHSFRfT1BFTlwiLFxuICBcIlRPUElDX1NFTEVDVElPTl9VU0VSX0RJU01JU1NcIixcbiAgXCJUT1BJQ19TRUxFQ1RJT05fVVNFUl9PUEVOXCIsXG4gIFwiVE9QSUNfU0VMRUNUSU9OX1VTRVJfU0FWRVwiLFxuICBcIlRPUF9TSVRFU19BRERcIixcbiAgXCJUT1BfU0lURVNfQ0FOQ0VMX0VESVRcIixcbiAgXCJUT1BfU0lURVNfQ0xPU0VfU0VBUkNIX1NIT1JUQ1VUU19NT0RBTFwiLFxuICBcIlRPUF9TSVRFU19FRElUXCIsXG4gIFwiVE9QX1NJVEVTX0lOU0VSVFwiLFxuICBcIlRPUF9TSVRFU19PUEVOX1NFQVJDSF9TSE9SVENVVFNfTU9EQUxcIixcbiAgXCJUT1BfU0lURVNfT1JHQU5JQ19JTVBSRVNTSU9OX1NUQVRTXCIsXG4gIFwiVE9QX1NJVEVTX1BJTlwiLFxuICBcIlRPUF9TSVRFU19QUkVGU19VUERBVEVEXCIsXG4gIFwiVE9QX1NJVEVTX1NQT05TT1JFRF9JTVBSRVNTSU9OX1NUQVRTXCIsXG4gIFwiVE9QX1NJVEVTX1VOUElOXCIsXG4gIFwiVE9QX1NJVEVTX1VQREFURURcIixcbiAgXCJUT1RBTF9CT09LTUFSS1NfUkVRVUVTVFwiLFxuICBcIlRPVEFMX0JPT0tNQVJLU19SRVNQT05TRVwiLFxuICBcIlRSRU5ESU5HX1NFQVJDSF9JTVBSRVNTSU9OXCIsXG4gIFwiVFJFTkRJTkdfU0VBUkNIX1NVR0dFU1RJT05fT1BFTlwiLFxuICBcIlRSRU5ESU5HX1NFQVJDSF9UT0dHTEVfQ09MTEFQU0VcIixcbiAgXCJUUkVORElOR19TRUFSQ0hfVVBEQVRFXCIsXG4gIFwiVU5CTE9DS19TRUNUSU9OXCIsXG4gIFwiVU5GT0xMT1dfU0VDVElPTlwiLFxuICBcIlVOSU5JVFwiLFxuICBcIlVQREFURV9QSU5ORURfU0VBUkNIX1NIT1JUQ1VUU1wiLFxuICBcIlVQREFURV9TRUFSQ0hfU0hPUlRDVVRTXCIsXG4gIFwiV0FMTFBBUEVSU19DQVRFR09SWV9TRVRcIixcbiAgXCJXQUxMUEFQRVJTX0NVU1RPTV9TRVRcIixcbiAgXCJXQUxMUEFQRVJTX0ZFQVRVUkVfSElHSExJR0hUX0NPVU5URVJfSU5DUkVNRU5UXCIsXG4gIFwiV0FMTFBBUEVSU19GRUFUVVJFX0hJR0hMSUdIVF9DVEFfQ0xJQ0tFRFwiLFxuICBcIldBTExQQVBFUlNfRkVBVFVSRV9ISUdITElHSFRfRElTTUlTU0VEXCIsXG4gIFwiV0FMTFBBUEVSU19GRUFUVVJFX0hJR0hMSUdIVF9TRUVOXCIsXG4gIFwiV0FMTFBBUEVSU19TRVRcIixcbiAgXCJXQUxMUEFQRVJfQ0FURUdPUllfQ0xJQ0tcIixcbiAgXCJXQUxMUEFQRVJfQ0xJQ0tcIixcbiAgXCJXQUxMUEFQRVJfUkVNT1ZFX1VQTE9BRFwiLFxuICBcIldBTExQQVBFUl9VUExPQURcIixcbiAgXCJXRUFUSEVSX0lNUFJFU1NJT05cIixcbiAgXCJXRUFUSEVSX0xPQURfRVJST1JcIixcbiAgXCJXRUFUSEVSX0xPQ0FUSU9OX0RBVEFfVVBEQVRFXCIsXG4gIFwiV0VBVEhFUl9MT0NBVElPTl9TRUFSQ0hfVVBEQVRFXCIsXG4gIFwiV0VBVEhFUl9MT0NBVElPTl9TVUdHRVNUSU9OU19VUERBVEVcIixcbiAgXCJXRUFUSEVSX09QRU5fUFJPVklERVJfVVJMXCIsXG4gIFwiV0VBVEhFUl9RVUVSWV9VUERBVEVcIixcbiAgXCJXRUFUSEVSX1NFQVJDSF9BQ1RJVkVcIixcbiAgXCJXRUFUSEVSX1VQREFURVwiLFxuICBcIldFQkVYVF9DTElDS1wiLFxuICBcIldFQkVYVF9ESVNNSVNTXCIsXG4gIFwiV0lER0VUU19MSVNUU19DSEFOR0VfU0VMRUNURURcIixcbiAgXCJXSURHRVRTX0xJU1RTX1NFVFwiLFxuICBcIldJREdFVFNfTElTVFNfU0VUX1NFTEVDVEVEXCIsXG4gIFwiV0lER0VUU19MSVNUU19VUERBVEVcIixcbiAgXCJXSURHRVRTX0xJU1RTX1VTRVJfRVZFTlRcIixcbiAgXCJXSURHRVRTX0xJU1RTX1VTRVJfSU1QUkVTU0lPTlwiLFxuICBcIldJREdFVFNfVElNRVJfRU5EXCIsXG4gIFwiV0lER0VUU19USU1FUl9QQVVTRVwiLFxuICBcIldJREdFVFNfVElNRVJfUExBWVwiLFxuICBcIldJREdFVFNfVElNRVJfUkVTRVRcIixcbiAgXCJXSURHRVRTX1RJTUVSX1NFVFwiLFxuICBcIldJREdFVFNfVElNRVJfU0VUX0RVUkFUSU9OXCIsXG4gIFwiV0lER0VUU19USU1FUl9TRVRfVFlQRVwiLFxuICBcIldJREdFVFNfVElNRVJfVVNFUl9FVkVOVFwiLFxuICBcIldJREdFVFNfVElNRVJfVVNFUl9JTVBSRVNTSU9OXCIsXG5dKSB7XG4gIGFjdGlvblR5cGVzW3R5cGVdID0gdHlwZTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciBjcmVhdGluZyByb3V0ZWQgYWN0aW9ucyBiZXR3ZWVuIGNvbnRlbnQgYW5kIG1haW5cbi8vIE5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGJ5IGNvbnN1bWVyc1xuZnVuY3Rpb24gX1JvdXRlTWVzc2FnZShhY3Rpb24sIG9wdGlvbnMpIHtcbiAgY29uc3QgbWV0YSA9IGFjdGlvbi5tZXRhID8geyAuLi5hY3Rpb24ubWV0YSB9IDoge307XG4gIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5mcm9tIHx8ICFvcHRpb25zLnRvKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJSb3V0ZWQgTWVzc2FnZXMgbXVzdCBoYXZlIG9wdGlvbnMgYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIsIGFuZCBtdXN0IGF0IGxlYXN0IGluY2x1ZGUgYSAuZnJvbSBhbmQgLnRvIHByb3BlcnR5LlwiXG4gICAgKTtcbiAgfVxuICAvLyBGb3IgZWFjaCBvZiB0aGVzZSBmaWVsZHMsIGlmIHRoZXkgYXJlIHBhc3NlZCBhcyBhbiBvcHRpb24sXG4gIC8vIGFkZCB0aGVtIHRvIHRoZSBhY3Rpb24uIElmIHRoZXkgYXJlIG5vdCBkZWZpbmVkLCByZW1vdmUgdGhlbS5cbiAgW1wiZnJvbVwiLCBcInRvXCIsIFwidG9UYXJnZXRcIiwgXCJmcm9tVGFyZ2V0XCIsIFwic2tpcE1haW5cIiwgXCJza2lwTG9jYWxcIl0uZm9yRWFjaChcbiAgICBvID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tvXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBtZXRhW29dID0gb3B0aW9uc1tvXTtcbiAgICAgIH0gZWxzZSBpZiAobWV0YVtvXSkge1xuICAgICAgICBkZWxldGUgbWV0YVtvXTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIHJldHVybiB7IC4uLmFjdGlvbiwgbWV0YSB9O1xufVxuXG4vKipcbiAqIEFsc29Ub01haW4gLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZGlzcGF0Y2hlZCBsb2NhbGx5IGFuZCBhbHNvIHNlbnQgdG8gdGhlIE1haW4gcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtICB7Ym9vbH0gICBza2lwTG9jYWwgVXNlZCBieSBPbmx5VG9NYWluIHRvIHNraXAgdGhlIG1haW4gcmVkdWNlclxuICogQHBhcmFtICB7c3RyaW5nfSBmcm9tVGFyZ2V0IFRoZSBpZCBvZiB0aGUgY29udGVudCBwb3J0IGZyb20gd2hpY2ggdGhlIGFjdGlvbiBvcmlnaW5hdGVkLiAob3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gQWxzb1RvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQsIHNraXBMb2NhbCkge1xuICByZXR1cm4gX1JvdXRlTWVzc2FnZShhY3Rpb24sIHtcbiAgICBmcm9tOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgICB0bzogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgZnJvbVRhcmdldCxcbiAgICBza2lwTG9jYWwsXG4gIH0pO1xufVxuXG4vKipcbiAqIE9ubHlUb01haW4gLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUgTWFpbiBwcm9jZXNzIGFuZCBza2lwIHRoZSBsb2NhbCByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGZyb21UYXJnZXQgVGhlIGlkIG9mIHRoZSBjb250ZW50IHBvcnQgZnJvbSB3aGljaCB0aGUgYWN0aW9uIG9yaWdpbmF0ZWQuIChvcHRpb25hbClcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBPbmx5VG9NYWluKGFjdGlvbiwgZnJvbVRhcmdldCkge1xuICByZXR1cm4gQWxzb1RvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQsIHRydWUpO1xufVxuXG4vKipcbiAqIEJyb2FkY2FzdFRvQ29udGVudCAtIENyZWF0ZXMgYSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBkaXNwYXRjaGVkIHRvIG1haW4gYW5kIHNlbnQgdG8gQUxMIGNvbnRlbnQgcHJvY2Vzc2VzLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIChvcHRpb25hbClcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBCcm9hZGNhc3RUb0NvbnRlbnQoYWN0aW9uLCBvcHRpb25zKSB7XG4gIHJldHVybiBfUm91dGVNZXNzYWdlKGFjdGlvbiwge1xuICAgIGZyb206IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIHRvOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgICAuLi5vcHRpb25zLFxuICB9KTtcbn1cblxuLyoqXG4gKiBBbHNvVG9PbmVDb250ZW50IC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHdpbGwgYmUgZGlzcGF0Y2hlZCB0byB0aGUgbWFpbiBzdG9yZVxuICogICAgICAgICAgICAgICAgICAgIGFuZCBhbHNvIHNlbnQgdG8gYSBwYXJ0aWN1bGFyIENvbnRlbnQgcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge3N0cmluZ30gdGFyZ2V0IFRoZSBpZCBvZiBhIGNvbnRlbnQgcG9ydFxuICogQHBhcmFtICB7Ym9vbH0gc2tpcE1haW4gVXNlZCBieSBPbmx5VG9PbmVDb250ZW50IHRvIHNraXAgdGhlIG1haW4gcHJvY2Vzc1xuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub09uZUNvbnRlbnQoYWN0aW9uLCB0YXJnZXQsIHNraXBNYWluKSB7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgdGFyZ2V0IElEIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyIG9mIEFsc29Ub09uZUNvbnRlbnQuIElmIHlvdSB3YW50IHRvIHNlbmQgdG8gYWxsIGNvbnRlbnQgcHJvY2Vzc2VzLCB1c2UgQnJvYWRjYXN0VG9Db250ZW50XCJcbiAgICApO1xuICB9XG4gIHJldHVybiBfUm91dGVNZXNzYWdlKGFjdGlvbiwge1xuICAgIGZyb206IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIHRvOiBDT05URU5UX01FU1NBR0VfVFlQRSxcbiAgICB0b1RhcmdldDogdGFyZ2V0LFxuICAgIHNraXBNYWluLFxuICB9KTtcbn1cblxuLyoqXG4gKiBPbmx5VG9PbmVDb250ZW50IC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHNlbnQgdG8gYSBwYXJ0aWN1bGFyIENvbnRlbnQgcHJvY2Vzc1xuICogICAgICAgICAgICAgICAgICAgIGFuZCBza2lwIHRoZSBtYWluIHJlZHVjZXIuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBhY3Rpb24gQW55IHJlZHV4IGFjdGlvbiAocmVxdWlyZWQpXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldCBUaGUgaWQgb2YgYSBjb250ZW50IHBvcnRcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBPbmx5VG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0KSB7XG4gIHJldHVybiBBbHNvVG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0LCB0cnVlKTtcbn1cblxuLyoqXG4gKiBBbHNvVG9QcmVsb2FkZWQgLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IGRpc3BhdGNoZWQgdG8gdGhlIG1haW4gcmVkdWNlciBhbmQgYWxzbyBzZW50IHRvIHRoZSBwcmVsb2FkZWQgdGFiLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub1ByZWxvYWRlZChhY3Rpb24pIHtcbiAgcmV0dXJuIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCB7XG4gICAgZnJvbTogTUFJTl9NRVNTQUdFX1RZUEUsXG4gICAgdG86IFBSRUxPQURfTUVTU0FHRV9UWVBFLFxuICB9KTtcbn1cblxuLyoqXG4gKiBVc2VyRXZlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSB1c2VyIGFjdGlvbi4gVGhpcyBzaG91bGQgb25seVxuICogICAgICAgICAgICAgICAgICAgYmUgc2VudCBmcm9tIHRoZSBVSSBkdXJpbmcgYSB1c2VyIHNlc3Npb24uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nIChzb3VyY2UsIGV0Yy4pXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIEFsc29Ub01haW4gYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIFVzZXJFdmVudChkYXRhKSB7XG4gIHJldHVybiBBbHNvVG9NYWluKHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5URUxFTUVUUllfVVNFUl9FVkVOVCxcbiAgICBkYXRhLFxuICB9KTtcbn1cblxuLyoqXG4gKiBEaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSB1c2VyIGFjdGlvbiBmcm9tIERpc2NvdmVyeSBTdHJlYW0uIFRoaXMgc2hvdWxkIG9ubHlcbiAqICAgICAgICAgICAgICAgICAgICAgYmUgc2VudCBmcm9tIHRoZSBVSSBkdXJpbmcgYSB1c2VyIHNlc3Npb24uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nIChzb3VyY2UsIGV0Yy4pXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIEFsc29Ub01haW4gYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbVVzZXJFdmVudChkYXRhKSB7XG4gIHJldHVybiBBbHNvVG9NYWluKHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5ESVNDT1ZFUllfU1RSRUFNX1VTRVJfRVZFTlQsXG4gICAgZGF0YSxcbiAgfSk7XG59XG5cbi8qKlxuICogSW1wcmVzc2lvblN0YXRzIC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGFuIGltcHJlc3Npb24gc3RhdHMuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIEltcHJlc3Npb25TdGF0cyhkYXRhLCBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dCkge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuVEVMRU1FVFJZX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbi8qKlxuICogRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzIC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGFuIGltcHJlc3Npb24gc3RhdHMgaW4gRGlzY292ZXJ5IFN0cmVhbS5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgRmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHBpbmdcbiAqIEBwYXJhbSAge2ludH0gaW1wb3J0Q29udGV4dCAoRm9yIHRlc3RpbmcpIE92ZXJyaWRlIHRoZSBpbXBvcnQgY29udGV4dCBmb3IgdGVzdGluZy5cbiAqICNyZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uLiBGb3IgVUkgY29kZSwgYSBBbHNvVG9NYWluIGFjdGlvbi5cbiAqL1xuZnVuY3Rpb24gRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzKFxuICBkYXRhLFxuICBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dFxuKSB7XG4gIGNvbnN0IGFjdGlvbiA9IHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5ESVNDT1ZFUllfU1RSRUFNX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbi8qKlxuICogRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhIGNvbnRlbnQgZ2V0cyBsb2FkZWQgaW4gRGlzY292ZXJ5IFN0cmVhbS5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGEgRmllbGRzIHRvIGluY2x1ZGUgaW4gdGhlIHBpbmdcbiAqIEBwYXJhbSAge2ludH0gaW1wb3J0Q29udGV4dCAoRm9yIHRlc3RpbmcpIE92ZXJyaWRlIHRoZSBpbXBvcnQgY29udGV4dCBmb3IgdGVzdGluZy5cbiAqICNyZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uLiBGb3IgVUkgY29kZSwgYSBBbHNvVG9NYWluIGFjdGlvbi5cbiAqL1xuZnVuY3Rpb24gRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudChcbiAgZGF0YSxcbiAgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHRcbikge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuRElTQ09WRVJZX1NUUkVBTV9MT0FERURfQ09OVEVOVCxcbiAgICBkYXRhLFxuICB9O1xuICByZXR1cm4gaW1wb3J0Q29udGV4dCA9PT0gVUlfQ09ERSA/IEFsc29Ub01haW4oYWN0aW9uKSA6IGFjdGlvbjtcbn1cblxuZnVuY3Rpb24gU2V0UHJlZihwcmVmTmFtZSwgdmFsdWUsIGltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0KSB7XG4gIGNvbnN0IGFjdGlvbiA9IHtcbiAgICB0eXBlOiBhY3Rpb25UeXBlcy5TRVRfUFJFRixcbiAgICBkYXRhOiB7IG5hbWU6IHByZWZOYW1lLCB2YWx1ZSB9LFxuICB9O1xuICByZXR1cm4gaW1wb3J0Q29udGV4dCA9PT0gVUlfQ09ERSA/IEFsc29Ub01haW4oYWN0aW9uKSA6IGFjdGlvbjtcbn1cblxuZnVuY3Rpb24gV2ViRXh0RXZlbnQodHlwZSwgZGF0YSwgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQpIHtcbiAgaWYgKCFkYXRhIHx8ICFkYXRhLnNvdXJjZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdXZWJFeHRFdmVudCBhY3Rpb25zIHNob3VsZCBpbmNsdWRlIGEgcHJvcGVydHkgXCJzb3VyY2VcIiwgdGhlIGlkIG9mIHRoZSB3ZWJleHRlbnNpb24gdGhhdCBzaG91bGQgcmVjZWl2ZSB0aGUgZXZlbnQuJ1xuICAgICk7XG4gIH1cbiAgY29uc3QgYWN0aW9uID0geyB0eXBlLCBkYXRhIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG5leHBvcnQgY29uc3QgYWN0aW9uQ3JlYXRvcnMgPSB7XG4gIEJyb2FkY2FzdFRvQ29udGVudCxcbiAgVXNlckV2ZW50LFxuICBEaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQsXG4gIEltcHJlc3Npb25TdGF0cyxcbiAgQWxzb1RvT25lQ29udGVudCxcbiAgT25seVRvT25lQ29udGVudCxcbiAgQWxzb1RvTWFpbixcbiAgT25seVRvTWFpbixcbiAgQWxzb1RvUHJlbG9hZGVkLFxuICBTZXRQcmVmLFxuICBXZWJFeHRFdmVudCxcbiAgRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzLFxuICBEaXNjb3ZlcnlTdHJlYW1Mb2FkZWRDb250ZW50LFxufTtcblxuLy8gVGhlc2UgYXJlIGhlbHBlcnMgdG8gdGVzdCBmb3IgY2VydGFpbiBraW5kcyBvZiBhY3Rpb25zXG5leHBvcnQgY29uc3QgYWN0aW9uVXRpbHMgPSB7XG4gIGlzU2VuZFRvTWFpbihhY3Rpb24pIHtcbiAgICBpZiAoIWFjdGlvbi5tZXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBhY3Rpb24ubWV0YS50byA9PT0gTUFJTl9NRVNTQUdFX1RZUEUgJiZcbiAgICAgIGFjdGlvbi5tZXRhLmZyb20gPT09IENPTlRFTlRfTUVTU0FHRV9UWVBFXG4gICAgKTtcbiAgfSxcbiAgaXNCcm9hZGNhc3RUb0NvbnRlbnQoYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYWN0aW9uLm1ldGEudG8gPT09IENPTlRFTlRfTUVTU0FHRV9UWVBFICYmICFhY3Rpb24ubWV0YS50b1RhcmdldCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNTZW5kVG9PbmVDb250ZW50KGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFjdGlvbi5tZXRhLnRvID09PSBDT05URU5UX01FU1NBR0VfVFlQRSAmJiBhY3Rpb24ubWV0YS50b1RhcmdldCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNTZW5kVG9QcmVsb2FkZWQoYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aW9uLm1ldGEudG8gPT09IFBSRUxPQURfTUVTU0FHRV9UWVBFICYmXG4gICAgICBhY3Rpb24ubWV0YS5mcm9tID09PSBNQUlOX01FU1NBR0VfVFlQRVxuICAgICk7XG4gIH0sXG4gIGlzRnJvbU1haW4oYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aW9uLm1ldGEuZnJvbSA9PT0gTUFJTl9NRVNTQUdFX1RZUEUgJiZcbiAgICAgIGFjdGlvbi5tZXRhLnRvID09PSBDT05URU5UX01FU1NBR0VfVFlQRVxuICAgICk7XG4gIH0sXG4gIGdldFBvcnRJZE9mU2VuZGVyKGFjdGlvbikge1xuICAgIHJldHVybiAoYWN0aW9uLm1ldGEgJiYgYWN0aW9uLm1ldGEuZnJvbVRhcmdldCkgfHwgbnVsbDtcbiAgfSxcbiAgX1JvdXRlTWVzc2FnZSxcbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUmVhY3RSZWR1eDsiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUmVhY3Q7IiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU2ltcGxlSGFzaFJvdXRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uSGFzaENoYW5nZSA9IHRoaXMub25IYXNoQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaGFzaDogZ2xvYmFsVGhpcy5sb2NhdGlvbi5oYXNoIH07XG4gIH1cblxuICBvbkhhc2hDaGFuZ2UoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGhhc2g6IGdsb2JhbFRoaXMubG9jYXRpb24uaGFzaCB9KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBnbG9iYWxUaGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsIHRoaXMub25IYXNoQ2hhbmdlKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIiwgdGhpcy5vbkhhc2hDaGFuZ2UpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IFssIC4uLnJvdXRlc10gPSB0aGlzLnN0YXRlLmhhc2guc3BsaXQoXCItXCIpO1xuICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbiwge1xuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgaGFzaDogdGhpcy5zdGF0ZS5oYXNoLFxuICAgICAgICByb3V0ZXMsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTaW1wbGVIYXNoUm91dGVyIH0gZnJvbSBcIi4vU2ltcGxlSGFzaFJvdXRlclwiO1xuXG4vLyBQcmVmIENvbnN0YW50c1xuY29uc3QgUFJFRl9BRF9TSVpFX01FRElVTV9SRUNUQU5HTEUgPSBcIm5ld3RhYkFkU2l6ZS5tZWRpdW1SZWN0YW5nbGVcIjtcbmNvbnN0IFBSRUZfQURfU0laRV9CSUxMQk9BUkQgPSBcIm5ld3RhYkFkU2l6ZS5iaWxsYm9hcmRcIjtcbmNvbnN0IFBSRUZfQURfU0laRV9MRUFERVJCT0FSRCA9IFwibmV3dGFiQWRTaXplLmxlYWRlcmJvYXJkXCI7XG5jb25zdCBQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9TRUxFQ1RFRF9GRUVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuc2VsZWN0ZWRGZWVkXCI7XG5jb25zdCBQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9GRUVEUyA9IFwiZGlzY292ZXJ5c3RyZWFtLmNvbnRleHR1YWxDb250ZW50LmZlZWRzXCI7XG5jb25zdCBQUkVGX1NFQ1RJT05TX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1NQT0NfUExBQ0VNRU5UUyA9IFwiZGlzY292ZXJ5c3RyZWFtLnBsYWNlbWVudHMuc3BvY3NcIjtcbmNvbnN0IFBSRUZfU1BPQ19DT1VOVFMgPSBcImRpc2NvdmVyeXN0cmVhbS5wbGFjZW1lbnRzLnNwb2NzLmNvdW50c1wiO1xuY29uc3QgUFJFRl9DT05URVhUVUFMX0FEU19FTkFCTEVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuY29udGV4dHVhbEFkcy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX0NPTlRFWFRVQUxfQkFOTkVSX1BMQUNFTUVOVFMgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5wbGFjZW1lbnRzLmNvbnRleHR1YWxCYW5uZXJzXCI7XG5jb25zdCBQUkVGX0NPTlRFWFRVQUxfQkFOTkVSX0NPVU5UUyA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnBsYWNlbWVudHMuY29udGV4dHVhbEJhbm5lcnMuY291bnRzXCI7XG5cbmNvbnN0IFJvdyA9IHByb3BzID0+IChcbiAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiIHsuLi5wcm9wc30+XG4gICAge3Byb3BzLmNoaWxkcmVufVxuICA8L3RyPlxuKTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lKHRpbWVzdGFtcCkge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvIDEwMDApO1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyA2MDAwMCk7XG4gIGlmIChzZWNvbmRzIDwgMikge1xuICAgIHJldHVybiBcImp1c3Qgbm93XCI7XG4gIH0gZWxzZSBpZiAoc2Vjb25kcyA8IDYwKSB7XG4gICAgcmV0dXJuIGAke3NlY29uZHN9IHNlY29uZHMgYWdvYDtcbiAgfSBlbHNlIGlmIChtaW51dGVzID09PSAxKSB7XG4gICAgcmV0dXJuIFwiMSBtaW51dGUgYWdvXCI7XG4gIH0gZWxzZSBpZiAobWludXRlcyA8IDYwMCkge1xuICAgIHJldHVybiBgJHttaW51dGVzfSBtaW51dGVzIGFnb2A7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKHRpbWVzdGFtcCkudG9Mb2NhbGVTdHJpbmcoKTtcbn1cblxuZXhwb3J0IGNsYXNzIFRvZ2dsZVN0b3J5QnV0dG9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBoYW5kbGVDbGljaygpIHtcbiAgICB0aGlzLnByb3BzLm9uQ2xpY2sodGhpcy5wcm9wcy5zdG9yeSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxidXR0b24gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+Y29sbGFwc2Uvb3BlbjwvYnV0dG9uPjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9nZ2xlUHJlZkNoZWNrYm94IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNoYW5nZShldmVudCkge1xuICAgIHRoaXMucHJvcHMub25DaGFuZ2UodGhpcy5wcm9wcy5wcmVmLCBldmVudC50YXJnZXQuY2hlY2tlZCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgY2hlY2tlZD17dGhpcy5wcm9wcy5jaGVja2VkfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmRpc2FibGVkfVxuICAgICAgICAvPntcIiBcIn1cbiAgICAgICAge3RoaXMucHJvcHMucHJlZn17XCIgXCJ9XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQZXJzb25hbGl6YXRpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy50b2dnbGVQZXJzb25hbGl6YXRpb24gPSB0aGlzLnRvZ2dsZVBlcnNvbmFsaXphdGlvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgdG9nZ2xlUGVyc29uYWxpemF0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fVE9HR0xFLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbGFzdFVwZGF0ZWQsIGluaXRpYWxpemVkIH0gPSB0aGlzLnByb3BzLnN0YXRlLlBlcnNvbmFsaXphdGlvbjtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNvbFNwYW49XCIyXCI+XG4gICAgICAgICAgICAgICAgPFRvZ2dsZVByZWZDaGVja2JveFxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5wcm9wcy5wZXJzb25hbGl6ZWR9XG4gICAgICAgICAgICAgICAgICBwcmVmPVwicGVyc29uYWxpemVkXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnRvZ2dsZVBlcnNvbmFsaXphdGlvbn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+UGVyc29uYWxpemF0aW9uIExhc3QgVXBkYXRlZDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57cmVsYXRpdmVUaW1lKGxhc3RVcGRhdGVkKSB8fCBcIihubyBkYXRhKVwifTwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5QZXJzb25hbGl6YXRpb24gSW5pdGlhbGl6ZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e2luaXRpYWxpemVkID8gXCJ0cnVlXCIgOiBcImZhbHNlXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERpc2NvdmVyeVN0cmVhbUFkbWluVUkgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzID0gdGhpcy5yZXN0b3JlUHJlZkRlZmF1bHRzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRDb25maWdWYWx1ZSA9IHRoaXMuc2V0Q29uZmlnVmFsdWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmV4cGlyZUNhY2hlID0gdGhpcy5leHBpcmVDYWNoZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmcmVzaENhY2hlID0gdGhpcy5yZWZyZXNoQ2FjaGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNob3dQbGFjZWhvbGRlciA9IHRoaXMuc2hvd1BsYWNlaG9sZGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5pZGxlRGFpbHkgPSB0aGlzLmlkbGVEYWlseS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3lzdGVtVGljayA9IHRoaXMuc3lzdGVtVGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3luY1JlbW90ZVNldHRpbmdzID0gdGhpcy5zeW5jUmVtb3RlU2V0dGluZ3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3RvcnlUb2dnbGUgPSB0aGlzLm9uU3RvcnlUb2dnbGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVdlYXRoZXJTdWJtaXQgPSB0aGlzLmhhbmRsZVdlYXRoZXJTdWJtaXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVdlYXRoZXJVcGRhdGUgPSB0aGlzLmhhbmRsZVdlYXRoZXJVcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlc2V0QmxvY2tzID0gdGhpcy5yZXNldEJsb2Nrcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmcmVzaEluZmVycmVkUGVyc29uYWxpemF0aW9uID1cbiAgICAgIHRoaXMucmVmcmVzaEluZmVycmVkUGVyc29uYWxpemF0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZWZyZXNoVG9waWNTZWxlY3Rpb25DYWNoZSA9XG4gICAgICB0aGlzLnJlZnJlc2hUb3BpY1NlbGVjdGlvbkNhY2hlLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVUQlJGZWVkID0gdGhpcy50b2dnbGVUQlJGZWVkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTZWN0aW9uc1RvZ2dsZSA9IHRoaXMuaGFuZGxlU2VjdGlvbnNUb2dnbGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRvZ2dsZUlBQkJhbm5lcnMgPSB0aGlzLnRvZ2dsZUlBQkJhbm5lcnMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdG9nZ2xlZFN0b3JpZXM6IHt9LFxuICAgICAgd2VhdGhlclF1ZXJ5OiBcIlwiLFxuICAgIH07XG4gIH1cblxuICBzZXRDb25maWdWYWx1ZShjb25maWdOYW1lLCBjb25maWdWYWx1ZSkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUX1ZBTFVFLFxuICAgICAgICBkYXRhOiB7IG5hbWU6IGNvbmZpZ05hbWUsIHZhbHVlOiBjb25maWdWYWx1ZSB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVzdG9yZVByZWZEZWZhdWx0cygpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1JFU0VUX0RFRkFVTFRTLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVmcmVzaENhY2hlKCkge1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX0NIQU5HRSxcbiAgICAgICAgZGF0YTogY29uZmlnLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVmcmVzaEluZmVycmVkUGVyc29uYWxpemF0aW9uKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuSU5GRVJSRURfUEVSU09OQUxJWkFUSU9OX1JFRlJFU0gsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZWZyZXNoVG9waWNTZWxlY3Rpb25DYWNoZSgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuU2V0UHJlZihcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLmRpc3BsYXlDb3VudFwiLCAwKVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlNldFByZWYoXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24ub25ib2FyZGluZy5tYXliZURpc3BsYXlcIiwgdHJ1ZSlcbiAgICApO1xuICB9XG5cbiAgZGlzcGF0Y2hTaW1wbGVBY3Rpb24odHlwZSkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlc2V0QmxvY2tzKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfQkxPQ0tTX1JFU0VULFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgc3lzdGVtVGljaygpIHtcbiAgICB0aGlzLmRpc3BhdGNoU2ltcGxlQWN0aW9uKGF0LkRJU0NPVkVSWV9TVFJFQU1fREVWX1NZU1RFTV9USUNLKTtcbiAgfVxuXG4gIGV4cGlyZUNhY2hlKCkge1xuICAgIHRoaXMuZGlzcGF0Y2hTaW1wbGVBY3Rpb24oYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfRVhQSVJFX0NBQ0hFKTtcbiAgfVxuXG4gIHNob3dQbGFjZWhvbGRlcigpIHtcbiAgICB0aGlzLmRpc3BhdGNoU2ltcGxlQWN0aW9uKGF0LkRJU0NPVkVSWV9TVFJFQU1fREVWX1NIT1dfUExBQ0VIT0xERVIpO1xuICB9XG5cbiAgdG9nZ2xlVEJSRmVlZChlKSB7XG4gICAgY29uc3QgZmVlZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHNlbGVjdGVkRmVlZCA9IFBSRUZfQ09OVEVYVFVBTF9DT05URU5UX1NFTEVDVEVEX0ZFRUQ7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKHNlbGVjdGVkRmVlZCwgZmVlZCkpO1xuICB9XG5cbiAgaWRsZURhaWx5KCkge1xuICAgIHRoaXMuZGlzcGF0Y2hTaW1wbGVBY3Rpb24oYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfSURMRV9EQUlMWSk7XG4gIH1cblxuICBzeW5jUmVtb3RlU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5kaXNwYXRjaFNpbXBsZUFjdGlvbihhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9TWU5DX1JTKTtcbiAgfVxuXG4gIGhhbmRsZVdlYXRoZXJVcGRhdGUoZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB3ZWF0aGVyUXVlcnk6IGUudGFyZ2V0LnZhbHVlIHx8IFwiXCIgfSk7XG4gIH1cblxuICBoYW5kbGVXZWF0aGVyU3VibWl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgeyB3ZWF0aGVyUXVlcnkgfSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFwid2VhdGhlci5xdWVyeVwiLCB3ZWF0aGVyUXVlcnkpKTtcbiAgfVxuXG4gIHRvZ2dsZUlBQkJhbm5lcnMoZSkge1xuICAgIGNvbnN0IHsgcHJlc3NlZCwgaWQgfSA9IGUudGFyZ2V0O1xuXG4gICAgLy8gU2V0IHRoZSBhY3RpdmUgcHJlZiB0byB0cnVlL2ZhbHNlXG4gICAgc3dpdGNoIChpZCkge1xuICAgICAgY2FzZSBcIm5ld3RhYl9iaWxsYm9hcmRcIjpcbiAgICAgICAgLy8gVXBkYXRlIGJvb2xlYW4gcHJlZiBmb3IgYmlsbGJvYXJkIGFkIHNpemVcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFBSRUZfQURfU0laRV9CSUxMQk9BUkQsIHByZXNzZWQpKTtcblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJuZXd0YWJfbGVhZGVyYm9hcmRcIjpcbiAgICAgICAgLy8gVXBkYXRlIGJvb2xlYW4gcHJlZiBmb3IgYmlsbGJvYXJkIGFkIHNpemVcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFBSRUZfQURfU0laRV9MRUFERVJCT0FSRCwgcHJlc3NlZCkpO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm5ld3RhYl9yZWN0YW5nbGVcIjpcbiAgICAgICAgLy8gVXBkYXRlIGJvb2xlYW4gcHJlZiBmb3IgbWVkaXVtUmVjdGFuZ2xlIChNUkVDKSBhZCBzaXplXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX0FEX1NJWkVfTUVESVVNX1JFQ1RBTkdMRSwgcHJlc3NlZCkpO1xuXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIE5vdGU6IFRoZSBjb3VudHMgYXJyYXkgaXMgcGFzc2l2ZWx5IHVwZGF0ZWQgd2hlbmV2ZXIgdGhlIHBsYWNlbWVudHMgYXJyYXkgaXMgdXBkYXRlZC5cbiAgICAvLyBUaGUgZGVmYXVsdCBwcmVmIHZhbHVlcyBmb3IgZWFjaCBhcmU6XG4gICAgLy8gUFJFRl9TUE9DX1BMQUNFTUVOVFM6IFwibmV3dGFiX3Nwb2NzXCJcbiAgICAvLyBQUkVGX1NQT0NfQ09VTlRTOiBcIjZcIlxuICAgIGNvbnN0IGdlbmVyYXRlU3BvY1ByZWZWYWx1ZXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwbGFjZW1lbnRzID1cbiAgICAgICAgdGhpcy5wcm9wcy5vdGhlclByZWZzW1BSRUZfU1BPQ19QTEFDRU1FTlRTXT8uc3BsaXQoXCIsXCIpXG4gICAgICAgICAgLm1hcChpdGVtID0+IGl0ZW0udHJpbSgpKVxuICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtKSB8fCBbXTtcblxuICAgICAgY29uc3QgY291bnRzID1cbiAgICAgICAgdGhpcy5wcm9wcy5vdGhlclByZWZzW1BSRUZfU1BPQ19DT1VOVFNdPy5zcGxpdChcIixcIilcbiAgICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkpXG4gICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0pIHx8IFtdO1xuXG4gICAgICAvLyBDb25maXJtIHRoYXQgdGhlIElBQiB0eXBlIHdpbGwgaGF2ZSBhIGNvdW50IHZhbHVlIG9mIFwiMVwiXG4gICAgICBjb25zdCBzdXBwb3J0SUFCQWRUeXBlcyA9IFtcbiAgICAgICAgXCJuZXd0YWJfbGVhZGVyYm9hcmRcIixcbiAgICAgICAgXCJuZXd0YWJfcmVjdGFuZ2xlXCIsXG4gICAgICAgIFwibmV3dGFiX2JpbGxib2FyZFwiLFxuICAgICAgXTtcbiAgICAgIGxldCBjb3VudFZhbHVlO1xuICAgICAgaWYgKHN1cHBvcnRJQUJBZFR5cGVzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICBjb3VudFZhbHVlID0gXCIxXCI7IC8vIERlZmF1bHQgY291bnQgdmFsdWUgZm9yIGFsbCBJQUIgYWQgdHlwZXNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklBQiBhZCB0eXBlIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmVzc2VkKSB7XG4gICAgICAgIC8vIElmIHByZXNzZWQgaXMgdHJ1ZSwgYWRkIHRoZSBpZCB0byB0aGUgcGxhY2VtZW50cyBhcnJheVxuICAgICAgICBpZiAoIXBsYWNlbWVudHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgcGxhY2VtZW50cy5wdXNoKGlkKTtcbiAgICAgICAgICBjb3VudHMucHVzaChjb3VudFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgcHJlc3NlZCBpcyBmYWxzZSwgcmVtb3ZlIHRoZSBpZCBmcm9tIHRoZSBwbGFjZW1lbnRzIGFycmF5XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGxhY2VtZW50cy5pbmRleE9mKGlkKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHBsYWNlbWVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBjb3VudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwbGFjZW1lbnRzOiBwbGFjZW1lbnRzLmpvaW4oXCIsIFwiKSxcbiAgICAgICAgY291bnRzOiBjb3VudHMuam9pbihcIiwgXCIpLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3QgeyBwbGFjZW1lbnRzLCBjb3VudHMgfSA9IGdlbmVyYXRlU3BvY1ByZWZWYWx1ZXMoKTtcblxuICAgIC8vIFVwZGF0ZSBwcmVmcyB3aXRoIG5ldyB2YWx1ZXNcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9TUE9DX1BMQUNFTUVOVFMsIHBsYWNlbWVudHMpKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9TUE9DX0NPVU5UUywgY291bnRzKSk7XG5cbiAgICAvLyBJZiBjb250ZXh0dWFsIGFkcywgc2VjdGlvbnMsIGFuZCBvbmUgb2YgdGhlIGJhbm5lcnMgYXJlIGVuYWJsZWRcbiAgICAvLyB1cGRhdGUgdGhlIGNvbnRleHR1YWxCYW5uZXIgcHJlZnMgdG8gaW5jbHVkZSB0aGUgYmFubmVyIHZhbHVlIGFuZCBjb3VudFxuICAgIC8vIEVsc2UsIGNsZWFyIHRoZSBwcmVmc1xuICAgIGlmIChQUkVGX0NPTlRFWFRVQUxfQURTX0VOQUJMRUQgJiYgUFJFRl9TRUNUSU9OU19FTkFCTEVEKSB7XG4gICAgICBpZiAoUFJFRl9BRF9TSVpFX0JJTExCT0FSRCAmJiBwbGFjZW1lbnRzLmluY2x1ZGVzKFwibmV3dGFiX2JpbGxib2FyZFwiKSkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLlNldFByZWYoUFJFRl9DT05URVhUVUFMX0JBTk5FUl9QTEFDRU1FTlRTLCBcIm5ld3RhYl9iaWxsYm9hcmRcIilcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFBSRUZfQ09OVEVYVFVBTF9CQU5ORVJfQ09VTlRTLCBcIjFcIikpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgUFJFRl9BRF9TSVpFX0xFQURFUkJPQVJEICYmXG4gICAgICAgIHBsYWNlbWVudHMuaW5jbHVkZXMoXCJuZXd0YWJfbGVhZGVyYm9hcmRcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLlNldFByZWYoUFJFRl9DT05URVhUVUFMX0JBTk5FUl9QTEFDRU1FTlRTLCBcIm5ld3RhYl9sZWFkZXJib2FyZFwiKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9DT05URVhUVUFMX0JBTk5FUl9DT1VOVFMsIFwiMVwiKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9DT05URVhUVUFMX0JBTk5FUl9QTEFDRU1FTlRTLCBcIlwiKSk7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX0NPTlRFWFRVQUxfQkFOTkVSX0NPVU5UUywgXCJcIikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVNlY3Rpb25zVG9nZ2xlKGUpIHtcbiAgICBjb25zdCB7IHByZXNzZWQgfSA9IGUudGFyZ2V0O1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX1NFQ1RJT05TX0VOQUJMRUQsIHByZXNzZWQpKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuU2V0UHJlZihcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5jYXJkcy5lbmFibGVkXCIsIHByZXNzZWQpXG4gICAgKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuU2V0UHJlZihcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5jYXJkcy50aHVtYnNVcERvd24uZW5hYmxlZFwiLCBwcmVzc2VkKVxuICAgICk7XG4gIH1cblxuICByZW5kZXJDb21wb25lbnQod2lkdGgsIGNvbXBvbmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dGFibGU+XG4gICAgICAgIDx0Ym9keT5cbiAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPlR5cGU8L3RkPlxuICAgICAgICAgICAgPHRkPntjb21wb25lbnQudHlwZX08L3RkPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+V2lkdGg8L3RkPlxuICAgICAgICAgICAgPHRkPnt3aWR0aH08L3RkPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIHtjb21wb25lbnQuZmVlZCAmJiB0aGlzLnJlbmRlckZlZWQoY29tcG9uZW50LmZlZWQpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyV2VhdGhlckRhdGEoKSB7XG4gICAgY29uc3QgeyBzdWdnZXN0aW9ucyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5XZWF0aGVyO1xuICAgIGxldCB3ZWF0aGVyVGFibGU7XG4gICAgaWYgKHN1Z2dlc3Rpb25zKSB7XG4gICAgICB3ZWF0aGVyVGFibGUgPSAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VhdGhlci1zZWN0aW9uXCI+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlV2VhdGhlclN1Ym1pdH0+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIndlYXRoZXItcXVlcnlcIj5XZWF0aGVyIHF1ZXJ5PC9sYWJlbD5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIG1pbj1cIjNcIlxuICAgICAgICAgICAgICBtYXg9XCIxMFwiXG4gICAgICAgICAgICAgIGlkPVwid2VhdGhlci1xdWVyeVwiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVdlYXRoZXJVcGRhdGV9XG4gICAgICAgICAgICAgIHZhbHVlPXt0aGlzLndlYXRoZXJRdWVyeX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5TdWJtaXQ8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPHRhYmxlPlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICB7c3VnZ2VzdGlvbnMubWFwKHN1Z2dlc3Rpb24gPT4gKFxuICAgICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIiBrZXk9e3N1Z2dlc3Rpb24uY2l0eV9uYW1lfT5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtZXNzYWdlLWlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHtzdWdnZXN0aW9uLmNpdHlfbmFtZX0gPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1zdW1tYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KHN1Z2dlc3Rpb24sIG51bGwsIDIpfTwvcHJlPlxuICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gd2VhdGhlclRhYmxlO1xuICB9XG5cbiAgcmVuZGVyUGVyc29uYWxpemF0aW9uRGF0YSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmZlcnJlZEludGVyZXN0cyxcbiAgICAgIGNvYXJzZUluZmVycmVkSW50ZXJlc3RzLFxuICAgICAgY29hcnNlUHJpdmF0ZUluZmVycmVkSW50ZXJlc3RzLFxuICAgIH0gPSB0aGlzLnByb3BzLnN0YXRlLkluZmVycmVkUGVyc29uYWxpemF0aW9uO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7XCIgXCJ9XG4gICAgICAgIEluZmVycmVkIEludGVyZXN0czpcbiAgICAgICAgPHByZT57SlNPTi5zdHJpbmdpZnkoaW5mZXJyZWRJbnRlcmVzdHMsIG51bGwsIDIpfTwvcHJlPiBDb2Fyc2UgSW5mZXJyZWRcbiAgICAgICAgSW50ZXJlc3RzOlxuICAgICAgICA8cHJlPntKU09OLnN0cmluZ2lmeShjb2Fyc2VJbmZlcnJlZEludGVyZXN0cywgbnVsbCwgMil9PC9wcmU+IENvYXJzZVxuICAgICAgICBJbmZlcnJlZCBJbnRlcmVzdHMgV2l0aCBEaWZmZXJlbnRpYWwgUHJpdmFjeTpcbiAgICAgICAgPHByZT57SlNPTi5zdHJpbmdpZnkoY29hcnNlUHJpdmF0ZUluZmVycmVkSW50ZXJlc3RzLCBudWxsLCAyKX08L3ByZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJGZWVkRGF0YSh1cmwpIHtcbiAgICBjb25zdCB7IGZlZWRzIH0gPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbTtcbiAgICBjb25zdCBmZWVkID0gZmVlZHMuZGF0YVt1cmxdLmRhdGE7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGg0PkZlZWQgdXJsOiB7dXJsfTwvaDQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7ZmVlZC5yZWNvbW1lbmRhdGlvbnM/Lm1hcChzdG9yeSA9PiB0aGlzLnJlbmRlclN0b3J5RGF0YShzdG9yeSkpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJGZWVkc0RhdGEoKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAge09iamVjdC5rZXlzKGZlZWRzLmRhdGEpLm1hcCh1cmwgPT4gdGhpcy5yZW5kZXJGZWVkRGF0YSh1cmwpKX1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckltcHJlc3Npb25zRGF0YSgpIHtcbiAgICBjb25zdCB7IGltcHJlc3Npb25zIH0gPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbTtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGg0PkZlZWQgSW1wcmVzc2lvbnM8L2g0PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge09iamVjdC5rZXlzKGltcHJlc3Npb25zLmZlZWQpLm1hcChrZXkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxSb3cga2V5PXtrZXl9PlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPntrZXl9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD57cmVsYXRpdmVUaW1lKGltcHJlc3Npb25zLmZlZWRba2V5XSkgfHwgXCIobm8gZGF0YSlcIn08L3RkPlxuICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJCbG9ja3NEYXRhKCkge1xuICAgIGNvbnN0IHsgYmxvY2tzIH0gPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbTtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGg0PkJsb2NrczwvaDQ+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5yZXNldEJsb2Nrc30+XG4gICAgICAgICAgUmVzZXQgQmxvY2tzXG4gICAgICAgIDwvYnV0dG9uPntcIiBcIn1cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtPYmplY3Qua2V5cyhibG9ja3MpLm1hcChrZXkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxSb3cga2V5PXtrZXl9PlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPntrZXl9PC90ZD5cbiAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyU3BvY3MoKSB7XG4gICAgY29uc3QgeyBzcG9jcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG5cbiAgICBjb25zdCB1bmlmaWVkQWRzU3BvY3NFbmFibGVkID1cbiAgICAgIHRoaXMucHJvcHMub3RoZXJQcmVmc1tcInVuaWZpZWRBZHMuc3BvY3MuZW5hYmxlZFwiXTtcblxuICAgIC8vIERldGVybWluZSB3aGljaCBtZWNoYW5pc20gaXMgcXVlcnlpbmcgdGhlIFVBUEkgYWRzIHNlcnZlclxuICAgIGNvbnN0IFBSRUZfVU5JRklFRF9BRFNfQURTRkVFRF9FTkFCTEVEID0gXCJ1bmlmaWVkQWRzLmFkc0ZlZWQuZW5hYmxlZFwiO1xuICAgIGNvbnN0IGFkc0ZlZWRFbmFibGVkID1cbiAgICAgIHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX1VOSUZJRURfQURTX0FEU0ZFRURfRU5BQkxFRF07XG5cbiAgICBjb25zdCB1bmlmaWVkQWRzRW5kcG9pbnQgPSB0aGlzLnByb3BzLm90aGVyUHJlZnNbXCJ1bmlmaWVkQWRzLmVuZHBvaW50XCJdO1xuXG4gICAgbGV0IHNwb2NzRGF0YSA9IFtdO1xuXG4gICAgaWYgKFxuICAgICAgc3BvY3MuZGF0YSAmJlxuICAgICAgc3BvY3MuZGF0YS5uZXd0YWJfc3BvY3MgJiZcbiAgICAgIHNwb2NzLmRhdGEubmV3dGFiX3Nwb2NzLml0ZW1zXG4gICAgKSB7XG4gICAgICBzcG9jc0RhdGEgPSBzcG9jcy5kYXRhLm5ld3RhYl9zcG9jcy5pdGVtcyB8fCBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPmFkc2ZlZWQgZW5hYmxlZDwvdGQ+XG4gICAgICAgICAgICAgIDx0ZD57YWRzRmVlZEVuYWJsZWQgPyBcInRydWVcIiA6IFwiZmFsc2VcIn08L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+c3BvY3NfZW5kcG9pbnQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAge3VuaWZpZWRBZHNTcG9jc0VuYWJsZWRcbiAgICAgICAgICAgICAgICAgID8gdW5pZmllZEFkc0VuZHBvaW50XG4gICAgICAgICAgICAgICAgICA6IHNwb2NzLnNwb2NzX2VuZHBvaW50fVxuICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+RGF0YSBsYXN0IGZldGNoZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e3JlbGF0aXZlVGltZShzcG9jcy5sYXN0VXBkYXRlZCl9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICAgIDxoND5TcG9jIGRhdGE8L2g0PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PntzcG9jc0RhdGEubWFwKHNwb2MgPT4gdGhpcy5yZW5kZXJTdG9yeURhdGEoc3BvYykpfTwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICAgIDxoND5TcG9jIGZyZXF1ZW5jeSBjYXBzPC9oND5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtzcG9jcy5mcmVxdWVuY3lfY2Fwcy5tYXAoc3BvYyA9PiB0aGlzLnJlbmRlclN0b3J5RGF0YShzcG9jKSl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIG9uU3RvcnlUb2dnbGUoc3RvcnkpIHtcbiAgICBjb25zdCB7IHRvZ2dsZWRTdG9yaWVzIH0gPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdG9nZ2xlZFN0b3JpZXM6IHtcbiAgICAgICAgLi4udG9nZ2xlZFN0b3JpZXMsXG4gICAgICAgIFtzdG9yeS5pZF06ICF0b2dnbGVkU3Rvcmllc1tzdG9yeS5pZF0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyU3RvcnlEYXRhKHN0b3J5KSB7XG4gICAgbGV0IHN0b3J5RGF0YSA9IFwiXCI7XG4gICAgaWYgKHRoaXMuc3RhdGUudG9nZ2xlZFN0b3JpZXNbc3RvcnkuaWRdKSB7XG4gICAgICBzdG9yeURhdGEgPSBKU09OLnN0cmluZ2lmeShzdG9yeSwgbnVsbCwgMik7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8dHIgY2xhc3NOYW1lPVwibWVzc2FnZS1pdGVtXCIga2V5PXtzdG9yeS5pZH0+XG4gICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtZXNzYWdlLWlkXCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICB7c3RvcnkuaWR9IDxiciAvPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8VG9nZ2xlU3RvcnlCdXR0b24gc3Rvcnk9e3N0b3J5fSBvbkNsaWNrPXt0aGlzLm9uU3RvcnlUb2dnbGV9IC8+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtZXNzYWdlLXN1bW1hcnlcIj5cbiAgICAgICAgICA8cHJlPntzdG9yeURhdGF9PC9wcmU+XG4gICAgICAgIDwvdGQ+XG4gICAgICA8L3RyPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJGZWVkKGZlZWQpIHtcbiAgICBjb25zdCB7IGZlZWRzIH0gPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbTtcbiAgICBpZiAoIWZlZWQudXJsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPFJvdz5cbiAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+RmVlZCB1cmw8L3RkPlxuICAgICAgICAgIDx0ZD57ZmVlZC51cmx9PC90ZD5cbiAgICAgICAgPC9Sb3c+XG4gICAgICAgIDxSb3c+XG4gICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkRhdGEgbGFzdCBmZXRjaGVkPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICB7cmVsYXRpdmVUaW1lKFxuICAgICAgICAgICAgICBmZWVkcy5kYXRhW2ZlZWQudXJsXSA/IGZlZWRzLmRhdGFbZmVlZC51cmxdLmxhc3RVcGRhdGVkIDogbnVsbFxuICAgICAgICAgICAgKSB8fCBcIihubyBkYXRhKVwifVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvUm93PlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHByZWZUb2dnbGVzID0gXCJlbmFibGVkIGNvbGxhcHNpYmxlXCIuc3BsaXQoXCIgXCIpO1xuICAgIGNvbnN0IHsgY29uZmlnLCBsYXlvdXQgfSA9IHRoaXMucHJvcHMuc3RhdGUuRGlzY292ZXJ5U3RyZWFtO1xuICAgIGNvbnN0IHBlcnNvbmFsaXplZCA9XG4gICAgICB0aGlzLnByb3BzLm90aGVyUHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0ucGVyc29uYWxpemF0aW9uLmVuYWJsZWRcIl07XG4gICAgY29uc3Qgc2VsZWN0ZWRGZWVkID1cbiAgICAgIHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9TRUxFQ1RFRF9GRUVEXTtcbiAgICBjb25zdCBzZWN0aW9uc0VuYWJsZWQgPSB0aGlzLnByb3BzLm90aGVyUHJlZnNbUFJFRl9TRUNUSU9OU19FTkFCTEVEXTtcbiAgICBjb25zdCBUQlJGZWVkcyA9IHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9GRUVEU10uc3BsaXQoXG4gICAgICBcIixcIlxuICAgIClcbiAgICAgIC5tYXAocyA9PiBzLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtKTtcblxuICAgIC8vIFByZWZzIGZvciBJQUIgQmFubmVyc1xuICAgIGNvbnN0IG1lZGl1bVJlY3RhbmdsZUVuYWJsZWQgPVxuICAgICAgdGhpcy5wcm9wcy5vdGhlclByZWZzW1BSRUZfQURfU0laRV9NRURJVU1fUkVDVEFOR0xFXTtcbiAgICBjb25zdCBiaWxsYm9hcmRzRW5hYmxlZCA9IHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX0FEX1NJWkVfQklMTEJPQVJEXTtcbiAgICBjb25zdCBsZWFkZXJib2FyZEVuYWJsZWQgPSB0aGlzLnByb3BzLm90aGVyUHJlZnNbUFJFRl9BRF9TSVpFX0xFQURFUkJPQVJEXTtcbiAgICBjb25zdCBzcG9jUGxhY2VtZW50cyA9IHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX1NQT0NfUExBQ0VNRU5UU107XG4gICAgY29uc3QgbWVkaXVtUmVjdGFuZ2xlRW5hYmxlZFByZXNzZWQgPVxuICAgICAgbWVkaXVtUmVjdGFuZ2xlRW5hYmxlZCAmJiBzcG9jUGxhY2VtZW50cy5pbmNsdWRlcyhcIm5ld3RhYl9yZWN0YW5nbGVcIik7XG4gICAgY29uc3QgYmlsbGJvYXJkUHJlc3NlZCA9XG4gICAgICBiaWxsYm9hcmRzRW5hYmxlZCAmJiBzcG9jUGxhY2VtZW50cy5pbmNsdWRlcyhcIm5ld3RhYl9iaWxsYm9hcmRcIik7XG4gICAgY29uc3QgbGVhZGVyYm9hcmRQcmVzc2VkID1cbiAgICAgIGxlYWRlcmJvYXJkRW5hYmxlZCAmJiBzcG9jUGxhY2VtZW50cy5pbmNsdWRlcyhcIm5ld3RhYl9sZWFkZXJib2FyZFwiKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucmVzdG9yZVByZWZEZWZhdWx0c30+XG4gICAgICAgICAgUmVzdG9yZSBQcmVmIERlZmF1bHRzXG4gICAgICAgIDwvYnV0dG9uPntcIiBcIn1cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnJlZnJlc2hDYWNoZX0+XG4gICAgICAgICAgUmVmcmVzaCBDYWNoZVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5leHBpcmVDYWNoZX0+XG4gICAgICAgICAgRXhwaXJlIENhY2hlXG4gICAgICAgIDwvYnV0dG9uPntcIiBcIn1cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnN5c3RlbVRpY2t9PlxuICAgICAgICAgIFRyaWdnZXIgU3lzdGVtIFRpY2tcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaWRsZURhaWx5fT5cbiAgICAgICAgICBUcmlnZ2VyIElkbGUgRGFpbHlcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxiciAvPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlZnJlc2hJbmZlcnJlZFBlcnNvbmFsaXphdGlvbn1cbiAgICAgICAgPlxuICAgICAgICAgIFJlZnJlc2ggSW5mZXJyZWQgUGVyc29uYWxpemF0aW9uXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnN5bmNSZW1vdGVTZXR0aW5nc30+XG4gICAgICAgICAgU3luYyBSZW1vdGUgU2V0dGluZ3NcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucmVmcmVzaFRvcGljU2VsZWN0aW9uQ2FjaGV9PlxuICAgICAgICAgIFJlZnJlc2ggVG9waWMgc2VsZWN0aW9uIGNvdW50XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnNob3dQbGFjZWhvbGRlcn0+XG4gICAgICAgICAgU2hvdyBQbGFjZWhvbGRlciBDYXJkc1xuICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgIDxzZWxlY3RcbiAgICAgICAgICBjbGFzc05hbWU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnRvZ2dsZVRCUkZlZWR9XG4gICAgICAgICAgdmFsdWU9e3NlbGVjdGVkRmVlZH1cbiAgICAgICAgPlxuICAgICAgICAgIHtUQlJGZWVkcy5tYXAoZmVlZCA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIGtleT17ZmVlZH0gdmFsdWU9e2ZlZWR9PlxuICAgICAgICAgICAgICB7ZmVlZH1cbiAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b2dnbGUtd3JhcHBlclwiPlxuICAgICAgICAgIDxtb3otdG9nZ2xlXG4gICAgICAgICAgICBpZD1cInNlY3Rpb25zLXRvZ2dsZVwiXG4gICAgICAgICAgICBwcmVzc2VkPXtzZWN0aW9uc0VuYWJsZWQgfHwgbnVsbH1cbiAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLmhhbmRsZVNlY3Rpb25zVG9nZ2xlfVxuICAgICAgICAgICAgbGFiZWw9XCJUb2dnbGUgRFMgU2VjdGlvbnNcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7LyogQ29sbGFwc2libGUgU2VjdGlvbnMgZm9yIGV4cGVyaW1lbnRzIGZvciBlYXN5IG9uL29mZiAqL31cbiAgICAgICAgPGRldGFpbHMgY2xhc3NOYW1lPVwiZGV0YWlscy1zZWN0aW9uXCI+XG4gICAgICAgICAgPHN1bW1hcnk+SUFCIEJhbm5lciBBZCBTaXplczwvc3VtbWFyeT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvZ2dsZS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICBpZD1cIm5ld3RhYl9sZWFkZXJib2FyZFwiXG4gICAgICAgICAgICAgIHByZXNzZWQ9e2xlYWRlcmJvYXJkUHJlc3NlZCB8fCBudWxsfVxuICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy50b2dnbGVJQUJCYW5uZXJzfVxuICAgICAgICAgICAgICBsYWJlbD1cIkVuYWJsZSBJQUIgTGVhZGVyYm9hcmRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvZ2dsZS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICBpZD1cIm5ld3RhYl9iaWxsYm9hcmRcIlxuICAgICAgICAgICAgICBwcmVzc2VkPXtiaWxsYm9hcmRQcmVzc2VkIHx8IG51bGx9XG4gICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLnRvZ2dsZUlBQkJhbm5lcnN9XG4gICAgICAgICAgICAgIGxhYmVsPVwiRW5hYmxlIElBQiBCaWxsYm9hcmRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvZ2dsZS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICBpZD1cIm5ld3RhYl9yZWN0YW5nbGVcIlxuICAgICAgICAgICAgICBwcmVzc2VkPXttZWRpdW1SZWN0YW5nbGVFbmFibGVkUHJlc3NlZCB8fCBudWxsfVxuICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy50b2dnbGVJQUJCYW5uZXJzfVxuICAgICAgICAgICAgICBsYWJlbD1cIkVuYWJsZSBJQUIgTWVkaXVtIFJlY3RhbmdsZSAoTVJFQylcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kZXRhaWxzPlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge3ByZWZUb2dnbGVzLm1hcChwcmVmID0+IChcbiAgICAgICAgICAgICAgPFJvdyBrZXk9e3ByZWZ9PlxuICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgIDxUb2dnbGVQcmVmQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y29uZmlnW3ByZWZdfVxuICAgICAgICAgICAgICAgICAgICBwcmVmPXtwcmVmfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5zZXRDb25maWdWYWx1ZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDM+TGF5b3V0PC9oMz5cbiAgICAgICAge2xheW91dC5tYXAoKHJvdywgcm93SW5kZXgpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17YHJvdy0ke3Jvd0luZGV4fWB9PlxuICAgICAgICAgICAge3Jvdy5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50LCBjb21wb25lbnRJbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17YGNvbXBvbmVudC0ke2NvbXBvbmVudEluZGV4fWB9IGNsYXNzTmFtZT1cImRzLWNvbXBvbmVudFwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckNvbXBvbmVudChyb3cud2lkdGgsIGNvbXBvbmVudCl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgICA8aDM+UGVyc29uYWxpemF0aW9uPC9oMz5cbiAgICAgICAgPFBlcnNvbmFsaXphdGlvblxuICAgICAgICAgIHBlcnNvbmFsaXplZD17cGVyc29uYWxpemVkfVxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIHN0YXRlPXt7XG4gICAgICAgICAgICBQZXJzb25hbGl6YXRpb246IHRoaXMucHJvcHMuc3RhdGUuUGVyc29uYWxpemF0aW9uLFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxoMz5TcG9jczwvaDM+XG4gICAgICAgIHt0aGlzLnJlbmRlclNwb2NzKCl9XG4gICAgICAgIDxoMz5GZWVkcyBEYXRhPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYXJnZS1kYXRhLWNvbnRhaW5lclwiPnt0aGlzLnJlbmRlckZlZWRzRGF0YSgpfTwvZGl2PlxuICAgICAgICA8aDM+SW1wcmVzc2lvbnMgRGF0YTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGFyZ2UtZGF0YS1jb250YWluZXJcIj5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJJbXByZXNzaW9uc0RhdGEoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxoMz5CbG9ja2VkIERhdGE8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhcmdlLWRhdGEtY29udGFpbmVyXCI+e3RoaXMucmVuZGVyQmxvY2tzRGF0YSgpfTwvZGl2PlxuICAgICAgICA8aDM+V2VhdGhlciBEYXRhPC9oMz5cbiAgICAgICAge3RoaXMucmVuZGVyV2VhdGhlckRhdGEoKX1cbiAgICAgICAgPGgzPlBlcnNvbmFsaXphdGlvbiBEYXRhPC9oMz5cbiAgICAgICAge3RoaXMucmVuZGVyUGVyc29uYWxpemF0aW9uRGF0YSgpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlzY292ZXJ5U3RyZWFtQWRtaW5Jbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnNldFN0YXRlID0gdGhpcy5zZXRTdGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGRpc2NvdmVyeXN0cmVhbS1hZG1pbiAke1xuICAgICAgICAgIHRoaXMucHJvcHMuY29sbGFwc2VkID8gXCJjb2xsYXBzZWRcIiA6IFwiZXhwYW5kZWRcIlxuICAgICAgICB9YH1cbiAgICAgID5cbiAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibWFpbi1wYW5lbFwiPlxuICAgICAgICAgIDxoMT5EaXNjb3ZlcnkgU3RyZWFtIEFkbWluPC9oMT5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImhlbHBMaW5rXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24taW5mb1wiIC8+e1wiIFwifVxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIE5lZWQgdG8gYWNjZXNzIHRoZSBBU1JvdXRlciBBZG1pbiBkZXYgdG9vbHM/e1wiIFwifVxuICAgICAgICAgICAgICA8YSB0YXJnZXQ9XCJibGFua1wiIGhyZWY9XCJhYm91dDphc3JvdXRlclwiPlxuICAgICAgICAgICAgICAgIENsaWNrIGhlcmVcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvcD5cblxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1BZG1pblVJXG4gICAgICAgICAgICAgIHN0YXRlPXt7XG4gICAgICAgICAgICAgICAgRGlzY292ZXJ5U3RyZWFtOiB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbSxcbiAgICAgICAgICAgICAgICBQZXJzb25hbGl6YXRpb246IHRoaXMucHJvcHMuUGVyc29uYWxpemF0aW9uLFxuICAgICAgICAgICAgICAgIFdlYXRoZXI6IHRoaXMucHJvcHMuV2VhdGhlcixcbiAgICAgICAgICAgICAgICBJbmZlcnJlZFBlcnNvbmFsaXphdGlvbjogdGhpcy5wcm9wcy5JbmZlcnJlZFBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb3RoZXJQcmVmcz17dGhpcy5wcm9wcy5QcmVmcy52YWx1ZXN9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICA8L21haW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xsYXBzZVRvZ2dsZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ29sbGFwc2VUb2dnbGUgPSB0aGlzLm9uQ29sbGFwc2VUb2dnbGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0geyBjb2xsYXBzZWQ6IGZhbHNlIH07XG4gIH1cblxuICBnZXQgcmVuZGVyQWRtaW4oKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICByZXR1cm4gcHJvcHMubG9jYXRpb24uaGFzaCAmJiBwcm9wcy5sb2NhdGlvbi5oYXNoLnN0YXJ0c1dpdGgoXCIjZGV2dG9vbHNcIik7XG4gIH1cblxuICBvbkNvbGxhcHNlVG9nZ2xlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoeyBjb2xsYXBzZWQ6ICFzdGF0ZS5jb2xsYXBzZWQgfSkpO1xuICB9XG5cbiAgc2V0Qm9keUNsYXNzKCkge1xuICAgIGlmICh0aGlzLnJlbmRlckFkbWluICYmICF0aGlzLnN0YXRlLmNvbGxhcHNlZCkge1xuICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJuby1zY3JvbGxcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibm8tc2Nyb2xsXCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0Qm9keUNsYXNzKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5zZXRCb2R5Q2xhc3MoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibm8tc2Nyb2xsXCIpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyByZW5kZXJBZG1pbiB9ID0gdGhpcztcbiAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHRoaXMuc3RhdGUuY29sbGFwc2VkIHx8ICFyZW5kZXJBZG1pbjtcbiAgICBjb25zdCBsYWJlbCA9IGAke2lzQ29sbGFwc2VkID8gXCJFeHBhbmRcIiA6IFwiQ29sbGFwc2VcIn0gZGV2dG9vbHNgO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj1cIiNkZXZ0b29sc1wiXG4gICAgICAgICAgdGl0bGU9e2xhYmVsfVxuICAgICAgICAgIGFyaWEtbGFiZWw9e2xhYmVsfVxuICAgICAgICAgIGNsYXNzTmFtZT17YGRpc2NvdmVyeXN0cmVhbS1hZG1pbi10b2dnbGUgJHtcbiAgICAgICAgICAgIGlzQ29sbGFwc2VkID8gXCJjb2xsYXBzZWRcIiA6IFwiZXhwYW5kZWRcIlxuICAgICAgICAgIH1gfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucmVuZGVyQWRtaW4gPyB0aGlzLm9uQ29sbGFwc2VUb2dnbGUgOiBudWxsfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLWRldnRvb2xzXCIgLz5cbiAgICAgICAgPC9hPlxuICAgICAgICB7cmVuZGVyQWRtaW4gPyAoXG4gICAgICAgICAgPERpc2NvdmVyeVN0cmVhbUFkbWluSW5uZXJcbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIGNvbGxhcHNlZD17dGhpcy5zdGF0ZS5jb2xsYXBzZWR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgX0Rpc2NvdmVyeVN0cmVhbUFkbWluID0gcHJvcHMgPT4gKFxuICA8U2ltcGxlSGFzaFJvdXRlcj5cbiAgICA8Q29sbGFwc2VUb2dnbGUgey4uLnByb3BzfSAvPlxuICA8L1NpbXBsZUhhc2hSb3V0ZXI+XG4pO1xuXG5leHBvcnQgY29uc3QgRGlzY292ZXJ5U3RyZWFtQWRtaW4gPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFNlY3Rpb25zOiBzdGF0ZS5TZWN0aW9ucyxcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG4gIFBlcnNvbmFsaXphdGlvbjogc3RhdGUuUGVyc29uYWxpemF0aW9uLFxuICBJbmZlcnJlZFBlcnNvbmFsaXphdGlvbjogc3RhdGUuSW5mZXJyZWRQZXJzb25hbGl6YXRpb24sXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbiAgV2VhdGhlcjogc3RhdGUuV2VhdGhlcixcbn0pKShfRGlzY292ZXJ5U3RyZWFtQWRtaW4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG4vKipcbiAqIENvbmZpcm1EaWFsb2cgY29tcG9uZW50LlxuICogT25lIHByaW1hcnkgYWN0aW9uIGJ1dHRvbiwgb25lIGNhbmNlbCBidXR0b24uXG4gKlxuICogQ29udGVudCBkaXNwbGF5ZWQgaXMgY29udHJvbGxlZCBieSBgZGF0YWAgcHJvcCB0aGUgY29tcG9uZW50IHJlY2VpdmVzLlxuICogRXhhbXBsZTpcbiAqIGRhdGE6IHtcbiAqICAgLy8gQW55IHNvcnQgb2YgZGF0YSBuZWVkZWQgdG8gYmUgcGFzc2VkIGFyb3VuZCBieSBhY3Rpb25zLlxuICogICBwYXlsb2FkOiBzaXRlLnVybCxcbiAqICAgLy8gUHJpbWFyeSBidXR0b24gQWxzb1RvTWFpbiBhY3Rpb24uXG4gKiAgIGFjdGlvbjogXCJERUxFVEVfSElTVE9SWV9VUkxcIixcbiAqICAgLy8gUHJpbWFyeSBidXR0b24gVVNlckV2ZW50IGFjdGlvbi5cbiAqICAgdXNlckV2ZW50OiBcIkRFTEVURVwiLFxuICogICAvLyBBcnJheSBvZiBsb2NhbGUgaWRzIHRvIGRpc3BsYXkuXG4gKiAgIG1lc3NhZ2VfYm9keTogW1wiY29uZmlybV9oaXN0b3J5X2RlbGV0ZV9wMVwiLCBcImNvbmZpcm1faGlzdG9yeV9kZWxldGVfbm90aWNlX3AyXCJdLFxuICogICAvLyBUZXh0IGZvciBwcmltYXJ5IGJ1dHRvbi5cbiAqICAgY29uZmlybV9idXR0b25fc3RyaW5nX2lkOiBcIm1lbnVfYWN0aW9uX2RlbGV0ZVwiXG4gKiB9LFxuICovXG5leHBvcnQgY2xhc3MgX0NvbmZpcm1EaWFsb2cgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5faGFuZGxlQ2FuY2VsQnRuID0gdGhpcy5faGFuZGxlQ2FuY2VsQnRuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlQ29uZmlybUJ0biA9IHRoaXMuX2hhbmRsZUNvbmZpcm1CdG4uYmluZCh0aGlzKTtcbiAgfVxuXG4gIF9oYW5kbGVDYW5jZWxCdG4oKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGFjdGlvblR5cGVzLkRJQUxPR19DQU5DRUwgfSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiBhY3Rpb25UeXBlcy5ESUFMT0dfQ0FOQ0VMLFxuICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuZGF0YS5ldmVudFNvdXJjZSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIF9oYW5kbGVDb25maXJtQnRuKCkge1xuICAgIHRoaXMucHJvcHMuZGF0YS5vbkNvbmZpcm0uZm9yRWFjaCh0aGlzLnByb3BzLmRpc3BhdGNoKTtcbiAgfVxuXG4gIF9yZW5kZXJNb2RhbE1lc3NhZ2UoKSB7XG4gICAgY29uc3QgbWVzc2FnZV9ib2R5ID0gdGhpcy5wcm9wcy5kYXRhLmJvZHlfc3RyaW5nX2lkO1xuXG4gICAgaWYgKCFtZXNzYWdlX2JvZHkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8c3Bhbj5cbiAgICAgICAge21lc3NhZ2VfYm9keS5tYXAobXNnID0+IChcbiAgICAgICAgICA8cCBrZXk9e21zZ30gZGF0YS1sMTBuLWlkPXttc2d9IC8+XG4gICAgICAgICkpfVxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnZpc2libGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbmZpcm1hdGlvbi1kaWFsb2dcIj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLW92ZXJsYXlcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNhbmNlbEJ0bn1cbiAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbFwiPlxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cIm1vZGFsLW1lc3NhZ2VcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmRhdGEuaWNvbiAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaWNvbiBpY29uLXNwYWNlciBpY29uLSR7dGhpcy5wcm9wcy5kYXRhLmljb259YH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7dGhpcy5fcmVuZGVyTW9kYWxNZXNzYWdlKCl9XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImFjdGlvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5faGFuZGxlQ2FuY2VsQnRufVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e3RoaXMucHJvcHMuZGF0YS5jYW5jZWxfYnV0dG9uX3N0cmluZ19pZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbmVcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLl9oYW5kbGVDb25maXJtQnRufVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e3RoaXMucHJvcHMuZGF0YS5jb25maXJtX2J1dHRvbl9zdHJpbmdfaWR9XG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPXtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRhdGEuY29uZmlybV9idXR0b25fc3RyaW5nX2FyZ3NcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IENvbmZpcm1EaWFsb2cgPSBjb25uZWN0KHN0YXRlID0+IHN0YXRlLkRpYWxvZykoX0NvbmZpcm1EaWFsb2cpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBQTEFDRUhPTERFUl9JTUFHRV9EQVRBX0FSUkFZID0gW1xuICB7XG4gICAgcm90YXRpb246IFwiMGRlZ1wiLFxuICAgIG9mZnNldHg6IFwiMjBweFwiLFxuICAgIG9mZnNldHk6IFwiOHB4XCIsXG4gICAgc2NhbGU6IFwiNDUlXCIsXG4gIH0sXG4gIHtcbiAgICByb3RhdGlvbjogXCI1NGRlZ1wiLFxuICAgIG9mZnNldHg6IFwiLTI2cHhcIixcbiAgICBvZmZzZXR5OiBcIjYycHhcIixcbiAgICBzY2FsZTogXCI1NSVcIixcbiAgfSxcbiAge1xuICAgIHJvdGF0aW9uOiBcIi0zMGRlZ1wiLFxuICAgIG9mZnNldHg6IFwiNzhweFwiLFxuICAgIG9mZnNldHk6IFwiMzBweFwiLFxuICAgIHNjYWxlOiBcIjY4JVwiLFxuICB9LFxuICB7XG4gICAgcm90YXRpb246IFwiLTIyZGVnXCIsXG4gICAgb2Zmc2V0eDogXCIwXCIsXG4gICAgb2Zmc2V0eTogXCI5MnB4XCIsXG4gICAgc2NhbGU6IFwiNjAlXCIsXG4gIH0sXG4gIHtcbiAgICByb3RhdGlvbjogXCItNjVkZWdcIixcbiAgICBvZmZzZXR4OiBcIjY2cHhcIixcbiAgICBvZmZzZXR5OiBcIjI4cHhcIixcbiAgICBzY2FsZTogXCI2MCVcIixcbiAgfSxcbiAge1xuICAgIHJvdGF0aW9uOiBcIjIyZGVnXCIsXG4gICAgb2Zmc2V0eDogXCItMzVweFwiLFxuICAgIG9mZnNldHk6IFwiNjJweFwiLFxuICAgIHNjYWxlOiBcIjUyJVwiLFxuICB9LFxuICB7XG4gICAgcm90YXRpb246IFwiLTI1ZGVnXCIsXG4gICAgb2Zmc2V0eDogXCI4NnB4XCIsXG4gICAgb2Zmc2V0eTogXCItMTVweFwiLFxuICAgIHNjYWxlOiBcIjY4JVwiLFxuICB9LFxuXTtcblxuY29uc3QgUExBQ0VIT0xERVJfSU1BR0VfQ09MT1JTX0FSUkFZID1cbiAgXCIjMDA5MEVEICNGRjRGNUYgIzJBQzNBMiAjRkY3MTM5ICNBMTcyRkYgI0ZGQTQzNyAjRkYyQThBXCIuc3BsaXQoXCIgXCIpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUluZGV4KHsga2V5Q29kZSwgbWF4IH0pIHtcbiAgaWYgKCFrZXlDb2RlKSB7XG4gICAgLy8gSnVzdCBncmFiIGEgcmFuZG9tIGluZGV4IGlmIHdlIGNhbm5vdCBnZW5lcmF0ZSBhbiBpbmRleCBmcm9tIGEga2V5LlxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpO1xuICB9XG5cbiAgY29uc3QgaGFzaFN0ciA9IHN0ciA9PiB7XG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgIGhhc2ggKz0gY2hhckNvZGU7XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9O1xuXG4gIGNvbnN0IGhhc2ggPSBoYXNoU3RyKGtleUNvZGUpO1xuICByZXR1cm4gaGFzaCAlIG1heDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBsYWNlaG9sZGVySW1hZ2UoeyB1cmxLZXksIHRpdGxlS2V5IH0pIHtcbiAgY29uc3QgZGF0YUluZGV4ID0gZ2VuZXJhdGVJbmRleCh7XG4gICAga2V5Q29kZTogdXJsS2V5LFxuICAgIG1heDogUExBQ0VIT0xERVJfSU1BR0VfREFUQV9BUlJBWS5sZW5ndGgsXG4gIH0pO1xuICBjb25zdCBjb2xvckluZGV4ID0gZ2VuZXJhdGVJbmRleCh7XG4gICAga2V5Q29kZTogdGl0bGVLZXksXG4gICAgbWF4OiBQTEFDRUhPTERFUl9JTUFHRV9DT0xPUlNfQVJSQVkubGVuZ3RoLFxuICB9KTtcbiAgY29uc3QgeyByb3RhdGlvbiwgb2Zmc2V0eCwgb2Zmc2V0eSwgc2NhbGUgfSA9XG4gICAgUExBQ0VIT0xERVJfSU1BR0VfREFUQV9BUlJBWVtkYXRhSW5kZXhdO1xuICBjb25zdCBjb2xvciA9IFBMQUNFSE9MREVSX0lNQUdFX0NPTE9SU19BUlJBWVtjb2xvckluZGV4XTtcbiAgY29uc3Qgc3R5bGUgPSB7XG4gICAgXCItLXBsYWNlaG9sZGVyQmFja2dyb3VuZENvbG9yXCI6IGNvbG9yLFxuICAgIFwiLS1wbGFjZWhvbGRlckJhY2tncm91bmRSb3RhdGlvblwiOiByb3RhdGlvbixcbiAgICBcIi0tcGxhY2Vob2xkZXJCYWNrZ3JvdW5kT2Zmc2V0eFwiOiBvZmZzZXR4LFxuICAgIFwiLS1wbGFjZWhvbGRlckJhY2tncm91bmRPZmZzZXR5XCI6IG9mZnNldHksXG4gICAgXCItLXBsYWNlaG9sZGVyQmFja2dyb3VuZFNjYWxlXCI6IHNjYWxlLFxuICB9O1xuXG4gIHJldHVybiA8ZGl2IHN0eWxlPXtzdHlsZX0gY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItaW1hZ2VcIiAvPjtcbn1cblxuZXhwb3J0IGNsYXNzIERTSW1hZ2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLm9uT3B0aW1pemVkSW1hZ2VFcnJvciA9IHRoaXMub25PcHRpbWl6ZWRJbWFnZUVycm9yLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk5vbk9wdGltaXplZEltYWdlRXJyb3IgPSB0aGlzLm9uTm9uT3B0aW1pemVkSW1hZ2VFcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Mb2FkID0gdGhpcy5vbkxvYWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRlZDogZmFsc2UsXG4gICAgICBvcHRpbWl6ZWRJbWFnZUZhaWxlZDogZmFsc2UsXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25JZGxlQ2FsbGJhY2soKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzTG9hZGVkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdXNlVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdyYXBzIHRoZSBpbWFnZSB1cmwgd2l0aCB0aGUgUG9ja2V0IHByb3h5IHRvIGJvdGggcmVzaXplIGFuZCBjcm9wIHRoZSBpbWFnZS5cbiAgcmVmb3JtYXRJbWFnZVVSTCh1cmwsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCBzbWFydCA9IHRoaXMucHJvcHMuc21hcnRDcm9wID8gXCJzbWFydC9cIiA6IFwiXCI7XG4gICAgLy8gQ2hhbmdlIHRoZSBpbWFnZSBVUkwgdG8gcmVxdWVzdCBhIHNpemUgdGFpbG9yZWQgZm9yIHRoZSBwYXJlbnQgY29udGFpbmVyIHdpZHRoXG4gICAgLy8gQWxzbzogZm9yY2UgSlBFRywgcXVhbGl0eSA2MCwgbm8gdXBzY2FsaW5nLCBubyBFWElGIGRhdGFcbiAgICAvLyBVc2VzIFRodW1ib3I6IGh0dHBzOi8vdGh1bWJvci5yZWFkdGhlZG9jcy5pby9lbi9sYXRlc3QvdXNhZ2UuaHRtbFxuICAgIGNvbnN0IGZvcm1hdHRlZFVybCA9IGBodHRwczovL2ltZy1nZXRwb2NrZXQuY2RuLm1vemlsbGEubmV0LyR7d2lkdGh9eCR7aGVpZ2h0fS8ke3NtYXJ0fWZpbHRlcnM6Zm9ybWF0KGpwZWcpOnF1YWxpdHkoNjApOm5vX3Vwc2NhbGUoKTpzdHJpcF9leGlmKCkvJHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICB1cmxcbiAgICApfWA7XG4gICAgcmV0dXJuIHRoaXMuc2VjdXJlSW1hZ2VVUkwoZm9ybWF0dGVkVXJsKTtcbiAgfVxuXG4gIC8vIFdyYXBzIHRoZSBpbWFnZSBVUkwgd2l0aCB0aGUgbW96LWNhY2hlZC1vaHR0cDovLyBwcm90b2NvbC5cbiAgLy8gVGhpcyBlbmFibGVzIEZpcmVmb3ggdG8gbG9hZCByZXNvdXJjZXMgb3ZlciBPYmxpdmlvdXMgSFRUUCAoT0hUVFApLFxuICAvLyBwcm92aWRpbmcgcHJpdmFjeS1wcmVzZXJ2aW5nIHJlc291cmNlIGxvYWRpbmcuXG4gIC8vIEFwcGxpZWQgb25seSB3aGVuIGluZmVycmVkIHBlcnNvbmFsaXphdGlvbiBpcyBlbmFibGVkLlxuICAvLyBTZWU6IGh0dHBzOi8vZmlyZWZveC1zb3VyY2UtZG9jcy5tb3ppbGxhLm9yZy9icm93c2VyL2NvbXBvbmVudHMvbW96Y2FjaGVkb2h0dHAvZG9jcy9pbmRleC5odG1sXG4gIHNlY3VyZUltYWdlVVJMKHVybCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5zZWN1cmVJbWFnZSkge1xuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIGBtb3otY2FjaGVkLW9odHRwOi8vbmV3dGFiLWltYWdlLz91cmw9JHtlbmNvZGVVUklDb21wb25lbnQodXJsKX1gO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5pZGxlQ2FsbGJhY2tJZCA9IHRoaXMucHJvcHMud2luZG93T2JqLnJlcXVlc3RJZGxlQ2FsbGJhY2soXG4gICAgICB0aGlzLm9uSWRsZUNhbGxiYWNrLmJpbmQodGhpcylcbiAgICApO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuaWRsZUNhbGxiYWNrSWQpIHtcbiAgICAgIHRoaXMucHJvcHMud2luZG93T2JqLmNhbmNlbElkbGVDYWxsYmFjayh0aGlzLmlkbGVDYWxsYmFja0lkKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGNsYXNzTmFtZXMgPSBgZHMtaW1hZ2VcbiAgICAgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzTmFtZXMgPyBgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzTmFtZXN9YCA6IGBgfVxuICAgICAgJHt0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUudXNlVHJhbnNpdGlvbiA/IGAgdXNlLXRyYW5zaXRpb25gIDogYGB9XG4gICAgICAke3RoaXMuc3RhdGUgJiYgdGhpcy5zdGF0ZS5pc0xvYWRlZCA/IGAgbG9hZGVkYCA6IGBgfVxuICAgIGA7XG5cbiAgICBsZXQgaW1nO1xuXG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpbWl6ZSAmJlxuICAgICAgICB0aGlzLnByb3BzLnJhd1NvdXJjZSAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5vcHRpbWl6ZWRJbWFnZUZhaWxlZFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGJhc2VTb3VyY2UgPSB0aGlzLnByb3BzLnJhd1NvdXJjZTtcblxuICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IHNlY3VyaW5nIHRoaXMucHJvcHMuc291cmNlLCBhcyB0aGlzIGV4Y2x1c2l2bHlcbiAgICAgICAgLy8gY29tZXMgZnJvbSBhbiBvbGRlciBzZXJ2aWNlIHRoYXQgaXMgbm90IHBlcnNvbmFsaXplZC5cbiAgICAgICAgLy8gVGhpcyBjYW4gYWxzbyByZXR1cm4gYSBub24gc2VjdXJlIHVybCBpZiB0aGlzIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGVuYWJsZWQuXG4gICAgICAgIGNvbnN0IHNlY3VyZWRTb3VyY2UgPSB0aGlzLnNlY3VyZUltYWdlVVJMKGJhc2VTb3VyY2UpO1xuXG4gICAgICAgIGxldCBzaXplUnVsZXMgPSBbXTtcbiAgICAgICAgbGV0IHNyY1NldFJ1bGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgcnVsZSBvZiB0aGlzLnByb3BzLnNpemVzKSB7XG4gICAgICAgICAgbGV0IHsgbWVkaWFNYXRjaGVyLCB3aWR0aCwgaGVpZ2h0IH0gPSBydWxlO1xuICAgICAgICAgIGxldCBzaXplUnVsZSA9IGAke21lZGlhTWF0Y2hlcn0gJHt3aWR0aH1weGA7XG4gICAgICAgICAgc2l6ZVJ1bGVzLnB1c2goc2l6ZVJ1bGUpO1xuICAgICAgICAgIGxldCBzcmNTZXRSdWxlID0gYCR7dGhpcy5yZWZvcm1hdEltYWdlVVJMKFxuICAgICAgICAgICAgYmFzZVNvdXJjZSxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgKX0gJHt3aWR0aH13YDtcbiAgICAgICAgICBsZXQgc3JjU2V0UnVsZTJ4ID0gYCR7dGhpcy5yZWZvcm1hdEltYWdlVVJMKFxuICAgICAgICAgICAgYmFzZVNvdXJjZSxcbiAgICAgICAgICAgIHdpZHRoICogMixcbiAgICAgICAgICAgIGhlaWdodCAqIDJcbiAgICAgICAgICApfSAke3dpZHRoICogMn13YDtcbiAgICAgICAgICBzcmNTZXRSdWxlcy5wdXNoKHNyY1NldFJ1bGUpO1xuICAgICAgICAgIHNyY1NldFJ1bGVzLnB1c2goc3JjU2V0UnVsZTJ4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNpemVzLmxlbmd0aCkge1xuICAgICAgICAgIC8vIFdlIGhhdmUgdG8gc3VwcGx5IGEgZmFsbGJhY2sgaW4gdGhlIHZlcnkgdW5saWtlbHkgZXZlbnQgdGhhdCBub25lIG9mXG4gICAgICAgICAgLy8gdGhlIG1lZGlhIHF1ZXJpZXMgbWF0Y2guIFRoZSBzbWFsbGVzdCBkaW1lbnNpb24gd2FzIGNob3NlbiBhcmJpdHJhcmlseS5cbiAgICAgICAgICBzaXplUnVsZXMucHVzaChcbiAgICAgICAgICAgIGAke3RoaXMucHJvcHMuc2l6ZXNbdGhpcy5wcm9wcy5zaXplcy5sZW5ndGggLSAxXS53aWR0aH1weGBcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1nID0gKFxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgIGFsdD17dGhpcy5wcm9wcy5hbHRfdGV4dH1cbiAgICAgICAgICAgIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCJcbiAgICAgICAgICAgIG9uTG9hZD17dGhpcy5vbkxvYWR9XG4gICAgICAgICAgICBvbkVycm9yPXt0aGlzLm9uT3B0aW1pemVkSW1hZ2VFcnJvcn1cbiAgICAgICAgICAgIHNpemVzPXtzaXplUnVsZXMuam9pbihcIixcIil9XG4gICAgICAgICAgICBzcmM9e3NlY3VyZWRTb3VyY2V9XG4gICAgICAgICAgICBzcmNTZXQ9e3NyY1NldFJ1bGVzLmpvaW4oXCIsXCIpfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc291cmNlICYmICF0aGlzLnN0YXRlLm5vbk9wdGltaXplZEltYWdlRmFpbGVkKSB7XG4gICAgICAgIGltZyA9IChcbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICBhbHQ9e3RoaXMucHJvcHMuYWx0X3RleHR9XG4gICAgICAgICAgICBjcm9zc09yaWdpbj1cImFub255bW91c1wiXG4gICAgICAgICAgICBvbkxvYWQ9e3RoaXMub25Mb2FkfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5vbk5vbk9wdGltaXplZEltYWdlRXJyb3J9XG4gICAgICAgICAgICBzcmM9e3RoaXMucHJvcHMuc291cmNlfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSBjb25zaWRlciBhIGZhaWxlZCB0byBsb2FkIGltZyBvciBzb3VyY2Ugd2l0aG91dCBhbiBpbWFnZSBhcyBsb2FkZWQuXG4gICAgICAgIGNsYXNzTmFtZXMgPSBgJHtjbGFzc05hbWVzfSBsb2FkZWRgO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGltZyBlbGVtZW50IGlmIHdlIGhhdmUgbm8gc291cmNlLiBSZW5kZXIgYSBwbGFjZWhvbGRlciBpbnN0ZWFkLlxuICAgICAgICAvLyBUaGlzIG9ubHkgaGFwcGVucyBmb3IgcmVjZW50IHNhdmVzIHdpdGhvdXQgYSBzb3VyY2UuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnByb3BzLmlzUmVjZW50U2F2ZSAmJlxuICAgICAgICAgICF0aGlzLnByb3BzLnJhd1NvdXJjZSAmJlxuICAgICAgICAgICF0aGlzLnByb3BzLnNvdXJjZVxuICAgICAgICApIHtcbiAgICAgICAgICBpbWcgPSAoXG4gICAgICAgICAgICA8UGxhY2Vob2xkZXJJbWFnZVxuICAgICAgICAgICAgICB1cmxLZXk9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICAgICAgICB0aXRsZUtleT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbWcgPSA8ZGl2IGNsYXNzTmFtZT1cImJyb2tlbi1pbWFnZVwiIC8+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDxwaWN0dXJlIGNsYXNzTmFtZT17Y2xhc3NOYW1lc30+e2ltZ308L3BpY3R1cmU+O1xuICB9XG5cbiAgb25PcHRpbWl6ZWRJbWFnZUVycm9yKCkge1xuICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGEgcmUtcmVuZGVyIGFuZCB0aGUgdW5vcHRpbWl6ZWQgNDUwcHggaW1hZ2Ugd2lsbCBiZSB1c2VkIGFzIGEgZmFsbGJhY2tcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9wdGltaXplZEltYWdlRmFpbGVkOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgb25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbm9uT3B0aW1pemVkSW1hZ2VGYWlsZWQ6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvbkxvYWQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0xvYWRlZDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxufVxuXG5EU0ltYWdlLmRlZmF1bHRQcm9wcyA9IHtcbiAgc291cmNlOiBudWxsLCAvLyBUaGUgY3VycmVudCBzb3VyY2Ugc3R5bGUgZnJvbSBQb2NrZXQgQVBJIChhbHdheXMgNDUwcHgpXG4gIHJhd1NvdXJjZTogbnVsbCwgLy8gVW5hZHVsdGVyYXRlZCBpbWFnZSBVUkwgdG8gZmlsdGVyIHRocm91Z2ggVGh1bWJvclxuICBleHRyYUNsYXNzTmFtZXM6IG51bGwsIC8vIEFkZGl0aW9uYWwgY2xhc3NuYW1lcyB0byBhcHBlbmQgdG8gY29tcG9uZW50XG4gIG9wdGltaXplOiB0cnVlLCAvLyBNZWFzdXJlIHBhcmVudCBjb250YWluZXIgdG8gcmVxdWVzdCBleGFjdCBzaXplc1xuICBhbHRfdGV4dDogbnVsbCxcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xuICBzaXplczogW10sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oaWRlQ29udGV4dCA9IHRoaXMuaGlkZUNvbnRleHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2hvdyA9IHRoaXMub25TaG93LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBoaWRlQ29udGV4dCgpIHtcbiAgICB0aGlzLnByb3BzLm9uVXBkYXRlKGZhbHNlKTtcbiAgfVxuXG4gIG9uU2hvdygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNob3cpIHtcbiAgICAgIHRoaXMucHJvcHMub25TaG93KCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5vblNob3coKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGlkZUNvbnRleHQpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oaWRlQ29udGV4dCk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgLy8gRWF0IGFsbCBjbGlja3Mgb24gdGhlIGNvbnRleHQgbWVudSBzbyB0aGV5IGRvbid0IGJ1YmJsZSB1cCB0byB3aW5kb3cuXG4gICAgLy8gVGhpcyBwcmV2ZW50cyB0aGUgY29udGV4dCBtZW51IGZyb20gY2xvc2luZyB3aGVuIGNsaWNraW5nIGRpc2FibGVkIGl0ZW1zXG4gICAgLy8gb3IgdGhlIHNlcGFyYXRvcnMuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gRGlzYWJsaW5nIGZvY3VzIG9uIHRoZSBtZW51IHNwYW4gYWxsb3dzIHRoZSBmaXJzdCB0YWIgdG8gZm9jdXMgb24gdGhlIGZpcnN0IG1lbnUgaXRlbSBpbnN0ZWFkIG9mIHRoZSB3cmFwcGVyLlxuICAgIHJldHVybiAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvaW50ZXJhY3RpdmUtc3VwcG9ydHMtZm9jdXNcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudVwiPlxuICAgICAgICA8dWxcbiAgICAgICAgICByb2xlPVwibWVudVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1saXN0XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMubWFwKChvcHRpb24sIGkpID0+XG4gICAgICAgICAgICBvcHRpb24udHlwZSA9PT0gXCJzZXBhcmF0b3JcIiA/IChcbiAgICAgICAgICAgICAgPGxpIGtleT17aX0gY2xhc3NOYW1lPVwic2VwYXJhdG9yXCIgcm9sZT1cInNlcGFyYXRvclwiIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICBvcHRpb24udHlwZSAhPT0gXCJlbXB0eVwiICYmIChcbiAgICAgICAgICAgICAgICA8Q29udGV4dE1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgICBvcHRpb249e29wdGlvbn1cbiAgICAgICAgICAgICAgICAgIGhpZGVDb250ZXh0PXt0aGlzLmhpZGVDb250ZXh0fVxuICAgICAgICAgICAgICAgICAga2V5Ym9hcmRBY2Nlc3M9e3RoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3N9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvdWw+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgX0NvbnRleHRNZW51SXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5RG93biA9IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleVVwID0gdGhpcy5vbktleVVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5mb2N1c0ZpcnN0ID0gdGhpcy5mb2N1c0ZpcnN0LmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgIHRoaXMucHJvcHMub3B0aW9uLm9uQ2xpY2soZXZlbnQpO1xuICB9XG5cbiAgLy8gRm9jdXMgdGhlIGZpcnN0IG1lbnUgaXRlbSBpZiB0aGUgbWVudSB3YXMgYWNjZXNzZWQgdmlhIHRoZSBrZXlib2FyZC5cbiAgZm9jdXNGaXJzdChidXR0b24pIHtcbiAgICBpZiAodGhpcy5wcm9wcy5rZXlib2FyZEFjY2VzcyAmJiBidXR0b24pIHtcbiAgICAgIGJ1dHRvbi5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgc2VsZWN0cyB0aGUgY29ycmVjdCBub2RlIGJhc2VkIG9uIHRoZSBrZXkgcHJlc3NlZFxuICBmb2N1c1NpYmxpbmcodGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCB7IHBhcmVudE5vZGUgfSA9IHRhcmdldDtcbiAgICBjb25zdCBjbG9zZXN0U2libGluZ1NlbGVjdG9yID1cbiAgICAgIGtleSA9PT0gXCJBcnJvd1VwXCIgPyBcInByZXZpb3VzU2libGluZ1wiIDogXCJuZXh0U2libGluZ1wiO1xuICAgIGlmICghcGFyZW50Tm9kZVtjbG9zZXN0U2libGluZ1NlbGVjdG9yXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyZW50Tm9kZVtjbG9zZXN0U2libGluZ1NlbGVjdG9yXS5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgICAgcGFyZW50Tm9kZVtjbG9zZXN0U2libGluZ1NlbGVjdG9yXS5maXJzdEVsZW1lbnRDaGlsZC5mb2N1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnROb2RlW2Nsb3Nlc3RTaWJsaW5nU2VsZWN0b3JdW1xuICAgICAgICBjbG9zZXN0U2libGluZ1NlbGVjdG9yXG4gICAgICBdLmZpcnN0RWxlbWVudENoaWxkLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgY29uc3QgeyBvcHRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgXCJUYWJcIjpcbiAgICAgICAgLy8gdGFiIGdvZXMgZG93biBpbiBjb250ZXh0IG1lbnUsIHNoaWZ0ICsgdGFiIGdvZXMgdXAgaW4gY29udGV4dCBtZW51XG4gICAgICAgIC8vIGlmIHdlJ3JlIG9uIHRoZSBsYXN0IGl0ZW0sIG9uZSBtb3JlIHRhYiB3aWxsIGNsb3NlIHRoZSBjb250ZXh0IG1lbnVcbiAgICAgICAgLy8gc2ltaWxhcmx5LCBpZiB3ZSdyZSBvbiB0aGUgZmlyc3QgaXRlbSwgb25lIG1vcmUgc2hpZnQgKyB0YWIgd2lsbCBjbG9zZSBpdFxuICAgICAgICBpZiAoXG4gICAgICAgICAgKGV2ZW50LnNoaWZ0S2V5ICYmIG9wdGlvbi5maXJzdCkgfHxcbiAgICAgICAgICAoIWV2ZW50LnNoaWZ0S2V5ICYmIG9wdGlvbi5sYXN0KVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmhpZGVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmZvY3VzU2libGluZyhldmVudC50YXJnZXQsIGV2ZW50LmtleSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkVudGVyXCI6XG4gICAgICBjYXNlIFwiIFwiOlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnByb3BzLmhpZGVDb250ZXh0KCk7XG4gICAgICAgIG9wdGlvbi5vbkNsaWNrKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkVzY2FwZVwiOlxuICAgICAgICB0aGlzLnByb3BzLmhpZGVDb250ZXh0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIFByZXZlbnRzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHNwYWNlYmFyXG4gIC8vIHNjcm9sbGluZyB0aGUgcGFnZSAmIGF1dG8tdHJpZ2dlcmluZyBidXR0b25zLlxuICBvbktleVVwKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgb3B0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IFtvcHRpb24uZGlzYWJsZWQgPyBcImRpc2FibGVkXCIgOiBcIlwiXS5qb2luKFwiIFwiKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGxpIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtaXRlbVwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgcm9sZT1cIm1lbnVpdGVtXCJcbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cbiAgICAgICAgICBvbktleVVwPXt0aGlzLm9uS2V5VXB9XG4gICAgICAgICAgcmVmPXtvcHRpb24uZmlyc3QgPyB0aGlzLmZvY3VzRmlyc3QgOiBudWxsfVxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9e1xuICAgICAgICAgICAgb3B0aW9uLmlkID09PSBcIm5ld3RhYi1tZW51LWVkaXQtdG9wc2l0ZXNcIiA/IFwiZGlhbG9nXCIgOiBudWxsXG4gICAgICAgICAgfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPXtvcHRpb24uc3RyaW5nX2lkIHx8IG9wdGlvbi5pZH0gLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IENvbnRleHRNZW51SXRlbSA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxufSkpKF9Db250ZXh0TWVudUl0ZW0pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHtcbiAgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsXG4gIGFjdGlvblR5cGVzIGFzIGF0LFxufSBmcm9tIFwiLi4vLi4vY29tbW9uL0FjdGlvbnMubWpzXCI7XG5cbmNvbnN0IF9PcGVuSW5Qcml2YXRlV2luZG93ID0gc2l0ZSA9PiAoe1xuICBpZDogXCJuZXd0YWItbWVudS1vcGVuLW5ldy1wcml2YXRlLXdpbmRvd1wiLFxuICBpY29uOiBcIm5ldy13aW5kb3ctcHJpdmF0ZVwiLFxuICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgIHR5cGU6IGF0Lk9QRU5fUFJJVkFURV9XSU5ET1csXG4gICAgZGF0YToge1xuICAgICAgdXJsOiBzaXRlLnVybCxcbiAgICAgIHJlZmVycmVyOiBzaXRlLnJlZmVycmVyLFxuICAgICAgZXZlbnRfc291cmNlOiBcIkNPTlRFWFRfTUVOVVwiLFxuICAgIH0sXG4gIH0pLFxuICB1c2VyRXZlbnQ6IFwiT1BFTl9QUklWQVRFX1dJTkRPV1wiLFxufSk7XG5cbi8qKlxuICogTGlzdCBvZiBmdW5jdGlvbnMgdGhhdCByZXR1cm4gaXRlbXMgdGhhdCBjYW4gYmUgaW5jbHVkZWQgYXMgbWVudSBvcHRpb25zIGluIGFcbiAqIExpbmtNZW51LiBBbGwgZnVuY3Rpb25zIHRha2UgdGhlIHNpdGUgYXMgdGhlIGZpcnN0IHBhcmFtZXRlciwgYW5kIG9wdGlvbmFsbHlcbiAqIHRoZSBpbmRleCBvZiB0aGUgc2l0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IExpbmtNZW51T3B0aW9ucyA9IHtcbiAgU2VwYXJhdG9yOiAoKSA9PiAoeyB0eXBlOiBcInNlcGFyYXRvclwiIH0pLFxuICBFbXB0eUl0ZW06ICgpID0+ICh7IHR5cGU6IFwiZW1wdHlcIiB9KSxcbiAgU2hvd1ByaXZhY3lJbmZvOiAoKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXNob3ctcHJpdmFjeS1pbmZvXCIsXG4gICAgaWNvbjogXCJpbmZvXCIsXG4gICAgYWN0aW9uOiB7XG4gICAgICB0eXBlOiBhdC5TSE9XX1BSSVZBQ1lfSU5GTyxcbiAgICB9LFxuICAgIHVzZXJFdmVudDogXCJTSE9XX1BSSVZBQ1lfSU5GT1wiLFxuICB9KSxcbiAgQWJvdXRTcG9uc29yZWQ6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zaG93LXByaXZhY3ktaW5mb1wiLFxuICAgIGljb246IFwiaW5mb1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5BQk9VVF9TUE9OU09SRURfVE9QX1NJVEVTLFxuICAgICAgZGF0YToge1xuICAgICAgICBhZHZlcnRpc2VyX25hbWU6IChzaXRlLmxhYmVsIHx8IHNpdGUuaG9zdG5hbWUpLnRvTG9jYWxlTG93ZXJDYXNlKCksXG4gICAgICAgIHBvc2l0aW9uOiBzaXRlLnNwb25zb3JlZF9wb3NpdGlvbixcbiAgICAgICAgdGlsZV9pZDogc2l0ZS5zcG9uc29yZWRfdGlsZV9pZCxcbiAgICAgICAgYmxvY2tfa2V5OiBzaXRlLmJsb2NrX2tleSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlRPUFNJVEVfU1BPTlNPUl9JTkZPXCIsXG4gIH0pLFxuICBSZW1vdmVCb29rbWFyazogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXJlbW92ZS1ib29rbWFya1wiLFxuICAgIGljb246IFwiYm9va21hcmstYWRkZWRcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuREVMRVRFX0JPT0tNQVJLX0JZX0lELFxuICAgICAgZGF0YTogc2l0ZS5ib29rbWFya0d1aWQsXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkJPT0tNQVJLX0RFTEVURVwiLFxuICB9KSxcbiAgQWRkQm9va21hcms6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1ib29rbWFya1wiLFxuICAgIGljb246IFwiYm9va21hcmstaG9sbG93XCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkJPT0tNQVJLX1VSTCxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCwgdGl0bGU6IHNpdGUudGl0bGUsIHR5cGU6IHNpdGUudHlwZSB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJCT09LTUFSS19BRERcIixcbiAgfSksXG4gIE9wZW5Jbk5ld1dpbmRvdzogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LW9wZW4tbmV3LXdpbmRvd1wiLFxuICAgIGljb246IFwibmV3LXdpbmRvd1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX05FV19XSU5ET1csXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGNhcmRfdHlwZTogc2l0ZS5jYXJkX3R5cGUsXG4gICAgICAgIHJlZmVycmVyOiBzaXRlLnJlZmVycmVyLFxuICAgICAgICB0eXBlZEJvbnVzOiBzaXRlLnR5cGVkQm9udXMsXG4gICAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICAgIGlzX3Nwb25zb3JlZDogISFzaXRlLnNwb25zb3JlZF90aWxlX2lkLFxuICAgICAgICBldmVudF9zb3VyY2U6IFwiQ09OVEVYVF9NRU5VXCIsXG4gICAgICAgIHRvcGljOiBzaXRlLnRvcGljLFxuICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA6IHNpdGUuZmlyc3RWaXNpYmxlVGltZXN0YW1wLFxuICAgICAgICB0aWxlX2lkOiBzaXRlLnRpbGVfaWQsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiBzaXRlLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IHNpdGUuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICBjb3JwdXNfaXRlbV9pZDogc2l0ZS5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgcmVjZWl2ZWRfcmFuazogc2l0ZS5yZWNlaXZlZF9yYW5rLFxuICAgICAgICByZWNvbW1lbmRlZF9hdDogc2l0ZS5yZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgZm9ybWF0OiBzaXRlLmZvcm1hdCxcbiAgICAgICAgLi4uKHNpdGUuZmxpZ2h0X2lkID8geyBmbGlnaHRfaWQ6IHNpdGUuZmxpZ2h0X2lkIH0gOiB7fSksXG4gICAgICAgIGlzX3BvY2tldF9jYXJkOiBzaXRlLnR5cGUgPT09IFwiQ2FyZEdyaWRcIixcbiAgICAgICAgaXNfbGlzdF9jYXJkOiBzaXRlLmlzX2xpc3RfY2FyZCxcbiAgICAgICAgLi4uKHNpdGUuc2VjdGlvblxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBzZWN0aW9uOiBzaXRlLnNlY3Rpb24sXG4gICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHNpdGUuc2VjdGlvbl9wb3NpdGlvbixcbiAgICAgICAgICAgICAgaXNfc2VjdGlvbl9mb2xsb3dlZDogc2l0ZS5pc19zZWN0aW9uX2ZvbGxvd2VkLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDoge30pLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiT1BFTl9ORVdfV0lORE9XXCIsXG4gIH0pLFxuXG4gIC8vIFRoaXMgYmxvY2tzIHRoZSB1cmwgZm9yIHJlZ3VsYXIgc3RvcmllcyxcbiAgLy8gYnV0IGFsc28gc2VuZHMgYSBtZXNzYWdlIHRvIERpc2NvdmVyeVN0cmVhbSB3aXRoIGZsaWdodF9pZC5cbiAgLy8gSWYgRGlzY292ZXJ5U3RyZWFtIHNlZXMgdGhpcyBtZXNzYWdlIGZvciBhIGZsaWdodF9pZFxuICAvLyBpdCBhbHNvIGJsb2NrcyBpdCBvbiB0aGUgZmxpZ2h0X2lkLlxuICBCbG9ja1VybDogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSkgPT4ge1xuICAgIHJldHVybiBMaW5rTWVudU9wdGlvbnMuQmxvY2tVcmxzKFtzaXRlXSwgaW5kZXgsIGV2ZW50U291cmNlKTtcbiAgfSxcbiAgLy8gU2FtZSBhcyBCbG9ja1VybCwgZXhjZXB0IGNhbiB3b3JrIG9uIGFuIGFycmF5IG9mIHNpdGVzLlxuICBCbG9ja1VybHM6ICh0aWxlcywgcG9zLCBldmVudFNvdXJjZSkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1kaXNtaXNzXCIsXG4gICAgaWNvbjogXCJkaXNtaXNzXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkJMT0NLX1VSTCxcbiAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICBkYXRhOiB0aWxlcy5tYXAoc2l0ZSA9PiAoe1xuICAgICAgICB1cmw6IHNpdGUub3JpZ2luYWxfdXJsIHx8IHNpdGUub3Blbl91cmwgfHwgc2l0ZS51cmwsXG4gICAgICAgIC8vIHBvY2tldF9pZCBpcyBvbmx5IGZvciBwb2NrZXQgc3RvcmllcyBiZWluZyBpbiBoaWdobGlnaHRzLCBhbmQgdGhlbiBkaXNtaXNzZWQuXG4gICAgICAgIHBvY2tldF9pZDogc2l0ZS5wb2NrZXRfaWQsXG4gICAgICAgIHRpbGVfaWQ6IHNpdGUudGlsZV9pZCxcbiAgICAgICAgLi4uKHNpdGUuYmxvY2tfa2V5ID8geyBibG9ja19rZXk6IHNpdGUuYmxvY2tfa2V5IH0gOiB7fSksXG4gICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiBzaXRlLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IHNpdGUuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICBjb3JwdXNfaXRlbV9pZDogc2l0ZS5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgcmVjZWl2ZWRfcmFuazogc2l0ZS5yZWNlaXZlZF9yYW5rLFxuICAgICAgICByZWNvbW1lbmRlZF9hdDogc2l0ZS5yZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgLy8gdXNlZCBieSBQbGFjZXNGZWVkIGFuZCBUb3BTaXRlc0ZlZWQgZm9yIHNwb25zb3JlZCB0b3Agc2l0ZXMgYmxvY2tpbmcuXG4gICAgICAgIGlzU3BvbnNvcmVkVG9wU2l0ZTogc2l0ZS5zcG9uc29yZWRfcG9zaXRpb24sXG4gICAgICAgIHR5cGU6IHNpdGUudHlwZSxcbiAgICAgICAgY2FyZF90eXBlOiBzaXRlLmNhcmRfdHlwZSxcbiAgICAgICAgLi4uKHNpdGUuc2hpbSAmJiBzaXRlLnNoaW0uZGVsZXRlID8geyBzaGltOiBzaXRlLnNoaW0uZGVsZXRlIH0gOiB7fSksXG4gICAgICAgIC4uLihzaXRlLmZsaWdodF9pZCA/IHsgZmxpZ2h0X2lkOiBzaXRlLmZsaWdodF9pZCB9IDoge30pLFxuICAgICAgICAvLyBJZiBub3Qgc3BvbnNvcmVkLCBob3N0bmFtZSBjb3VsZCBiZSBhbnl0aGluZyAoQ2F0MyBEYXRhISkuXG4gICAgICAgIC8vIFNvIG9ubHkgcHV0IGluIGFkdmVydGlzZXJfbmFtZSBmb3Igc3BvbnNvcmVkIHRvcHNpdGVzLlxuICAgICAgICAuLi4oc2l0ZS5zcG9uc29yZWRfcG9zaXRpb25cbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgYWR2ZXJ0aXNlcl9uYW1lOiAoXG4gICAgICAgICAgICAgICAgc2l0ZS5sYWJlbCB8fCBzaXRlLmhvc3RuYW1lXG4gICAgICAgICAgICAgICk/LnRvTG9jYWxlTG93ZXJDYXNlKCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7fSksXG4gICAgICAgIHBvc2l0aW9uOiBwb3MsXG4gICAgICAgIC4uLihzaXRlLnNwb25zb3JlZF90aWxlX2lkID8geyB0aWxlX2lkOiBzaXRlLnNwb25zb3JlZF90aWxlX2lkIH0gOiB7fSksXG4gICAgICAgIGlzX3BvY2tldF9jYXJkOiBzaXRlLnR5cGUgPT09IFwiQ2FyZEdyaWRcIixcbiAgICAgICAgaXNfbGlzdF9jYXJkOiBzaXRlLmlzX2xpc3RfY2FyZCxcbiAgICAgICAgLi4uKHNpdGUuZm9ybWF0ID8geyBmb3JtYXQ6IHNpdGUuZm9ybWF0IH0gOiB7fSksXG4gICAgICAgIC4uLihzaXRlLnNlY3Rpb25cbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgc2VjdGlvbjogc2l0ZS5zZWN0aW9uLFxuICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBzaXRlLnNlY3Rpb25fcG9zaXRpb24sXG4gICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ6IHNpdGUuaXNfc2VjdGlvbl9mb2xsb3dlZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHt9KSxcbiAgICAgIH0pKSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgIGJsb2NrOiAwLFxuICAgICAgdGlsZXM6IHRpbGVzLm1hcCgoc2l0ZSwgaW5kZXgpID0+ICh7XG4gICAgICAgIGlkOiBzaXRlLmd1aWQsXG4gICAgICAgIHBvczogcG9zICsgaW5kZXgsXG4gICAgICAgIC4uLihzaXRlLnNoaW0gJiYgc2l0ZS5zaGltLmRlbGV0ZSA/IHsgc2hpbTogc2l0ZS5zaGltLmRlbGV0ZSB9IDoge30pLFxuICAgICAgfSkpLFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJCTE9DS1wiLFxuICB9KSxcblxuICAvLyBUaGlzIGlzIHRoZSBcIkRpc21pc3NcIiBhY3Rpb24gZm9yIGxlYWRlcmJvYXJkL2JpbGxib2FyZCBhZHMuXG4gIEJsb2NrQWRVcmw6IChzaXRlLCBwb3MsIGV2ZW50U291cmNlKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWRpc21pc3NcIixcbiAgICBpY29uOiBcImRpc21pc3NcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuQkxPQ0tfVVJMLFxuICAgICAgZGF0YTogW3NpdGVdLFxuICAgIH0pLFxuICAgIGltcHJlc3Npb246IGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICBzb3VyY2U6IGV2ZW50U291cmNlLFxuICAgICAgYmxvY2s6IDAsXG4gICAgICB0aWxlczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IHNpdGUuZ3VpZCxcbiAgICAgICAgICBwb3MsXG4gICAgICAgICAgLi4uKHNpdGUuc2hpbSAmJiBzaXRlLnNoaW0uc2F2ZSA/IHsgc2hpbTogc2l0ZS5zaGltLnNhdmUgfSA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkJMT0NLXCIsXG4gIH0pLFxuXG4gIC8vIFRoaXMgaXMgYW4gb3B0aW9uIGZvciB3ZWIgZXh0ZW50aW9ucyB3aGljaCB3aWxsIHJlc3VsdCBpbiByZW1vdmUgaXRlbXMgZnJvbVxuICAvLyBtZW1vcnkgYW5kIG5vdGlmeSB0aGUgd2ViIGV4dGVuaW9uLCByYXRoZXIgdGhhbiB1c2luZyB0aGUgYnVpbHQtaW4gYmxvY2sgbGlzdC5cbiAgV2ViRXh0RGlzbWlzczogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSkgPT4gKHtcbiAgICBpZDogXCJtZW51X2FjdGlvbl93ZWJleHRfZGlzbWlzc1wiLFxuICAgIHN0cmluZ19pZDogXCJuZXd0YWItbWVudS1kaXNtaXNzXCIsXG4gICAgaWNvbjogXCJkaXNtaXNzXCIsXG4gICAgYWN0aW9uOiBhYy5XZWJFeHRFdmVudChhdC5XRUJFWFRfRElTTUlTUywge1xuICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgIH0pLFxuICB9KSxcbiAgRGVsZXRlVXJsOiAoc2l0ZSwgaW5kZXgsIGV2ZW50U291cmNlLCBpc0VuYWJsZWQsIHNpdGVJbmZvKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWRlbGV0ZS1oaXN0b3J5XCIsXG4gICAgaWNvbjogXCJkZWxldGVcIixcbiAgICBhY3Rpb246IHtcbiAgICAgIHR5cGU6IGF0LkRJQUxPR19PUEVOLFxuICAgICAgZGF0YToge1xuICAgICAgICBvbkNvbmZpcm06IFtcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LkRFTEVURV9ISVNUT1JZX1VSTCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdXJsOiBzaXRlLnVybCxcbiAgICAgICAgICAgICAgcG9ja2V0X2lkOiBzaXRlLnBvY2tldF9pZCxcbiAgICAgICAgICAgICAgZm9yY2VCbG9jazogc2l0ZS5ib29rbWFya0d1aWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGFjLlVzZXJFdmVudChcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgIHsgZXZlbnQ6IFwiREVMRVRFXCIsIHNvdXJjZTogZXZlbnRTb3VyY2UsIGFjdGlvbl9wb3NpdGlvbjogaW5kZXggfSxcbiAgICAgICAgICAgICAgc2l0ZUluZm9cbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIC8vIEFsc28gYnJvYWRjYXN0IHRoYXQgdGhpcyB1cmwgaGFzIGJlZW4gZGVsZXRlZCBzbyB0aGF0XG4gICAgICAgICAgLy8gdGhlIGNvbmZpcm1hdGlvbiBkaWFsb2cga25vd3MgaXQgbmVlZHMgdG8gZGlzYXBwZWFyIG5vdy5cbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LkRJQUxPR19DTE9TRSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgXSxcbiAgICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICAgIGJvZHlfc3RyaW5nX2lkOiBbXG4gICAgICAgICAgXCJuZXd0YWItY29uZmlybS1kZWxldGUtaGlzdG9yeS1wMVwiLFxuICAgICAgICAgIFwibmV3dGFiLWNvbmZpcm0tZGVsZXRlLWhpc3RvcnktcDJcIixcbiAgICAgICAgXSxcbiAgICAgICAgY29uZmlybV9idXR0b25fc3RyaW5nX2lkOiBcIm5ld3RhYi10b3BzaXRlcy1kZWxldGUtaGlzdG9yeS1idXR0b25cIixcbiAgICAgICAgY2FuY2VsX2J1dHRvbl9zdHJpbmdfaWQ6IFwibmV3dGFiLXRvcHNpdGVzLWNhbmNlbC1idXR0b25cIixcbiAgICAgICAgaWNvbjogXCJtb2RhbC1kZWxldGVcIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICB1c2VyRXZlbnQ6IFwiRElBTE9HX09QRU5cIixcbiAgfSksXG4gIFNob3dGaWxlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtc2hvdy1maWxlXCIsXG4gICAgaWNvbjogXCJzZWFyY2hcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuU0hPV19ET1dOTE9BRF9GSUxFLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBPcGVuRmlsZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LW9wZW4tZmlsZVwiLFxuICAgIGljb246IFwib3Blbi1maWxlXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fRE9XTkxPQURfRklMRSxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICB9KSxcbiAgQ29weURvd25sb2FkTGluazogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWNvcHktZG93bmxvYWQtbGlua1wiLFxuICAgIGljb246IFwiY29weVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5DT1BZX0RPV05MT0FEX0xJTkssXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgfSksXG4gIEdvVG9Eb3dubG9hZFBhZ2U6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1nby10by1kb3dubG9hZC1wYWdlXCIsXG4gICAgaWNvbjogXCJkb3dubG9hZFwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX0xJTkssXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS5yZWZlcnJlciB9LFxuICAgIH0pLFxuICAgIGRpc2FibGVkOiAhc2l0ZS5yZWZlcnJlcixcbiAgfSksXG4gIFJlbW92ZURvd25sb2FkOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtcmVtb3ZlLWRvd25sb2FkXCIsXG4gICAgaWNvbjogXCJkZWxldGVcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuUkVNT1ZFX0RPV05MT0FEX0ZJTEUsXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgfSksXG4gIFBpblRvcFNpdGU6IChzaXRlLCBpbmRleCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1waW5cIixcbiAgICBpY29uOiBcInBpblwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfUElOLFxuICAgICAgZGF0YToge1xuICAgICAgICBzaXRlLFxuICAgICAgICBpbmRleCxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlBJTlwiLFxuICB9KSxcbiAgVW5waW5Ub3BTaXRlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtdW5waW5cIixcbiAgICBpY29uOiBcInVucGluXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19VTlBJTixcbiAgICAgIGRhdGE6IHsgc2l0ZTogeyB1cmw6IHNpdGUudXJsIH0gfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiVU5QSU5cIixcbiAgfSksXG4gIEVkaXRUb3BTaXRlOiAoc2l0ZSwgaW5kZXgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZWRpdC10b3BzaXRlc1wiLFxuICAgIGljb246IFwiZWRpdFwiLFxuICAgIGFjdGlvbjoge1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0VESVQsXG4gICAgICBkYXRhOiB7IGluZGV4IH0sXG4gICAgfSxcbiAgfSksXG4gIENoZWNrQm9va21hcms6IHNpdGUgPT5cbiAgICBzaXRlLmJvb2ttYXJrR3VpZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuUmVtb3ZlQm9va21hcmsoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLkFkZEJvb2ttYXJrKHNpdGUpLFxuICBDaGVja1BpblRvcFNpdGU6IChzaXRlLCBpbmRleCkgPT5cbiAgICBzaXRlLmlzUGlubmVkXG4gICAgICA/IExpbmtNZW51T3B0aW9ucy5VbnBpblRvcFNpdGUoc2l0ZSlcbiAgICAgIDogTGlua01lbnVPcHRpb25zLlBpblRvcFNpdGUoc2l0ZSwgaW5kZXgpLFxuICBPcGVuSW5Qcml2YXRlV2luZG93OiAoc2l0ZSwgaW5kZXgsIGV2ZW50U291cmNlLCBpc0VuYWJsZWQpID0+XG4gICAgaXNFbmFibGVkID8gX09wZW5JblByaXZhdGVXaW5kb3coc2l0ZSkgOiBMaW5rTWVudU9wdGlvbnMuRW1wdHlJdGVtKCksXG4gIENoYW5nZVdlYXRoZXJMb2NhdGlvbjogKCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItd2VhdGhlci1tZW51LWNoYW5nZS1sb2NhdGlvblwiLFxuICAgIGFjdGlvbjogYWMuQnJvYWRjYXN0VG9Db250ZW50KHtcbiAgICAgIHR5cGU6IGF0LldFQVRIRVJfU0VBUkNIX0FDVElWRSxcbiAgICAgIGRhdGE6IHRydWUsXG4gICAgfSksXG4gIH0pLFxuICBDaGFuZ2VXZWF0aGVyRGlzcGxheVNpbXBsZTogKCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItd2VhdGhlci1tZW51LWNoYW5nZS13ZWF0aGVyLWRpc3BsYXktc2ltcGxlXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNFVF9QUkVGLFxuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lOiBcIndlYXRoZXIuZGlzcGxheVwiLFxuICAgICAgICB2YWx1ZTogXCJzaW1wbGVcIixcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pLFxuICBDaGFuZ2VXZWF0aGVyRGlzcGxheURldGFpbGVkOiAoKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi13ZWF0aGVyLW1lbnUtY2hhbmdlLXdlYXRoZXItZGlzcGxheS1kZXRhaWxlZFwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TRVRfUFJFRixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogXCJ3ZWF0aGVyLmRpc3BsYXlcIixcbiAgICAgICAgdmFsdWU6IFwiZGV0YWlsZWRcIixcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pLFxuICBDaGFuZ2VUZW1wVW5pdEZhaHJlbmhlaXQ6ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXdlYXRoZXItbWVudS1jaGFuZ2UtdGVtcGVyYXR1cmUtdW5pdHMtZmFocmVuaGVpdFwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TRVRfUFJFRixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIixcbiAgICAgICAgdmFsdWU6IFwiZlwiLFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSksXG4gIENoYW5nZVRlbXBVbml0Q2Vsc2l1czogKCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItd2VhdGhlci1tZW51LWNoYW5nZS10ZW1wZXJhdHVyZS11bml0cy1jZWxzaXVzXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNFVF9QUkVGLFxuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lOiBcIndlYXRoZXIudGVtcGVyYXR1cmVVbml0c1wiLFxuICAgICAgICB2YWx1ZTogXCJjXCIsXG4gICAgICB9LFxuICAgIH0pLFxuICB9KSxcbiAgSGlkZVdlYXRoZXI6ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXdlYXRoZXItbWVudS1oaWRlLXdlYXRoZXJcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuU0VUX1BSRUYsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5hbWU6IFwic2hvd1dlYXRoZXJcIixcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSksXG4gIE9wZW5MZWFybk1vcmVVUkw6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItd2VhdGhlci1tZW51LWxlYXJuLW1vcmVcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBGYWtlc3BvdERpc21pc3M6ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZGlzbWlzc1wiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TRVRfUFJFRixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuZmFrZXNwb3QuZW5hYmxlZFwiLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIGltcHJlc3Npb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuRkFLRVNQT1RfRElTTUlTUyxcbiAgICB9KSxcbiAgfSksXG4gIEFib3V0RmFrZXNwb3Q6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1hYm91dC1mYWtlc3BvdFwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX0xJTkssXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fQUJPVVRfRkFLRVNQT1QsXG4gICAgfSksXG4gIH0pLFxuICBTZWN0aW9uQmxvY2s6ICh7XG4gICAgc2VjdGlvblBlcnNvbmFsaXphdGlvbixcbiAgICBzZWN0aW9uS2V5LFxuICAgIHNlY3Rpb25Qb3NpdGlvbixcbiAgICB0aXRsZSxcbiAgfSkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zZWN0aW9uLWJsb2NrXCIsXG4gICAgaWNvbjogXCJkZWxldGVcIixcbiAgICBhY3Rpb246IHtcbiAgICAgIC8vIE9wZW4gdGhlIGNvbmZpcm1hdGlvbiBkaWFsb2cgdG8gYmxvY2sgYSBzZWN0aW9uLlxuICAgICAgdHlwZTogYXQuRElBTE9HX09QRU4sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9uQ29uZmlybTogW1xuICAgICAgICAgIC8vIE9uY2UgdGhlIHVzZXIgY29uZmlybWVkIHRoZWlyIGludGVudGlvbiB0byBibG9jayB0aGlzIHNlY3Rpb24sXG4gICAgICAgICAgLy8gdXBkYXRlIHRoZWlyIHByZWZlcmVuY2VzLlxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VULFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAuLi5zZWN0aW9uUGVyc29uYWxpemF0aW9uLFxuICAgICAgICAgICAgICBbc2VjdGlvbktleV06IHtcbiAgICAgICAgICAgICAgICBpc0Jsb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaXNGb2xsb3dlZDogZmFsc2UsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC8vIFRlbGVtZXRyeVxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuQkxPQ0tfU0VDVElPTixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgc2VjdGlvbjogc2VjdGlvbktleSxcbiAgICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgICBldmVudF9zb3VyY2U6IFwiQ09OVEVYVF9NRU5VXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIC8vIEFsc28gYnJvYWRjYXN0IHRoYXQgdGhpcyBzZWN0aW9uIGhhcyBiZWVuIGJsb2NrZWQgc28gdGhhdFxuICAgICAgICAgIC8vIHRoZSBjb25maXJtYXRpb24gZGlhbG9nIGtub3dzIGl0IG5lZWRzIHRvIGRpc2FwcGVhciBub3cuXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5ESUFMT0dfQ0xPU0UsXG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICAgIC8vIFBhc3MgRmx1ZW50IHN0cmluZ3MgdG8gQ29uZmlybURpYWxvZyBjb21wb25lbnQgZm9yIHRoZSBjb3B5XG4gICAgICAgIC8vIG9mIHRoZSBwcm9tcHQgdG8gYmxvY2sgc2VjdGlvbnMuXG4gICAgICAgIGJvZHlfc3RyaW5nX2lkOiBbXG4gICAgICAgICAgXCJuZXd0YWItc2VjdGlvbi1jb25maXJtLWJsb2NrLXRvcGljLXAxXCIsXG4gICAgICAgICAgXCJuZXd0YWItc2VjdGlvbi1jb25maXJtLWJsb2NrLXRvcGljLXAyXCIsXG4gICAgICAgIF0sXG4gICAgICAgIGNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZDogXCJuZXd0YWItc2VjdGlvbi1ibG9jay10b3BpYy1idXR0b25cIixcbiAgICAgICAgY29uZmlybV9idXR0b25fc3RyaW5nX2FyZ3M6IHsgdG9waWM6IHRpdGxlIH0sXG4gICAgICAgIGNhbmNlbF9idXR0b25fc3RyaW5nX2lkOiBcIm5ld3RhYi1zZWN0aW9uLWNhbmNlbC1idXR0b25cIixcbiAgICAgIH0sXG4gICAgfSxcbiAgICB1c2VyRXZlbnQ6IFwiRElBTE9HX09QRU5cIixcbiAgfSksXG4gIFNlY3Rpb25VbmZvbGxvdzogKHtcbiAgICBzZWN0aW9uUGVyc29uYWxpemF0aW9uLFxuICAgIHNlY3Rpb25LZXksXG4gICAgc2VjdGlvblBvc2l0aW9uLFxuICB9KSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXNlY3Rpb24tdW5mb2xsb3dcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VULFxuICAgICAgZGF0YTogKCh7IHNlY3Rpb25LZXk6IF9zZWN0aW9uS2V5LCAuLi5yZW1haW5pbmcgfSkgPT4gcmVtYWluaW5nKShcbiAgICAgICAgc2VjdGlvblBlcnNvbmFsaXphdGlvblxuICAgICAgKSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlVORk9MTE9XX1NFQ1RJT04sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHNlY3Rpb25Qb3NpdGlvbixcbiAgICAgICAgZXZlbnRfc291cmNlOiBcIkNPTlRFWFRfTUVOVVwiLFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSksXG4gIE1hbmFnZVNwb25zb3JlZENvbnRlbnQ6ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtbWFuYWdlLXNwb25zb3JlZC1jb250ZW50XCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuU0VUVElOR1NfT1BFTiB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiT1BFTl9ORVdUQUJfUFJFRlNcIixcbiAgfSksXG4gIE91clNwb25zb3JzQW5kWW91clByaXZhY3k6ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtb3VyLXNwb25zb3JzLWFuZC15b3VyLXByaXZhY3lcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgZGF0YToge1xuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9zdXBwb3J0Lm1vemlsbGEub3JnL2tiL3BvY2tldC1zcG9uc29yZWQtc3Rvcmllcy1uZXctdGFic1wiLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiQ0xJQ0tfUFJJVkFDWV9JTkZPXCIsXG4gIH0pLFxuICBSZXBvcnRBZDogc2l0ZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBcIm5ld3RhYi1tZW51LXJlcG9ydC10aGlzLWFkXCIsXG4gICAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5SRVBPUlRfQURfT1BFTixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNhcmRfdHlwZTogc2l0ZS5jYXJkX3R5cGUsXG4gICAgICAgICAgcG9zaXRpb246IHNpdGUucG9zaXRpb24sXG4gICAgICAgICAgcmVwb3J0aW5nX3VybDogc2l0ZS5zaGltLnJlcG9ydCxcbiAgICAgICAgICB1cmw6IHNpdGUudXJsLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfTtcbiAgfSxcblxuICBSZXBvcnRDb250ZW50OiBzaXRlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IFwibmV3dGFiLW1lbnUtcmVwb3J0XCIsXG4gICAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5SRVBPUlRfQ09OVEVOVF9PUEVOLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2FyZF90eXBlOiBzaXRlLmNhcmRfdHlwZSxcbiAgICAgICAgICBjb3JwdXNfaXRlbV9pZDogc2l0ZS5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IHNpdGUuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHNpdGUuc2VjdGlvbl9wb3NpdGlvbixcbiAgICAgICAgICBzZWN0aW9uOiBzaXRlLnNlY3Rpb24sXG4gICAgICAgICAgdGl0bGU6IHNpdGUudGl0bGUsXG4gICAgICAgICAgdG9waWM6IHNpdGUudG9waWMsXG4gICAgICAgICAgdXJsOiBzaXRlLnVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH07XG4gIH0sXG4gIFRyZW5kaW5nU2VhcmNoTGVhcm5Nb3JlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXRyZW5kaW5nLXNlYXJjaGVzLWxlYXJuLW1vcmVcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gICAgaW1wcmVzc2lvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UUkVORElOR19TRUFSQ0hfTEVBUk5fTU9SRSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdmFyaWFudDogc2l0ZS52YXJpYW50LFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSksXG4gIFRyZW5kaW5nU2VhcmNoRGlzbWlzczogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi10cmVuZGluZy1zZWFyY2hlcy1kaXNtaXNzXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNFVF9QUkVGLFxuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lOiBcInRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIixcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlRSRU5ESU5HX1NFQVJDSF9ESVNNSVNTLFxuICAgICAgZGF0YToge1xuICAgICAgICB2YXJpYW50OiBzaXRlLnZhcmlhbnQsXG4gICAgICB9LFxuICAgIH0pLFxuICB9KSxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IENvbnRleHRNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVcIjtcbmltcG9ydCB7IExpbmtNZW51T3B0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgREVGQVVMVF9TSVRFX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJDaGVja1BpblRvcFNpdGVcIixcbiAgXCJFZGl0VG9wU2l0ZVwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJCbG9ja1VybFwiLFxuXTtcblxuZXhwb3J0IGNsYXNzIF9MaW5rTWVudSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBnZXRPcHRpb25zKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgc2l0ZSxcbiAgICAgIGluZGV4LFxuICAgICAgc291cmNlLFxuICAgICAgaXNQcml2YXRlQnJvd3NpbmdFbmFibGVkLFxuICAgICAgc2l0ZUluZm8sXG4gICAgICBwbGF0Zm9ybSxcbiAgICAgIGRpc3BhdGNoLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHMsXG4gICAgICB1c2VyRXZlbnQgPSBhYy5Vc2VyRXZlbnQsXG4gICAgfSA9IHByb3BzO1xuXG4gICAgLy8gSGFuZGxlIHNwZWNpYWwgY2FzZSBvZiBkZWZhdWx0IHNpdGVcbiAgICBjb25zdCBwcm9wT3B0aW9ucyA9XG4gICAgICBzaXRlLmlzRGVmYXVsdCAmJiAhc2l0ZS5zZWFyY2hUb3BTaXRlICYmICFzaXRlLnNwb25zb3JlZF9wb3NpdGlvblxuICAgICAgICA/IERFRkFVTFRfU0lURV9NRU5VX09QVElPTlNcbiAgICAgICAgOiBvcHRpb25zO1xuXG4gICAgY29uc3QgbGlua01lbnVPcHRpb25zID0gcHJvcE9wdGlvbnNcbiAgICAgIC5tYXAobyA9PlxuICAgICAgICBMaW5rTWVudU9wdGlvbnNbb10oXG4gICAgICAgICAgc2l0ZSxcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgaXNQcml2YXRlQnJvd3NpbmdFbmFibGVkLFxuICAgICAgICAgIHNpdGVJbmZvLFxuICAgICAgICAgIHBsYXRmb3JtXG4gICAgICAgIClcbiAgICAgIClcbiAgICAgIC5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgY29uc3QgeyBhY3Rpb24sIGltcHJlc3Npb24sIGlkLCB0eXBlLCB1c2VyRXZlbnQ6IGV2ZW50TmFtZSB9ID0gb3B0aW9uO1xuICAgICAgICBpZiAoIXR5cGUgJiYgaWQpIHtcbiAgICAgICAgICBvcHRpb24ub25DbGljayA9IChldmVudCA9IHt9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5LCBidXR0b24gfSA9IGV2ZW50O1xuICAgICAgICAgICAgLy8gT25seSBzZW5kIGFsb25nIGV2ZW50IGluZm8gaWYgdGhlcmUncyBzb21ldGhpbmcgbm9uLWRlZmF1bHQgdG8gc2VuZFxuICAgICAgICAgICAgaWYgKGN0cmxLZXkgfHwgbWV0YUtleSB8fCBzaGlmdEtleSB8fCBidXR0b24gPT09IDEpIHtcbiAgICAgICAgICAgICAgYWN0aW9uLmRhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50OiB7IGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5LCBidXR0b24gfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjdGlvbi5kYXRhXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgICAgIC8vIEJ1ZyAxOTU4MTM1OiBQYXNzIGFkZGl0aW9uYWwgaW5mbyB0byBhYy5PUEVOX05FV19XSU5ET1cgZXZlbnRcbiAgICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcIk9QRU5fTkVXX1dJTkRPV1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICAgICAgY2FyZF90eXBlLFxuICAgICAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgICAgICBldmVudF9zb3VyY2UsXG4gICAgICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICAgICAgICAgIGlzX2xpc3RfY2FyZCxcbiAgICAgICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQsXG4gICAgICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rLFxuICAgICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQsXG4gICAgICAgICAgICAgICAgICByZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICBzZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdG9waWNzLFxuICAgICAgICAgICAgICAgICAgdGlsZV9pZCxcbiAgICAgICAgICAgICAgICAgIHRvcGljLFxuICAgICAgICAgICAgICAgIH0gPSBhY3Rpb24uZGF0YTtcblxuICAgICAgICAgICAgICAgIHZhbHVlID0ge1xuICAgICAgICAgICAgICAgICAgY2FyZF90eXBlLFxuICAgICAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgICAgICBldmVudF9zb3VyY2UsXG4gICAgICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgIGZvcm1hdCxcbiAgICAgICAgICAgICAgICAgIGlzX2xpc3RfY2FyZCxcbiAgICAgICAgICAgICAgICAgIHJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0LFxuICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgICAgICAgLi4uKHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgPyB7IGlzX3NlY3Rpb25fZm9sbG93ZWQsIHNlY3Rpb25fcG9zaXRpb24sIHNlY3Rpb24gfVxuICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3RvcGljczogc2VsZWN0ZWRfdG9waWNzID8gc2VsZWN0ZWRfdG9waWNzIDogXCJcIixcbiAgICAgICAgICAgICAgICAgIHRpbGVfaWQsXG4gICAgICAgICAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0geyBjYXJkX3R5cGU6IHNpdGUuZmxpZ2h0X2lkID8gXCJzcG9jXCIgOiBcIm9yZ2FuaWNcIiB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHVzZXJFdmVudERhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzaXRlSW5mb1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBkaXNwYXRjaCh1c2VyRXZlbnQodXNlckV2ZW50RGF0YSkpO1xuICAgICAgICAgICAgICBpZiAoaW1wcmVzc2lvbiAmJiBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goaW1wcmVzc2lvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICB9KTtcblxuICAgIC8vIFRoaXMgaXMgZm9yIGFjY2Vzc2liaWxpdHkgdG8gc3VwcG9ydCBtYWtpbmcgZWFjaCBpdGVtIHRhYmJhYmxlLlxuICAgIC8vIFdlIHdhbnQgdG8ga25vdyB3aGljaCBpdGVtIGlzIHRoZSBmaXJzdCBhbmQgd2hpY2ggaXRlbVxuICAgIC8vIGlzIHRoZSBsYXN0LCBzbyB3ZSBjYW4gY2xvc2UgdGhlIGNvbnRleHQgbWVudSBhY2NvcmRpbmdseS5cbiAgICBsaW5rTWVudU9wdGlvbnNbMF0uZmlyc3QgPSB0cnVlO1xuICAgIGxpbmtNZW51T3B0aW9uc1tsaW5rTWVudU9wdGlvbnMubGVuZ3RoIC0gMV0ubGFzdCA9IHRydWU7XG4gICAgcmV0dXJuIGxpbmtNZW51T3B0aW9ucztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRleHRNZW51XG4gICAgICAgIG9uVXBkYXRlPXt0aGlzLnByb3BzLm9uVXBkYXRlfVxuICAgICAgICBvblNob3c9e3RoaXMucHJvcHMub25TaG93fVxuICAgICAgICBvcHRpb25zPXt0aGlzLmdldE9wdGlvbnMoKX1cbiAgICAgICAga2V5Ym9hcmRBY2Nlc3M9e3RoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3N9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgZ2V0U3RhdGUgPSBzdGF0ZSA9PiAoe1xuICBpc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQ6IHN0YXRlLlByZWZzLnZhbHVlcy5pc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQsXG4gIHBsYXRmb3JtOiBzdGF0ZS5QcmVmcy52YWx1ZXMucGxhdGZvcm0sXG59KTtcbmV4cG9ydCBjb25zdCBMaW5rTWVudSA9IGNvbm5lY3QoZ2V0U3RhdGUpKF9MaW5rTWVudSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudUJ1dHRvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd0NvbnRleHRNZW51OiBmYWxzZSxcbiAgICAgIGNvbnRleHRNZW51S2V5Ym9hcmQ6IGZhbHNlLFxuICAgIH07XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuQ29udGV4dE1lbnUoaXNLZXlCb2FyZCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHRydWUpO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dDb250ZXh0TWVudTogdHJ1ZSxcbiAgICAgIGNvbnRleHRNZW51S2V5Ym9hcmQ6IGlzS2V5Qm9hcmQsXG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm9wZW5Db250ZXh0TWVudShmYWxzZSwgZXZlbnQpO1xuICB9XG5cbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9wZW5Db250ZXh0TWVudSh0cnVlLCBldmVudCk7XG4gICAgfVxuICB9XG5cbiAgb25VcGRhdGUoc2hvd0NvbnRleHRNZW51KSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25VcGRhdGUpIHtcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGUoc2hvd0NvbnRleHRNZW51KTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb250ZXh0TWVudSB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRvb2x0aXBBcmdzLCB0b29sdGlwLCBjaGlsZHJlbiwgcmVmRnVuY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzaG93Q29udGV4dE1lbnUsIGNvbnRleHRNZW51S2V5Ym9hcmQgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD17dG9vbHRpcH1cbiAgICAgICAgICBkYXRhLWwxMG4tYXJncz17dG9vbHRpcEFyZ3MgPyBKU09OLnN0cmluZ2lmeSh0b29sdGlwQXJncykgOiBudWxsfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1idXR0b24gaWNvblwiXG4gICAgICAgICAgb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgcmVmPXtyZWZGdW5jdGlvbn1cbiAgICAgICAgICB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleCB8fCAwfVxuICAgICAgICAgIG9uRm9jdXM9e3RoaXMucHJvcHMub25Gb2N1c31cbiAgICAgICAgLz5cbiAgICAgICAge3Nob3dDb250ZXh0TWVudVxuICAgICAgICAgID8gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgICAgICAgIGtleWJvYXJkQWNjZXNzOiBjb250ZXh0TWVudUtleWJvYXJkLFxuICAgICAgICAgICAgICBvblVwZGF0ZTogdGhpcy5vblVwZGF0ZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBudWxsfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uXCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuZXhwb3J0IGNsYXNzIF9EU0xpbmtNZW51IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGluZGV4LCBkaXNwYXRjaCB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgVE9QX1NUT1JJRVNfQ09OVEVYVF9NRU5VX09QVElPTlM7XG4gICAgY29uc3QgUFJFRl9SRVBPUlRfQURTX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5yZXBvcnRBZHMuZW5hYmxlZFwiO1xuICAgIGNvbnN0IHByZWZzID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXM7XG4gICAgY29uc3Qgc2hvd0Fkc1JlcG9ydGluZyA9IHByZWZzW1BSRUZfUkVQT1JUX0FEU19FTkFCTEVEXTtcbiAgICBjb25zdCBpc1Nwb2MgPSB0aGlzLnByb3BzLmNhcmRfdHlwZSA9PT0gXCJzcG9jXCI7XG5cbiAgICBpZiAoaXNTcG9jKSB7XG4gICAgICBUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICAgICAgXCJCbG9ja1VybFwiLFxuICAgICAgICAuLi4oc2hvd0Fkc1JlcG9ydGluZyA/IFtcIlJlcG9ydEFkXCJdIDogW10pLFxuICAgICAgICBcIk1hbmFnZVNwb25zb3JlZENvbnRlbnRcIixcbiAgICAgICAgXCJPdXJTcG9uc29yc0FuZFlvdXJQcml2YWN5XCIsXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICAgICAgXCJDaGVja0Jvb2ttYXJrXCIsXG4gICAgICAgIFwiU2VwYXJhdG9yXCIsXG4gICAgICAgIFwiT3BlbkluTmV3V2luZG93XCIsXG4gICAgICAgIFwiT3BlbkluUHJpdmF0ZVdpbmRvd1wiLFxuICAgICAgICBcIlNlcGFyYXRvclwiLFxuICAgICAgICBcIkJsb2NrVXJsXCIsXG4gICAgICAgIC4uLih0aGlzLnByb3BzLnNlY3Rpb24gPyBbXCJSZXBvcnRDb250ZW50XCJdIDogW10pLFxuICAgICAgXTtcbiAgICB9XG5cbiAgICBjb25zdCB0eXBlID0gdGhpcy5wcm9wcy50eXBlIHx8IFwiRElTQ09WRVJZX1NUUkVBTVwiO1xuICAgIGNvbnN0IHRpdGxlID0gdGhpcy5wcm9wcy50aXRsZSB8fCB0aGlzLnByb3BzLnNvdXJjZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS1wb3NpdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgPENvbnRleHRNZW51QnV0dG9uXG4gICAgICAgICAgdG9vbHRpcD17XCJuZXd0YWItbWVudS1jb250ZW50LXRvb2x0aXBcIn1cbiAgICAgICAgICB0b29sdGlwQXJncz17eyB0aXRsZSB9fVxuICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLnByb3BzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgc291cmNlPXt0eXBlLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICBvblNob3c9e3RoaXMucHJvcHMub25NZW51U2hvd31cbiAgICAgICAgICAgIG9wdGlvbnM9e1RPUF9TVE9SSUVTX0NPTlRFWFRfTUVOVV9PUFRJT05TfVxuICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17dHJ1ZX1cbiAgICAgICAgICAgIHVzZXJFdmVudD17YWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50fVxuICAgICAgICAgICAgc2l0ZT17e1xuICAgICAgICAgICAgICByZWZlcnJlcjogXCJodHRwczovL2dldHBvY2tldC5jb20vcmVjb21tZW5kYXRpb25zXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnByb3BzLnRpdGxlLFxuICAgICAgICAgICAgICB0eXBlOiB0aGlzLnByb3BzLnR5cGUsXG4gICAgICAgICAgICAgIHVybDogdGhpcy5wcm9wcy51cmwsXG4gICAgICAgICAgICAgIGd1aWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgIHBvY2tldF9pZDogdGhpcy5wcm9wcy5wb2NrZXRfaWQsXG4gICAgICAgICAgICAgIGNhcmRfdHlwZTogdGhpcy5wcm9wcy5jYXJkX3R5cGUsXG4gICAgICAgICAgICAgIHNoaW06IHRoaXMucHJvcHMuc2hpbSxcbiAgICAgICAgICAgICAgYm9va21hcmtHdWlkOiB0aGlzLnByb3BzLmJvb2ttYXJrR3VpZCxcbiAgICAgICAgICAgICAgZmxpZ2h0X2lkOiB0aGlzLnByb3BzLmZsaWdodElkLFxuICAgICAgICAgICAgICB0aWxlX2lkOiB0aGlzLnByb3BzLnRpbGVfaWQsXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiB0aGlzLnByb3BzLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICAgICAgICBjb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiB0aGlzLnByb3BzLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wOiB0aGlzLnByb3BzLmZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ6IHRoaXMucHJvcHMucmVjb21tZW5kZWRfYXQsXG4gICAgICAgICAgICAgIHJlY2VpdmVkX3Jhbms6IHRoaXMucHJvcHMucmVjZWl2ZWRfcmFuayxcbiAgICAgICAgICAgICAgdG9waWM6IHRoaXMucHJvcHMudG9waWMsXG4gICAgICAgICAgICAgIGlzX2xpc3RfY2FyZDogdGhpcy5wcm9wcy5pc19saXN0X2NhcmQsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuZm9ybWF0ID8geyBmb3JtYXQ6IHRoaXMucHJvcHMuZm9ybWF0IH0gOiB7fSksXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNlY3Rpb25cbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb25fcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ6IHRoaXMucHJvcHMuaXNfc2VjdGlvbl9mb2xsb3dlZCxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IERTTGlua01lbnUgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfRFNMaW5rTWVudSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBQUkVGX1dFQVRIRVJfUExBQ0VNRU5UID0gXCJ3ZWF0aGVyLnBsYWNlbWVudFwiO1xuY29uc3QgUFJFRl9EQUlMWV9CUklFRl9TRUNUSU9OSUQgPSBcImRpc2NvdmVyeXN0cmVhbS5kYWlseUJyaWVmLnNlY3Rpb25JZFwiO1xuY29uc3QgUFJFRl9EQUlMWV9CUklFRl9FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0uZGFpbHlCcmllZi5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1NUT1JJRVNfRU5BQkxFRCA9IFwiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCI7XG5jb25zdCBQUkVGX1NZU1RFTV9TVE9SSUVTX0VOQUJMRUQgPSBcImZlZWRzLnN5c3RlbS50b3BzdG9yaWVzXCI7XG5cbi8qKlxuICogQSBjdXN0b20gcmVhY3QgaG9vayB0aGF0IHNldHMgdXAgYW4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgdG8gb2JzZXJ2ZSBhIHNpbmdsZVxuICogb3IgbGlzdCBvZiBlbGVtZW50cyBhbmQgdHJpZ2dlcnMgYSBjYWxsYmFjayB3aGVuIHRoZSBlbGVtZW50IGNvbWVzIGludG8gdGhlIHZpZXdwb3J0XG4gKiBOb3RlOiBUaGUgcmVmcyB1c2VkIHNob3VsZCBiZSBhbiBhcnJheSB0eXBlXG4gKiBAZnVuY3Rpb24gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBlbGVtZW50IGNvbWVzIGludG8gdGhlIHZpZXdwb3J0XG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXI6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIvSW50ZXJzZWN0aW9uT2JzZXJ2ZXIjb3B0aW9uc1xuICogQHBhcmFtIHtCb29sZWFufSBbaXNTaW5nbGUgPSBmYWxzZV0gQm9vbGVhbiBpZiB0aGUgZWxlbWVudHMgYXJlIGFuIGFycmF5IG9yIHNpbmdsZSBlbGVtZW50XG4gKlxuICogQHJldHVybnMge1JlYWN0Lk11dGFibGVSZWZPYmplY3R9IGEgcmVmIGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgZWxlbWVudHMgb3Igc2luZ2xlIGVsZW1lbnRcbiAqXG4gKlxuICpcbiAqL1xuZnVuY3Rpb24gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIHRocmVzaG9sZCA9IDAuMykge1xuICBjb25zdCBlbGVtZW50c1JlZiA9IHVzZVJlZihbXSk7XG4gIGNvbnN0IHRyaWdnZXJlZEVsZW1lbnRzID0gdXNlUmVmKG5ldyBXZWFrU2V0KCkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgZW50cmllcyA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZW50cnkuaXNJbnRlcnNlY3RpbmcgJiZcbiAgICAgICAgICAgICF0cmlnZ2VyZWRFbGVtZW50cy5jdXJyZW50LmhhcyhlbnRyeS50YXJnZXQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0cmlnZ2VyZWRFbGVtZW50cy5jdXJyZW50LmFkZChlbnRyeS50YXJnZXQpO1xuICAgICAgICAgICAgY2FsbGJhY2soZW50cnkudGFyZ2V0KTtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgeyB0aHJlc2hvbGQgfVxuICAgICk7XG5cbiAgICBlbGVtZW50c1JlZi5jdXJyZW50LmZvckVhY2goZWwgPT4ge1xuICAgICAgaWYgKGVsICYmICF0cmlnZ2VyZWRFbGVtZW50cy5jdXJyZW50LmhhcyhlbCkpIHtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uIHRvIGRpc2Nvbm5lY3Qgb2JzZXJ2ZXIgb24gdW5tb3VudFxuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtjYWxsYmFjaywgdGhyZXNob2xkXSk7XG5cbiAgcmV0dXJuIGVsZW1lbnRzUmVmO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgdGhlIGFjdGl2ZSBjYXJkIHNpemUgKFwic21hbGxcIiwgXCJtZWRpdW1cIiwgb3IgXCJsYXJnZVwiKSBiYXNlZCBvbiB0aGUgc2NyZWVuIHdpZHRoXG4gKiBhbmQgY2xhc3MgbmFtZXMgYXBwbGllZCB0byB0aGUgY2FyZCBlbGVtZW50IGF0IHRoZSB0aW1lIG9mIGFuIGV2ZW50IChleGFtcGxlOiBjbGljaylcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgY3VycmVudCB3aW5kb3cgd2lkdGggKGluIHBpeGVscykuXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdfSBjbGFzc05hbWVzIC0gQSBzdHJpbmcgb3IgYXJyYXkgb2YgY2xhc3MgbmFtZXMgYXBwbGllZCB0byB0aGUgc2VjdGlvbnMgY2FyZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbltdfSBzZWN0aW9uc0VuYWJsZWQgLSBJZiBzZWN0aW9ucyBpcyBub3QgZW5hYmxlZCwgYWxsIGNhcmRzIGFyZSBgbWVkaXVtLWNhcmRgXG4gKiBAcGFyYW0ge251bWJlcn0gZmxpZ2h0SWQgLSBFcnJvciBlZ2UgY2FzZTogVGhpcyBmdW5jdGlvbiBzaG91bGQgbm90IGJlIGNhbGxlZCBvbiBzcG9jcywgd2hpY2ggaGF2ZSBmbGlnaHRJZFxuICogQHJldHVybnMge1wic21hbGwtY2FyZFwiIHwgXCJtZWRpdW0tY2FyZFwiIHwgXCJsYXJnZS1jYXJkXCIgfCBudWxsfSBUaGUgYWN0aXZlIGNhcmQgdHlwZSwgb3IgbnVsbCBpZiBub25lIGlzIG1hdGNoZWQuXG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZUNhcmRTaXplKHNjcmVlbldpZHRoLCBjbGFzc05hbWVzLCBzZWN0aW9uc0VuYWJsZWQsIGZsaWdodElkKSB7XG4gIC8vIE9ubHkgYXBwbGllcyB0byBzcG9uc29yZWQgY29udGVudFxuICBpZiAoZmxpZ2h0SWQpIHtcbiAgICByZXR1cm4gXCJzcG9jXCI7XG4gIH1cblxuICAvLyBEZWZhdWx0IGxheW91dCBvbmx5IHN1cHBvcnRzIGBtZWRpdW0tY2FyZGBcbiAgaWYgKCFzZWN0aW9uc0VuYWJsZWQpIHtcbiAgICAvLyBNaXNzaW5nIGFyZ3VtZW50c1xuICAgIHJldHVybiBcIm1lZGl1bS1jYXJkXCI7XG4gIH1cblxuICAvLyBSZXR1cm4gbnVsbCBpZiBubyB2YWx1ZXMgYXJlIGF2YWlsYWJsZVxuICBpZiAoIXNjcmVlbldpZHRoIHx8ICFjbGFzc05hbWVzKSB7XG4gICAgLy8gTWlzc2luZyBhcmd1bWVudHNcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGNsYXNzTGlzdCA9IGNsYXNzTmFtZXMuc3BsaXQoXCIgXCIpO1xuXG4gIC8vIEVhY2ggYnJlYWtwb2ludCBjb3JyZXNwb25kcyB0byBhIG1pbmltdW0gc2NyZWVuIHdpZHRoIGFuZCBpdHMgYXNzb2NpYXRlZCBjb2x1bW4gY2xhc3NcbiAgY29uc3QgYnJlYWtwb2ludHMgPSBbXG4gICAgeyBtaW46IDEzNzQsIGNvbHVtbjogXCJjb2wtNFwiIH0sIC8vICRicmVhay1wb2ludC1zZWN0aW9ucy12YXJpYW50XG4gICAgeyBtaW46IDExMjIsIGNvbHVtbjogXCJjb2wtM1wiIH0sIC8vICRicmVhay1wb2ludC13aWRlc3RcbiAgICB7IG1pbjogNzI0LCBjb2x1bW46IFwiY29sLTJcIiB9LCAvLyAkYnJlYWstcG9pbnQtbGF5b3V0LXZhcmlhbnRcbiAgICB7IG1pbjogMCwgY29sdW1uOiBcImNvbC0xXCIgfSwgLy8gKGRlZmF1bHQgbGF5b3V0KVxuICBdO1xuXG4gIGNvbnN0IGNhcmRUeXBlcyA9IFtcInNtYWxsXCIsIFwibWVkaXVtXCIsIFwibGFyZ2VcIl07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoaWNoIGNvbHVtbiBpcyBhY3RpdmUgYmFzZWQgb24gdGhlIGN1cnJlbnQgc2NyZWVuIHdpZHRoXG4gIGNvbnN0IGN1cnJDb2x1bW5Db3VudCA9IGJyZWFrcG9pbnRzLmZpbmQoYnAgPT4gc2NyZWVuV2lkdGggPj0gYnAubWluKS5jb2x1bW47XG5cbiAgLy8gTWF0Y2ggdGhlIGNhcmQgdHlwZSBmb3IgdGhhdCBjb2x1bW4gY291bnRcbiAgZm9yIChsZXQgdHlwZSBvZiBjYXJkVHlwZXMpIHtcbiAgICBjb25zdCBjbGFzc05hbWUgPSBgJHtjdXJyQ29sdW1uQ291bnR9LSR7dHlwZX1gO1xuICAgIGlmIChjbGFzc0xpc3QuaW5jbHVkZXMoY2xhc3NOYW1lKSkge1xuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBiZWxvdyAkYnJlYWstcG9pbnQtbWVkaXVtICg2MTBweCksIHJlcG9ydCBgY29sLTEtc21hbGxgIGFzIG1lZGl1bVxuICAgICAgaWYgKFxuICAgICAgICBzY3JlZW5XaWR0aCA8IDYxMCAmJlxuICAgICAgICBjdXJyQ29sdW1uQ291bnQgPT09IFwiY29sLTFcIiAmJlxuICAgICAgICB0eXBlID09PSBcInNtYWxsXCJcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gXCJtZWRpdW0tY2FyZFwiO1xuICAgICAgfVxuICAgICAgLy8gV2lsbCBiZSBlaXRoZXIgXCJzbWFsbC1jYXJkXCIsIFwibWVkaXVtLWNhcmRcIiwgb3IgXCJsYXJnZS1jYXJkXCJcbiAgICAgIHJldHVybiBgJHt0eXBlfS1jYXJkYDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgQ09ORkVUVElfVkFSUyA9IFtcbiAgXCItLWNvbG9yLXJlZC00MFwiLFxuICBcIi0tY29sb3IteWVsbG93LTQwXCIsXG4gIFwiLS1jb2xvci1wdXJwbGUtNDBcIixcbiAgXCItLWNvbG9yLWJsdWUtNDBcIixcbiAgXCItLWNvbG9yLWdyZWVuLTQwXCIsXG5dO1xuXG4vKipcbiAqIEN1c3RvbSBob29rIHRvIGFuaW1hdGUgYSBjb25mZXR0aSBidXJzdC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnQgICBOdW1iZXIgb2YgcGFydGljbGVzXG4gKiBAcGFyYW0ge251bWJlcn0gc3ByZWFkICBzcHJlYWQgb2YgY29uZmV0dGlcbiAqIEByZXR1cm5zIHtbUmVhY3QuUmVmT2JqZWN0PEhUTUxDYW52YXNFbGVtZW50PiwgKCkgPT4gdm9pZF19XG4gKi9cbmZ1bmN0aW9uIHVzZUNvbmZldHRpKGNvdW50ID0gODAsIHNwcmVhZCA9IE1hdGguUEkgLyAzKSB7XG4gIC8vIGF2b2lkIGVycm9ycyBmcm9tIGFib3V0OmhvbWUgY2FjaGVcbiAgY29uc3QgcHJlZmVyc1JlZHVjZWRNb3Rpb24gPVxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIikubWF0Y2hlcztcblxuICBsZXQgY29sb3JzO1xuICAvLyBpZiBpbiBhYm91dGhvbWUgY2FjaGUsIGdldENvbXB1dGVkU3R5bGUgd2lsbCBub3QgYmUgYXZhaWxhYmxlXG4gIGlmICh0eXBlb2YgZ2V0Q29tcHV0ZWRTdHlsZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgIGNvbG9ycyA9IENPTkZFVFRJX1ZBUlMubWFwKHZhcmlhYmxlID0+XG4gICAgICBzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSh2YXJpYWJsZSkudHJpbSgpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb2xvcnMgPSBbXCIjZmE1ZTc1XCIsIFwiI2RlOTYwMFwiLCBcIiNjNjcxZWJcIiwgXCIjM2Y5NGZmXCIsIFwiIzM3Yjg0N1wiXTtcbiAgfVxuXG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcGFydGljbGVzUmVmID0gdXNlUmVmKFtdKTtcbiAgY29uc3QgYW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWYoMCk7XG5cbiAgLy8gaW5pdGlhbGl6ZS9yZXNldCBwb29sXG4gIGNvbnN0IGluaXRpYWxpemVDb25mZXR0aSA9IHVzZUNhbGxiYWNrKFxuICAgICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xuICAgICAgY29uc3QgY2VudGVyWSA9IGhlaWdodDtcbiAgICAgIGNvbnN0IHBvb2wgPSBwYXJ0aWNsZXNSZWYuY3VycmVudDtcblxuICAgICAgLy8gQ3JlYXRlIG9yIG92ZXJ3cml0ZSBlYWNoIHBhcnRpY2xl4oCZcyBpbml0aWFsIHN0YXRlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLlBJIC8gMiArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIHNwcmVhZDtcbiAgICAgICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gY29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNvbG9ycy5sZW5ndGgpXTtcblxuICAgICAgICBwb29sW2ldID0ge1xuICAgICAgICAgIHg6IGNlbnRlclggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA0MCxcbiAgICAgICAgICB5OiBjZW50ZXJZLFxuICAgICAgICAgIGNvcyxcbiAgICAgICAgICBzaW4sXG4gICAgICAgICAgdmVsb2NpdHk6IE1hdGgucmFuZG9tKCkgKiA2ICsgNixcbiAgICAgICAgICBncmF2aXR5OiAwLjMsXG4gICAgICAgICAgZGVjYXk6IDAuOTYsXG4gICAgICAgICAgc2l6ZTogOCxcbiAgICAgICAgICBjb2xvcixcbiAgICAgICAgICBsaWZlOiAwLFxuICAgICAgICAgIG1heExpZmU6IDEwMCxcbiAgICAgICAgICB0aWx0OiBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDIsXG4gICAgICAgICAgdGlsdFNwZWVkOiBNYXRoLnJhbmRvbSgpICogMC4yICsgMC4wNSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtjb3VudCwgc3ByZWFkLCBjb2xvcnNdXG4gICk7XG5cbiAgLy8gQ29yZSBhbmltYXRpb24gbG9vcCDigJQgdXBkYXRlcyBwaHlzaWNzICYgcmVuZGVycyBlYWNoIGZyYW1lXG4gIGNvbnN0IGFuaW1hdGVQYXJ0aWNsZXMgPSB1c2VDYWxsYmFjayhjYW52YXMgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IHBvb2wgPSBwYXJ0aWNsZXNSZWYuY3VycmVudDtcblxuICAgIC8vIENsZWFyIHRoZSBlbnRpcmUgY2FudmFzIGVhY2ggZnJhbWVcbiAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIGxldCBhbnlBbGl2ZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IHBhcnRpY2xlIG9mIHBvb2wpIHtcbiAgICAgIGlmIChwYXJ0aWNsZS5saWZlIDwgcGFydGljbGUubWF4TGlmZSkge1xuICAgICAgICBhbnlBbGl2ZSA9IHRydWU7XG5cbiAgICAgICAgLy8gdXBkYXRlIGVhY2ggcGFydGljbGVzIHBoeXNpY3M6IHBvc2l0aW9uLCB2ZWxvY2l0eSBkZWNheSwgZ3Jhdml0eSwgdGlsdCwgbGlmZXNwYW5cbiAgICAgICAgcGFydGljbGUudmVsb2NpdHkgKj0gcGFydGljbGUuZGVjYXk7XG4gICAgICAgIHBhcnRpY2xlLnggKz0gcGFydGljbGUuY29zICogcGFydGljbGUudmVsb2NpdHk7XG4gICAgICAgIHBhcnRpY2xlLnkgLT0gcGFydGljbGUuc2luICogcGFydGljbGUudmVsb2NpdHk7XG4gICAgICAgIHBhcnRpY2xlLnkgKz0gcGFydGljbGUuZ3Jhdml0eTtcbiAgICAgICAgcGFydGljbGUudGlsdCArPSBwYXJ0aWNsZS50aWx0U3BlZWQ7XG4gICAgICAgIHBhcnRpY2xlLmxpZmUgKz0gMTtcbiAgICAgIH1cblxuICAgICAgLy8gRHJhdzogYXBwbHkgYWxwaGEsIHRyYW5zZm9ybSAmIGRyYXcgYSByb3RhdGVkLCBzY2FsZWQgc3F1YXJlXG4gICAgICBjb25zdCBhbHBoYVZhbHVlID0gMSAtIHBhcnRpY2xlLmxpZmUgLyBwYXJ0aWNsZS5tYXhMaWZlO1xuICAgICAgY29uc3Qgc2NhbGVZID0gTWF0aC5zaW4ocGFydGljbGUudGlsdCk7XG5cbiAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBhbHBoYVZhbHVlO1xuICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgcGFydGljbGUueCwgcGFydGljbGUueSk7XG4gICAgICBjb250ZXh0LnJvdGF0ZShNYXRoLlBJIC8gNCk7XG4gICAgICBjb250ZXh0LnNjYWxlKDEsIHNjYWxlWSk7XG5cbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gcGFydGljbGUuY29sb3I7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgICAtcGFydGljbGUuc2l6ZSAvIDIsXG4gICAgICAgIC1wYXJ0aWNsZS5zaXplIC8gMixcbiAgICAgICAgcGFydGljbGUuc2l6ZSxcbiAgICAgICAgcGFydGljbGUuc2l6ZVxuICAgICAgKTtcblxuICAgICAgLy8gcmVzZXQgZWFjaCBwYXJ0aWNsZVxuICAgICAgY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcbiAgICB9XG5cbiAgICBpZiAoYW55QWxpdmUpIHtcbiAgICAgIC8vIGNvbnRpbnVlIHRoZSBhbmltYXRpb25cbiAgICAgIGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBhbmltYXRlUGFydGljbGVzKGNhbnZhcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCk7XG4gICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBSZXNldHMgYW5kIHN0YXJ0cyBhIG5ldyBjb25mZXR0aSBhbmltYXRpb25cbiAgY29uc3QgZmlyZUNvbmZldHRpID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChwcmVmZXJzUmVkdWNlZE1vdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWY/LmN1cnJlbnQ7XG4gICAgaWYgKGNhbnZhcykge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCk7XG4gICAgICBpbml0aWFsaXplQ29uZmV0dGkoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIGFuaW1hdGVQYXJ0aWNsZXMoY2FudmFzKTtcbiAgICB9XG4gIH0sIFtpbml0aWFsaXplQ29uZmV0dGksIGFuaW1hdGVQYXJ0aWNsZXMsIHByZWZlcnNSZWR1Y2VkTW90aW9uXSk7XG5cbiAgcmV0dXJuIFtjYW52YXNSZWYsIGZpcmVDb25mZXR0aV07XG59XG5cbmZ1bmN0aW9uIHNlbGVjdFdlYXRoZXJQbGFjZW1lbnQoc3RhdGUpIHtcbiAgY29uc3QgcHJlZnMgPSBzdGF0ZS5QcmVmcy52YWx1ZXMgfHwge307XG5cbiAgLy8gSW50ZW50OiBvbmx5IHBsYWNlZCBpbiBzZWN0aW9uIGlmIGV4cGxpY2l0bHkgcmVxdWVzdGVkXG4gIGNvbnN0IHBsYWNlbWVudFByZWYgPVxuICAgIHByZWZzLnRyYWluaG9wQ29uZmlnPy5kYWlseUJyaWVmaW5nPy5wbGFjZW1lbnQgfHxcbiAgICBwcmVmc1tQUkVGX1dFQVRIRVJfUExBQ0VNRU5UXTtcblxuICBpZiAocGxhY2VtZW50UHJlZiA9PT0gXCJoZWFkZXJcIiB8fCAhcGxhY2VtZW50UHJlZikge1xuICAgIHJldHVybiBcImhlYWRlclwiO1xuICB9XG5cbiAgY29uc3Qgc2VjdGlvbnMgPVxuICAgIHN0YXRlLkRpc2NvdmVyeVN0cmVhbS5mZWVkcy5kYXRhW1xuICAgICAgXCJodHRwczovL21lcmluby5zZXJ2aWNlcy5tb3ppbGxhLmNvbS9hcGkvdjEvY3VyYXRlZC1yZWNvbW1lbmRhdGlvbnNcIlxuICAgIF0/LmRhdGEuc2VjdGlvbnMgPz8gW107XG4gIC8vIGNoZWNrIHRoZSBmb2xsb3dpbmcgcHJlZnMgdG8gbWFrZSBzdXJlIHdlYXRoZXIgaXMgZWxsaWdpYmxlIHRvIGJlIHBsYWNlZCBpbiBzZWN0aW9uc1xuICAvLyAxLiBUaGUgZGFpbHkgYnJpZWlmbmcgc2VjdGlvbiBtdXN0IGJlIGF2YWlsaWJsZSBhbmQgaW4gdGhlIHRvcCBwb3NpdGlvblxuICAvLyAyLiBUaGF0IHRoZSBkYWlseSBicmllZmluZyBzZWN0aW9uIGhhcyBub3QgYmVlbiBibG9ja2VkXG4gIC8vIDMuIFRoYXQgcmVjY29tZW5kZWQgc3RvcmllcyBhcmUgdHJ1bmVkIG9uXG4gIC8vIE90aGVyd2lzZSBpdCBzaG91bGQgYmUgcGxhY2VkIGluIHRoZSBoZWFkZXJcbiAgY29uc3QgcG9ja2V0RW5hYmxlZCA9XG4gICAgcHJlZnNbUFJFRl9TVE9SSUVTX0VOQUJMRURdICYmIHByZWZzW1BSRUZfU1lTVEVNX1NUT1JJRVNfRU5BQkxFRF07XG4gIGNvbnN0IHNlY3Rpb25QZXJzb25hbGl6YXRpb24gPVxuICAgIHN0YXRlLkRpc2NvdmVyeVN0cmVhbT8uc2VjdGlvblBlcnNvbmFsaXphdGlvbiB8fCB7fTtcbiAgY29uc3QgZGFpbHlCcmllZkVuYWJsZWQgPVxuICAgIHByZWZzLnRyYWluaG9wQ29uZmlnPy5kYWlseUJyaWVmaW5nPy5lbmFibGVkIHx8XG4gICAgcHJlZnNbUFJFRl9EQUlMWV9CUklFRl9FTkFCTEVEXTtcbiAgY29uc3Qgc2VjdGlvbklkID1cbiAgICBwcmVmcy50cmFpbmhvcENvbmZpZz8uZGFpbHlCcmllZmluZz8uc2VjdGlvbklkIHx8XG4gICAgcHJlZnNbUFJFRl9EQUlMWV9CUklFRl9TRUNUSU9OSURdO1xuICBjb25zdCBub3RCbG9ja2VkID0gc2VjdGlvbklkICYmICFzZWN0aW9uUGVyc29uYWxpemF0aW9uW3NlY3Rpb25JZF0/LmlzQmxvY2tlZDtcbiAgbGV0IGZpbHRlcmVkU2VjdGlvbnMgPSBzZWN0aW9ucy5maWx0ZXIoXG4gICAgc2VjdGlvbiA9PiAhc2VjdGlvblBlcnNvbmFsaXphdGlvbltzZWN0aW9uLnNlY3Rpb25LZXldPy5pc0Jsb2NrZWRcbiAgKTtcbiAgY29uc3QgZm91bmRTZWN0aW9uID0gZmlsdGVyZWRTZWN0aW9ucy5maW5kKFxuICAgIHNlY3Rpb24gPT4gc2VjdGlvbi5zZWN0aW9uS2V5ID09PSBzZWN0aW9uSWRcbiAgKTtcbiAgY29uc3QgaXNUb3BTZWN0aW9uID1cbiAgICBmb3VuZFNlY3Rpb24/LnJlY2VpdmVkUmFuayA9PT0gMCB8fFxuICAgIGZpbHRlcmVkU2VjdGlvbnMuaW5kZXhPZihmb3VuZFNlY3Rpb24pID09PSAwO1xuXG4gIGNvbnN0IGVsaWdpYmxlID1cbiAgICBwb2NrZXRFbmFibGVkICYmXG4gICAgZGFpbHlCcmllZkVuYWJsZWQgJiZcbiAgICBzZWN0aW9uSWQgJiZcbiAgICBub3RCbG9ja2VkICYmXG4gICAgaXNUb3BTZWN0aW9uO1xuICByZXR1cm4gZWxpZ2libGUgPyBcInNlY3Rpb25cIiA6IFwiaGVhZGVyXCI7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUludGVyc2VjdGlvbk9ic2VydmVyLFxuICBnZXRBY3RpdmVDYXJkU2l6ZSxcbiAgdXNlQ29uZmV0dGksXG4gIHNlbGVjdFdlYXRoZXJQbGFjZW1lbnQsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19TT1VSQ0UgPSBcIlRPUF9TSVRFU1wiO1xuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJDaGVja1BpblRvcFNpdGVcIixcbiAgXCJFZGl0VG9wU2l0ZVwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJCbG9ja1VybFwiLFxuICBcIkRlbGV0ZVVybFwiLFxuXTtcbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfU1BPQ19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbiAgXCJTaG93UHJpdmFjeUluZm9cIixcbl07XG5leHBvcnQgY29uc3QgVE9QX1NJVEVTX1NQT05TT1JFRF9QT1NJVElPTl9DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbiAgXCJBYm91dFNwb25zb3JlZFwiLFxuXTtcbi8vIHRoZSBzcGVjaWFsIHRvcCBzaXRlIGZvciBzZWFyY2ggc2hvcnRjdXQgZXhwZXJpbWVudCBjYW4gb25seSBoYXZlIHRoZSBvcHRpb24gdG8gdW5waW4gKHdoaWNoIHJlbW92ZXMpIHRoZSB0b3BzaXRlXG5leHBvcnQgY29uc3QgVE9QX1NJVEVTX1NFQVJDSF9TSE9SVENVVFNfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiQ2hlY2tQaW5Ub3BTaXRlXCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbl07XG4vLyBtaW5pbXVtIHNpemUgbmVjZXNzYXJ5IHRvIHNob3cgYSByaWNoIGljb24gaW5zdGVhZCBvZiBhIHNjcmVlbnNob3RcbmV4cG9ydCBjb25zdCBNSU5fUklDSF9GQVZJQ09OX1NJWkUgPSA5Njtcbi8vIG1pbmltdW0gc2l6ZSBuZWNlc3NhcnkgdG8gc2hvdyBhbnkgaWNvblxuZXhwb3J0IGNvbnN0IE1JTl9TTUFMTF9GQVZJQ09OX1NJWkUgPSAxNjtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IGdldEFjdGl2ZUNhcmRTaXplIH0gZnJvbSBcIi4uLy4uL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX1NPVVJDRSB9IGZyb20gXCIuLi9Ub3BTaXRlcy9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG4vLyBQZXIgYW5hbHl0aWNhbCByZXF1aXJlbWVudCwgd2Ugc2V0IHRoZSBtaW5pbWFsIGludGVyc2VjdGlvbiByYXRpbyB0b1xuLy8gMC41LCBhbmQgYW4gaW1wcmVzc2lvbiBpcyBpZGVudGlmaWVkIHdoZW4gdGhlIHdyYXBwZWQgaXRlbSBoYXMgYXQgbGVhc3Rcbi8vIDUwJSB2aXNpYmlsaXR5LlxuLy9cbi8vIFRoaXMgY29uc3RhbnQgaXMgZXhwb3J0ZWQgZm9yIHVuaXQgdGVzdFxuZXhwb3J0IGNvbnN0IElOVEVSU0VDVElPTl9SQVRJTyA9IDAuNTtcblxuLyoqXG4gKiBJbXByZXNzaW9uIHdyYXBwZXIgZm9yIERpc2NvdmVyeSBTdHJlYW0gcmVsYXRlZCBSZWFjdCBjb21wb25lbnRzLlxuICpcbiAqIEl0IG1ha2VzIHVzZSBvZiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgdGhlIHZpc2liaWxpdHksXG4gKiBhbmQgcmVsaWVzIG9uIHBhZ2UgdmlzaWJpbGl0eSB0byBlbnN1cmUgdGhlIGltcHJlc3Npb24gaXMgcmVwb3J0ZWRcbiAqIG9ubHkgd2hlbiB0aGUgY29tcG9uZW50IGlzIHZpc2libGUgb24gdGhlIHBhZ2UuXG4gKlxuICogTm90ZTpcbiAqICAgKiBUaGlzIHdyYXBwZXIgdXNlZCB0byBiZSB1c2VkIGVpdGhlciBhdCB0aGUgaW5kaXZpZHVhbCBjYXJkIGxldmVsLFxuICogICAgIG9yIGJ5IHRoZSBjYXJkIGNvbnRhaW5lciBjb21wb25lbnRzLlxuICogICAgIEl0IGlzIG5vdyBvbmx5IHVzZWQgZm9yIGluZGl2aWR1YWwgY2FyZCBsZXZlbC5cbiAqICAgKiBFYWNoIGltcHJlc3Npb24gd2lsbCBiZSBzZW50IG9ubHkgb25jZSBhcyBzb29uIGFzIHRoZSBkZXNpcmVkXG4gKiAgICAgdmlzaWJpbGl0eSBpcyBkZXRlY3RlZFxuICogICAqIEJhdGNoaW5nIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQsIGhlbmNlIGl0IG1pZ2h0IHNlbmQgbXVsdGlwbGVcbiAqICAgICBpbXByZXNzaW9uIHBpbmdzIHNlcGFyYXRlbHlcbiAqL1xuZXhwb3J0IGNsYXNzIEltcHJlc3Npb25TdGF0cyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBUaGlzIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gY2FyZHMgYXJlIHRoZSBzYW1lIGFzIHRob3NlIGluIHRoZSBsYXN0IGltcHJlc3Npb24gcGluZy5cbiAgLy8gSWYgc28sIGl0IHNob3VsZCBub3Qgc2VuZCB0aGUgc2FtZSBpbXByZXNzaW9uIHBpbmcgYWdhaW4uXG4gIF9uZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMgfHxcbiAgICAgIHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcy5sZW5ndGggIT09IGNhcmRzLmxlbmd0aFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhcmRzW2ldLmlkICE9PSB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHNbaV0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBpc0Zha2VzcG90IH0gPSBwcm9wcztcbiAgICBjb25zdCBjYXJkcyA9IHByb3BzLnJvd3M7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5mbGlnaHRJZCkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DX0lNUFJFU1NJT04sXG4gICAgICAgICAgZGF0YTogeyBmbGlnaHRJZDogdGhpcy5wcm9wcy5mbGlnaHRJZCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gUmVjb3JkIHNwb25zb3JlZCB0b3BzaXRlcyBpbXByZXNzaW9ucyBpZiB0aGUgc291cmNlIGlzIGBUT1BfU0lURVNfU09VUkNFYC5cbiAgICAgIGlmICh0aGlzLnByb3BzLnNvdXJjZSA9PT0gVE9QX1NJVEVTX1NPVVJDRSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhcmQgb2YgY2FyZHMpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19TUE9OU09SRURfSU1QUkVTU0lPTl9TVEFUUyxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiaW1wcmVzc2lvblwiLFxuICAgICAgICAgICAgICAgIHRpbGVfaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICAgICAgc291cmNlOiBcIm5ld3RhYlwiLFxuICAgICAgICAgICAgICAgIGFkdmVydGlzZXI6IGNhcmQuYWR2ZXJ0aXNlcixcbiAgICAgICAgICAgICAgICAvLyBLZWVwIHRoZSAwLWJhc2VkIHBvc2l0aW9uLCBjYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgIC8vIHNlbmRlciBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGNhcmQucG9zLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX25lZWRzSW1wcmVzc2lvblN0YXRzKGNhcmRzKSkge1xuICAgICAgaWYgKGlzRmFrZXNwb3QpIHtcbiAgICAgICAgcHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICAgIHNvdXJjZTogcHJvcHMuc291cmNlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICB3aW5kb3dfaW5uZXJfd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgd2luZG93X2lubmVyX2hlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7XG4gICAgICAgICAgICAgIGlkOiBsaW5rLmlkLFxuICAgICAgICAgICAgICB0eXBlOiBcImZha2VzcG90XCIsXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiBsaW5rLmNhdGVnb3J5LFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgICAgc291cmNlOiBwcm9wcy5zb3VyY2UudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgIHdpbmRvd19pbm5lcl93aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICB3aW5kb3dfaW5uZXJfaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgICB0aWxlczogY2FyZHMubWFwKGxpbmsgPT4gKHtcbiAgICAgICAgICAgICAgaWQ6IGxpbmsuaWQsXG4gICAgICAgICAgICAgIHBvczogbGluay5wb3MsXG4gICAgICAgICAgICAgIHR5cGU6IHByb3BzLmZsaWdodElkID8gXCJzcG9jXCIgOiBcIm9yZ2FuaWNcIixcbiAgICAgICAgICAgICAgLi4uKGxpbmsuc2hpbSA/IHsgc2hpbTogbGluay5zaGltIH0gOiB7fSksXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiBsaW5rLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcDogbGluay5mZXRjaFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IGxpbmsuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZDogbGluay5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0OiBsaW5rLnJlY29tbWVuZGVkX2F0LFxuICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rOiBsaW5rLnJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgICAgIHRvcGljOiBsaW5rLnRvcGljLFxuICAgICAgICAgICAgICBmZWF0dXJlczogbGluay5mZWF0dXJlcyxcbiAgICAgICAgICAgICAgaXNfbGlzdF9jYXJkOiBsaW5rLmlzX2xpc3RfY2FyZCxcbiAgICAgICAgICAgICAgLi4uKGxpbmsuZm9ybWF0XG4gICAgICAgICAgICAgICAgPyB7IGZvcm1hdDogbGluay5mb3JtYXQgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGdldEFjdGl2ZUNhcmRTaXplKFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgIGxpbmsuY2xhc3NfbmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgbGluay5zZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGxpbmsuZmxpZ2h0SWRcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAuLi4obGluay5zZWN0aW9uXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb246IGxpbmsuc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogbGluay5zZWN0aW9uX3Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkOiBsaW5rLmlzX3NlY3Rpb25fZm9sbG93ZWQsXG4gICAgICAgICAgICAgICAgICAgIGxheW91dF9uYW1lOiBsaW5rLnNlY3Rpb25MYXlvdXROYW1lLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wOiBwcm9wcy5maXJzdFZpc2libGVUaW1lc3RhbXAsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzID0gY2FyZHMubWFwKGxpbmsgPT4gbGluay5pZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBjaGVja3MgaWYgdGhlIGdpdmVuIGNhcmRzIGFyZSB0aGUgc2FtZSBhcyB0aG9zZSBpbiB0aGUgbGFzdCBsb2FkZWQgY29udGVudCBwaW5nLlxuICAvLyBJZiBzbywgaXQgc2hvdWxkIG5vdCBzZW5kIHRoZSBzYW1lIGxvYWRlZCBjb250ZW50IHBpbmcgYWdhaW4uXG4gIF9uZWVkc0xvYWRlZENvbnRlbnQoY2FyZHMpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5sb2FkZWRDb250ZW50R3VpZHMgfHxcbiAgICAgIHRoaXMubG9hZGVkQ29udGVudEd1aWRzLmxlbmd0aCAhPT0gY2FyZHMubGVuZ3RoXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FyZHNbaV0uaWQgIT09IHRoaXMubG9hZGVkQ29udGVudEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9kaXNwYXRjaExvYWRlZENvbnRlbnQoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCBjYXJkcyA9IHByb3BzLnJvd3M7XG5cbiAgICBpZiAodGhpcy5fbmVlZHNMb2FkZWRDb250ZW50KGNhcmRzKSkge1xuICAgICAgcHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQoe1xuICAgICAgICAgIHNvdXJjZTogcHJvcHMuc291cmNlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7IGlkOiBsaW5rLmlkLCBwb3M6IGxpbmsucG9zIH0pKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLmxvYWRlZENvbnRlbnRHdWlkcyA9IGNhcmRzLm1hcChsaW5rID0+IGxpbmsuaWQpO1xuICAgIH1cbiAgfVxuXG4gIHNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAvLyBTZW5kIHRoZSBsb2FkZWQgY29udGVudCBwaW5nIG9uY2UgdGhlIHBhZ2UgaXMgdmlzaWJsZS5cbiAgICAgIHRoaXMuX2Rpc3BhdGNoTG9hZGVkQ29udGVudCgpO1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2Ugc2hvdWxkIG9ubHkgZXZlciBzZW5kIHRoZSBsYXRlc3QgaW1wcmVzc2lvbiBzdGF0cyBwaW5nLCBzbyByZW1vdmUgYW55XG4gICAgICAvLyBvbGRlciBsaXN0ZW5lcnMuXG4gICAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgICAgIC8vIFNlbmQgdGhlIGxvYWRlZCBjb250ZW50IHBpbmcgb25jZSB0aGUgcGFnZSBpcyB2aXNpYmxlLlxuICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoTG9hZGVkQ29udGVudCgpO1xuICAgICAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyKCk7XG4gICAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHByb3BzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbiBpbXByZXNzaW9uIG9ic2VydmVyIGZvciB0aGUgd3JhcHBlZCBjb21wb25lbnQuIEl0IG1ha2VzIHVzZSBvZlxuICAgKiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgaWYgdGhlIHdyYXBwZWQgY29tcG9uZW50IGlzXG4gICAqIHZpc2libGUgd2l0aCBhIGRlc2lyZWQgcmF0aW8sIGFuZCBvbmx5IHNlbmRzIGltcHJlc3Npb24gaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgKlxuICAgKiBTZWUgbW9yZSBkZXRhaWxzIGFib3V0IEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgYXQ6XG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbnRlcnNlY3Rpb25fT2JzZXJ2ZXJfQVBJXG4gICAqL1xuICBzZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMucm93cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9oYW5kbGVJbnRlcnNlY3QgPSBlbnRyaWVzID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZW50cmllcy5zb21lKFxuICAgICAgICAgIGVudHJ5ID0+XG4gICAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyAmJlxuICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gSU5URVJTRUNUSU9OX1JBVElPXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgICAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWZzLmltcHJlc3Npb24pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0geyB0aHJlc2hvbGQ6IElOVEVSU0VDVElPTl9SQVRJTyB9O1xuICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyID0gbmV3IHByb3BzLkludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgdGhpcy5faGFuZGxlSW50ZXJzZWN0LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnJlZnMuaW1wcmVzc2lvbik7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5yb3dzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2hhbmRsZUludGVyc2VjdCAmJiB0aGlzLmltcHJlc3Npb25PYnNlcnZlcikge1xuICAgICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucmVmcy5pbXByZXNzaW9uKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiByZWY9e1wiaW1wcmVzc2lvblwifSBjbGFzc05hbWU9XCJpbXByZXNzaW9uLW9ic2VydmVyXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5JbXByZXNzaW9uU3RhdHMuZGVmYXVsdFByb3BzID0ge1xuICBJbnRlcnNlY3Rpb25PYnNlcnZlcjogZ2xvYmFsVGhpcy5JbnRlcnNlY3Rpb25PYnNlcnZlcixcbiAgZG9jdW1lbnQ6IGdsb2JhbFRoaXMuZG9jdW1lbnQsXG4gIHJvd3M6IFtdLFxuICBzb3VyY2U6IFwiXCIsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU2FmZUFuY2hvciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBVc2UgZGlzcGF0Y2ggaW5zdGVhZCBvZiBub3JtYWwgbGluayBjbGljayBiZWhhdmlvciB0byBpbmNsdWRlIHJlZmVycmVyXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5PUEVOX0xJTkssXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZXZlbnQ6IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0sXG4gICAgICAgICAgICByZWZlcnJlcjpcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yZWZlcnJlciB8fCBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9yZWNvbW1lbmRhdGlvbnNcIixcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgYW5jaG9yJ3MgdXJsLCB3aGljaCBjb3VsZCBoYXZlIGJlZW4gY2xlYW5lZCB1cFxuICAgICAgICAgICAgdXJsOiBldmVudC5jdXJyZW50VGFyZ2V0LmhyZWYsXG4gICAgICAgICAgICBpc19zcG9uc29yZWQ6IHRoaXMucHJvcHMuaXNTcG9uc29yZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUHJvcGFnYXRlIGV2ZW50IGlmIHRoZXJlJ3MgYSBoYW5kbGVyXG4gICAgaWYgKHRoaXMucHJvcHMub25MaW5rQ2xpY2spIHtcbiAgICAgIHRoaXMucHJvcHMub25MaW5rQ2xpY2soZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHNhZmVVUkkodXJsKSB7XG4gICAgbGV0IHByb3RvY29sID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvdG9jb2wgPSBuZXcgVVJMKHVybCkucHJvdG9jb2w7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgY29uc3QgaXNBbGxvd2VkID0gW1wiaHR0cDpcIiwgXCJodHRwczpcIl0uaW5jbHVkZXMocHJvdG9jb2wpO1xuICAgIGlmICghaXNBbGxvd2VkKSB7XG4gICAgICBjb25zb2xlLndhcm4oYCR7dXJsfSBpcyBub3QgYWxsb3dlZCBmb3IgYW5jaG9yIHRhcmdldHMuYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB1cmwsIGNsYXNzTmFtZSwgdGl0bGUsIGlzU3BvbnNvcmVkIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgbGV0IGFuY2hvciA9IChcbiAgICAgIDxhXG4gICAgICAgIGhyZWY9e3RoaXMuc2FmZVVSSSh1cmwpfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgIGRhdGEtaXMtc3BvbnNvcmVkLWxpbms9eyEhaXNTcG9uc29yZWR9XG4gICAgICAgIHsuLi4odGhpcy5wcm9wcy50YWJJbmRleCA9PT0gMCB8fCB0aGlzLnByb3BzLnRhYkluZGV4XG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHJlZjogdGhpcy5wcm9wcy5zZXRSZWYsXG4gICAgICAgICAgICAgIHRhYkluZGV4OiB0aGlzLnByb3BzLnRhYkluZGV4LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDoge30pfVxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvYT5cbiAgICApO1xuXG4gICAgcmV0dXJuIGFuY2hvcjtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNvbnN0IGNhcmRDb250ZXh0VHlwZXMgPSB7XG4gIGhpc3Rvcnk6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtdmlzaXRlZFwiLFxuICAgIGljb246IFwiaGlzdG9yeS1pdGVtXCIsXG4gIH0sXG4gIHJlbW92ZWRCb29rbWFyazoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1yZW1vdmVkLWJvb2ttYXJrXCIsXG4gICAgaWNvbjogXCJib29rbWFyay1yZW1vdmVkXCIsXG4gIH0sXG4gIGJvb2ttYXJrOiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLWJvb2ttYXJrZWRcIixcbiAgICBpY29uOiBcImJvb2ttYXJrLWFkZGVkXCIsXG4gIH0sXG4gIHRyZW5kaW5nOiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLXJlY29tbWVuZGVkXCIsXG4gICAgaWNvbjogXCJ0cmVuZGluZ1wiLFxuICB9LFxuICBwb2NrZXQ6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtc2F2ZWRcIixcbiAgICBpY29uOiBcInBvY2tldFwiLFxuICB9LFxuICBkb3dubG9hZDoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1kb3dubG9hZFwiLFxuICAgIGljb246IFwiZG93bmxvYWRcIixcbiAgfSxcbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUmVhY3RUcmFuc2l0aW9uR3JvdXA7IiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG4vKipcbiAqIFNldCB0ZXh0IG9uIGEgY2hpbGQgZWxlbWVudC9jb21wb25lbnQgZGVwZW5kaW5nIG9uIGlmIHRoZSBtZXNzYWdlIGlzIGFscmVhZHlcbiAqIHRyYW5zbGF0ZWQgcGxhaW4gdGV4dCBvciBhIGZsdWVudCBpZCB3aXRoIG9wdGlvbmFsIGFyZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBGbHVlbnRPclRleHQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGEgc2luZ2xlIGNoaWxkIHRvIGF0dGFjaCBhdHRyaWJ1dGVzXG4gICAgY29uc3QgeyBjaGlsZHJlbiwgbWVzc2FnZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuID8gUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbikgOiA8c3BhbiAvPjtcblxuICAgIC8vIEZvciBhIHN0cmluZyBtZXNzYWdlLCBqdXN0IHVzZSBpdCBhcyB0aGUgY2hpbGQncyB0ZXh0XG4gICAgbGV0IGdyYW5kQ2hpbGRyZW4gPSBtZXNzYWdlO1xuICAgIGxldCBleHRyYVByb3BzO1xuXG4gICAgLy8gQ29udmVydCBhIG1lc3NhZ2Ugb2JqZWN0IHRvIHNldCBkZXNpcmVkIGZsdWVudC1kb20gYXR0cmlidXRlc1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgYXJncyA9IG1lc3NhZ2UuYXJncyB8fCBtZXNzYWdlLnZhbHVlcztcbiAgICAgIGV4dHJhUHJvcHMgPSB7XG4gICAgICAgIFwiZGF0YS1sMTBuLWFyZ3NcIjogYXJncyAmJiBKU09OLnN0cmluZ2lmeShhcmdzKSxcbiAgICAgICAgXCJkYXRhLWwxMG4taWRcIjogbWVzc2FnZS5pZCB8fCBtZXNzYWdlLnN0cmluZ19pZCxcbiAgICAgIH07XG5cbiAgICAgIC8vIFVzZSBvcmlnaW5hbCBjaGlsZHJlbiBwb3RlbnRpYWxseSB3aXRoIGRhdGEtbDEwbi1uYW1lIGF0dHJpYnV0ZXNcbiAgICAgIGdyYW5kQ2hpbGRyZW4gPSBjaGlsZC5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIG1lc3NhZ2UgdG8gdGhlIGNoaWxkIHZpYSBmbHVlbnQgYXR0cmlidXRlcyBvciB0ZXh0IG5vZGVcbiAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBleHRyYVByb3BzLCBncmFuZENoaWxkcmVuKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgY2FyZENvbnRleHRUeXBlcyB9IGZyb20gXCIuLi8uLi9DYXJkL3R5cGVzLm1qc1wiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwIH0gZnJvbSBcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCIuLi8uLi9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0LmpzeFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBBbmltYXRpb24gdGltZSBpcyBtaXJyb3JlZCBpbiBEU0NvbnRleHRGb290ZXIuc2Nzc1xuY29uc3QgQU5JTUFUSU9OX0RVUkFUSU9OID0gMzAwMDtcblxuZXhwb3J0IGNvbnN0IERTTWVzc2FnZUxhYmVsID0gcHJvcHMgPT4ge1xuICBjb25zdCB7IGNvbnRleHQsIGNvbnRleHRfdHlwZSwgbWF5SGF2ZVNlY3Rpb25zQ2FyZHMgfSA9IHByb3BzO1xuICBjb25zdCB7IGljb24sIGZsdWVudElEIH0gPSBjYXJkQ29udGV4dFR5cGVzW2NvbnRleHRfdHlwZV0gfHwge307XG5cbiAgaWYgKCFjb250ZXh0ICYmIGNvbnRleHRfdHlwZSAmJiAhbWF5SGF2ZVNlY3Rpb25zQ2FyZHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRyYW5zaXRpb25Hcm91cCBjb21wb25lbnQ9e251bGx9PlxuICAgICAgICA8Q1NTVHJhbnNpdGlvblxuICAgICAgICAgIGtleT17Zmx1ZW50SUR9XG4gICAgICAgICAgdGltZW91dD17QU5JTUFUSU9OX0RVUkFUSU9OfVxuICAgICAgICAgIGNsYXNzTmFtZXM9XCJzdG9yeS1hbmltYXRlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxTdGF0dXNNZXNzYWdlIGljb249e2ljb259IGZsdWVudElEPXtmbHVlbnRJRH0gLz5cbiAgICAgICAgPC9DU1NUcmFuc2l0aW9uPlxuICAgICAgPC9UcmFuc2l0aW9uR3JvdXA+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IFN0YXR1c01lc3NhZ2UgPSAoeyBpY29uLCBmbHVlbnRJRCB9KSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzLW1lc3NhZ2VcIj5cbiAgICA8c3BhblxuICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgY2xhc3NOYW1lPXtgc3RvcnktYmFkZ2UtaWNvbiBpY29uIGljb24tJHtpY29ufWB9XG4gICAgLz5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cInN0b3J5LWNvbnRleHQtbGFiZWxcIiBkYXRhLWwxMG4taWQ9e2ZsdWVudElEfSAvPlxuICA8L2Rpdj5cbik7XG5cbmV4cG9ydCBjb25zdCBTcG9uc29yTGFiZWwgPSAoe1xuICBzcG9uc29yZWRfYnlfb3ZlcnJpZGUsXG4gIHNwb25zb3IsXG4gIGNvbnRleHQsXG4gIG5ld1Nwb25zb3JlZExhYmVsLFxufSkgPT4ge1xuICBjb25zdCBjbGFzc0xpc3QgPSBgc3Rvcnktc3BvbnNvcmVkLWxhYmVsICR7bmV3U3BvbnNvcmVkTGFiZWwgfHwgXCJcIn0gY2xhbXBgO1xuICAvLyBJZiBvdmVycmlkZSBpcyBub3QgZmFsc2Ugb3IgYW4gZW1wdHkgc3RyaW5nLlxuICBpZiAoc3BvbnNvcmVkX2J5X292ZXJyaWRlKSB7XG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT17Y2xhc3NMaXN0fT57c3BvbnNvcmVkX2J5X292ZXJyaWRlfTwvcD47XG4gIH0gZWxzZSBpZiAoc3BvbnNvcmVkX2J5X292ZXJyaWRlID09PSBcIlwiKSB7XG4gICAgLy8gV2Ugc3BlY2lmaWNhbGx5IHdhbnQgdG8gZGlzcGxheSBub3RoaW5nIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgLy8gU28gdGhlIHNlcnZlciBjYW4gdHVybiBvZmYgdGhlIGxhYmVsLlxuICAgIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCB0aGUgdXNlIGNhc2VzIHdoZXJlIHRoZSBzcG9uc29yZWQgY29udGV4dCBpcyBkaXNwbGF5ZWQgZWxzZXdoZXJlLlxuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKHNwb25zb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPXtjbGFzc0xpc3R9PlxuICAgICAgICA8Rmx1ZW50T3JUZXh0XG4gICAgICAgICAgbWVzc2FnZT17e1xuICAgICAgICAgICAgaWQ6IGBuZXd0YWItbGFiZWwtc3BvbnNvcmVkLWJ5YCxcbiAgICAgICAgICAgIHZhbHVlczogeyBzcG9uc29yIH0sXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9IGVsc2UgaWYgKGNvbnRleHQpIHtcbiAgICByZXR1cm4gPHAgY2xhc3NOYW1lPXtjbGFzc0xpc3R9Pntjb250ZXh0fTwvcD47XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY2xhc3MgRFNDb250ZXh0Rm9vdGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb250ZXh0LFxuICAgICAgY29udGV4dF90eXBlLFxuICAgICAgc3BvbnNvcixcbiAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbiAgICAgIGN0YV9idXR0b25fdmFyaWFudCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIG1heUhhdmVTZWN0aW9uc0NhcmRzLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgc3BvbnNvckxhYmVsID0gU3BvbnNvckxhYmVsKHtcbiAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbiAgICAgIHNwb25zb3IsXG4gICAgICBjb250ZXh0LFxuICAgIH0pO1xuICAgIGNvbnN0IGRzTWVzc2FnZUxhYmVsID0gRFNNZXNzYWdlTGFiZWwoe1xuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRleHRfdHlwZSxcbiAgICAgIG1heUhhdmVTZWN0aW9uc0NhcmRzLFxuICAgIH0pO1xuXG4gICAgaWYgKGN0YV9idXR0b25fdmFyaWFudCA9PT0gXCJ2YXJpYW50LWFcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1mb290ZXJcIj5cbiAgICAgICAgICB7LyogdGhpcyBidXR0b24gaXMgZGVjb3JhdGl2ZSBvbmx5ICovfVxuICAgICAgICAgIDxidXR0b24gYXJpYS1oaWRkZW49XCJ0cnVlXCIgY2xhc3NOYW1lPVwic3RvcnktY3RhLWJ1dHRvblwiPlxuICAgICAgICAgICAgU2hvcCBOb3dcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB7c3BvbnNvckxhYmVsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGN0YV9idXR0b25fdmFyaWFudCA9PT0gXCJ2YXJpYW50LWJcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1mb290ZXJcIj5cbiAgICAgICAgICB7c3BvbnNvckxhYmVsfVxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNvdXJjZSBjbGFtcCBjdGEtZm9vdGVyLXNvdXJjZVwiPntzb3VyY2V9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHNwb25zb3JMYWJlbCB8fCAoZHNNZXNzYWdlTGFiZWwgJiYgY29udGV4dF90eXBlICE9PSBcInBvY2tldFwiKSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1mb290ZXJcIj5cbiAgICAgICAgICB7c3BvbnNvckxhYmVsfVxuICAgICAgICAgIHtkc01lc3NhZ2VMYWJlbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBEU01lc3NhZ2VGb290ZXIgPSBwcm9wcyA9PiB7XG4gIGNvbnN0IHsgY29udGV4dCwgY29udGV4dF90eXBlIH0gPSBwcm9wcztcblxuICBjb25zdCBkc01lc3NhZ2VMYWJlbCA9IERTTWVzc2FnZUxhYmVsKHtcbiAgICBjb250ZXh0LFxuICAgIGNvbnRleHRfdHlwZSxcbiAgfSk7XG5cbiAgLy8gVGhpcyBjYXNlIGlzIHNwZWNpZmljIGFuZCBhbHJlYWR5IGRpc3BsYXllZCB0byB0aGUgdXNlciBlbHNld2hlcmUuXG4gIGlmICghZHNNZXNzYWdlTGFiZWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInN0b3J5LWZvb3RlclwiPntkc01lc3NhZ2VMYWJlbH08L2Rpdj47XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBEU1RodW1ic1VwRG93bkJ1dHRvbnMoe1xuICBzcG9uc29yLFxuICBvblRodW1ic1VwQ2xpY2ssXG4gIG9uVGh1bWJzRG93bkNsaWNrLFxuICBpc1RodW1ic1VwQWN0aXZlLFxuICBpc1RodW1ic0Rvd25BY3RpdmUsXG4gIHJlZmluZWRDYXJkc0xheW91dCxcbn0pIHtcbiAgbGV0IHRodW1ic0J1dHRvbnMgPSAoXG4gICAgPD5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17b25UaHVtYnNVcENsaWNrfVxuICAgICAgICBjbGFzc05hbWU9e2BjYXJkLXN0cC10aHVtYnMtYnV0dG9uIGljb24gaWNvbi10aHVtYnMtdXAgJHtcbiAgICAgICAgICBpc1RodW1ic1VwQWN0aXZlID8gXCJpcy1hY3RpdmVcIiA6IG51bGxcbiAgICAgICAgfWB9XG4gICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtdGh1bWJzLXVwLXRvb2x0aXBcIlxuICAgICAgPjwvYnV0dG9uPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtvblRodW1ic0Rvd25DbGlja31cbiAgICAgICAgY2xhc3NOYW1lPXtgY2FyZC1zdHAtdGh1bWJzLWJ1dHRvbiBpY29uIGljb24tdGh1bWJzLWRvd24gJHtcbiAgICAgICAgICBpc1RodW1ic0Rvd25BY3RpdmUgPyBcImlzLWFjdGl2ZVwiIDogbnVsbFxuICAgICAgICB9YH1cbiAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC10aHVtYnMtZG93bi10b29sdGlwXCJcbiAgICAgID48L2J1dHRvbj5cbiAgICA8Lz5cbiAgKTtcblxuICBpZiAocmVmaW5lZENhcmRzTGF5b3V0KSB7XG4gICAgdGh1bWJzQnV0dG9ucyA9IChcbiAgICAgIDw+XG4gICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL3RodW1icy11cC0yMC5zdmdcIlxuICAgICAgICAgIG9uQ2xpY2s9e29uVGh1bWJzVXBDbGlja31cbiAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLXN0cC10aHVtYnMtYnV0dG9uIGljb24gaWNvbi10aHVtYnMtdXAgcmVmaW5lZC1sYXlvdXQgJHtcbiAgICAgICAgICAgIGlzVGh1bWJzVXBBY3RpdmUgPyBcImlzLWFjdGl2ZVwiIDogbnVsbFxuICAgICAgICAgIH1gfVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtdGh1bWJzLXVwLXRvb2x0aXBcIlxuICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgPjwvbW96LWJ1dHRvbj5cbiAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICBpY29uc3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvdGh1bWJzLWRvd24tMjAuc3ZnXCJcbiAgICAgICAgICBvbkNsaWNrPXtvblRodW1ic0Rvd25DbGlja31cbiAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLXN0cC10aHVtYnMtYnV0dG9uIGljb24gaWNvbi10aHVtYnMtZG93biAke1xuICAgICAgICAgICAgaXNUaHVtYnNEb3duQWN0aXZlID8gXCJpcy1hY3RpdmVcIiA6IG51bGxcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LXRodW1icy1kb3duLXRvb2x0aXBcIlxuICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgPjwvbW96LWJ1dHRvbj5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtc3RwLXRodW1icy1idXR0b25zLXdyYXBwZXJcIj5cbiAgICAgIHsvKiBPbmx5IHNob3cgdG8gbm9uLXNwb25zb3JlZCBjb250ZW50ICovfVxuICAgICAgeyFzcG9uc29yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXN0cC10aHVtYnMtYnV0dG9uc1wiPnt0aHVtYnNCdXR0b25zfTwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgRFNUaHVtYnNVcERvd25CdXR0b25zIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBEU0ltYWdlIH0gZnJvbSBcIi4uL0RTSW1hZ2UvRFNJbWFnZS5qc3hcIjtcbmltcG9ydCB7IERTTGlua01lbnUgfSBmcm9tIFwiLi4vRFNMaW5rTWVudS9EU0xpbmtNZW51XCI7XG5pbXBvcnQgeyBJbXByZXNzaW9uU3RhdHMgfSBmcm9tIFwiLi4vLi4vRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0c1wiO1xuaW1wb3J0IHsgZ2V0QWN0aXZlQ2FyZFNpemUgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHtcbiAgRFNDb250ZXh0Rm9vdGVyLFxuICBTcG9uc29yTGFiZWwsXG4gIERTTWVzc2FnZUZvb3Rlcixcbn0gZnJvbSBcIi4uL0RTQ29udGV4dEZvb3Rlci9EU0NvbnRleHRGb290ZXIuanN4XCI7XG5pbXBvcnQgeyBEU1RodW1ic1VwRG93bkJ1dHRvbnMgfSBmcm9tIFwiLi4vRFNUaHVtYnNVcERvd25CdXR0b25zL0RTVGh1bWJzVXBEb3duQnV0dG9ucy5qc3hcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCIuLi8uLi9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0LmpzeFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgTGlua01lbnVPcHRpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9saW5rLW1lbnUtb3B0aW9uc1wiO1xuY29uc3QgUkVBRElOR19XUE0gPSAyMjA7XG5jb25zdCBQUkVGX09IVFRQX01FUklOTyA9IFwiZGlzY292ZXJ5c3RyZWFtLm1lcmluby1wcm92aWRlci5vaHR0cC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX09IVFRQX1VOSUZJRURfQURTID0gXCJ1bmlmaWVkQWRzLm9odHRwLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfU0VDVElPTlNfRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfRkFWSUNPTlNfRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnB1Ymxpc2hlckZhdmljb24uZW5hYmxlZFwiO1xuXG4vKipcbiAqIFJFQUQgVElNRSBGUk9NIFdPUkQgQ09VTlRcbiAqIEBwYXJhbSB7aW50fSB3b3JkQ291bnQgbnVtYmVyIG9mIHdvcmRzIGluIGFuIGFydGljbGVcbiAqIEByZXR1cm5zIHtpbnR9IG51bWJlciBvZiB3b3JkcyBwZXIgbWludXRlIGluIG1pbnV0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRUaW1lRnJvbVdvcmRDb3VudCh3b3JkQ291bnQpIHtcbiAgaWYgKCF3b3JkQ291bnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChwYXJzZUludCh3b3JkQ291bnQsIDEwKSAvIFJFQURJTkdfV1BNKTtcbn1cblxuZXhwb3J0IGNvbnN0IERTU291cmNlID0gKHtcbiAgc291cmNlLFxuICB0aW1lVG9SZWFkLFxuICBuZXdTcG9uc29yZWRMYWJlbCxcbiAgY29udGV4dCxcbiAgc3BvbnNvcixcbiAgc3BvbnNvcmVkX2J5X292ZXJyaWRlLFxuICBpY29uX3NyYyxcbiAgcmVmaW5lZENhcmRzTGF5b3V0LFxufSkgPT4ge1xuICAvLyByZWZpbmVkQ2FyZCBzdHlsZXMgd2lsbCBoYXZlIGEgbGFyZ2VyIGZhdmljb24gc2l6ZVxuICBjb25zdCBmYXZpY29uU2l6ZSA9IHJlZmluZWRDYXJkc0xheW91dCA/IDIwIDogMTY7XG5cbiAgLy8gRmlyc3QgdHJ5IHRvIGRpc3BsYXkgc3BvbnNvcmVkIGxhYmVsIG9yIHRpbWUgdG8gcmVhZCBoZXJlLlxuICBpZiAobmV3U3BvbnNvcmVkTGFiZWwpIHtcbiAgICAvLyBJZiB3ZSBjYW4gZGlzcGxheSBzb21ldGhpbmcgZm9yIHNwb2NzLCBkbyBzby5cbiAgICBpZiAoc3BvbnNvcmVkX2J5X292ZXJyaWRlIHx8IHNwb25zb3IgfHwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFNwb25zb3JMYWJlbFxuICAgICAgICAgIGNvbnRleHQ9e2NvbnRleHR9XG4gICAgICAgICAgc3BvbnNvcj17c3BvbnNvcn1cbiAgICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3Nwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgICBuZXdTcG9uc29yZWRMYWJlbD1cIm5ldy1zcG9uc29yZWQtbGFiZWxcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB3ZSBhcmUgbm90IGEgc3BvYywgYW5kIGNhbiBkaXNwbGF5IGEgdGltZSB0byByZWFkIHZhbHVlLlxuICBpZiAoc291cmNlICYmIHRpbWVUb1JlYWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHAgY2xhc3NOYW1lPVwic291cmNlIGNsYW1wIHRpbWUtdG8tcmVhZFwiPlxuICAgICAgICA8Rmx1ZW50T3JUZXh0XG4gICAgICAgICAgbWVzc2FnZT17e1xuICAgICAgICAgICAgaWQ6IGBuZXd0YWItbGFiZWwtc291cmNlLXJlYWQtdGltZWAsXG4gICAgICAgICAgICB2YWx1ZXM6IHsgc291cmNlLCB0aW1lVG9SZWFkIH0sXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvcD5cbiAgICApO1xuICB9XG5cbiAgLy8gT3RoZXJ3aXNlIGRpc3BsYXkgYSBkZWZhdWx0IHNvdXJjZS5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNvdXJjZS13cmFwcGVyXCI+XG4gICAgICB7aWNvbl9zcmMgJiYgKFxuICAgICAgICA8aW1nIHNyYz17aWNvbl9zcmN9IGhlaWdodD17ZmF2aWNvblNpemV9IHdpZHRoPXtmYXZpY29uU2l6ZX0gYWx0PVwiXCIgLz5cbiAgICAgICl9XG4gICAgICA8cCBjbGFzc05hbWU9XCJzb3VyY2UgY2xhbXBcIj57c291cmNlfTwvcD5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0TWV0YSA9ICh7XG4gIHNvdXJjZSxcbiAgdGl0bGUsXG4gIGV4Y2VycHQsXG4gIHRpbWVUb1JlYWQsXG4gIG5ld1Nwb25zb3JlZExhYmVsLFxuICBjb250ZXh0LFxuICBjb250ZXh0X3R5cGUsXG4gIHNwb25zb3IsXG4gIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbiAgY3RhQnV0dG9uVmFyaWFudCxcbiAgZGlzcGF0Y2gsXG4gIG1heUhhdmVTZWN0aW9uc0NhcmRzLFxuICBtYXlIYXZlVGh1bWJzVXBEb3duLFxuICBvblRodW1ic1VwQ2xpY2ssXG4gIG9uVGh1bWJzRG93bkNsaWNrLFxuICBpc0xpc3RDYXJkLFxuICBzdGF0ZSxcbiAgZm9ybWF0LFxuICB0b3BpYyxcbiAgaXNTZWN0aW9uc0NhcmQsXG4gIHNob3dUb3BpY3MsXG4gIGljb25fc3JjLFxuICByZWZpbmVkQ2FyZHNMYXlvdXQsXG59KSA9PiB7XG4gIGNvbnN0IHNob3VsZEhhdmVUaHVtYnMgPVxuICAgICFpc0xpc3RDYXJkICYmXG4gICAgZm9ybWF0ICE9PSBcInJlY3RhbmdsZVwiICYmXG4gICAgbWF5SGF2ZVNlY3Rpb25zQ2FyZHMgJiZcbiAgICBtYXlIYXZlVGh1bWJzVXBEb3duO1xuICBjb25zdCBzaG91bGRIYXZlRm9vdGVyU2VjdGlvbiA9XG4gICAgaXNTZWN0aW9uc0NhcmQgJiYgKHNob3VsZEhhdmVUaHVtYnMgfHwgc2hvd1RvcGljcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby13cmFwXCI+XG4gICAgICAgIHtjdGFCdXR0b25WYXJpYW50ICE9PSBcInZhcmlhbnQtYlwiICYmXG4gICAgICAgICAgZm9ybWF0ICE9PSBcInJlY3RhbmdsZVwiICYmXG4gICAgICAgICAgIXJlZmluZWRDYXJkc0xheW91dCAmJiAoXG4gICAgICAgICAgICA8RFNTb3VyY2VcbiAgICAgICAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgICAgICAgIHRpbWVUb1JlYWQ9e3RpbWVUb1JlYWR9XG4gICAgICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPXtuZXdTcG9uc29yZWRMYWJlbH1cbiAgICAgICAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgICAgICAgc3BvbnNvcj17c3BvbnNvcn1cbiAgICAgICAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtzcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgICAgIGljb25fc3JjPXtpY29uX3NyY31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRpdGxlIGNsYW1wXCI+XG4gICAgICAgICAge2Zvcm1hdCA9PT0gXCJyZWN0YW5nbGVcIiA/IFwiU3BvbnNvcmVkXCIgOiB0aXRsZX1cbiAgICAgICAgPC9oMz5cbiAgICAgICAge2Zvcm1hdCA9PT0gXCJyZWN0YW5nbGVcIiA/IChcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJleGNlcnB0IGNsYW1wXCI+XG4gICAgICAgICAgICBTcG9uc29yZWQgY29udGVudCBzdXBwb3J0cyBvdXIgbWlzc2lvbiB0byBidWlsZCBhIGJldHRlciB3ZWIuXG4gICAgICAgICAgPC9wPlxuICAgICAgICApIDogKFxuICAgICAgICAgIGV4Y2VycHQgJiYgPHAgY2xhc3NOYW1lPVwiZXhjZXJwdCBjbGFtcFwiPntleGNlcnB0fTwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgeyFpc0xpc3RDYXJkICYmXG4gICAgICAgIGZvcm1hdCAhPT0gXCJyZWN0YW5nbGVcIiAmJlxuICAgICAgICAhbWF5SGF2ZVNlY3Rpb25zQ2FyZHMgJiZcbiAgICAgICAgbWF5SGF2ZVRodW1ic1VwRG93biAmJlxuICAgICAgICAhcmVmaW5lZENhcmRzTGF5b3V0ICYmIChcbiAgICAgICAgICA8RFNUaHVtYnNVcERvd25CdXR0b25zXG4gICAgICAgICAgICBvblRodW1ic0Rvd25DbGljaz17b25UaHVtYnNEb3duQ2xpY2t9XG4gICAgICAgICAgICBvblRodW1ic1VwQ2xpY2s9e29uVGh1bWJzVXBDbGlja31cbiAgICAgICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgICAgICBpc1RodW1ic0Rvd25BY3RpdmU9e3N0YXRlLmlzVGh1bWJzRG93bkFjdGl2ZX1cbiAgICAgICAgICAgIGlzVGh1bWJzVXBBY3RpdmU9e3N0YXRlLmlzVGh1bWJzVXBBY3RpdmV9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIHsoc2hvdWxkSGF2ZUZvb3RlclNlY3Rpb24gfHwgcmVmaW5lZENhcmRzTGF5b3V0KSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbnMtY2FyZC1mb290ZXJcIj5cbiAgICAgICAgICB7cmVmaW5lZENhcmRzTGF5b3V0ICYmXG4gICAgICAgICAgICBmb3JtYXQgIT09IFwicmVjdGFuZ2xlXCIgJiZcbiAgICAgICAgICAgIGZvcm1hdCAhPT0gXCJzcG9jXCIgJiYgKFxuICAgICAgICAgICAgICA8RFNTb3VyY2VcbiAgICAgICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAgICAgICB0aW1lVG9SZWFkPXt0aW1lVG9SZWFkfVxuICAgICAgICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPXtuZXdTcG9uc29yZWRMYWJlbH1cbiAgICAgICAgICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICAgICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgICAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtzcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgICAgICAgaWNvbl9zcmM9e2ljb25fc3JjfVxuICAgICAgICAgICAgICAgIHJlZmluZWRDYXJkc0xheW91dD17cmVmaW5lZENhcmRzTGF5b3V0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICB7KHNob3VsZEhhdmVUaHVtYnMgfHwgcmVmaW5lZENhcmRzTGF5b3V0KSAmJiAoXG4gICAgICAgICAgICA8RFNUaHVtYnNVcERvd25CdXR0b25zXG4gICAgICAgICAgICAgIG9uVGh1bWJzRG93bkNsaWNrPXtvblRodW1ic0Rvd25DbGlja31cbiAgICAgICAgICAgICAgb25UaHVtYnNVcENsaWNrPXtvblRodW1ic1VwQ2xpY2t9XG4gICAgICAgICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgICAgICAgIGlzVGh1bWJzRG93bkFjdGl2ZT17c3RhdGUuaXNUaHVtYnNEb3duQWN0aXZlfVxuICAgICAgICAgICAgICBpc1RodW1ic1VwQWN0aXZlPXtzdGF0ZS5pc1RodW1ic1VwQWN0aXZlfVxuICAgICAgICAgICAgICByZWZpbmVkQ2FyZHNMYXlvdXQ9e3JlZmluZWRDYXJkc0xheW91dH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7c2hvd1RvcGljcyAmJiAoXG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jYXJkLXRvcGljXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtgbmV3dGFiLXRvcGljLWxhYmVsLSR7dG9waWN9YH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgeyFuZXdTcG9uc29yZWRMYWJlbCAmJiAoXG4gICAgICAgIDxEU0NvbnRleHRGb290ZXJcbiAgICAgICAgICBjb250ZXh0X3R5cGU9e2NvbnRleHRfdHlwZX1cbiAgICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtzcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgY3RhX2J1dHRvbl92YXJpYW50PXtjdGFCdXR0b25WYXJpYW50fVxuICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICBtYXlIYXZlU2VjdGlvbnNDYXJkcz17bWF5SGF2ZVNlY3Rpb25zQ2FyZHN9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgey8qIFNwb25zb3JlZCBsYWJlbCBpcyBub3JtYWxseSBpbiB0aGUgd2F5IG9mIGFueSBtZXNzYWdlLlxuICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsIGNhcmRzIHNwb25zb3JlZCBsYWJlbCBpcyBtb3ZlZCB0byBqdXN0IHVuZGVyIHRoZSB0aHVtYm5haWwsXG4gICAgICAgICAgc28gd2UgY2FuIGRpc3BsYXkgYm90aCwgc28gd2Ugc3BlY2lmaWNhbGx5IGRvbid0IHBhc3MgaW4gY29udGV4dC4gKi99XG4gICAgICB7bmV3U3BvbnNvcmVkTGFiZWwgJiYgKFxuICAgICAgICA8RFNNZXNzYWdlRm9vdGVyIGNvbnRleHRfdHlwZT17Y29udGV4dF90eXBlfSBjb250ZXh0PXtudWxsfSAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBjbGFzcyBfRFNDYXJkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLmRvZXNMaW5rVG9waWNNYXRjaFNlbGVjdGVkVG9waWMgPVxuICAgICAgdGhpcy5kb2VzTGlua1RvcGljTWF0Y2hTZWxlY3RlZFRvcGljLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lbnVVcGRhdGUgPSB0aGlzLm9uTWVudVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51U2hvdyA9IHRoaXMub25NZW51U2hvdy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25UaHVtYnNVcENsaWNrID0gdGhpcy5vblRodW1ic1VwQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVGh1bWJzRG93bkNsaWNrID0gdGhpcy5vblRodW1ic0Rvd25DbGljay5iaW5kKHRoaXMpO1xuICAgIGNvbnN0IHJlZmluZWRDYXJkc0xheW91dCA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcImRpc2NvdmVyeXN0cmVhbS5yZWZpbmVkQ2FyZHNMYXlvdXQuZW5hYmxlZFwiXTtcblxuICAgIHRoaXMuc2V0Q29udGV4dE1lbnVCdXR0b25Ib3N0UmVmID0gZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmNvbnRleHRNZW51QnV0dG9uSG9zdEVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlclJlZiA9IGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5wbGFjZWhvbGRlckVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNTZWVuOiBmYWxzZSxcbiAgICAgIGlzVGh1bWJzVXBBY3RpdmU6IGZhbHNlLFxuICAgICAgaXNUaHVtYnNEb3duQWN0aXZlOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgLy8gSWYgdGhpcyBpcyBmb3IgdGhlIGFib3V0OmhvbWUgc3RhcnR1cCBjYWNoZSwgdGhlbiB3ZSBhbHdheXMgd2FudFxuICAgIC8vIHRvIHJlbmRlciB0aGUgRFNDYXJkLCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgb3Igbm90IGl0cyBiZWVuIHNlZW4uXG4gICAgaWYgKHByb3BzLkFwcC5pc0ZvclN0YXJ0dXBDYWNoZS5BcHApIHtcbiAgICAgIHRoaXMuc3RhdGUuaXNTZWVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXZSB3YW50IHRvIGNob29zZSB0aGUgb3B0aW1hbCB0aHVtYm5haWwgZm9yIHRoZSB1bmRlcmx5aW5nIERTSW1hZ2UsIGJ1dFxuICAgIC8vIHdhbnQgdG8gZG8gaXQgaW4gYSBwZXJmb3JtYW50IHdheS4gVGhlIGJyZWFrcG9pbnRzIHVzZWQgaW4gdGhlXG4gICAgLy8gQ1NTIG9mIHRoZSBwYWdlIGFyZSwgdW5mb3J0dW50ZWx5LCBub3QgZWFzeSB0byByZXRyaWV2ZSB3aXRob3V0XG4gICAgLy8gY2F1c2luZyBhIHN0eWxlIGZsdXNoLiBUbyBhdm9pZCB0aGF0LCB3ZSBoYXJkY29kZSB0aGVtIGhlcmUuXG4gICAgLy9cbiAgICAvLyBUaGUgdmFsdWVzIGNob3NlbiBoZXJlIHdlcmUgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGNhcmQgdGh1bWJuYWlscyBhc1xuICAgIC8vIGNvbXB1dGVkIGJ5IGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGZvciBlYWNoIHR5cGUgb2Ygdmlld3BvcnQgd2lkdGhcbiAgICAvLyBhY3Jvc3MgYm90aCBoaWdoLWRlbnNpdHkgYW5kIG5vcm1hbC1kZW5zaXR5IGRpc3BsYXlzLlxuICAgIHRoaXMuc3RhbmRhcmRDYXJkSW1hZ2VTaXplcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbWVkaWFNYXRjaGVyOiBcImRlZmF1bHRcIixcbiAgICAgICAgd2lkdGg6IDI5NixcbiAgICAgICAgaGVpZ2h0OiAxNDgsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmxpc3RDYXJkSW1hZ2VTaXplcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbWVkaWFNYXRjaGVyOiBcIihtaW4td2lkdGg6IDExMjJweClcIixcbiAgICAgICAgd2lkdGg6IDc1LFxuICAgICAgICBoZWlnaHQ6IDc1LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbWVkaWFNYXRjaGVyOiBcImRlZmF1bHRcIixcbiAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICBoZWlnaHQ6IDUwLFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5zZWN0aW9uc0NhcmRJbWFnZXNTaXplcyA9IHtcbiAgICAgIHNtYWxsOiB7XG4gICAgICAgIHdpZHRoOiAxMTAsXG4gICAgICAgIGhlaWdodDogMTE3LFxuICAgICAgfSxcbiAgICAgIG1lZGl1bToge1xuICAgICAgICB3aWR0aDogMzAwLFxuICAgICAgICBoZWlnaHQ6IHJlZmluZWRDYXJkc0xheW91dCA/IDE2MCA6IDE1MCxcbiAgICAgIH0sXG4gICAgICBsYXJnZToge1xuICAgICAgICB3aWR0aDogMTkwLFxuICAgICAgICBoZWlnaHQ6IDI1MCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHRoaXMuc2VjdGlvbnNDb2x1bW5NZWRpYU1hdGNoZXIgPSB7XG4gICAgICAxOiBcImRlZmF1bHRcIixcbiAgICAgIDI6IFwiKG1pbi13aWR0aDogNzI0cHgpXCIsXG4gICAgICAzOiBcIihtaW4td2lkdGg6IDExMjJweClcIixcbiAgICAgIDQ6IFwiKG1pbi13aWR0aDogMTM5MHB4KVwiLFxuICAgIH07XG4gIH1cblxuICBnZXRTZWN0aW9uSW1hZ2VTaXplKGNvbHVtbiwgc2l6ZSkge1xuICAgIGNvbnN0IGNhcmRJbWFnZVNpemUgPSB7XG4gICAgICBtZWRpYU1hdGNoZXI6IHRoaXMuc2VjdGlvbnNDb2x1bW5NZWRpYU1hdGNoZXJbY29sdW1uXSxcbiAgICAgIHdpZHRoOiB0aGlzLnNlY3Rpb25zQ2FyZEltYWdlc1NpemVzW3NpemVdLndpZHRoLFxuICAgICAgaGVpZ2h0OiB0aGlzLnNlY3Rpb25zQ2FyZEltYWdlc1NpemVzW3NpemVdLmhlaWdodCxcbiAgICB9O1xuICAgIHJldHVybiBjYXJkSW1hZ2VTaXplO1xuICB9XG5cbiAgZG9lc0xpbmtUb3BpY01hdGNoU2VsZWN0ZWRUb3BpYygpIHtcbiAgICAvLyBFZGdlIGNhc2UgZm9yIGNsaWNraW5nIG9uIGEgY2FyZCB3aGVuIHRvcGljIHNlbGVjdGlvbnMgaGF2ZSBub3QgYmUgc2V0XG4gICAgaWYgKCF0aGlzLnByb3BzLnNlbGVjdGVkVG9waWNzKSB7XG4gICAgICByZXR1cm4gXCJub3Qtc2V0XCI7XG4gICAgfVxuXG4gICAgLy8gRWRnZSBjYXNlIHRoZSB0b3BpYyBvZiB0aGUgY2FyZCBpcyBub3Qgb25lIG9mIHRoZSBhdmFpbGFibGUgdG9waWNzXG4gICAgaWYgKCF0aGlzLnByb3BzLmF2YWlsYWJsZVRvcGljcy5pbmNsdWRlcyh0aGlzLnByb3BzLnRvcGljKSkge1xuICAgICAgcmV0dXJuIFwidG9waWMtbm90LXNlbGVjdGFibGVcIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RlZFRvcGljcy5pbmNsdWRlcyh0aGlzLnByb3BzLnRvcGljKSkge1xuICAgICAgcmV0dXJuIFwidHJ1ZVwiO1xuICAgIH1cblxuICAgIHJldHVybiBcImZhbHNlXCI7XG4gIH1cblxuICBvbkxpbmtDbGljaygpIHtcbiAgICBjb25zdCBtYXRjaGVzU2VsZWN0ZWRUb3BpYyA9IHRoaXMuZG9lc0xpbmtUb3BpY01hdGNoU2VsZWN0ZWRUb3BpYygpO1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0Zha2VzcG90KSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICAgIGV2ZW50OiBcIkZBS0VTUE9UX0NMSUNLXCIsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICBwcm9kdWN0X2lkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5wcm9wcy5jYXRlZ29yeSB8fCBcIlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMucG9zLFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgZXZlbnRfc291cmNlOiBcImNhcmRcIixcbiAgICAgICAgICAgICAgY2FyZF90eXBlOiB0aGlzLnByb3BzLmZsaWdodElkID8gXCJzcG9jXCIgOiBcIm9yZ2FuaWNcIixcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQ6IHRoaXMucHJvcHMucmVjb21tZW5kYXRpb25faWQsXG4gICAgICAgICAgICAgIHRpbGVfaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNoaW0gJiYgdGhpcy5wcm9wcy5zaGltLmNsaWNrXG4gICAgICAgICAgICAgICAgPyB7IHNoaW06IHRoaXMucHJvcHMuc2hpbS5jbGljayB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIGZldGNoVGltZXN0YW1wOiB0aGlzLnByb3BzLmZldGNoVGltZXN0YW1wLFxuICAgICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA6IHRoaXMucHJvcHMuZmlyc3RWaXNpYmxlVGltZXN0YW1wLFxuICAgICAgICAgICAgICBjb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiB0aGlzLnByb3BzLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ6IHRoaXMucHJvcHMucmVjb21tZW5kZWRfYXQsXG4gICAgICAgICAgICAgIHJlY2VpdmVkX3Jhbms6IHRoaXMucHJvcHMucmVjZWl2ZWRfcmFuayxcbiAgICAgICAgICAgICAgdG9waWM6IHRoaXMucHJvcHMudG9waWMsXG4gICAgICAgICAgICAgIGZlYXR1cmVzOiB0aGlzLnByb3BzLmZlYXR1cmVzLFxuICAgICAgICAgICAgICBtYXRjaGVzX3NlbGVjdGVkX3RvcGljOiBtYXRjaGVzU2VsZWN0ZWRUb3BpYyxcbiAgICAgICAgICAgICAgc2VsZWN0ZWRfdG9waWNzOiB0aGlzLnByb3BzLnNlbGVjdGVkVG9waWNzLFxuICAgICAgICAgICAgICBpc19saXN0X2NhcmQ6IHRoaXMucHJvcHMuaXNMaXN0Q2FyZCxcbiAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuZm9ybWF0XG4gICAgICAgICAgICAgICAgPyB7IGZvcm1hdDogdGhpcy5wcm9wcy5mb3JtYXQgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGdldEFjdGl2ZUNhcmRTaXplKFxuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VjdGlvbnNDbGFzc05hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZsaWdodElkXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2VjdGlvblxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkOiB0aGlzLnByb3BzLnNlY3Rpb25Gb2xsb3dlZCxcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0X25hbWU6IHRoaXMucHJvcHMuc2VjdGlvbkxheW91dE5hbWUsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgICAgd2luZG93X2lubmVyX3dpZHRoOiB0aGlzLnByb3BzLndpbmRvd09iai5pbm5lcldpZHRoLFxuICAgICAgICAgICAgd2luZG93X2lubmVyX2hlaWdodDogdGhpcy5wcm9wcy53aW5kb3dPYmouaW5uZXJIZWlnaHQsXG4gICAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgcG9zOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zaGltICYmIHRoaXMucHJvcHMuc2hpbS5jbGlja1xuICAgICAgICAgICAgICAgICAgPyB7IHNoaW06IHRoaXMucHJvcHMuc2hpbS5jbGljayB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnByb3BzLmZsaWdodElkID8gXCJzcG9jXCIgOiBcIm9yZ2FuaWNcIixcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbl9pZDogdGhpcy5wcm9wcy5yZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICB0b3BpYzogdGhpcy5wcm9wcy50b3BpYyxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZF90b3BpY3M6IHRoaXMucHJvcHMuc2VsZWN0ZWRUb3BpY3MsXG4gICAgICAgICAgICAgICAgaXNfbGlzdF9jYXJkOiB0aGlzLnByb3BzLmlzTGlzdENhcmQsXG4gICAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuZm9ybWF0XG4gICAgICAgICAgICAgICAgICA/IHsgZm9ybWF0OiB0aGlzLnByb3BzLmZvcm1hdCB9XG4gICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGdldEFjdGl2ZUNhcmRTaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb25zQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZmxpZ2h0SWRcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zZWN0aW9uXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgaXNfc2VjdGlvbl9mb2xsb3dlZDogdGhpcy5wcm9wcy5zZWN0aW9uRm9sbG93ZWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uVGh1bWJzVXBDbGljayhldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBUb2dnbGUgYWN0aXZlIHN0YXRlIGZvciB0aHVtYnMgdXAgYnV0dG9uIHRvIHNob3cgQ1NTIGFuaW1hdGlvblxuICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuc3RhdGUuaXNUaHVtYnNVcEFjdGl2ZTtcblxuICAgIC8vIElmIHRodW1icyB1cCBoYXMgYmVlbiBjbGlja2VkIGFscmVhZHksIGRvIG5vdGhpbmcuXG4gICAgaWYgKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc1RodW1ic1VwQWN0aXZlOiAhY3VycmVudFN0YXRlIH0pO1xuXG4gICAgLy8gUmVjb3JkIHRodW1icyB1cCB0ZWxlbWV0cnkgZXZlbnRcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiUE9DS0VUX1RIVU1CU19VUFwiLFxuICAgICAgICBzb3VyY2U6IFwiVEhVTUJTX1VJXCIsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgcmVjb21tZW5kYXRpb25faWQ6IHRoaXMucHJvcHMucmVjb21tZW5kYXRpb25faWQsXG4gICAgICAgICAgdGlsZV9pZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICBjb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgIHJlY29tbWVuZGVkX2F0OiB0aGlzLnByb3BzLnJlY29tbWVuZGVkX2F0LFxuICAgICAgICAgIHJlY2VpdmVkX3Jhbms6IHRoaXMucHJvcHMucmVjZWl2ZWRfcmFuayxcbiAgICAgICAgICB0aHVtYnNfdXA6IHRydWUsXG4gICAgICAgICAgdGh1bWJzX2Rvd246IGZhbHNlLFxuICAgICAgICAgIHRvcGljOiB0aGlzLnByb3BzLnRvcGljLFxuICAgICAgICAgIGZvcm1hdDogZ2V0QWN0aXZlQ2FyZFNpemUoXG4gICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2VjdGlvbnNDbGFzc05hbWVzLFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWN0aW9uLFxuICAgICAgICAgICAgZmFsc2UgLy8gKHRodW1icyB1cC9kb3duIG9ubHkgZXhpc3Qgb24gb3JnYW5pYyBjb250ZW50KVxuICAgICAgICAgICksXG4gICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2VjdGlvblxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uLFxuICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ6IHRoaXMucHJvcHMuc2VjdGlvbkZvbGxvd2VkLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIFNob3cgVG9hc3RcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvT25lQ29udGVudChcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IGF0LlNIT1dfVE9BU1RfTUVTU0FHRSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgIHRvYXN0SWQ6IFwidGh1bWJzVXBUb2FzdFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFwiQWN0aXZpdHlTdHJlYW06Q29udGVudFwiXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIG9uVGh1bWJzRG93bkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIFRvZ2dsZSBhY3RpdmUgc3RhdGUgZm9yIHRodW1icyBkb3duIGJ1dHRvbiB0byBzaG93IENTUyBhbmltYXRpb25cbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlLmlzVGh1bWJzRG93bkFjdGl2ZTtcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNUaHVtYnNEb3duQWN0aXZlOiAhY3VycmVudFN0YXRlIH0pO1xuXG4gICAgLy8gUnVuIGRpc21pc3MgZXZlbnQgYWZ0ZXIgMC41IHNlY29uZCBkZWxheVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2ggJiZcbiAgICAgIHRoaXMucHJvcHMudHlwZSAmJlxuICAgICAgdGhpcy5wcm9wcy5pZCAmJlxuICAgICAgdGhpcy5wcm9wcy51cmxcbiAgICApIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wcm9wcy5wb3M7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIGNvbnN0IHNwb2NEYXRhID0ge1xuICAgICAgICB1cmw6IHRoaXMucHJvcHMudXJsLFxuICAgICAgICBndWlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICB0eXBlOiBcIkNhcmRHcmlkXCIsXG4gICAgICAgIGNhcmRfdHlwZTogXCJvcmdhbmljXCIsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiB0aGlzLnByb3BzLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICB0aWxlX2lkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICBjb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiB0aGlzLnByb3BzLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgcmVjb21tZW5kZWRfYXQ6IHRoaXMucHJvcHMucmVjb21tZW5kZWRfYXQsXG4gICAgICAgIHJlY2VpdmVkX3Jhbms6IHRoaXMucHJvcHMucmVjZWl2ZWRfcmFuayxcbiAgICAgIH07XG4gICAgICBjb25zdCBibG9ja1VybE9wdGlvbiA9IExpbmtNZW51T3B0aW9ucy5CbG9ja1VybChzcG9jRGF0YSwgaW5kZXgsIHNvdXJjZSk7XG5cbiAgICAgIGNvbnN0IHsgYWN0aW9uLCBpbXByZXNzaW9uLCB1c2VyRXZlbnQgfSA9IGJsb2NrVXJsT3B0aW9uO1xuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhY3Rpb24pO1xuXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICAgIGV2ZW50OiB1c2VyRXZlbnQsXG4gICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9LCA1MDApO1xuXG4gICAgICBpZiAoaW1wcmVzc2lvbikge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGltcHJlc3Npb24pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWNvcmQgdGh1bWJzIGRvd24gdGVsZW1ldHJ5IGV2ZW50XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIlBPQ0tFVF9USFVNQlNfRE9XTlwiLFxuICAgICAgICAgIHNvdXJjZTogXCJUSFVNQlNfVUlcIixcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQ6IHRoaXMucHJvcHMucmVjb21tZW5kYXRpb25faWQsXG4gICAgICAgICAgICB0aWxlX2lkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ6IHRoaXMucHJvcHMucmVjb21tZW5kZWRfYXQsXG4gICAgICAgICAgICByZWNlaXZlZF9yYW5rOiB0aGlzLnByb3BzLnJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgICB0aHVtYnNfdXA6IGZhbHNlLFxuICAgICAgICAgICAgdGh1bWJzX2Rvd246IHRydWUsXG4gICAgICAgICAgICB0b3BpYzogdGhpcy5wcm9wcy50b3BpYyxcbiAgICAgICAgICAgIGZvcm1hdDogZ2V0QWN0aXZlQ2FyZFNpemUoXG4gICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb25zQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWN0aW9uLFxuICAgICAgICAgICAgICBmYWxzZSAvLyAodGh1bWJzIHVwL2Rvd24gb25seSBleGlzdCBvbiBvcmdhbmljIGNvbnRlbnQpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2VjdGlvblxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIHNlY3Rpb246IHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgaXNfc2VjdGlvbl9mb2xsb3dlZDogdGhpcy5wcm9wcy5zZWN0aW9uRm9sbG93ZWQsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gU2hvdyBUb2FzdFxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvT25lQ29udGVudChcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBhdC5TSE9XX1RPQVNUX01FU1NBR0UsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgICB0b2FzdElkOiBcInRodW1ic0Rvd25Ub2FzdFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiQWN0aXZpdHlTdHJlYW06Q29udGVudFwiXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgb25NZW51VXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIGlmICghc2hvd0NvbnRleHRNZW51KSB7XG4gICAgICBjb25zdCBkc0xpbmtNZW51SG9zdERpdiA9IHRoaXMuY29udGV4dE1lbnVCdXR0b25Ib3N0RWxlbWVudDtcbiAgICAgIGlmIChkc0xpbmtNZW51SG9zdERpdikge1xuICAgICAgICBkc0xpbmtNZW51SG9zdERpdi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIsIFwibGFzdC1pdGVtXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG9uTWVudVNob3coKSB7XG4gICAgY29uc3QgZHNMaW5rTWVudUhvc3REaXYgPSB0aGlzLmNvbnRleHRNZW51QnV0dG9uSG9zdEVsZW1lbnQ7XG4gICAgaWYgKGRzTGlua01lbnVIb3N0RGl2KSB7XG4gICAgICAvLyBGb3JjZSB0cmFuc2xhdGlvbiBzbyB3ZSBjYW4gYmUgc3VyZSBpdCdzIHJlYWR5IGJlZm9yZSBtZWFzdXJpbmcuXG4gICAgICBhd2FpdCB0aGlzLnByb3BzLndpbmRvd09iai5kb2N1bWVudC5sMTBuLnRyYW5zbGF0ZUZyYWdtZW50KFxuICAgICAgICBkc0xpbmtNZW51SG9zdERpdlxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLnByb3BzLndpbmRvd09iai5zY3JvbGxNYXhYID4gMCkge1xuICAgICAgICBkc0xpbmtNZW51SG9zdERpdi5jbGFzc0xpc3QuYWRkKFwibGFzdC1pdGVtXCIpO1xuICAgICAgfVxuICAgICAgZHNMaW5rTWVudUhvc3REaXYuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9XG4gIH1cblxuICBvblNlZW4oZW50cmllcykge1xuICAgIGlmICh0aGlzLnN0YXRlKSB7XG4gICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXMuZmluZChlID0+IGUuaXNJbnRlcnNlY3RpbmcpO1xuXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgaWYgKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RvcCBvYnNlcnZpbmcgc2luY2UgZWxlbWVudCBoYXMgYmVlbiBzZWVuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzU2VlbjogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25JZGxlQ2FsbGJhY2soKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzU2Vlbikge1xuICAgICAgLy8gVG8gaW1wcm92ZSByZXNwb25zaXZlbmVzcyB3aXRob3V0IGltcGFjdGluZyBwZXJmb3JtYW5jZSxcbiAgICAgIC8vIHdlIHN0YXJ0IHJlbmRlcmluZyBzdG9yaWVzIG9uIGlkbGUuXG4gICAgICAvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiByZXF1ZXN0cyBmb3Igc2VjdXJlIE9IVFRQIGltYWdlcyxcbiAgICAgIC8vIHdlIHNraXAgaWRsZS10aW1lIGxvYWRpbmcuXG4gICAgICBpZiAoIXRoaXMuc2VjdXJlSW1hZ2UpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1NlZW46IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuaWRsZUNhbGxiYWNrSWQgPSB0aGlzLnByb3BzLndpbmRvd09iai5yZXF1ZXN0SWRsZUNhbGxiYWNrKFxuICAgICAgdGhpcy5vbklkbGVDYWxsYmFjay5iaW5kKHRoaXMpXG4gICAgKTtcbiAgICBpZiAodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGhpcy5vblNlZW4uYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIC8vIFJlbW92ZSBvYnNlcnZlciBvbiB1bm1vdW50XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaWRsZUNhbGxiYWNrSWQpIHtcbiAgICAgIHRoaXMucHJvcHMud2luZG93T2JqLmNhbmNlbElkbGVDYWxsYmFjayh0aGlzLmlkbGVDYWxsYmFja0lkKTtcbiAgICB9XG4gIH1cblxuICAvLyBXcmFwcyB0aGUgaW1hZ2UgVVJMIHdpdGggdGhlIG1vei1jYWNoZWQtb2h0dHA6Ly8gcHJvdG9jb2wuXG4gIC8vIFRoaXMgZW5hYmxlcyBGaXJlZm94IHRvIGxvYWQgcmVzb3VyY2VzIG92ZXIgT2JsaXZpb3VzIEhUVFAgKE9IVFRQKSxcbiAgLy8gcHJvdmlkaW5nIHByaXZhY3ktcHJlc2VydmluZyByZXNvdXJjZSBsb2FkaW5nLlxuICAvLyBBcHBsaWVkIG9ubHkgd2hlbiBpbmZlcnJlZCBwZXJzb25hbGl6YXRpb24gaXMgZW5hYmxlZC5cbiAgLy8gU2VlOiBodHRwczovL2ZpcmVmb3gtc291cmNlLWRvY3MubW96aWxsYS5vcmcvYnJvd3Nlci9jb21wb25lbnRzL21vemNhY2hlZG9odHRwL2RvY3MvaW5kZXguaHRtbFxuICBzZWN1cmVJbWFnZVVSTCh1cmwpIHtcbiAgICByZXR1cm4gYG1vei1jYWNoZWQtb2h0dHA6Ly9uZXd0YWItaW1hZ2UvP3VybD0ke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWA7XG4gIH1cblxuICBnZXRSYXdJbWFnZVNyYygpIHtcbiAgICBsZXQgcmF3SW1hZ2VTcmMgPSBcIlwiO1xuICAgIC8vIFRoZXJlIGlzIG5vIHBvaW50IGluIGZldGNoaW5nIGltYWdlcyBmb3Igc3RhcnR1cCBjYWNoZS5cbiAgICBpZiAoIXRoaXMucHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlLkFwcCkge1xuICAgICAgcmF3SW1hZ2VTcmMgPSB0aGlzLnByb3BzLnJhd19pbWFnZV9zcmM7XG4gICAgfVxuICAgIHJldHVybiByYXdJbWFnZVNyYztcbiAgfVxuXG4gIGdldEZhdmljb25TcmMoKSB7XG4gICAgbGV0IGZhdmljb25TcmMgPSBcIlwiO1xuICAgIGNvbnN0IGZhdmljb25FbmFibGVkID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbUFJFRl9GQVZJQ09OU19FTkFCTEVEXTtcbiAgICAvLyBUaGVyZSBpcyBubyBwb2ludCBpbiBmZXRjaGluZyBmYXZpY29ucyBmb3Igc3RhcnR1cCBjYWNoZS5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5wcm9wcy5BcHAuaXNGb3JTdGFydHVwQ2FjaGUuQXBwICYmXG4gICAgICBmYXZpY29uRW5hYmxlZCAmJlxuICAgICAgdGhpcy5wcm9wcy5pY29uX3NyY1xuICAgICkge1xuICAgICAgZmF2aWNvblNyYyA9IHRoaXMucHJvcHMuaWNvbl9zcmM7XG4gICAgICBpZiAodGhpcy5zZWN1cmVJbWFnZSkge1xuICAgICAgICBmYXZpY29uU3JjID0gdGhpcy5zZWN1cmVJbWFnZVVSTCh0aGlzLnByb3BzLmljb25fc3JjKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhdmljb25TcmM7XG4gIH1cblxuICBnZXQgc2VjdXJlSW1hZ2UoKSB7XG4gICAgY29uc3QgeyBQcmVmcywgZmxpZ2h0SWQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBsZXQgb2h0dHBFbmFibGVkID0gZmFsc2U7XG4gICAgaWYgKGZsaWdodElkKSB7XG4gICAgICBvaHR0cEVuYWJsZWQgPSBQcmVmcy52YWx1ZXNbUFJFRl9PSFRUUF9VTklGSUVEX0FEU107XG4gICAgfSBlbHNlIHtcbiAgICAgIG9odHRwRW5hYmxlZCA9IFByZWZzLnZhbHVlc1tQUkVGX09IVFRQX01FUklOT107XG4gICAgfVxuXG4gICAgY29uc3Qgb2h0dHBJbWFnZXNFbmFibGVkID0gUHJlZnMudmFsdWVzLm9odHRwSW1hZ2VzQ29uZmlnPy5lbmFibGVkO1xuICAgIGNvbnN0IGluY2x1ZGVUb3BTdG9yaWVzU2VjdGlvbiA9XG4gICAgICBQcmVmcy52YWx1ZXMub2h0dHBJbWFnZXNDb25maWc/LmluY2x1ZGVUb3BTdG9yaWVzU2VjdGlvbjtcblxuICAgIGNvbnN0IG5vblBlcnNvbmFsaXplZFNlY3Rpb25zID0gW1widG9wX3N0b3JpZXNfc2VjdGlvblwiXTtcbiAgICBjb25zdCBzZWN0aW9uUGVyc29uYWxpemVkID1cbiAgICAgICFub25QZXJzb25hbGl6ZWRTZWN0aW9ucy5pbmNsdWRlcyh0aGlzLnByb3BzLnNlY3Rpb24pIHx8XG4gICAgICBpbmNsdWRlVG9wU3Rvcmllc1NlY3Rpb247XG5cbiAgICBjb25zdCBzZWN1cmVJbWFnZSA9XG4gICAgICBvaHR0cEltYWdlc0VuYWJsZWQgJiYgb2h0dHBFbmFibGVkICYmIHNlY3Rpb25QZXJzb25hbGl6ZWQ7XG5cbiAgICByZXR1cm4gc2VjdXJlSW1hZ2U7XG4gIH1cblxuICByZW5kZXJJbWFnZSh7IHNpemVzID0gW10sIGNsYXNzTmFtZXMgPSBcIlwiIH0gPSB7fSkge1xuICAgIGNvbnN0IHsgUHJlZnMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCByYXdJbWFnZVNyYyA9IHRoaXMuZ2V0UmF3SW1hZ2VTcmMoKTtcbiAgICBjb25zdCBzbWFydENyb3AgPSBQcmVmcy52YWx1ZXNbXCJpbWFnZXMuc21hcnRcIl07XG4gICAgcmV0dXJuIChcbiAgICAgIDxEU0ltYWdlXG4gICAgICAgIGV4dHJhQ2xhc3NOYW1lcz17YGltZyAke2NsYXNzTmFtZXN9YH1cbiAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLmltYWdlX3NyY31cbiAgICAgICAgcmF3U291cmNlPXtyYXdJbWFnZVNyY31cbiAgICAgICAgc2l6ZXM9e3NpemVzfVxuICAgICAgICB1cmw9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgaXNSZWNlbnRTYXZlPXt0aGlzLnByb3BzLmlzUmVjZW50U2F2ZX1cbiAgICAgICAgYWx0X3RleHQ9e3RoaXMucHJvcHMuYWx0X3RleHR9XG4gICAgICAgIHNtYXJ0Q3JvcD17c21hcnRDcm9wfVxuICAgICAgICBzZWN1cmVJbWFnZT17dGhpcy5zZWN1cmVJbWFnZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNlY3Rpb25DYXJkSW1hZ2VzKCkge1xuICAgIGNvbnN0IHsgc2VjdGlvbnNDYXJkSW1hZ2VTaXplcyB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGNvbHVtbnMgPSBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCJdO1xuICAgIGNvbnN0IGltYWdlcyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBjb2x1bW4gb2YgY29sdW1ucykge1xuICAgICAgY29uc3Qgc2l6ZSA9IHNlY3Rpb25zQ2FyZEltYWdlU2l6ZXNbY29sdW1uXTtcbiAgICAgIGNvbnN0IHNpemVzID0gW3RoaXMuZ2V0U2VjdGlvbkltYWdlU2l6ZShjb2x1bW4sIHNpemUpXTtcbiAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5yZW5kZXJJbWFnZSh7IHNpemVzLCBjbGFzc05hbWVzOiBgaW1hZ2UtJHtjb2x1bW59YCB9KTtcbiAgICAgIGltYWdlcy5wdXNoKGltYWdlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gPD57aW1hZ2VzfTwvPjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpc1JlY2VudFNhdmUsXG4gICAgICBEaXNjb3ZlcnlTdHJlYW0sXG4gICAgICBQcmVmcyxcbiAgICAgIGlzTGlzdENhcmQsXG4gICAgICBpc0Zha2VzcG90LFxuICAgICAgbWF5SGF2ZVNlY3Rpb25zQ2FyZHMsXG4gICAgICBmb3JtYXQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCByZWZpbmVkQ2FyZHNMYXlvdXQgPVxuICAgICAgUHJlZnMudmFsdWVzW1wiZGlzY292ZXJ5c3RyZWFtLnJlZmluZWRDYXJkc0xheW91dC5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHJlZmluZWRDYXJkc0NsYXNzTmFtZSA9IHJlZmluZWRDYXJkc0xheW91dCA/IGByZWZpbmVkLWNhcmRzYCA6IGBgO1xuXG4gICAgaWYgKHRoaXMucHJvcHMucGxhY2Vob2xkZXIgfHwgIXRoaXMuc3RhdGUuaXNTZWVuKSB7XG4gICAgICAvLyBwbGFjZWhvbGRlci1zZWVuIGlzIHVzZWQgdG8gZW5zdXJlIHRoZSBsb2FkaW5nIGFuaW1hdGlvbiBpcyBvbmx5IHVzZWQgaWYgdGhlIGNhcmQgaXMgdmlzaWJsZS5cbiAgICAgIGNvbnN0IHBsYWNlaG9sZGVyQ2xhc3NOYW1lID0gdGhpcy5zdGF0ZS5pc1NlZW4gPyBgcGxhY2Vob2xkZXItc2VlbmAgOiBgYDtcbiAgICAgIGxldCBwbGFjZWhvbGRlckVsZW1lbnRzID0gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItaW1hZ2UgcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGFjZWhvbGRlci1sYWJlbCBwbGFjZWhvbGRlci1maWxsXCIgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWhlYWRlciBwbGFjZWhvbGRlci1maWxsXCIgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWRlc2NyaXB0aW9uIHBsYWNlaG9sZGVyLWZpbGxcIiAvPlxuICAgICAgICA8Lz5cbiAgICAgICk7XG5cbiAgICAgIGlmIChyZWZpbmVkQ2FyZHNMYXlvdXQpIHtcbiAgICAgICAgcGxhY2Vob2xkZXJFbGVtZW50cyA9IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGFjZWhvbGRlci1pbWFnZSBwbGFjZWhvbGRlci1maWxsXCIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItZGVzY3JpcHRpb24gcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWhlYWRlciBwbGFjZWhvbGRlci1maWxsXCIgLz5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Bkcy1jYXJkIHBsYWNlaG9sZGVyICR7cGxhY2Vob2xkZXJDbGFzc05hbWV9ICR7XG4gICAgICAgICAgICBpc0xpc3RDYXJkID8gXCJsaXN0LWNhcmQtcGxhY2Vob2xkZXJcIiA6IFwiXCJcbiAgICAgICAgICB9ICR7cmVmaW5lZENhcmRzQ2xhc3NOYW1lfWB9XG4gICAgICAgICAgcmVmPXt0aGlzLnNldFBsYWNlaG9sZGVyUmVmfVxuICAgICAgICA+XG4gICAgICAgICAge3BsYWNlaG9sZGVyRWxlbWVudHN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgc291cmNlID0gdGhpcy5wcm9wcy5zb3VyY2UgfHwgdGhpcy5wcm9wcy5wdWJsaXNoZXI7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNvdXJjZSA9IG5ldyBVUkwodGhpcy5wcm9wcy51cmwpLmhvc3RuYW1lO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBoaWRlRGVzY3JpcHRpb25zLFxuICAgICAgY29tcGFjdEltYWdlcyxcbiAgICAgIGltYWdlR3JhZGllbnQsXG4gICAgICBuZXdTcG9uc29yZWRMYWJlbCxcbiAgICAgIHRpdGxlTGluZXMgPSAzLFxuICAgICAgZGVzY0xpbmVzID0gMyxcbiAgICAgIHJlYWRUaW1lOiBkaXNwbGF5UmVhZFRpbWUsXG4gICAgfSA9IERpc2NvdmVyeVN0cmVhbTtcblxuICAgIGNvbnN0IHNlY3Rpb25zRW5hYmxlZCA9IFByZWZzLnZhbHVlc1tQUkVGX1NFQ1RJT05TX0VOQUJMRURdO1xuICAgIC8vIFJlZmluZWQgY2FyZHMgaGF2ZSB0aGVpciBvd24gZXhjZXJwdCBoaWRpbmcgbG9naWMuXG4gICAgLy8gV2UgY2FuIGlnbm9yZSBoaWRlRGVzY3JpcHRpb25zIGlmIHdlIGFyZSBpbiBzZWN0aW9ucyBhbmQgcmVmaW5lZCBjYXJkcy5cbiAgICBjb25zdCBleGNlcnB0ID1cbiAgICAgICFoaWRlRGVzY3JpcHRpb25zIHx8IChzZWN0aW9uc0VuYWJsZWQgJiYgcmVmaW5lZENhcmRzTGF5b3V0KVxuICAgICAgICA/IHRoaXMucHJvcHMuZXhjZXJwdFxuICAgICAgICA6IFwiXCI7XG5cbiAgICBsZXQgdGltZVRvUmVhZDtcbiAgICBpZiAoZGlzcGxheVJlYWRUaW1lKSB7XG4gICAgICB0aW1lVG9SZWFkID1cbiAgICAgICAgdGhpcy5wcm9wcy50aW1lX3RvX3JlYWQgfHwgcmVhZFRpbWVGcm9tV29yZENvdW50KHRoaXMucHJvcHMud29yZF9jb3VudCk7XG4gICAgfVxuXG4gICAgY29uc3QgY3RhQnV0dG9uRW5hYmxlZCA9IHRoaXMucHJvcHMuY3RhQnV0dG9uU3BvbnNvcnM/LmluY2x1ZGVzKFxuICAgICAgdGhpcy5wcm9wcy5zcG9uc29yPy50b0xvd2VyQ2FzZSgpXG4gICAgKTtcbiAgICBsZXQgY3RhQnV0dG9uVmFyaWFudCA9IFwiXCI7XG4gICAgaWYgKGN0YUJ1dHRvbkVuYWJsZWQpIHtcbiAgICAgIGN0YUJ1dHRvblZhcmlhbnQgPSB0aGlzLnByb3BzLmN0YUJ1dHRvblZhcmlhbnQ7XG4gICAgfVxuICAgIGxldCBjdGFCdXR0b25WYXJpYW50Q2xhc3NOYW1lID0gY3RhQnV0dG9uVmFyaWFudDtcblxuICAgIGNvbnN0IGN0YUJ1dHRvbkNsYXNzTmFtZSA9IGN0YUJ1dHRvbkVuYWJsZWQgPyBgZHMtY2FyZC1jdGEtYnV0dG9uYCA6IGBgO1xuICAgIGNvbnN0IGNvbXBhY3RJbWFnZXNDbGFzc05hbWUgPSBjb21wYWN0SW1hZ2VzID8gYGRzLWNhcmQtY29tcGFjdC1pbWFnZWAgOiBgYDtcbiAgICBjb25zdCBpbWFnZUdyYWRpZW50Q2xhc3NOYW1lID0gaW1hZ2VHcmFkaWVudFxuICAgICAgPyBgZHMtY2FyZC1pbWFnZS1ncmFkaWVudGBcbiAgICAgIDogYGA7XG4gICAgY29uc3QgbGlzdENhcmRDbGFzc05hbWUgPSBpc0xpc3RDYXJkID8gYGxpc3QtZmVlZC1jYXJkYCA6IGBgO1xuICAgIGNvbnN0IGZha2VzcG90Q2xhc3NOYW1lID0gaXNGYWtlc3BvdCA/IGBmYWtlc3BvdGAgOiBgYDtcbiAgICBjb25zdCBzZWN0aW9uc0NhcmRzQ2xhc3NOYW1lID0gW1xuICAgICAgbWF5SGF2ZVNlY3Rpb25zQ2FyZHMgPyBgc2VjdGlvbnMtY2FyZC11aWAgOiBgYCxcbiAgICAgIHRoaXMucHJvcHMuc2VjdGlvbnNDbGFzc05hbWVzLFxuICAgIF0uam9pbihcIiBcIik7XG4gICAgY29uc3QgdGl0bGVMaW5lc05hbWUgPSBgZHMtY2FyZC10aXRsZS1saW5lcy0ke3RpdGxlTGluZXN9YDtcbiAgICBjb25zdCBkZXNjTGluZXNDbGFzc05hbWUgPSBgZHMtY2FyZC1kZXNjLWxpbmVzLSR7ZGVzY0xpbmVzfWA7XG4gICAgY29uc3QgaXNNZWRpdW1SZWN0YW5nbGUgPSBmb3JtYXQgPT09IFwicmVjdGFuZ2xlXCI7XG4gICAgY29uc3Qgc3BvY0Zvcm1hdENsYXNzTmFtZSA9IGlzTWVkaXVtUmVjdGFuZ2xlID8gYGRzLXNwb2MtcmVjdGFuZ2xlYCA6IGBgO1xuICAgIGNvbnN0IGZhdmljb25TcmMgPSB0aGlzLmdldEZhdmljb25TcmMoKTtcblxuICAgIGxldCBpbWFnZXMgPSB0aGlzLnJlbmRlckltYWdlKHsgc2l6ZXM6IHRoaXMuc3RhbmRhcmRDYXJkSW1hZ2VTaXplcyB9KTtcbiAgICBpZiAoaXNNZWRpdW1SZWN0YW5nbGUpIHtcbiAgICAgIGltYWdlcyA9IHRoaXMucmVuZGVySW1hZ2UoKTtcbiAgICB9IGVsc2UgaWYgKGlzTGlzdENhcmQpIHtcbiAgICAgIGltYWdlcyA9IHRoaXMucmVuZGVySW1hZ2UoeyBzaXplczogdGhpcy5saXN0Q2FyZEltYWdlU2l6ZXMgfSk7XG4gICAgfSBlbHNlIGlmIChzZWN0aW9uc0VuYWJsZWQpIHtcbiAgICAgIGltYWdlcyA9IHRoaXMucmVuZGVyU2VjdGlvbkNhcmRJbWFnZXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGFydGljbGVcbiAgICAgICAgY2xhc3NOYW1lPXtgZHMtY2FyZCAke2xpc3RDYXJkQ2xhc3NOYW1lfSAke2Zha2VzcG90Q2xhc3NOYW1lfSAke3NlY3Rpb25zQ2FyZHNDbGFzc05hbWV9ICR7Y29tcGFjdEltYWdlc0NsYXNzTmFtZX0gJHtpbWFnZUdyYWRpZW50Q2xhc3NOYW1lfSAke3RpdGxlTGluZXNOYW1lfSAke2Rlc2NMaW5lc0NsYXNzTmFtZX0gJHtzcG9jRm9ybWF0Q2xhc3NOYW1lfSAke2N0YUJ1dHRvbkNsYXNzTmFtZX0gJHtjdGFCdXR0b25WYXJpYW50Q2xhc3NOYW1lfSAke3JlZmluZWRDYXJkc0NsYXNzTmFtZX1gfVxuICAgICAgICByZWY9e3RoaXMuc2V0Q29udGV4dE1lbnVCdXR0b25Ib3N0UmVmfVxuICAgICAgICBkYXRhLXBvc2l0aW9uLW9uZT17dGhpcy5wcm9wc1tcImRhdGEtcG9zaXRpb24tb25lXCJdfVxuICAgICAgICBkYXRhLXBvc2l0aW9uLXR3bz17dGhpcy5wcm9wc1tcImRhdGEtcG9zaXRpb24tb25lXCJdfVxuICAgICAgICBkYXRhLXBvc2l0aW9uLXRocmVlPXt0aGlzLnByb3BzW1wiZGF0YS1wb3NpdGlvbi1vbmVcIl19XG4gICAgICAgIGRhdGEtcG9zaXRpb24tZm91cj17dGhpcy5wcm9wc1tcImRhdGEtcG9zaXRpb24tb25lXCJdfVxuICAgICAgPlxuICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWNhcmQtbGlua1wiXG4gICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgb25MaW5rQ2xpY2s9eyF0aGlzLnByb3BzLnBsYWNlaG9sZGVyID8gdGhpcy5vbkxpbmtDbGljayA6IHVuZGVmaW5lZH1cbiAgICAgICAgICB1cmw9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgIGlzU3BvbnNvcmVkPXshIXRoaXMucHJvcHMuZmxpZ2h0SWR9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5zaG93VG9waWNzICYmXG4gICAgICAgICAgICAhdGhpcy5wcm9wcy5tYXlIYXZlU2VjdGlvbnNDYXJkcyAmJlxuICAgICAgICAgICAgdGhpcy5wcm9wcy50b3BpYyAmJlxuICAgICAgICAgICAgIWlzTGlzdENhcmQgJiZcbiAgICAgICAgICAgICFyZWZpbmVkQ2FyZHNMYXlvdXQgJiYgKFxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWNhcmQtdG9waWNcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17YG5ld3RhYi10b3BpYy1sYWJlbC0ke3RoaXMucHJvcHMudG9waWN9YH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbWctd3JhcHBlclwiPntpbWFnZXN9PC9kaXY+XG4gICAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgICAgZmxpZ2h0SWQ9e3RoaXMucHJvcHMuZmxpZ2h0SWR9XG4gICAgICAgICAgICByb3dzPXtbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgICBwb3M6IHRoaXMucHJvcHMucG9zLFxuICAgICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNoaW0gJiYgdGhpcy5wcm9wcy5zaGltLmltcHJlc3Npb25cbiAgICAgICAgICAgICAgICAgID8geyBzaGltOiB0aGlzLnByb3BzLnNoaW0uaW1wcmVzc2lvbiB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbl9pZDogdGhpcy5wcm9wcy5yZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcDogdGhpcy5wcm9wcy5mZXRjaFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICBjb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0OiB0aGlzLnByb3BzLnJlY29tbWVuZGVkX2F0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkX3Jhbms6IHRoaXMucHJvcHMucmVjZWl2ZWRfcmFuayxcbiAgICAgICAgICAgICAgICB0b3BpYzogdGhpcy5wcm9wcy50b3BpYyxcbiAgICAgICAgICAgICAgICBmZWF0dXJlczogdGhpcy5wcm9wcy5mZWF0dXJlcyxcbiAgICAgICAgICAgICAgICBpc19saXN0X2NhcmQ6IGlzTGlzdENhcmQsXG4gICAgICAgICAgICAgICAgLi4uKGZvcm1hdCA/IHsgZm9ybWF0IH0gOiB7fSksXG4gICAgICAgICAgICAgICAgaXNGYWtlc3BvdCxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5wcm9wcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zZWN0aW9uXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgaXNfc2VjdGlvbl9mb2xsb3dlZDogdGhpcy5wcm9wcy5zZWN0aW9uRm9sbG93ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkxheW91dE5hbWU6IHRoaXMucHJvcHMuc2VjdGlvbkxheW91dE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICAgIC4uLighZm9ybWF0ICYmIHRoaXMucHJvcHMuc2VjdGlvblxuICAgICAgICAgICAgICAgICAgPyAvLyBOb3RlOiBzZWN0aW9uc0NhcmRzQ2xhc3NOYW1lIGlzIHBhc3NlZCB0byBJbXByZXNzaW9uU3RhdHMuanN4IGluIG9yZGVyIHRvIGNhbGN1bGF0ZSBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc19uYW1lczogc2VjdGlvbnNDYXJkc0NsYXNzTmFtZSB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIGlzRmFrZXNwb3Q9e2lzRmFrZXNwb3R9XG4gICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17dGhpcy5wcm9wcy5maXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIHtjdGFCdXR0b25WYXJpYW50ID09PSBcInZhcmlhbnQtYlwiICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3RhLWhlYWRlclwiPlNob3AgTm93PC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7aXNGYWtlc3BvdCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWV0YVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8td3JhcFwiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0aXRsZSBjbGFtcFwiPnt0aGlzLnByb3BzLnRpdGxlfTwvaDM+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxEZWZhdWx0TWV0YVxuICAgICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAgIGV4Y2VycHQ9e2V4Y2VycHR9XG4gICAgICAgICAgICAgIG5ld1Nwb25zb3JlZExhYmVsPXtuZXdTcG9uc29yZWRMYWJlbH1cbiAgICAgICAgICAgICAgdGltZVRvUmVhZD17dGltZVRvUmVhZH1cbiAgICAgICAgICAgICAgY29udGV4dD17dGhpcy5wcm9wcy5jb250ZXh0fVxuICAgICAgICAgICAgICBjb250ZXh0X3R5cGU9e3RoaXMucHJvcHMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgICBzcG9uc29yPXt0aGlzLnByb3BzLnNwb25zb3J9XG4gICAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17dGhpcy5wcm9wcy5zcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgICAgIGN0YUJ1dHRvblZhcmlhbnQ9e2N0YUJ1dHRvblZhcmlhbnR9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBtYXlIYXZlVGh1bWJzVXBEb3duPXt0aGlzLnByb3BzLm1heUhhdmVUaHVtYnNVcERvd259XG4gICAgICAgICAgICAgIG1heUhhdmVTZWN0aW9uc0NhcmRzPXt0aGlzLnByb3BzLm1heUhhdmVTZWN0aW9uc0NhcmRzfVxuICAgICAgICAgICAgICBvblRodW1ic1VwQ2xpY2s9e3RoaXMub25UaHVtYnNVcENsaWNrfVxuICAgICAgICAgICAgICBvblRodW1ic0Rvd25DbGljaz17dGhpcy5vblRodW1ic0Rvd25DbGlja31cbiAgICAgICAgICAgICAgc3RhdGU9e3RoaXMuc3RhdGV9XG4gICAgICAgICAgICAgIGlzTGlzdENhcmQ9e2lzTGlzdENhcmR9XG4gICAgICAgICAgICAgIHNob3dUb3BpY3M9eyFyZWZpbmVkQ2FyZHNMYXlvdXQgJiYgdGhpcy5wcm9wcy5zaG93VG9waWNzfVxuICAgICAgICAgICAgICBpc1NlY3Rpb25zQ2FyZD17XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXlIYXZlU2VjdGlvbnNDYXJkcyAmJlxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudG9waWMgJiZcbiAgICAgICAgICAgICAgICAhaXNMaXN0Q2FyZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvcm1hdD17Zm9ybWF0fVxuICAgICAgICAgICAgICB0b3BpYz17dGhpcy5wcm9wcy50b3BpY31cbiAgICAgICAgICAgICAgaWNvbl9zcmM9e2Zhdmljb25TcmN9XG4gICAgICAgICAgICAgIHJlZmluZWRDYXJkc0xheW91dD17cmVmaW5lZENhcmRzTGF5b3V0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1zdHAtYnV0dG9uLWhvdmVyLWJhY2tncm91bmRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtc3RwLWJ1dHRvbi1wb3NpdGlvbi13cmFwcGVyXCI+XG4gICAgICAgICAgICB7IWlzRmFrZXNwb3QgJiYgKFxuICAgICAgICAgICAgICA8RFNMaW5rTWVudVxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgIGluZGV4PXt0aGlzLnByb3BzLnBvc31cbiAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICB1cmw9e3RoaXMucHJvcHMudXJsfVxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgICAgICBjYXJkX3R5cGU9e3RoaXMucHJvcHMuZmxpZ2h0SWQgPyBcInNwb2NcIiA6IFwib3JnYW5pY1wifVxuICAgICAgICAgICAgICAgIHBvY2tldF9pZD17dGhpcy5wcm9wcy5wb2NrZXRfaWR9XG4gICAgICAgICAgICAgICAgc2hpbT17dGhpcy5wcm9wcy5zaGltfVxuICAgICAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17dGhpcy5wcm9wcy5ib29rbWFya0d1aWR9XG4gICAgICAgICAgICAgICAgZmxpZ2h0SWQ9e3RoaXMucHJvcHMuZmxpZ2h0SWR9XG4gICAgICAgICAgICAgICAgc2hvd1ByaXZhY3lJbmZvPXshIXRoaXMucHJvcHMuZmxpZ2h0SWR9XG4gICAgICAgICAgICAgICAgb25NZW51VXBkYXRlPXt0aGlzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgICAgICAgICBvbk1lbnVTaG93PXt0aGlzLm9uTWVudVNob3d9XG4gICAgICAgICAgICAgICAgaXNSZWNlbnRTYXZlPXtpc1JlY2VudFNhdmV9XG4gICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQ9e3RoaXMucHJvcHMucmVjb21tZW5kYXRpb25faWR9XG4gICAgICAgICAgICAgICAgdGlsZV9pZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICAgICAgICBibG9ja19rZXk9e3RoaXMucHJvcHMuaWR9XG4gICAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQ9e3RoaXMucHJvcHMuY29ycHVzX2l0ZW1faWR9XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkPXt0aGlzLnByb3BzLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZH1cbiAgICAgICAgICAgICAgICByZWNvbW1lbmRlZF9hdD17dGhpcy5wcm9wcy5yZWNvbW1lbmRlZF9hdH1cbiAgICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rPXt0aGlzLnByb3BzLnJlY2VpdmVkX3Jhbmt9XG4gICAgICAgICAgICAgICAgaXNfbGlzdF9jYXJkPXt0aGlzLnByb3BzLmlzTGlzdENhcmR9XG4gICAgICAgICAgICAgICAgc2VjdGlvbj17dGhpcy5wcm9wcy5zZWN0aW9ufVxuICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb249e3RoaXMucHJvcHMuc2VjdGlvblBvc2l0aW9ufVxuICAgICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ9e3RoaXMucHJvcHMuc2VjdGlvbkZvbGxvd2VkfVxuICAgICAgICAgICAgICAgIGZldGNoVGltZXN0YW1wPXt0aGlzLnByb3BzLmZldGNoVGltZXN0YW1wfVxuICAgICAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17dGhpcy5wcm9wcy5maXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgICAgICAgICAgZm9ybWF0PXtcbiAgICAgICAgICAgICAgICAgIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICA6IGdldEFjdGl2ZUNhcmRTaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb25zQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZmxpZ2h0SWRcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzU2VjdGlvbnNDYXJkPXt0aGlzLnByb3BzLm1heUhhdmVTZWN0aW9uc0NhcmRzfVxuICAgICAgICAgICAgICAgIHRvcGljPXt0aGlzLnByb3BzLnRvcGljfVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkX3RvcGljcz17dGhpcy5wcm9wcy5zZWxlY3RlZF90b3BpY3N9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYXJ0aWNsZT5cbiAgICApO1xuICB9XG59XG5cbl9EU0NhcmQuZGVmYXVsdFByb3BzID0ge1xuICB3aW5kb3dPYmo6IHdpbmRvdywgLy8gQWRkZWQgdG8gc3VwcG9ydCB1bml0IHRlc3RzXG59O1xuXG5leHBvcnQgY29uc3QgRFNDYXJkID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBBcHA6IHN0YXRlLkFwcCxcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfRFNDYXJkKTtcblxuZXhwb3J0IGNvbnN0IFBsYWNlaG9sZGVyRFNDYXJkID0gKCkgPT4gPERTQ2FyZCBwbGFjZWhvbGRlcj17dHJ1ZX0gLz47XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBEU0VtcHR5U3RhdGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vblJlc2V0ID0gdGhpcy5vblJlc2V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XG5cbiAgb25SZXNldCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCAmJiB0aGlzLnByb3BzLmZlZWQpIHtcbiAgICAgIGNvbnN0IHsgZmVlZCB9ID0gdGhpcy5wcm9wcztcbiAgICAgIGNvbnN0IHsgdXJsIH0gPSBmZWVkO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fRkVFRF9VUERBVEUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBmZWVkOiB7XG4gICAgICAgICAgICAuLi5mZWVkLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAuLi5mZWVkLmRhdGEsXG4gICAgICAgICAgICAgIHN0YXR1czogXCJ3YWl0aW5nXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdXJsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB3YWl0aW5nOiB0cnVlIH0pO1xuICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMudGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHdhaXRpbmc6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgIH0sIDMwMCk7XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX1JFVFJZX0ZFRUQsIGRhdGE6IHsgZmVlZCB9IH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5zdGF0dXMgPT09IFwid2FpdGluZ1wiIHx8IHRoaXMuc3RhdGUud2FpdGluZykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cInRyeS1hZ2Fpbi1idXR0b24gd2FpdGluZ1wiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc2NvdmVyeS1lbXB0eS1zZWN0aW9uLXRvcHN0b3JpZXMtbG9hZGluZ1wiXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cInRyeS1hZ2Fpbi1idXR0b25cIlxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uUmVzZXR9XG4gICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLXRyeS1hZ2Fpbi1idXR0b25cIlxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzID09PSBcIndhaXRpbmdcIiB8fCB0aGlzLnByb3BzLnN0YXR1cyA9PT0gXCJmYWlsZWRcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDxoMiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzY292ZXJ5LWVtcHR5LXNlY3Rpb24tdG9wc3Rvcmllcy10aW1lZC1vdXRcIiAvPlxuICAgICAgICAgIHt0aGlzLnJlbmRlckJ1dHRvbigpfVxuICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8aDIgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc2NvdmVyeS1lbXB0eS1zZWN0aW9uLXRvcHN0b3JpZXMtaGVhZGVyXCIgLz5cbiAgICAgICAgPHAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc2NvdmVyeS1lbXB0eS1zZWN0aW9uLXRvcHN0b3JpZXMtY29udGVudFwiIC8+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1lbXB0eS1zdGF0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5LXN0YXRlLW1lc3NhZ2VcIj57dGhpcy5yZW5kZXJTdGF0ZSgpfTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIF9Ub3BpY3NXaWRnZXQocHJvcHMpIHtcbiAgY29uc3QgeyBpZCwgc291cmNlLCBwb3NpdGlvbiwgRGlzY292ZXJ5U3RyZWFtLCBkaXNwYXRjaCB9ID0gcHJvcHM7XG5cbiAgY29uc3QgeyB1dG1DYW1wYWlnbiwgdXRtQ29udGVudCwgdXRtU291cmNlIH0gPSBEaXNjb3ZlcnlTdHJlYW0uZXhwZXJpbWVudERhdGE7XG5cbiAgbGV0IHF1ZXJ5UGFyYW1zID0gYD91dG1fc291cmNlPSR7dXRtU291cmNlfWA7XG4gIGlmICh1dG1DYW1wYWlnbiAmJiB1dG1Db250ZW50KSB7XG4gICAgcXVlcnlQYXJhbXMgKz0gYCZ1dG1fY29udGVudD0ke3V0bUNvbnRlbnR9JnV0bV9jYW1wYWlnbj0ke3V0bUNhbXBhaWdufWA7XG4gIH1cblxuICBjb25zdCB0b3BpY3MgPSBbXG4gICAgeyBsYWJlbDogXCJUZWNobm9sb2d5XCIsIG5hbWU6IFwidGVjaG5vbG9neVwiIH0sXG4gICAgeyBsYWJlbDogXCJTY2llbmNlXCIsIG5hbWU6IFwic2NpZW5jZVwiIH0sXG4gICAgeyBsYWJlbDogXCJTZWxmLUltcHJvdmVtZW50XCIsIG5hbWU6IFwic2VsZi1pbXByb3ZlbWVudFwiIH0sXG4gICAgeyBsYWJlbDogXCJUcmF2ZWxcIiwgbmFtZTogXCJ0cmF2ZWxcIiB9LFxuICAgIHsgbGFiZWw6IFwiQ2FyZWVyXCIsIG5hbWU6IFwiY2FyZWVyXCIgfSxcbiAgICB7IGxhYmVsOiBcIkVudGVydGFpbm1lbnRcIiwgbmFtZTogXCJlbnRlcnRhaW5tZW50XCIgfSxcbiAgICB7IGxhYmVsOiBcIkZvb2RcIiwgbmFtZTogXCJmb29kXCIgfSxcbiAgICB7IGxhYmVsOiBcIkhlYWx0aFwiLCBuYW1lOiBcImhlYWx0aFwiIH0sXG4gICAge1xuICAgICAgbGFiZWw6IFwiTXVzdC1SZWFkc1wiLFxuICAgICAgbmFtZTogXCJtdXN0LXJlYWRzXCIsXG4gICAgICB1cmw6IGBodHRwczovL2dldHBvY2tldC5jb20vY29sbGVjdGlvbnMke3F1ZXJ5UGFyYW1zfWAsXG4gICAgfSxcbiAgXTtcblxuICBmdW5jdGlvbiBvbkxpbmtDbGljayh0b3BpYywgcG9zaXRpb25JbkNhcmQpIHtcbiAgICBpZiAoZGlzcGF0Y2gpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIGNhcmRfdHlwZTogXCJ0b3BpY3Nfd2lkZ2V0XCIsXG4gICAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICAgIC4uLihwb3NpdGlvbkluQ2FyZCB8fCBwb3NpdGlvbkluQ2FyZCA9PT0gMFxuICAgICAgICAgICAgICA/IHsgcG9zaXRpb25faW5fY2FyZDogcG9zaXRpb25JbkNhcmQgfVxuICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgIHdpbmRvd19pbm5lcl93aWR0aDogcHJvcHMud2luZG93T2JqLmlubmVyV2lkdGgsXG4gICAgICAgICAgd2luZG93X2lubmVyX2hlaWdodDogcHJvcHMud2luZG93T2JqLmlubmVySGVpZ2h0LFxuICAgICAgICAgIHRpbGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBwb3M6IHBvc2l0aW9uLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYXBUb3BpY0l0ZW0odG9waWMsIGluZGV4KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBrZXk9e3RvcGljLm5hbWV9XG4gICAgICAgIGNsYXNzTmFtZT17dG9waWMub3ZlcmZsb3cgPyBcImRzLXRvcGljcy13aWRnZXQtbGlzdC1vdmVyZmxvdy1pdGVtXCIgOiBcIlwifVxuICAgICAgPlxuICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgIHVybD17XG4gICAgICAgICAgICB0b3BpYy51cmwgfHxcbiAgICAgICAgICAgIGBodHRwczovL2dldHBvY2tldC5jb20vZXhwbG9yZS8ke3RvcGljLm5hbWV9JHtxdWVyeVBhcmFtc31gXG4gICAgICAgICAgfVxuICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICBvbkxpbmtDbGljaz17KCkgPT4gb25MaW5rQ2xpY2sodG9waWMubmFtZSwgaW5kZXgpfVxuICAgICAgICA+XG4gICAgICAgICAge3RvcGljLmxhYmVsfVxuICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtdG9waWNzLXdpZGdldFwiPlxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJkcy10b3BpY3Mtd2lkZ2V0LWhlYWRlclwiPlBvcHVsYXIgVG9waWNzPC9oZWFkZXI+XG4gICAgICA8aHIgLz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtdG9waWNzLXdpZGdldC1saXN0LWNvbnRhaW5lclwiPlxuICAgICAgICA8dWw+e3RvcGljcy5tYXAobWFwVG9waWNJdGVtKX08L3VsPlxuICAgICAgPC9kaXY+XG4gICAgICA8U2FmZUFuY2hvclxuICAgICAgICBjbGFzc05hbWU9XCJkcy10b3BpY3Mtd2lkZ2V0LWJ1dHRvbiBidXR0b24gcHJpbWFyeVwiXG4gICAgICAgIHVybD17YGh0dHBzOi8vZ2V0cG9ja2V0LmNvbS8ke3F1ZXJ5UGFyYW1zfWB9XG4gICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgb25MaW5rQ2xpY2s9eygpID0+IG9uTGlua0NsaWNrKFwibW9yZS10b3BpY3NcIil9XG4gICAgICA+XG4gICAgICAgIE1vcmUgVG9waWNzXG4gICAgICA8L1NhZmVBbmNob3I+XG4gICAgICA8SW1wcmVzc2lvblN0YXRzXG4gICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgcm93cz17W1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgcG9zOiBwb3NpdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICBdfVxuICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbl9Ub3BpY3NXaWRnZXQuZGVmYXVsdFByb3BzID0ge1xuICB3aW5kb3dPYmo6IHdpbmRvdywgLy8gQWRkZWQgdG8gc3VwcG9ydCB1bml0IHRlc3RzXG59O1xuXG5leHBvcnQgY29uc3QgVG9waWNzV2lkZ2V0ID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBEaXNjb3ZlcnlTdHJlYW06IHN0YXRlLkRpc2NvdmVyeVN0cmVhbSxcbn0pKShfVG9waWNzV2lkZ2V0KTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IERTQ2FyZCB9IGZyb20gXCIuLi9EU0NhcmQvRFNDYXJkXCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uXCI7XG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5jb25zdCBQUkVGX0xJU1RGRUVEX1RJVExFID0gXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQubGlzdEZlZWRUaXRsZVwiO1xuY29uc3QgUFJFRl9GQUtFU1BPVF9DQVRFR1JPWSA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLmNvbnRleHR1YWxDb250ZW50LmZha2VzcG90LmRlZmF1bHRDYXRlZ29yeVRpdGxlXCI7XG5jb25zdCBQUkVGX0ZBS0VTUE9UX0ZPT1RFUiA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLmNvbnRleHR1YWxDb250ZW50LmZha2VzcG90LmZvb3RlckNvcHlcIjtcbmNvbnN0IFBSRUZfRkFLRVNQT1RfQ1RBX0NPUFkgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5mYWtlc3BvdC5jdGFDb3B5XCI7XG5jb25zdCBQUkVGX0ZBS0VTUE9UX0NUQV9VUkwgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5mYWtlc3BvdC5jdGFVcmxcIjtcbmNvbnN0IFBSRUZfQ09OVEVYVFVBTF9DT05URU5UX1NFTEVDVEVEX0ZFRUQgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5zZWxlY3RlZEZlZWRcIjtcblxuZnVuY3Rpb24gTGlzdEZlZWQoeyB0eXBlLCBmaXJzdFZpc2libGVUaW1lc3RhbXAsIHJlY3MsIGNhdGVnb3JpZXMsIGRpc3BhdGNoIH0pIHtcbiAgY29uc3QgW3NlbGVjdGVkRmFrZXNwb3RGZWVkLCBzZXRTZWxlY3RlZEZha2VzcG90RmVlZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgcHJlZnMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5QcmVmcy52YWx1ZXMpO1xuICBjb25zdCBsaXN0RmVlZFRpdGxlID0gcHJlZnNbUFJFRl9MSVNURkVFRF9USVRMRV07XG4gIGNvbnN0IGNhdGVnb3J5VGl0bGUgPSBwcmVmc1tQUkVGX0ZBS0VTUE9UX0NBVEVHUk9ZXTtcbiAgY29uc3QgZm9vdGVyQ29weSA9IHByZWZzW1BSRUZfRkFLRVNQT1RfRk9PVEVSXTtcbiAgY29uc3QgY3RhQ29weSA9IHByZWZzW1BSRUZfRkFLRVNQT1RfQ1RBX0NPUFldO1xuICBjb25zdCBjdGFVcmwgPSBwcmVmc1tQUkVGX0ZBS0VTUE9UX0NUQV9VUkxdO1xuXG4gIGNvbnN0IGlzRmFrZXNwb3QgPVxuICAgIHByZWZzW1BSRUZfQ09OVEVYVFVBTF9DT05URU5UX1NFTEVDVEVEX0ZFRURdID09PSBcImZha2VzcG90XCI7XG4gIC8vIFRvZG86IG5lZWQgdG8gcmVtb3ZlIGFkcyB3aGlsZSB1c2luZyBkZWZhdWx0IHJlY29tbWVuZGF0aW9ucywgcmVtb3ZlIHRoaXMgbGluZSBvbmNlIEFQSSBoYXMgYmVlbiB1cGRhdGVkLlxuICBsZXQgbGlzdEZlZWRSZWNzID0gc2VsZWN0ZWRGYWtlc3BvdEZlZWRcbiAgICA/IHJlY3MuZmlsdGVyKHJlYyA9PiByZWMuY2F0ZWdvcnkgPT09IHNlbGVjdGVkRmFrZXNwb3RGZWVkKVxuICAgIDogcmVjcztcblxuICBmdW5jdGlvbiBoYW5kbGVDdGFDbGljaygpIHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBcIkZBS0VTUE9UX0NUQV9DTElDS1wiLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBzZXRTZWxlY3RlZEZha2VzcG90RmVlZChlLnRhcmdldC52YWx1ZSk7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudDogXCJGQUtFU1BPVF9DQVRFR09SWVwiLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGNhdGVnb3J5OiBlLnRhcmdldC52YWx1ZSB8fCBcIlwiLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgY29uc3QgY29udGV4dE1lbnVPcHRpb25zID0gW1wiRmFrZXNwb3REaXNtaXNzXCIsIFwiQWJvdXRGYWtlc3BvdFwiXTtcblxuICBjb25zdCB7IGxlbmd0aDogbGlzdExlbmd0aCB9ID0gbGlzdEZlZWRSZWNzO1xuICAvLyBkZXRlcm1pbmUgaWYgdGhlIGxpc3Qgc2hvdWxkIHRha2UgdXAgYWxsIGF2YWlsaWJsZSBoZWlnaHQgb3Igbm90XG4gIGNvbnN0IGZ1bGxMaXN0ID0gbGlzdExlbmd0aCA+PSA1O1xuICByZXR1cm4gKFxuICAgIGxpc3RMZW5ndGggPiAwICYmIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtgbGlzdC1mZWVkICR7ZnVsbExpc3QgPyBcImZ1bGwtaGVpZ2h0XCIgOiBcIlwifSAke1xuICAgICAgICAgIGxpc3RMZW5ndGggPiAyID8gXCJzcGFuLTJcIiA6IFwic3Bhbi0xXCJcbiAgICAgICAgfWB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC1mZWVkLWlubmVyLXdyYXBwZXJcIj5cbiAgICAgICAgICB7aXNGYWtlc3BvdCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmFrZXNwb3QtaGVhZGluZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyb3Bkb3duLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmYWtlc3BvdC1kcm9wZG93blwiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwiZmFrZXNwb3QtY2F0ZWdvcmllc1wiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRGYWtlc3BvdEZlZWR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5cbiAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5VGl0bGUgfHwgXCJIb2xpZGF5IEdpZnQgR3VpZGVcIn1cbiAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdGVnb3J5fSB2YWx1ZT17Y2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRleHQtbWVudS13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICA8Q29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXtjb250ZXh0TWVudU9wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICBzaXRlPXt7IHVybDogXCJodHRwczovL3d3dy5mYWtlc3BvdC5jb21cIiB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZha2VzcG90LWRlc2NcIj57bGlzdEZlZWRUaXRsZX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImxpc3QtZmVlZC10aXRsZVwiIGlkPVwibGlzdC1mZWVkLXRpdGxlXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1uZXdzZmVlZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAge2xpc3RGZWVkVGl0bGV9XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1mZWVkLWNvbnRlbnRcIlxuICAgICAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwibGlzdC1mZWVkLXRpdGxlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGlzdEZlZWRSZWNzLnNsaWNlKDAsIDUpLm1hcCgocmVjLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXJlYyB8fCByZWMucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPERTQ2FyZFxuICAgICAgICAgICAgICAgICAgICBrZXk9e2BsaXN0LWNhcmQtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgaXNMaXN0Q2FyZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxEU0NhcmRcbiAgICAgICAgICAgICAgICAgIGtleT17YGxpc3QtY2FyZC0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgICBwb3M9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgZmxpZ2h0SWQ9e3JlYy5mbGlnaHRfaWR9XG4gICAgICAgICAgICAgICAgICBpbWFnZV9zcmM9e3JlYy5pbWFnZV9zcmN9XG4gICAgICAgICAgICAgICAgICByYXdfaW1hZ2Vfc3JjPXtyZWMucmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAgICAgICAgIHdvcmRfY291bnQ9e3JlYy53b3JkX2NvdW50fVxuICAgICAgICAgICAgICAgICAgdGltZV90b19yZWFkPXtyZWMudGltZV90b19yZWFkfVxuICAgICAgICAgICAgICAgICAgdGl0bGU9e3JlYy50aXRsZX1cbiAgICAgICAgICAgICAgICAgIHRvcGljPXtyZWMudG9waWN9XG4gICAgICAgICAgICAgICAgICBleGNlcnB0PXtyZWMuZXhjZXJwdH1cbiAgICAgICAgICAgICAgICAgIHVybD17cmVjLnVybH1cbiAgICAgICAgICAgICAgICAgIGlkPXtyZWMuaWR9XG4gICAgICAgICAgICAgICAgICBzaGltPXtyZWMuc2hpbX1cbiAgICAgICAgICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgICAgICAgICBjb250ZXh0PXtyZWMuY29udGV4dH1cbiAgICAgICAgICAgICAgICAgIHNwb25zb3I9e3JlYy5zcG9uc29yfVxuICAgICAgICAgICAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtyZWMuc3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICAgICAgc291cmNlPXtyZWMuZG9tYWlufVxuICAgICAgICAgICAgICAgICAgcHVibGlzaGVyPXtyZWMucHVibGlzaGVyfVxuICAgICAgICAgICAgICAgICAgcG9ja2V0X2lkPXtyZWMucG9ja2V0X2lkfVxuICAgICAgICAgICAgICAgICAgY29udGV4dF90eXBlPXtyZWMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgICAgICAgYm9va21hcmtHdWlkPXtyZWMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXtmaXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgICAgICAgICAgICBjb3JwdXNfaXRlbV9pZD17cmVjLmNvcnB1c19pdGVtX2lkfVxuICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkPXtyZWMuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkfVxuICAgICAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ9e3JlYy5yZWNvbW1lbmRlZF9hdH1cbiAgICAgICAgICAgICAgICAgIHJlY2VpdmVkX3Jhbms9e3JlYy5yZWNlaXZlZF9yYW5rfVxuICAgICAgICAgICAgICAgICAgaXNMaXN0Q2FyZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgIGlzRmFrZXNwb3Q9e2lzRmFrZXNwb3R9XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yeT17cmVjLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIHtpc0Zha2VzcG90ICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmYWtlc3BvdC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICA8cD57Zm9vdGVyQ29weX08L3A+XG4gICAgICAgICAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZha2VzcG90LWN0YVwiXG4gICAgICAgICAgICAgICAgICB1cmw9e2N0YVVybH1cbiAgICAgICAgICAgICAgICAgIHJlZmVycmVyPXtcIlwifVxuICAgICAgICAgICAgICAgICAgb25MaW5rQ2xpY2s9e2hhbmRsZUN0YUNsaWNrfVxuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtjdGFDb3B5fVxuICAgICAgICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgKTtcbn1cblxuZXhwb3J0IHsgTGlzdEZlZWQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwczovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiLi4vLi4vTGlua01lbnUvTGlua01lbnVcIjtcblxuLyoqXG4gKiBBIGNvbnRleHQgbWVudSBmb3IgSUFCIGJhbm5lcnMgKGUuZy4gYmlsbGJvYXJkLCBsZWFkZXJib2FyZCkuXG4gKlxuICogTm90ZTogTVJFQyBhZCBmb3JtYXRzIGFuZCBzcG9uc29yZWQgc3RvcmllcyBzaGFyZSB0aGUgY29udGV4dCBtZW51IHdpdGhcbiAqIG90aGVyIGNhcmRzOiBtYWtlIHN1cmUgeW91IGFsc28gbG9vayBhdCBEU0xpbmtNZW51IGNvbXBvbmVudFxuICogdG8ga2VlcCBhbnkgdXBkYXRlcyB0byBhZC1yZWxhdGVkIGNvbnRleHQgbWVudSBpdGVtcyBpbiBzeW5jLlxuICpcbiAqIEBwYXJhbSBkaXNwYXRjaFxuICogQHBhcmFtIHNwb2NcbiAqIEBwYXJhbSBwb3NpdGlvblxuICogQHBhcmFtIHR5cGVcbiAqIEBwYXJhbSBzaG93QWRSZXBvcnRpbmdcbiAqIEByZXR1cm5zIHtFbGVtZW50fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBZEJhbm5lckNvbnRleHRNZW51KHtcbiAgZGlzcGF0Y2gsXG4gIHNwb2MsXG4gIHBvc2l0aW9uLFxuICB0eXBlLFxuICBzaG93QWRSZXBvcnRpbmcsXG4gIHRvZ2dsZUFjdGl2ZSA9ICgpID0+IHt9LFxufSkge1xuICBjb25zdCBBREJBTk5FUl9DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICBcIkJsb2NrQWRVcmxcIixcbiAgICAuLi4oc2hvd0FkUmVwb3J0aW5nID8gW1wiUmVwb3J0QWRcIl0gOiBbXSksXG4gICAgXCJNYW5hZ2VTcG9uc29yZWRDb250ZW50XCIsXG4gICAgXCJPdXJTcG9uc29yc0FuZFlvdXJQcml2YWN5XCIsXG4gIF07XG5cbiAgY29uc3QgW3Nob3dDb250ZXh0TWVudSwgc2V0U2hvd0NvbnRleHRNZW51XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NvbnRleHRNZW51Q2xhc3NOYW1lcywgc2V0Q29udGV4dE1lbnVDbGFzc05hbWVzXSA9XG4gICAgdXNlU3RhdGUoXCJhZHMtY29udGV4dC1tZW51XCIpO1xuXG4gIC8vIFRoZSBrZXlib2FyZCBhY2Nlc3MgcGFyYW1ldGVyIGlzIHBhc3NlZCBkb3duIHRvIExpbmtNZW51IGNvbXBvbmVudFxuICAvLyB0aGF0IHVzZXMgaXQgdG8gZm9jdXMgb24gdGhlIGZpcnN0IGNvbnRleHQgbWVudSBvcHRpb24gZm9yIGFjY2Vzc2liaWxpdHkuXG4gIGNvbnN0IFtpc0tleWJvYXJkQWNjZXNzLCBzZXRJc0tleWJvYXJkQWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgc3R5bGUgZml4IGZvciBjb250ZXh0IG1lbnUgaG92ZXIvYWN0aXZlIHN0eWxlcy5cbiAgICogVGhpcyBhbGxvd3MgdXMgdG8gaGF2ZSB1bm9idHJ1c2l2ZSwgdHJhbnNwYXJlbnQgYnV0dG9uIGJhY2tncm91bmQgYnkgZGVmYXVsdCxcbiAgICogeWV0IGZsaXAgaXQgb3ZlciB0byBzZW1pLXRyYW5zcGFyZW50IGdyZXkgd2hlbiB0aGUgbWVudSBpcyB2aXNpYmxlLlxuICAgKlxuICAgKiBAcGFyYW0gY29udGV4dE1lbnVPcGVuXG4gICAqL1xuICBjb25zdCB0b2dnbGVDb250ZXh0TWVudVN0eWxlU3dpdGNoID0gY29udGV4dE1lbnVPcGVuID0+IHtcbiAgICBpZiAoY29udGV4dE1lbnVPcGVuKSB7XG4gICAgICBzZXRDb250ZXh0TWVudUNsYXNzTmFtZXMoXCJhZHMtY29udGV4dC1tZW51IGNvbnRleHQtbWVudS1vcGVuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDb250ZXh0TWVudUNsYXNzTmFtZXMoXCJhZHMtY29udGV4dC1tZW51XCIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgY29udGV4dCBtZW51IHRvIG9wZW4gb3IgY2xvc2UuIFNldHMgc3RhdGUgZGVwZW5kaW5nIG9uIHdoZXRoZXJcbiAgICogdGhlIGNvbnRleHQgbWVudSBpcyBhY2Nlc3NlZCBieSBtb3VzZSBvciBrZXlib2FyZC5cbiAgICpcbiAgICogQHBhcmFtIGlzS2V5Qm9hcmRcbiAgICovXG4gIGNvbnN0IHRvZ2dsZUNvbnRleHRNZW51ID0gaXNLZXlCb2FyZCA9PiB7XG4gICAgdG9nZ2xlQ29udGV4dE1lbnVTdHlsZVN3aXRjaCghc2hvd0NvbnRleHRNZW51KTtcbiAgICB0b2dnbGVBY3RpdmUoIXNob3dDb250ZXh0TWVudSk7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KCFzaG93Q29udGV4dE1lbnUpO1xuICAgIHNldElzS2V5Ym9hcmRBY2Nlc3MoaXNLZXlCb2FyZCk7XG4gIH07XG5cbiAgY29uc3Qgb25DbGljayA9IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0b2dnbGVDb250ZXh0TWVudShmYWxzZSk7XG4gIH07XG5cbiAgY29uc3Qgb25LZXlEb3duID0gZSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVDb250ZXh0TWVudSh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgb25VcGRhdGUgPSAoKSA9PiB7XG4gICAgdG9nZ2xlQ29udGV4dE1lbnVTdHlsZVN3aXRjaCghc2hvd0NvbnRleHRNZW51KTtcbiAgICB0b2dnbGVBY3RpdmUoIXNob3dDb250ZXh0TWVudSk7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KCFzaG93Q29udGV4dE1lbnUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhZHMtY29udGV4dC1tZW51LXdyYXBwZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb250ZXh0TWVudUNsYXNzTmFtZXN9PlxuICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJpY29uXCJcbiAgICAgICAgICBzaXplPVwiZGVmYXVsdFwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJcbiAgICAgICAgICBkYXRhLWwxMG4tYXJncz17SlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdGl0bGU6IHNwb2MudGl0bGUgfHwgc3BvYy5zcG9uc29yIHx8IHNwb2MuYWx0X3RleHQsXG4gICAgICAgICAgfSl9XG4gICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL21vcmUuc3ZnXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgIG9uS2V5RG93bj17b25LZXlEb3dufVxuICAgICAgICAvPlxuICAgICAgICB7c2hvd0NvbnRleHRNZW51ICYmIChcbiAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgIG9uVXBkYXRlPXtvblVwZGF0ZX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGtleWJvYXJkQWNjZXNzPXtpc0tleWJvYXJkQWNjZXNzfVxuICAgICAgICAgICAgb3B0aW9ucz17QURCQU5ORVJfQ09OVEVYVF9NRU5VX09QVElPTlN9XG4gICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXt0cnVlfVxuICAgICAgICAgICAgdXNlckV2ZW50PXthYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnR9XG4gICAgICAgICAgICBzaXRlPXt7XG4gICAgICAgICAgICAgIC8vIFByb3BzIHdlIHdhbnQgdG8gcGFzcyBvbiBmb3IgbmV3IGFkIHR5cGVzIHRoYXQgY29tZSBmcm9tIFVuaWZpZWQgQWRzIEFQSVxuICAgICAgICAgICAgICBibG9ja19rZXk6IHNwb2MuYmxvY2tfa2V5LFxuICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcDogc3BvYy5mZXRjaFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgZmxpZ2h0X2lkOiBzcG9jLmZsaWdodF9pZCxcbiAgICAgICAgICAgICAgZm9ybWF0OiBzcG9jLmZvcm1hdCxcbiAgICAgICAgICAgICAgaWQ6IHNwb2MuaWQsXG4gICAgICAgICAgICAgIGd1aWQ6IHNwb2MuZ3VpZCxcbiAgICAgICAgICAgICAgY2FyZF90eXBlOiBcInNwb2NcIixcbiAgICAgICAgICAgICAgLy8gcmVxdWlyZWQgdG8gcmVjb3JkIHRlbGVtZXRyeSBmb3IgYW4gYWN0aW9uLCBzZWUgaGFuZGxlQmxvY2tVcmwgaW4gVGVsZW1ldHJ5RmVlZC5zeXMubWpzXG4gICAgICAgICAgICAgIGlzX3BvY2tldF9jYXJkOiB0cnVlLFxuICAgICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgICAgc3BvbnNvcjogc3BvYy5zcG9uc29yLFxuICAgICAgICAgICAgICB0aXRsZTogc3BvYy50aXRsZSxcbiAgICAgICAgICAgICAgdXJsOiBzcG9jLnVybCB8fCBzcG9jLnNoaW0udXJsLFxuICAgICAgICAgICAgICBwZXJzb25hbGl6YXRpb25fbW9kZWxzOiBzcG9jLnBlcnNvbmFsaXphdGlvbl9tb2RlbHMsXG4gICAgICAgICAgICAgIHByaW9yaXR5OiBzcG9jLnByaW9yaXR5LFxuICAgICAgICAgICAgICBzY29yZTogc3BvYy5zY29yZSxcbiAgICAgICAgICAgICAgYWx0X3RleHQ6IHNwb2MuYWx0X3RleHQsXG4gICAgICAgICAgICAgIHNoaW06IHNwb2Muc2hpbSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBpbmRleD17cG9zaXRpb259XG4gICAgICAgICAgICBzb3VyY2U9e3R5cGUudG9VcHBlckNhc2UoKX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURpc3BhdGNoIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciB9IGZyb20gXCIuLi8uLi8uLi9saWIvdXRpbHNcIjtcblxuY29uc3QgUFJFRl9QUk9NT19DQVJEX0RJU01JU1NFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnByb21vQ2FyZC52aXNpYmxlXCI7XG5cbi8qKlxuICogVGhlIFByb21vQ2FyZCBjb21wb25lbnQgZGlzcGxheXMgYSBwcm9tb3Rpb25hbCBtZXNzYWdlLlxuICogSXQgaXMgdXNlZCBuZXh0IHRvIHRoZSBBZEJhbm5lciBjb21wb25lbnQgaW4gYSBmb3VyLWNvbHVtbiBsYXlvdXQuXG4gKi9cblxuY29uc3QgUHJvbW9DYXJkID0gKCkgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG5cbiAgY29uc3Qgb25DdGFDbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5QUk9NT19DQVJEX0NMSUNLLFxuICAgICAgfSlcbiAgICApO1xuICB9LCBbZGlzcGF0Y2hdKTtcblxuICBjb25zdCBvbkRpc21pc3NDbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5QUk9NT19DQVJEX0RJU01JU1MsXG4gICAgICB9KVxuICAgICk7XG4gICAgZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX1BST01PX0NBUkRfRElTTUlTU0VELCBmYWxzZSkpO1xuICB9LCBbZGlzcGF0Y2hdKTtcblxuICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuUFJPTU9fQ0FSRF9JTVBSRVNTSU9OLFxuICAgICAgfSlcbiAgICApO1xuICB9LCBbZGlzcGF0Y2hdKTtcblxuICBjb25zdCByZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbnRlcnNlY3Rpb24pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwicHJvbW8tY2FyZC13cmFwcGVyXCJcbiAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICByZWYuY3VycmVudCA9IFtlbF07XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJvbW8tY2FyZC1kaXNtaXNzLWJ1dHRvblwiPlxuICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wcm9tby1jYXJkLWRpc21pc3MtYnV0dG9uXCJcbiAgICAgICAgICBpY29uc3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvY2xvc2Uuc3ZnXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkRpc21pc3NDbGlja31cbiAgICAgICAgICBvbktleURvd249e29uRGlzbWlzc0NsaWNrfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb21vLWNhcmQtaW5uZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbWctd3JhcHBlclwiPlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz1cImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvcHV6emxlLWZveC5zdmdcIlxuICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9XCJwcm9tby1jYXJkLXRpdGxlXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJvbW8tY2FyZC10aXRsZVwiXG4gICAgICAgIC8+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwicHJvbW8tY2FyZC1ib2R5XCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJvbW8tY2FyZC1ib2R5XCJcbiAgICAgICAgLz5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHJvbW8tY2FyZC1jdGEtd3JhcHBlclwiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9zdXBwb3J0Lm1vemlsbGEub3JnL2tiL3Nwb25zb3ItcHJpdmFjeVwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJvbW8tY2FyZC1jdGFcIlxuICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgb25DbGljaz17b25DdGFDbGlja31cbiAgICAgICAgICA+PC9hPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCB7IFByb21vQ2FyZCB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgQWRCYW5uZXJDb250ZXh0TWVudSB9IGZyb20gXCIuLi9BZEJhbm5lckNvbnRleHRNZW51L0FkQmFubmVyQ29udGV4dE1lbnVcIjtcbmltcG9ydCB7IFByb21vQ2FyZCB9IGZyb20gXCIuLi9Qcm9tb0NhcmQvUHJvbW9DYXJkLmpzeFwiO1xuXG5jb25zdCBQUkVGX1NFQ1RJT05TX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX09IVFRQX1VOSUZJRURfQURTID0gXCJ1bmlmaWVkQWRzLm9odHRwLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfUkVQT1JUX0FEU19FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0ucmVwb3J0QWRzLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfUFJPTU9DQVJEX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5wcm9tb0NhcmQuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9QUk9NT0NBUkRfVklTSUJMRSA9IFwiZGlzY292ZXJ5c3RyZWFtLnByb21vQ2FyZC52aXNpYmxlXCI7XG5cbi8qKlxuICogQSBuZXcgYmFubmVyIGFkIHRoYXQgYXBwZWFycyBiZXR3ZWVuIHJvd3Mgb2Ygc3RvcmllczogbGVhZGVyYm9hcmQgb3IgYmlsbGJvYXJkIHNpemUuXG4gKlxuICogQHBhcmFtIHNwb2NcbiAqIEBwYXJhbSBkaXNwYXRjaFxuICogQHBhcmFtIGZpcnN0VmlzaWJsZVRpbWVzdGFtcFxuICogQHBhcmFtIHJvd1xuICogQHBhcmFtIHR5cGVcbiAqIEBwYXJhbSBwcmVmc1xuICogQHJldHVybnMge0VsZW1lbnR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IEFkQmFubmVyID0gKHtcbiAgc3BvYyxcbiAgZGlzcGF0Y2gsXG4gIGZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgcm93LFxuICB0eXBlLFxuICBwcmVmcyxcbn0pID0+IHtcbiAgY29uc3QgZ2V0RGltZW5zaW9ucyA9IGZvcm1hdCA9PiB7XG4gICAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICAgIGNhc2UgXCJsZWFkZXJib2FyZFwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBcIjcyOFwiLFxuICAgICAgICAgIGhlaWdodDogXCI5MFwiLFxuICAgICAgICB9O1xuICAgICAgY2FzZSBcImJpbGxib2FyZFwiOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBcIjk3MFwiLFxuICAgICAgICAgIGhlaWdodDogXCIyNTBcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGltYWdlIHdpbGwgc3RpbGwgcmVuZGVyIHdpdGggZGVmYXVsdCB2YWx1ZXNcbiAgICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9O1xuICBjb25zdCBwcm9tb0NhcmRFbmFibGVkID1cbiAgICBzcG9jLmZvcm1hdCA9PT0gXCJiaWxsYm9hcmRcIiAmJlxuICAgIHByZWZzW1BSRUZfUFJPTU9DQVJEX0VOQUJMRURdICYmXG4gICAgcHJlZnNbUFJFRl9QUk9NT0NBUkRfVklTSUJMRV07XG5cbiAgY29uc3Qgc2VjdGlvbnNFbmFibGVkID0gcHJlZnNbUFJFRl9TRUNUSU9OU19FTkFCTEVEXTtcbiAgY29uc3Qgb2h0dHBFbmFibGVkID0gcHJlZnNbUFJFRl9PSFRUUF9VTklGSUVEX0FEU107XG4gIGNvbnN0IHNob3dBZFJlcG9ydGluZyA9IHByZWZzW1BSRUZfUkVQT1JUX0FEU19FTkFCTEVEXTtcbiAgY29uc3Qgb2h0dHBJbWFnZXNFbmFibGVkID0gcHJlZnMub2h0dHBJbWFnZXNDb25maWc/LmVuYWJsZWQ7XG4gIGNvbnN0IFttZW51QWN0aXZlLCBzZXRNZW51QWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgYWRCYW5uZXJXcmFwcGVyQ2xhc3NOYW1lID0gYGFkLWJhbm5lci13cmFwcGVyICR7bWVudUFjdGl2ZSA/IFwiYWN0aXZlXCIgOiBcIlwifSAke3Byb21vQ2FyZEVuYWJsZWQgPyBcInByb21vLWNhcmRcIiA6IFwiXCJ9YDtcblxuICBjb25zdCB7IHdpZHRoOiBpbWdXaWR0aCwgaGVpZ2h0OiBpbWdIZWlnaHQgfSA9IGdldERpbWVuc2lvbnMoc3BvYy5mb3JtYXQpO1xuXG4gIGNvbnN0IG9uTGlua0NsaWNrID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgc291cmNlOiB0eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgIC8vIEJhbm5lciBhZHMgZG9uJ3QgaGF2ZSBhIHBvc2l0aW9uLCBidXQgYSByb3cgbnVtYmVyXG4gICAgICAgIGFjdGlvbl9wb3NpdGlvbjogcGFyc2VJbnQocm93LCAxMCksXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgY2FyZF90eXBlOiBcInNwb2NcIixcbiAgICAgICAgICB0aWxlX2lkOiBzcG9jLmlkLFxuICAgICAgICAgIC4uLihzcG9jLnNoaW0/LmNsaWNrID8geyBzaGltOiBzcG9jLnNoaW0uY2xpY2sgfSA6IHt9KSxcbiAgICAgICAgICBmZXRjaFRpbWVzdGFtcDogc3BvYy5mZXRjaFRpbWVzdGFtcCxcbiAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXAsXG4gICAgICAgICAgZm9ybWF0OiBzcG9jLmZvcm1hdCxcbiAgICAgICAgICAuLi4oc2VjdGlvbnNFbmFibGVkXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uOiBzcG9jLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBwYXJzZUludChyb3csIDEwKSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlQWN0aXZlID0gYWN0aXZlID0+IHtcbiAgICBzZXRNZW51QWN0aXZlKGFjdGl2ZSk7XG4gIH07XG5cbiAgLy8gaW4gdGhlIGRlZmF1bHQgY2FyZCBncmlkIDEgd291bGQgY29tZSBiZWZvcmUgdGhlIDFzdCByb3cgb2YgY2FyZHMgYW5kIDkgY29tZXMgYWZ0ZXIgdGhlIGxhc3Qgcm93XG4gIC8vIHVzaW5nIGNsYW1wIHRvIG1ha2Ugc3VyZSBpdHMgYmV0d2VlbiB2YWxpZCB2YWx1ZXMgKDEtOSlcbiAgY29uc3QgY2xhbXBlZFJvdyA9IE1hdGgubWF4KDEsIE1hdGgubWluKDksIHJvdykpO1xuXG4gIGNvbnN0IHNlY3VyZUltYWdlID0gb2h0dHBJbWFnZXNFbmFibGVkICYmIG9odHRwRW5hYmxlZDtcblxuICBsZXQgcmF3SW1hZ2VTcmMgPSBzcG9jLnJhd19pbWFnZV9zcmM7XG5cbiAgLy8gV3JhcHMgdGhlIGltYWdlIFVSTCB3aXRoIHRoZSBtb3otY2FjaGVkLW9odHRwOi8vIHByb3RvY29sLlxuICAvLyBUaGlzIGVuYWJsZXMgRmlyZWZveCB0byBsb2FkIHJlc291cmNlcyBvdmVyIE9ibGl2aW91cyBIVFRQIChPSFRUUCksXG4gIC8vIHByb3ZpZGluZyBwcml2YWN5LXByZXNlcnZpbmcgcmVzb3VyY2UgbG9hZGluZy5cbiAgLy8gQXBwbGllZCBvbmx5IHdoZW4gaW5mZXJyZWQgcGVyc29uYWxpemF0aW9uIGlzIGVuYWJsZWQuXG4gIC8vIFNlZTogaHR0cHM6Ly9maXJlZm94LXNvdXJjZS1kb2NzLm1vemlsbGEub3JnL2Jyb3dzZXIvY29tcG9uZW50cy9tb3pjYWNoZWRvaHR0cC9kb2NzL2luZGV4Lmh0bWxcbiAgaWYgKHNlY3VyZUltYWdlKSB7XG4gICAgcmF3SW1hZ2VTcmMgPSBgbW96LWNhY2hlZC1vaHR0cDovL25ld3RhYi1pbWFnZS8/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHNwb2MucmF3X2ltYWdlX3NyYyl9YDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGFzaWRlIGNsYXNzTmFtZT17YWRCYW5uZXJXcmFwcGVyQ2xhc3NOYW1lfSBzdHlsZT17eyBncmlkUm93OiBjbGFtcGVkUm93IH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BhZC1iYW5uZXItaW5uZXIgJHtzcG9jLmZvcm1hdH1gfT5cbiAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICBjbGFzc05hbWU9XCJhZC1iYW5uZXItbGlua1wiXG4gICAgICAgICAgdXJsPXtzcG9jLnVybH1cbiAgICAgICAgICB0aXRsZT17c3BvYy50aXRsZSB8fCBzcG9jLnNwb25zb3IgfHwgc3BvYy5hbHRfdGV4dH1cbiAgICAgICAgICBvbkxpbmtDbGljaz17b25MaW5rQ2xpY2t9XG4gICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgIGlzU3BvbnNvcmVkPXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgICAgZmxpZ2h0SWQ9e3Nwb2MuZmxpZ2h0X2lkfVxuICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHNwb2MuaWQsXG4gICAgICAgICAgICAgICAgY2FyZF90eXBlOiBcInNwb2NcIixcbiAgICAgICAgICAgICAgICBwb3M6IHJvdyxcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRlZF9hdDogc3BvYy5yZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rOiBzcG9jLnJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBzcG9jLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAuLi4oc3BvYy5zaGltPy5pbXByZXNzaW9uXG4gICAgICAgICAgICAgICAgICA/IHsgc2hpbTogc3BvYy5zaGltLmltcHJlc3Npb24gfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXtmaXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkLWJhbm5lci1jb250ZW50XCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17cmF3SW1hZ2VTcmN9XG4gICAgICAgICAgICAgIGFsdD17c3BvYy5hbHRfdGV4dH1cbiAgICAgICAgICAgICAgbG9hZGluZz1cImVhZ2VyXCJcbiAgICAgICAgICAgICAgd2lkdGg9e2ltZ1dpZHRofVxuICAgICAgICAgICAgICBoZWlnaHQ9e2ltZ0hlaWdodH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZC1iYW5uZXItc3BvbnNvcmVkXCI+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhZC1iYW5uZXItc3BvbnNvcmVkLWxhYmVsXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWxhYmVsLXNwb25zb3JlZC1maXhlZFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWQtYmFubmVyLWhvdmVyLWJhY2tncm91bmRcIj5cbiAgICAgICAgICA8QWRCYW5uZXJDb250ZXh0TWVudVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgc3BvYz17c3BvY31cbiAgICAgICAgICAgIHBvc2l0aW9uPXtyb3d9XG4gICAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgICAgc2hvd0FkUmVwb3J0aW5nPXtzaG93QWRSZXBvcnRpbmd9XG4gICAgICAgICAgICB0b2dnbGVBY3RpdmU9e3RvZ2dsZUFjdGl2ZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAge3Byb21vQ2FyZEVuYWJsZWQgJiYgPFByb21vQ2FyZCAvPn1cbiAgICA8L2FzaWRlPlxuICApO1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcIi4uLy4uL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgeyB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciB9IGZyb20gXCIuLi8uLi8uLi9saWIvdXRpbHNcIjtcblxuY29uc3QgUFJFRl9UUkVORElOR19WQVJJQU5UID0gXCJ0cmVuZGluZ1NlYXJjaC52YXJpYW50XCI7XG5jb25zdCBQUkVGX1JFRklORURfQ0FSRFNfTEFZT1VUID0gXCJkaXNjb3ZlcnlzdHJlYW0ucmVmaW5lZENhcmRzTGF5b3V0LmVuYWJsZWRcIjtcblxuZnVuY3Rpb24gVHJlbmRpbmdTZWFyY2hlcygpIHtcbiAgY29uc3QgW3Nob3dDb250ZXh0TWVudSwgc2V0U2hvd0NvbnRleHRNZW51XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy8gVGhlIGtleWJvYXJkIGFjY2VzcyBwYXJhbWV0ZXIgaXMgcGFzc2VkIGRvd24gdG8gTGlua01lbnUgY29tcG9uZW50XG4gIC8vIHRoYXQgdXNlcyBpdCB0byBmb2N1cyBvbiB0aGUgZmlyc3QgY29udGV4dCBtZW51IG9wdGlvbiBmb3IgYWNjZXNzaWJpbGl0eS5cbiAgY29uc3QgW2lzS2V5Ym9hcmRBY2Nlc3MsIHNldElzS2V5Ym9hcmRBY2Nlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IHsgVHJlbmRpbmdTZWFyY2gsIFByZWZzIH0gPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZSk7XG4gIGNvbnN0IHsgdmFsdWVzOiBwcmVmcyB9ID0gUHJlZnM7XG4gIGNvbnN0IHsgc3VnZ2VzdGlvbnMsIGNvbGxhcHNlZCB9ID0gVHJlbmRpbmdTZWFyY2g7XG4gIGNvbnN0IHZhcmlhbnQgPSBwcmVmc1tQUkVGX1RSRU5ESU5HX1ZBUklBTlRdO1xuICBjb25zdCByZWZpbmVkQ2FyZHMgPSBwcmVmc1tQUkVGX1JFRklORURfQ0FSRFNfTEFZT1VUXTtcbiAgbGV0IHJlc3VsdFJlZiA9IHVzZVJlZihbXSk7XG4gIGxldCBjb250ZXh0TWVudUhvc3QgPSB1c2VSZWYobnVsbCk7XG5cbiAgY29uc3QgVFJFTkRJTkdfU0VBUkNIX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICAgIFwiVHJlbmRpbmdTZWFyY2hEaXNtaXNzXCIsXG4gICAgXCJUcmVuZGluZ1NlYXJjaExlYXJuTW9yZVwiLFxuICBdO1xuXG4gIGZ1bmN0aW9uIG9uQXJyb3dDbGljaygpIHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5UUkVORElOR19TRUFSQ0hfVE9HR0xFX0NPTExBUFNFLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY29sbGFwc2VkOiAhY29sbGFwc2VkLFxuICAgICAgICAgIHZhcmlhbnQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVMaW5rT3BlbigpIHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5UUkVORElOR19TRUFSQ0hfU1VHR0VTVElPTl9PUEVOLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdmFyaWFudCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIHRoZSB3aW5kb3cgaXMgc21hbGwsIHRoZSBjb250ZXh0IG1lbnUgaW4gdmFyaWFudCBCIHdpbGwgbW92ZSBjbG9zZXIgdG8gdGhlIGNhcmRcbiAgLy8gc28gdGhhdCBpdCBkb2Vzbid0IGN1dCBvZmZcbiAgY29uc3QgaGFuZGxlQ29udGV4dE1lbnVTaG93ID0gKCkgPT4ge1xuICAgIGNvbnN0IGhvc3QgPSBjb250ZXh0TWVudUhvc3QuY3VycmVudDtcbiAgICBjb25zdCBpc1JUTCA9IGRvY3VtZW50LmRpciA9PT0gXCJydGxcIjsgLy8gcmV0dXJucyB0cnVlIGlmIHBhZ2UgbGFuZ3VhZ2UgaXMgcmlnaHQtdG8tbGVmdFxuICAgIGNvbnN0IGNoZWNrUmVjdCA9IGhvc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgbWF4Qm91bmRzID0gMjAwO1xuXG4gICAgLy8gQWRkcyB0aGUgY2xhc3Mgb2YgXCJsYXN0LWl0ZW1cIiBpZiB0aGUgY2FyZCBpcyBuZWFyIHRoZSBlZGdlIG9mIHRoZSB3aW5kb3dcbiAgICBjb25zdCBjaGVja0JvdW5kcyA9IGlzUlRMXG4gICAgICA/IGNoZWNrUmVjdC5sZWZ0IDw9IG1heEJvdW5kc1xuICAgICAgOiB3aW5kb3cuaW5uZXJXaWR0aCAtIGNoZWNrUmVjdC5yaWdodCA8PSBtYXhCb3VuZHM7XG5cbiAgICBpZiAoY2hlY2tCb3VuZHMpIHtcbiAgICAgIGhvc3QuY2xhc3NMaXN0LmFkZChcImxhc3QtaXRlbVwiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29udGV4dE1lbnVVcGRhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgaG9zdCA9IGNvbnRleHRNZW51SG9zdC5jdXJyZW50O1xuICAgIGlmICghaG9zdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhvc3QuY2xhc3NMaXN0LnJlbW92ZShcImxhc3QtaXRlbVwiKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVDb250ZXh0TWVudSA9IGlzS2V5Qm9hcmQgPT4ge1xuICAgIHNldFNob3dDb250ZXh0TWVudSghc2hvd0NvbnRleHRNZW51KTtcbiAgICBzZXRJc0tleWJvYXJkQWNjZXNzKGlzS2V5Qm9hcmQpO1xuXG4gICAgaWYgKCFzaG93Q29udGV4dE1lbnUpIHtcbiAgICAgIGhhbmRsZUNvbnRleHRNZW51U2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVDb250ZXh0TWVudVVwZGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBvbkNvbnRleHRNZW51Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0b2dnbGVDb250ZXh0TWVudShmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNvbnRleHRNZW51S2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0b2dnbGVDb250ZXh0TWVudSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblVwZGF0ZSgpIHtcbiAgICBzZXRTaG93Q29udGV4dE1lbnUoIXNob3dDb250ZXh0TWVudSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRLZXlEb3duKGV2ZW50LCBpbmRleCkge1xuICAgIGNvbnN0IG1heFJlc3VsdHMgPSBzdWdnZXN0aW9ucy5sZW5ndGg7XG4gICAgbGV0IG5leHRJbmRleCA9IGluZGV4O1xuXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChpbmRleCA8IG1heFJlc3VsdHMgLSAxKSB7XG4gICAgICAgIG5leHRJbmRleCA9IGluZGV4ICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIG5leHRJbmRleCA9IGluZGV4IC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bHRSZWYuY3VycmVudFtpbmRleF0udGFiSW5kZXggPSAtMTtcbiAgICByZXN1bHRSZWYuY3VycmVudFtuZXh0SW5kZXhdLnRhYkluZGV4ID0gMDtcbiAgICByZXN1bHRSZWYuY3VycmVudFtuZXh0SW5kZXhdLmZvY3VzKCk7XG4gIH1cblxuICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuVFJFTkRJTkdfU0VBUkNIX0lNUFJFU1NJT04sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB2YXJpYW50LFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9LCBbZGlzcGF0Y2gsIHZhcmlhbnRdKTtcblxuICBjb25zdCByZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbnRlcnNlY3Rpb24pO1xuICBpZiAoIXN1Z2dlc3Rpb25zPy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmICh2YXJpYW50ID09PSBcImFcIiB8fCB2YXJpYW50ID09PSBcImNcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8c2VjdGlvblxuICAgICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgICByZWYuY3VycmVudCA9IFtlbF07XG4gICAgICAgIH19XG4gICAgICAgIC8vIFZhcmlhbnQgQyBtYXRjaGVzIHRoZSBkZXNpZ24gb2YgdmFyaWFudCBBIGJ1dCBzaG91bGQgb25seVxuICAgICAgICAvLyBhcHBlYXIgb24gaG92ZXJcbiAgICAgICAgY2xhc3NOYW1lPXtgdHJlbmRpbmctc2VhcmNoZXMtcGlsbC13cmFwcGVyICR7dmFyaWFudCA9PT0gXCJjXCIgPyBcImhvdmVyLW9ubHlcIiA6IFwiXCJ9YH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmVuZGluZy1zZWFyY2hlcy10aXRsZS13cmFwcGVyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtaWNvbiBpY29uIGljb24tYXJyb3ctdHJlbmRpbmdcIj48L3NwYW4+XG4gICAgICAgICAgPGgyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0cmVuZGluZy1zZWFyY2hlcy10aXRsZVwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdHJlbmRpbmctc2VhcmNoZXMtdGl0bGVcIlxuICAgICAgICAgID48L2gyPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xvc2Utb3Blbi10cmVuZGluZy1zZWFyY2hlc1wiPlxuICAgICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgICAgaWNvbnNyYz17YGNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL2Fycm93LSR7Y29sbGFwc2VkID8gXCJkb3duXCIgOiBcInVwXCJ9LnN2Z2B9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQXJyb3dDbGlja31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaWNvbiBpY29uLWFycm93aGVhZC11cGB9XG4gICAgICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtgbmV3dGFiLXRyZW5kaW5nLXNlYXJjaGVzLSR7Y29sbGFwc2VkID8gXCJzaG93XCIgOiBcImhpZGVcIn0tdHJlbmRpbmdgfVxuICAgICAgICAgICAgPjwvbW96LWJ1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHshY29sbGFwc2VkICYmIChcbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtbGlzdFwiPlxuICAgICAgICAgICAge3N1Z2dlc3Rpb25zLm1hcCgocmVzdWx0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAga2V5PXtyZXN1bHQuc3VnZ2VzdGlvbn1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRyZW5kaW5nLXNlYXJjaC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiBoYW5kbGVSZXN1bHRLZXlEb3duKGUsIGluZGV4KX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgICAgICAgICAgICB1cmw9e3Jlc3VsdC5zZWFyY2hVcmx9XG4gICAgICAgICAgICAgICAgICAgIG9uTGlua0NsaWNrPXtoYW5kbGVMaW5rT3Blbn1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3Jlc3VsdC5zdWdnZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICBzZXRSZWY9e2l0ZW0gPT4gKHJlc3VsdFJlZi5jdXJyZW50W2luZGV4XSA9IGl0ZW0pfVxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD17aW5kZXggPT09IDAgPyAwIDogLTF9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtyZXN1bHQubG93ZXJDYXNlU3VnZ2VzdGlvbn1cbiAgICAgICAgICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgKX1cbiAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuICB9IGVsc2UgaWYgKHZhcmlhbnQgPT09IFwiYlwiKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtlbCA9PiB7XG4gICAgICAgICAgcmVmLmN1cnJlbnQgPSBbZWxdO1xuICAgICAgICAgIGNvbnRleHRNZW51SG9zdC5jdXJyZW50ID0gZWw7XG4gICAgICAgIH19XG4gICAgICAgIGNsYXNzTmFtZT1cInRyZW5kaW5nLXNlYXJjaGVzLWxpc3Qtdmlld1wiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtbGlzdC12aWV3LWhlYWRlclwiPlxuICAgICAgICAgIDxoMyBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdHJlbmRpbmctc2VhcmNoZXMtdGl0bGVcIj48L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtY29udGV4dC1tZW51LXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdHJlbmRpbmctc2VhcmNoZXMtY29udGV4dC1tZW51ICR7c2hvd0NvbnRleHRNZW51ID8gXCJjb250ZXh0LW1lbnUtb3BlblwiIDogXCJcIn1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgICAgICAgICBzaXplPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLW1lbnUtc2VjdGlvbi10b29sdGlwXCJcbiAgICAgICAgICAgICAgICBpY29uc3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvbW9yZS5zdmdcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ29udGV4dE1lbnVDbGlja31cbiAgICAgICAgICAgICAgICBvbktleURvd249e29uQ29udGV4dE1lbnVLZXlEb3dufVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7c2hvd0NvbnRleHRNZW51ICYmIChcbiAgICAgICAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgICAgICAgIG9uVXBkYXRlPXtvblVwZGF0ZX1cbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIGtleWJvYXJkQWNjZXNzPXtpc0tleWJvYXJkQWNjZXNzfVxuICAgICAgICAgICAgICAgICAgb3B0aW9ucz17VFJFTkRJTkdfU0VBUkNIX0NPTlRFWFRfTUVOVV9PUFRJT05TfVxuICAgICAgICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgIHNpdGU9e3tcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy8xL2ZpcmVmb3gvJVZFUlNJT04lLyVPUyUvJUxPQ0FMRSUvdHJlbmRpbmctc2VhcmNoZXMtbmV3LXRhYlwiLFxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50LFxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtbGlzdC1pdGVtc1wiPlxuICAgICAgICAgIHtzdWdnZXN0aW9ucy5zbGljZSgwLCA2KS5tYXAoKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgIGtleT17cmVzdWx0LnN1Z2dlc3Rpb259XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdHJlbmRpbmctc2VhcmNoZXMtbGlzdC1pdGVtICR7cmVmaW5lZENhcmRzID8gXCJjb21wYWN0XCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IGhhbmRsZVJlc3VsdEtleURvd24oZSwgaW5kZXgpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICAgICAgICAgIHVybD17cmVzdWx0LnNlYXJjaFVybH1cbiAgICAgICAgICAgICAgICAgIG9uTGlua0NsaWNrPXtoYW5kbGVMaW5rT3Blbn1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtyZXN1bHQuc3VnZ2VzdGlvbn1cbiAgICAgICAgICAgICAgICAgIHNldFJlZj17aXRlbSA9PiAocmVzdWx0UmVmLmN1cnJlbnRbaW5kZXhdID0gaXRlbSl9XG4gICAgICAgICAgICAgICAgICB0YWJJbmRleD17aW5kZXggPT09IDAgPyAwIDogLTF9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3Jlc3VsdC5pY29uID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyZW5kaW5nLWljb24td3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtyZXN1bHQuaWNvbn0gYWx0PVwiXCIgY2xhc3NOYW1lPVwidHJlbmRpbmctaWNvblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmVuZGluZy1pbmZvLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN1bHQubG93ZXJDYXNlU3VnZ2VzdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbD57cmVzdWx0LmRlc2NyaXB0aW9ufTwvc21hbGw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cmVuZGluZy1zZWFyY2hlcy1pY29uIGljb24gaWNvbi1hcnJvdy10cmVuZGluZ1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7cmVzdWx0Lmxvd2VyQ2FzZVN1Z2dlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgeyBUcmVuZGluZ1NlYXJjaGVzIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBEU0NhcmQsIFBsYWNlaG9sZGVyRFNDYXJkIH0gZnJvbSBcIi4uL0RTQ2FyZC9EU0NhcmQuanN4XCI7XG5pbXBvcnQgeyBEU0VtcHR5U3RhdGUgfSBmcm9tIFwiLi4vRFNFbXB0eVN0YXRlL0RTRW1wdHlTdGF0ZS5qc3hcIjtcbmltcG9ydCB7IFRvcGljc1dpZGdldCB9IGZyb20gXCIuLi9Ub3BpY3NXaWRnZXQvVG9waWNzV2lkZ2V0LmpzeFwiO1xuaW1wb3J0IHsgTGlzdEZlZWQgfSBmcm9tIFwiLi4vTGlzdEZlZWQvTGlzdEZlZWQuanN4XCI7XG5pbXBvcnQgeyBBZEJhbm5lciB9IGZyb20gXCIuLi9BZEJhbm5lci9BZEJhbm5lci5qc3hcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCIuLi8uLi9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0LmpzeFwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBUcmVuZGluZ1NlYXJjaGVzIH0gZnJvbSBcIi4uL1RyZW5kaW5nU2VhcmNoZXMvVHJlbmRpbmdTZWFyY2hlcy5qc3hcIjtcbmNvbnN0IFBSRUZfU0VDVElPTlNfQ0FSRFNfRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmNhcmRzLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfVEhVTUJTX1VQX0RPV05fRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnRodW1ic1VwRG93bi5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1RPUElDU19FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNMYWJlbHMuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9UT1BJQ1NfU0VMRUNURUQgPSBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5zZWxlY3RlZFRvcGljc1wiO1xuY29uc3QgUFJFRl9UT1BJQ1NfQVZBSUxBQkxFID0gXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24udG9waWNzXCI7XG5jb25zdCBQUkVGX1NQT0NTX1NUQVJUVVBDQUNIRV9FTkFCTEVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uc3BvY3Muc3RhcnR1cENhY2hlLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfTElTVF9GRUVEX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX0xJU1RfRkVFRF9TRUxFQ1RFRF9GRUVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuc2VsZWN0ZWRGZWVkXCI7XG5jb25zdCBQUkVGX0ZBS0VTUE9UX0VOQUJMRUQgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5mYWtlc3BvdC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX0JJTExCT0FSRF9FTkFCTEVEID0gXCJuZXd0YWJBZFNpemUuYmlsbGJvYXJkXCI7XG5jb25zdCBQUkVGX0JJTExCT0FSRF9QT1NJVElPTiA9IFwibmV3dGFiQWRTaXplLmJpbGxib2FyZC5wb3NpdGlvblwiO1xuY29uc3QgUFJFRl9MRUFERVJCT0FSRF9FTkFCTEVEID0gXCJuZXd0YWJBZFNpemUubGVhZGVyYm9hcmRcIjtcbmNvbnN0IFBSRUZfTEVBREVSQk9BUkRfUE9TSVRJT04gPSBcIm5ld3RhYkFkU2l6ZS5sZWFkZXJib2FyZC5wb3NpdGlvblwiO1xuY29uc3QgUFJFRl9UUkVORElOR19TRUFSQ0ggPSBcInRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfVFJFTkRJTkdfU0VBUkNIX1NZU1RFTSA9IFwic3lzdGVtLnRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfU0VBUkNIX0VOR0lORSA9IFwidHJlbmRpbmdTZWFyY2guZGVmYXVsdFNlYXJjaEVuZ2luZVwiO1xuY29uc3QgUFJFRl9UUkVORElOR19TRUFSQ0hfVkFSSUFOVCA9IFwidHJlbmRpbmdTZWFyY2gudmFyaWFudFwiO1xuY29uc3QgV0lER0VUX0lEUyA9IHtcbiAgVE9QSUNTOiAxLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIERTU3ViSGVhZGVyKHsgY2hpbGRyZW4gfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi10b3AtYmFyIGRzLXN1Yi1oZWFkZXJcIj5cbiAgICAgIDxoMyBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlLWNvbnRhaW5lclwiPntjaGlsZHJlbn08L2gzPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG5leHBvcnQgZnVuY3Rpb24gSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoe1xuICBjaGlsZHJlbixcbiAgd2luZG93T2JqID0gd2luZG93LFxuICBvbkludGVyc2VjdGluZyxcbn0pIHtcbiAgY29uc3QgaW50ZXJzZWN0aW9uRWxlbWVudCA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBvYnNlcnZlcjtcbiAgICBpZiAoIW9ic2VydmVyICYmIG9uSW50ZXJzZWN0aW5nICYmIGludGVyc2VjdGlvbkVsZW1lbnQuY3VycmVudCkge1xuICAgICAgb2JzZXJ2ZXIgPSBuZXcgd2luZG93T2JqLkludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXMuZmluZChlID0+IGUuaXNJbnRlcnNlY3RpbmcpO1xuXG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIC8vIFN0b3Agb2JzZXJ2aW5nIHNpbmNlIGVsZW1lbnQgaGFzIGJlZW4gc2VlblxuICAgICAgICAgIGlmIChvYnNlcnZlciAmJiBpbnRlcnNlY3Rpb25FbGVtZW50LmN1cnJlbnQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShpbnRlcnNlY3Rpb25FbGVtZW50LmN1cnJlbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9uSW50ZXJzZWN0aW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShpbnRlcnNlY3Rpb25FbGVtZW50LmN1cnJlbnQpO1xuICAgIH1cbiAgICAvLyBDbGVhbnVwXG4gICAgcmV0dXJuICgpID0+IG9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gIH0sIFt3aW5kb3dPYmosIG9uSW50ZXJzZWN0aW5nXSk7XG5cbiAgcmV0dXJuIDxkaXYgcmVmPXtpbnRlcnNlY3Rpb25FbGVtZW50fT57Y2hpbGRyZW59PC9kaXY+O1xufVxuXG5leHBvcnQgY2xhc3MgX0NhcmRHcmlkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50c1xuICByZW5kZXJDYXJkcygpIHtcbiAgICBjb25zdCBwcmVmcyA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIGNvbnN0IHtcbiAgICAgIGl0ZW1zLFxuICAgICAgY3RhQnV0dG9uU3BvbnNvcnMsXG4gICAgICBjdGFCdXR0b25WYXJpYW50LFxuICAgICAgd2lkZ2V0cyxcbiAgICAgIERpc2NvdmVyeVN0cmVhbSxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHsgdG9waWNzTG9hZGluZyB9ID0gRGlzY292ZXJ5U3RyZWFtO1xuICAgIGNvbnN0IG1heUhhdmVTZWN0aW9uc0NhcmRzID0gcHJlZnNbUFJFRl9TRUNUSU9OU19DQVJEU19FTkFCTEVEXTtcbiAgICBjb25zdCBtYXlIYXZlVGh1bWJzVXBEb3duID0gcHJlZnNbUFJFRl9USFVNQlNfVVBfRE9XTl9FTkFCTEVEXTtcbiAgICBjb25zdCBzaG93VG9waWNzID0gcHJlZnNbUFJFRl9UT1BJQ1NfRU5BQkxFRF07XG4gICAgY29uc3Qgc2VsZWN0ZWRUb3BpY3MgPSBwcmVmc1tQUkVGX1RPUElDU19TRUxFQ1RFRF07XG4gICAgY29uc3QgYXZhaWxhYmxlVG9waWNzID0gcHJlZnNbUFJFRl9UT1BJQ1NfQVZBSUxBQkxFXTtcbiAgICBjb25zdCBzcG9jc1N0YXJ0dXBDYWNoZUVuYWJsZWQgPSBwcmVmc1tQUkVGX1NQT0NTX1NUQVJUVVBDQUNIRV9FTkFCTEVEXTtcbiAgICBjb25zdCBsaXN0RmVlZEVuYWJsZWQgPSBwcmVmc1tQUkVGX0xJU1RfRkVFRF9FTkFCTEVEXTtcbiAgICBjb25zdCBsaXN0RmVlZFNlbGVjdGVkRmVlZCA9IHByZWZzW1BSRUZfTElTVF9GRUVEX1NFTEVDVEVEX0ZFRURdO1xuICAgIGNvbnN0IGJpbGxib2FyZEVuYWJsZWQgPSBwcmVmc1tQUkVGX0JJTExCT0FSRF9FTkFCTEVEXTtcbiAgICBjb25zdCBsZWFkZXJib2FyZEVuYWJsZWQgPSBwcmVmc1tQUkVGX0xFQURFUkJPQVJEX0VOQUJMRURdO1xuICAgIGNvbnN0IHRyZW5kaW5nRW5hYmxlZCA9XG4gICAgICBwcmVmc1tQUkVGX1RSRU5ESU5HX1NFQVJDSF0gJiZcbiAgICAgIHByZWZzW1BSRUZfVFJFTkRJTkdfU0VBUkNIX1NZU1RFTV0gJiZcbiAgICAgIHByZWZzW1BSRUZfU0VBUkNIX0VOR0lORV0/LnRvTG93ZXJDYXNlKCkgPT09IFwiZ29vZ2xlXCI7XG4gICAgY29uc3QgdHJlbmRpbmdWYXJpYW50ID0gcHJlZnNbUFJFRl9UUkVORElOR19TRUFSQ0hfVkFSSUFOVF07XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHJlY3MgdGhhdCBzaG91bGQgYmUgaW4gTGlzdEZlZWRcbiAgICBjb25zdCByZWNzID0gdGhpcy5wcm9wcy5kYXRhLnJlY29tbWVuZGF0aW9uc1xuICAgICAgLmZpbHRlcihpdGVtID0+ICFpdGVtLmZlZWROYW1lKVxuICAgICAgLnNsaWNlKDAsIGl0ZW1zKTtcbiAgICBjb25zdCBjYXJkcyA9IFtdO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1zOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCByZWMgPSByZWNzW2luZGV4XTtcbiAgICAgIGNhcmRzLnB1c2goXG4gICAgICAgIHRvcGljc0xvYWRpbmcgfHxcbiAgICAgICAgICAhcmVjIHx8XG4gICAgICAgICAgcmVjLnBsYWNlaG9sZGVyIHx8XG4gICAgICAgICAgKHJlYy5mbGlnaHRfaWQgJiZcbiAgICAgICAgICAgICFzcG9jc1N0YXJ0dXBDYWNoZUVuYWJsZWQgJiZcbiAgICAgICAgICAgIHRoaXMucHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlLkRpc2NvdmVyeVN0cmVhbSkgPyAoXG4gICAgICAgICAgPFBsYWNlaG9sZGVyRFNDYXJkIGtleT17YGRzY2FyZC0ke2luZGV4fWB9IC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPERTQ2FyZFxuICAgICAgICAgICAga2V5PXtgZHNjYXJkLSR7cmVjLmlkfWB9XG4gICAgICAgICAgICBwb3M9e3JlYy5wb3N9XG4gICAgICAgICAgICBmbGlnaHRJZD17cmVjLmZsaWdodF9pZH1cbiAgICAgICAgICAgIGltYWdlX3NyYz17cmVjLmltYWdlX3NyY31cbiAgICAgICAgICAgIHJhd19pbWFnZV9zcmM9e3JlYy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgaWNvbl9zcmM9e3JlYy5pY29uX3NyY31cbiAgICAgICAgICAgIHdvcmRfY291bnQ9e3JlYy53b3JkX2NvdW50fVxuICAgICAgICAgICAgdGltZV90b19yZWFkPXtyZWMudGltZV90b19yZWFkfVxuICAgICAgICAgICAgdGl0bGU9e3JlYy50aXRsZX1cbiAgICAgICAgICAgIHRvcGljPXtyZWMudG9waWN9XG4gICAgICAgICAgICBmZWF0dXJlcz17cmVjLmZlYXR1cmVzfVxuICAgICAgICAgICAgc2hvd1RvcGljcz17c2hvd1RvcGljc31cbiAgICAgICAgICAgIHNlbGVjdGVkVG9waWNzPXtzZWxlY3RlZFRvcGljc31cbiAgICAgICAgICAgIGV4Y2VycHQ9e3JlYy5leGNlcnB0fVxuICAgICAgICAgICAgYXZhaWxhYmxlVG9waWNzPXthdmFpbGFibGVUb3BpY3N9XG4gICAgICAgICAgICB1cmw9e3JlYy51cmx9XG4gICAgICAgICAgICBpZD17cmVjLmlkfVxuICAgICAgICAgICAgc2hpbT17cmVjLnNoaW19XG4gICAgICAgICAgICBmZXRjaFRpbWVzdGFtcD17cmVjLmZldGNoVGltZXN0YW1wfVxuICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgICAgY29udGV4dD17cmVjLmNvbnRleHR9XG4gICAgICAgICAgICBzcG9uc29yPXtyZWMuc3BvbnNvcn1cbiAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17cmVjLnNwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgc291cmNlPXtyZWMuZG9tYWlufVxuICAgICAgICAgICAgcHVibGlzaGVyPXtyZWMucHVibGlzaGVyfVxuICAgICAgICAgICAgcG9ja2V0X2lkPXtyZWMucG9ja2V0X2lkfVxuICAgICAgICAgICAgY29udGV4dF90eXBlPXtyZWMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgYm9va21hcmtHdWlkPXtyZWMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgY3RhQnV0dG9uU3BvbnNvcnM9e2N0YUJ1dHRvblNwb25zb3JzfVxuICAgICAgICAgICAgY3RhQnV0dG9uVmFyaWFudD17Y3RhQnV0dG9uVmFyaWFudH1cbiAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkPXtyZWMucmVjb21tZW5kYXRpb25faWR9XG4gICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA9e3RoaXMucHJvcHMuZmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgICAgbWF5SGF2ZVRodW1ic1VwRG93bj17bWF5SGF2ZVRodW1ic1VwRG93bn1cbiAgICAgICAgICAgIG1heUhhdmVTZWN0aW9uc0NhcmRzPXttYXlIYXZlU2VjdGlvbnNDYXJkc31cbiAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkPXtyZWMuY29ycHVzX2l0ZW1faWR9XG4gICAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ9e3JlYy5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWR9XG4gICAgICAgICAgICByZWNvbW1lbmRlZF9hdD17cmVjLnJlY29tbWVuZGVkX2F0fVxuICAgICAgICAgICAgcmVjZWl2ZWRfcmFuaz17cmVjLnJlY2VpdmVkX3Jhbmt9XG4gICAgICAgICAgICBmb3JtYXQ9e3JlYy5mb3JtYXR9XG4gICAgICAgICAgICBhbHRfdGV4dD17cmVjLmFsdF90ZXh0fVxuICAgICAgICAgICAgaXNUaW1lU2Vuc2l0aXZlPXtyZWMuaXNUaW1lU2Vuc2l0aXZlfVxuICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHdpZGdldHM/LnBvc2l0aW9ucz8ubGVuZ3RoICYmIHdpZGdldHM/LmRhdGE/Lmxlbmd0aCkge1xuICAgICAgbGV0IHBvc2l0aW9uSW5kZXggPSAwO1xuICAgICAgY29uc3Qgc291cmNlID0gXCJDQVJER1JJRF9XSURHRVRcIjtcblxuICAgICAgZm9yIChjb25zdCB3aWRnZXQgb2Ygd2lkZ2V0cy5kYXRhKSB7XG4gICAgICAgIGxldCB3aWRnZXRDb21wb25lbnQgPSBudWxsO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHdpZGdldHMucG9zaXRpb25zW3Bvc2l0aW9uSW5kZXhdO1xuXG4gICAgICAgIC8vIFN0b3AgaWYgd2UgcnVuIG91dCBvZiBwb3NpdGlvbnMgdG8gcGxhY2Ugd2lkZ2V0cy5cbiAgICAgICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh3aWRnZXQ/LnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiVG9waWNzV2lkZ2V0XCI6XG4gICAgICAgICAgICB3aWRnZXRDb21wb25lbnQgPSAoXG4gICAgICAgICAgICAgIDxUb3BpY3NXaWRnZXRcbiAgICAgICAgICAgICAgICBwb3NpdGlvbj17cG9zaXRpb24uaW5kZXh9XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgICAgICAgICAgaWQ9e1dJREdFVF9JRFMuVE9QSUNTfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZGdldENvbXBvbmVudCkge1xuICAgICAgICAgIC8vIFdlIGZvdW5kIGEgd2lkZ2V0LCBzbyB1cCB0aGUgcG9zaXRpb24gZm9yIG5leHQgdHJ5LlxuICAgICAgICAgIHBvc2l0aW9uSW5kZXgrKztcbiAgICAgICAgICAvLyBXZSByZXBsYWNlIGFuIGV4aXN0aW5nIGNhcmQgd2l0aCB0aGUgd2lkZ2V0LlxuICAgICAgICAgIGNhcmRzLnNwbGljZShwb3NpdGlvbi5pbmRleCwgMSwgd2lkZ2V0Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGlzdEZlZWRFbmFibGVkKSB7XG4gICAgICBjb25zdCBpc0Zha2VzcG90ID0gbGlzdEZlZWRTZWxlY3RlZEZlZWQgPT09IFwiZmFrZXNwb3RcIjtcbiAgICAgIGNvbnN0IGZha2VzcG90RW5hYmxlZCA9IHByZWZzW1BSRUZfRkFLRVNQT1RfRU5BQkxFRF07XG4gICAgICBpZiAoIWlzRmFrZXNwb3QgfHwgKGlzRmFrZXNwb3QgJiYgZmFrZXNwb3RFbmFibGVkKSkge1xuICAgICAgICAvLyBQbGFjZSB0aGUgbGlzdCBmZWVkIGFzIHRoZSAzcmQgZWxlbWVudCBpbiB0aGUgY2FyZCBncmlkXG4gICAgICAgIGNhcmRzLnNwbGljZShcbiAgICAgICAgICAyLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgdGhpcy5yZW5kZXJMaXN0RmVlZChcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGF0YS5yZWNvbW1lbmRhdGlvbnMsXG4gICAgICAgICAgICBsaXN0RmVlZFNlbGVjdGVkRmVlZFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRyZW5kaW5nRW5hYmxlZCAmJiB0cmVuZGluZ1ZhcmlhbnQgPT09IFwiYlwiKSB7XG4gICAgICBjb25zdCBmaXJzdFNwb2NQb3NpdGlvbiA9IHRoaXMucHJvcHMuc3BvY1Bvc2l0aW9uc1swXT8uaW5kZXg7XG4gICAgICAvLyBkb3VibGUgY2hlY2sgdGhhdCBhIHNwb2MvbXJlYyBpcyBhY3R1YWxseSBpbiB0aGUgaW5kZXggaXQgc2hvdWxkIGJlIGluXG4gICAgICBjb25zdCBmb3JtYXQgPSBjYXJkc1tmaXJzdFNwb2NQb3NpdGlvbl0/LnByb3BzPy5mb3JtYXQ7XG4gICAgICBjb25zdCBpc1Nwb2MgPSBmb3JtYXQgPT09IFwic3BvY1wiIHx8IGZvcm1hdCA9PT0gXCJyZWN0YW5nbGVcIjtcbiAgICAgIC8vIGlmIHRoZSBzcG9jIGlzIG5vdCBpbiBpdHMgcG9zaXRpb24sIHBsYWNlIFRyZW5kaW5nU2VhcmNoZXMgaW4gdGhlIDNyZCBwb3NpdGlvblxuICAgICAgY2FyZHMuc3BsaWNlKGlzU3BvYyA/IGZpcnN0U3BvY1Bvc2l0aW9uICsgMSA6IDIsIDEsIDxUcmVuZGluZ1NlYXJjaGVzIC8+KTtcbiAgICB9XG5cbiAgICAvLyBpZiBhIGJhbm5lciBhZCBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIGFueSBhdmFpbGFibGUsIHBsYWNlIHRoZW0gaW4gdGhlIGdyaWRcbiAgICBjb25zdCB7IHNwb2NzIH0gPSB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbTtcblxuICAgIGlmIChcbiAgICAgIChiaWxsYm9hcmRFbmFibGVkIHx8IGxlYWRlcmJvYXJkRW5hYmxlZCkgJiZcbiAgICAgIHNwb2NzPy5kYXRhPy5uZXd0YWJfc3BvY3M/Lml0ZW1zXG4gICAgKSB7XG4gICAgICAvLyBPbmx5IHJlbmRlciBvbmUgQWRCYW5uZXIgaW4gdGhlIGdyaWQgLVxuICAgICAgLy8gUHJpb3JpdGl6ZSByZW5kZXJpbmcgYSBsZWFkZXJib2FyZCBpZiBpdCBleGlzdHMsXG4gICAgICAvLyBvdGhlcndpc2UgcmVuZGVyIGEgYmlsbGJvYXJkXG4gICAgICBjb25zdCBzcG9jVG9SZW5kZXIgPVxuICAgICAgICBzcG9jcy5kYXRhLm5ld3RhYl9zcG9jcy5pdGVtcy5maW5kKFxuICAgICAgICAgICh7IGZvcm1hdCB9KSA9PiBmb3JtYXQgPT09IFwibGVhZGVyYm9hcmRcIiAmJiBsZWFkZXJib2FyZEVuYWJsZWRcbiAgICAgICAgKSB8fFxuICAgICAgICBzcG9jcy5kYXRhLm5ld3RhYl9zcG9jcy5pdGVtcy5maW5kKFxuICAgICAgICAgICh7IGZvcm1hdCB9KSA9PiBmb3JtYXQgPT09IFwiYmlsbGJvYXJkXCIgJiYgYmlsbGJvYXJkRW5hYmxlZFxuICAgICAgICApO1xuXG4gICAgICBpZiAoc3BvY1RvUmVuZGVyICYmICFzcG9jcy5ibG9ja2VkLmluY2x1ZGVzKHNwb2NUb1JlbmRlci51cmwpKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9XG4gICAgICAgICAgc3BvY1RvUmVuZGVyLmZvcm1hdCA9PT0gXCJsZWFkZXJib2FyZFwiXG4gICAgICAgICAgICA/IHByZWZzW1BSRUZfTEVBREVSQk9BUkRfUE9TSVRJT05dXG4gICAgICAgICAgICA6IHByZWZzW1BSRUZfQklMTEJPQVJEX1BPU0lUSU9OXTtcblxuICAgICAgICBmdW5jdGlvbiBkaXNwbGF5Q2FyZHNQZXJSb3coKSB7XG4gICAgICAgICAgLy8gRGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIGNhcmRzIHBlciByb3cgYmFzZWQgb24gdGhlIHdpbmRvdyB3aWR0aDpcbiAgICAgICAgICAvLyB3aWR0aCA8PSAxMTIycHg6IDIgY2FyZHMgcGVyIHJvd1xuICAgICAgICAgIC8vIHdpZHRoIDExMjNweCB0byAxNjk3cHg6IDMgY2FyZHMgcGVyIHJvd1xuICAgICAgICAgIC8vIHdpZHRoID49IDE2OThweDogNCBjYXJkcyBwZXIgcm93XG4gICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDExMjIpIHtcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGggPiAxMTIyICYmIHdpbmRvdy5pbm5lcldpZHRoIDwgMTY5OCkge1xuICAgICAgICAgICAgcmV0dXJuIDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5qZWN0QWRCYW5uZXIgPSBiYW5uZXJJbmRleCA9PiB7XG4gICAgICAgICAgLy8gLnNwbGljZSgpIGluc2VydHMgdGhlIEFkQmFubmVyIGF0IHRoZSBkZXNpcmVkIGluZGV4LCBlbnN1cmluZyBjb3JyZWN0IERPTSBvcmRlciBmb3IgYWNjZXNzaWJpbGl0eSBhbmQga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICAgICAgICAvLyAucHVzaCgpIHdvdWxkIHBsYWNlIGl0IGF0IHRoZSBlbmQsIHdoaWNoIGlzIHZpc3VhbGx5IGluY29ycmVjdCBldmVuIGlmIGFkanVzdGVkIHdpdGggQ1NTLlxuICAgICAgICAgIGNhcmRzLnNwbGljZShcbiAgICAgICAgICAgIGJhbm5lckluZGV4LFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDxBZEJhbm5lclxuICAgICAgICAgICAgICBzcG9jPXtzcG9jVG9SZW5kZXJ9XG4gICAgICAgICAgICAgIGtleT17YGRzY2FyZC0ke3Nwb2NUb1JlbmRlci5pZH1gfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA9e3RoaXMucHJvcHMuZmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgICAgICByb3c9e3Jvd31cbiAgICAgICAgICAgICAgcHJlZnM9e3ByZWZzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGdldEJhbm5lckluZGV4ID0gKCkgPT4ge1xuICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgaW5kZXggZm9yIHdoZXJlIHRoZSBBZEJhbm5lciBzaG91bGQgYmUgYWRkZWQsIGRlcGVuZGluZyBvbiBudW1iZXIgb2YgY2FyZHMgcGVyIHJvdyBvbiB0aGUgZ3JpZFxuICAgICAgICAgIGNvbnN0IGNhcmRzUGVyUm93ID0gZGlzcGxheUNhcmRzUGVyUm93KCk7XG4gICAgICAgICAgbGV0IGJhbm5lckluZGV4ID0gKHJvdyAtIDEpICogY2FyZHNQZXJSb3c7XG4gICAgICAgICAgcmV0dXJuIGJhbm5lckluZGV4O1xuICAgICAgICB9O1xuXG4gICAgICAgIGluamVjdEFkQmFubmVyKGdldEJhbm5lckluZGV4KCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGdyaWRDbGFzc05hbWUgPSB0aGlzLnJlbmRlckdyaWRDbGFzc05hbWUoKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8PntjYXJkcz8ubGVuZ3RoID4gMCAmJiA8ZGl2IGNsYXNzTmFtZT17Z3JpZENsYXNzTmFtZX0+e2NhcmRzfTwvZGl2Pn08Lz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTGlzdEZlZWQocmVjb21tZW5kYXRpb25zLCBzZWxlY3RlZEZlZWQpIHtcbiAgICBjb25zdCByZWNzID0gcmVjb21tZW5kYXRpb25zLmZpbHRlcihpdGVtID0+IGl0ZW0uZmVlZE5hbWUgPT09IHNlbGVjdGVkRmVlZCk7XG4gICAgY29uc3QgaXNGYWtlc3BvdCA9IHNlbGVjdGVkRmVlZCA9PT0gXCJmYWtlc3BvdFwiO1xuICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzIGZyb20gY2F0ZWdvcnkgbGlzdFxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBbLi4ubmV3IFNldChyZWNzLm1hcCgoeyBjYXRlZ29yeSB9KSA9PiBjYXRlZ29yeSkpXTtcbiAgICBjb25zdCBsaXN0RmVlZCA9IChcbiAgICAgIDxMaXN0RmVlZFxuICAgICAgICAvLyBvbmx5IGRpc3BsYXkgcmVjcyB0aGF0IG1hdGNoIHNlbGVjdGVkRmVlZCBmb3IgTGlzdEZlZWRcbiAgICAgICAgcmVjcz17cmVjc31cbiAgICAgICAgY2F0ZWdvcmllcz17aXNGYWtlc3BvdCA/IGNhdGVnb3JpZXMgOiBbXX1cbiAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXt0aGlzLnByb3BzLmZpcnN0VmlzaWJsZVRpbWVzdGFtcH1cbiAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgIC8+XG4gICAgKTtcbiAgICByZXR1cm4gbGlzdEZlZWQ7XG4gIH1cblxuICByZW5kZXJHcmlkQ2xhc3NOYW1lKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGh5YnJpZExheW91dCxcbiAgICAgIGhpZGVDYXJkQmFja2dyb3VuZCxcbiAgICAgIGZvdXJDYXJkTGF5b3V0LFxuICAgICAgY29tcGFjdEdyaWQsXG4gICAgICBoaWRlRGVzY3JpcHRpb25zLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgaGlkZUNhcmRCYWNrZ3JvdW5kQ2xhc3MgPSBoaWRlQ2FyZEJhY2tncm91bmRcbiAgICAgID8gYGRzLWNhcmQtZ3JpZC1oaWRlLWJhY2tncm91bmRgXG4gICAgICA6IGBgO1xuICAgIGNvbnN0IGZvdXJDYXJkTGF5b3V0Q2xhc3MgPSBmb3VyQ2FyZExheW91dFxuICAgICAgPyBgZHMtY2FyZC1ncmlkLWZvdXItY2FyZC12YXJpYW50YFxuICAgICAgOiBgYDtcbiAgICBjb25zdCBoaWRlRGVzY3JpcHRpb25zQ2xhc3NOYW1lID0gIWhpZGVEZXNjcmlwdGlvbnNcbiAgICAgID8gYGRzLWNhcmQtZ3JpZC1pbmNsdWRlLWRlc2NyaXB0aW9uc2BcbiAgICAgIDogYGA7XG4gICAgY29uc3QgY29tcGFjdEdyaWRDbGFzc05hbWUgPSBjb21wYWN0R3JpZCA/IGBkcy1jYXJkLWdyaWQtY29tcGFjdGAgOiBgYDtcbiAgICBjb25zdCBoeWJyaWRMYXlvdXRDbGFzc05hbWUgPSBoeWJyaWRMYXlvdXRcbiAgICAgID8gYGRzLWNhcmQtZ3JpZC1oeWJyaWQtbGF5b3V0YFxuICAgICAgOiBgYDtcblxuICAgIGNvbnN0IGdyaWRDbGFzc05hbWUgPSBgZHMtY2FyZC1ncmlkICR7aHlicmlkTGF5b3V0Q2xhc3NOYW1lfSAke2hpZGVDYXJkQmFja2dyb3VuZENsYXNzfSAke2ZvdXJDYXJkTGF5b3V0Q2xhc3N9ICR7aGlkZURlc2NyaXB0aW9uc0NsYXNzTmFtZX0gJHtjb21wYWN0R3JpZENsYXNzTmFtZX1gO1xuICAgIHJldHVybiBncmlkQ2xhc3NOYW1lO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5wcm9wcztcblxuICAgIC8vIEhhbmRsZSBhIHJlbmRlciBiZWZvcmUgZmVlZCBoYXMgYmVlbiBmZXRjaGVkIGJ5IGRpc3BsYXlpbmcgbm90aGluZ1xuICAgIGlmICghZGF0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIGEgdXNlciBoYXMgZGlzbWlzc2VkIGFsbCByZWNvbW1lbmRhdGlvbnNcbiAgICBjb25zdCBpc0VtcHR5ID0gZGF0YS5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoID09PSAwO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHt0aGlzLnByb3BzLnRpdGxlICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPnt0aGlzLnByb3BzLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGhpcy5wcm9wcy5jb250ZXh0fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNvbnRleHRcIiAvPlxuICAgICAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHtpc0VtcHR5ID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY2FyZC1ncmlkIGVtcHR5XCI+XG4gICAgICAgICAgICA8RFNFbXB0eVN0YXRlXG4gICAgICAgICAgICAgIHN0YXR1cz17ZGF0YS5zdGF0dXN9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBmZWVkPXt0aGlzLnByb3BzLmZlZWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIHRoaXMucmVuZGVyQ2FyZHMoKVxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5fQ2FyZEdyaWQuZGVmYXVsdFByb3BzID0ge1xuICBpdGVtczogNCwgLy8gTnVtYmVyIG9mIHN0b3JpZXMgdG8gZGlzcGxheVxufTtcblxuZXhwb3J0IGNvbnN0IENhcmRHcmlkID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIEFwcDogc3RhdGUuQXBwLFxuICBEaXNjb3ZlcnlTdHJlYW06IHN0YXRlLkRpc2NvdmVyeVN0cmVhbSxcbn0pKShfQ2FyZEdyaWQpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQTExeUxpbmtCdXR0b24ocHJvcHMpIHtcbiAgLy8gZnVuY3Rpb24gZm9yIG1lcmdpbmcgY2xhc3NlcywgaWYgbmVjZXNzYXJ5XG4gIGxldCBjbGFzc05hbWUgPSBcImExMXktbGluay1idXR0b25cIjtcbiAgaWYgKHByb3BzLmNsYXNzTmFtZSkge1xuICAgIGNsYXNzTmFtZSArPSBgICR7cHJvcHMuY2xhc3NOYW1lfWA7XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiB7Li4ucHJvcHN9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEExMXlMaW5rQnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIEVycm9yQm91bmRhcnlGYWxsYmFjayBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLndpbmRvd09iaiA9IHRoaXMucHJvcHMud2luZG93T2JqIHx8IHdpbmRvdztcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaW5jZSB3ZSBvbmx5IGdldCBoZXJlIGlmIHBhcnQgb2YgdGhlIHBhZ2UgaGFzIGNyYXNoZWQsIGRvIGFcbiAgICogZm9yY2VkIHJlbG9hZCB0byBnaXZlIHVzIHRoZSBiZXN0IGNoYW5jZSBhdCByZWNvdmVyaW5nLlxuICAgKi9cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLndpbmRvd09iai5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgZGVmYXVsdENsYXNzID0gXCJhcy1lcnJvci1mYWxsYmFja1wiO1xuICAgIGxldCBjbGFzc05hbWU7XG4gICAgaWYgKFwiY2xhc3NOYW1lXCIgaW4gdGhpcy5wcm9wcykge1xuICAgICAgY2xhc3NOYW1lID0gYCR7dGhpcy5wcm9wcy5jbGFzc05hbWV9ICR7ZGVmYXVsdENsYXNzfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9IGRlZmF1bHRDbGFzcztcbiAgICB9XG5cbiAgICAvLyBcIkExMXlMaW5rQnV0dG9uXCIgdG8gZm9yY2Ugbm9ybWFsIGxpbmsgc3R5bGluZyBzdHVmZiAoZWcgY3Vyc29yIG9uIGhvdmVyKVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgPGRpdiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZXJyb3ItZmFsbGJhY2staW5mb1wiIC8+XG4gICAgICAgIDxzcGFuPlxuICAgICAgICAgIDxBMTF5TGlua0J1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsb2FkLWJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZXJyb3ItZmFsbGJhY2stcmVmcmVzaC1saW5rXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5FcnJvckJvdW5kYXJ5RmFsbGJhY2suZGVmYXVsdFByb3BzID0geyBjbGFzc05hbWU6IFwiYXMtZXJyb3ItZmFsbGJhY2tcIiB9O1xuXG5leHBvcnQgY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBoYXNFcnJvcjogZmFsc2UgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZENhdGNoKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBoYXNFcnJvcjogdHJ1ZSB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaGFzRXJyb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIHJldHVybiA8dGhpcy5wcm9wcy5GYWxsYmFja0NvbXBvbmVudCBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lfSAvPjtcbiAgfVxufVxuXG5FcnJvckJvdW5kYXJ5LmRlZmF1bHRQcm9wcyA9IHsgRmFsbGJhY2tDb21wb25lbnQ6IEVycm9yQm91bmRhcnlGYWxsYmFjayB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Vycm9yQm91bmRhcnkvRXJyb3JCb3VuZGFyeVwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuXG4vKipcbiAqIEEgc2VjdGlvbiB0aGF0IGNhbiBjb2xsYXBzZS4gQXMgb2YgYnVnIDE3MTA5MzcsIGl0IGNhbiBubyBsb25nZXIgY29sbGFwc2UuXG4gKiBTZWUgYnVnIDE3MjczNjUgZm9yIGZvbGxvdy11cCB3b3JrIHRvIHNpbXBsaWZ5IHRoaXMgY29tcG9uZW50LlxuICovXG5leHBvcnQgY2xhc3MgX0NvbGxhcHNpYmxlU2VjdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQm9keU1vdW50ID0gdGhpcy5vbkJvZHlNb3VudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51QnV0dG9uTW91c2VFbnRlciA9IHRoaXMub25NZW51QnV0dG9uTW91c2VFbnRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51QnV0dG9uTW91c2VMZWF2ZSA9IHRoaXMub25NZW51QnV0dG9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51VXBkYXRlID0gdGhpcy5vbk1lbnVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNldENvbnRleHRNZW51QnV0dG9uUmVmID0gdGhpcy5zZXRDb250ZXh0TWVudUJ1dHRvblJlZi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVG9waWNTZWxlY3Rpb25CdXR0b25DbGljayA9XG4gICAgICB0aGlzLmhhbmRsZVRvcGljU2VsZWN0aW9uQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbWVudUJ1dHRvbkhvdmVyOiBmYWxzZSxcbiAgICAgIHNob3dDb250ZXh0TWVudTogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIHNldENvbnRleHRNZW51QnV0dG9uUmVmKGVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnRleHRNZW51QnV0dG9uUmVmID0gZWxlbWVudDtcbiAgfVxuXG4gIG9uQm9keU1vdW50KG5vZGUpIHtcbiAgICB0aGlzLnNlY3Rpb25Cb2R5ID0gbm9kZTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvbk1vdXNlRW50ZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1lbnVCdXR0b25Ib3ZlcjogdHJ1ZSB9KTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvbk1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1lbnVCdXR0b25Ib3ZlcjogZmFsc2UgfSk7XG4gIH1cblxuICBvbk1lbnVVcGRhdGUoc2hvd0NvbnRleHRNZW51KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb250ZXh0TWVudSB9KTtcbiAgfVxuXG4gIGhhbmRsZVRvcGljU2VsZWN0aW9uQnV0dG9uQ2xpY2soKSB7XG4gICAgY29uc3QgbWF5YmVEaXNwbGF5ID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1xuICAgICAgICBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLm1heWJlRGlzcGxheVwiXG4gICAgICBdO1xuXG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuVE9QSUNfU0VMRUNUSU9OX1VTRVJfT1BFTiB9KSk7XG5cbiAgICBpZiAobWF5YmVEaXNwbGF5KSB7XG4gICAgICAvLyBpZiBzdGlsbCBwYXJ0IG9mIG9uYm9hcmRpbmcsIHJlbW92ZSB1c2VyIGZyb20gb25ib2FyZGluZyBmbG93XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5TZXRQcmVmKFxuICAgICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcubWF5YmVEaXNwbGF5XCIsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLkJyb2FkY2FzdFRvQ29udGVudCh7IHR5cGU6IGF0LlRPUElDX1NFTEVDVElPTl9TUE9UTElHSFRfT1BFTiB9KVxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpc0FuaW1hdGluZywgbWF4SGVpZ2h0LCBtZW51QnV0dG9uSG92ZXIsIHNob3dDb250ZXh0TWVudSB9ID1cbiAgICAgIHRoaXMuc3RhdGU7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBjb2xsYXBzZWQsXG4gICAgICB0aXRsZSxcbiAgICAgIHN1YlRpdGxlLFxuICAgICAgbWF5SGF2ZVRvcGljc1NlbGVjdGlvbixcbiAgICAgIHNlY3Rpb25zRW5hYmxlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBhY3RpdmUgPSBtZW51QnV0dG9uSG92ZXIgfHwgc2hvd0NvbnRleHRNZW51O1xuICAgIGxldCBib2R5U3R5bGU7XG4gICAgaWYgKGlzQW5pbWF0aW5nICYmICFjb2xsYXBzZWQpIHtcbiAgICAgIGJvZHlTdHlsZSA9IHsgbWF4SGVpZ2h0IH07XG4gICAgfSBlbHNlIGlmICghaXNBbmltYXRpbmcgJiYgY29sbGFwc2VkKSB7XG4gICAgICBib2R5U3R5bGUgPSB7IGRpc3BsYXk6IFwibm9uZVwiIH07XG4gICAgfVxuICAgIGxldCB0aXRsZVN0eWxlO1xuICAgIGlmICh0aGlzLnByb3BzLmhpZGVUaXRsZSkge1xuICAgICAgdGl0bGVTdHlsZSA9IHsgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiB9O1xuICAgIH1cbiAgICBjb25zdCBoYXNTdWJ0aXRsZUNsYXNzTmFtZSA9IHN1YlRpdGxlID8gYGhhcy1zdWJ0aXRsZWAgOiBgYDtcbiAgICBjb25zdCBoYXNCZWVuVXBkYXRlZFByZXZpb3VzbHkgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXG4gICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLmhhc0JlZW5VcGRhdGVkUHJldmlvdXNseVwiXG4gICAgICBdO1xuICAgIGNvbnN0IHNlbGVjdGVkVG9waWNzID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLnNlbGVjdGVkVG9waWNzXCJdO1xuICAgIGNvbnN0IHRvcGljc0hhdmVCZWVuUHJldmlvdXNseVNldCA9XG4gICAgICBoYXNCZWVuVXBkYXRlZFByZXZpb3VzbHkgfHwgc2VsZWN0ZWRUb3BpY3M7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzZWN0aW9uXG4gICAgICAgIGNsYXNzTmFtZT17YGNvbGxhcHNpYmxlLXNlY3Rpb24gJHt0aGlzLnByb3BzLmNsYXNzTmFtZX0ke1xuICAgICAgICAgIGFjdGl2ZSA/IFwiIGFjdGl2ZVwiIDogXCJcIlxuICAgICAgICB9YH1cbiAgICAgICAgLy8gTm90ZTogZGF0YS1zZWN0aW9uLWlkIGlzIHVzZWQgZm9yIHdlYiBleHRlbnNpb24gYXBpIHRlc3RzIGluIG1vemlsbGEgY2VudHJhbFxuICAgICAgICBkYXRhLXNlY3Rpb24taWQ9e2lkfVxuICAgICAgPlxuICAgICAgICB7IXNlY3Rpb25zRW5hYmxlZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLXRvcC1iYXJcIj5cbiAgICAgICAgICAgIDxoMlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BzZWN0aW9uLXRpdGxlLWNvbnRhaW5lciAke2hhc1N1YnRpdGxlQ2xhc3NOYW1lfWB9XG4gICAgICAgICAgICAgIHN0eWxlPXt0aXRsZVN0eWxlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXt0aXRsZX0gLz5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7c3ViVGl0bGUgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNlY3Rpb24tc3ViLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3N1YlRpdGxlfSAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICB7bWF5SGF2ZVRvcGljc1NlbGVjdGlvbiAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnV0dG9uLXRvcGljLXNlbGVjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e1xuICAgICAgICAgICAgICAgICAgICB0b3BpY3NIYXZlQmVlblByZXZpb3VzbHlTZXRcbiAgICAgICAgICAgICAgICAgICAgICA/IFwibmV3dGFiLXRvcGljLXNlbGVjdGlvbi1idXR0b24tdXBkYXRlLWludGVyZXN0c1wiXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIm5ld3RhYi10b3BpYy1zZWxlY3Rpb24tYnV0dG9uLXBpY2staW50ZXJlc3RzXCJcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHR5cGU9e3RvcGljc0hhdmVCZWVuUHJldmlvdXNseVNldCA/IFwiZGVmYXVsdFwiIDogXCJwcmltYXJ5XCJ9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZVRvcGljU2VsZWN0aW9uQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8RXJyb3JCb3VuZGFyeSBjbGFzc05hbWU9XCJzZWN0aW9uLWJvZHktZmFsbGJhY2tcIj5cbiAgICAgICAgICA8ZGl2IHJlZj17dGhpcy5vbkJvZHlNb3VudH0gc3R5bGU9e2JvZHlTdHlsZX0+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG4gIH1cbn1cblxuX0NvbGxhcHNpYmxlU2VjdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGRvY3VtZW50OiBnbG9iYWxUaGlzLmRvY3VtZW50IHx8IHtcbiAgICBhZGRFdmVudExpc3RlbmVyOiAoKSA9PiB7fSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiAoKSA9PiB7fSxcbiAgICB2aXNpYmlsaXR5U3RhdGU6IFwiaGlkZGVuXCIsXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgQ29sbGFwc2libGVTZWN0aW9uID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX0NvbGxhcHNpYmxlU2VjdGlvbik7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuXG5leHBvcnQgY2xhc3MgRFNNZXNzYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1tZXNzYWdlXCI+XG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5pY29uICYmIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2x5cGhcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aGlzLnByb3BzLmljb259KWAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy50aXRsZSAmJiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0aXRsZS10ZXh0XCI+XG4gICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGhpcy5wcm9wcy50aXRsZX0gLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmxpbmtfdGV4dCAmJiB0aGlzLnByb3BzLmxpbmtfdXJsICYmIChcbiAgICAgICAgICAgIDxTYWZlQW5jaG9yIGNsYXNzTmFtZT1cImxpbmtcIiB1cmw9e3RoaXMucHJvcHMubGlua191cmx9PlxuICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RoaXMucHJvcHMubGlua190ZXh0fSAvPlxuICAgICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHBzOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25UeXBlcyBhcyBhdCwgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5cbmV4cG9ydCBjb25zdCBSZXBvcnRDb250ZW50ID0gc3BvY3MgPT4ge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IG1vZGFsID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCByYWRpb0dyb3VwUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBzdWJtaXRCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHJlcG9ydCA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLkRpc2NvdmVyeVN0cmVhbS5yZXBvcnQpO1xuICBjb25zdCBbdmFsdWVTZWxlY3RlZCwgc2V0VmFsdWVTZWxlY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFJlYXNvbiwgc2V0U2VsZWN0ZWRSZWFzb25dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IHNwb2NEYXRhID0gc3BvY3Muc3BvY3MuZGF0YTtcblxuICAvLyBTZW5kcyBhIGRpc3BhdGNoIHRvIHVwZGF0ZSB0aGUgcmVkdXggc3RvcmUgd2hlbiBtb2RhbCBpcyBjYW5jZWxsZWRcbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlJFUE9SVF9DTE9TRSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY2FyZF90eXBlLFxuICAgICAgY29ycHVzX2l0ZW1faWQsXG4gICAgICBwb3NpdGlvbixcbiAgICAgIHJlcG9ydGluZ191cmwsXG4gICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICBzZWN0aW9uX3Bvc2l0aW9uLFxuICAgICAgc2VjdGlvbixcbiAgICAgIHRpdGxlLFxuICAgICAgdG9waWMsXG4gICAgICB1cmwsXG4gICAgfSA9IHJlcG9ydDtcblxuICAgIGlmIChjYXJkX3R5cGUgPT09IFwib3JnYW5pY1wiKSB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuUkVQT1JUX0NPTlRFTlRfU1VCTUlULFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNhcmRfdHlwZSxcbiAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgcmVwb3J0X3JlYXNvbjogc2VsZWN0ZWRSZWFzb24sXG4gICAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uLFxuICAgICAgICAgICAgc2VjdGlvbixcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgdG9waWMsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjYXJkX3R5cGUgPT09IFwic3BvY1wiKSB7XG4gICAgICAvLyBSZXRyaWV2ZSBwbGFjZW1lbnRfaWQgYnkgY29tcGFyaW5nIHNwb2NEYXRhIHdpdGggdGhlIGFkIHRoYXQgd2FzIHJlcG9ydGVkXG4gICAgICBjb25zdCBnZXRQbGFjZW1lbnRJZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzcG9jRGF0YSB8fCAhcmVwb3J0LnVybCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBbcGxhY2VtZW50SWQsIHNwb2NMaXN0XSBvZiBPYmplY3QuZW50cmllcyhzcG9jRGF0YSkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHNwb2Mgb2YgT2JqZWN0LnZhbHVlcyhzcG9jTGlzdCkpIHtcbiAgICAgICAgICAgIGlmIChzcG9jPy51cmwgPT09IHJlcG9ydC51cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlbWVudElkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBsYWNlbWVudF9pZCA9IGdldFBsYWNlbWVudElkKCk7XG5cbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5SRVBPUlRfQURfU1VCTUlULFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHJlcG9ydF9yZWFzb246IHNlbGVjdGVkUmVhc29uLFxuICAgICAgICAgICAgcGxhY2VtZW50X2lkLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICByZXBvcnRpbmdfdXJsLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkJMT0NLX1VSTCxcbiAgICAgICAgZGF0YTogW3sgLi4ucmVwb3J0IH1dLFxuICAgICAgfSlcbiAgICApO1xuXG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9PbmVDb250ZW50KFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogYXQuU0hPV19UT0FTVF9NRVNTQUdFLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRvYXN0SWQ6IFwicmVwb3J0U3VjY2Vzc1RvYXN0XCIsXG4gICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRcIlxuICAgICAgKVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaCwgc2VsZWN0ZWRSZWFzb24sIHJlcG9ydCwgc3BvY0RhdGFdKTtcblxuICAvLyBPcGVucyBhbmQgY2xvc2VzIHRoZSBtb2RhbCBiYXNlZCBvbiB1c2VyIGludGVyYWN0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlcG9ydC52aXNpYmxlICYmIG1vZGFsPy5jdXJyZW50KSB7XG4gICAgICBtb2RhbC5jdXJyZW50LnNob3dNb2RhbCgpO1xuXG4gICAgICAvLyBDbGVhciBhbnkgcHJldmlvdXNseSBzZWxlY3RlZCByYWRpbyBidXR0b25cbiAgICAgIGNvbnN0IHJhZGlvR3JvdXAgPSByYWRpb0dyb3VwUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAocmFkaW9Hcm91cCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFJhZGlvQnV0dG9uID1cbiAgICAgICAgICByYWRpb0dyb3VwLnF1ZXJ5U2VsZWN0b3IoXCJtb3otcmFkaW9bY2hlY2tlZF1cIik7XG4gICAgICAgIGlmIChzZWxlY3RlZFJhZGlvQnV0dG9uKSB7XG4gICAgICAgICAgc2VsZWN0ZWRSYWRpb0J1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJjaGVja2VkXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFyIG91dCB0aGUgc3RhdGVzXG4gICAgICBzZXRWYWx1ZVNlbGVjdGVkKGZhbHNlKTtcbiAgICAgIHNldFNlbGVjdGVkUmVhc29uKG51bGwpO1xuICAgIH0gZWxzZSBpZiAoIXJlcG9ydC52aXNpYmxlICYmIG1vZGFsPy5jdXJyZW50Py5vcGVuKSB7XG4gICAgICBtb2RhbC5jdXJyZW50LmNsb3NlKCk7XG4gICAgfVxuICB9LCBbcmVwb3J0LnZpc2libGVdKTtcblxuICAvLyBVcGRhdGVzIHRoZSBzdWJtaXQgYnV0dG9uJ3Mgc3RhdGUgYmFzZWQgb24gaWYgYSB2YWx1ZSBpcyBzZWxlY3RlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJhZGlvR3JvdXAgPSByYWRpb0dyb3VwUmVmLmN1cnJlbnQ7XG4gICAgY29uc3Qgc3VibWl0QnV0dG9uID0gc3VibWl0QnV0dG9uUmVmLmN1cnJlbnQ7XG5cbiAgICBjb25zdCBoYW5kbGVSYWRpb0NoYW5nZSA9IGUgPT4ge1xuICAgICAgY29uc3QgcmVhc29uVmFsdWUgPSBlPy50YXJnZXQ/LnZhbHVlO1xuXG4gICAgICBpZiAocmVhc29uVmFsdWUpIHtcbiAgICAgICAgc2V0VmFsdWVTZWxlY3RlZCh0cnVlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRSZWFzb24ocmVhc29uVmFsdWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAocmFkaW9Hcm91cCkge1xuICAgICAgcmFkaW9Hcm91cC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGhhbmRsZVJhZGlvQ2hhbmdlKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgc3VibWl0IGJ1dHRvbiBzdGF0ZSBvbiB2YWx1ZVNlbGVjdGVkIGNoYW5nZVxuICAgIGNvbnN0IHVwZGF0ZVN1Ym1pdFN0YXRlID0gKCkgPT4ge1xuICAgICAgaWYgKHZhbHVlU2VsZWN0ZWQpIHtcbiAgICAgICAgc3VibWl0QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB1cGRhdGVTdWJtaXRTdGF0ZSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChyYWRpb0dyb3VwKSB7XG4gICAgICAgIHJhZGlvR3JvdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVSYWRpb0NoYW5nZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3ZhbHVlU2VsZWN0ZWQsIHNlbGVjdGVkUmVhc29uXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGlhbG9nXG4gICAgICBjbGFzc05hbWU9XCJyZXBvcnQtY29udGVudC1mb3JtXCJcbiAgICAgIGlkPVwiZGlhbG9nLXJlcG9ydFwiXG4gICAgICByZWY9e21vZGFsfVxuICAgICAgb25DbG9zZT17KCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBhdC5SRVBPUlRfQ0xPU0UgfSl9XG4gICAgPlxuICAgICAgPGZvcm0gYWN0aW9uPVwiXCI+XG4gICAgICAgIHsvKiBzcG9jcyBhbmQgc3RvcmllcyBhcmUgZ29pbmcgdG8gaGF2ZSBkaWZmZXJlbnQgcmVwb3J0aW5nXG4gICAgICAgICAgb3B0aW9ucywgc28gcGxhY2VkIGEgY29uZGl0aW9uYWwgdG8gcmVuZGVyIHRoZSBkaWZmZXJlbnQgcmVhc29ucyAqL31cbiAgICAgICAge3JlcG9ydC5jYXJkX3R5cGUgPT09IFwic3BvY1wiID8gKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8bW96LXJhZGlvLWdyb3VwXG4gICAgICAgICAgICAgIG5hbWU9XCJyZXBvcnRcIlxuICAgICAgICAgICAgICByZWY9e3JhZGlvR3JvdXBSZWZ9XG4gICAgICAgICAgICAgIGlkPVwicmVwb3J0LWdyb3VwXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1hZHMtd2h5LXJlcG9ydGluZ1wiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlcG9ydC1hZHMtb3B0aW9uc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxtb3otcmFkaW9cbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcmVwb3J0LWFkcy1yZWFzb24tbm90LWludGVyZXN0ZWRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPVwibm90X2ludGVyZXN0ZWRcIlxuICAgICAgICAgICAgICA+PC9tb3otcmFkaW8+XG4gICAgICAgICAgICAgIDxtb3otcmFkaW9cbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcmVwb3J0LWFkcy1yZWFzb24taW5hcHByb3ByaWF0ZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9XCJpbmFwcHJvcHJpYXRlXCJcbiAgICAgICAgICAgICAgPjwvbW96LXJhZGlvPlxuICAgICAgICAgICAgICA8bW96LXJhZGlvXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1hZHMtcmVhc29uLXNlZW4taXQtdG9vLW1hbnktdGltZXNcIlxuICAgICAgICAgICAgICAgIHZhbHVlPVwic2Vlbl90b29fbWFueV90aW1lc1wiXG4gICAgICAgICAgICAgID48L21vei1yYWRpbz5cbiAgICAgICAgICAgIDwvbW96LXJhZGlvLWdyb3VwPlxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8bW96LXJhZGlvLWdyb3VwXG4gICAgICAgICAgICAgIG5hbWU9XCJyZXBvcnRcIlxuICAgICAgICAgICAgICByZWY9e3JhZGlvR3JvdXBSZWZ9XG4gICAgICAgICAgICAgIGlkPVwicmVwb3J0LWdyb3VwXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1jb250ZW50LXdoeS1yZXBvcnRpbmctdGhpc1wiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlcG9ydC1jb250ZW50LW9wdGlvbnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bW96LXJhZGlvXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1jb250ZW50LXdyb25nLWNhdGVnb3J5XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIndyb25nX2NhdGVnb3J5XCJcbiAgICAgICAgICAgICAgPjwvbW96LXJhZGlvPlxuICAgICAgICAgICAgICA8bW96LXJhZGlvXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1jb250ZW50LW91dGRhdGVkXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIm91dGRhdGVkXCJcbiAgICAgICAgICAgICAgPjwvbW96LXJhZGlvPlxuICAgICAgICAgICAgICA8bW96LXJhZGlvXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1jb250ZW50LWluYXBwcm9wcmlhdGUtb2ZmZW5zaXZlXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cImluYXBwcm9wcmlhdGVfb3Jfb2ZmZW5zaXZlXCJcbiAgICAgICAgICAgICAgPjwvbW96LXJhZGlvPlxuICAgICAgICAgICAgICA8bW96LXJhZGlvXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1jb250ZW50LXNwYW0tbWlzbGVhZGluZ1wiXG4gICAgICAgICAgICAgICAgdmFsdWU9XCJzcGFtX29yX21pc2xlYWRpbmdcIlxuICAgICAgICAgICAgICA+PC9tb3otcmFkaW8+XG4gICAgICAgICAgICA8L21vei1yYWRpby1ncm91cD5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cblxuICAgICAgICA8bW96LWJ1dHRvbi1ncm91cD5cbiAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1jYW5jZWxcIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FuY2VsLXJlcG9ydC1idG5cIlxuICAgICAgICAgID48L21vei1idXR0b24+XG5cbiAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1zdWJtaXRcIlxuICAgICAgICAgICAgcmVmPXtzdWJtaXRCdXR0b25SZWZ9XG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJtaXQtcmVwb3J0LWJ0blwiXG4gICAgICAgICAgPjwvbW96LWJ1dHRvbj5cbiAgICAgICAgPC9tb3otYnV0dG9uLWdyb3VwPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZGlhbG9nPlxuICApO1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBEU1NpZ251cCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIGxhc3RJdGVtOiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMub25NZW51QnV0dG9uVXBkYXRlID0gdGhpcy5vbk1lbnVCdXR0b25VcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51U2hvdyA9IHRoaXMub25NZW51U2hvdy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25NZW51QnV0dG9uVXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIGlmICghc2hvd0NvbnRleHRNZW51KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgbGFzdEl0ZW06IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgbmV4dEFuaW1hdGlvbkZyYW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+XG4gICAgICB0aGlzLnByb3BzLndpbmRvd09iai5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzb2x2ZSlcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgb25NZW51U2hvdygpIHtcbiAgICBsZXQgeyBsYXN0SXRlbSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAvLyBXYWl0IGZvciBuZXh0IGZyYW1lIGJlZm9yZSBjb21wdXRpbmcgc2Nyb2xsTWF4WCB0byBhbGxvdyBmbHVlbnQgbWVudSBzdHJpbmdzIHRvIGJlIHZpc2libGVcbiAgICBhd2FpdCB0aGlzLm5leHRBbmltYXRpb25GcmFtZSgpO1xuICAgIGlmICh0aGlzLnByb3BzLndpbmRvd09iai5zY3JvbGxNYXhYID4gMCkge1xuICAgICAgbGFzdEl0ZW0gPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIGxhc3RJdGVtLFxuICAgIH0pO1xuICB9XG5cbiAgb25MaW5rQ2xpY2soKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoICYmIGRhdGEgJiYgZGF0YS5zcG9jcyAmJiBkYXRhLnNwb2NzLmxlbmd0aCkge1xuICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAvLyBHcmFiIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBhcnJheSBhcyB3ZSBvbmx5IGhhdmUgMSBzcG9jIHBvc2l0aW9uLlxuICAgICAgY29uc3QgW3Nwb2NdID0gZGF0YS5zcG9jcztcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiAwLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IHNwb2MuaWQsXG4gICAgICAgICAgICAgIHBvczogMCxcbiAgICAgICAgICAgICAgLi4uKHNwb2Muc2hpbSAmJiBzcG9jLnNoaW0uY2xpY2tcbiAgICAgICAgICAgICAgICA/IHsgc2hpbTogc3BvYy5zaGltLmNsaWNrIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZGF0YSwgZGlzcGF0Y2gsIHR5cGUgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFkYXRhIHx8ICFkYXRhLnNwb2NzIHx8ICFkYXRhLnNwb2NzWzBdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gR3JhYiB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgYXJyYXkgYXMgd2Ugb25seSBoYXZlIDEgc3BvYyBwb3NpdGlvbi5cbiAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgIGNvbnN0IHsgdGl0bGUsIHVybCwgZXhjZXJwdCwgZmxpZ2h0X2lkLCBpZCwgc2hpbSB9ID0gc3BvYztcblxuICAgIGNvbnN0IFNJR05VUF9DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICAgIFwiT3BlbkluTmV3V2luZG93XCIsXG4gICAgICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgICAgIFwiU2VwYXJhdG9yXCIsXG4gICAgICBcIkJsb2NrVXJsXCIsXG4gICAgICAuLi4oZmxpZ2h0X2lkID8gW1wiU2hvd1ByaXZhY3lJbmZvXCJdIDogW10pLFxuICAgIF07XG5cbiAgICBjb25zdCBvdXRlckNsYXNzTmFtZSA9IFtcbiAgICAgIFwiZHMtc2lnbnVwXCIsXG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZSAmJiBcImFjdGl2ZVwiLFxuICAgICAgdGhpcy5zdGF0ZS5sYXN0SXRlbSAmJiBcImxhc3QtaXRlbVwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtvdXRlckNsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtc2lnbnVwLWNvbnRlbnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tc21hbGwtc3BhY2VyIGljb24tbWFpbFwiPjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIHt0aXRsZX17XCIgXCJ9XG4gICAgICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jaGV2cm9uLWxpbmtcIlxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIG9uTGlua0NsaWNrPXt0aGlzLm9uTGlua0NsaWNrfVxuICAgICAgICAgICAgICB1cmw9e3VybH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2V4Y2VycHR9XG4gICAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXtmbGlnaHRfaWR9XG4gICAgICAgICAgICByb3dzPXtbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBwb3M6IDAsXG4gICAgICAgICAgICAgICAgc2hpbTogc2hpbSAmJiBzaGltLmltcHJlc3Npb24sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgc291cmNlPXt0eXBlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8Q29udGV4dE1lbnVCdXR0b25cbiAgICAgICAgICB0b29sdGlwPXtcIm5ld3RhYi1tZW51LWNvbnRlbnQtdG9vbHRpcFwifVxuICAgICAgICAgIHRvb2x0aXBBcmdzPXt7IHRpdGxlIH19XG4gICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51QnV0dG9uVXBkYXRlfVxuICAgICAgICA+XG4gICAgICAgICAgPExpbmtNZW51XG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBpbmRleD17MH1cbiAgICAgICAgICAgIHNvdXJjZT17dHlwZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgb25TaG93PXt0aGlzLm9uTWVudVNob3d9XG4gICAgICAgICAgICBvcHRpb25zPXtTSUdOVVBfQ09OVEVYVF9NRU5VX09QVElPTlN9XG4gICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXt0cnVlfVxuICAgICAgICAgICAgdXNlckV2ZW50PXthYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnR9XG4gICAgICAgICAgICBzaXRlPXt7XG4gICAgICAgICAgICAgIHJlZmVycmVyOiBcImh0dHBzOi8vZ2V0cG9ja2V0LmNvbS9yZWNvbW1lbmRhdGlvbnNcIixcbiAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgZ3VpZDogaWQsXG4gICAgICAgICAgICAgIHNoaW0sXG4gICAgICAgICAgICAgIGZsaWdodF9pZCxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuRFNTaWdudXAuZGVmYXVsdFByb3BzID0ge1xuICB3aW5kb3dPYmo6IHdpbmRvdywgLy8gQWRkZWQgdG8gc3VwcG9ydCB1bml0IHRlc3RzXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRFNEaXNtaXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25EaXNtaXNzQ2xpY2sgPSB0aGlzLm9uRGlzbWlzc0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkhvdmVyID0gdGhpcy5vbkhvdmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vZmZIb3ZlciA9IHRoaXMub2ZmSG92ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXJpbmc6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBvbkRpc21pc3NDbGljaygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkRpc21pc3NDbGljaykge1xuICAgICAgdGhpcy5wcm9wcy5vbkRpc21pc3NDbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIG9uSG92ZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBob3ZlcmluZzogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9mZkhvdmVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaG92ZXJpbmc6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWUgPSBgZHMtZGlzbWlzc1xuICAgICAgJHt0aGlzLnN0YXRlLmhvdmVyaW5nID8gYCBob3ZlcmluZ2AgOiBgYH1cbiAgICAgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzZXMgPyBgICR7dGhpcy5wcm9wcy5leHRyYUNsYXNzZXN9YCA6IGBgfWA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZHMtZGlzbWlzcy1idXR0b25cIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNtaXNzLWJ1dHRvbi10b29sdGlwXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRGlzbWlzc0NsaWNrfVxuICAgICAgICAgIG9uTW91c2VFbnRlcj17dGhpcy5vbkhvdmVyfVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5vZmZIb3Zlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1kaXNtaXNzXCIgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IERTRGlzbWlzcyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNEaXNtaXNzL0RTRGlzbWlzc1wiO1xuaW1wb3J0IHsgRFNJbWFnZSB9IGZyb20gXCIuLi9EU0ltYWdlL0RTSW1hZ2UuanN4XCI7XG5pbXBvcnQgeyBJbXByZXNzaW9uU3RhdHMgfSBmcm9tIFwiLi4vLi4vRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzL0ltcHJlc3Npb25TdGF0c1wiO1xuaW1wb3J0IHsgTGlua01lbnVPcHRpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9saW5rLW1lbnUtb3B0aW9uc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcblxuZXhwb3J0IGNsYXNzIERTVGV4dFByb21vIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkRpc21pc3NDbGljayA9IHRoaXMub25EaXNtaXNzQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCAmJiBkYXRhICYmIGRhdGEuc3BvY3MgJiYgZGF0YS5zcG9jcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgLy8gR3JhYiB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgYXJyYXkgYXMgd2Ugb25seSBoYXZlIDEgc3BvYyBwb3NpdGlvbi5cbiAgICAgIGNvbnN0IFtzcG9jXSA9IGRhdGEuc3BvY3M7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogMCxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgIHRpbGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBzcG9jLmlkLFxuICAgICAgICAgICAgICBwb3M6IDAsXG4gICAgICAgICAgICAgIC4uLihzcG9jLnNoaW0gJiYgc3BvYy5zaGltLmNsaWNrXG4gICAgICAgICAgICAgICAgPyB7IHNoaW06IHNwb2Muc2hpbS5jbGljayB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uRGlzbWlzc0NsaWNrKCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCAmJiBkYXRhICYmIGRhdGEuc3BvY3MgJiYgZGF0YS5zcG9jcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gMDtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgLy8gR3JhYiB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgYXJyYXkgYXMgd2Ugb25seSBoYXZlIDEgc3BvYyBwb3NpdGlvbi5cbiAgICAgIGNvbnN0IFtzcG9jXSA9IGRhdGEuc3BvY3M7XG4gICAgICBjb25zdCBzcG9jRGF0YSA9IHtcbiAgICAgICAgdXJsOiBzcG9jLnVybCxcbiAgICAgICAgZ3VpZDogc3BvYy5pZCxcbiAgICAgICAgc2hpbTogc3BvYy5zaGltLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGJsb2NrVXJsT3B0aW9uID0gTGlua01lbnVPcHRpb25zLkJsb2NrVXJsKHNwb2NEYXRhLCBpbmRleCwgc291cmNlKTtcblxuICAgICAgY29uc3QgeyBhY3Rpb24sIGltcHJlc3Npb24sIHVzZXJFdmVudCB9ID0gYmxvY2tVcmxPcHRpb247XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IHVzZXJFdmVudCxcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBpZiAoaW1wcmVzc2lvbikge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGltcHJlc3Npb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFkYXRhIHx8ICFkYXRhLnNwb2NzIHx8ICFkYXRhLnNwb2NzWzBdKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gR3JhYiB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgYXJyYXkgYXMgd2Ugb25seSBoYXZlIDEgc3BvYyBwb3NpdGlvbi5cbiAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgIGNvbnN0IHtcbiAgICAgIGltYWdlX3NyYyxcbiAgICAgIHJhd19pbWFnZV9zcmMsXG4gICAgICBhbHRfdGV4dCxcbiAgICAgIHRpdGxlLFxuICAgICAgdXJsLFxuICAgICAgY29udGV4dCxcbiAgICAgIGN0YSxcbiAgICAgIGZsaWdodF9pZCxcbiAgICAgIGlkLFxuICAgICAgc2hpbSxcbiAgICB9ID0gc3BvYztcblxuICAgIHJldHVybiAoXG4gICAgICA8RFNEaXNtaXNzXG4gICAgICAgIG9uRGlzbWlzc0NsaWNrPXt0aGlzLm9uRGlzbWlzc0NsaWNrfVxuICAgICAgICBleHRyYUNsYXNzZXM9e2Bkcy1kaXNtaXNzLWRzLXRleHQtcHJvbW9gfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXRleHQtcHJvbW9cIj5cbiAgICAgICAgICA8RFNJbWFnZVxuICAgICAgICAgICAgYWx0X3RleHQ9e2FsdF90ZXh0fVxuICAgICAgICAgICAgc291cmNlPXtpbWFnZV9zcmN9XG4gICAgICAgICAgICByYXdTb3VyY2U9e3Jhd19pbWFnZV9zcmN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHRcIj5cbiAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAge2Ake3RpdGxlfVxcdTIwMDNgfVxuICAgICAgICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWNoZXZyb24tbGlua1wiXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgb25MaW5rQ2xpY2s9e3RoaXMub25MaW5rQ2xpY2t9XG4gICAgICAgICAgICAgICAgdXJsPXt1cmx9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y3RhfVxuICAgICAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwic3VidGl0bGVcIj57Y29udGV4dH08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgICAgZmxpZ2h0SWQ9e2ZsaWdodF9pZH1cbiAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHBvczogMCxcbiAgICAgICAgICAgICAgICBzaGltOiBzaGltICYmIHNoaW0uaW1wcmVzc2lvbixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy50eXBlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9EU0Rpc21pc3M+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLyoqXG4gKiBMaXN0IG9mIGhlbHBlciBmdW5jdGlvbnMgZm9yIHNjcmVlbnNob3QtYmFzZWQgaW1hZ2VzLlxuICpcbiAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgaW1hZ2VzOlxuICogMS4gUmVtb3RlIEltYWdlOiBUaGlzIGlzIHRoZSBpbWFnZSBmcm9tIHRoZSBtYWluIHByb2Nlc3MgYW5kIGl0IHJlZmVycyB0b1xuICogICAgdGhlIGltYWdlIGluIHRoZSBSZWFjdCBwcm9wcy4gVGhpcyBjYW4gZWl0aGVyIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBgZGF0YWBcbiAqICAgIGFuZCBgcGF0aGAgcHJvcGVydGllcywgaWYgaXQgaXMgYSBibG9iLCBvciBhIHN0cmluZywgaWYgaXQgaXMgYSBub3JtYWwgaW1hZ2UuXG4gKiAyLiBMb2NhbCBJbWFnZTogVGhpcyBpcyB0aGUgaW1hZ2Ugb2JqZWN0IGluIHRoZSBjb250ZW50IHByb2Nlc3MgYW5kIGl0IHJlZmVyc1xuICogICAgdG8gdGhlIGltYWdlICpvYmplY3QqIGluIHRoZSBSZWFjdCBjb21wb25lbnQncyBzdGF0ZS4gQWxsIGxvY2FsIGltYWdlXG4gKiAgICBvYmplY3RzIGhhdmUgdGhlIGB1cmxgIHByb3BlcnR5LCBhbmQgYW4gYWRkaXRpb25hbCBwcm9wZXJ0eSBgcGF0aGAsIGlmIHRoZXlcbiAqICAgIGFyZSBibG9icy5cbiAqL1xuZXhwb3J0IGNvbnN0IFNjcmVlbnNob3RVdGlscyA9IHtcbiAgaXNCbG9iKGlzTG9jYWwsIGltYWdlKSB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgaW1hZ2UgJiZcbiAgICAgIGltYWdlLnBhdGggJiZcbiAgICAgICgoIWlzTG9jYWwgJiYgaW1hZ2UuZGF0YSkgfHwgKGlzTG9jYWwgJiYgaW1hZ2UudXJsKSlcbiAgICApO1xuICB9LFxuXG4gIC8vIFRoaXMgc2hvdWxkIGFsd2F5cyBiZSBjYWxsZWQgd2l0aCBhIHJlbW90ZSBpbWFnZSBhbmQgbm90IGEgbG9jYWwgaW1hZ2UuXG4gIGNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QocmVtb3RlSW1hZ2UpIHtcbiAgICBpZiAoIXJlbW90ZUltYWdlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNCbG9iKGZhbHNlLCByZW1vdGVJbWFnZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybDogZ2xvYmFsVGhpcy5VUkwuY3JlYXRlT2JqZWN0VVJMKHJlbW90ZUltYWdlLmRhdGEpLFxuICAgICAgICBwYXRoOiByZW1vdGVJbWFnZS5wYXRoLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdXJsOiByZW1vdGVJbWFnZSB9O1xuICB9LFxuXG4gIC8vIFJldm9rZXMgdGhlIG9iamVjdCBVUkwgb2YgdGhlIGltYWdlIGlmIHRoZSBsb2NhbCBpbWFnZSBpcyBhIGJsb2IuXG4gIC8vIFRoaXMgc2hvdWxkIGFsd2F5cyBiZSBjYWxsZWQgd2l0aCBhIGxvY2FsIGltYWdlIGFuZCBub3QgYSByZW1vdGUgaW1hZ2UuXG4gIG1heWJlUmV2b2tlQmxvYk9iamVjdFVSTChsb2NhbEltYWdlKSB7XG4gICAgaWYgKHRoaXMuaXNCbG9iKHRydWUsIGxvY2FsSW1hZ2UpKSB7XG4gICAgICBnbG9iYWxUaGlzLlVSTC5yZXZva2VPYmplY3RVUkwobG9jYWxJbWFnZS51cmwpO1xuICAgIH1cbiAgfSxcblxuICAvLyBDaGVja3MgaWYgcmVtb3RlSW1hZ2UgYW5kIGxvY2FsSW1hZ2UgYXJlIHRoZSBzYW1lLlxuICBpc1JlbW90ZUltYWdlTG9jYWwobG9jYWxJbWFnZSwgcmVtb3RlSW1hZ2UpIHtcbiAgICAvLyBCb3RoIHJlbW90ZUltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSBwcmVzZW50LlxuICAgIGlmIChyZW1vdGVJbWFnZSAmJiBsb2NhbEltYWdlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0Jsb2IoZmFsc2UsIHJlbW90ZUltYWdlKVxuICAgICAgICA/IGxvY2FsSW1hZ2UucGF0aCA9PT0gcmVtb3RlSW1hZ2UucGF0aFxuICAgICAgICA6IGxvY2FsSW1hZ2UudXJsID09PSByZW1vdGVJbWFnZTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHdpbGwgb25seSBoYW5kbGUgdGhlIHJlbWFpbmluZyB0aHJlZSBwb3NzaWJsZSBvdXRjb21lcy5cbiAgICAvLyAoaS5lLiBldmVyeXRoaW5nIGV4Y2VwdCB3aGVuIGJvdGggaW1hZ2UgYW5kIGxvY2FsSW1hZ2UgYXJlIHByZXNlbnQpXG4gICAgcmV0dXJuICFyZW1vdGVJbWFnZSAmJiAhbG9jYWxJbWFnZTtcbiAgfSxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBjYXJkQ29udGV4dFR5cGVzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IENvbnRleHRNZW51QnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b25cIjtcbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNjcmVlbnNob3RVdGlscyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlsc1wiO1xuXG4vLyBLZWVwIHRyYWNrIG9mIHBlbmRpbmcgaW1hZ2UgbG9hZHMgdG8gb25seSByZXF1ZXN0IG9uY2VcbmNvbnN0IGdJbWFnZUxvYWRpbmcgPSBuZXcgTWFwKCk7XG5cbi8qKlxuICogQ2FyZCBjb21wb25lbnQuXG4gKiBDYXJkcyBhcmUgZm91bmQgd2l0aGluIGEgU2VjdGlvbiBjb21wb25lbnQgYW5kIGNvbnRhaW4gaW5mb3JtYXRpb24gYWJvdXQgYSBsaW5rIHN1Y2hcbiAqIGFzIHByZXZpZXcgaW1hZ2UsIHBhZ2UgdGl0bGUsIHBhZ2UgZGVzY3JpcHRpb24sIGFuZCBzb21lIGNvbnRleHQgYWJvdXQgaWYgdGhlIHBhZ2VcbiAqIHdhcyB2aXNpdGVkLCBib29rbWFya2VkLCB0cmVuZGluZyBldGMuLi5cbiAqIEVhY2ggU2VjdGlvbiBjYW4gbWFrZSBhbiB1bm9yZGVyZWQgbGlzdCBvZiBDYXJkcyB3aGljaCB3aWxsIGNyZWF0ZSBvbmUgaW5zdGFuZSBvZlxuICogdGhpcyBjbGFzcy4gRWFjaCBjYXJkIHdpbGwgdGhlbiBnZXQgYSBjb250ZXh0IG1lbnUgd2hpY2ggcmVmbGVjdHMgdGhlIGFjdGlvbnMgdGhhdFxuICogY2FuIGJlIGRvbmUgb24gdGhpcyBDYXJkLlxuICovXG5leHBvcnQgY2xhc3MgX0NhcmQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFjdGl2ZUNhcmQ6IG51bGwsXG4gICAgICBpbWFnZUxvYWRlZDogZmFsc2UsXG4gICAgICBjYXJkSW1hZ2U6IG51bGwsXG4gICAgfTtcbiAgICB0aGlzLm9uTWVudUJ1dHRvblVwZGF0ZSA9IHRoaXMub25NZW51QnV0dG9uVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gY29uZGl0aW9uYWxseSBsb2FkIGFuIGltYWdlIGFuZCB1cGRhdGUgc3RhdGUgd2hlbiBpdCBsb2Fkcy5cbiAgICovXG4gIGFzeW5jIG1heWJlTG9hZEltYWdlKCkge1xuICAgIC8vIE5vIG5lZWQgdG8gbG9hZCBpZiBpdCdzIGFscmVhZHkgbG9hZGVkIG9yIG5vIGltYWdlXG4gICAgY29uc3QgeyBjYXJkSW1hZ2UgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKCFjYXJkSW1hZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZVVybCA9IGNhcmRJbWFnZS51cmw7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmltYWdlTG9hZGVkKSB7XG4gICAgICAvLyBJbml0aWFsaXplIGEgcHJvbWlzZSB0byBzaGFyZSBhIGxvYWQgYWNyb3NzIG11bHRpcGxlIGNhcmQgdXBkYXRlc1xuICAgICAgaWYgKCFnSW1hZ2VMb2FkaW5nLmhhcyhpbWFnZVVybCkpIHtcbiAgICAgICAgY29uc3QgbG9hZGVyUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCBsb2FkZXIgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICBsb2FkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgcmVzb2x2ZSk7XG4gICAgICAgICAgbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCByZWplY3QpO1xuICAgICAgICAgIGxvYWRlci5zcmMgPSBpbWFnZVVybDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2F2ZSBhbmQgcmVtb3ZlIHRoZSBwcm9taXNlIG9ubHkgd2hpbGUgaXQncyBwZW5kaW5nXG4gICAgICAgIGdJbWFnZUxvYWRpbmcuc2V0KGltYWdlVXJsLCBsb2FkZXJQcm9taXNlKTtcbiAgICAgICAgbG9hZGVyUHJvbWlzZVxuICAgICAgICAgIC5jYXRjaChleCA9PiBleClcbiAgICAgICAgICAudGhlbigoKSA9PiBnSW1hZ2VMb2FkaW5nLmRlbGV0ZShpbWFnZVVybCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBXYWl0IGZvciB0aGUgaW1hZ2Ugd2hldGhlciBqdXN0IHN0YXJ0ZWQgbG9hZGluZyBvciByZXVzZWQgcHJvbWlzZVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZ0ltYWdlTG9hZGluZy5nZXQoaW1hZ2VVcmwpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmYWlsZWQgaW1hZ2Ugd2l0aG91dCBjaGFuZ2luZyBzdGF0ZVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIE9ubHkgdXBkYXRlIHN0YXRlIGlmIHdlJ3JlIHN0aWxsIHdhaXRpbmcgdG8gbG9hZCB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAgICAgIGlmIChcbiAgICAgICAgU2NyZWVuc2hvdFV0aWxzLmlzUmVtb3RlSW1hZ2VMb2NhbChcbiAgICAgICAgICB0aGlzLnN0YXRlLmNhcmRJbWFnZSxcbiAgICAgICAgICB0aGlzLnByb3BzLmxpbmsuaW1hZ2VcbiAgICAgICAgKSAmJlxuICAgICAgICAhdGhpcy5zdGF0ZS5pbWFnZUxvYWRlZFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbWFnZUxvYWRlZDogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIG9idGFpbiB0aGUgbmV4dCBzdGF0ZSBiYXNlZCBvbiBuZXh0UHJvcHMgYW5kIHByZXZTdGF0ZS5cbiAgICpcbiAgICogTk9URTogUmVuYW1lIHRoaXMgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB3aGVuIHdlIHVwZGF0ZSBSZWFjdFxuICAgKiAgICAgICB0byA+PSAxNi4zLiBXZSB3aWxsIG5lZWQgdG8gdXBkYXRlIHRlc3RzIGFzIHdlbGwuIFdlIGNhbm5vdCByZW5hbWUgdGhpc1xuICAgKiAgICAgICBtZXRob2QgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIG5vdyBiZWNhdXNlIHRoZXJlIGlzIGEgbWlzbWF0Y2ggaW5cbiAgICogICAgICAgdGhlIFJlYWN0IHZlcnNpb24gdGhhdCB3ZSBhcmUgdXNpbmcgZm9yIGJvdGggdGVzdGluZyBhbmQgcHJvZHVjdGlvbi5cbiAgICogICAgICAgKGkuZS4gcmVhY3QtdGVzdC1yZW5kZXIgPT4gXCIxNi4zLjJcIiwgcmVhY3QgPT4gXCIxNi4yLjBcIikuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWlyYm5iL2VuenltZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9lbnp5bWUtYWRhcHRlci1yZWFjdC0xNi9wYWNrYWdlLmpzb24jTDQzLlxuICAgKi9cbiAgc3RhdGljIGdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGNvbnN0IHsgaW1hZ2UgfSA9IG5leHRQcm9wcy5saW5rO1xuICAgIGNvbnN0IGltYWdlSW5TdGF0ZSA9IFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICBwcmV2U3RhdGUuY2FyZEltYWdlLFxuICAgICAgaW1hZ2VcbiAgICApO1xuICAgIGxldCBuZXh0U3RhdGUgPSBudWxsO1xuXG4gICAgLy8gSW1hZ2UgaXMgdXBkYXRpbmcuXG4gICAgaWYgKCFpbWFnZUluU3RhdGUgJiYgbmV4dFByb3BzLmxpbmspIHtcbiAgICAgIG5leHRTdGF0ZSA9IHsgaW1hZ2VMb2FkZWQ6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgaWYgKGltYWdlSW5TdGF0ZSkge1xuICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICB9XG5cbiAgICAvLyBTaW5jZSBpbWFnZSB3YXMgdXBkYXRlZCwgYXR0ZW1wdCB0byByZXZva2Ugb2xkIGltYWdlIGJsb2IgVVJMLCBpZiBpdCBleGlzdHMuXG4gICAgU2NyZWVuc2hvdFV0aWxzLm1heWJlUmV2b2tlQmxvYk9iamVjdFVSTChwcmV2U3RhdGUuY2FyZEltYWdlKTtcblxuICAgIG5leHRTdGF0ZSA9IG5leHRTdGF0ZSB8fCB7fTtcbiAgICBuZXh0U3RhdGUuY2FyZEltYWdlID0gU2NyZWVuc2hvdFV0aWxzLmNyZWF0ZUxvY2FsSW1hZ2VPYmplY3QoaW1hZ2UpO1xuXG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvblVwZGF0ZShpc09wZW4pIHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlQ2FyZDogdGhpcy5wcm9wcy5pbmRleCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUNhcmQ6IG51bGwgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcG9ydCB0byB0ZWxlbWV0cnkgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaXRlbS5cbiAgICovXG4gIF9nZXRUZWxlbWV0cnlJbmZvKCkge1xuICAgIC8vIEZpbHRlciBvdXQgXCJoaXN0b3J5XCIgdHlwZSBmb3IgYmVpbmcgdGhlIGRlZmF1bHRcbiAgICBpZiAodGhpcy5wcm9wcy5saW5rLnR5cGUgIT09IFwiaGlzdG9yeVwiKSB7XG4gICAgICByZXR1cm4geyB2YWx1ZTogeyBjYXJkX3R5cGU6IHRoaXMucHJvcHMubGluay50eXBlIH0gfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XG4gICAgaWYgKHRoaXMucHJvcHMubGluay50eXBlID09PSBcImRvd25sb2FkXCIpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk9QRU5fRE9XTkxPQURfRklMRSxcbiAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHRoaXMucHJvcHMubGluaywge1xuICAgICAgICAgICAgZXZlbnQ6IHsgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5saW5rLCB7XG4gICAgICAgICAgICBldmVudDogeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmlzV2ViRXh0ZW5zaW9uKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5XZWJFeHRFdmVudChhdC5XRUJFWFRfQ0xJQ0ssIHtcbiAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgdXJsOiB0aGlzLnByb3BzLmxpbmsudXJsLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudChcbiAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLnNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHMpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgICB0aWxlczogW3sgaWQ6IHRoaXMucHJvcHMubGluay5ndWlkLCBwb3M6IHRoaXMucHJvcHMuaW5kZXggfV0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLm1heWJlTG9hZEltYWdlKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5tYXliZUxvYWRJbWFnZSgpO1xuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gX0NhcmQuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBOT1RFOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIHVwZGF0ZSBSZWFjdCB0byA+PSAxNi4zIHNpbmNlIFJlYWN0IHdpbGxcbiAgLy8gICAgICAgY2FsbCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgYXV0b21hdGljYWxseS4gV2Ugd2lsbCBhbHNvIG5lZWQgdG9cbiAgLy8gICAgICAgcmVuYW1lIGdldE5leHRTdGF0ZUZyb21Qcm9wcyB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gX0NhcmQuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgdGhpcy5zdGF0ZSk7XG4gICAgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwodGhpcy5zdGF0ZS5jYXJkSW1hZ2UpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGluZGV4LFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgbGluayxcbiAgICAgIGRpc3BhdGNoLFxuICAgICAgY29udGV4dE1lbnVPcHRpb25zLFxuICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgdGl0bGUgPSBsaW5rLnRpdGxlIHx8IGxpbmsuaG9zdG5hbWU7XG4gICAgY29uc3QgaXNDb250ZXh0TWVudU9wZW4gPSB0aGlzLnN0YXRlLmFjdGl2ZUNhcmQgPT09IGluZGV4O1xuICAgIC8vIERpc3BsYXkgXCJub3dcIiBhcyBcInRyZW5kaW5nXCIgdW50aWwgd2UgaGF2ZSBuZXcgc3RyaW5ncyAjMzQwMlxuICAgIGNvbnN0IHsgaWNvbiwgZmx1ZW50SUQgfSA9XG4gICAgICBjYXJkQ29udGV4dFR5cGVzW2xpbmsudHlwZSA9PT0gXCJub3dcIiA/IFwidHJlbmRpbmdcIiA6IGxpbmsudHlwZV0gfHwge307XG4gICAgY29uc3QgaGFzSW1hZ2UgPSB0aGlzLnN0YXRlLmNhcmRJbWFnZSB8fCBsaW5rLmhhc0ltYWdlO1xuICAgIGNvbnN0IGltYWdlU3R5bGUgPSB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2U6IHRoaXMuc3RhdGUuY2FyZEltYWdlXG4gICAgICAgID8gYHVybCgke3RoaXMuc3RhdGUuY2FyZEltYWdlLnVybH0pYFxuICAgICAgICA6IFwibm9uZVwiLFxuICAgIH07XG4gICAgY29uc3Qgb3V0ZXJDbGFzc05hbWUgPSBbXG4gICAgICBcImNhcmQtb3V0ZXJcIixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGlzQ29udGV4dE1lbnVPcGVuICYmIFwiYWN0aXZlXCIsXG4gICAgICBwcm9wcy5wbGFjZWhvbGRlciAmJiBcInBsYWNlaG9sZGVyXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIGNsYXNzTmFtZT17b3V0ZXJDbGFzc05hbWV9PlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e2xpbmsudHlwZSA9PT0gXCJwb2NrZXRcIiA/IGxpbmsub3Blbl91cmwgOiBsaW5rLnVybH1cbiAgICAgICAgICBvbkNsaWNrPXshcHJvcHMucGxhY2Vob2xkZXIgPyB0aGlzLm9uTGlua0NsaWNrIDogdW5kZWZpbmVkfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcHJldmlldy1pbWFnZS1vdXRlclwiPlxuICAgICAgICAgICAgICB7aGFzSW1hZ2UgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGNhcmQtcHJldmlldy1pbWFnZSR7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaW1hZ2VMb2FkZWQgPyBcIiBsb2FkZWRcIiA6IFwiXCJcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e2ltYWdlU3R5bGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWRldGFpbHNcIj5cbiAgICAgICAgICAgICAge2xpbmsudHlwZSA9PT0gXCJkb3dubG9hZFwiICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYXJkLWhvc3QtbmFtZSBhbHRlcm5hdGVcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLW1lbnUtb3Blbi1maWxlXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bGluay5ob3N0bmFtZSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhvc3QtbmFtZVwiPlxuICAgICAgICAgICAgICAgICAge2xpbmsuaG9zdG5hbWUuc2xpY2UoMCwgMTAwKX1cbiAgICAgICAgICAgICAgICAgIHtsaW5rLnR5cGUgPT09IFwiZG93bmxvYWRcIiAmJiBgICBcXHUyMDE0ICR7bGluay5kZXNjcmlwdGlvbn1gfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtbXG4gICAgICAgICAgICAgICAgICBcImNhcmQtdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgaWNvbiA/IFwiXCIgOiBcIm5vLWNvbnRleHRcIixcbiAgICAgICAgICAgICAgICAgIGxpbmsuZGVzY3JpcHRpb24gPyBcIlwiIDogXCJuby1kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICAgICAgbGluay5ob3N0bmFtZSA/IFwiXCIgOiBcIm5vLWhvc3QtbmFtZVwiLFxuICAgICAgICAgICAgICAgIF0uam9pbihcIiBcIil9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiIGRpcj1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIHtsaW5rLnRpdGxlfVxuICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1kZXNjcmlwdGlvblwiIGRpcj1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICAgIHtsaW5rLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZXh0XCI+XG4gICAgICAgICAgICAgICAge2ljb24gJiYgIWxpbmsuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGNhcmQtY29udGV4dC1pY29uIGljb24gaWNvbi0ke2ljb259YH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bGluay5pY29uICYmIGxpbmsuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhcmQtY29udGV4dC1pY29uIGljb25cIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJyR7bGluay5pY29ufScpYCB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtmbHVlbnRJRCAmJiAhbGluay5jb250ZXh0ICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZXh0LWxhYmVsXCIgZGF0YS1sMTBuLWlkPXtmbHVlbnRJRH0gLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWNvbnRleHQtbGFiZWxcIj57bGluay5jb250ZXh0fTwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvYT5cbiAgICAgICAgeyFwcm9wcy5wbGFjZWhvbGRlciAmJiAoXG4gICAgICAgICAgPENvbnRleHRNZW51QnV0dG9uXG4gICAgICAgICAgICB0b29sdGlwPVwibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJcbiAgICAgICAgICAgIHRvb2x0aXBBcmdzPXt7IHRpdGxlIH19XG4gICAgICAgICAgICBvblVwZGF0ZT17dGhpcy5vbk1lbnVCdXR0b25VcGRhdGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExpbmtNZW51XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgICBzb3VyY2U9e2V2ZW50U291cmNlfVxuICAgICAgICAgICAgICBvcHRpb25zPXtsaW5rLmNvbnRleHRNZW51T3B0aW9ucyB8fCBjb250ZXh0TWVudU9wdGlvbnN9XG4gICAgICAgICAgICAgIHNpdGU9e2xpbmt9XG4gICAgICAgICAgICAgIHNpdGVJbmZvPXt0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKCl9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3Nob3VsZFNlbmRJbXByZXNzaW9uU3RhdHN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgICl9XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cbl9DYXJkLmRlZmF1bHRQcm9wcyA9IHsgbGluazoge30gfTtcbmV4cG9ydCBjb25zdCBDYXJkID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBwbGF0Zm9ybTogc3RhdGUuUHJlZnMudmFsdWVzLnBsYXRmb3JtLFxufSkpKF9DYXJkKTtcbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlckNhcmQgPSBwcm9wcyA9PiAoXG4gIDxDYXJkIHBsYWNlaG9sZGVyPXt0cnVlfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0gLz5cbik7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5sZXQgdXNhYmxlUGVyZk9iaiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9QZXJmU2VydmljZShvcHRpb25zKSB7XG4gIC8vIEZvciB0ZXN0aW5nLCBzbyB0aGF0IHdlIGNhbiB1c2UgYSBmYWtlIFdpbmRvdy5wZXJmb3JtYW5jZSBvYmplY3Qgd2l0aFxuICAvLyBrbm93biBzdGF0ZS5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wZXJmb3JtYW5jZU9iaikge1xuICAgIHRoaXMuX3BlcmYgPSBvcHRpb25zLnBlcmZvcm1hbmNlT2JqO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX3BlcmYgPSB1c2FibGVQZXJmT2JqO1xuICB9XG59XG5cbl9QZXJmU2VydmljZS5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBDYWxscyB0aGUgdW5kZXJseWluZyBtYXJrKCkgbWV0aG9kIG9uIHRoZSBhcHByb3ByaWF0ZSBXaW5kb3cucGVyZm9ybWFuY2VcbiAgICogb2JqZWN0IHRvIGFkZCBhIG1hcmsgd2l0aCB0aGUgZ2l2ZW4gbmFtZSB0byB0aGUgYXBwcm9wcmlhdGUgcGVyZm9ybWFuY2VcbiAgICogdGltZWxpbmUuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZSAgdGhlIG5hbWUgdG8gZ2l2ZSB0aGUgY3VycmVudCBtYXJrXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBtYXJrOiBmdW5jdGlvbiBtYXJrKHN0cikge1xuICAgIHRoaXMuX3BlcmYubWFyayhzdHIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxscyB0aGUgdW5kZXJseWluZyBnZXRFbnRyaWVzQnlOYW1lIG9uIHRoZSBhcHByb3ByaWF0ZSBXaW5kb3cucGVyZm9ybWFuY2VcbiAgICogb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlIGVnIFwibWFya1wiXG4gICAqIEByZXR1cm4ge0FycmF5fSAgICAgICBQZXJmb3JtYW5jZSogb2JqZWN0c1xuICAgKi9cbiAgZ2V0RW50cmllc0J5TmFtZTogZnVuY3Rpb24gZ2V0RW50cmllc0J5TmFtZShlbnRyeU5hbWUsIHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5fcGVyZi5nZXRFbnRyaWVzQnlOYW1lKGVudHJ5TmFtZSwgdHlwZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lT3JpZ2luIHByb3BlcnR5IGZyb20gdGhlIGFwcHJvcHJpYXRlIHBlcmZvcm1hbmNlIG9iamVjdC5cbiAgICogVXNlZCB0byBlbnN1cmUgdGhhdCB0aW1lc3RhbXBzIGZyb20gdGhlIGFkZC1vbiBjb2RlIGFuZCB0aGUgY29udGVudCBjb2RlXG4gICAqIGFyZSBjb21wYXJhYmxlLlxuICAgKlxuICAgKiBAbm90ZSBJZiB0aGlzIGlzIGNhbGxlZCBmcm9tIGEgY29udGV4dCB3aXRob3V0IGEgd2luZG93XG4gICAqIChlZyBhIEpTTSBpbiBjaHJvbWUpLCBpdCB3aWxsIHJldHVybiB0aGUgdGltZU9yaWdpbiBvZiB0aGUgWFVMIGhpZGRlblxuICAgKiB3aW5kb3csIHdoaWNoIGFwcGVhcnMgdG8gYmUgdGhlIGZpcnN0IGNyZWF0ZWQgd2luZG93IChhbmQgdGh1c1xuICAgKiB0aW1lT3JpZ2luKSBpbiB0aGUgYnJvd3Nlci4gIE5vdGUgYWxzbywgaG93ZXZlciwgdGhlcmUgaXMgYWxzbyBhIHByaXZhdGVcbiAgICogaGlkZGVuIHdpbmRvdywgcHJlc3VtYWJseSBmb3IgcHJpdmF0ZSBicm93c2luZywgd2hpY2ggYXBwZWFycyB0byBiZVxuICAgKiBjcmVhdGVkIGR5bmFtaWNhbGx5IGxhdGVyLiAgRXhhY3RseSBob3cvd2hlbiB0aGF0IHNob3dzIHVwIG5lZWRzIHRvIGJlXG4gICAqIGludmVzdGlnYXRlZC5cbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBIGRvdWJsZSBvZiBtaWxsaXNlY29uZHMgd2l0aCBhIHByZWNpc2lvbiBvZiAwLjV1cy5cbiAgICovXG4gIGdldCB0aW1lT3JpZ2luKCkge1xuICAgIHJldHVybiB0aGlzLl9wZXJmLnRpbWVPcmlnaW47XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFwiYWJzb2x1dGVcIiB2ZXJzaW9uIG9mIHBlcmZvcm1hbmNlLm5vdygpLCBpLmUuIG9uZSB0aGF0XG4gICAqIHNob3VsZCAoW2J1ZyAxNDAxNDA2XShodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDAxNDA2KVxuICAgKiBiZSBjb21wYXJhYmxlIGFjcm9zcyBib3RoIGNocm9tZSBhbmQgY29udGVudC5cbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cbiAgYWJzTm93OiBmdW5jdGlvbiBhYnNOb3coKSB7XG4gICAgcmV0dXJuIHRoaXMudGltZU9yaWdpbiArIHRoaXMuX3BlcmYubm93KCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgcmV0dXJucyB0aGUgYWJzb2x1dGUgc3RhcnRUaW1lIGZyb20gdGhlIG1vc3QgcmVjZW50IHBlcmZvcm1hbmNlLm1hcmsoKVxuICAgKiB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIHRoZSBuYW1lIHRvIGxvb2t1cCB0aGUgc3RhcnQgdGltZSBmb3JcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSAgICAgICB0aGUgcmV0dXJuZWQgc3RhcnQgdGltZSwgYXMgYSBET01IaWdoUmVzVGltZVN0YW1wXG4gICAqXG4gICAqIEB0aHJvd3Mge0Vycm9yfSAgICAgICAgXCJObyBNYXJrcyB3aXRoIHRoZSBuYW1lIC4uLlwiIGlmIG5vbmUgYXJlIGF2YWlsYWJsZVxuICAgKlxuICAgKiBAbm90ZSBBbHdheXMgc3Vycm91bmQgY2FsbHMgdG8gdGhpcyBieSB0cnkvY2F0Y2guICBPdGhlcndpc2UgeW91ciBjb2RlXG4gICAqIG1heSBmYWlsIHdoZW4gdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYCBwcmVmIGlzIHRydWUuICBXaGVuXG4gICAqIHRoaXMgcHJlZiBpcyBzZXQsIGFsbCBhdHRlbXB0cyB0byBnZXQgbWFya3Mgd2lsbCBsaWtlbHkgZmFpbCwgd2hpY2ggd2lsbFxuICAgKiBjYXVzZSB0aGlzIG1ldGhvZCB0byB0aHJvdy5cbiAgICpcbiAgICogU2VlIFtidWcgMTM2OTMwM10oaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2OTMwMylcbiAgICogZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIGdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoZW50cnlOYW1lKSB7XG4gICAgbGV0IGVudHJpZXMgPSB0aGlzLmdldEVudHJpZXNCeU5hbWUoZW50cnlOYW1lLCBcIm1hcmtcIik7XG5cbiAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIG1hcmtzIHdpdGggdGhlIG5hbWUgJHtlbnRyeU5hbWV9YCk7XG4gICAgfVxuXG4gICAgbGV0IG1vc3RSZWNlbnRFbnRyeSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gdGhpcy5fcGVyZi50aW1lT3JpZ2luICsgbW9zdFJlY2VudEVudHJ5LnN0YXJ0VGltZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBwZXJmU2VydmljZSA9IG5ldyBfUGVyZlNlcnZpY2UoKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IHBlcmZTZXJ2aWNlIGFzIHBlcmZTdmMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL3BlcmYtc2VydmljZVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBDdXJyZW50bHkgcmVjb3JkIG9ubHkgYSBmaXhlZCBzZXQgb2Ygc2VjdGlvbnMuIFRoaXMgd2lsbCBwcmV2ZW50IGRhdGFcbi8vIGZyb20gY3VzdG9tIHNlY3Rpb25zIGZyb20gc2hvd2luZyB1cCBvciBmcm9tIHRvcHN0b3JpZXMuXG5jb25zdCBSRUNPUkRFRF9TRUNUSU9OUyA9IFtcImhpZ2hsaWdodHNcIiwgXCJ0b3BzaXRlc1wiXTtcblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudFBlcmZUaW1lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIC8vIEp1c3QgZm9yIHRlc3QgZGVwZW5kZW5jeSBpbmplY3Rpb246XG4gICAgdGhpcy5wZXJmU3ZjID0gdGhpcy5wcm9wcy5wZXJmU3ZjIHx8IHBlcmZTdmM7XG5cbiAgICB0aGlzLl9zZW5kQmFkU3RhdGVFdmVudCA9IHRoaXMuX3NlbmRCYWRTdGF0ZUV2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fc2VuZFBhaW50ZWRFdmVudCA9IHRoaXMuX3NlbmRQYWludGVkRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9yZXBvcnRNaXNzaW5nRGF0YSA9IGZhbHNlO1xuICAgIHRoaXMuX3RpbWVzdGFtcEhhbmRsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWNvcmRlZEZpcnN0UmVuZGVyID0gZmFsc2U7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIVJFQ09SREVEX1NFQ1RJT05TLmluY2x1ZGVzKHRoaXMucHJvcHMuaWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbWF5YmVTZW5kUGFpbnRlZEV2ZW50KCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgaWYgKCFSRUNPUkRFRF9TRUNUSU9OUy5pbmNsdWRlcyh0aGlzLnByb3BzLmlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21heWJlU2VuZFBhaW50ZWRFdmVudCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgdGhlIGdpdmVuIGNhbGxiYWNrIGFmdGVyIHRoZSB1cGNvbWluZyBmcmFtZSBwYWludHMuXG4gICAqXG4gICAqIEBub3RlIEJvdGggc2V0VGltZW91dCBhbmQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGFyZSB0aHJvdHRsZWQgd2hlbiB0aGUgcGFnZVxuICAgKiBpcyBoaWRkZW4sIHNvIHRoaXMgY2FsbGJhY2sgbWF5IGdldCBjYWxsZWQgdXAgdG8gYSBzZWNvbmQgb3Igc28gYWZ0ZXIgdGhlXG4gICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZSBcInBhaW50XCIgZm9yIGhpZGRlbiB0YWJzLlxuICAgKlxuICAgKiBOZXd0YWJzIGhpZGRlbiB3aGlsZSBsb2FkaW5nIHdpbGwgcHJlc3VtYWJseSBiZSBmYWlybHkgcmFyZSAob3RoZXIgdGhhblxuICAgKiBwcmVsb2FkZWQgdGFicywgd2hpY2ggd2Ugd2lsbCBiZSBmaWx0ZXJpbmcgb3V0IG9uIHRoZSBzZXJ2ZXIgc2lkZSksIHNvIHN1Y2hcbiAgICogY2FzZXMgc2hvdWxkIGdldCBsb3N0IGluIHRoZSBub2lzZS5cbiAgICpcbiAgICogSWYgd2UgZGVjaWRlIHRoYXQgaXQncyBpbXBvcnRhbnQgdG8gZmluZCBvdXQgd2hlbiBzb21ldGhpbmcgdGhhdCdzIGhpZGRlblxuICAgKiBoYXMgXCJwYWludGVkXCIsIGhvd2V2ZXIsIGFub3RoZXIgb3B0aW9uIGlzIHRvIHBvc3QgYSBtZXNzYWdlIHRvIHRoaXMgd2luZG93LlxuICAgKiBUaGF0IHNob3VsZCBoYXBwZW4gZXZlbiBmYXN0ZXIgdGhhbiBzZXRUaW1lb3V0LCBhbmQsIGF0IGxlYXN0IGFzIG9mIHRoaXNcbiAgICogd3JpdGluZywgaXQncyBub3QgdGhyb3R0bGVkIGluIGhpZGRlbiB3aW5kb3dzIGluIEZpcmVmb3guXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqXG4gICAqIEByZXR1cm5zIHZvaWRcbiAgICovXG4gIF9hZnRlckZyYW1lUGFpbnQoY2FsbGJhY2spIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2V0VGltZW91dChjYWxsYmFjaywgMCkpO1xuICB9XG5cbiAgX21heWJlU2VuZEJhZFN0YXRlRXZlbnQoKSB7XG4gICAgLy8gRm9sbG93IHVwIGJ1Z3M6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvYWN0aXZpdHktc3RyZWFtL2lzc3Vlcy8zNjkxXG4gICAgaWYgKCF0aGlzLnByb3BzLmluaXRpYWxpemVkKSB7XG4gICAgICAvLyBSZW1lbWJlciB0byByZXBvcnQgYmFjayB3aGVuIGRhdGEgaXMgYXZhaWxhYmxlLlxuICAgICAgdGhpcy5fcmVwb3J0TWlzc2luZ0RhdGEgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fcmVwb3J0TWlzc2luZ0RhdGEpIHtcbiAgICAgIHRoaXMuX3JlcG9ydE1pc3NpbmdEYXRhID0gZmFsc2U7XG4gICAgICAvLyBSZXBvcnQgaG93IGxvbmcgaXQgdG9vayBmb3IgY29tcG9uZW50IHRvIGJlY29tZSBpbml0aWFsaXplZC5cbiAgICAgIHRoaXMuX3NlbmRCYWRTdGF0ZUV2ZW50KCk7XG4gICAgfVxuICB9XG5cbiAgX21heWJlU2VuZFBhaW50ZWRFdmVudCgpIHtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgYSB0aW1lc3RhbXAsIGRvbid0IGRvIGl0IGFnYWluLlxuICAgIGlmICh0aGlzLl90aW1lc3RhbXBIYW5kbGVkIHx8ICF0aGlzLnByb3BzLmluaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQW5kIGlmIHdlIGhhdmVuJ3QsIHdlJ3JlIGRvaW5nIHNvIG5vdywgc28gcmVtZW1iZXIgdGhhdC4gRXZlbiBpZlxuICAgIC8vIHNvbWV0aGluZyBnb2VzIHdyb25nIGluIHRoZSBjYWxsYmFjaywgd2UgY2FuJ3QgdHJ5IGFnYWluLCBhcyB3ZSdkIGJlXG4gICAgLy8gc2VuZGluZyBiYWNrIHRoZSB3cm9uZyBkYXRhLCBhbmQgd2UgaGF2ZSB0byBkbyBpdCBoZXJlLCBzbyB0aGF0IG90aGVyXG4gICAgLy8gY2FsbHMgdG8gdGhpcyBtZXRob2Qgd2hpbGUgd2FpdGluZyBmb3IgdGhlIG5leHQgZnJhbWUgd29uJ3QgYWxzbyB0cnkgdG9cbiAgICAvLyBoYW5kbGUgaXQuXG4gICAgdGhpcy5fdGltZXN0YW1wSGFuZGxlZCA9IHRydWU7XG4gICAgdGhpcy5fYWZ0ZXJGcmFtZVBhaW50KHRoaXMuX3NlbmRQYWludGVkRXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXJlZCBieSBjYWxsIHRvIHJlbmRlci4gT25seSBmaXJzdCBjYWxsIGdvZXMgdGhyb3VnaCBkdWUgdG9cbiAgICogYF9yZWNvcmRlZEZpcnN0UmVuZGVyYC5cbiAgICovXG4gIF9lbnN1cmVGaXJzdFJlbmRlclRzUmVjb3JkZWQoKSB7XG4gICAgLy8gVXNlZCBhcyB0MCBmb3IgcmVjb3JkaW5nIGhvdyBsb25nIGNvbXBvbmVudCB0b29rIHRvIGluaXRpYWxpemUuXG4gICAgaWYgKCF0aGlzLl9yZWNvcmRlZEZpcnN0UmVuZGVyKSB7XG4gICAgICB0aGlzLl9yZWNvcmRlZEZpcnN0UmVuZGVyID0gdHJ1ZTtcbiAgICAgIC8vIHRvcHNpdGVzX2ZpcnN0X3JlbmRlcl90cywgaGlnaGxpZ2h0c19maXJzdF9yZW5kZXJfdHMuXG4gICAgICBjb25zdCBrZXkgPSBgJHt0aGlzLnByb3BzLmlkfV9maXJzdF9yZW5kZXJfdHNgO1xuICAgICAgdGhpcy5wZXJmU3ZjLm1hcmsoa2V5KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBgU0FWRV9TRVNTSU9OX1BFUkZfREFUQWAgd2l0aCB0aW1lc3RhbXAgaW4gbXNcbiAgICogb2YgaG93IG11Y2ggbG9uZ2VyIHRoZSBkYXRhIHRvb2sgdG8gYmUgcmVhZHkgZm9yIGRpc3BsYXkgdGhhbiBpdCB3b3VsZFxuICAgKiBoYXZlIGJlZW4gdGhlIGlkZWFsIGNhc2UuXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3BpbmctY2VudHJlL2lzc3Vlcy85OFxuICAgKi9cbiAgX3NlbmRCYWRTdGF0ZUV2ZW50KCkge1xuICAgIC8vIGhpZ2hsaWdodHNfZGF0YV9yZWFkeV90cywgdG9wc2l0ZXNfZGF0YV9yZWFkeV90cy5cbiAgICBjb25zdCBkYXRhUmVhZHlLZXkgPSBgJHt0aGlzLnByb3BzLmlkfV9kYXRhX3JlYWR5X3RzYDtcbiAgICB0aGlzLnBlcmZTdmMubWFyayhkYXRhUmVhZHlLZXkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpcnN0UmVuZGVyS2V5ID0gYCR7dGhpcy5wcm9wcy5pZH1fZmlyc3RfcmVuZGVyX3RzYDtcbiAgICAgIC8vIHZhbHVlIGhhcyB0byBiZSBJbnQzMi5cbiAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoXG4gICAgICAgIHRoaXMucGVyZlN2Yy5nZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lKGRhdGFSZWFkeUtleSkgLVxuICAgICAgICAgIHRoaXMucGVyZlN2Yy5nZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lKGZpcnN0UmVuZGVyS2V5KSxcbiAgICAgICAgMTBcbiAgICAgICk7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5TQVZFX1NFU1NJT05fUEVSRl9EQVRBLFxuICAgICAgICAgIC8vIGhpZ2hsaWdodHNfZGF0YV9sYXRlX2J5X21zLCB0b3BzaXRlc19kYXRhX2xhdGVfYnlfbXMuXG4gICAgICAgICAgZGF0YTogeyBbYCR7dGhpcy5wcm9wcy5pZH1fZGF0YV9sYXRlX2J5X21zYF06IHZhbHVlIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAvLyBJZiB0aGlzIGZhaWxlZCwgaXQncyBsaWtlbHkgYmVjYXVzZSB0aGUgYHByaXZhY3kucmVzaXN0RmluZ2VycHJpbnRpbmdgXG4gICAgICAvLyBwcmVmIGlzIHRydWUuXG4gICAgfVxuICB9XG5cbiAgX3NlbmRQYWludGVkRXZlbnQoKSB7XG4gICAgLy8gUmVjb3JkIGZpcnN0X3BhaW50ZWQgZXZlbnQgYnV0IG9ubHkgc2VuZCBpZiB0b3BzaXRlcy5cbiAgICBpZiAodGhpcy5wcm9wcy5pZCAhPT0gXCJ0b3BzaXRlc1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gdG9wc2l0ZXNfZmlyc3RfcGFpbnRlZF90cy5cbiAgICBjb25zdCBrZXkgPSBgJHt0aGlzLnByb3BzLmlkfV9maXJzdF9wYWludGVkX3RzYDtcbiAgICB0aGlzLnBlcmZTdmMubWFyayhrZXkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7fTtcbiAgICAgIGRhdGFba2V5XSA9IHRoaXMucGVyZlN2Yy5nZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lKGtleSk7XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNBVkVfU0VTU0lPTl9QRVJGX0RBVEEsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8vIElmIHRoaXMgZmFpbGVkLCBpdCdzIGxpa2VseSBiZWNhdXNlIHRoZSBgcHJpdmFjeS5yZXNpc3RGaW5nZXJwcmludGluZ2BcbiAgICAgIC8vIHByZWYgaXMgdHJ1ZS4gIFdlIHNob3VsZCBhdCBsZWFzdCBub3QgYmxvdyB1cCwgYW5kIHNob3VsZCBjb250aW51ZVxuICAgICAgLy8gdG8gc2V0IHRoaXMuX3RpbWVzdGFtcEhhbmRsZWQgdG8gYXZvaWQgZ29pbmcgdGhyb3VnaCB0aGlzIGFnYWluLlxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoUkVDT1JERURfU0VDVElPTlMuaW5jbHVkZXModGhpcy5wcm9wcy5pZCkpIHtcbiAgICAgIHRoaXMuX2Vuc3VyZUZpcnN0UmVuZGVyVHNSZWNvcmRlZCgpO1xuICAgICAgdGhpcy5fbWF5YmVTZW5kQmFkU3RhdGVFdmVudCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgTW9yZVJlY29tbWVuZGF0aW9ucyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByZWFkX21vcmVfZW5kcG9pbnQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHJlYWRfbW9yZV9lbmRwb2ludCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGFcbiAgICAgICAgICBjbGFzc05hbWU9XCJtb3JlLXJlY29tbWVuZGF0aW9uc1wiXG4gICAgICAgICAgaHJlZj17cmVhZF9tb3JlX2VuZHBvaW50fVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtbW9yZS1yZWNvbW1lbmRhdGlvbnNcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gTW9kYWxPdmVybGF5V3JhcHBlcih7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgZG9jdW1lbnQgPSBnbG9iYWxUaGlzLmRvY3VtZW50LFxuICB1bnN0eWxlZCxcbiAgaW5uZXJDbGFzc05hbWUsXG4gIG9uQ2xvc2UsXG4gIGNoaWxkcmVuLFxuICBoZWFkZXJJZCxcbiAgaWQsXG59KSB7XG4gIGNvbnN0IG1vZGFsUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGxldCBjbGFzc05hbWUgPSB1bnN0eWxlZCA/IFwiXCIgOiBcIm1vZGFsT3ZlcmxheUlubmVyIGFjdGl2ZVwiO1xuICBpZiAoaW5uZXJDbGFzc05hbWUpIHtcbiAgICBjbGFzc05hbWUgKz0gYCAke2lubmVyQ2xhc3NOYW1lfWA7XG4gIH1cblxuICAvLyBUaGUgaW50ZW5kZWQgYmVoYXZpb3VyIGlzIHRvIGxpc3RlbiBmb3IgYW4gZXNjYXBlIGtleVxuICAvLyBidXQgbm90IGZvciBhIGNsaWNrOyBzZWUgQnVnIDE1ODIyNDJcbiAgY29uc3Qgb25LZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICBvbkNsb3NlKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtvbkNsb3NlXVxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1vcGVuXCIpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1vcGVuXCIpO1xuICAgIH07XG4gIH0sIFtkb2N1bWVudCwgb25LZXlEb3duXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJtb2RhbE92ZXJsYXlPdXRlciBhY3RpdmVcIlxuICAgICAgb25LZXlEb3duPXtvbktleURvd259XG4gICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICBhcmlhLWxhYmVsbGVkYnk9e2hlYWRlcklkfVxuICAgICAgICBpZD17aWR9XG4gICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICByZWY9e21vZGFsUmVmfVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgTW9kYWxPdmVybGF5V3JhcHBlciB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX1NPVVJDRSB9IGZyb20gXCIuL1RvcFNpdGVzQ29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RhYmxlU2VhcmNoU2hvcnRjdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgc2hvcnRjdXQsIHNlbGVjdGVkIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGltYWdlU3R5bGUgPSB7IGJhY2tncm91bmRJbWFnZTogYHVybChcIiR7c2hvcnRjdXQudGlwcHlUb3BJY29ufVwiKWAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1vdXRlciBzZWFyY2gtc2hvcnRjdXRcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBpZD17c2hvcnRjdXQua2V5d29yZH1cbiAgICAgICAgICBuYW1lPXtzaG9ydGN1dC5rZXl3b3JkfVxuICAgICAgICAgIGNoZWNrZWQ9e3NlbGVjdGVkfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfVxuICAgICAgICAvPlxuICAgICAgICA8bGFiZWwgaHRtbEZvcj17c2hvcnRjdXQua2V5d29yZH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pbm5lclwiPlxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGlsZVwiPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gcmljaC1pY29uXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXtpbWFnZVN0eWxlfVxuICAgICAgICAgICAgICAgICAgZGF0YS1mYWxsYmFjaz1cIkBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pY29uIHNlYXJjaC10b3BzaXRlXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBkaXI9XCJhdXRvXCI+e3Nob3J0Y3V0LmtleXdvcmR9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlYXJjaFNob3J0Y3V0c0Zvcm0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DYW5jZWxCdXR0b25DbGljayA9IHRoaXMub25DYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TYXZlQnV0dG9uQ2xpY2sgPSB0aGlzLm9uU2F2ZUJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICAvLyBjbG9uZSB0aGUgc2hvcnRjdXRzIGFuZCBhZGQgdGhlbSB0byB0aGUgc3RhdGUgc28gd2UgY2FuIGFkZCBpc1NlbGVjdGVkIHByb3BlcnR5XG4gICAgY29uc3Qgc2hvcnRjdXRzID0gW107XG4gICAgY29uc3QgeyByb3dzLCBzZWFyY2hTaG9ydGN1dHMgfSA9IHByb3BzLlRvcFNpdGVzO1xuICAgIHNlYXJjaFNob3J0Y3V0cy5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgIHNob3J0Y3V0cy5wdXNoKHtcbiAgICAgICAgLi4uc2hvcnRjdXQsXG4gICAgICAgIGlzU2VsZWN0ZWQ6ICEhcm93cy5maW5kKFxuICAgICAgICAgIHJvdyA9PlxuICAgICAgICAgICAgcm93ICYmXG4gICAgICAgICAgICByb3cuaXNQaW5uZWQgJiZcbiAgICAgICAgICAgIHJvdy5zZWFyY2hUb3BTaXRlICYmXG4gICAgICAgICAgICByb3cubGFiZWwgPT09IHNob3J0Y3V0LmtleXdvcmRcbiAgICAgICAgKSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuc3RhdGUgPSB7IHNob3J0Y3V0cyB9O1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50O1xuICAgIGNvbnN0IHsgbmFtZTogdGFyZ2V0TmFtZSwgY2hlY2tlZCB9ID0gdGFyZ2V0O1xuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+IHtcbiAgICAgIGNvbnN0IHNob3J0Y3V0cyA9IHByZXZTdGF0ZS5zaG9ydGN1dHMuc2xpY2UoKTtcbiAgICAgIGxldCBzaG9ydGN1dCA9IHNob3J0Y3V0cy5maW5kKCh7IGtleXdvcmQgfSkgPT4ga2V5d29yZCA9PT0gdGFyZ2V0TmFtZSk7XG4gICAgICBzaG9ydGN1dC5pc1NlbGVjdGVkID0gY2hlY2tlZDtcbiAgICAgIHJldHVybiB7IHNob3J0Y3V0cyB9O1xuICAgIH0pO1xuICB9XG5cbiAgb25DYW5jZWxCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gIH1cblxuICBvblNhdmVCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSB3ZXJlIGFueSBjaGFuZ2VzIGFuZCBhY3QgYWNjb3JkaW5nbHlcbiAgICBjb25zdCB7IHJvd3MgfSA9IHRoaXMucHJvcHMuVG9wU2l0ZXM7XG4gICAgY29uc3QgcGluUXVldWUgPSBbXTtcbiAgICBjb25zdCB1bnBpblF1ZXVlID0gW107XG4gICAgdGhpcy5zdGF0ZS5zaG9ydGN1dHMuZm9yRWFjaChzaG9ydGN1dCA9PiB7XG4gICAgICBjb25zdCBhbHJlYWR5UGlubmVkID0gcm93cy5maW5kKFxuICAgICAgICByb3cgPT5cbiAgICAgICAgICByb3cgJiZcbiAgICAgICAgICByb3cuaXNQaW5uZWQgJiZcbiAgICAgICAgICByb3cuc2VhcmNoVG9wU2l0ZSAmJlxuICAgICAgICAgIHJvdy5sYWJlbCA9PT0gc2hvcnRjdXQua2V5d29yZFxuICAgICAgKTtcbiAgICAgIGlmIChzaG9ydGN1dC5pc1NlbGVjdGVkICYmICFhbHJlYWR5UGlubmVkKSB7XG4gICAgICAgIHBpblF1ZXVlLnB1c2godGhpcy5fc2VhcmNoVG9wU2l0ZShzaG9ydGN1dCkpO1xuICAgICAgfSBlbHNlIGlmICghc2hvcnRjdXQuaXNTZWxlY3RlZCAmJiBhbHJlYWR5UGlubmVkKSB7XG4gICAgICAgIHVucGluUXVldWUucHVzaCh7XG4gICAgICAgICAgdXJsOiBhbHJlYWR5UGlubmVkLnVybCxcbiAgICAgICAgICBzZWFyY2hWZW5kb3I6IHNob3J0Y3V0LnNob3J0VVJMLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFRlbGwgdGhlIGZlZWQgdG8gZG8gdGhlIHdvcmsuXG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5VUERBVEVfUElOTkVEX1NFQVJDSF9TSE9SVENVVFMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhZGRlZFNob3J0Y3V0czogcGluUXVldWUsXG4gICAgICAgICAgZGVsZXRlZFNob3J0Y3V0czogdW5waW5RdWV1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIFNlbmQgdGhlIFRlbGVtZXRyeSBwaW5ncy5cbiAgICBwaW5RdWV1ZS5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgIGV2ZW50OiBcIlNFQVJDSF9FRElUX0FERFwiLFxuICAgICAgICAgIHZhbHVlOiB7IHNlYXJjaF92ZW5kb3I6IHNob3J0Y3V0LnNlYXJjaFZlbmRvciB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB1bnBpblF1ZXVlLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgZXZlbnQ6IFwiU0VBUkNIX0VESVRfREVMRVRFXCIsXG4gICAgICAgICAgdmFsdWU6IHsgc2VhcmNoX3ZlbmRvcjogc2hvcnRjdXQuc2VhcmNoVmVuZG9yIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gIH1cblxuICBfc2VhcmNoVG9wU2l0ZShzaG9ydGN1dCkge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IHNob3J0Y3V0LnVybCxcbiAgICAgIHNlYXJjaFRvcFNpdGU6IHRydWUsXG4gICAgICBsYWJlbDogc2hvcnRjdXQua2V5d29yZCxcbiAgICAgIHNlYXJjaFZlbmRvcjogc2hvcnRjdXQuc2hvcnRVUkwsXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwidG9wc2l0ZS1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLXNob3J0Y3V0cy1jb250YWluZXJcIj5cbiAgICAgICAgICA8aDNcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGUgZ3JleS10aXRsZVwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtYWRkLXNlYXJjaC1lbmdpbmUtaGVhZGVyXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dGhpcy5zdGF0ZS5zaG9ydGN1dHMubWFwKHNob3J0Y3V0ID0+IChcbiAgICAgICAgICAgICAgPFNlbGVjdGFibGVTZWFyY2hTaG9ydGN1dFxuICAgICAgICAgICAgICAgIGtleT17c2hvcnRjdXQua2V5d29yZH1cbiAgICAgICAgICAgICAgICBzaG9ydGN1dD17c2hvcnRjdXR9XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ9e3Nob3J0Y3V0LmlzU2VsZWN0ZWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FuY2VsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLWNhbmNlbC1idXR0b25cIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9uZVwiXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25TYXZlQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtc2F2ZS1idXR0b25cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY2xhc3MgRGVkdXBlIHtcbiAgY29uc3RydWN0b3IoY3JlYXRlS2V5KSB7XG4gICAgdGhpcy5jcmVhdGVLZXkgPSBjcmVhdGVLZXkgfHwgdGhpcy5kZWZhdWx0Q3JlYXRlS2V5O1xuICB9XG5cbiAgZGVmYXVsdENyZWF0ZUtleShpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICAvKipcbiAgICogRGVkdXBlIGFueSBudW1iZXIgb2YgZ3JvdXBlZCBlbGVtZW50cyBmYXZvcmluZyB0aG9zZSBmcm9tIGVhcmxpZXIgZ3JvdXBzLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBncm91cHMgQ29udGFpbnMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBhcnJheXMgb2YgZWxlbWVudHMuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gQSBtYXRjaGluZyBhcnJheSBvZiBlYWNoIHByb3ZpZGVkIGdyb3VwIGRlZHVwZWQuXG4gICAqL1xuICBncm91cCguLi5ncm91cHMpIHtcbiAgICBjb25zdCBnbG9iYWxLZXlzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAoY29uc3QgdmFsdWVzIG9mIGdyb3Vwcykge1xuICAgICAgY29uc3QgdmFsdWVNYXAgPSBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNyZWF0ZUtleSh2YWx1ZSk7XG4gICAgICAgIGlmICghZ2xvYmFsS2V5cy5oYXMoa2V5KSAmJiAhdmFsdWVNYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICB2YWx1ZU1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlTWFwKTtcbiAgICAgIHZhbHVlTWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IGdsb2JhbEtleXMuYWRkKGtleSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0Lm1hcChtID0+IEFycmF5LmZyb20obS52YWx1ZXMoKSkpO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY29uc3QgVE9QX1NJVEVTX0RFRkFVTFRfUk9XUyA9IDE7XG5leHBvcnQgY29uc3QgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XID0gODtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcInJlc291cmNlOi8vbmV3dGFiL2NvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgRGVkdXBlIH0gZnJvbSBcInJlc291cmNlOi8vL21vZHVsZXMvRGVkdXBlLnN5cy5tanNcIjtcblxuZXhwb3J0IHtcbiAgVE9QX1NJVEVTX0RFRkFVTFRfUk9XUyxcbiAgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XLFxufSBmcm9tIFwicmVzb3VyY2U6Ly8vbW9kdWxlcy90b3BzaXRlcy9jb25zdGFudHMubWpzXCI7XG5cbmNvbnN0IGRlZHVwZSA9IG5ldyBEZWR1cGUoc2l0ZSA9PiBzaXRlICYmIHNpdGUudXJsKTtcblxuZXhwb3J0IGNvbnN0IElOSVRJQUxfU1RBVEUgPSB7XG4gIEFwcDoge1xuICAgIC8vIEhhdmUgd2UgcmVjZWl2ZWQgcmVhbCBkYXRhIGZyb20gdGhlIGFwcCB5ZXQ/XG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgIGxvY2FsZTogXCJcIixcbiAgICBpc0ZvclN0YXJ0dXBDYWNoZToge1xuICAgICAgQXBwOiBmYWxzZSxcbiAgICAgIFRvcFNpdGVzOiBmYWxzZSxcbiAgICAgIERpc2NvdmVyeVN0cmVhbTogZmFsc2UsXG4gICAgICBXZWF0aGVyOiBmYWxzZSxcbiAgICAgIFdhbGxwYXBlcjogZmFsc2UsXG4gICAgfSxcbiAgICBjdXN0b21pemVNZW51VmlzaWJsZTogZmFsc2UsXG4gIH0sXG4gIEFkczoge1xuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICBsYXN0VXBkYXRlZDogbnVsbCxcbiAgICB0aWxlczoge30sXG4gICAgc3BvY3M6IHt9LFxuICAgIHNwb2NQbGFjZW1lbnRzOiB7fSxcbiAgfSxcbiAgVG9wU2l0ZXM6IHtcbiAgICAvLyBIYXZlIHdlIHJlY2VpdmVkIHJlYWwgZGF0YSBmcm9tIGhpc3RvcnkgeWV0P1xuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICAvLyBUaGUgaGlzdG9yeSAoYW5kIHBvc3NpYmx5IGRlZmF1bHQpIGxpbmtzXG4gICAgcm93czogW10sXG4gICAgLy8gVXNlZCBpbiBjb250ZW50IG9ubHkgdG8gZGlzcGF0Y2ggYWN0aW9uIHRvIFRvcFNpdGVGb3JtLlxuICAgIGVkaXRGb3JtOiBudWxsLFxuICAgIC8vIFVzZWQgaW4gY29udGVudCBvbmx5IHRvIG9wZW4gdGhlIFNlYXJjaFNob3J0Y3V0c0Zvcm0gbW9kYWwuXG4gICAgc2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm06IGZhbHNlLFxuICAgIC8vIFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBzZWFyY2ggc2hvcnRjdXRzLlxuICAgIHNlYXJjaFNob3J0Y3V0czogW10sXG4gICAgLy8gVGhlIFwiU2hhcmUtb2YtVm9pY2VcIiBhbGxvY2F0aW9ucyBnZW5lcmF0ZWQgYnkgVG9wU2l0ZXNGZWVkXG4gICAgc292OiB7XG4gICAgICByZWFkeTogZmFsc2UsXG4gICAgICBwb3NpdGlvbnM6IFtcbiAgICAgICAgLy8ge3Bvc2l0aW9uOiAwLCBhc3NpZ25lZFBhcnRuZXI6IFwiYW1wXCJ9LFxuICAgICAgICAvLyB7cG9zaXRpb246IDEsIGFzc2lnbmVkUGFydG5lcjogXCJtb3otc2FsZXNcIn0sXG4gICAgICBdLFxuICAgIH0sXG4gIH0sXG4gIFByZWZzOiB7XG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgIHZhbHVlczogeyBmZWF0dXJlQ29uZmlnOiB7fSB9LFxuICB9LFxuICBEaWFsb2c6IHtcbiAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICBkYXRhOiB7fSxcbiAgfSxcbiAgU2VjdGlvbnM6IFtdLFxuICBQb2NrZXQ6IHtcbiAgICBwb2NrZXRDdGE6IHt9LFxuICAgIHdhaXRpbmdGb3JTcG9jOiB0cnVlLFxuICB9LFxuICAvLyBUaGlzIGlzIHRoZSBuZXcgcG9ja2V0IGNvbmZpZ3VyYWJsZSBsYXlvdXQgc3RhdGUuXG4gIERpc2NvdmVyeVN0cmVhbToge1xuICAgIC8vIFRoaXMgaXMgYSBKU09OLXBhcnNlZCBjb3B5IG9mIHRoZSBkaXNjb3ZlcnlzdHJlYW0uY29uZmlnIHByZWYgdmFsdWUuXG4gICAgY29uZmlnOiB7IGVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgbGF5b3V0OiBbXSxcbiAgICB0b3BpY3NMb2FkaW5nOiBmYWxzZSxcbiAgICBmZWVkczoge1xuICAgICAgZGF0YToge1xuICAgICAgICAvLyBcImh0dHBzOi8vZm9vLmNvbS9mZWVkMVwiOiB7bGFzdFVwZGF0ZWQ6IDEyMywgZGF0YTogW10sIHBlcnNvbmFsaXplZDogZmFsc2V9XG4gICAgICB9LFxuICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICB9LFxuICAgIC8vIFVzZWQgdG8gc2hvdyBpbXByZXNzaW9ucyBpbiBuZXd0YWIgZGV2dG9vbHMuXG4gICAgaW1wcmVzc2lvbnM6IHtcbiAgICAgIGZlZWQ6IHt9LFxuICAgIH0sXG4gICAgLy8gVXNlZCB0byBzaG93IGJsb2NrcyBpbiBuZXd0YWIgZGV2dG9vbHMuXG4gICAgYmxvY2tzOiB7fSxcbiAgICBzcG9jczoge1xuICAgICAgc3BvY3NfZW5kcG9pbnQ6IFwiXCIsXG4gICAgICBsYXN0VXBkYXRlZDogbnVsbCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLy8gXCJzcG9jc1wiOiB7dGl0bGU6IFwiXCIsIGNvbnRleHQ6IFwiXCIsIGl0ZW1zOiBbXSwgcGVyc29uYWxpemVkOiBmYWxzZX0sXG4gICAgICAgIC8vIFwicGxhY2VtZW50MVwiOiB7dGl0bGU6IFwiXCIsIGNvbnRleHQ6IFwiXCIsIGl0ZW1zOiBbXSwgcGVyc29uYWxpemVkOiBmYWxzZX0sXG4gICAgICB9LFxuICAgICAgbG9hZGVkOiBmYWxzZSxcbiAgICAgIGZyZXF1ZW5jeV9jYXBzOiBbXSxcbiAgICAgIGJsb2NrZWQ6IFtdLFxuICAgICAgcGxhY2VtZW50czogW10sXG4gICAgfSxcbiAgICBleHBlcmltZW50RGF0YToge1xuICAgICAgdXRtU291cmNlOiBcInBvY2tldC1uZXd0YWJcIixcbiAgICAgIHV0bUNhbXBhaWduOiB1bmRlZmluZWQsXG4gICAgICB1dG1Db250ZW50OiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBzaG93VG9waWNTZWxlY3Rpb246IGZhbHNlLFxuICAgIHJlcG9ydDoge1xuICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICBkYXRhOiB7fSxcbiAgICB9LFxuICAgIHNlY3Rpb25QZXJzb25hbGl6YXRpb246IHt9LFxuICB9LFxuICAvLyBNZXNzYWdlcyByZWNlaXZlZCBmcm9tIEFTUm91dGVyIHRvIHJlbmRlciBpbiBuZXd0YWJcbiAgTWVzc2FnZXM6IHtcbiAgICAvLyBtZXNzYWdlcyByZWNlaXZlZCBmcm9tIEFTUm91dGVyIGFyZSBpbml0aWFsbHkgdmlzaWJsZVxuICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAvLyBwb3J0SUQgZm9yIHRoYXQgdGFiIHRoYXQgd2FzIHNlbnQgdGhlIG1lc3NhZ2VcbiAgICBwb3J0SUQ6IFwiXCIsXG4gICAgLy8gUkVBRE9OTFkgTWVzc2FnZSBkYXRhIHJlY2VpdmVkIGZyb20gQVNSb3V0ZXJcbiAgICBtZXNzYWdlRGF0YToge30sXG4gIH0sXG4gIE5vdGlmaWNhdGlvbnM6IHtcbiAgICBzaG93Tm90aWZpY2F0aW9uczogZmFsc2UsXG4gICAgdG9hc3RDb3VudGVyOiAwLFxuICAgIHRvYXN0SWQ6IFwiXCIsXG4gICAgLy8gVGhpcyBxdWV1ZSBpcyByZXNldCBlYWNoIHRpbWUgU0hPV19UT0FTVF9NRVNTQUdFIGlzIHJhbi5cbiAgICAvLyBGb3IgY2FuIGJlIGEgcXVldWUgaW4gdGhlIGZ1dHVyZSwgYnV0IGZvciBub3cgaXMgb25lIGl0ZW1cbiAgICB0b2FzdFF1ZXVlOiBbXSxcbiAgfSxcbiAgUGVyc29uYWxpemF0aW9uOiB7XG4gICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICB9LFxuICBJbmZlcnJlZFBlcnNvbmFsaXphdGlvbjoge1xuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICBsYXN0VXBkYXRlZDogbnVsbCxcbiAgICBpbmZlcnJlZEludHJlc3RzOiB7fSxcbiAgICBjb2Fyc2VJbmZlcnJlZEludGVyZXN0czoge30sXG4gICAgY29hcnNlUHJpdmF0ZUluZmVycmVkSW50ZXJlc3RzOiB7fSxcbiAgfSxcbiAgU2VhcmNoOiB7XG4gICAgLy8gV2hlbiBzZWFyY2ggaGFuZC1vZmYgaXMgZW5hYmxlZCwgd2UgcmVuZGVyIGEgYmlnIGJ1dHRvbiB0aGF0IGlzIHN0eWxlZCB0b1xuICAgIC8vIGxvb2sgbGlrZSBhIHNlYXJjaCB0ZXh0Ym94LiBJZiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQsIHdlIHN0eWxlXG4gICAgLy8gdGhlIGJ1dHRvbiBhcyBpZiBpdCB3YXMgYSBmb2N1c2VkIHNlYXJjaCBib3ggYW5kIHNob3cgYSBmYWtlIGN1cnNvciBidXRcbiAgICAvLyByZWFsbHkgZm9jdXMgdGhlIGF3ZXNvbWViYXIgd2l0aG91dCB0aGUgZm9jdXMgc3R5bGVzIChcImhpZGRlbiBmb2N1c1wiKS5cbiAgICBmYWtlRm9jdXM6IGZhbHNlLFxuICAgIC8vIEhpZGUgdGhlIHNlYXJjaCBib3ggYWZ0ZXIgaGFuZGluZyBvZmYgdG8gQXdlc29tZUJhciBhbmQgdXNlciBzdGFydHMgdHlwaW5nLlxuICAgIGhpZGU6IGZhbHNlLFxuICB9LFxuICBXYWxscGFwZXJzOiB7XG4gICAgd2FsbHBhcGVyTGlzdDogW10sXG4gICAgaGlnaGxpZ2h0U2VlbkNvdW50ZXI6IDAsXG4gICAgY2F0ZWdvcmllczogW10sXG4gICAgdXBsb2FkZWRXYWxscGFwZXI6IFwiXCIsXG4gIH0sXG4gIFdlYXRoZXI6IHtcbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgcXVlcnk6IFwiXCIsXG4gICAgc3VnZ2VzdGlvbnM6IFtdLFxuICAgIGxvY2F0aW9uRGF0YToge1xuICAgICAgY2l0eTogXCJcIixcbiAgICAgIGFkbWluQXJlYTogXCJcIixcbiAgICAgIGNvdW50cnk6IFwiXCIsXG4gICAgfSxcbiAgICAvLyBEaXNwbGF5IHNlYXJjaCBpbnB1dCBpbiBXZWF0aGVyIHdpZGdldFxuICAgIHNlYXJjaEFjdGl2ZTogZmFsc2UsXG4gICAgbG9jYXRpb25TZWFyY2hTdHJpbmc6IFwiXCIsXG4gICAgc3VnZ2VzdGVkTG9jYXRpb25zOiBbXSxcbiAgfSxcbiAgVHJlbmRpbmdTZWFyY2g6IHtcbiAgICBzdWdnZXN0aW9uczogW10sXG4gICAgY29sbGFwc2VkOiBmYWxzZSxcbiAgfSxcbiAgLy8gV2lkZ2V0c1xuICBMaXN0c1dpZGdldDoge1xuICAgIC8vIHZhbHVlIHBvaW50aW5nIHRvIGxhc3Qgc2VsZWN0bGVkIGxpc3RcbiAgICBzZWxlY3RlZDogXCJ0YXNrTGlzdFwiLFxuICAgIC8vIERlZmF1bHQgc3RhdGUgb2YgYW4gZW1wdHkgdGFzayBsaXN0XG4gICAgbGlzdHM6IHtcbiAgICAgIHRhc2tMaXN0OiB7XG4gICAgICAgIGxhYmVsOiBcIlwiLFxuICAgICAgICB0YXNrczogW10sXG4gICAgICAgIGNvbXBsZXRlZDogW10sXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIFRpbWVyV2lkZ2V0OiB7XG4gICAgLy8gVGhlIHRpbWVyIHdpbGwgaGF2ZSAyIHR5cGVzIG9mIHN0YXRlcywgZm9jdXMgYW5kIGJyZWFrLlxuICAgIC8vIEZvY3VzIHdpbGwgdGhlIGRlZmF1bHQgc3RhdGVcbiAgICB0aW1lclR5cGU6IFwiZm9jdXNcIixcbiAgICBmb2N1czoge1xuICAgICAgLy8gVGltZXIgZHVyYXRpb24gc2V0IGJ5IHVzZXI7IDI1IG1pbnMgYnkgZGVmYXVsdFxuICAgICAgZHVyYXRpb246IDI1ICogNjAsXG4gICAgICAvLyBJbml0aWFsIGR1cmF0aW9uIC0gYWxzbyBzZXQgYnkgdGhlIHVzZXI7IGRvZXMgbm90IHVwZGF0ZSB1bnRpbCB0aW1lciBlbmRzIG9yIHVzZXIgcmVzZXRzIHRpbWVyXG4gICAgICBpbml0aWFsRHVyYXRpb246IDI1ICogNjAsXG4gICAgICAvLyB0aGUgRGF0ZS5ub3coKSB2YWx1ZSB3aGVuIGEgdXNlciBzdGFydHMvcmVzdW1lcyBhIHRpbWVyXG4gICAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgICAvLyBCb29sZWFuIGluZGljYXRpbmcgaWYgdGltZXIgaXMgY3VycmVudGx5IHJ1bm5pbmdcbiAgICAgIGlzUnVubmluZzogZmFsc2UsXG4gICAgfSxcbiAgICBicmVhazoge1xuICAgICAgZHVyYXRpb246IDUgKiA2MCxcbiAgICAgIGluaXRpYWxEdXJhdGlvbjogNSAqIDYwLFxuICAgICAgc3RhcnRUaW1lOiBudWxsLFxuICAgICAgaXNSdW5uaW5nOiBmYWxzZSxcbiAgICB9LFxuICB9LFxufTtcblxuZnVuY3Rpb24gQXBwKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuQXBwLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuSU5JVDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIGFjdGlvbi5kYXRhIHx8IHt9LCB7XG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfVVBEQVRFRDpcbiAgICAgIC8vIFRvZ2dsZSBgaXNGb3JTdGFydHVwQ2FjaGUuVG9wU2l0ZXNgIHdoZW4gcmVjZWl2aW5nIHRoZSBgVE9QX1NJVEVTX1VQREFURWAgYWN0aW9uXG4gICAgICAvLyBzbyB0aGF0IHNwb25zb3JlZCB0aWxlcyBjYW4gYmUgcmVuZGVyZWQgYXMgdXN1YWwuIFNlZSBCdWcgMTgyNjM2MC5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaXNGb3JTdGFydHVwQ2FjaGU6IHsgLi4ucHJldlN0YXRlLmlzRm9yU3RhcnR1cENhY2hlLCBUb3BTaXRlczogZmFsc2UgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX1VQREFURTpcbiAgICAgIC8vIFRvZ2dsZSBgaXNGb3JTdGFydHVwQ2FjaGUuRGlzY292ZXJ5U3RyZWFtYCB3aGVuIHJlY2VpdmluZyB0aGUgYERJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfVVBEQVRFYCBhY3Rpb25cbiAgICAgIC8vIHNvIHRoYXQgc3BvYyBjYXJkcyBjYW4gYmUgcmVuZGVyZWQgYXMgdXN1YWwuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGlzRm9yU3RhcnR1cENhY2hlOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLmlzRm9yU3RhcnR1cENhY2hlLFxuICAgICAgICAgIERpc2NvdmVyeVN0cmVhbTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0VBVEhFUl9VUERBVEU6XG4gICAgICAvLyBUb2dnbGUgYGlzRm9yU3RhcnR1cENhY2hlLldlYXRoZXJgIHdoZW4gcmVjZWl2aW5nIHRoZSBgV0VBVEhFUl9VUERBVEVgIGFjdGlvblxuICAgICAgLy8gc28gdGhhdCB3ZWF0aGVyIGNhbiBiZSByZW5kZXJlZCBhcyB1c3VhbC5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaXNGb3JTdGFydHVwQ2FjaGU6IHsgLi4ucHJldlN0YXRlLmlzRm9yU3RhcnR1cENhY2hlLCBXZWF0aGVyOiBmYWxzZSB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LldBTExQQVBFUlNfQ1VTVE9NX1NFVDpcbiAgICAgIC8vIFRvZ2dsZSBgaXNGb3JTdGFydHVwQ2FjaGUuV2FsbHBhcGVyYCB3aGVuIHJlY2VpdmluZyB0aGUgYFdBTExQQVBFUlNfQ1VTVE9NX1NFVGAgYWN0aW9uXG4gICAgICAvLyBzbyB0aGF0IGN1c3RvbSB3YWxscGFwZXIgY2FuIGJlIHJlbmRlcmVkIGFzIHVzdWFsLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBpc0ZvclN0YXJ0dXBDYWNoZTogeyAuLi5wcmV2U3RhdGUuaXNGb3JTdGFydHVwQ2FjaGUsIFdhbGxwYXBlcjogZmFsc2UgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5TSE9XX1BFUlNPTkFMSVpFOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBjdXN0b21pemVNZW51VmlzaWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuSElERV9QRVJTT05BTElaRTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgY3VzdG9taXplTWVudVZpc2libGU6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gVG9wU2l0ZXMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5Ub3BTaXRlcywgYWN0aW9uKSB7XG4gIGxldCBoYXNNYXRjaDtcbiAgbGV0IG5ld1Jvd3M7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19VUERBVEVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSB8fCAhYWN0aW9uLmRhdGEubGlua3MpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgcHJldlN0YXRlLFxuICAgICAgICB7IGluaXRpYWxpemVkOiB0cnVlLCByb3dzOiBhY3Rpb24uZGF0YS5saW5rcyB9LFxuICAgICAgICBhY3Rpb24uZGF0YS5wcmVmID8geyBwcmVmOiBhY3Rpb24uZGF0YS5wcmVmIH0gOiB7fVxuICAgICAgKTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19QUkVGU19VUERBVEVEOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBwcmVmOiBhY3Rpb24uZGF0YS5wcmVmIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX0VESVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGVkaXRGb3JtOiB7XG4gICAgICAgICAgaW5kZXg6IGFjdGlvbi5kYXRhLmluZGV4LFxuICAgICAgICAgIHByZXZpZXdSZXNwb25zZTogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX0NBTkNFTF9FRElUOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBlZGl0Rm9ybTogbnVsbCB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19PUEVOX1NFQVJDSF9TSE9SVENVVFNfTU9EQUw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtOiB0cnVlIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX0NMT1NFX1NFQVJDSF9TSE9SVENVVFNfTU9EQUw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtOiBmYWxzZSB9KTtcbiAgICBjYXNlIGF0LlBSRVZJRVdfUkVTUE9OU0U6XG4gICAgICBpZiAoXG4gICAgICAgICFwcmV2U3RhdGUuZWRpdEZvcm0gfHxcbiAgICAgICAgYWN0aW9uLmRhdGEudXJsICE9PSBwcmV2U3RhdGUuZWRpdEZvcm0ucHJldmlld1VybFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGVkaXRGb3JtOiB7XG4gICAgICAgICAgaW5kZXg6IHByZXZTdGF0ZS5lZGl0Rm9ybS5pbmRleCxcbiAgICAgICAgICBwcmV2aWV3UmVzcG9uc2U6IGFjdGlvbi5kYXRhLnByZXZpZXcsXG4gICAgICAgICAgcHJldmlld1VybDogYWN0aW9uLmRhdGEudXJsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5QUkVWSUVXX1JFUVVFU1Q6XG4gICAgICBpZiAoIXByZXZTdGF0ZS5lZGl0Rm9ybSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBwcmV2U3RhdGUuZWRpdEZvcm0uaW5kZXgsXG4gICAgICAgICAgcHJldmlld1Jlc3BvbnNlOiBudWxsLFxuICAgICAgICAgIHByZXZpZXdVcmw6IGFjdGlvbi5kYXRhLnVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuUFJFVklFV19SRVFVRVNUX0NBTkNFTDpcbiAgICAgIGlmICghcHJldlN0YXRlLmVkaXRGb3JtKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGVkaXRGb3JtOiB7XG4gICAgICAgICAgaW5kZXg6IHByZXZTdGF0ZS5lZGl0Rm9ybS5pbmRleCxcbiAgICAgICAgICBwcmV2aWV3UmVzcG9uc2U6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlNDUkVFTlNIT1RfVVBEQVRFRDpcbiAgICAgIG5ld1Jvd3MgPSBwcmV2U3RhdGUucm93cy5tYXAocm93ID0+IHtcbiAgICAgICAgaWYgKHJvdyAmJiByb3cudXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICBoYXNNYXRjaCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHJvdywgeyBzY3JlZW5zaG90OiBhY3Rpb24uZGF0YS5zY3JlZW5zaG90IH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBoYXNNYXRjaFxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pXG4gICAgICAgIDogcHJldlN0YXRlO1xuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLX0FEREVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgbmV3Um93cyA9IHByZXZTdGF0ZS5yb3dzLm1hcChzaXRlID0+IHtcbiAgICAgICAgaWYgKHNpdGUgJiYgc2l0ZS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIGNvbnN0IHsgYm9va21hcmtHdWlkLCBib29rbWFya1RpdGxlLCBkYXRlQWRkZWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzaXRlLCB7XG4gICAgICAgICAgICBib29rbWFya0d1aWQsXG4gICAgICAgICAgICBib29rbWFya1RpdGxlLFxuICAgICAgICAgICAgYm9va21hcmtEYXRlQ3JlYXRlZDogZGF0ZUFkZGVkLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXRlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHJvd3M6IG5ld1Jvd3MgfSk7XG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktTX1JFTU9WRUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICBuZXdSb3dzID0gcHJldlN0YXRlLnJvd3MubWFwKHNpdGUgPT4ge1xuICAgICAgICBpZiAoc2l0ZSAmJiBhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKHNpdGUudXJsKSkge1xuICAgICAgICAgIGNvbnN0IG5ld1NpdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzaXRlKTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0d1aWQ7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtUaXRsZTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0RhdGVDcmVhdGVkO1xuICAgICAgICAgIHJldHVybiBuZXdTaXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXRlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHJvd3M6IG5ld1Jvd3MgfSk7XG4gICAgY2FzZSBhdC5QTEFDRVNfTElOS1NfREVMRVRFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIG5ld1Jvd3MgPSBwcmV2U3RhdGUucm93cy5maWx0ZXIoXG4gICAgICAgIHNpdGUgPT4gIWFjdGlvbi5kYXRhLnVybHMuaW5jbHVkZXMoc2l0ZS51cmwpXG4gICAgICApO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgIGNhc2UgYXQuVVBEQVRFX1NFQVJDSF9TSE9SVENVVFM6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHNlYXJjaFNob3J0Y3V0czogYWN0aW9uLmRhdGEuc2VhcmNoU2hvcnRjdXRzIH07XG4gICAgY2FzZSBhdC5TT1ZfVVBEQVRFRDoge1xuICAgICAgY29uc3Qgc292ID0ge1xuICAgICAgICByZWFkeTogYWN0aW9uLmRhdGEucmVhZHksXG4gICAgICAgIHBvc2l0aW9uczogYWN0aW9uLmRhdGEucG9zaXRpb25zLFxuICAgICAgfTtcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgc292IH07XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIERpYWxvZyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkRpYWxvZywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LkRJQUxPR19PUEVOOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyB2aXNpYmxlOiB0cnVlLCBkYXRhOiBhY3Rpb24uZGF0YSB9KTtcbiAgICBjYXNlIGF0LkRJQUxPR19DQU5DRUw6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7IHZpc2libGU6IGZhbHNlIH0pO1xuICAgIGNhc2UgYXQuRElBTE9HX0NMT1NFOlxuICAgICAgLy8gUmVzZXQgYW5kIGhpZGUgdGhlIGNvbmZpcm1hdGlvbiBkaWFsb2cgb25jZSB0aGUgYWN0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIElOSVRJQUxfU1RBVEUuRGlhbG9nKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBQcmVmcyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlByZWZzLCBhY3Rpb24pIHtcbiAgbGV0IG5ld1ZhbHVlcztcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuUFJFRlNfSU5JVElBTF9WQUxVRVM6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICB2YWx1ZXM6IGFjdGlvbi5kYXRhLFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5QUkVGX0NIQU5HRUQ6XG4gICAgICBuZXdWYWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUudmFsdWVzKTtcbiAgICAgIG5ld1ZhbHVlc1thY3Rpb24uZGF0YS5uYW1lXSA9IGFjdGlvbi5kYXRhLnZhbHVlO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyB2YWx1ZXM6IG5ld1ZhbHVlcyB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBTZWN0aW9ucyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlNlY3Rpb25zLCBhY3Rpb24pIHtcbiAgbGV0IGhhc01hdGNoO1xuICBsZXQgbmV3U3RhdGU7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlNFQ1RJT05fREVSRUdJU1RFUjpcbiAgICAgIHJldHVybiBwcmV2U3RhdGUuZmlsdGVyKHNlY3Rpb24gPT4gc2VjdGlvbi5pZCAhPT0gYWN0aW9uLmRhdGEpO1xuICAgIGNhc2UgYXQuU0VDVElPTl9SRUdJU1RFUjpcbiAgICAgIC8vIElmIHNlY3Rpb24gZXhpc3RzIGluIHByZXZTdGF0ZSwgdXBkYXRlIGl0XG4gICAgICBuZXdTdGF0ZSA9IHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PiB7XG4gICAgICAgIGlmIChzZWN0aW9uICYmIHNlY3Rpb24uaWQgPT09IGFjdGlvbi5kYXRhLmlkKSB7XG4gICAgICAgICAgaGFzTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCBhY3Rpb24uZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICB9KTtcbiAgICAgIC8vIE90aGVyd2lzZSwgYXBwZW5kIGl0XG4gICAgICBpZiAoIWhhc01hdGNoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxpemVkID0gISEoYWN0aW9uLmRhdGEucm93cyAmJiAhIWFjdGlvbi5kYXRhLnJvd3MubGVuZ3RoKTtcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgeyB0aXRsZTogXCJcIiwgcm93czogW10sIGVuYWJsZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgYWN0aW9uLmRhdGEsXG4gICAgICAgICAgeyBpbml0aWFsaXplZCB9XG4gICAgICAgICk7XG4gICAgICAgIG5ld1N0YXRlLnB1c2goc2VjdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgY2FzZSBhdC5TRUNUSU9OX1VQREFURTpcbiAgICAgIG5ld1N0YXRlID0gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHNlY3Rpb24gJiYgc2VjdGlvbi5pZCA9PT0gYWN0aW9uLmRhdGEuaWQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgYWN0aW9uIGlzIHVwZGF0aW5nIHJvd3MsIHdlIHNob3VsZCBjb25zaWRlciBpbml0aWFsaXplZCB0byBiZSB0cnVlLlxuICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gaWYgaW5pdGlhbGl6ZWQgaXMgZGVmaW5lZCBpbiB0aGUgYWN0aW9uLmRhdGFcbiAgICAgICAgICBjb25zdCBpbml0aWFsaXplZCA9IGFjdGlvbi5kYXRhLnJvd3MgPyB7IGluaXRpYWxpemVkOiB0cnVlIH0gOiB7fTtcblxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSBwaW5uZWQgY2FyZHMgc3RheSBhdCB0aGVpciBjdXJyZW50IHBvc2l0aW9uIHdoZW4gcm93cyBhcmUgdXBkYXRlZC5cbiAgICAgICAgICAvLyBEaXNhYmxpbmcgYSBzZWN0aW9uIChTRUNUSU9OX1VQREFURSB3aXRoIGVtcHR5IHJvd3MpIGRvZXMgbm90IHJldGFpbiBwaW5uZWQgY2FyZHMuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgYWN0aW9uLmRhdGEucm93cyAmJlxuICAgICAgICAgICAgISFhY3Rpb24uZGF0YS5yb3dzLmxlbmd0aCAmJlxuICAgICAgICAgICAgc2VjdGlvbi5yb3dzLmZpbmQoY2FyZCA9PiBjYXJkLnBpbm5lZClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSBBcnJheS5mcm9tKGFjdGlvbi5kYXRhLnJvd3MpO1xuICAgICAgICAgICAgc2VjdGlvbi5yb3dzLmZvckVhY2goKGNhcmQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChjYXJkLnBpbm5lZCkge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgYWRkIGl0IGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUuXG4gICAgICAgICAgICAgICAgaWYgKHJvd3NbaW5kZXhdLmd1aWQgIT09IGNhcmQuZ3VpZCkge1xuICAgICAgICAgICAgICAgICAgcm93cy5zcGxpY2UoaW5kZXgsIDAsIGNhcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAge30sXG4gICAgICAgICAgICAgIHNlY3Rpb24sXG4gICAgICAgICAgICAgIGluaXRpYWxpemVkLFxuICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24uZGF0YSwgeyByb3dzIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCBpbml0aWFsaXplZCwgYWN0aW9uLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghYWN0aW9uLmRhdGEuZGVkdXBlQ29uZmlndXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb24uZGF0YS5kZWR1cGVDb25maWd1cmF0aW9ucy5mb3JFYWNoKGRlZHVwZUNvbmYgPT4ge1xuICAgICAgICBuZXdTdGF0ZSA9IG5ld1N0YXRlLm1hcChzZWN0aW9uID0+IHtcbiAgICAgICAgICBpZiAoc2VjdGlvbi5pZCA9PT0gZGVkdXBlQ29uZi5pZCkge1xuICAgICAgICAgICAgY29uc3QgZGVkdXBlZFJvd3MgPSBkZWR1cGVDb25mLmRlZHVwZUZyb20ucmVkdWNlKFxuICAgICAgICAgICAgICAocm93cywgZGVkdXBlU2VjdGlvbklkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVkdXBlU2VjdGlvbiA9IG5ld1N0YXRlLmZpbmQoXG4gICAgICAgICAgICAgICAgICBzID0+IHMuaWQgPT09IGRlZHVwZVNlY3Rpb25JZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgWywgbmV3Um93c10gPSBkZWR1cGUuZ3JvdXAoZGVkdXBlU2VjdGlvbi5yb3dzLCByb3dzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Um93cztcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2VjdGlvbi5yb3dzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwgeyByb3dzOiBkZWR1cGVkUm93cyB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIGNhc2UgYXQuU0VDVElPTl9VUERBVEVfQ0FSRDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICBpZiAoc2VjdGlvbiAmJiBzZWN0aW9uLmlkID09PSBhY3Rpb24uZGF0YS5pZCAmJiBzZWN0aW9uLnJvd3MpIHtcbiAgICAgICAgICBjb25zdCBuZXdSb3dzID0gc2VjdGlvbi5yb3dzLm1hcChjYXJkID0+IHtcbiAgICAgICAgICAgIGlmIChjYXJkLnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjYXJkLCBhY3Rpb24uZGF0YS5vcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYXJkO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7IHJvd3M6IG5ld1Jvd3MgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19BRERFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBpdGVtIHdpdGhpbiB0aGUgcm93cyB0aGF0IGlzIGF0dGVtcHRlZCB0byBiZSBib29rbWFya2VkXG4gICAgICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgICAgICBjb25zdCB7IGJvb2ttYXJrR3VpZCwgYm9va21hcmtUaXRsZSwgZGF0ZUFkZGVkIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHtcbiAgICAgICAgICAgICAgICBib29rbWFya0d1aWQsXG4gICAgICAgICAgICAgICAgYm9va21hcmtUaXRsZSxcbiAgICAgICAgICAgICAgICBib29rbWFya0RhdGVDcmVhdGVkOiBkYXRlQWRkZWQsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJib29rbWFya1wiLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS1NfUkVNT1ZFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwge1xuICAgICAgICAgIHJvd3M6IHNlY3Rpb24ucm93cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBib29rbWFyayB3aXRoaW4gdGhlIHJvd3MgdGhhdCBpcyBhdHRlbXB0ZWQgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgaWYgKGFjdGlvbi5kYXRhLnVybHMuaW5jbHVkZXMoaXRlbS51cmwpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1NpdGUgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtHdWlkO1xuICAgICAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya1RpdGxlO1xuICAgICAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0RhdGVDcmVhdGVkO1xuICAgICAgICAgICAgICBpZiAoIW5ld1NpdGUudHlwZSB8fCBuZXdTaXRlLnR5cGUgPT09IFwiYm9va21hcmtcIikge1xuICAgICAgICAgICAgICAgIG5ld1NpdGUudHlwZSA9IFwiaGlzdG9yeVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBuZXdTaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGNhc2UgYXQuUExBQ0VTX0xJTktTX0RFTEVURUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgICAgICByb3dzOiBzZWN0aW9uLnJvd3MuZmlsdGVyKFxuICAgICAgICAgICAgc2l0ZSA9PiAhYWN0aW9uLmRhdGEudXJscy5pbmNsdWRlcyhzaXRlLnVybClcbiAgICAgICAgICApLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBjYXNlIGF0LlBMQUNFU19MSU5LX0JMT0NLRUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgICAgICByb3dzOiBzZWN0aW9uLnJvd3MuZmlsdGVyKHNpdGUgPT4gc2l0ZS51cmwgIT09IGFjdGlvbi5kYXRhLnVybCksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIE1lc3NhZ2VzKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuTWVzc2FnZXMsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5NRVNTQUdFX1NFVDpcbiAgICAgIGlmIChwcmV2U3RhdGUubWVzc2FnZURhdGEubWVzc2FnZVR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgbWVzc2FnZURhdGE6IGFjdGlvbi5kYXRhLm1lc3NhZ2UsXG4gICAgICAgIHBvcnRJRDogYWN0aW9uLmRhdGEucG9ydElEIHx8IFwiXCIsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuTUVTU0FHRV9UT0dHTEVfVklTSUJJTElUWTpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgaXNWaXNpYmxlOiBhY3Rpb24uZGF0YSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFBvY2tldChwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlBvY2tldCwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlBPQ0tFVF9XQUlUSU5HX0ZPUl9TUE9DOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCB3YWl0aW5nRm9yU3BvYzogYWN0aW9uLmRhdGEgfTtcbiAgICBjYXNlIGF0LlBPQ0tFVF9DVEE6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHBvY2tldEN0YToge1xuICAgICAgICAgIGN0YUJ1dHRvbjogYWN0aW9uLmRhdGEuY3RhX2J1dHRvbixcbiAgICAgICAgICBjdGFUZXh0OiBhY3Rpb24uZGF0YS5jdGFfdGV4dCxcbiAgICAgICAgICBjdGFVcmw6IGFjdGlvbi5kYXRhLmN0YV91cmwsXG4gICAgICAgICAgdXNlQ3RhOiBhY3Rpb24uZGF0YS51c2VfY3RhLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBQZXJzb25hbGl6YXRpb24ocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5QZXJzb25hbGl6YXRpb24sIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9MQVNUX1VQREFURUQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBhY3Rpb24uZGF0YS5sYXN0VXBkYXRlZCxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9JTklUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9SRVNFVDpcbiAgICAgIHJldHVybiB7IC4uLklOSVRJQUxfU1RBVEUuUGVyc29uYWxpemF0aW9uIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gSW5mZXJyZWRQZXJzb25hbGl6YXRpb24oXG4gIHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuSW5mZXJyZWRQZXJzb25hbGl6YXRpb24sXG4gIGFjdGlvblxuKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LklORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9VUERBVEU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICBpbmZlcnJlZEludGVyZXN0czogYWN0aW9uLmRhdGEuaW5mZXJyZWRJbnRlcmVzdHMsXG4gICAgICAgIGNvYXJzZUluZmVycmVkSW50ZXJlc3RzOiBhY3Rpb24uZGF0YS5jb2Fyc2VJbmZlcnJlZEludGVyZXN0cyxcbiAgICAgICAgY29hcnNlUHJpdmF0ZUluZmVycmVkSW50ZXJlc3RzOlxuICAgICAgICAgIGFjdGlvbi5kYXRhLmNvYXJzZVByaXZhdGVJbmZlcnJlZEludGVyZXN0cyxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IGFjdGlvbi5kYXRhLmxhc3RVcGRhdGVkLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LklORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9SRVNFVDpcbiAgICAgIHJldHVybiB7IC4uLklOSVRJQUxfU1RBVEUuSW5mZXJyZWRQZXJzb25hbGl6YXRpb24gfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gRGlzY292ZXJ5U3RyZWFtKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLCBhY3Rpb24pIHtcbiAgLy8gUmV0dXJuIGlmIGFjdGlvbiBkYXRhIGlzIGVtcHR5LCBvciBzcG9jcyBvciBmZWVkcyBkYXRhIGlzIG5vdCBsb2FkZWRcbiAgY29uc3QgaXNOb3RSZWFkeSA9ICgpID0+XG4gICAgIWFjdGlvbi5kYXRhIHx8ICFwcmV2U3RhdGUuc3BvY3MubG9hZGVkIHx8ICFwcmV2U3RhdGUuZmVlZHMubG9hZGVkO1xuXG4gIGNvbnN0IGhhbmRsZVBsYWNlbWVudHMgPSBoYW5kbGVTaXRlcyA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBwbGFjZW1lbnRzIH0gPSBwcmV2U3RhdGUuc3BvY3M7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG5cbiAgICBjb25zdCBmb3JQbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT4ge1xuICAgICAgY29uc3QgcGxhY2VtZW50U3BvY3MgPSBkYXRhW3BsYWNlbWVudC5uYW1lXTtcblxuICAgICAgaWYgKFxuICAgICAgICAhcGxhY2VtZW50U3BvY3MgfHxcbiAgICAgICAgIXBsYWNlbWVudFNwb2NzLml0ZW1zIHx8XG4gICAgICAgICFwbGFjZW1lbnRTcG9jcy5pdGVtcy5sZW5ndGhcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFtwbGFjZW1lbnQubmFtZV0gPSB7XG4gICAgICAgIC4uLnBsYWNlbWVudFNwb2NzLFxuICAgICAgICBpdGVtczogaGFuZGxlU2l0ZXMocGxhY2VtZW50U3BvY3MuaXRlbXMpLFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgaWYgKCFwbGFjZW1lbnRzIHx8ICFwbGFjZW1lbnRzLmxlbmd0aCkge1xuICAgICAgW3sgbmFtZTogXCJzcG9jc1wiIH1dLmZvckVhY2goZm9yUGxhY2VtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGxhY2VtZW50cy5mb3JFYWNoKGZvclBsYWNlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgY29uc3QgbmV4dFN0YXRlID0gaGFuZGxlU2l0ZXMgPT4gKHtcbiAgICAuLi5wcmV2U3RhdGUsXG4gICAgc3BvY3M6IHtcbiAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgIGRhdGE6IGhhbmRsZVBsYWNlbWVudHMoaGFuZGxlU2l0ZXMpLFxuICAgIH0sXG4gICAgZmVlZHM6IHtcbiAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcyxcbiAgICAgIGRhdGE6IE9iamVjdC5rZXlzKHByZXZTdGF0ZS5mZWVkcy5kYXRhKS5yZWR1Y2UoXG4gICAgICAgIChhY2N1bXVsYXRvciwgZmVlZF91cmwpID0+IHtcbiAgICAgICAgICBhY2N1bXVsYXRvcltmZWVkX3VybF0gPSB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcy5kYXRhW2ZlZWRfdXJsXS5kYXRhLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGhhbmRsZVNpdGVzKFxuICAgICAgICAgICAgICAgIHByZXZTdGF0ZS5mZWVkcy5kYXRhW2ZlZWRfdXJsXS5kYXRhLnJlY29tbWVuZGF0aW9uc1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgICAgfSxcbiAgICAgICAge31cbiAgICAgICksXG4gICAgfSxcbiAgfSk7XG5cbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfQ0hBTkdFOlxuICAgIC8vIEZhbGwgdGhyb3VnaCB0byBhIHNlcGFyYXRlIGFjdGlvbiBpcyBzbyBpdCBkb2Vzbid0IHRyaWdnZXIgYSBsaXN0ZW5lciB1cGRhdGUgb24gaW5pdFxuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUVVA6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGNvbmZpZzogYWN0aW9uLmRhdGEgfHwge30gfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fRVhQRVJJTUVOVF9EQVRBOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBleHBlcmltZW50RGF0YTogYWN0aW9uLmRhdGEgfHwge30gfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1VQREFURTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgbGF5b3V0OiBhY3Rpb24uZGF0YS5sYXlvdXQgfHwgW10sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9UT1BJQ1NfTE9BRElORzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgdG9waWNzTG9hZGluZzogYWN0aW9uLmRhdGEsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9QUkVGU19TRVRVUDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaGlkZURlc2NyaXB0aW9uczogYWN0aW9uLmRhdGEuaGlkZURlc2NyaXB0aW9ucyxcbiAgICAgICAgY29tcGFjdEltYWdlczogYWN0aW9uLmRhdGEuY29tcGFjdEltYWdlcyxcbiAgICAgICAgaW1hZ2VHcmFkaWVudDogYWN0aW9uLmRhdGEuaW1hZ2VHcmFkaWVudCxcbiAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWw6IGFjdGlvbi5kYXRhLm5ld1Nwb25zb3JlZExhYmVsLFxuICAgICAgICB0aXRsZUxpbmVzOiBhY3Rpb24uZGF0YS50aXRsZUxpbmVzLFxuICAgICAgICBkZXNjTGluZXM6IGFjdGlvbi5kYXRhLmRlc2NMaW5lcyxcbiAgICAgICAgcmVhZFRpbWU6IGFjdGlvbi5kYXRhLnJlYWRUaW1lLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LlNIT1dfUFJJVkFDWV9JTkZPOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fTEFZT1VUX1JFU0VUOlxuICAgICAgcmV0dXJuIHsgLi4uSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0sIGNvbmZpZzogcHJldlN0YXRlLmNvbmZpZyB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9GRUVEU19VUERBVEU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGZlZWRzOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLmZlZWRzLFxuICAgICAgICAgIGxvYWRlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFOiB7XG4gICAgICBjb25zdCBuZXdEYXRhID0ge307XG4gICAgICBuZXdEYXRhW2FjdGlvbi5kYXRhLnVybF0gPSBhY3Rpb24uZGF0YS5mZWVkO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBmZWVkczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMuZGF0YSxcbiAgICAgICAgICAgIC4uLm5ld0RhdGEsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfSU1QUkVTU0lPTlM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGltcHJlc3Npb25zOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLmltcHJlc3Npb25zLFxuICAgICAgICAgIGZlZWQ6IGFjdGlvbi5kYXRhLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fREVWX0JMT0NLUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgYmxvY2tzOiBhY3Rpb24uZGF0YSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX0NBUFM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNwb2NzOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgIGZyZXF1ZW5jeV9jYXBzOiBbLi4ucHJldlN0YXRlLnNwb2NzLmZyZXF1ZW5jeV9jYXBzLCAuLi5hY3Rpb24uZGF0YV0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5JTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbS5zcG9jcyxcbiAgICAgICAgICBzcG9jc19lbmRwb2ludDpcbiAgICAgICAgICAgIGFjdGlvbi5kYXRhLnVybCB8fFxuICAgICAgICAgICAgSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0uc3BvY3Muc3BvY3NfZW5kcG9pbnQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19QTEFDRU1FTlRTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzcG9jczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgICAgICBwbGFjZW1lbnRzOlxuICAgICAgICAgICAgYWN0aW9uLmRhdGEucGxhY2VtZW50cyB8fFxuICAgICAgICAgICAgSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0uc3BvY3MucGxhY2VtZW50cyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NTX1VQREFURTpcbiAgICAgIGlmIChhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgICBzcG9jczoge1xuICAgICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IGFjdGlvbi5kYXRhLmxhc3RVcGRhdGVkLFxuICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEuc3BvY3MsXG4gICAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX1NQT0NfQkxPQ0tFRDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICAgICAgYmxvY2tlZDogWy4uLnByZXZTdGF0ZS5zcG9jcy5ibG9ja2VkLCBhY3Rpb24uZGF0YS51cmxdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fTElOS19CTE9DS0VEOlxuICAgICAgcmV0dXJuIGlzTm90UmVhZHkoKVxuICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICA6IG5leHRTdGF0ZShpdGVtcyA9PlxuICAgICAgICAgICAgaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS51cmwgIT09IGFjdGlvbi5kYXRhLnVybClcbiAgICAgICAgICApO1xuXG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktfQURERUQ6IHtcbiAgICAgIGNvbnN0IHVwZGF0ZUJvb2ttYXJrSW5mbyA9IGl0ZW0gPT4ge1xuICAgICAgICBpZiAoaXRlbS51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgIGNvbnN0IHsgYm9va21hcmtHdWlkLCBib29rbWFya1RpdGxlLCBkYXRlQWRkZWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICBib29rbWFya0d1aWQsXG4gICAgICAgICAgICBib29rbWFya1RpdGxlLFxuICAgICAgICAgICAgYm9va21hcmtEYXRlQ3JlYXRlZDogZGF0ZUFkZGVkLFxuICAgICAgICAgICAgY29udGV4dF90eXBlOiBcImJvb2ttYXJrXCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGlzTm90UmVhZHkoKVxuICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICA6IG5leHRTdGF0ZShpdGVtcyA9PiBpdGVtcy5tYXAodXBkYXRlQm9va21hcmtJbmZvKSk7XG4gICAgfVxuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLU19SRU1PVkVEOiB7XG4gICAgICBjb25zdCByZW1vdmVCb29rbWFya0luZm8gPSBpdGVtID0+IHtcbiAgICAgICAgaWYgKGFjdGlvbi5kYXRhLnVybHMuaW5jbHVkZXMoaXRlbS51cmwpKSB7XG4gICAgICAgICAgY29uc3QgbmV3U2l0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pO1xuICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrR3VpZDtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya1RpdGxlO1xuICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrRGF0ZUNyZWF0ZWQ7XG4gICAgICAgICAgaWYgKCFuZXdTaXRlLmNvbnRleHRfdHlwZSB8fCBuZXdTaXRlLmNvbnRleHRfdHlwZSA9PT0gXCJib29rbWFya1wiKSB7XG4gICAgICAgICAgICBuZXdTaXRlLmNvbnRleHRfdHlwZSA9IFwicmVtb3ZlZEJvb2ttYXJrXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXdTaXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBpc05vdFJlYWR5KClcbiAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgOiBuZXh0U3RhdGUoaXRlbXMgPT4gaXRlbXMubWFwKHJlbW92ZUJvb2ttYXJrSW5mbykpO1xuICAgIH1cbiAgICBjYXNlIGF0LlRPUElDX1NFTEVDVElPTl9TUE9UTElHSFRfT1BFTjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc2hvd1RvcGljU2VsZWN0aW9uOiB0cnVlLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LlRPUElDX1NFTEVDVElPTl9TUE9UTElHSFRfQ0xPU0U6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNob3dUb3BpY1NlbGVjdGlvbjogZmFsc2UsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuU0VDVElPTl9CTE9DS0VEOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzaG93QmxvY2tTZWN0aW9uQ29uZmlybWF0aW9uOiB0cnVlLFxuICAgICAgICBzZWN0aW9uUGVyc29uYWxpemF0aW9uOiBhY3Rpb24uZGF0YSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5SRVBPUlRfQURfT1BFTjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgcmVwb3J0OiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLnJlcG9ydCxcbiAgICAgICAgICBjYXJkX3R5cGU6IGFjdGlvbi5kYXRhPy5jYXJkX3R5cGUsXG4gICAgICAgICAgcG9zaXRpb246IGFjdGlvbi5kYXRhPy5wb3NpdGlvbixcbiAgICAgICAgICBwbGFjZW1lbnRfaWQ6IGFjdGlvbi5kYXRhPy5wbGFjZW1lbnRfaWQsXG4gICAgICAgICAgcmVwb3J0aW5nX3VybDogYWN0aW9uLmRhdGE/LnJlcG9ydGluZ191cmwsXG4gICAgICAgICAgdXJsOiBhY3Rpb24uZGF0YT8udXJsLFxuICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuUkVQT1JUX0NPTlRFTlRfT1BFTjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgcmVwb3J0OiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLnJlcG9ydCxcbiAgICAgICAgICBjYXJkX3R5cGU6IGFjdGlvbi5kYXRhPy5jYXJkX3R5cGUsXG4gICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IGFjdGlvbi5kYXRhPy5jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IGFjdGlvbi5kYXRhPy5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogYWN0aW9uLmRhdGE/LnNlY3Rpb25fcG9zaXRpb24sXG4gICAgICAgICAgc2VjdGlvbjogYWN0aW9uLmRhdGE/LnNlY3Rpb24sXG4gICAgICAgICAgdGl0bGU6IGFjdGlvbi5kYXRhPy50aXRsZSxcbiAgICAgICAgICB0b3BpYzogYWN0aW9uLmRhdGE/LnRvcGljLFxuICAgICAgICAgIHVybDogYWN0aW9uLmRhdGE/LnVybCxcbiAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LlJFUE9SVF9DTE9TRTpcbiAgICBjYXNlIGF0LlJFUE9SVF9BRF9TVUJNSVQ6XG4gICAgY2FzZSBhdC5SRVBPUlRfQ09OVEVOVF9TVUJNSVQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHJlcG9ydDoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5yZXBvcnQsXG4gICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fVVBEQVRFOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBzZWN0aW9uUGVyc29uYWxpemF0aW9uOiBhY3Rpb24uZGF0YSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFNlYXJjaChwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlNlYXJjaCwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LkRJU0FCTEVfU0VBUkNIOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAuLi5wcmV2U3RhdGUsIGRpc2FibGU6IHRydWUgfSk7XG4gICAgY2FzZSBhdC5GQUtFX0ZPQ1VTX1NFQVJDSDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgLi4ucHJldlN0YXRlLCBmYWtlRm9jdXM6IHRydWUgfSk7XG4gICAgY2FzZSBhdC5TSE9XX1NFQVJDSDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgLi4ucHJldlN0YXRlLCBkaXNhYmxlOiBmYWxzZSwgZmFrZUZvY3VzOiBmYWxzZSB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXYWxscGFwZXJzKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuV2FsbHBhcGVycywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LldBTExQQVBFUlNfU0VUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICB3YWxscGFwZXJMaXN0OiBhY3Rpb24uZGF0YSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5XQUxMUEFQRVJTX0ZFQVRVUkVfSElHSExJR0hUX0NPVU5URVJfSU5DUkVNRU5UOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBoaWdobGlnaHRTZWVuQ291bnRlcjogYWN0aW9uLmRhdGEsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0FMTFBBUEVSU19DQVRFR09SWV9TRVQ6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGNhdGVnb3JpZXM6IGFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5XQUxMUEFQRVJTX0NVU1RPTV9TRVQ6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHVwbG9hZGVkV2FsbHBhcGVyOiBhY3Rpb24uZGF0YSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIE5vdGlmaWNhdGlvbnMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5Ob3RpZmljYXRpb25zLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuU0hPV19UT0FTVF9NRVNTQUdFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzaG93Tm90aWZpY2F0aW9uczogYWN0aW9uLmRhdGEuc2hvd05vdGlmaWNhdGlvbnMsXG4gICAgICAgIHRvYXN0Q291bnRlcjogcHJldlN0YXRlLnRvYXN0Q291bnRlciArIDEsXG4gICAgICAgIHRvYXN0SWQ6IGFjdGlvbi5kYXRhLnRvYXN0SWQsXG4gICAgICAgIHRvYXN0UXVldWU6IFthY3Rpb24uZGF0YS50b2FzdElkXSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ISURFX1RPQVNUX01FU1NBR0U6IHtcbiAgICAgIGNvbnN0IHsgc2hvd05vdGlmaWNhdGlvbnMsIHRvYXN0SWQ6IGhpZGRlblRvYXN0SWQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgY29uc3QgcXVldWVkVG9hc3RzID0gWy4uLnByZXZTdGF0ZS50b2FzdFF1ZXVlXS5maWx0ZXIoXG4gICAgICAgIHRvYXN0SWQgPT4gdG9hc3RJZCAhPT0gaGlkZGVuVG9hc3RJZFxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgdG9hc3RDb3VudGVyOiBxdWV1ZWRUb2FzdHMubGVuZ3RoLFxuICAgICAgICB0b2FzdFF1ZXVlOiBxdWV1ZWRUb2FzdHMsXG4gICAgICAgIHRvYXN0SWQ6IFwiXCIsXG4gICAgICAgIHNob3dOb3RpZmljYXRpb25zLFxuICAgICAgfTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gV2VhdGhlcihwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLldlYXRoZXIsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5XRUFUSEVSX1VQREFURTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3VnZ2VzdGlvbnM6IGFjdGlvbi5kYXRhLnN1Z2dlc3Rpb25zLFxuICAgICAgICBsYXN0VXBkYXRlZDogYWN0aW9uLmRhdGEuZGF0ZSxcbiAgICAgICAgbG9jYXRpb25EYXRhOiBhY3Rpb24uZGF0YS5sb2NhdGlvbkRhdGEgfHwgcHJldlN0YXRlLmxvY2F0aW9uRGF0YSxcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0VBVEhFUl9TRUFSQ0hfQUNUSVZFOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBzZWFyY2hBY3RpdmU6IGFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5XRUFUSEVSX0xPQ0FUSU9OX1NFQVJDSF9VUERBVEU6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGxvY2F0aW9uU2VhcmNoU3RyaW5nOiBhY3Rpb24uZGF0YSB9O1xuICAgIGNhc2UgYXQuV0VBVEhFUl9MT0NBVElPTl9TVUdHRVNUSU9OU19VUERBVEU6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHN1Z2dlc3RlZExvY2F0aW9uczogYWN0aW9uLmRhdGEgfTtcbiAgICBjYXNlIGF0LldFQVRIRVJfTE9DQVRJT05fREFUQV9VUERBVEU6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGxvY2F0aW9uRGF0YTogYWN0aW9uLmRhdGEgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBBZHMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5BZHMsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5BRFNfSU5JVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuQURTX1VQREFURV9USUxFUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgdGlsZXM6IGFjdGlvbi5kYXRhLnRpbGVzLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkFEU19VUERBVEVfU1BPQ1M6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNwb2NzOiBhY3Rpb24uZGF0YS5zcG9jcyxcbiAgICAgICAgc3BvY1BsYWNlbWVudHM6IGFjdGlvbi5kYXRhLnNwb2NQbGFjZW1lbnRzLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkFEU19SRVNFVDpcbiAgICAgIHJldHVybiB7IC4uLklOSVRJQUxfU1RBVEUuQWRzIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gVHJlbmRpbmdTZWFyY2gocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5UcmVuZGluZ1NlYXJjaCwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlRSRU5ESU5HX1NFQVJDSF9VUERBVEU6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHN1Z2dlc3Rpb25zOiBhY3Rpb24uZGF0YSB9O1xuICAgIGNhc2UgYXQuVFJFTkRJTkdfU0VBUkNIX1RPR0dMRV9DT0xMQVBTRTpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgY29sbGFwc2VkOiBhY3Rpb24uZGF0YS5jb2xsYXBzZWQgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBUaW1lcldpZGdldChwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLlRpbWVyV2lkZ2V0LCBhY3Rpb24pIHtcbiAgLy8gZmFsbGJhY2sgdG8gY3VycmVudCB0aW1lclR5cGUgaW4gc3RhdGUgaWYgbm90IHByb3ZpZGVkIGluIGFjdGlvblxuICBjb25zdCB0aW1lclR5cGUgPSBhY3Rpb24uZGF0YT8udGltZXJUeXBlIHx8IHByZXZTdGF0ZS50aW1lclR5cGU7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LldJREdFVFNfVElNRVJfU0VUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAuLi5hY3Rpb24uZGF0YSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5XSURHRVRTX1RJTUVSX1NFVF9UWVBFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICB0aW1lclR5cGU6IGFjdGlvbi5kYXRhLnRpbWVyVHlwZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5XSURHRVRTX1RJTUVSX1NFVF9EVVJBVElPTjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgW3RpbWVyVHlwZV06IHtcbiAgICAgICAgICAvLyBzZXR0aW5nIGEgZHluYW1pYyBrZXkgYXNzaWdubWVudCB0byBsZXQgdXMgZHluYW1pY2FsbHkgdXBkYXRlIHRpbWVyIHR5cGUncyBzdGF0ZSBiYXNlZCBvbiB3aGF0IGlzIHNldFxuICAgICAgICAgIGR1cmF0aW9uOiBhY3Rpb24uZGF0YS5kdXJhdGlvbixcbiAgICAgICAgICBpbml0aWFsRHVyYXRpb246IGFjdGlvbi5kYXRhLmR1cmF0aW9uLFxuICAgICAgICAgIHN0YXJ0VGltZTogbnVsbCxcbiAgICAgICAgICBpc1J1bm5pbmc6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LldJREdFVFNfVElNRVJfUExBWTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgW3RpbWVyVHlwZV06IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGVbdGltZXJUeXBlXSxcbiAgICAgICAgICBzdGFydFRpbWU6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLCAvLyByZWZsZWN0ZWQgaW4gc2Vjb25kc1xuICAgICAgICAgIGlzUnVubmluZzogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5XSURHRVRTX1RJTUVSX1BBVVNFOlxuICAgICAgaWYgKHByZXZTdGF0ZVt0aW1lclR5cGVdPy5pc1J1bm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgW3RpbWVyVHlwZV06IHtcbiAgICAgICAgICAgIC4uLnByZXZTdGF0ZVt0aW1lclR5cGVdLFxuICAgICAgICAgICAgZHVyYXRpb246IGFjdGlvbi5kYXRhLmR1cmF0aW9uLFxuICAgICAgICAgICAgLy8gc2V0dGluZyBzdGFydFRpbWUgdG8gbnVsbCBvbiBwYXVzZSBiZWNhdXNlIHdlIG5lZWQgdG8gY2hlY2sgdGhlIGV4YWN0IHRpbWUgdGhlIHVzZXIgcHJlc3NlcyBwbGF5LFxuICAgICAgICAgICAgLy8gd2hldGhlciBpdCdzIHdoZW4gdGhlIHVzZXIgc3RhcnRzIG9yIHJlc3VtZXMgdGhlIHRpbWVyLiBUaGlzIGhlbHBzIGdldCBhY2N1cmF0ZSByZXN1bHRzXG4gICAgICAgICAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgICAgICAgICBpc1J1bm5pbmc6IGZhbHNlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgIGNhc2UgYXQuV0lER0VUU19USU1FUl9SRVNFVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgW3RpbWVyVHlwZV06IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGVbdGltZXJUeXBlXSxcbiAgICAgICAgICBkdXJhdGlvbjogYWN0aW9uLmRhdGEuZHVyYXRpb24sXG4gICAgICAgICAgaW5pdGlhbER1cmF0aW9uOiBhY3Rpb24uZGF0YS5kdXJhdGlvbixcbiAgICAgICAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgICAgICAgaXNSdW5uaW5nOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5XSURHRVRTX1RJTUVSX0VORDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgW3RpbWVyVHlwZV06IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGVbdGltZXJUeXBlXSxcbiAgICAgICAgICBkdXJhdGlvbjogYWN0aW9uLmRhdGEuZHVyYXRpb24sXG4gICAgICAgICAgaW5pdGlhbER1cmF0aW9uOiBhY3Rpb24uZGF0YS5kdXJhdGlvbixcbiAgICAgICAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgICAgICAgaXNSdW5uaW5nOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gTGlzdHNXaWRnZXQocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5MaXN0c1dpZGdldCwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LldJREdFVFNfTElTVFNfU0VUOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBsaXN0czogYWN0aW9uLmRhdGEgfTtcbiAgICBjYXNlIGF0LldJREdFVFNfTElTVFNfU0VUX1NFTEVDVEVEOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBzZWxlY3RlZDogYWN0aW9uLmRhdGEgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVkdWNlcnMgPSB7XG4gIFRvcFNpdGVzLFxuICBBcHAsXG4gIEFkcyxcbiAgUHJlZnMsXG4gIERpYWxvZyxcbiAgU2VjdGlvbnMsXG4gIE1lc3NhZ2VzLFxuICBOb3RpZmljYXRpb25zLFxuICBQb2NrZXQsXG4gIFBlcnNvbmFsaXphdGlvbixcbiAgSW5mZXJyZWRQZXJzb25hbGl6YXRpb24sXG4gIERpc2NvdmVyeVN0cmVhbSxcbiAgU2VhcmNoLFxuICBUaW1lcldpZGdldCxcbiAgTGlzdHNXaWRnZXQsXG4gIFRyZW5kaW5nU2VhcmNoLFxuICBXYWxscGFwZXJzLFxuICBXZWF0aGVyLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVGb3JtSW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgdmFsaWRhdGlvbkVycm9yOiB0aGlzLnByb3BzLnZhbGlkYXRpb25FcnJvciB9O1xuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1vdW50ID0gdGhpcy5vbk1vdW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsZWFySWNvblByZXNzID0gdGhpcy5vbkNsZWFySWNvblByZXNzLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGlmIChuZXh0UHJvcHMuc2hvdWxkRm9jdXMgJiYgIXRoaXMucHJvcHMuc2hvdWxkRm9jdXMpIHtcbiAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gICAgaWYgKG5leHRQcm9wcy52YWxpZGF0aW9uRXJyb3IgJiYgIXRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiB0cnVlIH0pO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgY29tcG9uZW50IGlzIGluIGFuIGVycm9yIHN0YXRlIGJ1dCB0aGUgdmFsdWUgd2FzIGNsZWFyZWQgYnkgdGhlIHBhcmVudFxuICAgIGlmICh0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJiAhbmV4dFByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBvbkNsZWFySWNvblByZXNzKGV2ZW50KSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgaW5wdXQgaW4gdGhlIFVSTCBvciBjdXN0b20gaW1hZ2UgVVJMIGZpZWxkcyxcbiAgICAvLyBhbmQgd2UgaGl0ICdlbnRlcicgd2hpbGUgdGFiYmVkIG92ZXIgdGhlIGNsZWFyIGljb24sXG4gICAgLy8gd2Ugc2hvdWxkIGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHRvIGNsZWFyIHRoZSBmaWVsZC5cbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbGVhcigpO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlKGV2KSB7XG4gICAgaWYgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShldik7XG4gIH1cblxuICBvbk1vdW50KGlucHV0KSB7XG4gICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZ09yQ2xvc2VCdXR0b24oKSB7XG4gICAgY29uc3Qgc2hvd0NsZWFyQnV0dG9uID0gdGhpcy5wcm9wcy52YWx1ZSAmJiB0aGlzLnByb3BzLm9uQ2xlYXI7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLWFuaW1hdGlvblwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHNob3dDbGVhckJ1dHRvbikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImljb24gaWNvbi1jbGVhci1pbnB1dCBpY29uLWJ1dHRvbi1zdHlsZVwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsZWFyfVxuICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMub25DbGVhckljb25QcmVzc31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdHlwZVVybCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHZhbGlkYXRpb25FcnJvciB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGFiZWw+XG4gICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD17dGhpcy5wcm9wcy50aXRsZUlkfSAvPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmllbGQgJHt0eXBlVXJsID8gXCJ1cmxcIiA6IFwiXCJ9JHtcbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvciA/IFwiIGludmFsaWRcIiA6IFwiXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgICByZWY9e3RoaXMub25Nb3VudH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVySWR9XG4gICAgICAgICAgICAvLyBTZXQgZm9jdXMgb24gZXJyb3IgaWYgdGhlIHVybCBmaWVsZCBpcyB2YWxpZCBvciB3aGVuIHRoZSBpbnB1dCBpcyBmaXJzdCByZW5kZXJlZCBhbmQgaXMgZW1wdHlcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9uby1hdXRvZm9jdXNcbiAgICAgICAgICAgIGF1dG9Gb2N1cz17dGhpcy5wcm9wcy5hdXRvRm9jdXNPbk9wZW59XG4gICAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5sb2FkaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgICAge3RoaXMucmVuZGVyTG9hZGluZ09yQ2xvc2VCdXR0b24oKX1cbiAgICAgICAgICB7dmFsaWRhdGlvbkVycm9yICYmIChcbiAgICAgICAgICAgIDxhc2lkZVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlcnJvci10b29sdGlwXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLmVycm9yTWVzc2FnZUlkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGFiZWw+XG4gICAgKTtcbiAgfVxufVxuXG5Ub3BTaXRlRm9ybUlucHV0LmRlZmF1bHRQcm9wcyA9IHtcbiAgc2hvd0NsZWFyQnV0dG9uOiBmYWxzZSxcbiAgdmFsdWU6IFwiXCIsXG4gIHZhbGlkYXRpb25FcnJvcjogZmFsc2UsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5cbi8vIFBlciBhbmFseXRpY2FsIHJlcXVpcmVtZW50LCB3ZSBzZXQgdGhlIG1pbmltYWwgaW50ZXJzZWN0aW9uIHJhdGlvIHRvXG4vLyAwLjUsIGFuZCBhbiBpbXByZXNzaW9uIGlzIGlkZW50aWZpZWQgd2hlbiB0aGUgd3JhcHBlZCBpdGVtIGhhcyBhdCBsZWFzdFxuLy8gNTAlIHZpc2liaWxpdHkuXG4vL1xuLy8gVGhpcyBjb25zdGFudCBpcyBleHBvcnRlZCBmb3IgdW5pdCB0ZXN0XG5leHBvcnQgY29uc3QgSU5URVJTRUNUSU9OX1JBVElPID0gMC41O1xuXG4vKipcbiAqIEltcHJlc3Npb24gd3JhcHBlciBmb3IgYSBUb3BTaXRlIHRpbGUuXG4gKlxuICogSXQgbWFrc2VzIHVzZSBvZiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgdGhlIHZpc2liaWxpdHksXG4gKiBhbmQgcmVsaWVzIG9uIHBhZ2UgdmlzaWJpbGl0eSB0byBlbnN1cmUgdGhlIGltcHJlc3Npb24gaXMgcmVwb3J0ZWRcbiAqIG9ubHkgd2hlbiB0aGUgY29tcG9uZW50IGlzIHZpc2libGUgb24gdGhlIHBhZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb3BTaXRlSW1wcmVzc2lvbldyYXBwZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCkge1xuICAgIGNvbnN0IHsgYWN0aW9uVHlwZSwgdGlsZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWFjdGlvblR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGFjdGlvblR5cGUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0eXBlOiBcImltcHJlc3Npb25cIixcbiAgICAgICAgICAuLi50aWxlLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgc2V0SW1wcmVzc2lvbk9ic2VydmVyT3JBZGRMaXN0ZW5lcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgaWYgKCFwcm9wcy5kaXNwYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGV2ZXIgc2VuZCB0aGUgbGF0ZXN0IGltcHJlc3Npb24gc3RhdHMgcGluZywgc28gcmVtb3ZlIGFueVxuICAgICAgLy8gb2xkZXIgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlcigpO1xuICAgICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYW4gaW1wcmVzc2lvbiBvYnNlcnZlciBmb3IgdGhlIHdyYXBwZWQgY29tcG9uZW50LiBJdCBtYWtlcyB1c2Ugb2ZcbiAgICogdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgdG8gZGV0ZWN0IGlmIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBpc1xuICAgKiB2aXNpYmxlIHdpdGggYSBkZXNpcmVkIHJhdGlvLCBhbmQgb25seSBzZW5kcyBpbXByZXNzaW9uIGlmIHRoYXQncyB0aGUgY2FzZS5cbiAgICpcbiAgICogU2VlIG1vcmUgZGV0YWlscyBhYm91dCBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgQVBJIGF0OlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW50ZXJzZWN0aW9uX09ic2VydmVyX0FQSVxuICAgKi9cbiAgc2V0SW1wcmVzc2lvbk9ic2VydmVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXByb3BzLnRpbGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9oYW5kbGVJbnRlcnNlY3QgPSBlbnRyaWVzID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZW50cmllcy5zb21lKFxuICAgICAgICAgIGVudHJ5ID0+XG4gICAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyAmJlxuICAgICAgICAgICAgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gSU5URVJTRUNUSU9OX1JBVElPXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgICAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlci51bm9ic2VydmUodGhpcy5yZWZzLnRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgdGhyZXNob2xkOiBJTlRFUlNFQ1RJT05fUkFUSU8gfTtcbiAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlciA9IG5ldyBwcm9wcy5JbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIHRoaXMuX2hhbmRsZUludGVyc2VjdCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLm9ic2VydmUodGhpcy5yZWZzLnRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnRpbGUpIHtcbiAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9oYW5kbGVJbnRlcnNlY3QgJiYgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnJlZnMudG9wc2l0ZV9pbXByZXNzaW9uX3dyYXBwZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17XCJ0b3BzaXRlX2ltcHJlc3Npb25fd3JhcHBlclwifVxuICAgICAgICBjbGFzc05hbWU9XCJ0b3BzaXRlLWltcHJlc3Npb24tb2JzZXJ2ZXJcIlxuICAgICAgPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6IGdsb2JhbFRoaXMuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsXG4gIGRvY3VtZW50OiBnbG9iYWxUaGlzLmRvY3VtZW50LFxuICBhY3Rpb25UeXBlOiBudWxsLFxuICB0aWxlOiBudWxsLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IHVzZUludGVyc2VjdGlvbk9ic2VydmVyIH0gZnJvbSBcIi4uLy4uL2xpYi91dGlsc1wiO1xuXG4vLyBOb3RlOiBNZXNzYWdlV3JhcHBlciBlbWl0cyBldmVudHMgdmlhIHN1Ym1pdEdsZWFuUGluZ0ZvclBpbmcoKSBpbiB0aGUgT01DIG1lc3NhZ2luZy1zeXN0ZW0uXG4vLyBJZiBhIGZlYXR1cmUgaXMgdHJpZ2dlcmVkIG91dHNpZGUgb2YgdGhpcyBmbG93IChlLmcuLCB0aGUgTW9iaWxlIERvd25sb2FkIFFSIFByb21vKSxcbi8vIGl0IHNob3VsZCBlbWl0IE5ldyBUYWItc3BlY2lmaWMgR2xlYW4gZXZlbnRzIGluZGVwZW5kZW50bHkuXG5cbmZ1bmN0aW9uIE1lc3NhZ2VXcmFwcGVyKHsgY2hpbGRyZW4sIGRpc3BhdGNoLCBoaWRkZW5PdmVycmlkZSwgb25EaXNtaXNzIH0pIHtcbiAgY29uc3QgbWVzc2FnZSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLk1lc3NhZ2VzKTtcbiAgY29uc3QgW2lzSW50ZXJzZWN0aW5nLCBzZXRJc0ludGVyc2VjdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0YWJJc1Zpc2libGUsIHNldFRhYklzVmlzaWJsZV0gPSB1c2VTdGF0ZShcbiAgICAoKSA9PlxuICAgICAgdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCJcbiAgKTtcbiAgY29uc3QgW2hhc1J1biwgc2V0SGFzUnVuXSA9IHVzZVN0YXRlKCk7XG5cbiAgY29uc3QgaGFuZGxlSW50ZXJzZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzSW50ZXJzZWN0aW5nKHRydWUpO1xuICAgIC8vIG9ubHkgc2VuZCBpbXByZXNzaW9uIGlmIG1lc3NhZ2VJZCBpcyBkZWZpbmVkIGFuZCB0YWIgaXMgdmlzaWJsZVxuICAgIGlmICh0YWJJc1Zpc2libGUgJiYgbWVzc2FnZS5tZXNzYWdlRGF0YS5pZCAmJiAhaGFzUnVuKSB7XG4gICAgICBzZXRIYXNSdW4odHJ1ZSk7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuTUVTU0FHRV9JTVBSRVNTSU9OLFxuICAgICAgICAgIGRhdGE6IG1lc3NhZ2UubWVzc2FnZURhdGEsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBtZXNzYWdlLCB0YWJJc1Zpc2libGUsIGhhc1J1bl0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gd2UgZG9udCB3YW50IHRvIGRpc3BhdGNoIHRoaXMgYWN0aW9uIHVubGVzcyB0aGUgY3VycmVudCB0YWIgaXMgb3BlbiBhbmQgdmlzaWJsZVxuICAgIGlmIChtZXNzYWdlLmlzVmlzaWJsZSAmJiB0YWJJc1Zpc2libGUpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5NRVNTQUdFX05PVElGWV9WSVNJQklMSVRZLFxuICAgICAgICAgIGRhdGE6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfSwgW21lc3NhZ2UsIGRpc3BhdGNoLCB0YWJJc1Zpc2libGVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBzZXRUYWJJc1Zpc2libGUoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcInZpc2libGVcIik7XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgcmVmID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uKTtcblxuICBjb25zdCBoYW5kbGVDbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICB0eXBlOiBhdC5NRVNTQUdFX1RPR0dMRV9WSVNJQklMSVRZLFxuICAgICAgZGF0YTogZmFsc2UsIC8vaXNWaXNpYmxlXG4gICAgfTtcbiAgICBpZiAobWVzc2FnZS5wb3J0SUQpIHtcbiAgICAgIGRpc3BhdGNoKGFjLk9ubHlUb09uZUNvbnRlbnQoYWN0aW9uLCBtZXNzYWdlLnBvcnRJRCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwYXRjaChhYy5BbHNvVG9NYWluKGFjdGlvbikpO1xuICAgIH1cbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5NRVNTQUdFX05PVElGWV9WSVNJQklMSVRZLFxuICAgICAgICBkYXRhOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBvbkRpc21pc3M/LigpO1xuICB9LCBbZGlzcGF0Y2gsIG1lc3NhZ2UsIG9uRGlzbWlzc10pO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZURpc21pc3MoKSB7XG4gICAgY29uc3QgeyBpZCB9ID0gbWVzc2FnZS5tZXNzYWdlRGF0YTtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5NRVNTQUdFX0RJU01JU1MsXG4gICAgICAgICAgZGF0YTogeyBtZXNzYWdlOiBtZXNzYWdlLm1lc3NhZ2VEYXRhIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBoYW5kbGVDbG9zZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQmxvY2soKSB7XG4gICAgY29uc3QgeyBpZCB9ID0gbWVzc2FnZS5tZXNzYWdlRGF0YTtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5NRVNTQUdFX0JMT0NLLFxuICAgICAgICAgIGRhdGE6IGlkLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDbGljayhlbGVtZW50SWQpIHtcbiAgICBjb25zdCB7IGlkIH0gPSBtZXNzYWdlLm1lc3NhZ2VEYXRhO1xuICAgIGlmIChpZCkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk1FU1NBR0VfQ0xJQ0ssXG4gICAgICAgICAgZGF0YTogeyBtZXNzYWdlOiBtZXNzYWdlLm1lc3NhZ2VEYXRhLCBzb3VyY2U6IGVsZW1lbnRJZCB8fCBcIlwiIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbWVzc2FnZSB8fCAoIWhpZGRlbk92ZXJyaWRlICYmICFtZXNzYWdlLmlzVmlzaWJsZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIG9ubHkgZGlzcGxheSB0aGUgbWVzc2FnZSBpZiBgaXNWaXNpYmxlYCBpcyB0cnVlXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgcmVmPXtlbCA9PiB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gW2VsXTtcbiAgICAgIH19XG4gICAgICBjbGFzc05hbWU9XCJtZXNzYWdlLXdyYXBwZXJcIlxuICAgID5cbiAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgICAgaXNJbnRlcnNlY3RpbmcsXG4gICAgICAgIGhhbmRsZURpc21pc3MsXG4gICAgICAgIGhhbmRsZUNsaWNrLFxuICAgICAgICBoYW5kbGVCbG9jayxcbiAgICAgICAgaGFuZGxlQ2xvc2UsXG4gICAgICB9KX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgTWVzc2FnZVdyYXBwZXIgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEZlYXR1cmVIaWdobGlnaHQoe1xuICBtZXNzYWdlLFxuICBpY29uLFxuICB0b2dnbGUsXG4gIGFycm93UG9zaXRpb24gPSBcIlwiLFxuICBwb3NpdGlvbiA9IFwidG9wLWxlZnRcIixcbiAgdmVydGljYWxQb3NpdGlvbiA9IFwiXCIsXG4gIHRpdGxlLFxuICBhcmlhTGFiZWwsXG4gIGZlYXR1cmUgPSBcIkZFQVRVUkVfSElHSExJR0hUX0RFRkFVTFRcIixcbiAgZGlzcGF0Y2ggPSAoKSA9PiB7fSxcbiAgd2luZG93T2JqID0gZ2xvYmFsLFxuICBvcGVuZWRPdmVycmlkZSA9IGZhbHNlLFxuICBzaG93QnV0dG9uSWNvbiA9IHRydWUsXG4gIGRpc21pc3NDYWxsYmFjayA9ICgpID0+IHt9LFxuICBvdXRzaWRlQ2xpY2tDYWxsYmFjayA9ICgpID0+IHt9LFxuICBtb2RhbENsYXNzTmFtZSA9IFwiXCIsXG59KSB7XG4gIGNvbnN0IFtvcGVuZWQsIHNldE9wZW5lZF0gPSB1c2VTdGF0ZShvcGVuZWRPdmVycmlkZSk7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZU91dHNpZGVDbGljayA9IGUgPT4ge1xuICAgICAgaWYgKCFyZWY/LmN1cnJlbnQ/LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICBzZXRPcGVuZWQoZmFsc2UpO1xuICAgICAgICBvdXRzaWRlQ2xpY2tDYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gZSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgb3V0c2lkZUNsaWNrQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93T2JqLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdXRzaWRlQ2xpY2spO1xuICAgIHdpbmRvd09iai5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93T2JqLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdXRzaWRlQ2xpY2spO1xuICAgICAgd2luZG93T2JqLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIH07XG4gIH0sIFt3aW5kb3dPYmosIG91dHNpZGVDbGlja0NhbGxiYWNrXSk7XG5cbiAgY29uc3Qgb25Ub2dnbGVDbGljayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIW9wZW5lZCkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2U6IFwiRkVBVFVSRV9ISUdITElHSFRcIixcbiAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgZmVhdHVyZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgc2V0T3BlbmVkKCFvcGVuZWQpO1xuICB9LCBbZGlzcGF0Y2gsIGZlYXR1cmUsIG9wZW5lZF0pO1xuXG4gIGNvbnN0IG9uRGlzbWlzc0NsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldE9wZW5lZChmYWxzZSk7XG4gICAgZGlzbWlzc0NhbGxiYWNrKCk7XG4gIH0sIFtkaXNtaXNzQ2FsbGJhY2tdKTtcblxuICBjb25zdCBoaWRlQnV0dG9uQ2xhc3MgPSBzaG93QnV0dG9uSWNvbiA/IGBgIDogYGlzSGlkZGVuYDtcbiAgY29uc3Qgb3BlbmVkQ2xhc3NuYW1lID0gb3BlbmVkID8gYG9wZW5lZGAgOiBgY2xvc2VkYDtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17cmVmfSBjbGFzc05hbWU9e2BmZWF0dXJlLWhpZ2hsaWdodCAke3ZlcnRpY2FsUG9zaXRpb259YH0+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICBhcmlhLWxhYmVsPXthcmlhTGFiZWx9XG4gICAgICAgIGNsYXNzTmFtZT17YHRvZ2dsZS1idXR0b24gJHtoaWRlQnV0dG9uQ2xhc3N9YH1cbiAgICAgICAgb25DbGljaz17b25Ub2dnbGVDbGlja31cbiAgICAgID5cbiAgICAgICAge3RvZ2dsZX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BmZWF0dXJlLWhpZ2hsaWdodC1tb2RhbCAke3Bvc2l0aW9ufSAke2Fycm93UG9zaXRpb259ICR7bW9kYWxDbGFzc05hbWV9ICR7b3BlbmVkQ2xhc3NuYW1lfWB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1pY29uXCI+e2ljb259PC9kaXY+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImNvbnRlbnQtd3JhcHBlclwiPnttZXNzYWdlfTwvcD5cbiAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJmZWF0dXJlLWhpZ2hsaWdodC1kaXNtaXNzLWJ1dHRvblwiXG4gICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL2Nsb3NlLnN2Z1wiXG4gICAgICAgICAgb25DbGljaz17b25EaXNtaXNzQ2xpY2t9XG4gICAgICAgICAgb25LZXlEb3duPXtvbkRpc21pc3NDbGlja31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBGZWF0dXJlSGlnaGxpZ2h0IH0gZnJvbSBcIi4vRmVhdHVyZUhpZ2hsaWdodFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gU2hvcnRjdXRGZWF0dXJlSGlnaGxpZ2h0KHtcbiAgcG9zaXRpb24sXG4gIGRpc3BhdGNoLFxuICBoYW5kbGVEaXNtaXNzLFxuICBoYW5kbGVCbG9jayxcbiAgZmVhdHVyZSxcbn0pIHtcbiAgY29uc3Qgb25EaXNtaXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGhhbmRsZURpc21pc3MoKTtcbiAgICBoYW5kbGVCbG9jaygpO1xuICB9LCBbaGFuZGxlRGlzbWlzcywgaGFuZGxlQmxvY2tdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2hvcnRjdXQtZmVhdHVyZS1oaWdobGlnaHRcIj5cbiAgICAgIDxGZWF0dXJlSGlnaGxpZ2h0XG4gICAgICAgIHBvc2l0aW9uPXtwb3NpdGlvbn1cbiAgICAgICAgZmVhdHVyZT17ZmVhdHVyZX1cbiAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICBtZXNzYWdlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNob3J0Y3V0LWZlYXR1cmUtaGlnaGxpZ2h0LWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvb3Blbi1pbi1uZXcuc3ZnXCJcbiAgICAgICAgICAgICAgd2lkdGg9XCIyNFwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjI0XCJcbiAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNob3J0Y3V0LWZlYXR1cmUtaGlnaGxpZ2h0LWNvcHlcIj5cbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aXRsZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNob3J0Y3V0cy1oaWdobGlnaHQtdGl0bGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2hvcnRjdXRzLWhpZ2hsaWdodC1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBvcGVuZWRPdmVycmlkZT17dHJ1ZX1cbiAgICAgICAgc2hvd0J1dHRvbkljb249e2ZhbHNlfVxuICAgICAgICBkaXNtaXNzQ2FsbGJhY2s9e29uRGlzbWlzc31cbiAgICAgICAgb3V0c2lkZUNsaWNrQ2FsbGJhY2s9e2hhbmRsZURpc21pc3N9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHtcbiAgTUlOX1JJQ0hfRkFWSUNPTl9TSVpFLFxuICBNSU5fU01BTExfRkFWSUNPTl9TSVpFLFxuICBUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlMsXG4gIFRPUF9TSVRFU19TUE9DX0NPTlRFWFRfTUVOVV9PUFRJT05TLFxuICBUT1BfU0lURVNfU1BPTlNPUkVEX1BPU0lUSU9OX0NPTlRFWFRfTUVOVV9PUFRJT05TLFxuICBUT1BfU0lURVNfU0VBUkNIX1NIT1JUQ1VUU19DT05URVhUX01FTlVfT1BUSU9OUyxcbiAgVE9QX1NJVEVTX1NPVVJDRSxcbn0gZnJvbSBcIi4vVG9wU2l0ZXNDb25zdGFudHNcIjtcbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnVcIjtcbmltcG9ydCB7IEltcHJlc3Npb25TdGF0cyB9IGZyb20gXCIuLi9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTY3JlZW5zaG90VXRpbHMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL3NjcmVlbnNob3QtdXRpbHNcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyB9IGZyb20gXCJjb21tb24vUmVkdWNlcnMuc3lzLm1qc1wiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuaW1wb3J0IHsgVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyIH0gZnJvbSBcIi4vVG9wU2l0ZUltcHJlc3Npb25XcmFwcGVyXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNZXNzYWdlV3JhcHBlciB9IGZyb20gXCIuLi9NZXNzYWdlV3JhcHBlci9NZXNzYWdlV3JhcHBlclwiO1xuaW1wb3J0IHsgU2hvcnRjdXRGZWF0dXJlSGlnaGxpZ2h0IH0gZnJvbSBcIi4uL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRmVhdHVyZUhpZ2hsaWdodC9TaG9ydGN1dEZlYXR1cmVIaWdobGlnaHRcIjtcblxuY29uc3QgU1BPQ19UWVBFID0gXCJTUE9DXCI7XG5jb25zdCBORVdUQUJfU09VUkNFID0gXCJuZXd0YWJcIjtcblxuLy8gRm9yIGNhc2VzIGlmIHdlIHdhbnQgdG8ga25vdyBpZiB0aGlzIGlzIHNwb25zb3JlZCBieSBlaXRoZXIgc3BvbnNvcmVkX3Bvc2l0aW9uIG9yIHR5cGUuXG4vLyBXZSBoYXZlIHR3byBzb3VyY2VzIGZvciBzcG9uc29yZWQgdG9wc2l0ZXMsIGFuZFxuLy8gc3BvbnNvcmVkX3Bvc2l0aW9uIGlzIHNldCBieSBvbmUgc3BvbnNvcmVkIHNvdXJjZSwgYW5kIHR5cGUgaXMgc2V0IGJ5IGFub3RoZXIuXG4vLyBUaGlzIGlzIG5vdCBjYWxsZWQgaW4gYWxsIGNhc2VzLCBzb21ldGltZXMgd2Ugd2FudCB0byBrbm93IGlmIGl0J3Mgb25lIHNvdXJjZVxuLy8gb3IgdGhlIG90aGVyLiBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgYXBwbGljYWJsZSBpbiBjYXNlcyB3aGVyZSB3ZSBvbmx5IGNhcmUgaWYgaXQncyBlaXRoZXIuXG5mdW5jdGlvbiBpc1Nwb25zb3JlZChsaW5rKSB7XG4gIHJldHVybiBsaW5rPy5zcG9uc29yZWRfcG9zaXRpb24gfHwgbGluaz8udHlwZSA9PT0gU1BPQ19UWVBFO1xufVxuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUxpbmsgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgc2NyZWVuc2hvdEltYWdlOiBudWxsIH07XG4gICAgdGhpcy5vbkRyYWdFdmVudCA9IHRoaXMub25EcmFnRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5UHJlc3MgPSB0aGlzLm9uS2V5UHJlc3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQgPSB0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qXG4gICAqIEhlbHBlciB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgZHJvcCB6b25lIHNob3VsZCBhbGxvdyBhIGRyb3AuIFdlIG9ubHkgYWxsb3dcbiAgICogZHJvcHBpbmcgdG9wIHNpdGVzIGZvciBub3cuIFdlIGRvbid0IGFsbG93IGRyb3BwaW5nIG9uIHNwb25zb3JlZCB0b3Agc2l0ZXNcbiAgICogYXMgdGhlaXIgcG9zaXRpb24gaXMgZml4ZWQuXG4gICAqL1xuICBfYWxsb3dEcm9wKGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKHRoaXMuZHJhZ2dlZCB8fCAhaXNTcG9uc29yZWQodGhpcy5wcm9wcy5saW5rKSkgJiZcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnR5cGVzLmluY2x1ZGVzKFwidGV4dC90b3BzaXRlLWluZGV4XCIpXG4gICAgKTtcbiAgfVxuXG4gIG9uRHJhZ0V2ZW50KGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgICAgLy8gU3RvcCBhbnkgbGluayBjbGlja3MgaWYgd2Ugc3RhcnRlZCBhbnkgZHJhZ2dpbmdcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgIGV2ZW50LnRhcmdldC5ibHVyKCk7XG4gICAgICAgIGlmIChpc1Nwb25zb3JlZCh0aGlzLnByb3BzLmxpbmspKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYWdnZWQgPSB0cnVlO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwibW92ZVwiO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvdG9wc2l0ZS1pbmRleFwiLCB0aGlzLnByb3BzLmluZGV4KTtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICB0aGlzLnByb3BzLmluZGV4LFxuICAgICAgICAgIHRoaXMucHJvcHMubGluayxcbiAgICAgICAgICB0aGlzLnByb3BzLnRpdGxlXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChldmVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgY2FzZSBcImRyYWdvdmVyXCI6XG4gICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICBpZiAodGhpcy5fYWxsb3dEcm9wKGV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkRyYWdFdmVudChldmVudCwgdGhpcy5wcm9wcy5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgIC8vIEJsb2NrIHRoZSBzY3JvbGwgd2hlZWwgZnJvbSBhcHBlYXJpbmcgZm9yIG1pZGRsZSBjbGlja3Mgb24gc2VhcmNoIHRvcCBzaXRlc1xuICAgICAgICBpZiAoZXZlbnQuYnV0dG9uID09PSAxICYmIHRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCBhdCB0aGUgZmlyc3QgbW91c2UgZXZlbnQgb2YgYSBwb3RlbnRpYWwgZHJhZ1xuICAgICAgICB0aGlzLmRyYWdnZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBvYnRhaW4gdGhlIG5leHQgc3RhdGUgYmFzZWQgb24gbmV4dFByb3BzIGFuZCBwcmV2U3RhdGUuXG4gICAqXG4gICAqIE5PVEU6IFJlbmFtZSB0aGlzIG1ldGhvZCB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgd2hlbiB3ZSB1cGRhdGUgUmVhY3RcbiAgICogICAgICAgdG8gPj0gMTYuMy4gV2Ugd2lsbCBuZWVkIHRvIHVwZGF0ZSB0ZXN0cyBhcyB3ZWxsLiBXZSBjYW5ub3QgcmVuYW1lIHRoaXNcbiAgICogICAgICAgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBub3cgYmVjYXVzZSB0aGVyZSBpcyBhIG1pc21hdGNoIGluXG4gICAqICAgICAgIHRoZSBSZWFjdCB2ZXJzaW9uIHRoYXQgd2UgYXJlIHVzaW5nIGZvciBib3RoIHRlc3RpbmcgYW5kIHByb2R1Y3Rpb24uXG4gICAqICAgICAgIChpLmUuIHJlYWN0LXRlc3QtcmVuZGVyID0+IFwiMTYuMy4yXCIsIHJlYWN0ID0+IFwiMTYuMi4wXCIpLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9lbnp5bWUvYmxvYi9tYXN0ZXIvcGFja2FnZXMvZW56eW1lLWFkYXB0ZXItcmVhY3QtMTYvcGFja2FnZS5qc29uI0w0My5cbiAgICovXG4gIHN0YXRpYyBnZXROZXh0U3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBjb25zdCB7IHNjcmVlbnNob3QgfSA9IG5leHRQcm9wcy5saW5rO1xuICAgIGNvbnN0IGltYWdlSW5TdGF0ZSA9IFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICBwcmV2U3RhdGUuc2NyZWVuc2hvdEltYWdlLFxuICAgICAgc2NyZWVuc2hvdFxuICAgICk7XG4gICAgaWYgKGltYWdlSW5TdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2luY2UgaW1hZ2Ugd2FzIHVwZGF0ZWQsIGF0dGVtcHQgdG8gcmV2b2tlIG9sZCBpbWFnZSBibG9iIFVSTCwgaWYgaXQgZXhpc3RzLlxuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwocHJldlN0YXRlLnNjcmVlbnNob3RJbWFnZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2NyZWVuc2hvdEltYWdlOiBTY3JlZW5zaG90VXRpbHMuY3JlYXRlTG9jYWxJbWFnZU9iamVjdChzY3JlZW5zaG90KSxcbiAgICB9O1xuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVG9wU2l0ZUxpbmsuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAvLyBOT1RFOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIHVwZGF0ZSBSZWFjdCB0byA+PSAxNi4zIHNpbmNlIFJlYWN0IHdpbGxcbiAgLy8gICAgICAgY2FsbCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgYXV0b21hdGljYWxseS4gV2Ugd2lsbCBhbHNvIG5lZWQgdG9cbiAgLy8gICAgICAgcmVuYW1lIGdldE5leHRTdGF0ZUZyb21Qcm9wcyB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVG9wU2l0ZUxpbmsuZ2V0TmV4dFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgdGhpcy5zdGF0ZSk7XG4gICAgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwodGhpcy5zdGF0ZS5zY3JlZW5zaG90SW1hZ2UpO1xuICB9XG5cbiAgb25LZXlQcmVzcyhldmVudCkge1xuICAgIC8vIElmIHdlIGhhdmUgdGFiYmVkIHRvIGEgc2VhcmNoIHNob3J0Y3V0IHRvcCBzaXRlLCBhbmQgd2UgY2xpY2sgJ2VudGVyJyxcbiAgICAvLyB3ZSBzaG91bGQgZXhlY3V0ZSB0aGUgb25DbGljayBmdW5jdGlvbi4gVGhpcyBuZWVkcyB0byBiZSBhZGRlZCBiZWNhdXNlXG4gICAgLy8gc2VhcmNoIHRvcCBzaXRlcyBhcmUgYW5jaG9yIHRhZ3Mgd2l0aG91dCBhbiBocmVmLiBTZWUgYnVnIDE0ODMxMzVcbiAgICBpZiAoXG4gICAgICBldmVudC5rZXkgPT09IFwiRW50ZXJcIiAmJlxuICAgICAgKHRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlIHx8IHRoaXMucHJvcHMuaXNBZGRCdXR0b24pXG4gICAgKSB7XG4gICAgICB0aGlzLnByb3BzLm9uQ2xpY2soZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIFRha2VzIHRoZSB1cmwgYXMgYSBzdHJpbmcsIHJ1bnMgaXQgdGhyb3VnaCBhIHNpbXBsZSAobm9uLXNlY3VyZSkgaGFzaCB0dXJuaW5nIGl0IGludG8gYSByYW5kb20gbnVtYmVyXG4gICAqIEFwcGx5IHRoYXQgcmFuZG9tIG51bWJlciB0byB0aGUgY29sb3IgYXJyYXkuIFRoZSBzYW1lIHVybCB3aWxsIGFsd2F5cyBnZW5lcmF0ZSB0aGUgc2FtZSBjb2xvci5cbiAgICovXG4gIGdlbmVyYXRlQ29sb3IoKSB7XG4gICAgbGV0IHsgdGl0bGUsIGNvbG9ycyB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWNvbG9ycykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuXG4gICAgbGV0IGNvbG9yQXJyYXkgPSBjb2xvcnMuc3BsaXQoXCIsXCIpO1xuXG4gICAgY29uc3QgaGFzaFN0ciA9IHN0ciA9PiB7XG4gICAgICBsZXQgaGFzaCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaGFzaCArPSBjaGFyQ29kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH07XG5cbiAgICBsZXQgaGFzaCA9IGhhc2hTdHIodGl0bGUpO1xuICAgIGxldCBpbmRleCA9IGhhc2ggJSBjb2xvckFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gY29sb3JBcnJheVtpbmRleF07XG4gIH1cblxuICBjYWxjdWxhdGVTdHlsZSgpIHtcbiAgICBjb25zdCB7IGRlZmF1bHRTdHlsZSwgbGluayB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHsgdGlwcHlUb3BJY29uLCBmYXZpY29uU2l6ZSB9ID0gbGluaztcbiAgICBsZXQgaW1hZ2VDbGFzc05hbWU7XG4gICAgbGV0IGltYWdlU3R5bGU7XG4gICAgbGV0IHNob3dTbWFsbEZhdmljb24gPSBmYWxzZTtcbiAgICBsZXQgc21hbGxGYXZpY29uU3R5bGU7XG4gICAgbGV0IGhhc1NjcmVlbnNob3RJbWFnZSA9XG4gICAgICB0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZSAmJiB0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZS51cmw7XG4gICAgbGV0IHNlbGVjdGVkQ29sb3I7XG5cbiAgICBpZiAoZGVmYXVsdFN0eWxlKSB7XG4gICAgICAvLyBmb3JjZSBubyBzdHlsZXMgKGxldHRlciBmYWxsYmFjaykgZXZlbiBpZiB0aGUgbGluayBoYXMgaW1hZ2VyeVxuICAgICAgc2VsZWN0ZWRDb2xvciA9IHRoaXMuZ2VuZXJhdGVDb2xvcigpO1xuICAgIH0gZWxzZSBpZiAobGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICBpbWFnZUNsYXNzTmFtZSA9IFwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIjtcbiAgICAgIGltYWdlU3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbGluay5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3RpcHB5VG9wSWNvbn0pYCxcbiAgICAgIH07XG4gICAgICBzbWFsbEZhdmljb25TdHlsZSA9IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGlwcHlUb3BJY29ufSlgIH07XG4gICAgfSBlbHNlIGlmIChsaW5rLmN1c3RvbVNjcmVlbnNob3RVUkwpIHtcbiAgICAgIC8vIGFzc3VtZSBoaWdoIHF1YWxpdHkgY3VzdG9tIHNjcmVlbnNob3QgYW5kIHVzZSByaWNoIGljb24gc3R5bGVzIGFuZCBjbGFzcyBuYW1lc1xuICAgICAgaW1hZ2VDbGFzc05hbWUgPSBcInRvcC1zaXRlLWljb24gcmljaC1pY29uXCI7XG4gICAgICBpbWFnZVN0eWxlID0ge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGxpbmsuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGhhc1NjcmVlbnNob3RJbWFnZVxuICAgICAgICAgID8gYHVybCgke3RoaXMuc3RhdGUuc2NyZWVuc2hvdEltYWdlLnVybH0pYFxuICAgICAgICAgIDogXCJcIixcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHRpcHB5VG9wSWNvbiB8fFxuICAgICAgbGluay50eXBlID09PSBTUE9DX1RZUEUgfHxcbiAgICAgIGZhdmljb25TaXplID49IE1JTl9SSUNIX0ZBVklDT05fU0laRVxuICAgICkge1xuICAgICAgLy8gc3R5bGVzIGFuZCBjbGFzcyBuYW1lcyBmb3IgdG9wIHNpdGVzIHdpdGggcmljaCBpY29uc1xuICAgICAgaW1hZ2VDbGFzc05hbWUgPSBcInRvcC1zaXRlLWljb24gcmljaC1pY29uXCI7XG4gICAgICBpbWFnZVN0eWxlID0ge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGxpbmsuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aXBweVRvcEljb24gfHwgbGluay5mYXZpY29ufSlgLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGZhdmljb25TaXplID49IE1JTl9TTUFMTF9GQVZJQ09OX1NJWkUpIHtcbiAgICAgIHNob3dTbWFsbEZhdmljb24gPSB0cnVlO1xuICAgICAgc21hbGxGYXZpY29uU3R5bGUgPSB7IGJhY2tncm91bmRJbWFnZTogYHVybCgke2xpbmsuZmF2aWNvbn0pYCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RlZENvbG9yID0gdGhpcy5nZW5lcmF0ZUNvbG9yKCk7XG4gICAgICBpbWFnZUNsYXNzTmFtZSA9IFwiXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3dTbWFsbEZhdmljb24sXG4gICAgICBzbWFsbEZhdmljb25TdHlsZSxcbiAgICAgIGltYWdlU3R5bGUsXG4gICAgICBpbWFnZUNsYXNzTmFtZSxcbiAgICAgIHNlbGVjdGVkQ29sb3IsXG4gICAgfTtcbiAgfVxuXG4gIHNob3VsZFNob3dPTUNIaWdobGlnaHQoY29tcG9uZW50SWQpIHtcbiAgICBjb25zdCBtZXNzYWdlRGF0YSA9IHRoaXMucHJvcHMuTWVzc2FnZXM/Lm1lc3NhZ2VEYXRhO1xuICAgIGlmICghbWVzc2FnZURhdGEgfHwgT2JqZWN0LmtleXMobWVzc2FnZURhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZURhdGE/LmNvbnRlbnQ/Lm1lc3NhZ2VUeXBlID09PSBjb21wb25lbnRJZDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGlzRHJhZ2dhYmxlLFxuICAgICAgbGluayxcbiAgICAgIG9uQ2xpY2ssXG4gICAgICB0aXRsZSxcbiAgICAgIGlzQWRkQnV0dG9uLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgdG9wU2l0ZU91dGVyQ2xhc3NOYW1lID0gYHRvcC1zaXRlLW91dGVyJHtcbiAgICAgIGNsYXNzTmFtZSA/IGAgJHtjbGFzc05hbWV9YCA6IFwiXCJcbiAgICB9JHtsaW5rLmlzRHJhZ2dlZCA/IFwiIGRyYWdnZWRcIiA6IFwiXCJ9JHtcbiAgICAgIGxpbmsuc2VhcmNoVG9wU2l0ZSA/IFwiIHNlYXJjaC1zaG9ydGN1dFwiIDogXCJcIlxuICAgIH1gO1xuICAgIGNvbnN0IFtsZXR0ZXJGYWxsYmFja10gPSB0aXRsZTtcbiAgICBjb25zdCB7XG4gICAgICBzaG93U21hbGxGYXZpY29uLFxuICAgICAgc21hbGxGYXZpY29uU3R5bGUsXG4gICAgICBpbWFnZVN0eWxlLFxuICAgICAgaW1hZ2VDbGFzc05hbWUsXG4gICAgICBzZWxlY3RlZENvbG9yLFxuICAgIH0gPSB0aGlzLmNhbGN1bGF0ZVN0eWxlKCk7XG5cbiAgICBjb25zdCBhZGRCdXR0b25MYWJlbGwxMG4gPSB7XG4gICAgICBcImRhdGEtbDEwbi1pZFwiOiBcIm5ld3RhYi10b3BzaXRlcy1hZGQtc2hvcnRjdXQtbGFiZWxcIixcbiAgICB9O1xuICAgIGNvbnN0IGFkZEJ1dHRvblRpdGxlbDEwbiA9IHtcbiAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IFwibmV3dGFiLXRvcHNpdGVzLWFkZC1zaG9ydGN1dC10aXRsZVwiLFxuICAgIH07XG4gICAgY29uc3QgYWRkUGlubmVkVGl0bGVsMTBuID0ge1xuICAgICAgXCJkYXRhLWwxMG4taWRcIjogXCJ0b3BzaXRlLWxhYmVsLXBpbm5lZFwiLFxuICAgICAgXCJkYXRhLWwxMG4tYXJnc1wiOiBKU09OLnN0cmluZ2lmeSh7IHRpdGxlIH0pLFxuICAgIH07XG5cbiAgICBsZXQgZHJhZ2dhYmxlUHJvcHMgPSB7fTtcbiAgICBpZiAoaXNEcmFnZ2FibGUpIHtcbiAgICAgIGRyYWdnYWJsZVByb3BzID0ge1xuICAgICAgICBvbkNsaWNrOiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgICBvbkRyYWdFbmQ6IHRoaXMub25EcmFnRXZlbnQsXG4gICAgICAgIG9uRHJhZ1N0YXJ0OiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgICBvbk1vdXNlRG93bjogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGltcHJlc3Npb25TdGF0cyA9IG51bGw7XG4gICAgaWYgKGxpbmsudHlwZSA9PT0gU1BPQ19UWVBFKSB7XG4gICAgICAvLyBSZWNvcmQgaW1wcmVzc2lvbnMgZm9yIFBvY2tldCB0aWxlcy5cbiAgICAgIGltcHJlc3Npb25TdGF0cyA9IChcbiAgICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICAgIGZsaWdodElkPXtsaW5rLmZsaWdodElkfVxuICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IGxpbmsuaWQsXG4gICAgICAgICAgICAgIHBvczogbGluay5wb3MsXG4gICAgICAgICAgICAgIHNoaW06IGxpbmsuc2hpbSAmJiBsaW5rLnNoaW0uaW1wcmVzc2lvbixcbiAgICAgICAgICAgICAgYWR2ZXJ0aXNlcjogdGl0bGUudG9Mb2NhbGVMb3dlckNhc2UoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBzb3VyY2U9e1RPUF9TSVRFU19TT1VSQ0V9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaXNTcG9uc29yZWQobGluaykpIHtcbiAgICAgIC8vIFJlY29yZCBpbXByZXNzaW9ucyBmb3Igbm9uLVBvY2tldCBzcG9uc29yZWQgdGlsZXMuXG4gICAgICBpbXByZXNzaW9uU3RhdHMgPSAoXG4gICAgICAgIDxUb3BTaXRlSW1wcmVzc2lvbldyYXBwZXJcbiAgICAgICAgICBhY3Rpb25UeXBlPXthdC5UT1BfU0lURVNfU1BPTlNPUkVEX0lNUFJFU1NJT05fU1RBVFN9XG4gICAgICAgICAgdGlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICB0aWxlX2lkOiBsaW5rLnNwb25zb3JlZF90aWxlX2lkIHx8IC0xLFxuICAgICAgICAgICAgcmVwb3J0aW5nX3VybDogbGluay5zcG9uc29yZWRfaW1wcmVzc2lvbl91cmwsXG4gICAgICAgICAgICBhZHZlcnRpc2VyOiB0aXRsZS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgc291cmNlOiBORVdUQUJfU09VUkNFLFxuICAgICAgICAgIH19XG4gICAgICAgICAgLy8gRm9yIHRlc3RpbmcuXG4gICAgICAgICAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI9e3RoaXMucHJvcHMuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJ9XG4gICAgICAgICAgZG9jdW1lbnQ9e3RoaXMucHJvcHMuZG9jdW1lbnR9XG4gICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZWNvcmQgaW1wcmVzc2lvbnMgZm9yIG9yZ2FuaWMgdGlsZXMuXG4gICAgICBpbXByZXNzaW9uU3RhdHMgPSAoXG4gICAgICAgIDxUb3BTaXRlSW1wcmVzc2lvbldyYXBwZXJcbiAgICAgICAgICBhY3Rpb25UeXBlPXthdC5UT1BfU0lURVNfT1JHQU5JQ19JTVBSRVNTSU9OX1NUQVRTfVxuICAgICAgICAgIHRpbGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnByb3BzLmluZGV4LFxuICAgICAgICAgICAgc291cmNlOiBORVdUQUJfU09VUkNFLFxuICAgICAgICAgICAgaXNQaW5uZWQ6IHRoaXMucHJvcHMubGluay5pc1Bpbm5lZCxcbiAgICAgICAgICAgIGd1aWQ6IHRoaXMucHJvcHMubGluay5ndWlkLFxuICAgICAgICAgIH19XG4gICAgICAgICAgLy8gRm9yIHRlc3RpbmcuXG4gICAgICAgICAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI9e3RoaXMucHJvcHMuSW50ZXJzZWN0aW9uT2JzZXJ2ZXJ9XG4gICAgICAgICAgZG9jdW1lbnQ9e3RoaXMucHJvcHMuZG9jdW1lbnR9XG4gICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8bGlcbiAgICAgICAgY2xhc3NOYW1lPXt0b3BTaXRlT3V0ZXJDbGFzc05hbWV9XG4gICAgICAgIG9uRHJvcD17dGhpcy5vbkRyYWdFdmVudH1cbiAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5vbkRyYWdFdmVudH1cbiAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMub25EcmFnRXZlbnR9XG4gICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICByZWY9e3RoaXMucHJvcHMuc2V0UmVmfVxuICAgICAgICB7Li4uZHJhZ2dhYmxlUHJvcHN9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXNpdGUtaW5uZXJcIj5cbiAgICAgICAgICB7LyogV2UgZG9uJ3QgeWV0IHN1cHBvcnQgYW4gYWNjZXNzaWJsZSBkcmFnLWFuZC1kcm9wIGltcGxlbWVudGF0aW9uLCBzZWUgQnVnIDE1NTIwMDUgKi99XG4gICAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9hbmNob3ItaXMtdmFsaWQgKi99XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcC1zaXRlLWJ1dHRvblwiXG4gICAgICAgICAgICBocmVmPXtsaW5rLnNlYXJjaFRvcFNpdGUgPyB1bmRlZmluZWQgOiBsaW5rLnVybH1cbiAgICAgICAgICAgIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuICAgICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5vbktleVByZXNzfVxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIGRyYWdnYWJsZT17dHJ1ZX1cbiAgICAgICAgICAgIGRhdGEtaXMtc3BvbnNvcmVkLWxpbms9eyEhbGluay5zcG9uc29yZWRfdGlsZV9pZH1cbiAgICAgICAgICAgIG9uRm9jdXM9e3RoaXMucHJvcHMub25Gb2N1c31cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2xpbmsuaXNQaW5uZWQgPyB1bmRlZmluZWQgOiB0aXRsZX1cbiAgICAgICAgICAgIHsuLi4oaXNBZGRCdXR0b24gJiYgeyAuLi5hZGRCdXR0b25UaXRsZWwxMG4gfSl9XG4gICAgICAgICAgICB7Li4uKCFpc0FkZEJ1dHRvbiAmJiB7IHRpdGxlIH0pfVxuICAgICAgICAgICAgey4uLihsaW5rLmlzUGlubmVkICYmIHsgLi4uYWRkUGlubmVkVGl0bGVsMTBuIH0pfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9e0pTT04uc3RyaW5naWZ5KHsgdGl0bGUgfSl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xpbmsuaXNQaW5uZWQgJiYgPGRpdiBjbGFzc05hbWU9XCJpY29uIGljb24tcGluLXNtYWxsXCIgLz59XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpbGVcIiBhcmlhLWhpZGRlbj17dHJ1ZX0+XG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb2xvclxuICAgICAgICAgICAgICAgICAgICA/IFwiaWNvbi13cmFwcGVyIGxldHRlci1mYWxsYmFja1wiXG4gICAgICAgICAgICAgICAgICAgIDogXCJpY29uLXdyYXBwZXJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkYXRhLWZhbGxiYWNrPXtsZXR0ZXJGYWxsYmFja31cbiAgICAgICAgICAgICAgICBzdHlsZT17c2VsZWN0ZWRDb2xvciA/IHsgYmFja2dyb3VuZENvbG9yOiBzZWxlY3RlZENvbG9yIH0gOiB7fX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtpbWFnZUNsYXNzTmFtZX0gc3R5bGU9e2ltYWdlU3R5bGV9IC8+XG4gICAgICAgICAgICAgICAge3Nob3dTbWFsbEZhdmljb24gJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pY29uIGRlZmF1bHQtaWNvblwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtZmFsbGJhY2s9e3NtYWxsRmF2aWNvblN0eWxlID8gXCJcIiA6IGxldHRlckZhbGxiYWNrfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17c21hbGxGYXZpY29uU3R5bGV9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRpdGxlJHtsaW5rLmlzUGlubmVkID8gXCIgaGFzLWljb24gcGlubmVkXCIgOiBcIlwifSR7XG4gICAgICAgICAgICAgICAgbGluay50eXBlID09PSBTUE9DX1RZUEUgfHwgbGluay5zaG93X3Nwb25zb3JlZF9sYWJlbFxuICAgICAgICAgICAgICAgICAgPyBcIiBzcG9uc29yZWRcIlxuICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRpdGxlLWxhYmVsXCJcbiAgICAgICAgICAgICAgICBkaXI9XCJhdXRvXCJcbiAgICAgICAgICAgICAgICB7Li4uKGlzQWRkQnV0dG9uICYmIHsgLi4uYWRkQnV0dG9uTGFiZWxsMTBuIH0pfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2xpbmsuc2VhcmNoVG9wU2l0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gc2VhcmNoLXRvcHNpdGVcIiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge3RpdGxlIHx8IDxiciAvPn1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNwb25zb3JlZC1sYWJlbFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGUtc3BvbnNvcmVkXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICB7aXNBZGRCdXR0b24gJiYgdGhpcy5zaG91bGRTaG93T01DSGlnaGxpZ2h0KFwiU2hvcnRjdXRIaWdobGlnaHRcIikgJiYgKFxuICAgICAgICAgICAgPE1lc3NhZ2VXcmFwcGVyXG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTaG9ydGN1dEZlYXR1cmVIaWdobGlnaHRcbiAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICBmZWF0dXJlPVwiRkVBVFVSRV9TSE9SVENVVF9ISUdITElHSFRcIlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uPVwiaW5zZXQtYmxvY2stZW5kIGluc2V0LWlubGluZS1zdGFydFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L01lc3NhZ2VXcmFwcGVyPlxuICAgICAgICAgICl9XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIHtpbXByZXNzaW9uU3RhdHN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5Ub3BTaXRlTGluay5kZWZhdWx0UHJvcHMgPSB7XG4gIHRpdGxlOiBcIlwiLFxuICBsaW5rOiB7fSxcbiAgaXNEcmFnZ2FibGU6IHRydWUsXG59O1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBzaG93Q29udGV4dE1lbnU6IGZhbHNlIH07XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVVwZGF0ZSA9IHRoaXMub25NZW51VXBkYXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVwb3J0IHRvIHRlbGVtZXRyeSBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpdGVtLlxuICAgKi9cbiAgX2dldFRlbGVtZXRyeUluZm8oKSB7XG4gICAgY29uc3QgdmFsdWUgPSB7IGljb25fdHlwZTogdGhpcy5wcm9wcy5saW5rLmljb25UeXBlIH07XG4gICAgLy8gRmlsdGVyIG91dCBcIm5vdF9waW5uZWRcIiB0eXBlIGZvciBiZWluZyB0aGUgZGVmYXVsdFxuICAgIGlmICh0aGlzLnByb3BzLmxpbmsuaXNQaW5uZWQpIHtcbiAgICAgIHZhbHVlLmNhcmRfdHlwZSA9IFwicGlubmVkXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgLy8gU2V0IHRoZSBjYXJkX3R5cGUgYXMgXCJzZWFyY2hcIiByZWdhcmRsZXNzIG9mIGl0cyBwaW5uaW5nIHN0YXR1c1xuICAgICAgdmFsdWUuY2FyZF90eXBlID0gXCJzZWFyY2hcIjtcbiAgICAgIHZhbHVlLnNlYXJjaF92ZW5kb3IgPSB0aGlzLnByb3BzLmxpbmsuaG9zdG5hbWU7XG4gICAgfVxuICAgIGlmIChpc1Nwb25zb3JlZCh0aGlzLnByb3BzLmxpbmspKSB7XG4gICAgICB2YWx1ZS5jYXJkX3R5cGUgPSBcInNwb2NcIjtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsdWUgfTtcbiAgfVxuXG4gIHVzZXJFdmVudChldmVudCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKClcbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIHRoaXMudXNlckV2ZW50KFwiQ0xJQ0tcIik7XG5cbiAgICAvLyBTcGVjaWFsbHkgaGFuZGxlIGEgdG9wIHNpdGUgbGluayBjbGljayBmb3IgXCJ0eXBlZFwiIGZyZWNlbmN5IGJvbnVzIGFzXG4gICAgLy8gc3BlY2lmaWVkIGFzIGEgcHJvcGVydHkgb24gdGhlIGxpbmsuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9ID0gZXZlbnQ7XG4gICAgaWYgKCF0aGlzLnByb3BzLmxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24odGhpcy5wcm9wcy5saW5rLCB7XG4gICAgICAgICAgICBldmVudDogeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSxcbiAgICAgICAgICAgIGlzX3Nwb25zb3JlZDogISF0aGlzLnByb3BzLmxpbmsuc3BvbnNvcmVkX3RpbGVfaWQsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5saW5rLnR5cGUgPT09IFNQT0NfVFlQRSkge1xuICAgICAgICAvLyBSZWNvcmQgYSBQb2NrZXQtc3BlY2lmaWMgY2xpY2suXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmxpbmsuaWQsXG4gICAgICAgICAgICAgICAgcG9zOiB0aGlzLnByb3BzLmxpbmsucG9zLFxuICAgICAgICAgICAgICAgIHNoaW06IHRoaXMucHJvcHMubGluay5zaGltICYmIHRoaXMucHJvcHMubGluay5zaGltLmNsaWNrLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFJlY29yZCBhIGNsaWNrIGZvciBhIFBvY2tldCBzcG9uc29yZWQgdGlsZS5cbiAgICAgICAgLy8gVGhpcyBmaXJzdCBldmVudCBpcyBmb3IgdGhlIHNoaW0gcHJvcGVydHlcbiAgICAgICAgLy8gYW5kIGlzIHVzZWQgYnkgb3VyIGFkIHNlcnZpY2UgcHJvdmlkZXIuXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMubGluay5wb3MsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICBjYXJkX3R5cGU6IFwic3BvY1wiLFxuICAgICAgICAgICAgICB0aWxlX2lkOiB0aGlzLnByb3BzLmxpbmsuaWQsXG4gICAgICAgICAgICAgIHNoaW06IHRoaXMucHJvcHMubGluay5zaGltICYmIHRoaXMucHJvcHMubGluay5zaGltLmNsaWNrLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEEgc2Vjb25kIGV2ZW50IGlzIHJlY29kZWQgZm9yIGludGVybmFsIHVzYWdlLlxuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMucHJvcHMubGluay5sYWJlbCB8fCB0aGlzLnByb3BzLmxpbmsuaG9zdG5hbWU7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5UT1BfU0lURVNfU1BPTlNPUkVEX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMubGluay5wb3MsXG4gICAgICAgICAgICAgIHRpbGVfaWQ6IHRoaXMucHJvcHMubGluay5pZCxcbiAgICAgICAgICAgICAgYWR2ZXJ0aXNlcjogdGl0bGUudG9Mb2NhbGVMb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgc291cmNlOiBORVdUQUJfU09VUkNFLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpc1Nwb25zb3JlZCh0aGlzLnByb3BzLmxpbmspKSB7XG4gICAgICAgIC8vIFJlY29yZCBhIGNsaWNrIGZvciBhIG5vbi1Qb2NrZXQgc3BvbnNvcmVkIHRpbGUuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5wcm9wcy5saW5rLmxhYmVsIHx8IHRoaXMucHJvcHMubGluay5ob3N0bmFtZTtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19TUE9OU09SRURfSU1QUkVTU0lPTl9TVEFUUyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgICAgdGlsZV9pZDogdGhpcy5wcm9wcy5saW5rLnNwb25zb3JlZF90aWxlX2lkIHx8IC0xLFxuICAgICAgICAgICAgICByZXBvcnRpbmdfdXJsOiB0aGlzLnByb3BzLmxpbmsuc3BvbnNvcmVkX2NsaWNrX3VybCxcbiAgICAgICAgICAgICAgYWR2ZXJ0aXNlcjogdGl0bGUudG9Mb2NhbGVMb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgc291cmNlOiBORVdUQUJfU09VUkNFLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmVjb3JkIGEgY2xpY2sgZm9yIGFuIG9yZ2FuaWMgdGlsZS5cbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19PUkdBTklDX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICAgIHNvdXJjZTogTkVXVEFCX1NPVVJDRSxcbiAgICAgICAgICAgICAgaXNQaW5uZWQ6IHRoaXMucHJvcHMubGluay5pc1Bpbm5lZCxcbiAgICAgICAgICAgICAgZ3VpZDogdGhpcy5wcm9wcy5saW5rLmd1aWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmxpbmsuc2VuZEF0dHJpYnV0aW9uUmVxdWVzdCkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuUEFSVE5FUl9MSU5LX0FUVFJJQlVUSU9OLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB0YXJnZXRVUkw6IHRoaXMucHJvcHMubGluay51cmwsXG4gICAgICAgICAgICAgIHNvdXJjZTogXCJuZXd0YWJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuRklMTF9TRUFSQ0hfVEVSTSxcbiAgICAgICAgICBkYXRhOiB7IGxhYmVsOiB0aGlzLnByb3BzLmxpbmsubGFiZWwgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgb25NZW51VXBkYXRlKGlzT3Blbikge1xuICAgIGlmIChpc09wZW4pIHtcbiAgICAgIHRoaXMucHJvcHMub25BY3RpdmF0ZSh0aGlzLnByb3BzLmluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBsaW5rIH0gPSBwcm9wcztcbiAgICBjb25zdCBpc0NvbnRleHRNZW51T3BlbiA9IHByb3BzLmFjdGl2ZUluZGV4ID09PSBwcm9wcy5pbmRleDtcbiAgICBjb25zdCB0aXRsZSA9IGxpbmsubGFiZWwgfHwgbGluay50aXRsZSB8fCBsaW5rLmhvc3RuYW1lO1xuICAgIGxldCBtZW51T3B0aW9ucztcbiAgICBpZiAobGluay5zcG9uc29yZWRfcG9zaXRpb24pIHtcbiAgICAgIG1lbnVPcHRpb25zID0gVE9QX1NJVEVTX1NQT05TT1JFRF9QT1NJVElPTl9DT05URVhUX01FTlVfT1BUSU9OUztcbiAgICB9IGVsc2UgaWYgKGxpbmsuc2VhcmNoVG9wU2l0ZSkge1xuICAgICAgbWVudU9wdGlvbnMgPSBUT1BfU0lURVNfU0VBUkNIX1NIT1JUQ1VUU19DT05URVhUX01FTlVfT1BUSU9OUztcbiAgICB9IGVsc2UgaWYgKGxpbmsudHlwZSA9PT0gU1BPQ19UWVBFKSB7XG4gICAgICBtZW51T3B0aW9ucyA9IFRPUF9TSVRFU19TUE9DX0NPTlRFWFRfTUVOVV9PUFRJT05TO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZW51T3B0aW9ucyA9IFRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUztcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRvcFNpdGVMaW5rXG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkxpbmtDbGlja31cbiAgICAgICAgb25EcmFnRXZlbnQ9e3RoaXMucHJvcHMub25EcmFnRXZlbnR9XG4gICAgICAgIGNsYXNzTmFtZT17YCR7cHJvcHMuY2xhc3NOYW1lIHx8IFwiXCJ9JHtcbiAgICAgICAgICBpc0NvbnRleHRNZW51T3BlbiA/IFwiIGFjdGl2ZVwiIDogXCJcIlxuICAgICAgICB9YH1cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICBzZXRQcmVmPXt0aGlzLnByb3BzLnNldFByZWZ9XG4gICAgICAgIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuICAgICAgICBvbkZvY3VzPXt0aGlzLnByb3BzLm9uRm9jdXN9XG4gICAgICA+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPENvbnRleHRNZW51QnV0dG9uXG4gICAgICAgICAgICB0b29sdGlwPVwibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJcbiAgICAgICAgICAgIHRvb2x0aXBBcmdzPXt7IHRpdGxlIH19XG4gICAgICAgICAgICBvblVwZGF0ZT17dGhpcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgICAgICB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cbiAgICAgICAgICAgIG9uRm9jdXM9e3RoaXMucHJvcHMub25Gb2N1c31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3Byb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBpbmRleD17cHJvcHMuaW5kZXh9XG4gICAgICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17bWVudU9wdGlvbnN9XG4gICAgICAgICAgICAgIHNpdGU9e2xpbmt9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e2xpbmsudHlwZSA9PT0gU1BPQ19UWVBFfVxuICAgICAgICAgICAgICBzaXRlSW5mbz17dGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpfVxuICAgICAgICAgICAgICBzb3VyY2U9e1RPUF9TSVRFU19TT1VSQ0V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Ub3BTaXRlTGluaz5cbiAgICApO1xuICB9XG59XG5Ub3BTaXRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgbGluazoge30sXG4gIG9uQWN0aXZhdGUoKSB7fSxcbn07XG5cbmV4cG9ydCBjbGFzcyBUb3BTaXRlQWRkQnV0dG9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25FZGl0QnV0dG9uQ2xpY2sgPSB0aGlzLm9uRWRpdEJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkVkaXRCdXR0b25DbGljaygpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19FRElULFxuICAgICAgZGF0YTogeyBpbmRleDogdGhpcy5wcm9wcy5pbmRleCB9LFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8VG9wU2l0ZUxpbmtcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIGlzQWRkQnV0dG9uPXt0cnVlfVxuICAgICAgICBjbGFzc05hbWU9e2BhZGQtYnV0dG9uICR7dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgXCJcIn1gfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRWRpdEJ1dHRvbkNsaWNrfVxuICAgICAgICBzZXRQcmVmPXt0aGlzLnByb3BzLnNldFByZWZ9XG4gICAgICAgIGlzRHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgICAgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVQbGFjZWhvbGRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb3BTaXRlTGlua1xuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgY2xhc3NOYW1lPXtgcGxhY2Vob2xkZXIgJHt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcIlwifWB9XG4gICAgICAgIGlzRHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgX1RvcFNpdGVMaXN0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRpYyBnZXQgREVGQVVMVF9TVEFURSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlSW5kZXg6IG51bGwsXG4gICAgICBkcmFnZ2VkSW5kZXg6IG51bGwsXG4gICAgICBkcmFnZ2VkU2l0ZTogbnVsbCxcbiAgICAgIGRyYWdnZWRUaXRsZTogbnVsbCxcbiAgICAgIHRvcFNpdGVzUHJldmlldzogbnVsbCxcbiAgICAgIGZvY3VzZWRJbmRleDogMCxcbiAgICB9O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IF9Ub3BTaXRlTGlzdC5ERUZBVUxUX1NUQVRFO1xuICAgIHRoaXMub25EcmFnRXZlbnQgPSB0aGlzLm9uRHJhZ0V2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkFjdGl2YXRlID0gdGhpcy5vbkFjdGl2YXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbldyYXBwZXJGb2N1cyA9IHRoaXMub25XcmFwcGVyRm9jdXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVG9wc2l0ZUZvY3VzID0gdGhpcy5vblRvcHNpdGVGb2N1cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25XcmFwcGVyQmx1ciA9IHRoaXMub25XcmFwcGVyQmx1ci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlEb3duID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUpIHtcbiAgICAgIGNvbnN0IHByZXZUb3BTaXRlcyA9IHRoaXMucHJvcHMuVG9wU2l0ZXMgJiYgdGhpcy5wcm9wcy5Ub3BTaXRlcy5yb3dzO1xuICAgICAgY29uc3QgbmV3VG9wU2l0ZXMgPSBuZXh0UHJvcHMuVG9wU2l0ZXMgJiYgbmV4dFByb3BzLlRvcFNpdGVzLnJvd3M7XG4gICAgICBpZiAoXG4gICAgICAgIHByZXZUb3BTaXRlcyAmJlxuICAgICAgICBwcmV2VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdICYmXG4gICAgICAgIHByZXZUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0udXJsID09PVxuICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUudXJsICYmXG4gICAgICAgICghbmV3VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdIHx8XG4gICAgICAgICAgbmV3VG9wU2l0ZXNbdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXhdLnVybCAhPT1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUudXJsKVxuICAgICAgKSB7XG4gICAgICAgIC8vIFdlIGdvdCB0aGUgbmV3IG9yZGVyIGZyb20gdGhlIHJlZHV4IHN0b3JlIHZpYSBwcm9wcy4gV2UgY2FuIGNsZWFyIHN0YXRlIG5vdy5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShfVG9wU2l0ZUxpc3QuREVGQVVMVF9TVEFURSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXNlckV2ZW50KGV2ZW50LCBpbmRleCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudCxcbiAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgb25EcmFnRXZlbnQoZXZlbnQsIGluZGV4LCBsaW5rLCB0aXRsZSkge1xuICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgY2FzZSBcImRyYWdzdGFydFwiOlxuICAgICAgICB0aGlzLmRyb3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZHJhZ2dlZEluZGV4OiBpbmRleCxcbiAgICAgICAgICBkcmFnZ2VkU2l0ZTogbGluayxcbiAgICAgICAgICBkcmFnZ2VkVGl0bGU6IHRpdGxlLFxuICAgICAgICAgIGFjdGl2ZUluZGV4OiBudWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51c2VyRXZlbnQoXCJEUkFHXCIsIGluZGV4KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJhZ2VuZFwiOlxuICAgICAgICBpZiAoIXRoaXMuZHJvcHBlZCkge1xuICAgICAgICAgIC8vIElmIHRoZXJlIHdhcyBubyBkcm9wIGV2ZW50LCByZXNldCB0aGUgc3RhdGUgdG8gdGhlIGRlZmF1bHQuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZShfVG9wU2l0ZUxpc3QuREVGQVVMVF9TVEFURSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXgpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdG9wU2l0ZXNQcmV2aWV3OiBudWxsIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdG9wU2l0ZXNQcmV2aWV3OiB0aGlzLl9tYWtlVG9wU2l0ZXNQcmV2aWV3KGluZGV4KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcm9wXCI6XG4gICAgICAgIGlmIChpbmRleCAhPT0gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXgpIHtcbiAgICAgICAgICB0aGlzLmRyb3BwZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0lOU0VSVCxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHNpdGU6IHtcbiAgICAgICAgICAgICAgICAgIHVybDogdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS51cmwsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5zdGF0ZS5kcmFnZ2VkVGl0bGUsXG4gICAgICAgICAgICAgICAgICBjdXN0b21TY3JlZW5zaG90VVJMOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmRyYWdnZWRTaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwsXG4gICAgICAgICAgICAgICAgICAvLyBPbmx5IGlmIHRoZSBzZWFyY2ggdG9wc2l0ZXMgZXhwZXJpbWVudCBpcyBlbmFibGVkXG4gICAgICAgICAgICAgICAgICAuLi4odGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS5zZWFyY2hUb3BTaXRlICYmIHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoVG9wU2l0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgZHJhZ2dlZEZyb21JbmRleDogdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXgsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy51c2VyRXZlbnQoXCJEUk9QXCIsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBfZ2V0VG9wU2l0ZXMoKSB7XG4gICAgLy8gTWFrZSBhIGNvcHkgb2YgdGhlIHNpdGVzIHRvIHRydW5jYXRlIG9yIGV4dGVuZCB0byBkZXNpcmVkIGxlbmd0aFxuICAgIGxldCB0b3BTaXRlcyA9IHRoaXMucHJvcHMuVG9wU2l0ZXMucm93cy5zbGljZSgpO1xuICAgIHRvcFNpdGVzLmxlbmd0aCA9IHRoaXMucHJvcHMuVG9wU2l0ZXNSb3dzICogVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XO1xuICAgIC8vIGlmIHRvcFNpdGVzIGRvIG5vdCBmaWxsIGFuIGVudGlyZSByb3cgYWRkICdBZGQgc2hvcnRjdXQnIGJ1dHRvbiB0byBhcnJheSBvZiB0b3BTaXRlc1xuICAgIC8vICh0aGVyZSBzaG91bGQgb25seSBiZSBvbmUgb2YgdGhlc2UpXG4gICAgbGV0IGZpcnN0UGxhY2Vob2xkZXIgPSB0b3BTaXRlcy5maW5kSW5kZXgoT2JqZWN0LmlzLmJpbmQobnVsbCwgdW5kZWZpbmVkKSk7XG4gICAgLy8gbWFrZSBzdXJlIHBsYWNlaG9sZGVyIGV4aXN0cyBhbmQgdGhlcmUgYWxyZWFkeSBpc250IGEgYWRkIGJ1dHRvblxuICAgIGlmIChmaXJzdFBsYWNlaG9sZGVyICYmICF0b3BTaXRlcy5pbmNsdWRlcyhzaXRlID0+IHNpdGUuaXNBZGRCdXR0b24pKSB7XG4gICAgICB0b3BTaXRlc1tmaXJzdFBsYWNlaG9sZGVyXSA9IHsgaXNBZGRCdXR0b246IHRydWUgfTtcbiAgICB9IGVsc2UgaWYgKHRvcFNpdGVzLmluY2x1ZGVzKHNpdGUgPT4gc2l0ZS5pc0FkZEJ1dHRvbikpIHtcbiAgICAgIHRvcFNpdGVzLnB1c2goXG4gICAgICAgIHRvcFNpdGVzLnNwbGljZSh0b3BTaXRlcy5pbmRleE9mKHsgaXNBZGRCdXR0b246IHRydWUgfSksIDEpWzBdXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdG9wU2l0ZXM7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIHByZXZpZXcgb2YgdGhlIHRvcHNpdGVzIHRoYXQgd2lsbCBiZSB0aGUgcmVzdWx0IG9mIGRyb3BwaW5nIHRoZSBjdXJyZW50bHlcbiAgICogZHJhZ2dlZCBzaXRlIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAqL1xuICBfbWFrZVRvcFNpdGVzUHJldmlldyhpbmRleCkge1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5fZ2V0VG9wU2l0ZXMoKTtcbiAgICB0b3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0gPSBudWxsO1xuICAgIGNvbnN0IHByZXZpZXcgPSB0b3BTaXRlcy5tYXAoc2l0ZSA9PlxuICAgICAgc2l0ZSAmJiAoc2l0ZS5pc1Bpbm5lZCB8fCBpc1Nwb25zb3JlZChzaXRlKSkgPyBzaXRlIDogbnVsbFxuICAgICk7XG4gICAgY29uc3QgdW5waW5uZWQgPSB0b3BTaXRlcy5maWx0ZXIoXG4gICAgICBzaXRlID0+IHNpdGUgJiYgIXNpdGUuaXNQaW5uZWQgJiYgIWlzU3BvbnNvcmVkKHNpdGUpXG4gICAgKTtcbiAgICBjb25zdCBzaXRlVG9JbnNlcnQgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLmRyYWdnZWRTaXRlLCB7XG4gICAgICBpc1Bpbm5lZDogdHJ1ZSxcbiAgICAgIGlzRHJhZ2dlZDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGlmICghcHJldmlld1tpbmRleF0pIHtcbiAgICAgIHByZXZpZXdbaW5kZXhdID0gc2l0ZVRvSW5zZXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGaW5kIHRoZSBob2xlIHRvIHNoaWZ0IHRoZSBwaW5uZWQgc2l0ZShzKSB0b3dhcmRzLiBXZSBzaGlmdCB0b3dhcmRzIHRoZVxuICAgICAgLy8gaG9sZSBsZWZ0IGJ5IHRoZSBzaXRlIGJlaW5nIGRyYWdnZWQuXG4gICAgICBsZXQgaG9sZUluZGV4ID0gaW5kZXg7XG4gICAgICBjb25zdCBpbmRleFN0ZXAgPSBpbmRleCA+IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4ID8gLTEgOiAxO1xuICAgICAgd2hpbGUgKHByZXZpZXdbaG9sZUluZGV4XSkge1xuICAgICAgICBob2xlSW5kZXggKz0gaW5kZXhTdGVwO1xuICAgICAgfVxuXG4gICAgICAvLyBTaGlmdCB0b3dhcmRzIHRoZSBob2xlLlxuICAgICAgY29uc3Qgc2hpZnRpbmdTdGVwID0gaW5kZXggPiB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCA/IDEgOiAtMTtcbiAgICAgIHdoaWxlIChcbiAgICAgICAgaW5kZXggPiB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCA/IGhvbGVJbmRleCA8IGluZGV4IDogaG9sZUluZGV4ID4gaW5kZXhcbiAgICAgICkge1xuICAgICAgICBsZXQgbmV4dEluZGV4ID0gaG9sZUluZGV4ICsgc2hpZnRpbmdTdGVwO1xuICAgICAgICB3aGlsZSAoaXNTcG9uc29yZWQocHJldmlld1tuZXh0SW5kZXhdKSkge1xuICAgICAgICAgIG5leHRJbmRleCArPSBzaGlmdGluZ1N0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlld1tob2xlSW5kZXhdID0gcHJldmlld1tuZXh0SW5kZXhdO1xuICAgICAgICBob2xlSW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICB9XG4gICAgICBwcmV2aWV3W2luZGV4XSA9IHNpdGVUb0luc2VydDtcbiAgICB9XG5cbiAgICAvLyBGaWxsIGluIHRoZSByZW1haW5pbmcgaG9sZXMgd2l0aCB1bnBpbm5lZCBzaXRlcy5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcHJldmlld1tpXSkge1xuICAgICAgICBwcmV2aWV3W2ldID0gdW5waW5uZWQuc2hpZnQoKSB8fCBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcmV2aWV3O1xuICB9XG5cbiAgb25BY3RpdmF0ZShpbmRleCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVJbmRleDogaW5kZXggfSk7XG4gIH1cblxuICBvbktleURvd24oZSkge1xuICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZUluZGV4IHx8IHRoaXMuc3RhdGUuYWN0aXZlSW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dEb3duXCIgfHwgZS5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAvLyBwcmV2ZW50IHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nIHVwL2Rvd24gd2hpbGUgbmF2aWdhdGluZy5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLmZvY3VzZWRSZWY/Lm5leHRTaWJsaW5nPy5xdWVyeVNlbGVjdG9yKFwiYVwiKSAmJlxuICAgICAgZS5rZXkgPT09IFwiQXJyb3dEb3duXCJcbiAgICApIHtcbiAgICAgIHRoaXMuZm9jdXNlZFJlZi5uZXh0U2libGluZy5xdWVyeVNlbGVjdG9yKFwiYVwiKS50YWJJbmRleCA9IDA7XG4gICAgICB0aGlzLmZvY3VzZWRSZWYubmV4dFNpYmxpbmcucXVlcnlTZWxlY3RvcihcImFcIikuZm9jdXMoKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5mb2N1c2VkUmVmPy5wcmV2aW91c1NpYmxpbmc/LnF1ZXJ5U2VsZWN0b3IoXCJhXCIpICYmXG4gICAgICBlLmtleSA9PT0gXCJBcnJvd1VwXCJcbiAgICApIHtcbiAgICAgIHRoaXMuZm9jdXNlZFJlZi5wcmV2aW91c1NpYmxpbmcucXVlcnlTZWxlY3RvcihcImFcIikudGFiSW5kZXggPSAwO1xuICAgICAgdGhpcy5mb2N1c2VkUmVmLnByZXZpb3VzU2libGluZy5xdWVyeVNlbGVjdG9yKFwiYVwiKS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIG9uV3JhcHBlckZvY3VzKCkge1xuICAgIHRoaXMuZm9jdXNSZWY/LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25LZXlEb3duKTtcbiAgfVxuICBvbldyYXBwZXJCbHVyKCkge1xuICAgIHRoaXMuZm9jdXNSZWY/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMub25LZXlEb3duKTtcbiAgfVxuICBvblRvcHNpdGVGb2N1cyhmb2N1c0luZGV4KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoe1xuICAgICAgZm9jdXNlZEluZGV4OiBmb2N1c0luZGV4LFxuICAgIH0pKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5zdGF0ZS50b3BTaXRlc1ByZXZpZXcgfHwgdGhpcy5fZ2V0VG9wU2l0ZXMoKTtcbiAgICBjb25zdCB0b3BTaXRlc1VJID0gW107XG4gICAgY29uc3QgY29tbW9uUHJvcHMgPSB7XG4gICAgICBvbkRyYWdFdmVudDogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgIGRpc3BhdGNoOiBwcm9wcy5kaXNwYXRjaCxcbiAgICB9O1xuICAgIC8vIFdlIGFzc2lnbiBhIGtleSB0byBlYWNoIHBsYWNlaG9sZGVyIHNsb3QuIFdlIG5lZWQgaXQgdG8gYmUgaW5kZXBlbmRlbnRcbiAgICAvLyBvZiB0aGUgc2xvdCBpbmRleCAoaSBiZWxvdykgc28gdGhhdCB0aGUga2V5cyB1c2VkIHN0YXkgdGhlIHNhbWUgZHVyaW5nXG4gICAgLy8gZHJhZyBhbmQgZHJvcCByZW9yZGVyaW5nIGFuZCB0aGUgdW5kZXJseWluZyBET00gbm9kZXMgYXJlIHJldXNlZC5cbiAgICAvLyBUaGlzIG1vc3RseSAob25seT8pIGFmZmVjdHMgbGludXggc28gYmUgc3VyZSB0byB0ZXN0IG9uIGxpbnV4IGJlZm9yZSBjaGFuZ2luZy5cbiAgICBsZXQgaG9sZUluZGV4ID0gMDtcblxuICAgIC8vIE9uIG5hcnJvdyB2aWV3cG9ydHMsIHdlIG9ubHkgc2hvdyA2IHNpdGVzIHBlciByb3cuIFdlJ2xsIG1hcmsgdGhlIHJlc3QgYXNcbiAgICAvLyAuaGlkZS1mb3ItbmFycm93IHRvIGhpZGUgaW4gQ1NTIHZpYSBAbWVkaWEgcXVlcnkuXG4gICAgY29uc3QgbWF4TmFycm93VmlzaWJsZUluZGV4ID0gcHJvcHMuVG9wU2l0ZXNSb3dzICogNjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdG9wU2l0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBsaW5rID1cbiAgICAgICAgdG9wU2l0ZXNbaV0gJiZcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdG9wU2l0ZXNbaV0sIHtcbiAgICAgICAgICBpY29uVHlwZTogdGhpcy5wcm9wcy50b3BTaXRlSWNvblR5cGUodG9wU2l0ZXNbaV0pLFxuICAgICAgICB9KTtcblxuICAgICAgY29uc3Qgc2xvdFByb3BzID0ge1xuICAgICAgICBrZXk6IGxpbmsgPyBsaW5rLnVybCA6IGhvbGVJbmRleCsrLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgIH07XG4gICAgICBpZiAoaSA+PSBtYXhOYXJyb3dWaXNpYmxlSW5kZXgpIHtcbiAgICAgICAgc2xvdFByb3BzLmNsYXNzTmFtZSA9IFwiaGlkZS1mb3ItbmFycm93XCI7XG4gICAgICB9XG5cbiAgICAgIGxldCB0b3BTaXRlTGluaztcbiAgICAgIC8vIFVzZSBhIHBsYWNlaG9sZGVyIGlmIHRoZSBsaW5rIGlzIGVtcHR5IG9yIGl0J3MgcmVuZGVyaW5nIGEgc3BvbnNvcmVkXG4gICAgICAvLyB0aWxlIGZvciB0aGUgYWJvdXQ6aG9tZSBzdGFydHVwIGNhY2hlLlxuICAgICAgaWYgKFxuICAgICAgICAhbGluayB8fFxuICAgICAgICAocHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlLlRvcFNpdGVzICYmIGlzU3BvbnNvcmVkKGxpbmspKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgdG9wU2l0ZUxpbmsgPSA8VG9wU2l0ZVBsYWNlaG9sZGVyIHsuLi5zbG90UHJvcHN9IHsuLi5jb21tb25Qcm9wc30gLz47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodG9wU2l0ZXNbaV0/LmlzQWRkQnV0dG9uKSB7XG4gICAgICAgIHRvcFNpdGVMaW5rID0gKFxuICAgICAgICAgIDxUb3BTaXRlQWRkQnV0dG9uXG4gICAgICAgICAgICB7Li4uc2xvdFByb3BzfVxuICAgICAgICAgICAgey4uLmNvbW1vblByb3BzfVxuICAgICAgICAgICAgc2V0UmVmPXtcbiAgICAgICAgICAgICAgaSA9PT0gdGhpcy5zdGF0ZS5mb2N1c2VkSW5kZXhcbiAgICAgICAgICAgICAgICA/IGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiAoKSA9PiB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFiSW5kZXg9e2kgPT09IHRoaXMuc3RhdGUuZm9jdXNlZEluZGV4ID8gMCA6IC0xfVxuICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLm9uVG9wc2l0ZUZvY3VzKGkpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIE1lc3NhZ2VzPXt0aGlzLnByb3BzLk1lc3NhZ2VzfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b3BTaXRlTGluayA9IChcbiAgICAgICAgICA8VG9wU2l0ZVxuICAgICAgICAgICAgbGluaz17bGlua31cbiAgICAgICAgICAgIGFjdGl2ZUluZGV4PXt0aGlzLnN0YXRlLmFjdGl2ZUluZGV4fVxuICAgICAgICAgICAgb25BY3RpdmF0ZT17dGhpcy5vbkFjdGl2YXRlfVxuICAgICAgICAgICAgey4uLnNsb3RQcm9wc31cbiAgICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cbiAgICAgICAgICAgIGNvbG9ycz17cHJvcHMuY29sb3JzfVxuICAgICAgICAgICAgc2V0UmVmPXtcbiAgICAgICAgICAgICAgaSA9PT0gdGhpcy5zdGF0ZS5mb2N1c2VkSW5kZXhcbiAgICAgICAgICAgICAgICA/IGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkUmVmID0gZWw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiAoKSA9PiB7fVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFiSW5kZXg9e2kgPT09IHRoaXMuc3RhdGUuZm9jdXNlZEluZGV4ID8gMCA6IC0xfVxuICAgICAgICAgICAgb25Gb2N1cz17KCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLm9uVG9wc2l0ZUZvY3VzKGkpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0b3BTaXRlc1VJLnB1c2godG9wU2l0ZUxpbmspO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZXMtbGlzdC13cmFwcGVyXCI+XG4gICAgICAgIDx1bFxuICAgICAgICAgIHJvbGU9XCJncm91cFwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlNob3J0Y3V0c1wiXG4gICAgICAgICAgb25Gb2N1cz17dGhpcy5vbldyYXBwZXJGb2N1c31cbiAgICAgICAgICBvbkJsdXI9e3RoaXMub25XcmFwcGVyQmx1cn1cbiAgICAgICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNSZWYgPSBlbDtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGNsYXNzTmFtZT17YHRvcC1zaXRlcy1saXN0JHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUgPyBcIiBkbmQtYWN0aXZlXCIgOiBcIlwiXG4gICAgICAgICAgfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7dG9wU2l0ZXNVSX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRvcFNpdGVMaXN0ID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBBcHA6IHN0YXRlLkFwcCxcbiAgTWVzc2FnZXM6IHN0YXRlLk1lc3NhZ2VzLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX1RvcFNpdGVMaXN0KTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IEExMXlMaW5rQnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQTExeUxpbmtCdXR0b24vQTExeUxpbmtCdXR0b25cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19TT1VSQ0UgfSBmcm9tIFwiLi9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgVG9wU2l0ZUZvcm1JbnB1dCB9IGZyb20gXCIuL1RvcFNpdGVGb3JtSW5wdXRcIjtcbmltcG9ydCB7IFRvcFNpdGVMaW5rIH0gZnJvbSBcIi4vVG9wU2l0ZVwiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUZvcm0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgY29uc3QgeyBzaXRlIH0gPSBwcm9wcztcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGFiZWw6IHNpdGUgPyBzaXRlLmxhYmVsIHx8IHNpdGUuaG9zdG5hbWUgOiBcIlwiLFxuICAgICAgdXJsOiBzaXRlID8gc2l0ZS51cmwgOiBcIlwiLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVcmw6IHNpdGUgPyBzaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwgOiBcIlwiLFxuICAgICAgc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtOiBzaXRlID8gc2l0ZS5jdXN0b21TY3JlZW5zaG90VVJMIDogZmFsc2UsXG4gICAgICBoYXNVUkxDaGFuZ2VkOiBmYWxzZSxcbiAgICAgIGhhc1RpdGxlQ2hhbmdlZDogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQgPSB0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTGFiZWxDaGFuZ2UgPSB0aGlzLm9uTGFiZWxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVXJsQ2hhbmdlID0gdGhpcy5vblVybENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DYW5jZWxCdXR0b25DbGljayA9IHRoaXMub25DYW5jZWxCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DbGVhclVybENsaWNrID0gdGhpcy5vbkNsZWFyVXJsQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRG9uZUJ1dHRvbkNsaWNrID0gdGhpcy5vbkRvbmVCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlID1cbiAgICAgIHRoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblByZXZpZXdCdXR0b25DbGljayA9IHRoaXMub25QcmV2aWV3QnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRW5hYmxlU2NyZWVuc2hvdFVybEZvcm0gPSB0aGlzLm9uRW5hYmxlU2NyZWVuc2hvdFVybEZvcm0uYmluZCh0aGlzKTtcbiAgICB0aGlzLnZhbGlkYXRlVXJsID0gdGhpcy52YWxpZGF0ZVVybC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25MYWJlbENoYW5nZShldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbGFiZWw6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgIGhhc1RpdGxlQ2hhbmdlZDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uVXJsQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1cmw6IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogZmFsc2UsXG4gICAgICBoYXNVUkxDaGFuZ2VkOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgb25DbGVhclVybENsaWNrKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdXJsOiBcIlwiLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uRW5hYmxlU2NyZWVuc2hvdFVybEZvcm0oKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDdXN0b21TY3JlZW5zaG90Rm9ybTogdHJ1ZSB9KTtcbiAgfVxuXG4gIF91cGRhdGVDdXN0b21TY3JlZW5zaG90SW5wdXQoY3VzdG9tU2NyZWVuc2hvdFVybCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY3VzdG9tU2NyZWVuc2hvdFVybCxcbiAgICAgIHZhbGlkYXRpb25FcnJvcjogZmFsc2UsXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LlBSRVZJRVdfUkVRVUVTVF9DQU5DRUwgfSk7XG4gIH1cblxuICBvbkN1c3RvbVNjcmVlbnNob3RVcmxDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLl91cGRhdGVDdXN0b21TY3JlZW5zaG90SW5wdXQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfVxuXG4gIG9uQ2xlYXJTY3JlZW5zaG90SW5wdXQoKSB7XG4gICAgdGhpcy5fdXBkYXRlQ3VzdG9tU2NyZWVuc2hvdElucHV0KFwiXCIpO1xuICB9XG5cbiAgb25DYW5jZWxCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gIH1cblxuICBvbkRvbmVCdXR0b25DbGljayhldikge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAodGhpcy52YWxpZGF0ZUZvcm0oKSkge1xuICAgICAgY29uc3Qgc2l0ZSA9IHsgdXJsOiB0aGlzLmNsZWFuVXJsKHRoaXMuc3RhdGUudXJsKSB9O1xuICAgICAgY29uc3QgeyBpbmRleCB9ID0gdGhpcy5wcm9wcztcbiAgICAgIGNvbnN0IGlzRWRpdCA9ICEhdGhpcy5wcm9wcy5zaXRlO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5sYWJlbCAhPT0gXCJcIikge1xuICAgICAgICBzaXRlLmxhYmVsID0gdGhpcy5zdGF0ZS5sYWJlbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhdGUuY3VzdG9tU2NyZWVuc2hvdFVybCkge1xuICAgICAgICBzaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwgPSB0aGlzLmNsZWFuVXJsKFxuICAgICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tU2NyZWVuc2hvdFVybFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNpdGUgJiYgdGhpcy5wcm9wcy5zaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwpIHtcbiAgICAgICAgLy8gVXNlZCB0byBmbGFnIHRoYXQgcHJldmlvdXNseSBjYWNoZWQgc2NyZWVuc2hvdCBzaG91bGQgYmUgcmVtb3ZlZFxuICAgICAgICBzaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5UT1BfU0lURVNfUElOLFxuICAgICAgICAgIGRhdGE6IHsgc2l0ZSwgaW5kZXggfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGlmIChpc0VkaXQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgICAgZXZlbnQ6IFwiVE9QX1NJVEVTX0VESVRcIixcbiAgICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgICAgICAgICBoYXNUaXRsZUNoYW5nZWQ6IHRoaXMuc3RhdGUuaGFzVGl0bGVDaGFuZ2VkLFxuICAgICAgICAgICAgaGFzVVJMQ2hhbmdlZDogdGhpcy5zdGF0ZS5oYXNVUkxDaGFuZ2VkLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0VkaXQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgICAgZXZlbnQ6IFwiVE9QX1NJVEVTX0FERFwiLFxuICAgICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvblByZXZpZXdCdXR0b25DbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHRoaXMudmFsaWRhdGVGb3JtKCkpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlBSRVZJRVdfUkVRVUVTVCxcbiAgICAgICAgICBkYXRhOiB7IHVybDogdGhpcy5jbGVhblVybCh0aGlzLnN0YXRlLmN1c3RvbVNjcmVlbnNob3RVcmwpIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgZXZlbnQ6IFwiUFJFVklFV19SRVFVRVNUXCIsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFuVXJsKHVybCkge1xuICAgIC8vIElmIHdlIGFyZSBtaXNzaW5nIGEgcHJvdG9jb2wsIHByZXBlbmQgaHR0cDovL1xuICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoXCJodHRwOlwiKSAmJiAhdXJsLnN0YXJ0c1dpdGgoXCJodHRwczpcIikpIHtcbiAgICAgIHJldHVybiBgaHR0cDovLyR7dXJsfWA7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICBfdHJ5UGFyc2VVcmwodXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgVVJMKHVybCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVVcmwodXJsKSB7XG4gICAgY29uc3QgdmFsaWRQcm90b2NvbHMgPSBbXCJodHRwOlwiLCBcImh0dHBzOlwiXTtcbiAgICBjb25zdCB1cmxPYmogPVxuICAgICAgdGhpcy5fdHJ5UGFyc2VVcmwodXJsKSB8fCB0aGlzLl90cnlQYXJzZVVybCh0aGlzLmNsZWFuVXJsKHVybCkpO1xuXG4gICAgcmV0dXJuIHVybE9iaiAmJiB2YWxpZFByb3RvY29scy5pbmNsdWRlcyh1cmxPYmoucHJvdG9jb2wpO1xuICB9XG5cbiAgdmFsaWRhdGVDdXN0b21TY3JlZW5zaG90VXJsKCkge1xuICAgIGNvbnN0IHsgY3VzdG9tU2NyZWVuc2hvdFVybCB9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gIWN1c3RvbVNjcmVlbnNob3RVcmwgfHwgdGhpcy52YWxpZGF0ZVVybChjdXN0b21TY3JlZW5zaG90VXJsKTtcbiAgfVxuXG4gIHZhbGlkYXRlRm9ybSgpIHtcbiAgICBjb25zdCB2YWxpZGF0ZSA9XG4gICAgICB0aGlzLnZhbGlkYXRlVXJsKHRoaXMuc3RhdGUudXJsKSAmJiB0aGlzLnZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCgpO1xuXG4gICAgaWYgKCF2YWxpZGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb25FcnJvcjogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdGU7XG4gIH1cblxuICBfcmVuZGVyQ3VzdG9tU2NyZWVuc2hvdElucHV0KCkge1xuICAgIGNvbnN0IHsgY3VzdG9tU2NyZWVuc2hvdFVybCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCByZXF1ZXN0RmFpbGVkID0gdGhpcy5wcm9wcy5wcmV2aWV3UmVzcG9uc2UgPT09IFwiXCI7XG4gICAgY29uc3QgdmFsaWRhdGlvbkVycm9yID1cbiAgICAgICh0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJiAhdGhpcy52YWxpZGF0ZUN1c3RvbVNjcmVlbnNob3RVcmwoKSkgfHxcbiAgICAgIHJlcXVlc3RGYWlsZWQ7XG4gICAgLy8gU2V0IGZvY3VzIG9uIGVycm9yIGlmIHRoZSB1cmwgZmllbGQgaXMgdmFsaWQgb3Igd2hlbiB0aGUgaW5wdXQgaXMgZmlyc3QgcmVuZGVyZWQgYW5kIGlzIGVtcHR5XG4gICAgY29uc3Qgc2hvdWxkRm9jdXMgPVxuICAgICAgKHZhbGlkYXRpb25FcnJvciAmJiB0aGlzLnZhbGlkYXRlVXJsKHRoaXMuc3RhdGUudXJsKSkgfHxcbiAgICAgICFjdXN0b21TY3JlZW5zaG90VXJsO1xuICAgIGNvbnN0IGlzTG9hZGluZyA9XG4gICAgICB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSA9PT0gbnVsbCAmJlxuICAgICAgY3VzdG9tU2NyZWVuc2hvdFVybCAmJlxuICAgICAgdGhpcy5wcm9wcy5wcmV2aWV3VXJsID09PSB0aGlzLmNsZWFuVXJsKGN1c3RvbVNjcmVlbnNob3RVcmwpO1xuXG4gICAgaWYgKCF0aGlzLnN0YXRlLnNob3dDdXN0b21TY3JlZW5zaG90Rm9ybSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEExMXlMaW5rQnV0dG9uXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImVuYWJsZS1jdXN0b20taW1hZ2UtaW5wdXRcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy11c2UtaW1hZ2UtbGlua1wiXG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXN0b20taW1hZ2UtaW5wdXQtY29udGFpbmVyXCI+XG4gICAgICAgIDxUb3BTaXRlRm9ybUlucHV0XG4gICAgICAgICAgZXJyb3JNZXNzYWdlSWQ9e1xuICAgICAgICAgICAgcmVxdWVzdEZhaWxlZFxuICAgICAgICAgICAgICA/IFwibmV3dGFiLXRvcHNpdGVzLWltYWdlLXZhbGlkYXRpb25cIlxuICAgICAgICAgICAgICA6IFwibmV3dGFiLXRvcHNpdGVzLXVybC12YWxpZGF0aW9uXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9hZGluZz17aXNMb2FkaW5nfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZX1cbiAgICAgICAgICBvbkNsZWFyPXt0aGlzLm9uQ2xlYXJTY3JlZW5zaG90SW5wdXR9XG4gICAgICAgICAgc2hvdWxkRm9jdXM9e3Nob3VsZEZvY3VzfVxuICAgICAgICAgIHR5cGVVcmw9e3RydWV9XG4gICAgICAgICAgdmFsdWU9e2N1c3RvbVNjcmVlbnNob3RVcmx9XG4gICAgICAgICAgdmFsaWRhdGlvbkVycm9yPXt2YWxpZGF0aW9uRXJyb3J9XG4gICAgICAgICAgdGl0bGVJZD1cIm5ld3RhYi10b3BzaXRlcy1pbWFnZS11cmwtbGFiZWxcIlxuICAgICAgICAgIHBsYWNlaG9sZGVySWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLWlucHV0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJlcXVlc3RGYWlsZWQgPSB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSA9PT0gXCJcIjtcbiAgICAvLyBGb3IgVUkgcHVycG9zZXMsIGVkaXRpbmcgd2l0aG91dCBhbiBleGlzdGluZyBsaW5rIGlzIFwiYWRkXCJcbiAgICBjb25zdCBzaG93QXNBZGQgPSAhdGhpcy5wcm9wcy5zaXRlO1xuICAgIGNvbnN0IHByZXZpb3VzID1cbiAgICAgICh0aGlzLnByb3BzLnNpdGUgJiYgdGhpcy5wcm9wcy5zaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwpIHx8IFwiXCI7XG4gICAgY29uc3QgY2hhbmdlZCA9XG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsICYmIHRoaXMuY2xlYW5VcmwoY3VzdG9tU2NyZWVuc2hvdFVybCkgIT09IHByZXZpb3VzO1xuICAgIC8vIFByZXZpZXcgbW9kZSBpZiBjaGFuZ2VzIHdlcmUgbWFkZSB0byB0aGUgY3VzdG9tIHNjcmVlbnNob3QgVVJMIGFuZCBubyBwcmV2aWV3IHdhcyByZWNlaXZlZCB5ZXRcbiAgICAvLyBvciB0aGUgcmVxdWVzdCBmYWlsZWRcbiAgICBjb25zdCBwcmV2aWV3TW9kZSA9IGNoYW5nZWQgJiYgIXRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlO1xuICAgIGNvbnN0IHByZXZpZXdMaW5rID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcy5zaXRlKTtcbiAgICBpZiAodGhpcy5wcm9wcy5wcmV2aWV3UmVzcG9uc2UpIHtcbiAgICAgIHByZXZpZXdMaW5rLnNjcmVlbnNob3QgPSB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZTtcbiAgICAgIHByZXZpZXdMaW5rLmN1c3RvbVNjcmVlbnNob3RVUkwgPSB0aGlzLnByb3BzLnByZXZpZXdVcmw7XG4gICAgfVxuICAgIC8vIEhhbmRsZXMgdGhlIGZvcm0gc3VibWl0IHNvIGFuIGVudGVyIHByZXNzIHBlcmZvcm1zIHRoZSBjb3JyZWN0IGFjdGlvblxuICAgIGNvbnN0IG9uU3VibWl0ID0gcHJldmlld01vZGVcbiAgICAgID8gdGhpcy5vblByZXZpZXdCdXR0b25DbGlja1xuICAgICAgOiB0aGlzLm9uRG9uZUJ1dHRvbkNsaWNrO1xuXG4gICAgY29uc3QgYWRkVG9wc2l0ZXNIZWFkZXJMMTBuSWQgPSBcIm5ld3RhYi10b3BzaXRlcy1hZGQtc2hvcnRjdXQtaGVhZGVyXCI7XG4gICAgY29uc3QgZWRpdFRvcHNpdGVzSGVhZGVyTDEwbklkID0gXCJuZXd0YWItdG9wc2l0ZXMtZWRpdC1zaG9ydGN1dC1oZWFkZXJcIjtcbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gY2xhc3NOYW1lPVwidG9wc2l0ZS1mb3JtXCIgb25TdWJtaXQ9e29uU3VibWl0fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLWlucHV0LWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoM1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZSBncmV5LXRpdGxlXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17XG4gICAgICAgICAgICAgIHNob3dBc0FkZCA/IGFkZFRvcHNpdGVzSGVhZGVyTDEwbklkIDogZWRpdFRvcHNpdGVzSGVhZGVyTDEwbklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpZWxkcy1hbmQtcHJldmlld1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3JtLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgPFRvcFNpdGVGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkxhYmVsQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmxhYmVsfVxuICAgICAgICAgICAgICAgIHRpdGxlSWQ9XCJuZXd0YWItdG9wc2l0ZXMtdGl0bGUtbGFiZWxcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVySWQ9XCJuZXd0YWItdG9wc2l0ZXMtdGl0bGUtaW5wdXRcIlxuICAgICAgICAgICAgICAgIGF1dG9Gb2N1c09uT3Blbj17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFRvcFNpdGVGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblVybENoYW5nZX1cbiAgICAgICAgICAgICAgICBzaG91bGRGb2N1cz17XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJlxuICAgICAgICAgICAgICAgICAgIXRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnVybH1cbiAgICAgICAgICAgICAgICBvbkNsZWFyPXt0aGlzLm9uQ2xlYXJVcmxDbGlja31cbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3I9e1xuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS52YWxpZGF0aW9uRXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICF0aGlzLnZhbGlkYXRlVXJsKHRoaXMuc3RhdGUudXJsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aXRsZUlkPVwibmV3dGFiLXRvcHNpdGVzLXVybC1sYWJlbFwiXG4gICAgICAgICAgICAgICAgdHlwZVVybD17dHJ1ZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcklkPVwibmV3dGFiLXRvcHNpdGVzLXVybC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlSWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLXZhbGlkYXRpb25cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7dGhpcy5fcmVuZGVyQ3VzdG9tU2NyZWVuc2hvdElucHV0KCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxUb3BTaXRlTGlua1xuICAgICAgICAgICAgICBsaW5rPXtwcmV2aWV3TGlua31cbiAgICAgICAgICAgICAgZGVmYXVsdFN0eWxlPXtyZXF1ZXN0RmFpbGVkfVxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5zdGF0ZS5sYWJlbH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FuY2VsXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLWNhbmNlbC1idXR0b25cIlxuICAgICAgICAgIC8+XG4gICAgICAgICAge3ByZXZpZXdNb2RlID8gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lIHByZXZpZXdcIlxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLXByZXZpZXctYnV0dG9uXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZG9uZVwiXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e1xuICAgICAgICAgICAgICAgIHNob3dBc0FkZFxuICAgICAgICAgICAgICAgICAgPyBcIm5ld3RhYi10b3BzaXRlcy1hZGQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIDogXCJuZXd0YWItdG9wc2l0ZXMtc2F2ZS1idXR0b25cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgIDwvZm9ybT5cbiAgICApO1xuICB9XG59XG5cblRvcFNpdGVGb3JtLmRlZmF1bHRQcm9wcyA9IHtcbiAgc2l0ZTogbnVsbCxcbiAgaW5kZXg6IC0xLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IE1JTl9SSUNIX0ZBVklDT05fU0laRSwgVE9QX1NJVEVTX1NPVVJDRSB9IGZyb20gXCIuL1RvcFNpdGVzQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZVNlY3Rpb24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db2xsYXBzaWJsZVNlY3Rpb24vQ29sbGFwc2libGVTZWN0aW9uXCI7XG5pbXBvcnQgeyBDb21wb25lbnRQZXJmVGltZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db21wb25lbnRQZXJmVGltZXIvQ29tcG9uZW50UGVyZlRpbWVyXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNb2RhbE92ZXJsYXlXcmFwcGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTW9kYWxPdmVybGF5L01vZGFsT3ZlcmxheVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VhcmNoU2hvcnRjdXRzRm9ybSB9IGZyb20gXCIuL1NlYXJjaFNob3J0Y3V0c0Zvcm1cIjtcbmltcG9ydCB7IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyB9IGZyb20gXCJjb21tb24vUmVkdWNlcnMuc3lzLm1qc1wiO1xuaW1wb3J0IHsgVG9wU2l0ZUZvcm0gfSBmcm9tIFwiLi9Ub3BTaXRlRm9ybVwiO1xuaW1wb3J0IHsgVG9wU2l0ZUxpc3QgfSBmcm9tIFwiLi9Ub3BTaXRlXCI7XG5cbmZ1bmN0aW9uIHRvcFNpdGVJY29uVHlwZShsaW5rKSB7XG4gIGlmIChsaW5rLmN1c3RvbVNjcmVlbnNob3RVUkwpIHtcbiAgICByZXR1cm4gXCJjdXN0b21fc2NyZWVuc2hvdFwiO1xuICB9XG4gIGlmIChsaW5rLnRpcHB5VG9wSWNvbiB8fCBsaW5rLmZhdmljb25SZWYgPT09IFwidGlwcHl0b3BcIikge1xuICAgIHJldHVybiBcInRpcHB5dG9wXCI7XG4gIH1cbiAgaWYgKGxpbmsuZmF2aWNvblNpemUgPj0gTUlOX1JJQ0hfRkFWSUNPTl9TSVpFKSB7XG4gICAgcmV0dXJuIFwicmljaF9pY29uXCI7XG4gIH1cbiAgaWYgKGxpbmsuc2NyZWVuc2hvdCkge1xuICAgIHJldHVybiBcInNjcmVlbnNob3RcIjtcbiAgfVxuICByZXR1cm4gXCJub19pbWFnZVwiO1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggVG9wU2l0ZXMgYW5kIGNvdW50cyB0eXBlcyBvZiBpbWFnZXMuXG4gKiBAcGFyYW0gYWNjIEFjY3VtdWxhdG9yIGZvciByZWR1Y2VyLlxuICogQHBhcmFtIHRvcHNpdGUgRW50cnkgaW4gVG9wU2l0ZXMuXG4gKi9cbmZ1bmN0aW9uIGNvdW50VG9wU2l0ZXNJY29uc1R5cGVzKHRvcFNpdGVzKSB7XG4gIGNvbnN0IGNvdW50VG9wU2l0ZXNUeXBlcyA9IChhY2MsIGxpbmspID0+IHtcbiAgICBhY2NbdG9wU2l0ZUljb25UeXBlKGxpbmspXSsrO1xuICAgIHJldHVybiBhY2M7XG4gIH07XG5cbiAgcmV0dXJuIHRvcFNpdGVzLnJlZHVjZShjb3VudFRvcFNpdGVzVHlwZXMsIHtcbiAgICBjdXN0b21fc2NyZWVuc2hvdDogMCxcbiAgICBzY3JlZW5zaG90OiAwLFxuICAgIHRpcHB5dG9wOiAwLFxuICAgIHJpY2hfaWNvbjogMCxcbiAgICBub19pbWFnZTogMCxcbiAgfSk7XG59XG5cbmV4cG9ydCBjbGFzcyBfVG9wU2l0ZXMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVkaXRGb3JtQ2xvc2UgPSB0aGlzLm9uRWRpdEZvcm1DbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2UgPVxuICAgICAgdGhpcy5vblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIHNlc3Npb24gc3RhdGlzdGljcyBhYm91dCB0aGUgcXVhbGl0eSBvZiBUb3BTaXRlcyBpY29ucyBhbmQgcGlubmVkIGNvdW50LlxuICAgKi9cbiAgX2Rpc3BhdGNoVG9wU2l0ZXNTdGF0cygpIHtcbiAgICBjb25zdCB0b3BTaXRlcyA9IHRoaXMuX2dldFZpc2libGVUb3BTaXRlcygpLmZpbHRlcihcbiAgICAgIHRvcFNpdGUgPT4gdG9wU2l0ZSAhPT0gbnVsbCAmJiB0b3BTaXRlICE9PSB1bmRlZmluZWRcbiAgICApO1xuICAgIGNvbnN0IHRvcFNpdGVzSWNvbnNTdGF0cyA9IGNvdW50VG9wU2l0ZXNJY29uc1R5cGVzKHRvcFNpdGVzKTtcbiAgICBjb25zdCB0b3BTaXRlc1Bpbm5lZCA9IHRvcFNpdGVzLmZpbHRlcihzaXRlID0+ICEhc2l0ZS5pc1Bpbm5lZCkubGVuZ3RoO1xuICAgIGNvbnN0IHNlYXJjaFNob3J0Y3V0cyA9IHRvcFNpdGVzLmZpbHRlcihcbiAgICAgIHNpdGUgPT4gISFzaXRlLnNlYXJjaFRvcFNpdGVcbiAgICApLmxlbmd0aDtcbiAgICAvLyBEaXNwYXRjaCB0ZWxlbWV0cnkgZXZlbnQgd2l0aCB0aGUgY291bnQgb2YgVG9wU2l0ZXMgaW1hZ2VzIHR5cGVzLlxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvcHNpdGVzX2ljb25fc3RhdHM6IHRvcFNpdGVzSWNvbnNTdGF0cyxcbiAgICAgICAgICB0b3BzaXRlc19waW5uZWQ6IHRvcFNpdGVzUGlubmVkLFxuICAgICAgICAgIHRvcHNpdGVzX3NlYXJjaF9zaG9ydGN1dHM6IHNlYXJjaFNob3J0Y3V0cyxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIFRvcFNpdGVzIHRoYXQgYXJlIHZpc2libGUgYmFzZWQgb24gcHJlZnMgYW5kIHdpbmRvdyB3aWR0aC5cbiAgICovXG4gIF9nZXRWaXNpYmxlVG9wU2l0ZXMoKSB7XG4gICAgLy8gV2UgaGlkZSAyIHNpdGVzIHBlciByb3cgd2hlbiBub3QgaW4gdGhlIHdpZGUgbGF5b3V0LlxuICAgIGxldCBzaXRlc1BlclJvdyA9IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVztcbiAgICAvLyAkYnJlYWstcG9pbnQtd2lkZXN0ID0gMTA3MnB4IChmcm9tIF92YXJpYWJsZXMuc2NzcylcbiAgICBpZiAoIWdsb2JhbFRoaXMubWF0Y2hNZWRpYShgKG1pbi13aWR0aDogMTA3MnB4KWApLm1hdGNoZXMpIHtcbiAgICAgIHNpdGVzUGVyUm93IC09IDI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3BzLlRvcFNpdGVzLnJvd3Muc2xpY2UoXG4gICAgICAwLFxuICAgICAgdGhpcy5wcm9wcy5Ub3BTaXRlc1Jvd3MgKiBzaXRlc1BlclJvd1xuICAgICk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5fZGlzcGF0Y2hUb3BTaXRlc1N0YXRzKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl9kaXNwYXRjaFRvcFNpdGVzU3RhdHMoKTtcbiAgfVxuXG4gIG9uRWRpdEZvcm1DbG9zZSgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICBldmVudDogXCJUT1BfU0lURVNfRURJVF9DTE9TRVwiLFxuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5UT1BfU0lURVNfQ0FOQ0VMX0VESVQgfSk7XG4gIH1cblxuICBvblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZSgpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICBldmVudDogXCJTRUFSQ0hfRURJVF9DTE9TRVwiLFxuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5UT1BfU0lURVNfQ0xPU0VfU0VBUkNIX1NIT1JUQ1VUU19NT0RBTCB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgZWRpdEZvcm0sIHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtIH0gPSBwcm9wcy5Ub3BTaXRlcztcbiAgICBjb25zdCBleHRyYU1lbnVPcHRpb25zID0gW1wiQWRkVG9wU2l0ZVwiXTtcbiAgICBjb25zdCBjb2xvcnMgPSBwcm9wcy5QcmVmcy52YWx1ZXNbXCJuZXdOZXd0YWJFeHBlcmllbmNlLmNvbG9yc1wiXTtcblxuICAgIGlmIChwcm9wcy5QcmVmcy52YWx1ZXNbXCJpbXByb3Zlc2VhcmNoLnRvcFNpdGVTZWFyY2hTaG9ydGN1dHNcIl0pIHtcbiAgICAgIGV4dHJhTWVudU9wdGlvbnMucHVzaChcIkFkZFNlYXJjaFNob3J0Y3V0XCIpO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcG9uZW50UGVyZlRpbWVyXG4gICAgICAgIGlkPVwidG9wc2l0ZXNcIlxuICAgICAgICBpbml0aWFsaXplZD17cHJvcHMuVG9wU2l0ZXMuaW5pdGlhbGl6ZWR9XG4gICAgICAgIGRpc3BhdGNoPXtwcm9wcy5kaXNwYXRjaH1cbiAgICAgID5cbiAgICAgICAgPENvbGxhcHNpYmxlU2VjdGlvblxuICAgICAgICAgIGNsYXNzTmFtZT1cInRvcC1zaXRlc1wiXG4gICAgICAgICAgaWQ9XCJ0b3BzaXRlc1wiXG4gICAgICAgICAgdGl0bGU9e3Byb3BzLnRpdGxlIHx8IHsgaWQ6IFwibmV3dGFiLXNlY3Rpb24taGVhZGVyLXRvcHNpdGVzXCIgfX1cbiAgICAgICAgICBoaWRlVGl0bGU9e3RydWV9XG4gICAgICAgICAgZXh0cmFNZW51T3B0aW9ucz17ZXh0cmFNZW51T3B0aW9uc31cbiAgICAgICAgICBzaG93UHJlZk5hbWU9XCJmZWVkcy50b3BzaXRlc1wiXG4gICAgICAgICAgZXZlbnRTb3VyY2U9e1RPUF9TSVRFU19TT1VSQ0V9XG4gICAgICAgICAgY29sbGFwc2VkPXtmYWxzZX1cbiAgICAgICAgICBpc0ZpeGVkPXtwcm9wcy5pc0ZpeGVkfVxuICAgICAgICAgIGlzRmlyc3Q9e3Byb3BzLmlzRmlyc3R9XG4gICAgICAgICAgaXNMYXN0PXtwcm9wcy5pc0xhc3R9XG4gICAgICAgICAgZGlzcGF0Y2g9e3Byb3BzLmRpc3BhdGNofVxuICAgICAgICA+XG4gICAgICAgICAgPFRvcFNpdGVMaXN0XG4gICAgICAgICAgICBUb3BTaXRlcz17cHJvcHMuVG9wU2l0ZXN9XG4gICAgICAgICAgICBUb3BTaXRlc1Jvd3M9e3Byb3BzLlRvcFNpdGVzUm93c31cbiAgICAgICAgICAgIGRpc3BhdGNoPXtwcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHRvcFNpdGVJY29uVHlwZT17dG9wU2l0ZUljb25UeXBlfVxuICAgICAgICAgICAgY29sb3JzPXtjb2xvcnN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXQtdG9wc2l0ZXMtd3JhcHBlclwiPlxuICAgICAgICAgICAge2VkaXRGb3JtICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0LXRvcHNpdGVzXCI+XG4gICAgICAgICAgICAgICAgPE1vZGFsT3ZlcmxheVdyYXBwZXJcbiAgICAgICAgICAgICAgICAgIHVuc3R5bGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkVkaXRGb3JtQ2xvc2V9XG4gICAgICAgICAgICAgICAgICBpbm5lckNsYXNzTmFtZT1cIm1vZGFsXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8VG9wU2l0ZUZvcm1cbiAgICAgICAgICAgICAgICAgICAgc2l0ZT17cHJvcHMuVG9wU2l0ZXMucm93c1tlZGl0Rm9ybS5pbmRleF19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMub25FZGl0Rm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgICAgey4uLmVkaXRGb3JtfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L01vZGFsT3ZlcmxheVdyYXBwZXI+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtzaG93U2VhcmNoU2hvcnRjdXRzRm9ybSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdC1zZWFyY2gtc2hvcnRjdXRzXCI+XG4gICAgICAgICAgICAgICAgPE1vZGFsT3ZlcmxheVdyYXBwZXJcbiAgICAgICAgICAgICAgICAgIHVuc3R5bGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZX1cbiAgICAgICAgICAgICAgICAgIGlubmVyQ2xhc3NOYW1lPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxTZWFyY2hTaG9ydGN1dHNGb3JtXG4gICAgICAgICAgICAgICAgICAgIFRvcFNpdGVzPXtwcm9wcy5Ub3BTaXRlc31cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWxPdmVybGF5V3JhcHBlcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NvbGxhcHNpYmxlU2VjdGlvbj5cbiAgICAgIDwvQ29tcG9uZW50UGVyZlRpbWVyPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFRvcFNpdGVzID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBUb3BTaXRlczogc3RhdGUuVG9wU2l0ZXMsXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbiAgVG9wU2l0ZXNSb3dzOiBzdGF0ZS5QcmVmcy52YWx1ZXMudG9wU2l0ZXNSb3dzLFxufSkpKF9Ub3BTaXRlcyk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBDYXJkLCBQbGFjZWhvbGRlckNhcmQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9DYXJkL0NhcmRcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbGxhcHNpYmxlU2VjdGlvbi9Db2xsYXBzaWJsZVNlY3Rpb25cIjtcbmltcG9ydCB7IENvbXBvbmVudFBlcmZUaW1lciB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbXBvbmVudFBlcmZUaW1lci9Db21wb25lbnRQZXJmVGltZXJcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IE1vcmVSZWNvbW1lbmRhdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Nb3JlUmVjb21tZW5kYXRpb25zL01vcmVSZWNvbW1lbmRhdGlvbnNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRvcFNpdGVzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZXNcIjtcblxuY29uc3QgVklTSUJMRSA9IFwidmlzaWJsZVwiO1xuY29uc3QgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcbmNvbnN0IENBUkRTX1BFUl9ST1dfREVGQVVMVCA9IDM7XG5jb25zdCBDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERSA9IDQ7XG5cbmV4cG9ydCBjbGFzcyBTZWN0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGdldCBudW1Sb3dzKCkge1xuICAgIGNvbnN0IHsgcm93c1ByZWYsIG1heFJvd3MsIFByZWZzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiByb3dzUHJlZiA/IFByZWZzLnZhbHVlc1tyb3dzUHJlZl0gOiBtYXhSb3dzO1xuICB9XG5cbiAgX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgbGV0IGNhcmRzUGVyUm93ID0gQ0FSRFNfUEVSX1JPV19ERUZBVUxUO1xuICAgIGlmIChcbiAgICAgIHByb3BzLmNvbXBhY3RDYXJkcyAmJlxuICAgICAgZ2xvYmFsVGhpcy5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAxMDcycHgpYCkubWF0Y2hlc1xuICAgICkge1xuICAgICAgLy8gSWYgdGhlIHNlY3Rpb24gaGFzIGNvbXBhY3QgY2FyZHMgYW5kIHRoZSB2aWV3cG9ydCBpcyB3aWRlIGVub3VnaCwgd2Ugc2hvd1xuICAgICAgLy8gNCBjb2x1bW5zIGluc3RlYWQgb2YgMy5cbiAgICAgIC8vICRicmVhay1wb2ludC13aWRlc3QgPSAxMDcycHggKGZyb20gX3ZhcmlhYmxlcy5zY3NzKVxuICAgICAgY2FyZHNQZXJSb3cgPSBDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERTtcbiAgICB9XG4gICAgY29uc3QgbWF4Q2FyZHMgPSBjYXJkc1BlclJvdyAqIHRoaXMubnVtUm93cztcbiAgICBjb25zdCBjYXJkcyA9IHByb3BzLnJvd3Muc2xpY2UoMCwgbWF4Q2FyZHMpO1xuXG4gICAgaWYgKHRoaXMubmVlZHNJbXByZXNzaW9uU3RhdHMoY2FyZHMpKSB7XG4gICAgICBwcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICBzb3VyY2U6IHByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgIHRpbGVzOiBjYXJkcy5tYXAobGluayA9PiAoeyBpZDogbGluay5ndWlkIH0pKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMgPSBjYXJkcy5tYXAobGluayA9PiBsaW5rLmd1aWQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgc2VuZHMgYW4gZXZlbnQgd2hlbiBhIHVzZXIgc2VlcyBhIHNldCBvZiBuZXcgY29udGVudC4gSWYgY29udGVudFxuICAvLyBjaGFuZ2VzIHdoaWxlIHRoZSBwYWdlIGlzIGhpZGRlbiAoaS5lLiBwcmVsb2FkZWQgb3Igb24gYSBoaWRkZW4gdGFiKSxcbiAgLy8gb25seSBzZW5kIHRoZSBldmVudCBpZiB0aGUgcGFnZSBiZWNvbWVzIHZpc2libGUgYWdhaW4uXG4gIHNlbmRJbXByZXNzaW9uU3RhdHNPckFkZExpc3RlbmVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXByb3BzLnNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHMgfHwgIXByb3BzLmRpc3BhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgdGhpcy5fZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2Ugc2hvdWxkIG9ubHkgZXZlciBzZW5kIHRoZSBsYXRlc3QgaW1wcmVzc2lvbiBzdGF0cyBwaW5nLCBzbyByZW1vdmUgYW55XG4gICAgICAvLyBvbGRlciBsaXN0ZW5lcnMuXG4gICAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gdGhlIHBhZ2UgYmVjb21lcyB2aXNpYmxlLCBzZW5kIHRoZSBpbXByZXNzaW9uIHN0YXRzIHBpbmcgaWYgdGhlIHNlY3Rpb24gaXNuJ3QgY29sbGFwc2VkLlxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLnByb3BzLnByZWYuY29sbGFwc2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgdGhpcy5zZW5kTmV3VGFiUmVoeWRyYXRlZCh0aGlzLnByb3BzLmluaXRpYWxpemVkKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLnByb3BzLnJvd3MubGVuZ3RoICYmICF0aGlzLnByb3BzLnByZWYuY29sbGFwc2VkKSB7XG4gICAgICB0aGlzLnNlbmRJbXByZXNzaW9uU3RhdHNPckFkZExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgaXNDb2xsYXBzZWQgPSBwcm9wcy5wcmVmLmNvbGxhcHNlZDtcbiAgICBjb25zdCB3YXNDb2xsYXBzZWQgPSBwcmV2UHJvcHMucHJlZi5jb2xsYXBzZWQ7XG4gICAgaWYgKFxuICAgICAgLy8gRG9uJ3Qgc2VuZCBpbXByZXNzaW9uIHN0YXRzIGZvciB0aGUgZW1wdHkgc3RhdGVcbiAgICAgIHByb3BzLnJvd3MubGVuZ3RoICYmXG4gICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gc2VuZCBpbXByZXNzaW9uIHN0YXRzIGlmIHRoZSBjb250ZW50IG9mIHRoZSBjYXJkcyBoYXMgY2hhbmdlZFxuICAgICAgLy8gYW5kIHRoZSBzZWN0aW9uIGlzIG5vdCBjb2xsYXBzZWQuLi5cbiAgICAgICgocHJvcHMucm93cyAhPT0gcHJldlByb3BzLnJvd3MgJiYgIWlzQ29sbGFwc2VkKSB8fFxuICAgICAgICAvLyBvciBpZiB3ZSBhcmUgZXhwYW5kaW5nIGEgc2VjdGlvbiB0aGF0IHdhcyBjb2xsYXBzZWQuXG4gICAgICAgICh3YXNDb2xsYXBzZWQgJiYgIWlzQ29sbGFwc2VkKSlcbiAgICApIHtcbiAgICAgIHRoaXMuc2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcykge1xuICAgIHRoaXMuc2VuZE5ld1RhYlJlaHlkcmF0ZWQobmV4dFByb3BzLmluaXRpYWxpemVkKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBuZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykge1xuICAgIGlmIChcbiAgICAgICF0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMgfHxcbiAgICAgIHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcy5sZW5ndGggIT09IGNhcmRzLmxlbmd0aFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhcmRzW2ldLmd1aWQgIT09IHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkc1tpXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUaGUgTkVXX1RBQl9SRUhZRFJBVEVEIGV2ZW50IGlzIHVzZWQgdG8gaW5mb3JtIGZlZWRzIHRoYXQgdGhlaXJcbiAgLy8gZGF0YSBoYXMgYmVlbiBjb25zdW1lZCBlLmcuIGZvciBjb3VudGluZyB0aGUgbnVtYmVyIG9mIHRhYnMgdGhhdFxuICAvLyBoYXZlIHJlbmRlcmVkIHRoYXQgZGF0YS5cbiAgc2VuZE5ld1RhYlJlaHlkcmF0ZWQoaW5pdGlhbGl6ZWQpIHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQgJiYgIXRoaXMucmVuZGVyTm90aWZpZWQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oeyB0eXBlOiBhdC5ORVdfVEFCX1JFSFlEUkFURUQsIGRhdGE6IHt9IH0pXG4gICAgICApO1xuICAgICAgdGhpcy5yZW5kZXJOb3RpZmllZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICB0aXRsZSxcbiAgICAgIHJvd3MsXG4gICAgICBlbXB0eVN0YXRlLFxuICAgICAgZGlzcGF0Y2gsXG4gICAgICBjb21wYWN0Q2FyZHMsXG4gICAgICByZWFkX21vcmVfZW5kcG9pbnQsXG4gICAgICBjb250ZXh0TWVudU9wdGlvbnMsXG4gICAgICBpbml0aWFsaXplZCxcbiAgICAgIGxlYXJuTW9yZSxcbiAgICAgIHByZWYsXG4gICAgICBwcml2YWN5Tm90aWNlVVJMLFxuICAgICAgaXNGaXJzdCxcbiAgICAgIGlzTGFzdCxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHdhaXRpbmdGb3JTcG9jID1cbiAgICAgIGlkID09PSBcInRvcHN0b3JpZXNcIiAmJiB0aGlzLnByb3BzLlBvY2tldC53YWl0aW5nRm9yU3BvYztcbiAgICBjb25zdCBtYXhDYXJkc1BlclJvdyA9IGNvbXBhY3RDYXJkc1xuICAgICAgPyBDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERVxuICAgICAgOiBDQVJEU19QRVJfUk9XX0RFRkFVTFQ7XG4gICAgY29uc3QgeyBudW1Sb3dzIH0gPSB0aGlzO1xuICAgIGNvbnN0IG1heENhcmRzID0gbWF4Q2FyZHNQZXJSb3cgKiBudW1Sb3dzO1xuICAgIGNvbnN0IG1heENhcmRzT25OYXJyb3cgPSBDQVJEU19QRVJfUk9XX0RFRkFVTFQgKiBudW1Sb3dzO1xuICAgIGNvbnN0IHNob3VsZFNob3dSZWFkTW9yZSA9IHJlYWRfbW9yZV9lbmRwb2ludDtcblxuICAgIGNvbnN0IHJlYWxSb3dzID0gcm93cy5zbGljZSgwLCBtYXhDYXJkcyk7XG5cbiAgICAvLyBUaGUgZW1wdHkgc3RhdGUgc2hvdWxkIG9ubHkgYmUgc2hvd24gYWZ0ZXIgd2UgaGF2ZSBpbml0aWFsaXplZCBhbmQgdGhlcmUgaXMgbm8gY29udGVudC5cbiAgICAvLyBPdGhlcndpc2UsIHdlIHNob3VsZCBzaG93IHBsYWNlaG9sZGVycy5cbiAgICBjb25zdCBzaG91bGRTaG93RW1wdHlTdGF0ZSA9IGluaXRpYWxpemVkICYmICFyb3dzLmxlbmd0aDtcblxuICAgIGNvbnN0IGNhcmRzID0gW107XG4gICAgaWYgKCFzaG91bGRTaG93RW1wdHlTdGF0ZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhDYXJkczsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSByZWFsUm93c1tpXTtcbiAgICAgICAgLy8gT24gbmFycm93IHZpZXdwb3J0cywgd2Ugb25seSBzaG93IDMgY2FyZHMgcGVyIHJvdy4gV2UnbGwgbWFyayB0aGUgcmVzdCBhc1xuICAgICAgICAvLyAuaGlkZS1mb3ItbmFycm93IHRvIGhpZGUgaW4gQ1NTIHZpYSBAbWVkaWEgcXVlcnkuXG4gICAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGkgPj0gbWF4Q2FyZHNPbk5hcnJvdyA/IFwiaGlkZS1mb3ItbmFycm93XCIgOiBcIlwiO1xuICAgICAgICBsZXQgdXNlUGxhY2Vob2xkZXIgPSAhbGluaztcbiAgICAgICAgLy8gSWYgd2UgYXJlIGluIHRoZSB0aGlyZCBjYXJkIGFuZCB3YWl0aW5nIGZvciBzcG9jLFxuICAgICAgICAvLyB1c2UgdGhlIHBsYWNlaG9sZGVyLlxuICAgICAgICBpZiAoIXVzZVBsYWNlaG9sZGVyICYmIGkgPT09IDIgJiYgd2FpdGluZ0ZvclNwb2MpIHtcbiAgICAgICAgICB1c2VQbGFjZWhvbGRlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FyZHMucHVzaChcbiAgICAgICAgICAhdXNlUGxhY2Vob2xkZXIgPyAoXG4gICAgICAgICAgICA8Q2FyZFxuICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgIGluZGV4PXtpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICBsaW5rPXtsaW5rfVxuICAgICAgICAgICAgICBjb250ZXh0TWVudU9wdGlvbnM9e2NvbnRleHRNZW51T3B0aW9uc31cbiAgICAgICAgICAgICAgZXZlbnRTb3VyY2U9e2V2ZW50U291cmNlfVxuICAgICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXt0aGlzLnByb3BzLnNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHN9XG4gICAgICAgICAgICAgIGlzV2ViRXh0ZW5zaW9uPXt0aGlzLnByb3BzLmlzV2ViRXh0ZW5zaW9ufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPFBsYWNlaG9sZGVyQ2FyZCBrZXk9e2l9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSAvPlxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZWN0aW9uQ2xhc3NOYW1lID0gW1xuICAgICAgXCJzZWN0aW9uXCIsXG4gICAgICBjb21wYWN0Q2FyZHMgPyBcImNvbXBhY3QtY2FyZHNcIiA6IFwibm9ybWFsLWNhcmRzXCIsXG4gICAgXS5qb2luKFwiIFwiKTtcblxuICAgIC8vIDxTZWN0aW9uPiA8LS0gUmVhY3QgY29tcG9uZW50XG4gICAgLy8gPHNlY3Rpb24+IDwtLSBIVE1MNSBlbGVtZW50XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wb25lbnRQZXJmVGltZXIgey4uLnRoaXMucHJvcHN9PlxuICAgICAgICA8Q29sbGFwc2libGVTZWN0aW9uXG4gICAgICAgICAgY2xhc3NOYW1lPXtzZWN0aW9uQ2xhc3NOYW1lfVxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgZXZlbnRTb3VyY2U9e2V2ZW50U291cmNlfVxuICAgICAgICAgIGNvbGxhcHNlZD17dGhpcy5wcm9wcy5wcmVmLmNvbGxhcHNlZH1cbiAgICAgICAgICBzaG93UHJlZk5hbWU9eyhwcmVmICYmIHByZWYuZmVlZCkgfHwgaWR9XG4gICAgICAgICAgcHJpdmFjeU5vdGljZVVSTD17cHJpdmFjeU5vdGljZVVSTH1cbiAgICAgICAgICBQcmVmcz17dGhpcy5wcm9wcy5QcmVmc31cbiAgICAgICAgICBpc0ZpeGVkPXt0aGlzLnByb3BzLmlzRml4ZWR9XG4gICAgICAgICAgaXNGaXJzdD17aXNGaXJzdH1cbiAgICAgICAgICBpc0xhc3Q9e2lzTGFzdH1cbiAgICAgICAgICBsZWFybk1vcmU9e2xlYXJuTW9yZX1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBpc1dlYkV4dGVuc2lvbj17dGhpcy5wcm9wcy5pc1dlYkV4dGVuc2lvbn1cbiAgICAgICAgPlxuICAgICAgICAgIHshc2hvdWxkU2hvd0VtcHR5U3RhdGUgJiYgKFxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNlY3Rpb24tbGlzdFwiIHN0eWxlPXt7IHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgIHtjYXJkc31cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7c2hvdWxkU2hvd0VtcHR5U3RhdGUgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1wdHktc3RhdGVcIj5cbiAgICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e2VtcHR5U3RhdGUubWVzc2FnZX0+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZS1tZXNzYWdlXCIgLz5cbiAgICAgICAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtpZCA9PT0gXCJ0b3BzdG9yaWVzXCIgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc3Rvcmllcy1ib3R0b20tY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcHBlci1tb3JlLXJlY29tbWVuZGF0aW9uc1wiPlxuICAgICAgICAgICAgICAgIHtzaG91bGRTaG93UmVhZE1vcmUgJiYgKFxuICAgICAgICAgICAgICAgICAgPE1vcmVSZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgcmVhZF9tb3JlX2VuZHBvaW50PXtyZWFkX21vcmVfZW5kcG9pbnR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9Db2xsYXBzaWJsZVNlY3Rpb24+XG4gICAgICA8L0NvbXBvbmVudFBlcmZUaW1lcj5cbiAgICApO1xuICB9XG59XG5cblNlY3Rpb24uZGVmYXVsdFByb3BzID0ge1xuICBkb2N1bWVudDogZ2xvYmFsVGhpcy5kb2N1bWVudCxcbiAgcm93czogW10sXG4gIGVtcHR5U3RhdGU6IHt9LFxuICBwcmVmOiB7fSxcbiAgdGl0bGU6IFwiXCIsXG59O1xuXG5leHBvcnQgY29uc3QgU2VjdGlvbkludGwgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbiAgUG9ja2V0OiBzdGF0ZS5Qb2NrZXQsXG59KSkoU2VjdGlvbik7XG5cbmV4cG9ydCBjbGFzcyBfU2VjdGlvbnMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyU2VjdGlvbnMoKSB7XG4gICAgY29uc3Qgc2VjdGlvbnMgPSBbXTtcbiAgICBjb25zdCBlbmFibGVkU2VjdGlvbnMgPSB0aGlzLnByb3BzLlNlY3Rpb25zLmZpbHRlcihcbiAgICAgIHNlY3Rpb24gPT4gc2VjdGlvbi5lbmFibGVkXG4gICAgKTtcbiAgICBjb25zdCB7IHNlY3Rpb25PcmRlciwgXCJmZWVkcy50b3BzaXRlc1wiOiBzaG93VG9wU2l0ZXMgfSA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICAvLyBFbmFibGVkIHNlY3Rpb25zIGRvZXNuJ3QgaW5jbHVkZSBUb3AgU2l0ZXMsIHNvIHdlIGFkZCBpdCBpZiBlbmFibGVkLlxuICAgIGNvbnN0IGV4cGVjdGVkQ291bnQgPSBlbmFibGVkU2VjdGlvbnMubGVuZ3RoICsgfn5zaG93VG9wU2l0ZXM7XG5cbiAgICBmb3IgKGNvbnN0IHNlY3Rpb25JZCBvZiBzZWN0aW9uT3JkZXIuc3BsaXQoXCIsXCIpKSB7XG4gICAgICBjb25zdCBjb21tb25Qcm9wcyA9IHtcbiAgICAgICAga2V5OiBzZWN0aW9uSWQsXG4gICAgICAgIGlzRmlyc3Q6IHNlY3Rpb25zLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgaXNMYXN0OiBzZWN0aW9ucy5sZW5ndGggPT09IGV4cGVjdGVkQ291bnQgLSAxLFxuICAgICAgfTtcbiAgICAgIGlmIChzZWN0aW9uSWQgPT09IFwidG9wc2l0ZXNcIiAmJiBzaG93VG9wU2l0ZXMpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaCg8VG9wU2l0ZXMgey4uLmNvbW1vblByb3BzfSAvPik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gZW5hYmxlZFNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWN0aW9uSWQpO1xuICAgICAgICBpZiAoc2VjdGlvbikge1xuICAgICAgICAgIHNlY3Rpb25zLnB1c2goPFNlY3Rpb25JbnRsIHsuLi5zZWN0aW9ufSB7Li4uY29tbW9uUHJvcHN9IC8+KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2VjdGlvbnM7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbnMtbGlzdFwiPnt0aGlzLnJlbmRlclNlY3Rpb25zKCl9PC9kaXY+O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBTZWN0aW9ucyA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgU2VjdGlvbnM6IHN0YXRlLlNlY3Rpb25zLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX1NlY3Rpb25zKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlY3Rpb25JbnRsIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VjdGlvbnMvU2VjdGlvbnNcIjtcblxuZXhwb3J0IGNsYXNzIF9IaWdobGlnaHRzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5wcm9wcy5TZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gXCJoaWdobGlnaHRzXCIpO1xuICAgIGlmICghc2VjdGlvbiB8fCAhc2VjdGlvbi5lbmFibGVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1oaWdobGlnaHRzIHNlY3Rpb25zLWxpc3RcIj5cbiAgICAgICAgPFNlY3Rpb25JbnRsIHsuLi5zZWN0aW9ufSBpc0ZpeGVkPXt0cnVlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgSGlnaGxpZ2h0cyA9IGNvbm5lY3Qoc3RhdGUgPT4gKHsgU2VjdGlvbnM6IHN0YXRlLlNlY3Rpb25zIH0pKShcbiAgX0hpZ2hsaWdodHNcbik7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBIb3Jpem9udGFsUnVsZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxociBjbGFzc05hbWU9XCJkcy1oclwiIC8+O1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBUb3BpYyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgc291cmNlOiBcIlBPUFVMQVJfVE9QSUNTXCIsXG4gICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiAwLFxuICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICB0b3BpYzogZXZlbnQudGFyZ2V0LnRleHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKGAgYCwgYC1gKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB1cmwsIG5hbWU6IHRvcGljTmFtZSB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gKFxuICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgb25MaW5rQ2xpY2s9e3RoaXMub25MaW5rQ2xpY2t9XG4gICAgICAgIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWV9XG4gICAgICAgIHVybD17dXJsfVxuICAgICAgPlxuICAgICAgICB7dG9waWNOYW1lfVxuICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBsaW5rcyA9IHRoaXMucHJvcHMubGlua3MgfHwgW107XG4gICAgY29uc3QgYWxpZ25tZW50ID0gdGhpcy5wcm9wcy5hbGlnbm1lbnQgfHwgXCJjZW50ZXJlZFwiO1xuICAgIGNvbnN0IGhlYWRlciA9IHRoaXMucHJvcHMuaGVhZGVyIHx8IHt9O1xuICAgIGNvbnN0IGVuZ2xpc2ggPSB0aGlzLnByb3BzLmxvY2FsZS5zdGFydHNXaXRoKFwiZW4tXCIpO1xuICAgIGNvbnN0IHByaXZhY3lOb3RpY2UgPSB0aGlzLnByb3BzLnByaXZhY3lOb3RpY2VVUkwgfHwge307XG4gICAgY29uc3QgeyBuZXdGb290ZXJTZWN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGBkcy1uYXZpZ2F0aW9uIGRzLW5hdmlnYXRpb24tJHthbGlnbm1lbnR9ICR7XG4gICAgICBuZXdGb290ZXJTZWN0aW9uID8gYGRzLW5hdmlnYXRpb24tbmV3LXRvcGljc2AgOiBgYFxuICAgIH1gO1xuICAgIGxldCB7IHRpdGxlIH0gPSBoZWFkZXI7XG4gICAgaWYgKG5ld0Zvb3RlclNlY3Rpb24pIHtcbiAgICAgIHRpdGxlID0geyBpZDogXCJuZXd0YWItcG9ja2V0LW5ldy10b3BpY3MtdGl0bGVcIiB9O1xuICAgICAgaWYgKHRoaXMucHJvcHMuZXh0cmFMaW5rcykge1xuICAgICAgICBsaW5rcyA9IFtcbiAgICAgICAgICAuLi5saW5rcy5zbGljZSgwLCBsaW5rcy5sZW5ndGggLSAxKSxcbiAgICAgICAgICAuLi50aGlzLnByb3BzLmV4dHJhTGlua3MsXG4gICAgICAgICAgbGlua3NbbGlua3MubGVuZ3RoIC0gMV0sXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICB7dGl0bGUgJiYgZW5nbGlzaCA/IChcbiAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RpdGxlfT5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRzLW5hdmlnYXRpb24taGVhZGVyXCIgLz5cbiAgICAgICAgICA8L0ZsdWVudE9yVGV4dD5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge2VuZ2xpc2ggPyAoXG4gICAgICAgICAgPHVsPlxuICAgICAgICAgICAge2xpbmtzICYmXG4gICAgICAgICAgICAgIGxpbmtzLm1hcCh0ID0+IChcbiAgICAgICAgICAgICAgICA8bGkga2V5PXt0Lm5hbWV9PlxuICAgICAgICAgICAgICAgICAgPFRvcGljXG4gICAgICAgICAgICAgICAgICAgIHVybD17dC51cmx9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9e3QubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHshbmV3Rm9vdGVyU2VjdGlvbiA/IChcbiAgICAgICAgICA8U2FmZUFuY2hvciBjbGFzc05hbWU9XCJkcy1uYXZpZ2F0aW9uLXByaXZhY3lcIiB1cmw9e3ByaXZhY3lOb3RpY2UudXJsfT5cbiAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17cHJpdmFjeU5vdGljZS50aXRsZX0gLz5cbiAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHtuZXdGb290ZXJTZWN0aW9uID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtbmF2aWdhdGlvbi1mYW1pbHlcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gZmlyZWZveC1sb2dvXCIgLz5cbiAgICAgICAgICAgIDxzcGFuPnw8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIHBvY2tldC1sb2dvXCIgLz5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLW5hdmlnYXRpb24tZmFtaWx5LW1lc3NhZ2VcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LXBvY2tldC1maXJlZm94LWZhbWlseVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0XCI7XG5cbmV4cG9ydCBjbGFzcyBQcml2YWN5TGluayBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wZXJ0aWVzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXByaXZhY3ktbGlua1wiPlxuICAgICAgICA8U2FmZUFuY2hvciB1cmw9e3Byb3BlcnRpZXMudXJsfT5cbiAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3Byb3BlcnRpZXMudGl0bGV9IC8+XG4gICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNlY3Rpb25UaXRsZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaGVhZGVyOiB7IHRpdGxlLCBzdWJ0aXRsZSB9LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPnt0aXRsZX08L2Rpdj5cbiAgICAgICAge3N1YnRpdGxlID8gPGRpdiBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiPntzdWJ0aXRsZX08L2Rpdj4gOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNvbnN0IHNlbGVjdExheW91dFJlbmRlciA9ICh7IHN0YXRlID0ge30sIHByZWZzID0ge30gfSkgPT4ge1xuICBjb25zdCB7IGxheW91dCwgZmVlZHMsIHNwb2NzIH0gPSBzdGF0ZTtcbiAgbGV0IHNwb2NJbmRleFBsYWNlbWVudE1hcCA9IHt9O1xuXG4gIC8qIFRoaXMgZnVuY3Rpb24gZmlsbHMgc3BvYyBwb3NpdGlvbnMgb24gYSBwZXIgcGxhY2VtZW50IGJhc2lzIHdpdGggYXZhaWxhYmxlIHNwb2NzLlxuICAgKiBJdCBkb2VzIHRoaXMgYnkgbG9vcGluZyB0aHJvdWdoIGVhY2ggcG9zaXRpb24gZm9yIGEgcGxhY2VtZW50IGFuZCByZXBsYWNpbmcgYSByZWMgd2l0aCBhIHNwb2MuXG4gICAqIElmIGl0IHJ1bnMgb3V0IG9mIHNwb2NzIG9yIHBvc2l0aW9ucywgaXQgc3RvcHMuXG4gICAqIElmIGl0IHNlZXMgdGhlIHNhbWUgcGxhY2VtZW50IGFnYWluLCBpdCByZW1lbWJlcnMgdGhlIHByZXZpb3VzIHNwb2MgaW5kZXgsIGFuZCBjb250aW51ZXMuXG4gICAqIElmIGl0IHNlZXMgYSBibG9ja2VkIHNwb2MsIGl0IHNraXBzIHRoYXQgcG9zaXRpb24gbGVhdmluZyBpbiBhIHJlZ3VsYXIgc3RvcnkuXG4gICAqL1xuICBmdW5jdGlvbiBmaWxsU3BvY1Bvc2l0aW9uc0ZvclBsYWNlbWVudChcbiAgICBkYXRhLFxuICAgIHNwb2NzUG9zaXRpb25zLFxuICAgIHNwb2NzRGF0YSxcbiAgICBwbGFjZW1lbnROYW1lXG4gICkge1xuICAgIGlmIChcbiAgICAgICFzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV0gJiZcbiAgICAgIHNwb2NJbmRleFBsYWNlbWVudE1hcFtwbGFjZW1lbnROYW1lXSAhPT0gMFxuICAgICkge1xuICAgICAgc3BvY0luZGV4UGxhY2VtZW50TWFwW3BsYWNlbWVudE5hbWVdID0gMDtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IFsuLi5kYXRhXTtcbiAgICBmb3IgKGxldCBwb3NpdGlvbiBvZiBzcG9jc1Bvc2l0aW9ucykge1xuICAgICAgY29uc3Qgc3BvYyA9IHNwb2NzRGF0YVtzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV1dO1xuICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIHNwb2NzIGxlZnQsIHdlIGNhbiBzdG9wIGZpbGxpbmcgcG9zaXRpb25zLlxuICAgICAgaWYgKCFzcG9jKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBBIHBsYWNlbWVudCBjb3VsZCBiZSB1c2VkIGluIHR3byBzZWN0aW9ucy5cbiAgICAgIC8vIEluIHRoZXNlIGNhc2VzLCB3ZSB3YW50IHRvIG1haW50YWluIHRoZSBpbmRleCBvZiB0aGUgcHJldmlvdXMgc2VjdGlvbi5cbiAgICAgIC8vIElmIHdlIGRpZG4ndCBkbyB0aGlzLCBpdCBtaWdodCBkdXBsaWNhdGUgc3BvY3MuXG4gICAgICBzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV0rKztcblxuICAgICAgLy8gQSBzcG9jIHRoYXQncyBibG9ja2VkIGlzIHJlbW92ZWQgZnJvbSB0aGUgc291cmNlIGZvciBzdWJzZXF1ZW50IG5ld3RhYiBsb2Fkcy5cbiAgICAgIC8vIElmIHdlIGhhdmUgYSBzcG9jIGluIHRoZSBzb3VyY2UgdGhhdCdzIGJsb2NrZWQsIGl0IG1lYW5zIGl0IHdhcyAqanVzdCogYmxvY2tlZCxcbiAgICAgIC8vIGFuZCBpbiB0aGlzIGNhc2UsIHdlIHNraXAgdGhpcyBwb3NpdGlvbiwgYW5kIHNob3cgYSByZWd1bGFyIHNwb2MgaW5zdGVhZC5cbiAgICAgIGlmICghc3BvY3MuYmxvY2tlZC5pbmNsdWRlcyhzcG9jLnVybCkpIHtcbiAgICAgICAgcmVzdWx0cy5zcGxpY2UocG9zaXRpb24uaW5kZXgsIDAsIHNwb2MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgY29uc3QgcG9zaXRpb25zID0ge307XG4gIGNvbnN0IERTX0NPTVBPTkVOVFMgPSBbXG4gICAgXCJNZXNzYWdlXCIsXG4gICAgXCJUZXh0UHJvbW9cIixcbiAgICBcIlNlY3Rpb25UaXRsZVwiLFxuICAgIFwiU2lnbnVwXCIsXG4gICAgXCJOYXZpZ2F0aW9uXCIsXG4gICAgXCJXaWRnZXRzXCIsXG4gICAgXCJDYXJkR3JpZFwiLFxuICAgIFwiSG9yaXpvbnRhbFJ1bGVcIixcbiAgICBcIlByaXZhY3lMaW5rXCIsXG4gIF07XG5cbiAgY29uc3QgZmlsdGVyQXJyYXkgPSBbXTtcblxuICAvLyBGaWx0ZXIgc2VjdGlvbnMgaXMgVG9wc2l0ZXMgYXJlIHR1cm5lZCBvZmZcbiAgaWYgKCFwcmVmc1tcImZlZWRzLnRvcHNpdGVzXCJdKSB7XG4gICAgZmlsdGVyQXJyYXkucHVzaChcIlRvcFNpdGVzXCIpO1xuICB9XG5cbiAgLy8gRmlsdGVyIHNlY3Rpb25zIGlzIFdpZGdldHMgYXJlIHR1cm5lZCBvZmZcbiAgLy8gTm90ZSBleHRyYSBsb2dpYyBpcyByZXF1aXJlZCBiYyB0aGlzIGZlYXR1cmUgY2FuIGJlIGVuYWJsZWQgdmlhIE5pbWJ1c1xuICBjb25zdCBuaW1idXNXaWRnZXRzRW5hYmxlZCA9IHByZWZzLndpZGdldHNDb25maWc/LmVuYWJsZWQ7XG4gIGNvbnN0IHdpZGdldHNFbmFibGVkID0gcHJlZnNbXCJ3aWRnZXRzLnN5c3RlbS5lbmFibGVkXCJdO1xuICBpZiAoIW5pbWJ1c1dpZGdldHNFbmFibGVkICYmICF3aWRnZXRzRW5hYmxlZCkge1xuICAgIGZpbHRlckFycmF5LnB1c2goXCJXaWRnZXRzXCIpO1xuICB9XG5cbiAgLy8gRmlsdGVyIHNlY3Rpb25zIGlzIFJlY29tbWVuZGVkIFN0b3JpZXMgYXJlIHR1cm5lZCBvZmZcbiAgY29uc3QgcG9ja2V0RW5hYmxlZCA9XG4gICAgcHJlZnNbXCJmZWVkcy5zZWN0aW9uLnRvcHN0b3JpZXNcIl0gJiYgcHJlZnNbXCJmZWVkcy5zeXN0ZW0udG9wc3Rvcmllc1wiXTtcbiAgaWYgKCFwb2NrZXRFbmFibGVkKSB7XG4gICAgZmlsdGVyQXJyYXkucHVzaChcbiAgICAgIC8vIEJ1ZyAxOTgwNDU5IC0gRG8gbm90IHJlbW92ZSBXaWRnZXRzIGlmIERTIGlzIGRpc2FibGVkXG4gICAgICAuLi5EU19DT01QT05FTlRTLmZpbHRlcihjb21wb25lbnQgPT4gY29tcG9uZW50ICE9PSBcIldpZGdldHNcIilcbiAgICApO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGFtb3VudCBvZiB0aWxlcyBzaG93biBwZXIgc2VjdGlvbiBwZXIgdmlld3BvcnRcbiAgZnVuY3Rpb24gZ2V0TWF4VGlsZXMocmVzcG9uc2l2ZUxheW91dHMpIHtcbiAgICByZXR1cm4gcmVzcG9uc2l2ZUxheW91dHNcbiAgICAgIC5mbGF0TWFwKHJlc3BvbnNpdmVMYXlvdXQgPT4gcmVzcG9uc2l2ZUxheW91dClcbiAgICAgIC5yZWR1Y2UoKGFjYywgdCkgPT4ge1xuICAgICAgICBhY2NbdC5jb2x1bW5Db3VudF0gPSB0LnRpbGVzLmxlbmd0aDtcblxuICAgICAgICAvLyBVcGRhdGUgbWF4VGlsZSBpZiBjdXJyZW50IHRpbGUgY291bnQgaXMgZ3JlYXRlclxuICAgICAgICBpZiAoIWFjYy5tYXhUaWxlIHx8IHQudGlsZXMubGVuZ3RoID4gYWNjLm1heFRpbGUpIHtcbiAgICAgICAgICBhY2MubWF4VGlsZSA9IHQudGlsZXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCB7fSk7XG4gIH1cblxuICBjb25zdCBwbGFjZWhvbGRlckNvbXBvbmVudCA9IGNvbXBvbmVudCA9PiB7XG4gICAgaWYgKCFjb21wb25lbnQuZmVlZCkge1xuICAgICAgLy8gVE9ETyB3ZSBub3cgbmVlZCBhIHBsYWNlaG9sZGVyIGZvciB0b3BzaXRlcyBhbmQgdGV4dFByb21vLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc3BvY3M6IFtdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICBzZWN0aW9uczogW1xuICAgICAgICB7XG4gICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICByZXNwb25zaXZlTGF5b3V0czogW10sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcblxuICAgIGxldCBpdGVtcyA9IDA7XG4gICAgaWYgKGNvbXBvbmVudC5wcm9wZXJ0aWVzICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zKSB7XG4gICAgICBpdGVtcyA9IGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zOyBpKyspIHtcbiAgICAgIGRhdGEucmVjb21tZW5kYXRpb25zLnB1c2goeyBwbGFjZWhvbGRlcjogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWN0aW9uc0VuYWJsZWQgPSBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5lbmFibGVkXCJdO1xuICAgIGlmIChzZWN0aW9uc0VuYWJsZWQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXM7IGkrKykge1xuICAgICAgICBkYXRhLnNlY3Rpb25zWzBdLmRhdGEucHVzaCh7IHBsYWNlaG9sZGVyOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IC4uLmNvbXBvbmVudCwgZGF0YSB9O1xuICB9O1xuXG4gIC8vIFRPRE8gdXBkYXRlIGRldnRvb2xzIHRvIHNob3cgcGxhY2VtZW50c1xuICBjb25zdCBoYW5kbGVTcG9jcyA9IChkYXRhID0gW10sIHNwb2NzUG9zaXRpb25zLCBzcG9jc1BsYWNlbWVudCkgPT4ge1xuICAgIGxldCByZXN1bHQgPSBbLi4uZGF0YV07XG4gICAgLy8gRG8gd2UgZXZlciBleHBlY3QgdG8gcG9zc2libHkgaGF2ZSBhIHNwb2MuXG4gICAgaWYgKHNwb2NzUG9zaXRpb25zPy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHBsYWNlbWVudCA9IHNwb2NzUGxhY2VtZW50IHx8IHt9O1xuICAgICAgY29uc3QgcGxhY2VtZW50TmFtZSA9IHBsYWNlbWVudC5uYW1lIHx8IFwibmV3dGFiX3Nwb2NzXCI7XG4gICAgICBjb25zdCBzcG9jc0RhdGEgPSBzcG9jcy5kYXRhW3BsYWNlbWVudE5hbWVdO1xuXG4gICAgICAvLyBXZSBleHBlY3QgYSBzcG9jLCBzcG9jcyBhcmUgbG9hZGVkLCBhbmQgdGhlIHNlcnZlciByZXR1cm5lZCBzcG9jcy5cbiAgICAgIGlmIChzcG9jcy5sb2FkZWQgJiYgc3BvY3NEYXRhPy5pdGVtcz8ubGVuZ3RoKSB7XG4gICAgICAgIC8vIFNpbmNlIGJhbm5lci10eXBlIGFkcyBhcmUgcGxhY2VkIGJ5IHJvdyBhbmQgZG9uJ3QgdXNlIHRoZSBub3JtYWwgc3BvYyBwb3NpdGlvbixcbiAgICAgICAgLy8gZG9udCBjb21iaW5lIHdpdGggY29udGVudFxuICAgICAgICBjb25zdCBleGNsdWRlZFNwb2NzID0gW1wiYmlsbGJvYXJkXCIsIFwibGVhZGVyYm9hcmRcIl07XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkU3BvY3MgPSBzcG9jc0RhdGE/Lml0ZW1zPy5maWx0ZXIoXG4gICAgICAgICAgaXRlbSA9PiAhZXhjbHVkZWRTcG9jcy5pbmNsdWRlcyhpdGVtLmZvcm1hdClcbiAgICAgICAgKTtcbiAgICAgICAgcmVzdWx0ID0gZmlsbFNwb2NQb3NpdGlvbnNGb3JQbGFjZW1lbnQoXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHNwb2NzUG9zaXRpb25zLFxuICAgICAgICAgIGZpbHRlcmVkU3BvY3MsXG4gICAgICAgICAgcGxhY2VtZW50TmFtZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlY3Rpb25zID0gKHNlY3Rpb25zID0gW10sIHJlY29tbWVuZGF0aW9ucyA9IFtdKSA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IHNlY3Rpb25zLnNvcnQoKGEsIGIpID0+IGEucmVjZWl2ZWRSYW5rIC0gYi5yZWNlaXZlZFJhbmspO1xuXG4gICAgY29uc3Qgc2VjdGlvbnNNYXAgPSByZWNvbW1lbmRhdGlvbnMucmVkdWNlKChhY2MsIHJlY29tbWVuZGF0aW9uKSA9PiB7XG4gICAgICBjb25zdCB7IHNlY3Rpb24gfSA9IHJlY29tbWVuZGF0aW9uO1xuICAgICAgYWNjW3NlY3Rpb25dID0gYWNjW3NlY3Rpb25dIHx8IFtdO1xuICAgICAgYWNjW3NlY3Rpb25dLnB1c2gocmVjb21tZW5kYXRpb24pO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG5cbiAgICByZXN1bHQuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgIGNvbnN0IHsgc2VjdGlvbktleSB9ID0gc2VjdGlvbjtcbiAgICAgIHNlY3Rpb24uZGF0YSA9IHNlY3Rpb25zTWFwW3NlY3Rpb25LZXldO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb21wb25lbnQgPSBjb21wb25lbnQgPT4ge1xuICAgIGlmIChjb21wb25lbnQ/LnNwb2NzPy5wb3NpdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgY29uc3QgcGxhY2VtZW50ID0gY29tcG9uZW50LnBsYWNlbWVudCB8fCB7fTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudE5hbWUgPSBwbGFjZW1lbnQubmFtZSB8fCBcIm5ld3RhYl9zcG9jc1wiO1xuICAgICAgY29uc3Qgc3BvY3NEYXRhID0gc3BvY3MuZGF0YVtwbGFjZW1lbnROYW1lXTtcbiAgICAgIGlmIChzcG9jcy5sb2FkZWQgJiYgc3BvY3NEYXRhPy5pdGVtcz8ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNwb2NzOiBzcG9jc0RhdGEuaXRlbXNcbiAgICAgICAgICAgICAgLmZpbHRlcihzcG9jID0+IHNwb2MgJiYgIXNwb2NzLmJsb2NrZWQuaW5jbHVkZXMoc3BvYy51cmwpKVxuICAgICAgICAgICAgICAubWFwKChzcG9jLCBpbmRleCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5zcG9jLFxuICAgICAgICAgICAgICAgIHBvczogaW5kZXgsXG4gICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uY29tcG9uZW50LFxuICAgICAgZGF0YToge1xuICAgICAgICBzcG9jczogW10sXG4gICAgICB9LFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29tcG9uZW50V2l0aEZlZWQgPSBjb21wb25lbnQgPT4ge1xuICAgIHBvc2l0aW9uc1tjb21wb25lbnQudHlwZV0gPSBwb3NpdGlvbnNbY29tcG9uZW50LnR5cGVdIHx8IDA7XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtdLFxuICAgICAgc2VjdGlvbnM6IFtdLFxuICAgIH07XG5cbiAgICBjb25zdCBmZWVkID0gZmVlZHMuZGF0YVtjb21wb25lbnQuZmVlZC51cmxdO1xuICAgIGlmIChmZWVkPy5kYXRhKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5mZWVkLmRhdGEsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogWy4uLihmZWVkLmRhdGEucmVjb21tZW5kYXRpb25zIHx8IFtdKV0sXG4gICAgICAgIHNlY3Rpb25zOiBbLi4uKGZlZWQuZGF0YS5zZWN0aW9ucyB8fCBbXSldLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzLm9mZnNldCkge1xuICAgICAgZGF0YSA9IHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBkYXRhLnJlY29tbWVuZGF0aW9ucy5zbGljZShcbiAgICAgICAgICBjb21wb25lbnQucHJvcGVydGllcy5vZmZzZXRcbiAgICAgICAgKSxcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNwb2NzUG9zaXRpb25zID0gY29tcG9uZW50Py5zcG9jcz8ucG9zaXRpb25zO1xuICAgIGNvbnN0IHNwb2NzUGxhY2VtZW50ID0gY29tcG9uZW50Py5wbGFjZW1lbnQ7XG5cbiAgICBjb25zdCBzZWN0aW9uc0VuYWJsZWQgPSBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5lbmFibGVkXCJdO1xuICAgIGRhdGEgPSB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgLi4uKHNlY3Rpb25zRW5hYmxlZFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHNlY3Rpb25zOiBoYW5kbGVTZWN0aW9ucyhkYXRhLnNlY3Rpb25zLCBkYXRhLnJlY29tbWVuZGF0aW9ucykubWFwKFxuICAgICAgICAgICAgICBzZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uc1Nwb2NzUG9zaXRpb25zID0gW107XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5sYXlvdXQucmVzcG9uc2l2ZUxheW91dHNcbiAgICAgICAgICAgICAgICAgIC8vIEluaXRpYWwgcG9zaXRpb24gZm9yIHNwb2NzIGlzIGdvaW5nIHRvIGJlIGZvciB0aGUgc21hbGxlc3QgYnJlYWtwb2ludC5cbiAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbiB0aGVuIG1vdmUgaXQgZnJvbSB0aGVyZSB2aWEgYnJlYWtwb2ludHMuXG4gICAgICAgICAgICAgICAgICAuZmluZChpdGVtID0+IGl0ZW0uY29sdW1uQ291bnQgPT09IDEpXG4gICAgICAgICAgICAgICAgICAudGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbGUuaGFzQWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uc1Nwb2NzUG9zaXRpb25zLnB1c2goeyBpbmRleDogdGlsZS5wb3NpdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIC4uLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICBkYXRhOiBoYW5kbGVTcG9jcyhcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uc1Nwb2NzUG9zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICBzcG9jc1BsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgZmlsbCBzcG9jcyBpbiByZWNzIGlmIHNlY3Rpb25zIGFyZSBlbmFibGVkLFxuICAgICAgICAgICAgLy8gYmVjYXVzZSByZWNzIGFyZSBub3QgZ29pbmcgdG8gYmUgc2Vlbi5cbiAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogZGF0YS5yZWNvbW1lbmRhdGlvbnMsXG4gICAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogaGFuZGxlU3BvY3MoXG4gICAgICAgICAgICAgIGRhdGEucmVjb21tZW5kYXRpb25zLFxuICAgICAgICAgICAgICBzcG9jc1Bvc2l0aW9ucyxcbiAgICAgICAgICAgICAgc3BvY3NQbGFjZW1lbnRcbiAgICAgICAgICAgICksXG4gICAgICAgICAgfSksXG4gICAgfTtcblxuICAgIGxldCBpdGVtcyA9IDA7XG4gICAgaWYgKGNvbXBvbmVudC5wcm9wZXJ0aWVzICYmIGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zKSB7XG4gICAgICBpdGVtcyA9IE1hdGgubWluKGNvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zLCBkYXRhLnJlY29tbWVuZGF0aW9ucy5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8vIGxvb3AgdGhyb3VnaCBhIGNvbXBvbmVudCBpdGVtc1xuICAgIC8vIFN0b3JlIHRoZSBpdGVtcyBwb3NpdGlvbiBzZXF1ZW50aWFsbHkgZm9yIG11bHRpcGxlIGNvbXBvbmVudHMgb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAvLyBFeGFtcGxlOiBBIHNlY29uZCBjYXJkIGdyaWQgc3RhcnRzIHBvcyBvZmZzZXQgZnJvbSB0aGUgbGFzdCBjYXJkIGdyaWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtczsgaSsrKSB7XG4gICAgICBkYXRhLnJlY29tbWVuZGF0aW9uc1tpXSA9IHtcbiAgICAgICAgLi4uZGF0YS5yZWNvbW1lbmRhdGlvbnNbaV0sXG4gICAgICAgIHBvczogcG9zaXRpb25zW2NvbXBvbmVudC50eXBlXSsrLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBhYnNvbHV0ZSBwb3NpdGlvbnMgZm9yIHNlY3Rpb25zIGxheW91dC5cbiAgICBpZiAoc2VjdGlvbnNFbmFibGVkKSB7XG4gICAgICBsZXQgY3VycmVudFBvc2l0aW9uID0gMDtcbiAgICAgIGRhdGEuc2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgICAgLy8gV2UgYXNzdW1lIHRoZSBjb3VudCBmb3IgdGhlIGJyZWFrcG9pbnQgd2l0aCB0aGUgbW9zdCB0aWxlcy5cbiAgICAgICAgY29uc3QgeyBtYXhUaWxlIH0gPSBnZXRNYXhUaWxlcyhzZWN0aW9uPy5sYXlvdXQ/LnJlc3BvbnNpdmVMYXlvdXRzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUaWxlOyBpKyspIHtcbiAgICAgICAgICBpZiAoc2VjdGlvbi5kYXRhW2ldKSB7XG4gICAgICAgICAgICBzZWN0aW9uLmRhdGFbaV0gPSB7XG4gICAgICAgICAgICAgIC4uLnNlY3Rpb24uZGF0YVtpXSxcbiAgICAgICAgICAgICAgcG9zOiBjdXJyZW50UG9zaXRpb24rKyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4geyAuLi5jb21wb25lbnQsIGRhdGEgfTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJMYXlvdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgcmVuZGVyZWRMYXlvdXRBcnJheSA9IFtdO1xuICAgIGZvciAoY29uc3Qgcm93IG9mIGxheW91dC5maWx0ZXIoXG4gICAgICByID0+IHIuY29tcG9uZW50cy5maWx0ZXIoYyA9PiAhZmlsdGVyQXJyYXkuaW5jbHVkZXMoYy50eXBlKSkubGVuZ3RoXG4gICAgKSkge1xuICAgICAgbGV0IGNvbXBvbmVudHMgPSBbXTtcbiAgICAgIHJlbmRlcmVkTGF5b3V0QXJyYXkucHVzaCh7XG4gICAgICAgIC4uLnJvdyxcbiAgICAgICAgY29tcG9uZW50cyxcbiAgICAgIH0pO1xuICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2Ygcm93LmNvbXBvbmVudHMuZmlsdGVyKFxuICAgICAgICBjID0+ICFmaWx0ZXJBcnJheS5pbmNsdWRlcyhjLnR5cGUpXG4gICAgICApKSB7XG4gICAgICAgIGNvbnN0IHNwb2NzQ29uZmlnID0gY29tcG9uZW50LnNwb2NzO1xuICAgICAgICBpZiAoc3BvY3NDb25maWcgfHwgY29tcG9uZW50LmZlZWQpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoY29tcG9uZW50LmZlZWQgJiYgIWZlZWRzLmRhdGFbY29tcG9uZW50LmZlZWQudXJsXSkgfHxcbiAgICAgICAgICAgIChzcG9jc0NvbmZpZyAmJlxuICAgICAgICAgICAgICBzcG9jc0NvbmZpZy5wb3NpdGlvbnMgJiZcbiAgICAgICAgICAgICAgc3BvY3NDb25maWcucG9zaXRpb25zLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAhc3BvY3MubG9hZGVkKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHBsYWNlaG9sZGVyQ29tcG9uZW50KGNvbXBvbmVudCkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50LmZlZWQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChoYW5kbGVDb21wb25lbnRXaXRoRmVlZChjb21wb25lbnQpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGhhbmRsZUNvbXBvbmVudChjb21wb25lbnQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlcmVkTGF5b3V0QXJyYXk7XG4gIH07XG5cbiAgY29uc3QgbGF5b3V0UmVuZGVyID0gcmVuZGVyTGF5b3V0KCk7XG5cbiAgcmV0dXJuIHsgbGF5b3V0UmVuZGVyIH07XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHBzOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiLi4vLi4vTGlua01lbnUvTGlua01lbnVcIjtcblxuLyoqXG4gKiBBIGNvbnRleHQgbWVudSBmb3IgYmxvY2tpbmcsIGZvbGxvd2luZyBhbmQgdW5mb2xsb3dpbmcgc2VjdGlvbnMuXG4gKlxuICogQHBhcmFtIHByb3BzXG4gKiBAcmV0dXJucyB7UmVhY3QuRnVuY3Rpb25Db21wb25lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTZWN0aW9uQ29udGV4dE1lbnUoe1xuICB0eXBlID0gXCJESVNDT1ZFUllfU1RSRUFNXCIsXG4gIHRpdGxlLFxuICBzb3VyY2UsXG4gIGluZGV4LFxuICBkaXNwYXRjaCxcbiAgc2VjdGlvbktleSxcbiAgZm9sbG93aW5nLFxuICBzZWN0aW9uUGVyc29uYWxpemF0aW9uLFxuICBzZWN0aW9uUG9zaXRpb24sXG59KSB7XG4gIC8vIEluaXRpYWwgY29udGV4dCBtZW51IG9wdGlvbnM6IGJsb2NrIHRoaXMgc2VjdGlvbiBvbmx5LlxuICBjb25zdCBTRUNUSU9OU19DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcIlNlY3Rpb25CbG9ja1wiXTtcbiAgY29uc3QgW3Nob3dDb250ZXh0TWVudSwgc2V0U2hvd0NvbnRleHRNZW51XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBpZiAoZm9sbG93aW5nKSB7XG4gICAgU0VDVElPTlNfQ09OVEVYVF9NRU5VX09QVElPTlMucHVzaChcIlNlY3Rpb25VbmZvbGxvd1wiKTtcbiAgfVxuXG4gIGNvbnN0IG9uQ2xpY2sgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KCFzaG93Q29udGV4dE1lbnUpO1xuICB9O1xuXG4gIGNvbnN0IG9uVXBkYXRlID0gKCkgPT4ge1xuICAgIHNldFNob3dDb250ZXh0TWVudSghc2hvd0NvbnRleHRNZW51KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1jb250ZXh0LW1lbnVcIj5cbiAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgIHR5cGU9XCJpY29uXCJcbiAgICAgICAgc2l6ZT1cImRlZmF1bHRcIlxuICAgICAgICBpY29uc3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvbW9yZS5zdmdcIlxuICAgICAgICB0aXRsZT17dGl0bGUgfHwgc291cmNlfVxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgLz5cbiAgICAgIHtzaG93Q29udGV4dE1lbnUgJiYgKFxuICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICBvblVwZGF0ZT17b25VcGRhdGV9XG4gICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICBzb3VyY2U9e3R5cGUudG9VcHBlckNhc2UoKX1cbiAgICAgICAgICBvcHRpb25zPXtTRUNUSU9OU19DT05URVhUX01FTlVfT1BUSU9OU31cbiAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXt0cnVlfVxuICAgICAgICAgIHNpdGU9e3tcbiAgICAgICAgICAgIHNlY3Rpb25QZXJzb25hbGl6YXRpb24sXG4gICAgICAgICAgICBzZWN0aW9uS2V5LFxuICAgICAgICAgICAgc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCI7XG5jb25zdCBQUkVGX1ZJU0lCTEVfU0VDVElPTlMgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5pbnRlcmVzdFBpY2tlci52aXNpYmxlU2VjdGlvbnNcIjtcblxuLyoqXG4gKiBTaG93cyBhIGxpc3Qgb2YgcmVjb21tZW5kZWQgdG9waWNzIHdpdGggdmlzdWFsIGluZGljYXRpb24gd2hldGhlclxuICogdGhlIHVzZXIgZm9sbG93cyBzb21lIG9mIHRoZSB0b3BpY3MgKGFjdGl2ZSwgYmx1ZSwgc2VsZWN0ZWQgdG9waWNzKVxuICogb3IgaXMgeWV0IHRvIGRvIHNvIChuZXV0cmFsbHktY29sb3VyZWQgdG9waWNzIHdpdGggYSBcInBsdXNcIiBidXR0b24pLlxuICpcbiAqIEByZXR1cm5zIHtSZWFjdC5FbGVtZW50fVxuICovXG5mdW5jdGlvbiBJbnRlcmVzdFBpY2tlcih7IHRpdGxlLCBzdWJ0aXRsZSwgaW50ZXJlc3RzLCByZWNlaXZlZEZlZWRSYW5rIH0pIHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBmb2N1c2VkUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBmb2N1c1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2ZvY3VzZWRJbmRleCwgc2V0Rm9jdXNlZEluZGV4XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBwcmVmcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlByZWZzLnZhbHVlcyk7XG4gIGNvbnN0IHsgc2VjdGlvblBlcnNvbmFsaXphdGlvbiB9ID0gdXNlU2VsZWN0b3IoXG4gICAgc3RhdGUgPT4gc3RhdGUuRGlzY292ZXJ5U3RyZWFtXG4gICk7XG4gIGNvbnN0IHZpc2libGVTZWN0aW9ucyA9IHByZWZzW1BSRUZfVklTSUJMRV9TRUNUSU9OU10/LnNwbGl0KFwiLFwiKVxuICAgIC5tYXAoaXRlbSA9PiBpdGVtLnRyaW0oKSlcbiAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbSk7XG5cbiAgY29uc3QgaGFuZGxlSW50ZXJzZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LklOTElORV9TRUxFQ1RJT05fSU1QUkVTU0lPTixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHJlY2VpdmVkRmVlZFJhbmssXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaCwgcmVjZWl2ZWRGZWVkUmFua10pO1xuXG4gIGNvbnN0IHJlZiA9IHVzZUludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZUludGVyc2VjdGlvbik7XG5cbiAgY29uc3Qgb25LZXlEb3duID0gdXNlQ2FsbGJhY2soZSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkFycm93RG93blwiIHx8IGUua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgLy8gcHJldmVudCB0aGUgcGFnZSBmcm9tIHNjcm9sbGluZyB1cC9kb3duIHdoaWxlIG5hdmlnYXRpbmcuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZm9jdXNlZFJlZi5jdXJyZW50Py5uZXh0U2libGluZz8ucXVlcnlTZWxlY3RvcihcImlucHV0XCIpICYmXG4gICAgICBlLmtleSA9PT0gXCJBcnJvd0Rvd25cIlxuICAgICkge1xuICAgICAgZm9jdXNlZFJlZi5jdXJyZW50Lm5leHRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS50YWJJbmRleCA9IDA7XG4gICAgICBmb2N1c2VkUmVmLmN1cnJlbnQubmV4dFNpYmxpbmcucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLmZvY3VzKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGZvY3VzZWRSZWYuY3VycmVudD8ucHJldmlvdXNTaWJsaW5nPy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikgJiZcbiAgICAgIGUua2V5ID09PSBcIkFycm93VXBcIlxuICAgICkge1xuICAgICAgZm9jdXNlZFJlZi5jdXJyZW50LnByZXZpb3VzU2libGluZy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikudGFiSW5kZXggPSAwO1xuICAgICAgZm9jdXNlZFJlZi5jdXJyZW50LnByZXZpb3VzU2libGluZy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBmdW5jdGlvbiBvbldyYXBwZXJGb2N1cygpIHtcbiAgICBmb2N1c1JlZi5jdXJyZW50Py5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICB9XG4gIGZ1bmN0aW9uIG9uV3JhcHBlckJsdXIoKSB7XG4gICAgZm9jdXNSZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgfVxuICBmdW5jdGlvbiBvbkl0ZW1Gb2N1cyhpbmRleCkge1xuICAgIHNldEZvY3VzZWRJbmRleChpbmRleCk7XG4gIH1cblxuICAvLyBVcGRhdGVzIHVzZXIgcHJlZmVyZW5jZXMgYXMgdGhleSBmb2xsb3cgb3IgdW5mb2xsb3cgdG9waWNzXG4gIC8vIGJ5IHNlbGVjdGluZyB0aGVtIGZyb20gdGhlIGxpc3RcbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUsIGluZGV4KSB7XG4gICAgY29uc3QgeyBuYW1lOiB0b3BpYywgY2hlY2tlZCB9ID0gZS50YXJnZXQ7XG4gICAgbGV0IHVwZGF0ZWRTZWN0aW9ucyA9IHsgLi4uc2VjdGlvblBlcnNvbmFsaXphdGlvbiB9O1xuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICB1cGRhdGVkU2VjdGlvbnNbdG9waWNdID0ge1xuICAgICAgICBpc0ZvbGxvd2VkOiB0cnVlLFxuICAgICAgICBpc0Jsb2NrZWQ6IGZhbHNlLFxuICAgICAgICBmb2xsb3dlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuICAgICAgaWYgKCF2aXNpYmxlU2VjdGlvbnMuaW5jbHVkZXModG9waWMpKSB7XG4gICAgICAgIC8vIGFkZCBzZWN0aW9uIHRvIHZpc2libGUgc2VjdGlvbnMgYW5kIHBsYWNlIGFmdGVyIHRoZSBpbmxpbmUgcGlja2VyXG4gICAgICAgIC8vIHN1YnRyYWN0IDEgZnJvbSB0aGUgcmFuayBzbyB0aGF0IGl0IGlzIG5vcm1hbGl6ZWQgd2l0aCBhcnJheSBpbmRleFxuICAgICAgICB2aXNpYmxlU2VjdGlvbnMuc3BsaWNlKHJlY2VpdmVkRmVlZFJhbmsgLSAxLCAwLCB0b3BpYyk7XG4gICAgICAgIGRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9WSVNJQkxFX1NFQ1RJT05TLCB2aXNpYmxlU2VjdGlvbnMuam9pbihcIiwgXCIpKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB1cGRhdGVkU2VjdGlvbnNbdG9waWNdO1xuICAgIH1cbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5JTkxJTkVfU0VMRUNUSU9OX0NMSUNLLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9waWMsXG4gICAgICAgICAgaXNfZm9sbG93ZWQ6IGNoZWNrZWQsXG4gICAgICAgICAgdG9waWNfcG9zaXRpb246IGluZGV4LFxuICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHJlY2VpdmVkRmVlZFJhbmssXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VULFxuICAgICAgICBkYXRhOiB1cGRhdGVkU2VjdGlvbnMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvblxuICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLXNlbGVjdGlvbi13cmFwcGVyIGRzLXNlY3Rpb25cIlxuICAgICAgcmVmPXtlbCA9PiB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gW2VsXTtcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWhlYWRpbmdcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlLXdyYXBwZXJcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPnt0aXRsZX08L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInNlY3Rpb24tc3VidGl0bGVcIj57c3VidGl0bGV9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHVsXG4gICAgICAgIGNsYXNzTmFtZT1cInRvcGljLWxpc3RcIlxuICAgICAgICBvbkZvY3VzPXtvbldyYXBwZXJGb2N1c31cbiAgICAgICAgb25CbHVyPXtvbldyYXBwZXJCbHVyfVxuICAgICAgICByZWY9e2ZvY3VzUmVmfVxuICAgICAgPlxuICAgICAgICB7aW50ZXJlc3RzLm1hcCgoaW50ZXJlc3QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2hlY2tlZCA9XG4gICAgICAgICAgICBzZWN0aW9uUGVyc29uYWxpemF0aW9uW2ludGVyZXN0LnNlY3Rpb25JZF0/LmlzRm9sbG93ZWQ7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICBrZXk9e2ludGVyZXN0LnNlY3Rpb25JZH1cbiAgICAgICAgICAgICAgcmVmPXtpbmRleCA9PT0gZm9jdXNlZEluZGV4ID8gZm9jdXNlZFJlZiA6IG51bGx9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBpZD17aW50ZXJlc3Quc2VjdGlvbklkfVxuICAgICAgICAgICAgICAgICAgbmFtZT17aW50ZXJlc3Quc2VjdGlvbklkfVxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgIGFyaWEtY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IGhhbmRsZUNoYW5nZShlLCBpbmRleCl9XG4gICAgICAgICAgICAgICAgICBrZXk9e2Ake2ludGVyZXN0LnNlY3Rpb25JZH0tJHtjaGVja2VkfWB9IC8vIEZvcmNlIHJlbW91bnQgdG8gc3luYyBET00gc3RhdGUgd2l0aCBSZWFjdCBzdGF0ZVxuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9e2luZGV4ID09PSBmb2N1c2VkSW5kZXggPyAwIDogLTF9XG4gICAgICAgICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9uSXRlbUZvY3VzKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0b3BpYy1pdGVtLWxhYmVsXCI+e2ludGVyZXN0LnRpdGxlIHx8IFwiXCJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRvcGljLWl0ZW0taWNvbiBpY29uICR7Y2hlY2tlZCA/IFwiaWNvbi1jaGVjay1maWxsZWRcIiA6IFwiaWNvbi1hZGQtY2lyY2xlLWZpbGxcIn1gfVxuICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L3VsPlxuICAgICAgPHAgY2xhc3NOYW1lPVwibGVhcm4tbW9yZS1jb3B5XCI+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17cHJlZnNbXCJzdXBwb3J0LnVybFwiXX1cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9waWMtc2VsZWN0aW9uLXByaXZhY3ktbGlua1wiXG4gICAgICAgIC8+XG4gICAgICA8L3A+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuXG5leHBvcnQgeyBJbnRlcmVzdFBpY2tlciB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuXG5leHBvcnQgY29uc3QgUGVyc29uYWxpemVkQ2FyZCA9ICh7XG4gIGRpc3BhdGNoLFxuICBoYW5kbGVEaXNtaXNzLFxuICBoYW5kbGVDbGljayxcbiAgaGFuZGxlQmxvY2ssXG4gIG1lc3NhZ2VEYXRhLFxufSkgPT4ge1xuICBjb25zdCB3YXZpbmdGb3ggPVxuICAgIFwiY2hyb21lOi8vbmV3dGFiL2NvbnRlbnQvZGF0YS9jb250ZW50L2Fzc2V0cy93YXZpbmctZm94LnN2Z1wiO1xuXG4gIGNvbnN0IG9uRGlzbWlzcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBoYW5kbGVEaXNtaXNzKCk7XG4gICAgaGFuZGxlQmxvY2soKTtcbiAgfSwgW2hhbmRsZURpc21pc3MsIGhhbmRsZUJsb2NrXSk7XG5cbiAgY29uc3Qgb25Ub2dnbGVDbGljayA9IHVzZUNhbGxiYWNrKFxuICAgIGVsZW1lbnRJZCA9PiB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGF0LlNIT1dfUEVSU09OQUxJWkUgfSk7XG4gICAgICBkaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJTSE9XX1BFUlNPTkFMSVpFXCIgfSkpO1xuICAgICAgaGFuZGxlQ2xpY2soZWxlbWVudElkKTtcbiAgICB9LFxuICAgIFtkaXNwYXRjaCwgaGFuZGxlQ2xpY2tdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8YXNpZGUgY2xhc3NOYW1lPVwicGVyc29uYWxpemVkLWNhcmQtd3JhcHBlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwZXJzb25hbGl6ZWQtY2FyZC1kaXNtaXNzXCI+XG4gICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgdHlwZT1cImljb24gZ2hvc3RcIlxuICAgICAgICAgIGljb25TcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9jbG9zZS5zdmdcIlxuICAgICAgICAgIG9uQ2xpY2s9e29uRGlzbWlzc31cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9hc3QtZGlzbWlzcy1idXR0b25cIlxuICAgICAgICA+PC9tb3otYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlcnNvbmFsaXplZC1jYXJkLWlubmVyXCI+XG4gICAgICAgIDxpbWcgc3JjPXt3YXZpbmdGb3h9IGFsdD1cIlwiIC8+XG4gICAgICAgIDxoMj57bWVzc2FnZURhdGEuY29udGVudC5jYXJkVGl0bGV9PC9oMj5cbiAgICAgICAgPHA+e21lc3NhZ2VEYXRhLmNvbnRlbnQuY2FyZE1lc3NhZ2V9PC9wPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlcnNvbmFsaXplZC1jYXJkLWN0YS13cmFwcGVyXCI+XG4gICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIGNsYXNzPVwicGVyc29uYWxpemVkLWNhcmQtY3RhXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uVG9nZ2xlQ2xpY2soXCJvcGVuLXBlcnNvbmFsaXphdGlvbi1wYW5lbFwiKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bWVzc2FnZURhdGEuY29udGVudC5jdGFUZXh0fVxuICAgICAgICAgIDwvbW96LWJ1dHRvbj5cbiAgICAgICAgICA8U2FmZUFuY2hvclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicGVyc29uYWxpemVkLWNhcmQtbGlua1wiXG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICB1cmw9e21lc3NhZ2VEYXRhLmNvbnRlbnQubGlua1VybCB8fCBcImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy9cIn1cbiAgICAgICAgICAgIG9uTGlua0NsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGhhbmRsZUNsaWNrKFwibGluay1jbGlja1wiKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge21lc3NhZ2VEYXRhLmNvbnRlbnQubGlua1RleHR9XG4gICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvYXNpZGU+XG4gICk7XG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRmVhdHVyZUhpZ2hsaWdodCB9IGZyb20gXCIuL0ZlYXR1cmVIaWdobGlnaHRcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gRm9sbG93U2VjdGlvbkJ1dHRvbkhpZ2hsaWdodCh7XG4gIGFycm93UG9zaXRpb24sXG4gIHBvc2l0aW9uLFxuICB2ZXJ0aWNhbFBvc2l0aW9uLFxuICBkaXNwYXRjaCxcbiAgaGFuZGxlRGlzbWlzcyxcbiAgaGFuZGxlQmxvY2ssXG4gIGZlYXR1cmUsXG59KSB7XG4gIGNvbnN0IG9uRGlzbWlzcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBoYW5kbGVEaXNtaXNzKCk7XG4gICAgaGFuZGxlQmxvY2soKTtcbiAgfSwgW2hhbmRsZURpc21pc3MsIGhhbmRsZUJsb2NrXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbGxvdy1zZWN0aW9uLWJ1dHRvbi1oaWdobGlnaHRcIj5cbiAgICAgIDxGZWF0dXJlSGlnaGxpZ2h0XG4gICAgICAgIHBvc2l0aW9uPXtwb3NpdGlvbn1cbiAgICAgICAgYXJyb3dQb3NpdGlvbj17YXJyb3dQb3NpdGlvbn1cbiAgICAgICAgdmVydGljYWxQb3NpdGlvbj17dmVydGljYWxQb3NpdGlvbn1cbiAgICAgICAgZmVhdHVyZT17ZmVhdHVyZX1cbiAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICBtZXNzYWdlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbGxvdy1zZWN0aW9uLWJ1dHRvbi1oaWdobGlnaHQtY29udGVudFwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9XCJjaHJvbWU6Ly9icm93c2VyL2NvbnRlbnQvYXNyb3V0ZXIvYXNzZXRzL3NtaWxpbmctZm94LWljb24uc3ZnXCJcbiAgICAgICAgICAgICAgd2lkdGg9XCIyNFwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjI0XCJcbiAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbGxvdy1zZWN0aW9uLWJ1dHRvbi1oaWdobGlnaHQtY29weVwiPlxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRpdGxlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1mb2xsb3ctaGlnaGxpZ2h0LXRpdGxlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tZm9sbG93LWhpZ2hsaWdodC1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBvcGVuZWRPdmVycmlkZT17dHJ1ZX1cbiAgICAgICAgc2hvd0J1dHRvbkljb249e2ZhbHNlfVxuICAgICAgICBkaXNtaXNzQ2FsbGJhY2s9e29uRGlzbWlzc31cbiAgICAgICAgb3V0c2lkZUNsaWNrQ2FsbGJhY2s9e2hhbmRsZURpc21pc3N9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5cbmZ1bmN0aW9uIExvY2F0aW9uU2VhcmNoKHsgb3V0ZXJDbGFzc05hbWUgfSkge1xuICAvLyBzaG91bGQgYmUgdGhlIGxvY2F0aW9uIG9iamVjdCBmcm9tIHN1Z2dlc3RlZExvY2F0aW9uc1xuICBjb25zdCBbc2VsZWN0ZWRMb2NhdGlvbiwgc2V0U2VsZWN0ZWRMb2NhdGlvbl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3Qgc3VnZ2VzdGVkTG9jYXRpb25zID0gdXNlU2VsZWN0b3IoXG4gICAgc3RhdGUgPT4gc3RhdGUuV2VhdGhlci5zdWdnZXN0ZWRMb2NhdGlvbnNcbiAgKTtcbiAgY29uc3QgbG9jYXRpb25TZWFyY2hTdHJpbmcgPSB1c2VTZWxlY3RvcihcbiAgICBzdGF0ZSA9PiBzdGF0ZS5XZWF0aGVyLmxvY2F0aW9uU2VhcmNoU3RyaW5nXG4gICk7XG4gIGNvbnN0IFt1c2VySW5wdXQsIHNldFVzZXJJbnB1dF0gPSB1c2VTdGF0ZShsb2NhdGlvblNlYXJjaFN0cmluZyB8fCBcIlwiKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkTG9jYXRpb24pIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XRUFUSEVSX0xPQ0FUSU9OX0RBVEFfVVBEQVRFLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNpdHk6IHNlbGVjdGVkTG9jYXRpb24ubG9jYWxpemVkX25hbWUsXG4gICAgICAgICAgICBhZG1pbk5hbWU6IHNlbGVjdGVkTG9jYXRpb24uYWRtaW5pc3RyYXRpdmVfYXJlYSxcbiAgICAgICAgICAgIGNvdW50cnk6IHNlbGVjdGVkTG9jYXRpb24uY291bnRyeSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGRpc3BhdGNoKGFjLlNldFByZWYoXCJ3ZWF0aGVyLnF1ZXJ5XCIsIHNlbGVjdGVkTG9jYXRpb24ua2V5KSk7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQnJvYWRjYXN0VG9Db250ZW50KHtcbiAgICAgICAgICB0eXBlOiBhdC5XRUFUSEVSX1NFQVJDSF9BQ1RJVkUsXG4gICAgICAgICAgZGF0YTogZmFsc2UsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkTG9jYXRpb24sIGRpc3BhdGNoXSk7XG5cbiAgLy8gd2hlbiBjb21wb25lbnQgbW91bnRzLCBzZXQgZm9jdXMgdG8gaW5wdXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbnB1dFJlZj8uY3VycmVudD8uZm9jdXMoKTtcbiAgfSwgW2lucHV0UmVmXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgY29uc3QgeyB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIHNldFVzZXJJbnB1dCh2YWx1ZSk7XG4gICAgLy8gaWYgdGhlIHVzZXIgaW5wdXQgY29udGFpbnMgbGVzcyB0aGFuIHRocmVlIGNoYXJhY3RlcnMgYW5kIHN1Z2dlc3RlZExvY2F0aW9ucyBpcyBub3QgYW4gZW1wdHkgYXJyYXksXG4gICAgLy8gcmVzZXQgc3VnZ2VzdGVkTG9jYXRpb25zIHRvIFtdIHNvIHRoZXJlIGFyZW50IGluY29ycmVjdCBpdGVtcyBpbiB0aGUgZGF0YWxpc3RcbiAgICBpZiAodmFsdWUubGVuZ3RoIDwgMyAmJiBzdWdnZXN0ZWRMb2NhdGlvbnMubGVuZ3RoKSB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0VBVEhFUl9MT0NBVElPTl9TVUdHRVNUSU9OU19VUERBVEUsXG4gICAgICAgICAgZGF0YTogW10sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICAvLyBmaW5kIG1hdGNoIGluIHN1Z2dlc3RlZExvY2F0aW9uIGFycmF5XG4gICAgY29uc3QgbWF0Y2ggPSBzdWdnZXN0ZWRMb2NhdGlvbnM/LmZpbmQoKHsga2V5IH0pID0+IGtleSA9PT0gdmFsdWUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgc2V0U2VsZWN0ZWRMb2NhdGlvbihtYXRjaCk7XG4gICAgICBzZXRVc2VySW5wdXQoXG4gICAgICAgIGAke21hdGNoLmxvY2FsaXplZF9uYW1lfSwgJHttYXRjaC5hZG1pbmlzdHJhdGl2ZV9hcmVhLmxvY2FsaXplZF9uYW1lfWBcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPj0gMyAmJiAhbWF0Y2gpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XRUFUSEVSX0xPQ0FUSU9OX1NFQVJDSF9VUERBVEUsXG4gICAgICAgICAgZGF0YTogdmFsdWUsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsb3NlU2VhcmNoKCkge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQnJvYWRjYXN0VG9Db250ZW50KHtcbiAgICAgICAgdHlwZTogYXQuV0VBVEhFUl9TRUFSQ0hfQUNUSVZFLFxuICAgICAgICBkYXRhOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBzZXRVc2VySW5wdXQoXCJcIik7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGUpIHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIGhhbmRsZUNsb3NlU2VhcmNoKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7b3V0ZXJDbGFzc05hbWV9IGxvY2F0aW9uLXNlYXJjaGB9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2NhdGlvbi1pbnB1dC13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VhcmNoLWljb25cIiAvPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgIGxpc3Q9XCJtZXJpbm8tbG9jYXRpb24tbGlzdFwiXG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13ZWF0aGVyLWNoYW5nZS1sb2NhdGlvbi1zZWFyY2gtaW5wdXQtcGxhY2Vob2xkZXJcIlxuICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgdmFsdWU9e3VzZXJJbnB1dH1cbiAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgIC8+XG4gICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgY2xhc3M9XCJjbG9zZS1pY29uXCJcbiAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICBpY29uU3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvY2xvc2Uuc3ZnXCJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbG9zZVNlYXJjaH1cbiAgICAgICAgLz5cbiAgICAgICAgPGRhdGFsaXN0IGlkPVwibWVyaW5vLWxvY2F0aW9uLWxpc3RcIj5cbiAgICAgICAgICB7KHN1Z2dlc3RlZExvY2F0aW9ucyB8fCBbXSkubWFwKG1lcmlub0xjYXRpb24gPT4gKFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17bWVyaW5vTGNhdGlvbi5rZXl9IGtleT17bWVyaW5vTGNhdGlvbi5rZXl9PlxuICAgICAgICAgICAgICB7bWVyaW5vTGNhdGlvbi5sb2NhbGl6ZWRfbmFtZX0se1wiIFwifVxuICAgICAgICAgICAgICB7bWVyaW5vTGNhdGlvbi5hZG1pbmlzdHJhdGl2ZV9hcmVhLmxvY2FsaXplZF9uYW1lfVxuICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGF0YWxpc3Q+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgTG9jYXRpb25TZWFyY2ggfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnVcIjtcbmltcG9ydCB7IExvY2F0aW9uU2VhcmNoIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2VhdGhlci9Mb2NhdGlvblNlYXJjaFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgVklTSUJMRSA9IFwidmlzaWJsZVwiO1xuY29uc3QgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcblxuZnVuY3Rpb24gV2VhdGhlclBsYWNlaG9sZGVyKCkge1xuICBjb25zdCBbaXNTZWVuLCBzZXRJc1NlZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFdlIGFyZSBzZXR0aW5nIHVwIGEgdmlzaWJpbGl0eSBhbmQgaW50ZXJzZWN0aW9uIGV2ZW50XG4gIC8vIHNvIGFuaW1hdGlvbnMgZG9uJ3QgaGFwcGVuIHdpdGggaGVhZGxlc3MgYXV0b21hdGlvbi5cbiAgLy8gVGhlIGFuaW1hdGlvbnMgY2F1c2VzIHRlc3RzIHRvIGZhaWwgYmVhdXNlIHRoZXkgbmV2ZXIgc3RvcCxcbiAgLy8gYW5kIG1hbnkgdGVzdHMgd2FpdCB1bnRpbCBldmVyeXRoaW5nIGhhcyBzdG9wcGVkIGJlZm9yZSBwYXNzaW5nLlxuICBjb25zdCByZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcigoKSA9PiBzZXRJc1NlZW4odHJ1ZSksIDEpO1xuXG4gIGNvbnN0IGlzU2VlbkNsYXNzTmFtZSA9IGlzU2VlbiA/IGBwbGFjZWhvbGRlci1zZWVuYCA6IGBgO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtgd2VhdGhlciB3ZWF0aGVyLXBsYWNlaG9sZGVyICR7aXNTZWVuQ2xhc3NOYW1lfWB9XG4gICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBbZWxdO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWltYWdlIHBsYWNlaG9sZGVyLWZpbGxcIiAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGFjZWhvbGRlci1jb250ZXh0XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItaGVhZGVyIHBsYWNlaG9sZGVyLWZpbGxcIiAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWRlc2NyaXB0aW9uIHBsYWNlaG9sZGVyLWZpbGxcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBfV2VhdGhlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29udGV4dE1lbnVLZXlib2FyZDogZmFsc2UsXG4gICAgICBzaG93Q29udGV4dE1lbnU6IGZhbHNlLFxuICAgICAgdXJsOiBcImh0dHBzOi8vZXhhbXBsZS5jb21cIixcbiAgICAgIGltcHJlc3Npb25TZWVuOiBmYWxzZSxcbiAgICAgIGVycm9yU2VlbjogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLnNldEltcHJlc3Npb25SZWYgPSBlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMuaW1wcmVzc2lvbkVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG4gICAgdGhpcy5zZXRFcnJvclJlZiA9IGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5lcnJvckVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH07XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblByb3ZpZGVyQ2xpY2sgPSB0aGlzLm9uUHJvdmlkZXJDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAvLyBTZXR1cCB0aGUgaW1wcmVzc2lvbiBvYnNlcnZlciBvbmNlIHRoZSBwYWdlIGlzIHZpc2libGUuXG4gICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlcnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2Ugc2hvdWxkIG9ubHkgZXZlciBzZW5kIHRoZSBsYXRlc3QgaW1wcmVzc2lvbiBzdGF0cyBwaW5nLCBzbyByZW1vdmUgYW55XG4gICAgICAvLyBvbGRlciBsaXN0ZW5lcnMuXG4gICAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgICAgIC8vIFNldHVwIHRoZSBpbXByZXNzaW9uIG9ic2VydmVyIG9uY2UgdGhlIHBhZ2UgaXMgdmlzaWJsZS5cbiAgICAgICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlcnMoKTtcbiAgICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAvLyBSZW1vdmUgb2JzZXJ2ZXJzIG9uIHVubW91bnRcbiAgICBpZiAodGhpcy5vYnNlcnZlciAmJiB0aGlzLmltcHJlc3Npb25FbGVtZW50KSB7XG4gICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLmltcHJlc3Npb25FbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIgJiYgdGhpcy5lcnJvckVsZW1lbnQpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuZXJyb3JFbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHNldEltcHJlc3Npb25PYnNlcnZlcnMoKSB7XG4gICAgaWYgKHRoaXMuaW1wcmVzc2lvbkVsZW1lbnQpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGhpcy5vbkltcHJlc3Npb24uYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5pbXByZXNzaW9uRWxlbWVudCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmVycm9yRWxlbWVudCkge1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5lcnJvckVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uSW1wcmVzc2lvbihlbnRyaWVzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllcy5maW5kKGUgPT4gZS5pc0ludGVyc2VjdGluZyk7XG5cbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICBpZiAodGhpcy5pbXByZXNzaW9uRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuaW1wcmVzc2lvbkVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldFQVRIRVJfSU1QUkVTU0lPTixcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFN0b3Agb2JzZXJ2aW5nIHNpbmNlIGVsZW1lbnQgaGFzIGJlZW4gc2VlblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpbXByZXNzaW9uU2VlbjogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25FcnJvcihlbnRyaWVzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllcy5maW5kKGUgPT4gZS5pc0ludGVyc2VjdGluZyk7XG5cbiAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICBpZiAodGhpcy5lcnJvckVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLmVycm9yRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0VBVEhFUl9MT0FEX0VSUk9SLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU3RvcCBvYnNlcnZpbmcgc2luY2UgZWxlbWVudCBoYXMgYmVlbiBzZWVuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGVycm9yU2VlbjogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb3BlbkNvbnRleHRNZW51KGlzS2V5Qm9hcmQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblVwZGF0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZSh0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93Q29udGV4dE1lbnU6IHRydWUsXG4gICAgICBjb250ZXh0TWVudUtleWJvYXJkOiBpc0tleUJvYXJkLFxuICAgIH0pO1xuICB9XG5cbiAgb25DbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vcGVuQ29udGV4dE1lbnUoZmFsc2UsIGV2ZW50KTtcbiAgfVxuXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vcGVuQ29udGV4dE1lbnUodHJ1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uVXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHNob3dDb250ZXh0TWVudSk7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93Q29udGV4dE1lbnUgfSk7XG4gIH1cblxuICBvblByb3ZpZGVyQ2xpY2soKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5XRUFUSEVSX09QRU5fUFJPVklERVJfVVJMLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc291cmNlOiBcIldFQVRIRVJcIixcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICAvLyBDaGVjayBpZiB3ZWF0aGVyIHNob3VsZCBiZSByZW5kZXJlZFxuICAgIGNvbnN0IGlzV2VhdGhlckVuYWJsZWQgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcInN5c3RlbS5zaG93V2VhdGhlclwiXTtcblxuICAgIGlmICghaXNXZWF0aGVyRW5hYmxlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlLldlYXRoZXIgfHxcbiAgICAgICF0aGlzLnByb3BzLldlYXRoZXIuaW5pdGlhbGl6ZWRcbiAgICApIHtcbiAgICAgIHJldHVybiA8V2VhdGhlclBsYWNlaG9sZGVyIC8+O1xuICAgIH1cblxuICAgIGNvbnN0IHsgc2hvd0NvbnRleHRNZW51IH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGNvbnN0IHsgZGlzcGF0Y2gsIFByZWZzLCBXZWF0aGVyIH0gPSBwcm9wcztcblxuICAgIGNvbnN0IFdFQVRIRVJfU1VHR0VTVElPTiA9IFdlYXRoZXIuc3VnZ2VzdGlvbnM/LlswXTtcblxuICAgIGNvbnN0IG91dGVyQ2xhc3NOYW1lID0gW1xuICAgICAgXCJ3ZWF0aGVyXCIsXG4gICAgICBXZWF0aGVyLnNlYXJjaEFjdGl2ZSAmJiBcInNlYXJjaFwiLFxuICAgICAgcHJvcHMuaXNJblNlY3Rpb24gJiYgXCJzZWN0aW9uLXdlYXRoZXJcIixcbiAgICBdXG4gICAgICAuZmlsdGVyKHYgPT4gdilcbiAgICAgIC5qb2luKFwiIFwiKTtcblxuICAgIGNvbnN0IHNob3dEZXRhaWxlZFZpZXcgPSBQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLmRpc3BsYXlcIl0gPT09IFwiZGV0YWlsZWRcIjtcblxuICAgIC8vIE5vdGU6IFRoZSB0ZW1wZXJhdHVyZSB1bml0cy9kaXNwbGF5IG9wdGlvbnMgd2lsbCBiZWNvbWUgc2Vjb25kYXJ5IG1lbnUgaXRlbXNcbiAgICBjb25zdCBXRUFUSEVSX1NPVVJDRV9DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICAgIC4uLihQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLmxvY2F0aW9uU2VhcmNoRW5hYmxlZFwiXVxuICAgICAgICA/IFtcIkNoYW5nZVdlYXRoZXJMb2NhdGlvblwiXVxuICAgICAgICA6IFtdKSxcbiAgICAgIC4uLihQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIl0gPT09IFwiZlwiXG4gICAgICAgID8gW1wiQ2hhbmdlVGVtcFVuaXRDZWxzaXVzXCJdXG4gICAgICAgIDogW1wiQ2hhbmdlVGVtcFVuaXRGYWhyZW5oZWl0XCJdKSxcbiAgICAgIC4uLihQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLmRpc3BsYXlcIl0gPT09IFwic2ltcGxlXCJcbiAgICAgICAgPyBbXCJDaGFuZ2VXZWF0aGVyRGlzcGxheURldGFpbGVkXCJdXG4gICAgICAgIDogW1wiQ2hhbmdlV2VhdGhlckRpc3BsYXlTaW1wbGVcIl0pLFxuICAgICAgXCJIaWRlV2VhdGhlclwiLFxuICAgICAgXCJPcGVuTGVhcm5Nb3JlVVJMXCIsXG4gICAgXTtcbiAgICBjb25zdCBXRUFUSEVSX1NPVVJDRV9FUlJPUl9DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICAgIC4uLihQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLmxvY2F0aW9uU2VhcmNoRW5hYmxlZFwiXVxuICAgICAgICA/IFtcIkNoYW5nZVdlYXRoZXJMb2NhdGlvblwiXVxuICAgICAgICA6IFtdKSxcbiAgICAgIFwiSGlkZVdlYXRoZXJcIixcbiAgICAgIFwiT3BlbkxlYXJuTW9yZVVSTFwiLFxuICAgIF07XG5cbiAgICBjb25zdCBjb250ZXh0TWVudSA9IGNvbnRleHRPcHRzID0+IChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VhdGhlckJ1dHRvbkNvbnRleHRNZW51V3JhcHBlclwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LXNlY3Rpb24tdG9vbHRpcFwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwid2VhdGhlckJ1dHRvbkNvbnRleHRNZW51XCJcbiAgICAgICAgPlxuICAgICAgICAgIHtzaG93Q29udGV4dE1lbnUgPyAoXG4gICAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICBpbmRleD17MH1cbiAgICAgICAgICAgICAgc291cmNlPVwiV0VBVEhFUlwiXG4gICAgICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLm9uVXBkYXRlfVxuICAgICAgICAgICAgICBvcHRpb25zPXtjb250ZXh0T3B0c31cbiAgICAgICAgICAgICAgc2l0ZT17e1xuICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL3N1cHBvcnQubW96aWxsYS5vcmcva2IvY3VzdG9taXplLWl0ZW1zLW9uLWZpcmVmb3gtbmV3LXRhYi1wYWdlXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGxpbms9XCJodHRwczovL3N1cHBvcnQubW96aWxsYS5vcmcva2IvY3VzdG9taXplLWl0ZW1zLW9uLWZpcmVmb3gtbmV3LXRhYi1wYWdlXCJcbiAgICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17ZmFsc2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG5cbiAgICBpZiAoV2VhdGhlci5zZWFyY2hBY3RpdmUpIHtcbiAgICAgIHJldHVybiA8TG9jYXRpb25TZWFyY2ggb3V0ZXJDbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfSAvPjtcbiAgICB9IGVsc2UgaWYgKFdFQVRIRVJfU1VHR0VTVElPTikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiByZWY9e3RoaXMuc2V0SW1wcmVzc2lvblJlZn0gY2xhc3NOYW1lPXtvdXRlckNsYXNzTmFtZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVyQ2FyZFwiPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdlYXRoZXItc2VlLWZvcmVjYXN0XCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9J3tcInByb3ZpZGVyXCI6IFwiQWNjdVdlYXRoZXLCrlwifSdcbiAgICAgICAgICAgICAgaHJlZj17V0VBVEhFUl9TVUdHRVNUSU9OLmZvcmVjYXN0LnVybH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwid2VhdGhlckluZm9MaW5rXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblByb3ZpZGVyQ2xpY2t9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VhdGhlckljb25Db2xcIj5cbiAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgd2VhdGhlckljb24gaWNvbklkJHtXRUFUSEVSX1NVR0dFU1RJT04uY3VycmVudF9jb25kaXRpb25zLmljb25faWR9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVyVGV4dFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VhdGhlckZvcmVjYXN0Um93XCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3ZWF0aGVyVGVtcGVyYXR1cmVcIj5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIFdFQVRIRVJfU1VHR0VTVElPTi5jdXJyZW50X2NvbmRpdGlvbnMudGVtcGVyYXR1cmVbXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIl1cbiAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJmRlZzt7UHJlZnMudmFsdWVzW1wid2VhdGhlci50ZW1wZXJhdHVyZVVuaXRzXCJdfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VhdGhlckNpdHlSb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndlYXRoZXJDaXR5XCI+XG4gICAgICAgICAgICAgICAgICAgIHtXZWF0aGVyLmxvY2F0aW9uRGF0YS5jaXR5fVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtzaG93RGV0YWlsZWRWaWV3ID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVyRGV0YWlsZWRTdW1tYXJ5Um93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VhdGhlckhpZ2hMb3dUZW1wc1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBMb3cgRm9yZWNhc3RlZCBUZW1wZXJhdHVyZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgV0VBVEhFUl9TVUdHRVNUSU9OLmZvcmVjYXN0LmhpZ2hbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJlZnMudmFsdWVzW1wid2VhdGhlci50ZW1wZXJhdHVyZVVuaXRzXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICZkZWc7XG4gICAgICAgICAgICAgICAgICAgICAgICB7UHJlZnMudmFsdWVzW1wid2VhdGhlci50ZW1wZXJhdHVyZVVuaXRzXCJdfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogU3BhY2VyIC8gQnVsbGV0ICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPiZidWxsOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogTG93IEZvcmVjYXN0ZWQgVGVtcGVyYXR1cmUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFdFQVRIRVJfU1VHR0VTVElPTi5mb3JlY2FzdC5sb3dbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJlZnMudmFsdWVzW1wid2VhdGhlci50ZW1wZXJhdHVyZVVuaXRzXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICZkZWc7XG4gICAgICAgICAgICAgICAgICAgICAgICB7UHJlZnMudmFsdWVzW1wid2VhdGhlci50ZW1wZXJhdHVyZVVuaXRzXCJdfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndlYXRoZXJUZXh0U3VtbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtXRUFUSEVSX1NVR0dFU1RJT04uY3VycmVudF9jb25kaXRpb25zLnN1bW1hcnl9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIHtjb250ZXh0TWVudShXRUFUSEVSX1NPVVJDRV9DT05URVhUX01FTlVfT1BUSU9OUyl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwid2VhdGhlclNwb25zb3JUZXh0XCI+XG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2VhdGhlci1zcG9uc29yZWRcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wicHJvdmlkZXJcIjogXCJBY2N1V2VhdGhlcsKuXCJ9J1xuICAgICAgICAgICAgPjwvc3Bhbj5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiByZWY9e3RoaXMuc2V0RXJyb3JSZWZ9IGNsYXNzTmFtZT17b3V0ZXJDbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYXRoZXJOb3RBdmFpbGFibGVcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24taW5mby13YXJuaW5nXCIgLz57XCIgXCJ9XG4gICAgICAgICAgPHAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdlYXRoZXItZXJyb3Itbm90LWF2YWlsYWJsZVwiPjwvcD5cbiAgICAgICAgICB7Y29udGV4dE1lbnUoV0VBVEhFUl9TT1VSQ0VfRVJST1JfQ09OVEVYVF9NRU5VX09QVElPTlMpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFdlYXRoZXIgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIEFwcDogc3RhdGUuQXBwLFxuICBXZWF0aGVyOiBzdGF0ZS5XZWF0aGVyLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIEludGVyc2VjdGlvbk9ic2VydmVyOiBnbG9iYWxUaGlzLkludGVyc2VjdGlvbk9ic2VydmVyLFxuICBkb2N1bWVudDogZ2xvYmFsVGhpcy5kb2N1bWVudCxcbn0pKShfV2VhdGhlcik7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBEU0VtcHR5U3RhdGUgfSBmcm9tIFwiLi4vRFNFbXB0eVN0YXRlL0RTRW1wdHlTdGF0ZVwiO1xuaW1wb3J0IHsgRFNDYXJkLCBQbGFjZWhvbGRlckRTQ2FyZCB9IGZyb20gXCIuLi9EU0NhcmQvRFNDYXJkXCI7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHtcbiAgc2VsZWN0V2VhdGhlclBsYWNlbWVudCxcbiAgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsXG59IGZyb20gXCIuLi8uLi8uLi9saWIvdXRpbHNcIjtcbmltcG9ydCB7IFNlY3Rpb25Db250ZXh0TWVudSB9IGZyb20gXCIuLi9TZWN0aW9uQ29udGV4dE1lbnUvU2VjdGlvbkNvbnRleHRNZW51XCI7XG5pbXBvcnQgeyBJbnRlcmVzdFBpY2tlciB9IGZyb20gXCIuLi9JbnRlcmVzdFBpY2tlci9JbnRlcmVzdFBpY2tlclwiO1xuaW1wb3J0IHsgQWRCYW5uZXIgfSBmcm9tIFwiLi4vQWRCYW5uZXIvQWRCYW5uZXIuanN4XCI7XG5pbXBvcnQgeyBQZXJzb25hbGl6ZWRDYXJkIH0gZnJvbSBcIi4uL1BlcnNvbmFsaXplZENhcmQvUGVyc29uYWxpemVkQ2FyZFwiO1xuaW1wb3J0IHsgRm9sbG93U2VjdGlvbkJ1dHRvbkhpZ2hsaWdodCB9IGZyb20gXCIuLi9GZWF0dXJlSGlnaGxpZ2h0L0ZvbGxvd1NlY3Rpb25CdXR0b25IaWdobGlnaHRcIjtcbmltcG9ydCB7IE1lc3NhZ2VXcmFwcGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTWVzc2FnZVdyYXBwZXIvTWVzc2FnZVdyYXBwZXJcIjtcbmltcG9ydCB7IFRyZW5kaW5nU2VhcmNoZXMgfSBmcm9tIFwiLi4vVHJlbmRpbmdTZWFyY2hlcy9UcmVuZGluZ1NlYXJjaGVzLmpzeFwiO1xuaW1wb3J0IHsgV2VhdGhlciB9IGZyb20gXCIuLi8uLi9XZWF0aGVyL1dlYXRoZXIuanN4XCI7XG5cbi8vIFByZWZzXG5jb25zdCBQUkVGX1NFQ1RJT05TX0NBUkRTX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5jYXJkcy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1NFQ1RJT05TX0NBUkRTX1RIVU1CU19VUF9ET1dOX0VOQUJMRUQgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5jYXJkcy50aHVtYnNVcERvd24uZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9TRUNUSU9OU19QRVJTT05BTElaQVRJT05fRU5BQkxFRCA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLnBlcnNvbmFsaXphdGlvbi5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1RPUElDU19FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNMYWJlbHMuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9UT1BJQ1NfU0VMRUNURUQgPSBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5zZWxlY3RlZFRvcGljc1wiO1xuY29uc3QgUFJFRl9UT1BJQ1NfQVZBSUxBQkxFID0gXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24udG9waWNzXCI7XG5jb25zdCBQUkVGX1RIVU1CU19VUF9ET1dOX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS50aHVtYnNVcERvd24uZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9JTlRFUkVTVF9QSUNLRVJfRU5BQkxFRCA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmludGVyZXN0UGlja2VyLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfVklTSUJMRV9TRUNUSU9OUyA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmludGVyZXN0UGlja2VyLnZpc2libGVTZWN0aW9uc1wiO1xuY29uc3QgUFJFRl9CSUxMQk9BUkRfRU5BQkxFRCA9IFwibmV3dGFiQWRTaXplLmJpbGxib2FyZFwiO1xuY29uc3QgUFJFRl9CSUxMQk9BUkRfUE9TSVRJT04gPSBcIm5ld3RhYkFkU2l6ZS5iaWxsYm9hcmQucG9zaXRpb25cIjtcbmNvbnN0IFBSRUZfTEVBREVSQk9BUkRfRU5BQkxFRCA9IFwibmV3dGFiQWRTaXplLmxlYWRlcmJvYXJkXCI7XG5jb25zdCBQUkVGX0xFQURFUkJPQVJEX1BPU0lUSU9OID0gXCJuZXd0YWJBZFNpemUubGVhZGVyYm9hcmQucG9zaXRpb25cIjtcbmNvbnN0IFBSRUZfUkVGSU5FRF9DQVJEU19FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0ucmVmaW5lZENhcmRzTGF5b3V0LmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfSU5GRVJSRURfUEVSU09OQUxJWkFUSU9OX1VTRVIgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5wZXJzb25hbGl6YXRpb24uaW5mZXJyZWQudXNlci5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1RSRU5ESU5HX1NFQVJDSCA9IFwidHJlbmRpbmdTZWFyY2guZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9UUkVORElOR19TRUFSQ0hfU1lTVEVNID0gXCJzeXN0ZW0udHJlbmRpbmdTZWFyY2guZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9TRUFSQ0hfRU5HSU5FID0gXCJ0cmVuZGluZ1NlYXJjaC5kZWZhdWx0U2VhcmNoRW5naW5lXCI7XG5jb25zdCBQUkVGX1RSRU5ESU5HX1NFQVJDSF9WQVJJQU5UID0gXCJ0cmVuZGluZ1NlYXJjaC52YXJpYW50XCI7XG5jb25zdCBQUkVGX0RBSUxZX0JSSUVGX1NFQ1RJT05JRCA9IFwiZGlzY292ZXJ5c3RyZWFtLmRhaWx5QnJpZWYuc2VjdGlvbklkXCI7XG5cbmZ1bmN0aW9uIGdldExheW91dERhdGEoXG4gIHJlc3BvbnNpdmVMYXlvdXRzLFxuICBpbmRleCxcbiAgcmVmaW5lZENhcmRzTGF5b3V0LFxuICBzZWN0aW9uS2V5XG4pIHtcbiAgbGV0IGxheW91dERhdGEgPSB7XG4gICAgY2xhc3NOYW1lczogW10sXG4gICAgaW1hZ2VTaXplczoge30sXG4gIH07XG5cbiAgcmVzcG9uc2l2ZUxheW91dHMuZm9yRWFjaChsYXlvdXQgPT4ge1xuICAgIGxheW91dC50aWxlcy5mb3JFYWNoKCh0aWxlLCB0aWxlSW5kZXgpID0+IHtcbiAgICAgIGlmICh0aWxlLnBvc2l0aW9uID09PSBpbmRleCkge1xuICAgICAgICAvLyBXaGVuIHRyZW5kaW5nIHNlYXJjaGVzIHNob3VsZCBiZSBwbGFjZWQgaW4gdGhlIGB0b3Bfc3Rvcmllc19zZWN0aW9uYCxcbiAgICAgICAgLy8gd2UgdXBkYXRlIHRoZSBsYXlvdXQgc28gdGhhdCB0aGUgZmlyc3QgaXRlbSBpcyBhbHdheXMgYSBtZWRpdW0gY2FyZCB0byBtYWtlXG4gICAgICAgIC8vIHJvb20gZm9yIHRoZSB0cmVuZGluZyBzZWFyY2ggd2lkZ2V0XG4gICAgICAgIGlmIChzZWN0aW9uS2V5ID09PSBcInRvcF9zdG9yaWVzX3NlY3Rpb25cIiAmJiB0aWxlSW5kZXggPT09IDApIHtcbiAgICAgICAgICBsYXlvdXREYXRhLmNsYXNzTmFtZXMucHVzaChgY29sLSR7bGF5b3V0LmNvbHVtbkNvdW50fS1tZWRpdW1gKTtcbiAgICAgICAgICBsYXlvdXREYXRhLmNsYXNzTmFtZXMucHVzaChcbiAgICAgICAgICAgIGBjb2wtJHtsYXlvdXQuY29sdW1uQ291bnR9LXBvc2l0aW9uLSR7dGlsZUluZGV4fWBcbiAgICAgICAgICApO1xuICAgICAgICAgIGxheW91dERhdGEuaW1hZ2VTaXplc1tsYXlvdXQuY29sdW1uQ291bnRdID0gXCJtZWRpdW1cIjtcbiAgICAgICAgICBsYXlvdXREYXRhLmNsYXNzTmFtZXMucHVzaChgY29sLSR7bGF5b3V0LmNvbHVtbkNvdW50fS1oaWRlLWV4Y2VycHRgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXlvdXREYXRhLmNsYXNzTmFtZXMucHVzaChgY29sLSR7bGF5b3V0LmNvbHVtbkNvdW50fS0ke3RpbGUuc2l6ZX1gKTtcbiAgICAgICAgICBsYXlvdXREYXRhLmNsYXNzTmFtZXMucHVzaChcbiAgICAgICAgICAgIGBjb2wtJHtsYXlvdXQuY29sdW1uQ291bnR9LXBvc2l0aW9uLSR7dGlsZUluZGV4fWBcbiAgICAgICAgICApO1xuICAgICAgICAgIGxheW91dERhdGEuaW1hZ2VTaXplc1tsYXlvdXQuY29sdW1uQ291bnRdID0gdGlsZS5zaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIEFQSSB0ZWxscyB1cyB3aGV0aGVyIHRoZSB0aWxlIHNob3VsZCBzaG93IHRoZSBleGNlcnB0IG9yIG5vdC5cbiAgICAgICAgLy8gQXBwbHkgZXh0cmEgc3R5bGVzIGFjY29yZGluZ2x5LlxuICAgICAgICBpZiAodGlsZS5oYXNFeGNlcnB0KSB7XG4gICAgICAgICAgaWYgKHRpbGUuc2l6ZSA9PT0gXCJtZWRpdW1cIiAmJiByZWZpbmVkQ2FyZHNMYXlvdXQpIHtcbiAgICAgICAgICAgIGxheW91dERhdGEuY2xhc3NOYW1lcy5wdXNoKFxuICAgICAgICAgICAgICBgY29sLSR7bGF5b3V0LmNvbHVtbkNvdW50fS1oaWRlLWV4Y2VycHRgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXlvdXREYXRhLmNsYXNzTmFtZXMucHVzaChcbiAgICAgICAgICAgICAgYGNvbC0ke2xheW91dC5jb2x1bW5Db3VudH0tc2hvdy1leGNlcnB0YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGF5b3V0RGF0YS5jbGFzc05hbWVzLnB1c2goYGNvbC0ke2xheW91dC5jb2x1bW5Db3VudH0taGlkZS1leGNlcnB0YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGxheW91dERhdGE7XG59XG5cbi8vIGZ1bmN0aW9uIHRvIGRldGVybWluZSBhbW91bnQgb2YgdGlsZXMgc2hvd24gcGVyIHNlY3Rpb24gcGVyIHZpZXdwb3J0XG5mdW5jdGlvbiBnZXRNYXhUaWxlcyhyZXNwb25zaXZlTGF5b3V0cykge1xuICByZXR1cm4gcmVzcG9uc2l2ZUxheW91dHNcbiAgICAuZmxhdE1hcChyZXNwb25zaXZlTGF5b3V0ID0+IHJlc3BvbnNpdmVMYXlvdXQpXG4gICAgLnJlZHVjZSgoYWNjLCB0KSA9PiB7XG4gICAgICBhY2NbdC5jb2x1bW5Db3VudF0gPSB0LnRpbGVzLmxlbmd0aDtcblxuICAgICAgLy8gVXBkYXRlIG1heFRpbGUgaWYgY3VycmVudCB0aWxlIGNvdW50IGlzIGdyZWF0ZXJcbiAgICAgIGlmICghYWNjLm1heFRpbGUgfHwgdC50aWxlcy5sZW5ndGggPiBhY2MubWF4VGlsZSkge1xuICAgICAgICBhY2MubWF4VGlsZSA9IHQudGlsZXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhIGNvbW1hLXNlcGFyYXRlZCBzdHJpbmcgaW4gdXNlciBwcmVmZXJlbmNlc1xuICogaW50byBhIGNsZWFuZWQtdXAgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHByZWYgLSBUaGUgY29tbWEtc2VwYXJhdGVkIHByZWYgdG8gYmUgY29udmVydGVkLlxuICogQHJldHVybnMge3N0cmluZ1tdfSBBbiBhcnJheSBvZiB0cmltbWVkIHN0cmluZ3MsIGV4Y2x1ZGluZyBlbXB0eSB2YWx1ZXMuXG4gKi9cblxuY29uc3QgcHJlZlRvQXJyYXkgPSAocHJlZiA9IFwiXCIpID0+IHtcbiAgcmV0dXJuIHByZWZcbiAgICAuc3BsaXQoXCIsXCIpXG4gICAgLm1hcChpdGVtID0+IGl0ZW0udHJpbSgpKVxuICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtKTtcbn07XG5cbmZ1bmN0aW9uIHNob3VsZFNob3dPTUNIaWdobGlnaHQobWVzc2FnZURhdGEsIGNvbXBvbmVudElkKSB7XG4gIGlmICghbWVzc2FnZURhdGEgfHwgT2JqZWN0LmtleXMobWVzc2FnZURhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gbWVzc2FnZURhdGE/LmNvbnRlbnQ/Lm1lc3NhZ2VUeXBlID09PSBjb21wb25lbnRJZDtcbn1cblxuZnVuY3Rpb24gQ2FyZFNlY3Rpb24oe1xuICBzZWN0aW9uUG9zaXRpb24sXG4gIHNlY3Rpb24sXG4gIGRpc3BhdGNoLFxuICB0eXBlLFxuICBmaXJzdFZpc2libGVUaW1lc3RhbXAsXG4gIGN0YUJ1dHRvblZhcmlhbnQsXG4gIGN0YUJ1dHRvblNwb25zb3JzLFxuICBhbnlTZWN0aW9uc0ZvbGxvd2VkLFxuICBzaG93V2VhdGhlcixcbn0pIHtcbiAgY29uc3QgcHJlZnMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5QcmVmcy52YWx1ZXMpO1xuXG4gIGNvbnN0IHsgbWVzc2FnZURhdGEgfSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLk1lc3NhZ2VzKTtcblxuICBjb25zdCB7IHNlY3Rpb25QZXJzb25hbGl6YXRpb24gfSA9IHVzZVNlbGVjdG9yKFxuICAgIHN0YXRlID0+IHN0YXRlLkRpc2NvdmVyeVN0cmVhbVxuICApO1xuICBjb25zdCBzaG93VG9waWNzID0gcHJlZnNbUFJFRl9UT1BJQ1NfRU5BQkxFRF07XG4gIGNvbnN0IG1heUhhdmVTZWN0aW9uc0NhcmRzID0gcHJlZnNbUFJFRl9TRUNUSU9OU19DQVJEU19FTkFCTEVEXTtcbiAgY29uc3QgbWF5SGF2ZVNlY3Rpb25zQ2FyZHNUaHVtYnNVcERvd24gPVxuICAgIHByZWZzW1BSRUZfU0VDVElPTlNfQ0FSRFNfVEhVTUJTX1VQX0RPV05fRU5BQkxFRF07XG4gIGNvbnN0IG1heUhhdmVUaHVtYnNVcERvd24gPSBwcmVmc1tQUkVGX1RIVU1CU19VUF9ET1dOX0VOQUJMRURdO1xuICBjb25zdCBzZWxlY3RlZFRvcGljcyA9IHByZWZzW1BSRUZfVE9QSUNTX1NFTEVDVEVEXTtcbiAgY29uc3QgYXZhaWxhYmxlVG9waWNzID0gcHJlZnNbUFJFRl9UT1BJQ1NfQVZBSUxBQkxFXTtcbiAgY29uc3QgcmVmaW5lZENhcmRzTGF5b3V0ID0gcHJlZnNbUFJFRl9SRUZJTkVEX0NBUkRTX0VOQUJMRURdO1xuXG4gIGNvbnN0IHRyZW5kaW5nRW5hYmxlZCA9XG4gICAgcHJlZnNbUFJFRl9UUkVORElOR19TRUFSQ0hdICYmXG4gICAgcHJlZnNbUFJFRl9UUkVORElOR19TRUFSQ0hfU1lTVEVNXSAmJlxuICAgIHByZWZzW1BSRUZfU0VBUkNIX0VOR0lORV0/LnRvTG93ZXJDYXNlKCkgPT09IFwiZ29vZ2xlXCI7XG4gIGNvbnN0IHRyZW5kaW5nVmFyaWFudCA9IHByZWZzW1BSRUZfVFJFTkRJTkdfU0VBUkNIX1ZBUklBTlRdO1xuXG4gIGNvbnN0IHNob3VsZFNob3dUcmVuZGluZ1NlYXJjaCA9IHRyZW5kaW5nRW5hYmxlZCAmJiB0cmVuZGluZ1ZhcmlhbnQgPT09IFwiYlwiO1xuXG4gIGNvbnN0IG1heUhhdmVTZWN0aW9uc1BlcnNvbmFsaXphdGlvbiA9XG4gICAgcHJlZnNbUFJFRl9TRUNUSU9OU19QRVJTT05BTElaQVRJT05fRU5BQkxFRF07XG5cbiAgY29uc3QgeyBzZWN0aW9uS2V5LCB0aXRsZSwgc3VidGl0bGUgfSA9IHNlY3Rpb247XG4gIGNvbnN0IHsgcmVzcG9uc2l2ZUxheW91dHMsIG5hbWU6IGxheW91dE5hbWUgfSA9IHNlY3Rpb24ubGF5b3V0O1xuXG4gIGNvbnN0IGZvbGxvd2luZyA9IHNlY3Rpb25QZXJzb25hbGl6YXRpb25bc2VjdGlvbktleV0/LmlzRm9sbG93ZWQ7XG5cbiAgY29uc3QgaGFuZGxlSW50ZXJzZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkNBUkRfU0VDVElPTl9JTVBSRVNTSU9OLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc2VjdGlvbjogc2VjdGlvbktleSxcbiAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBzZWN0aW9uUG9zaXRpb24sXG4gICAgICAgICAgaXNfc2VjdGlvbl9mb2xsb3dlZDogZm9sbG93aW5nLFxuICAgICAgICAgIGxheW91dF9uYW1lOiBsYXlvdXROYW1lLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9LCBbZGlzcGF0Y2gsIHNlY3Rpb25LZXksIHNlY3Rpb25Qb3NpdGlvbiwgZm9sbG93aW5nLCBsYXlvdXROYW1lXSk7XG5cbiAgLy8gUmVmIHRvIGhvbGQgdGhlIHNlY3Rpb24gZWxlbWVudFxuICBjb25zdCBzZWN0aW9uUmVmcyA9IHVzZUludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZUludGVyc2VjdGlvbik7XG5cbiAgLy8gT25seSBzaG93IHRodW1icyB1cC9kb3duIGJ1dHRvbnMgaWYgYm90aCBkZWZhdWx0IHRodW1icyBhbmQgc2VjdGlvbnMgdGh1bWJzIHByZWZzIGFyZSBlbmFibGVkXG4gIGNvbnN0IG1heUhhdmVDb21iaW5lZFRodW1ic1VwRG93biA9XG4gICAgbWF5SGF2ZVNlY3Rpb25zQ2FyZHNUaHVtYnNVcERvd24gJiYgbWF5SGF2ZVRodW1ic1VwRG93bjtcblxuICBjb25zdCBvbkZvbGxvd0NsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRTZWN0aW9uRGF0YSA9IHtcbiAgICAgIC4uLnNlY3Rpb25QZXJzb25hbGl6YXRpb24sXG4gICAgICBbc2VjdGlvbktleV06IHtcbiAgICAgICAgaXNGb2xsb3dlZDogdHJ1ZSxcbiAgICAgICAgaXNCbG9ja2VkOiBmYWxzZSxcbiAgICAgICAgZm9sbG93ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVCxcbiAgICAgICAgZGF0YTogdXBkYXRlZFNlY3Rpb25EYXRhLFxuICAgICAgfSlcbiAgICApO1xuICAgIC8vIFRlbGVtZXRyeSBFdmVudCBEaXNwYXRjaFxuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IFwiRk9MTE9XX1NFQ1RJT05cIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgIGV2ZW50X3NvdXJjZTogXCJNT1pfQlVUVE9OXCIsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaCwgc2VjdGlvblBlcnNvbmFsaXphdGlvbiwgc2VjdGlvbktleSwgc2VjdGlvblBvc2l0aW9uXSk7XG5cbiAgY29uc3Qgb25VbmZvbGxvd0NsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZWRTZWN0aW9uRGF0YSA9IHsgLi4uc2VjdGlvblBlcnNvbmFsaXphdGlvbiB9O1xuICAgIGRlbGV0ZSB1cGRhdGVkU2VjdGlvbkRhdGFbc2VjdGlvbktleV07XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VULFxuICAgICAgICBkYXRhOiB1cGRhdGVkU2VjdGlvbkRhdGEsXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBUZWxlbWV0cnkgRXZlbnQgRGlzcGF0Y2hcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBcIlVORk9MTE9XX1NFQ1RJT05cIixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgIGV2ZW50X3NvdXJjZTogXCJNT1pfQlVUVE9OXCIsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaCwgc2VjdGlvblBlcnNvbmFsaXphdGlvbiwgc2VjdGlvbktleSwgc2VjdGlvblBvc2l0aW9uXSk7XG5cbiAgY29uc3QgeyBtYXhUaWxlIH0gPSBnZXRNYXhUaWxlcyhyZXNwb25zaXZlTGF5b3V0cyk7XG4gIGNvbnN0IGRpc3BsYXlTZWN0aW9ucyA9IHNlY3Rpb24uZGF0YS5zbGljZSgwLCBtYXhUaWxlKTtcbiAgY29uc3QgaXNTZWN0aW9uRW1wdHkgPSAhZGlzcGxheVNlY3Rpb25zPy5sZW5ndGg7XG4gIGNvbnN0IHNob3VsZFNob3dMYWJlbHMgPSBzZWN0aW9uS2V5ID09PSBcInRvcF9zdG9yaWVzX3NlY3Rpb25cIiAmJiBzaG93VG9waWNzO1xuXG4gIGlmIChpc1NlY3Rpb25FbXB0eSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3Qgc2VjdGlvbkNvbnRleHRXcmFwcGVyID0gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1jb250ZXh0LXdyYXBwZXJcIj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtmb2xsb3dpbmcgPyBcInNlY3Rpb24tZm9sbG93IGZvbGxvd2luZ1wiIDogXCJzZWN0aW9uLWZvbGxvd1wifVxuICAgICAgPlxuICAgICAgICB7IWFueVNlY3Rpb25zRm9sbG93ZWQgJiZcbiAgICAgICAgICBzZWN0aW9uUG9zaXRpb24gPT09IDEgJiZcbiAgICAgICAgICBzaG91bGRTaG93T01DSGlnaGxpZ2h0KFxuICAgICAgICAgICAgbWVzc2FnZURhdGEsXG4gICAgICAgICAgICBcIkZvbGxvd1NlY3Rpb25CdXR0b25IaWdobGlnaHRcIlxuICAgICAgICAgICkgJiYgKFxuICAgICAgICAgICAgPE1lc3NhZ2VXcmFwcGVyIGRpc3BhdGNoPXtkaXNwYXRjaH0+XG4gICAgICAgICAgICAgIDxGb2xsb3dTZWN0aW9uQnV0dG9uSGlnaGxpZ2h0XG4gICAgICAgICAgICAgICAgdmVydGljYWxQb3NpdGlvbj1cImluc2V0LWJsb2NrLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgcG9zaXRpb249XCJhcnJvdy1pbmxpbmUtc3RhcnRcIlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgICBmZWF0dXJlPVwiRkVBVFVSRV9GT0xMT1dfU0VDVElPTl9CVVRUT05cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9NZXNzYWdlV3JhcHBlcj5cbiAgICAgICAgICApfVxuICAgICAgICB7IWFueVNlY3Rpb25zRm9sbG93ZWQgJiZcbiAgICAgICAgICBzZWN0aW9uUG9zaXRpb24gPT09IDEgJiZcbiAgICAgICAgICBzaG91bGRTaG93T01DSGlnaGxpZ2h0KFxuICAgICAgICAgICAgbWVzc2FnZURhdGEsXG4gICAgICAgICAgICBcIkZvbGxvd1NlY3Rpb25CdXR0b25BbHRIaWdobGlnaHRcIlxuICAgICAgICAgICkgJiYgKFxuICAgICAgICAgICAgPE1lc3NhZ2VXcmFwcGVyIGRpc3BhdGNoPXtkaXNwYXRjaH0+XG4gICAgICAgICAgICAgIDxGb2xsb3dTZWN0aW9uQnV0dG9uSGlnaGxpZ2h0XG4gICAgICAgICAgICAgICAgdmVydGljYWxQb3NpdGlvbj1cImluc2V0LWJsb2NrLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgcG9zaXRpb249XCJhcnJvdy1pbmxpbmUtc3RhcnRcIlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgICBmZWF0dXJlPVwiRkVBVFVSRV9BTFRfRk9MTE9XX1NFQ1RJT05fQlVUVE9OXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvTWVzc2FnZVdyYXBwZXI+XG4gICAgICAgICAgKX1cbiAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtmb2xsb3dpbmcgPyBvblVuZm9sbG93Q2xpY2sgOiBvbkZvbGxvd0NsaWNrfVxuICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICBpbmRleD17c2VjdGlvblBvc2l0aW9ufVxuICAgICAgICAgIHNlY3Rpb249e3NlY3Rpb25LZXl9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tZm9sbG93LXRleHRcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tZm9sbG93LWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tZm9sbG93aW5nLXRleHRcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tZm9sbG93aW5nLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tdW5mb2xsb3ctdGV4dFwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi11bmZvbGxvdy1idXR0b25cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvbW96LWJ1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPFNlY3Rpb25Db250ZXh0TWVudVxuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIGluZGV4PXtzZWN0aW9uUG9zaXRpb259XG4gICAgICAgIGZvbGxvd2luZz17Zm9sbG93aW5nfVxuICAgICAgICBzZWN0aW9uUGVyc29uYWxpemF0aW9uPXtzZWN0aW9uUGVyc29uYWxpemF0aW9ufVxuICAgICAgICBzZWN0aW9uS2V5PXtzZWN0aW9uS2V5fVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIHNlY3Rpb25Qb3NpdGlvbj17c2VjdGlvblBvc2l0aW9ufVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvblxuICAgICAgY2xhc3NOYW1lPVwiZHMtc2VjdGlvblwiXG4gICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgc2VjdGlvblJlZnMuY3VycmVudFswXSA9IGVsO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24taGVhZGluZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24taGVhZGluZy1pbmxpbmUtc3RhcnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGUtd3JhcHBlclwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj57dGl0bGV9PC9oMj5cbiAgICAgICAgICAgIHtzdWJ0aXRsZSAmJiA8cCBjbGFzc05hbWU9XCJzZWN0aW9uLXN1YnRpdGxlXCI+e3N1YnRpdGxlfTwvcD59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3Nob3dXZWF0aGVyICYmIDxXZWF0aGVyIGlzSW5TZWN0aW9uPXt0cnVlfSAvPn1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHttYXlIYXZlU2VjdGlvbnNQZXJzb25hbGl6YXRpb24gPyBzZWN0aW9uQ29udGV4dFdyYXBwZXIgOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGRzLXNlY3Rpb24tZ3JpZCBkcy1jYXJkLWdyaWRgfT5cbiAgICAgICAge3NlY3Rpb24uZGF0YS5zbGljZSgwLCBtYXhUaWxlKS5tYXAoKHJlYywgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBsYXlvdXREYXRhID0gZ2V0TGF5b3V0RGF0YShcbiAgICAgICAgICAgIHJlc3BvbnNpdmVMYXlvdXRzLFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICByZWZpbmVkQ2FyZHNMYXlvdXQsXG4gICAgICAgICAgICBzaG91bGRTaG93VHJlbmRpbmdTZWFyY2ggJiYgc2VjdGlvbktleVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCB7IGNsYXNzTmFtZXMsIGltYWdlU2l6ZXMgfSA9IGxheW91dERhdGE7XG4gICAgICAgICAgaWYgKCFyZWMgfHwgcmVjLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gPFBsYWNlaG9sZGVyRFNDYXJkIGtleT17YGRzY2FyZC0ke2luZGV4fWB9IC8+O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGNhcmQgPSAoXG4gICAgICAgICAgICA8RFNDYXJkXG4gICAgICAgICAgICAgIGtleT17YGRzY2FyZC0ke3JlYy5pZH1gfVxuICAgICAgICAgICAgICBwb3M9e3JlYy5wb3N9XG4gICAgICAgICAgICAgIGZsaWdodElkPXtyZWMuZmxpZ2h0X2lkfVxuICAgICAgICAgICAgICBpbWFnZV9zcmM9e3JlYy5pbWFnZV9zcmN9XG4gICAgICAgICAgICAgIHJhd19pbWFnZV9zcmM9e3JlYy5yYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgICBpY29uX3NyYz17cmVjLmljb25fc3JjfVxuICAgICAgICAgICAgICB3b3JkX2NvdW50PXtyZWMud29yZF9jb3VudH1cbiAgICAgICAgICAgICAgdGltZV90b19yZWFkPXtyZWMudGltZV90b19yZWFkfVxuICAgICAgICAgICAgICB0aXRsZT17cmVjLnRpdGxlfVxuICAgICAgICAgICAgICB0b3BpYz17cmVjLnRvcGljfVxuICAgICAgICAgICAgICBmZWF0dXJlcz17cmVjLmZlYXR1cmVzfVxuICAgICAgICAgICAgICBleGNlcnB0PXtyZWMuZXhjZXJwdH1cbiAgICAgICAgICAgICAgdXJsPXtyZWMudXJsfVxuICAgICAgICAgICAgICBpZD17cmVjLmlkfVxuICAgICAgICAgICAgICBzaGltPXtyZWMuc2hpbX1cbiAgICAgICAgICAgICAgZmV0Y2hUaW1lc3RhbXA9e3JlYy5mZXRjaFRpbWVzdGFtcH1cbiAgICAgICAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgICAgICAgY29udGV4dD17cmVjLmNvbnRleHR9XG4gICAgICAgICAgICAgIHNwb25zb3I9e3JlYy5zcG9uc29yfVxuICAgICAgICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3JlYy5zcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgc291cmNlPXtyZWMuZG9tYWlufVxuICAgICAgICAgICAgICBwdWJsaXNoZXI9e3JlYy5wdWJsaXNoZXJ9XG4gICAgICAgICAgICAgIHBvY2tldF9pZD17cmVjLnBvY2tldF9pZH1cbiAgICAgICAgICAgICAgY29udGV4dF90eXBlPXtyZWMuY29udGV4dF90eXBlfVxuICAgICAgICAgICAgICBib29rbWFya0d1aWQ9e3JlYy5ib29rbWFya0d1aWR9XG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkPXtyZWMucmVjb21tZW5kYXRpb25faWR9XG4gICAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17Zmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgICAgICBjb3JwdXNfaXRlbV9pZD17cmVjLmNvcnB1c19pdGVtX2lkfVxuICAgICAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ9e3JlYy5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWR9XG4gICAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0PXtyZWMucmVjb21tZW5kZWRfYXR9XG4gICAgICAgICAgICAgIHJlY2VpdmVkX3Jhbms9e3JlYy5yZWNlaXZlZF9yYW5rfVxuICAgICAgICAgICAgICBmb3JtYXQ9e3JlYy5mb3JtYXR9XG4gICAgICAgICAgICAgIGFsdF90ZXh0PXtyZWMuYWx0X3RleHR9XG4gICAgICAgICAgICAgIG1heUhhdmVUaHVtYnNVcERvd249e21heUhhdmVDb21iaW5lZFRodW1ic1VwRG93bn1cbiAgICAgICAgICAgICAgbWF5SGF2ZVNlY3Rpb25zQ2FyZHM9e21heUhhdmVTZWN0aW9uc0NhcmRzfVxuICAgICAgICAgICAgICBzaG93VG9waWNzPXtzaG91bGRTaG93TGFiZWxzfVxuICAgICAgICAgICAgICBzZWxlY3RlZFRvcGljcz17c2VsZWN0ZWRUb3BpY3N9XG4gICAgICAgICAgICAgIGF2YWlsYWJsZVRvcGljcz17YXZhaWxhYmxlVG9waWNzfVxuICAgICAgICAgICAgICBjdGFCdXR0b25TcG9uc29ycz17Y3RhQnV0dG9uU3BvbnNvcnN9XG4gICAgICAgICAgICAgIGN0YUJ1dHRvblZhcmlhbnQ9e2N0YUJ1dHRvblZhcmlhbnR9XG4gICAgICAgICAgICAgIHNlY3Rpb25zQ2xhc3NOYW1lcz17Y2xhc3NOYW1lcy5qb2luKFwiIFwiKX1cbiAgICAgICAgICAgICAgc2VjdGlvbnNDYXJkSW1hZ2VTaXplcz17aW1hZ2VTaXplc31cbiAgICAgICAgICAgICAgc2VjdGlvbj17c2VjdGlvbktleX1cbiAgICAgICAgICAgICAgc2VjdGlvblBvc2l0aW9uPXtzZWN0aW9uUG9zaXRpb259XG4gICAgICAgICAgICAgIHNlY3Rpb25Gb2xsb3dlZD17Zm9sbG93aW5nfVxuICAgICAgICAgICAgICBzZWN0aW9uTGF5b3V0TmFtZT17bGF5b3V0TmFtZX1cbiAgICAgICAgICAgICAgaXNUaW1lU2Vuc2l0aXZlPXtyZWMuaXNUaW1lU2Vuc2l0aXZlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBpbmRleCA9PT0gMCAmJlxuICAgICAgICAgICAgc2hvdWxkU2hvd1RyZW5kaW5nU2VhcmNoICYmXG4gICAgICAgICAgICBzZWN0aW9uS2V5ID09PSBcInRvcF9zdG9yaWVzX3NlY3Rpb25cIlxuICAgICAgICAgICAgPyBbY2FyZCwgPFRyZW5kaW5nU2VhcmNoZXMga2V5PVwidHJlbmRpbmdcIiAvPl1cbiAgICAgICAgICAgIDogW2NhcmRdO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQ2FyZFNlY3Rpb25zKHtcbiAgZGF0YSxcbiAgZmVlZCxcbiAgZGlzcGF0Y2gsXG4gIHR5cGUsXG4gIGZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgY3RhQnV0dG9uVmFyaWFudCxcbiAgY3RhQnV0dG9uU3BvbnNvcnMsXG59KSB7XG4gIGNvbnN0IHByZWZzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuUHJlZnMudmFsdWVzKTtcbiAgY29uc3QgeyBzcG9jcywgc2VjdGlvblBlcnNvbmFsaXphdGlvbiB9ID0gdXNlU2VsZWN0b3IoXG4gICAgc3RhdGUgPT4gc3RhdGUuRGlzY292ZXJ5U3RyZWFtXG4gICk7XG4gIGNvbnN0IHsgbWVzc2FnZURhdGEgfSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLk1lc3NhZ2VzKTtcbiAgY29uc3Qgd2VhdGhlclBsYWNlbWVudCA9IHVzZVNlbGVjdG9yKHNlbGVjdFdlYXRoZXJQbGFjZW1lbnQpO1xuICBjb25zdCBkYWlseUJyaWVmU2VjdGlvbklkID1cbiAgICBwcmVmcy50cmFpbmhvcENvbmZpZz8uZGFpbHlCcmllZmluZz8uc2VjdGlvbklkIHx8XG4gICAgcHJlZnNbUFJFRl9EQUlMWV9CUklFRl9TRUNUSU9OSURdO1xuICBjb25zdCB3ZWF0aGVyRW5hYmxlZCA9IHByZWZzLnNob3dXZWF0aGVyO1xuICBjb25zdCBwZXJzb25hbGl6YXRpb25FbmFibGVkID0gcHJlZnNbUFJFRl9TRUNUSU9OU19QRVJTT05BTElaQVRJT05fRU5BQkxFRF07XG4gIGNvbnN0IGludGVyZXN0UGlja2VyRW5hYmxlZCA9IHByZWZzW1BSRUZfSU5URVJFU1RfUElDS0VSX0VOQUJMRURdO1xuXG4gIC8vIEhhbmRsZSBhIHJlbmRlciBiZWZvcmUgZmVlZCBoYXMgYmVlbiBmZXRjaGVkIGJ5IGRpc3BsYXlpbmcgbm90aGluZ1xuICBpZiAoIWRhdGEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHZpc2libGVTZWN0aW9ucyA9IHByZWZUb0FycmF5KHByZWZzW1BSRUZfVklTSUJMRV9TRUNUSU9OU10pO1xuICBjb25zdCB7IGludGVyZXN0UGlja2VyIH0gPSBkYXRhO1xuXG4gIC8vIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBzaG93IEZvbGxvd1NlY3Rpb25CdXR0b25IaWdobGlnaHRcbiAgY29uc3QgYW55U2VjdGlvbnNGb2xsb3dlZCA9XG4gICAgc2VjdGlvblBlcnNvbmFsaXphdGlvbiAmJlxuICAgIE9iamVjdC52YWx1ZXMoc2VjdGlvblBlcnNvbmFsaXphdGlvbikuc29tZShzZWN0aW9uID0+IHNlY3Rpb24/LmlzRm9sbG93ZWQpO1xuXG4gIGxldCBmaWx0ZXJlZFNlY3Rpb25zID0gZGF0YS5zZWN0aW9ucy5maWx0ZXIoXG4gICAgc2VjdGlvbiA9PiAhc2VjdGlvblBlcnNvbmFsaXphdGlvbltzZWN0aW9uLnNlY3Rpb25LZXldPy5pc0Jsb2NrZWRcbiAgKTtcblxuICBpZiAoaW50ZXJlc3RQaWNrZXJFbmFibGVkICYmIHZpc2libGVTZWN0aW9ucy5sZW5ndGgpIHtcbiAgICBmaWx0ZXJlZFNlY3Rpb25zID0gdmlzaWJsZVNlY3Rpb25zLnJlZHVjZSgoYWNjLCB2aXNpYmxlU2VjdGlvbikgPT4ge1xuICAgICAgY29uc3QgZm91bmQgPSBmaWx0ZXJlZFNlY3Rpb25zLmZpbmQoXG4gICAgICAgICh7IHNlY3Rpb25LZXkgfSkgPT4gc2VjdGlvbktleSA9PT0gdmlzaWJsZVNlY3Rpb25cbiAgICAgICk7XG4gICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgYWNjLnB1c2goZm91bmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSk7XG4gIH1cblxuICBsZXQgc2VjdGlvbnNUb1JlbmRlciA9IGZpbHRlcmVkU2VjdGlvbnMubWFwKChzZWN0aW9uLCBzZWN0aW9uUG9zaXRpb24pID0+IChcbiAgICA8Q2FyZFNlY3Rpb25cbiAgICAgIGtleT17YHNlY3Rpb24tJHtzZWN0aW9uLnNlY3Rpb25LZXl9YH1cbiAgICAgIHNlY3Rpb25Qb3NpdGlvbj17c2VjdGlvblBvc2l0aW9ufVxuICAgICAgc2VjdGlvbj17c2VjdGlvbn1cbiAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgIHR5cGU9e3R5cGV9XG4gICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA9e2ZpcnN0VmlzaWJsZVRpbWVzdGFtcH1cbiAgICAgIGN0YUJ1dHRvblZhcmlhbnQ9e2N0YUJ1dHRvblZhcmlhbnR9XG4gICAgICBjdGFCdXR0b25TcG9uc29ycz17Y3RhQnV0dG9uU3BvbnNvcnN9XG4gICAgICBhbnlTZWN0aW9uc0ZvbGxvd2VkPXthbnlTZWN0aW9uc0ZvbGxvd2VkfVxuICAgICAgc2hvd1dlYXRoZXI9e1xuICAgICAgICB3ZWF0aGVyRW5hYmxlZCAmJlxuICAgICAgICB3ZWF0aGVyUGxhY2VtZW50ID09PSBcInNlY3Rpb25cIiAmJlxuICAgICAgICBzZWN0aW9uUG9zaXRpb24gPT09IDAgJiZcbiAgICAgICAgc2VjdGlvbi5zZWN0aW9uS2V5ID09PSBkYWlseUJyaWVmU2VjdGlvbklkXG4gICAgICB9XG4gICAgLz5cbiAgKSk7XG5cbiAgLy8gQWRkIGEgYmlsbGJvYXJkL2xlYWRlcmJvYXJkIElBQiBhZCB0byB0aGUgc2VjdGlvbnNUb1JlbmRlciBhcnJheSAoaWYgZW5hYmxlZC9wb3NzaWJsZSkuXG4gIGNvbnN0IGJpbGxib2FyZEVuYWJsZWQgPSBwcmVmc1tQUkVGX0JJTExCT0FSRF9FTkFCTEVEXTtcbiAgY29uc3QgbGVhZGVyYm9hcmRFbmFibGVkID0gcHJlZnNbUFJFRl9MRUFERVJCT0FSRF9FTkFCTEVEXTtcblxuICBpZiAoXG4gICAgKGJpbGxib2FyZEVuYWJsZWQgfHwgbGVhZGVyYm9hcmRFbmFibGVkKSAmJlxuICAgIHNwb2NzPy5kYXRhPy5uZXd0YWJfc3BvY3M/Lml0ZW1zXG4gICkge1xuICAgIGNvbnN0IHNwb2NUb1JlbmRlciA9XG4gICAgICBzcG9jcy5kYXRhLm5ld3RhYl9zcG9jcy5pdGVtcy5maW5kKFxuICAgICAgICAoeyBmb3JtYXQgfSkgPT4gZm9ybWF0ID09PSBcImxlYWRlcmJvYXJkXCIgJiYgbGVhZGVyYm9hcmRFbmFibGVkXG4gICAgICApIHx8XG4gICAgICBzcG9jcy5kYXRhLm5ld3RhYl9zcG9jcy5pdGVtcy5maW5kKFxuICAgICAgICAoeyBmb3JtYXQgfSkgPT4gZm9ybWF0ID09PSBcImJpbGxib2FyZFwiICYmIGJpbGxib2FyZEVuYWJsZWRcbiAgICAgICk7XG5cbiAgICBpZiAoc3BvY1RvUmVuZGVyICYmICFzcG9jcy5ibG9ja2VkLmluY2x1ZGVzKHNwb2NUb1JlbmRlci51cmwpKSB7XG4gICAgICBjb25zdCByb3cgPVxuICAgICAgICBzcG9jVG9SZW5kZXIuZm9ybWF0ID09PSBcImxlYWRlcmJvYXJkXCJcbiAgICAgICAgICA/IHByZWZzW1BSRUZfTEVBREVSQk9BUkRfUE9TSVRJT05dXG4gICAgICAgICAgOiBwcmVmc1tQUkVGX0JJTExCT0FSRF9QT1NJVElPTl07XG5cbiAgICAgIHNlY3Rpb25zVG9SZW5kZXIuc3BsaWNlKFxuICAgICAgICAvLyBNYXRoLm1pbiBpcyB1c2VkIGhlcmUgdG8gZW5zdXJlIHRoZSBnaXZlbiByb3cgc3RheXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIHNlY3Rpb25zVG9SZW5kZXIgYXJyYXkuXG4gICAgICAgIE1hdGgubWluKHNlY3Rpb25zVG9SZW5kZXIubGVuZ3RoIC0gMSwgcm93KSxcbiAgICAgICAgMCxcbiAgICAgICAgPEFkQmFubmVyXG4gICAgICAgICAgc3BvYz17c3BvY1RvUmVuZGVyfVxuICAgICAgICAgIGtleT17YGRzY2FyZC0ke3Nwb2NUb1JlbmRlci5pZH1gfVxuICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17Zmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgIHJvdz17cm93fVxuICAgICAgICAgIHByZWZzPXtwcmVmc31cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIHRoZSBpbnRlcmVzdCBwaWNrZXIgdG8gdGhlIHNlY3Rpb25zVG9SZW5kZXIgYXJyYXkgKGlmIGVuYWJsZWQvcG9zc2libGUpLlxuICBpZiAoXG4gICAgaW50ZXJlc3RQaWNrZXJFbmFibGVkICYmXG4gICAgcGVyc29uYWxpemF0aW9uRW5hYmxlZCAmJlxuICAgIGludGVyZXN0UGlja2VyPy5zZWN0aW9uc1xuICApIHtcbiAgICBjb25zdCBpbmRleCA9IGludGVyZXN0UGlja2VyLnJlY2VpdmVkRmVlZFJhbmsgLSAxO1xuXG4gICAgc2VjdGlvbnNUb1JlbmRlci5zcGxpY2UoXG4gICAgICAvLyBNYXRoLm1pbiBpcyB1c2VkIGhlcmUgdG8gZW5zdXJlIHRoZSBnaXZlbiByb3cgc3RheXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIHNlY3Rpb25zVG9SZW5kZXIgYXJyYXkuXG4gICAgICBNYXRoLm1pbihzZWN0aW9uc1RvUmVuZGVyLmxlbmd0aCAtIDEsIGluZGV4KSxcbiAgICAgIDAsXG4gICAgICA8SW50ZXJlc3RQaWNrZXJcbiAgICAgICAgdGl0bGU9e2ludGVyZXN0UGlja2VyLnRpdGxlfVxuICAgICAgICBzdWJ0aXRsZT17aW50ZXJlc3RQaWNrZXIuc3VidGl0bGV9XG4gICAgICAgIGludGVyZXN0cz17aW50ZXJlc3RQaWNrZXIuc2VjdGlvbnMgfHwgW119XG4gICAgICAgIHJlY2VpdmVkRmVlZFJhbms9e2ludGVyZXN0UGlja2VyLnJlY2VpdmVkRmVlZFJhbmt9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNwbGF5UDEzbkNhcmQoKSB7XG4gICAgaWYgKG1lc3NhZ2VEYXRhICYmIE9iamVjdC5rZXlzKG1lc3NhZ2VEYXRhKS5sZW5ndGggPj0gMSkge1xuICAgICAgaWYgKFxuICAgICAgICBzaG91bGRTaG93T01DSGlnaGxpZ2h0KG1lc3NhZ2VEYXRhLCBcIlBlcnNvbmFsaXplZENhcmRcIikgJiZcbiAgICAgICAgcHJlZnNbUFJFRl9JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fVVNFUl1cbiAgICAgICkge1xuICAgICAgICBjb25zdCByb3cgPSBtZXNzYWdlRGF0YS5jb250ZW50LnBvc2l0aW9uO1xuICAgICAgICBzZWN0aW9uc1RvUmVuZGVyLnNwbGljZShcbiAgICAgICAgICByb3csXG4gICAgICAgICAgMCxcbiAgICAgICAgICA8TWVzc2FnZVdyYXBwZXIgZGlzcGF0Y2g9e2Rpc3BhdGNofSBvbkRpc21pc3M9eygpID0+IHt9fT5cbiAgICAgICAgICAgIDxQZXJzb25hbGl6ZWRDYXJkXG4gICAgICAgICAgICAgIHBvc2l0aW9uPXtyb3d9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgbWVzc2FnZURhdGE9e21lc3NhZ2VEYXRhfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L01lc3NhZ2VXcmFwcGVyPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRpc3BsYXlQMTNuQ2FyZCgpO1xuXG4gIGNvbnN0IGlzRW1wdHkgPSBzZWN0aW9uc1RvUmVuZGVyLmxlbmd0aCA9PT0gMDtcblxuICByZXR1cm4gaXNFbXB0eSA/IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNhcmQtZ3JpZCBlbXB0eVwiPlxuICAgICAgPERTRW1wdHlTdGF0ZSBzdGF0dXM9e2RhdGEuc3RhdHVzfSBkaXNwYXRjaD17ZGlzcGF0Y2h9IGZlZWQ9e2ZlZWR9IC8+XG4gICAgPC9kaXY+XG4gICkgOiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJkcy1zZWN0aW9uLXdyYXBwZXJcIj57c2VjdGlvbnNUb1JlbmRlcn08L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgQ2FyZFNlY3Rpb25zIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7XG4gIHVzZVJlZixcbiAgdXNlU3RhdGUsXG4gIHVzZUVmZmVjdCxcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZU1lbW8sXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIGJhdGNoIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciwgdXNlQ29uZmV0dGkgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCI7XG5cbmNvbnN0IFRBU0tfVFlQRSA9IHtcbiAgSU5fUFJPR1JFU1M6IFwidGFza3NcIixcbiAgQ09NUExFVEVEOiBcImNvbXBsZXRlZFwiLFxufTtcblxuY29uc3QgVVNFUl9BQ1RJT05fVFlQRVMgPSB7XG4gIExJU1RfQ09QWTogXCJsaXN0X2NvcHlcIixcbiAgTElTVF9DUkVBVEU6IFwibGlzdF9jcmVhdGVcIixcbiAgTElTVF9FRElUOiBcImxpc3RfZWRpdFwiLFxuICBMSVNUX0RFTEVURTogXCJsaXN0X2RlbGV0ZVwiLFxuICBUQVNLX0NSRUFURTogXCJ0YXNrX2NyZWF0ZVwiLFxuICBUQVNLX0VESVQ6IFwidGFza19lZGl0XCIsXG4gIFRBU0tfREVMRVRFOiBcInRhc2tfZGVsZXRlXCIsXG4gIFRBU0tfQ09NUExFVEU6IFwidGFza19jb21wbGV0ZVwiLFxufTtcblxuY29uc3QgUFJFRl9XSURHRVRTX0xJU1RTX01BWF9MSVNUUyA9IFwid2lkZ2V0cy5saXN0cy5tYXhMaXN0c1wiO1xuY29uc3QgUFJFRl9XSURHRVRTX0xJU1RTX01BWF9MSVNUSVRFTVMgPSBcIndpZGdldHMubGlzdHMubWF4TGlzdEl0ZW1zXCI7XG5jb25zdCBQUkVGX1dJREdFVFNfTElTVFNfQkFER0VfRU5BQkxFRCA9IFwid2lkZ2V0cy5saXN0cy5iYWRnZS5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1dJREdFVFNfTElTVFNfQkFER0VfTEFCRUwgPSBcIndpZGdldHMubGlzdHMuYmFkZ2UubGFiZWxcIjtcblxuZnVuY3Rpb24gTGlzdHMoeyBkaXNwYXRjaCwgaGFuZGxlVXNlckludGVyYWN0aW9uIH0pIHtcbiAgY29uc3QgcHJlZnMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5QcmVmcy52YWx1ZXMpO1xuICBjb25zdCB7IHNlbGVjdGVkLCBsaXN0cyB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuTGlzdHNXaWRnZXQpO1xuICBjb25zdCBbbmV3VGFzaywgc2V0TmV3VGFza10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzRWRpdGluZywgc2V0SXNFZGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3BlbmRpbmdOZXdMaXN0LCBzZXRQZW5kaW5nTmV3TGlzdF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3Qgc2VsZWN0ZWRMaXN0ID0gdXNlTWVtbygoKSA9PiBsaXN0c1tzZWxlY3RlZF0sIFtsaXN0cywgc2VsZWN0ZWRdKTtcblxuICBjb25zdCBwcmV2Q29tcGxldGVkQ291bnQgPSB1c2VSZWYoc2VsZWN0ZWRMaXN0Py5jb21wbGV0ZWQ/Lmxlbmd0aCB8fCAwKTtcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHNlbGVjdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcmVvcmRlckxpc3RSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtjYW52YXNSZWYsIGZpcmVDb25mZXR0aV0gPSB1c2VDb25mZXR0aSgpO1xuXG4gIGNvbnN0IGhhbmRsZUxpc3RJbnRlcmFjdGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgICgpID0+IGhhbmRsZVVzZXJJbnRlcmFjdGlvbihcImxpc3RzXCIpLFxuICAgIFtoYW5kbGVVc2VySW50ZXJhY3Rpb25dXG4gICk7XG5cbiAgLy8gc3RvcmUgc2VsZWN0ZWRMaXN0IHdpdGggdXNlTWVtbyBzbyBpdCBpc250IHJlLWNhbGN1bGF0ZWQgb24gZXZlcnkgcmUtcmVuZGVyXG4gIGNvbnN0IGlzVmFsaWRVcmwgPSB1c2VDYWxsYmFjayhzdHIgPT4gVVJMLmNhblBhcnNlKHN0ciksIFtdKTtcblxuICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VU0VSX0lNUFJFU1NJT04sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuXG4gIGNvbnN0IGxpc3RzUmVmID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uKTtcblxuICBjb25zdCByZW9yZGVyTGlzdHMgPSB1c2VDYWxsYmFjayhcbiAgICAoZHJhZ2dlZEVsZW1lbnQsIHRhcmdldEVsZW1lbnQsIGJlZm9yZSA9IGZhbHNlKSA9PiB7XG4gICAgICBjb25zdCBkcmFnZ2VkSW5kZXggPSBzZWxlY3RlZExpc3QudGFza3MuZmluZEluZGV4KFxuICAgICAgICAoeyBpZCB9KSA9PiBpZCA9PT0gZHJhZ2dlZEVsZW1lbnQuaWRcbiAgICAgICk7XG4gICAgICBjb25zdCB0YXJnZXRJbmRleCA9IHNlbGVjdGVkTGlzdC50YXNrcy5maW5kSW5kZXgoXG4gICAgICAgICh7IGlkIH0pID0+IGlkID09PSB0YXJnZXRFbGVtZW50LmlkXG4gICAgICApO1xuXG4gICAgICAvLyByZXR1cm4gZWFybHkgaXMgaW5kZXggaXMgbm90IGZvdW5kXG4gICAgICBpZiAoXG4gICAgICAgIGRyYWdnZWRJbmRleCA9PT0gLTEgfHxcbiAgICAgICAgdGFyZ2V0SW5kZXggPT09IC0xIHx8XG4gICAgICAgIGRyYWdnZWRJbmRleCA9PT0gdGFyZ2V0SW5kZXhcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlb3JkZXJlZCA9IFsuLi5zZWxlY3RlZExpc3QudGFza3NdO1xuICAgICAgY29uc3QgW3JlbW92ZWRdID0gcmVvcmRlcmVkLnNwbGljZShkcmFnZ2VkSW5kZXgsIDEpO1xuICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBiZWZvcmUgPyB0YXJnZXRJbmRleCA6IHRhcmdldEluZGV4ICsgMTtcblxuICAgICAgcmVvcmRlcmVkLnNwbGljZShcbiAgICAgICAgaW5zZXJ0SW5kZXggPiBkcmFnZ2VkSW5kZXggPyBpbnNlcnRJbmRleCAtIDEgOiBpbnNlcnRJbmRleCxcbiAgICAgICAgMCxcbiAgICAgICAgcmVtb3ZlZFxuICAgICAgKTtcblxuICAgICAgY29uc3QgdXBkYXRlZExpc3RzID0ge1xuICAgICAgICAuLi5saXN0cyxcbiAgICAgICAgW3NlbGVjdGVkXToge1xuICAgICAgICAgIC4uLnNlbGVjdGVkTGlzdCxcbiAgICAgICAgICB0YXNrczogcmVvcmRlcmVkLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVBEQVRFLFxuICAgICAgICAgIGRhdGE6IHsgbGlzdHM6IHVwZGF0ZWRMaXN0cyB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICAgIH0sXG4gICAgW2xpc3RzLCBzZWxlY3RlZCwgc2VsZWN0ZWRMaXN0LCBkaXNwYXRjaCwgaGFuZGxlTGlzdEludGVyYWN0aW9uXVxuICApO1xuXG4gIGNvbnN0IG1vdmVUYXNrID0gdXNlQ2FsbGJhY2soXG4gICAgKHRhc2ssIGRpcmVjdGlvbikgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBzZWxlY3RlZExpc3QudGFza3MuZmluZEluZGV4KCh7IGlkIH0pID0+IGlkID09PSB0YXNrLmlkKTtcblxuICAgICAgLy8gZ3VhcmRyYWlsIGEgZmFsc2V5IGluZGV4XG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBkaXJlY3Rpb24gPT09IFwidXBcIiA/IGluZGV4IC0gMSA6IGluZGV4ICsgMTtcbiAgICAgIGNvbnN0IGJlZm9yZSA9IGRpcmVjdGlvbiA9PT0gXCJ1cFwiO1xuICAgICAgY29uc3QgdGFyZ2V0VGFzayA9IHNlbGVjdGVkTGlzdC50YXNrc1t0YXJnZXRJbmRleF07XG5cbiAgICAgIGlmICh0YXJnZXRUYXNrKSB7XG4gICAgICAgIHJlb3JkZXJMaXN0cyh0YXNrLCB0YXJnZXRUYXNrLCBiZWZvcmUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3NlbGVjdGVkTGlzdCwgcmVvcmRlckxpc3RzXVxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0Tm9kZSA9IHNlbGVjdFJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHJlb3JkZXJOb2RlID0gcmVvcmRlckxpc3RSZWYuY3VycmVudDtcblxuICAgIGlmICghc2VsZWN0Tm9kZSB8fCAhcmVvcmRlck5vZGUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU2VsZWN0Q2hhbmdlKGUpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX0NIQU5HRV9TRUxFQ1RFRCxcbiAgICAgICAgICBkYXRhOiBlLnRhcmdldC52YWx1ZSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVSZW9yZGVyKGUpIHtcbiAgICAgIGNvbnN0IHsgZHJhZ2dlZEVsZW1lbnQsIHRhcmdldEVsZW1lbnQsIHBvc2l0aW9uIH0gPSBlLmRldGFpbDtcbiAgICAgIHJlb3JkZXJMaXN0cyhkcmFnZ2VkRWxlbWVudCwgdGFyZ2V0RWxlbWVudCwgcG9zaXRpb24gPT09IC0xKTtcbiAgICB9XG5cbiAgICByZW9yZGVyTm9kZS5hZGRFdmVudExpc3RlbmVyKFwicmVvcmRlclwiLCBoYW5kbGVSZW9yZGVyKTtcbiAgICBzZWxlY3ROb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlU2VsZWN0Q2hhbmdlKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzZWxlY3ROb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlU2VsZWN0Q2hhbmdlKTtcbiAgICAgIHJlb3JkZXJOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZW9yZGVyXCIsIGhhbmRsZVJlb3JkZXIpO1xuICAgIH07XG4gIH0sIFtkaXNwYXRjaCwgaXNFZGl0aW5nLCByZW9yZGVyTGlzdHMsIGhhbmRsZUxpc3RJbnRlcmFjdGlvbl0pO1xuXG4gIC8vIGVmZmVjdCB0aGF0IGVuYWJsZXMgZWRpdGluZyBuZXcgbGlzdCBuYW1lIG9ubHkgYWZ0ZXIgc3RvcmUgaGFzIGJlZW4gaHlkcmF0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWQgPT09IHBlbmRpbmdOZXdMaXN0KSB7XG4gICAgICBzZXRJc0VkaXRpbmcodHJ1ZSk7XG4gICAgICBzZXRQZW5kaW5nTmV3TGlzdChudWxsKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZCwgcGVuZGluZ05ld0xpc3RdKTtcblxuICBmdW5jdGlvbiBzYXZlVGFzaygpIHtcbiAgICBjb25zdCB0cmltbWVkVGFzayA9IG5ld1Rhc2sudHJpbUVuZCgpO1xuICAgIC8vIG9ubHkgYWRkIG5ldyB0YXNrIGlmIGl0IGhhcyBhIGxlbmd0aCwgdG8gYXZvaWQgY3JlYXRpbmcgZW1wdHkgdGFza3NcbiAgICBpZiAodHJpbW1lZFRhc2spIHtcbiAgICAgIGNvbnN0IGZvcm1hdHRlZFRhc2sgPSB7XG4gICAgICAgIHZhbHVlOiB0cmltbWVkVGFzayxcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgY3JlYXRlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgIGlzVXJsOiBpc1ZhbGlkVXJsKHRyaW1tZWRUYXNrKSxcbiAgICAgIH07XG4gICAgICBjb25zdCB1cGRhdGVkTGlzdHMgPSB7XG4gICAgICAgIC4uLmxpc3RzLFxuICAgICAgICBbc2VsZWN0ZWRdOiB7XG4gICAgICAgICAgLi4uc2VsZWN0ZWRMaXN0LFxuICAgICAgICAgIHRhc2tzOiBbZm9ybWF0dGVkVGFzaywgLi4ubGlzdHNbc2VsZWN0ZWRdLnRhc2tzXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VUERBVEUsXG4gICAgICAgICAgICBkYXRhOiB7IGxpc3RzOiB1cGRhdGVkTGlzdHMgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVNFUl9FVkVOVCxcbiAgICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuVEFTS19DUkVBVEUgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBzZXROZXdUYXNrKFwiXCIpO1xuICAgICAgaGFuZGxlTGlzdEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVGFzayh1cGRhdGVkVGFzaywgdHlwZSkge1xuICAgIGNvbnN0IGlzQ29tcGxldGVkVHlwZSA9IHR5cGUgPT09IFRBU0tfVFlQRS5DT01QTEVURUQ7XG4gICAgY29uc3QgaXNOb3dDb21wbGV0ZWQgPSB1cGRhdGVkVGFzay5jb21wbGV0ZWQ7XG5cbiAgICBsZXQgbmV3VGFza3MgPSBzZWxlY3RlZExpc3QudGFza3M7XG4gICAgbGV0IG5ld0NvbXBsZXRlZCA9IHNlbGVjdGVkTGlzdC5jb21wbGV0ZWQ7XG4gICAgbGV0IHVzZXJBY3Rpb247XG5cbiAgICAvLyBJZiB0aGUgdGFzayBpcyBpbiB0aGUgY29tcGxldGVkIGFycmF5IGFuZCBpcyBub3cgdW5jaGVja2VkXG4gICAgY29uc3Qgc2hvdWxkTW92ZVRvVGFza3MgPSBpc0NvbXBsZXRlZFR5cGUgJiYgIWlzTm93Q29tcGxldGVkO1xuXG4gICAgLy8gSWYgd2UncmUgbW92aW5nIHRoZSB0YXNrIGZyb20gdGFza3Mg4oaSIGNvbXBsZXRlZCAodXNlciBjaGVja2VkIGl0KVxuICAgIGNvbnN0IHNob3VsZE1vdmVUb0NvbXBsZXRlZCA9ICFpc0NvbXBsZXRlZFR5cGUgJiYgaXNOb3dDb21wbGV0ZWQ7XG5cbiAgICAvLyAgTW92ZSB0YXNrIGZyb20gY29tcGxldGVkIC0+IHRhc2tcbiAgICBpZiAoc2hvdWxkTW92ZVRvVGFza3MpIHtcbiAgICAgIG5ld0NvbXBsZXRlZCA9IHNlbGVjdGVkTGlzdC5jb21wbGV0ZWQuZmlsdGVyKFxuICAgICAgICB0YXNrID0+IHRhc2suaWQgIT09IHVwZGF0ZWRUYXNrLmlkXG4gICAgICApO1xuICAgICAgbmV3VGFza3MgPSBbLi4uc2VsZWN0ZWRMaXN0LnRhc2tzLCB1cGRhdGVkVGFza107XG4gICAgICAvLyBNb3ZlIHRhc2sgdG8gY29tcGxldGVkLCBidXQgYWxzbyBjcmVhdGUgbG9jYWwgdmVyc2lvblxuICAgIH0gZWxzZSBpZiAoc2hvdWxkTW92ZVRvQ29tcGxldGVkKSB7XG4gICAgICBuZXdUYXNrcyA9IHNlbGVjdGVkTGlzdC50YXNrcy5maWx0ZXIodGFzayA9PiB0YXNrLmlkICE9PSB1cGRhdGVkVGFzay5pZCk7XG4gICAgICBuZXdDb21wbGV0ZWQgPSBbLi4uc2VsZWN0ZWRMaXN0LmNvbXBsZXRlZCwgdXBkYXRlZFRhc2tdO1xuXG4gICAgICB1c2VyQWN0aW9uID0gVVNFUl9BQ1RJT05fVFlQRVMuVEFTS19DT01QTEVURTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0S2V5ID0gaXNDb21wbGV0ZWRUeXBlID8gXCJjb21wbGV0ZWRcIiA6IFwidGFza3NcIjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRBcnJheSA9IHNlbGVjdGVkTGlzdFt0YXJnZXRLZXldLm1hcCh0YXNrID0+XG4gICAgICAgIHRhc2suaWQgPT09IHVwZGF0ZWRUYXNrLmlkID8gdXBkYXRlZFRhc2sgOiB0YXNrXG4gICAgICApO1xuICAgICAgLy8gSW4tcGxhY2UgdXBkYXRlOiB0b2dnbGUgY2hlY2tib3ggKGJ1dCBzdGF5IGluIHNhbWUgYXJyYXkgb3IgZWRpdCBuYW1lKVxuICAgICAgaWYgKHRhcmdldEtleSA9PT0gXCJ0YXNrc1wiKSB7XG4gICAgICAgIG5ld1Rhc2tzID0gdXBkYXRlZEFycmF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3Q29tcGxldGVkID0gdXBkYXRlZEFycmF5O1xuICAgICAgfVxuICAgICAgdXNlckFjdGlvbiA9IFVTRVJfQUNUSU9OX1RZUEVTLlRBU0tfRURJVDtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVkTGlzdHMgPSB7XG4gICAgICAuLi5saXN0cyxcbiAgICAgIFtzZWxlY3RlZF06IHtcbiAgICAgICAgLi4uc2VsZWN0ZWRMaXN0LFxuICAgICAgICB0YXNrczogbmV3VGFza3MsXG4gICAgICAgIGNvbXBsZXRlZDogbmV3Q29tcGxldGVkLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYmF0Y2goKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVBEQVRFLFxuICAgICAgICAgIGRhdGE6IHsgbGlzdHM6IHVwZGF0ZWRMaXN0cyB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGlmICh1c2VyQWN0aW9uKSB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VU0VSX0VWRU5ULFxuICAgICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVRhc2sodGFzaywgdHlwZSkge1xuICAgIGNvbnN0IHNlbGVjdGVkVGFza3MgPSBsaXN0c1tzZWxlY3RlZF1bdHlwZV07XG4gICAgY29uc3QgdXBkYXRlZFRhc2tzID0gc2VsZWN0ZWRUYXNrcy5maWx0ZXIoKHsgaWQgfSkgPT4gaWQgIT09IHRhc2suaWQpO1xuXG4gICAgY29uc3QgdXBkYXRlZExpc3RzID0ge1xuICAgICAgLi4ubGlzdHMsXG4gICAgICBbc2VsZWN0ZWRdOiB7XG4gICAgICAgIC4uLnNlbGVjdGVkTGlzdCxcbiAgICAgICAgW3R5cGVdOiB1cGRhdGVkVGFza3MsXG4gICAgICB9LFxuICAgIH07XG4gICAgYmF0Y2goKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVBEQVRFLFxuICAgICAgICAgIGRhdGE6IHsgbGlzdHM6IHVwZGF0ZWRMaXN0cyB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX1VTRVJfRVZFTlQsXG4gICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5UQVNLX0RFTEVURSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGlucHV0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHNhdmVUYXNrKCk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGUua2V5ID09PSBcIkVzY2FwZVwiICYmXG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBpbnB1dFJlZi5jdXJyZW50XG4gICAgKSB7XG4gICAgICAvLyBDbGVhciBvdXQgdGhlIGlucHV0IHdoZW4gZXNjIGlzIHByZXNzZWRcbiAgICAgIHNldE5ld1Rhc2soXCJcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTGlzdE5hbWVTYXZlKG5ld0xhYmVsKSB7XG4gICAgY29uc3QgdHJpbW1lZExhYmVsID0gbmV3TGFiZWwudHJpbUVuZCgpO1xuICAgIGlmICh0cmltbWVkTGFiZWwgJiYgdHJpbW1lZExhYmVsICE9PSBzZWxlY3RlZExpc3Q/LmxhYmVsKSB7XG4gICAgICBjb25zdCB1cGRhdGVkTGlzdHMgPSB7XG4gICAgICAgIC4uLmxpc3RzLFxuICAgICAgICBbc2VsZWN0ZWRdOiB7XG4gICAgICAgICAgLi4uc2VsZWN0ZWRMaXN0LFxuICAgICAgICAgIGxhYmVsOiB0cmltbWVkTGFiZWwsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVBEQVRFLFxuICAgICAgICAgICAgZGF0YTogeyBsaXN0czogdXBkYXRlZExpc3RzIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLkxJU1RfRURJVCB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDcmVhdGVOZXdMaXN0KCkge1xuICAgIGNvbnN0IGlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICBjb25zdCBuZXdMaXN0cyA9IHtcbiAgICAgIC4uLmxpc3RzLFxuICAgICAgW2lkXToge1xuICAgICAgICBsYWJlbDogXCJcIixcbiAgICAgICAgdGFza3M6IFtdLFxuICAgICAgICBjb21wbGV0ZWQ6IFtdLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgYmF0Y2goKCkgPT4ge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVBEQVRFLFxuICAgICAgICAgIGRhdGE6IHsgbGlzdHM6IG5ld0xpc3RzIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfQ0hBTkdFX1NFTEVDVEVELFxuICAgICAgICAgIGRhdGE6IGlkLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX1VTRVJfRVZFTlQsXG4gICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5MSVNUX0NSRUFURSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBzZXRQZW5kaW5nTmV3TGlzdChpZCk7XG4gICAgaGFuZGxlTGlzdEludGVyYWN0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDYW5jZWxOZXdMaXN0KCkge1xuICAgIC8vIElmIGN1cnJlbnQgbGlzdCBpcyBuZXcgYW5kIGhhcyBubyBsYWJlbC90YXNrcywgcmVtb3ZlIGl0XG4gICAgaWYgKCFzZWxlY3RlZExpc3Q/LmxhYmVsICYmIHNlbGVjdGVkTGlzdD8udGFza3M/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgdXBkYXRlZExpc3RzID0geyAuLi5saXN0cyB9O1xuICAgICAgZGVsZXRlIHVwZGF0ZWRMaXN0c1tzZWxlY3RlZF07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRGVsZXRlTGlzdCgpIHtcbiAgICBsZXQgdXBkYXRlZExpc3RzID0geyAuLi5saXN0cyB9O1xuICAgIGlmICh1cGRhdGVkTGlzdHNbc2VsZWN0ZWRdKSB7XG4gICAgICBkZWxldGUgdXBkYXRlZExpc3RzW3NlbGVjdGVkXTtcblxuICAgICAgLy8gaWYgdGhpcyBsaXN0IHdhcyB0aGUgbGFzdCBvbmUgY3JlYXRlZCwgYWRkIGEgbmV3IGxpc3QgYXMgZGVmYXVsdFxuICAgICAgaWYgKE9iamVjdC5rZXlzKHVwZGF0ZWRMaXN0cyk/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB1cGRhdGVkTGlzdHMgPSB7XG4gICAgICAgICAgW2NyeXB0by5yYW5kb21VVUlEKCldOiB7XG4gICAgICAgICAgICBsYWJlbDogXCJcIixcbiAgICAgICAgICAgIHRhc2tzOiBbXSxcbiAgICAgICAgICAgIGNvbXBsZXRlZDogW10sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxpc3RLZXlzID0gT2JqZWN0LmtleXModXBkYXRlZExpc3RzKTtcbiAgICAgIGNvbnN0IGtleSA9IGxpc3RLZXlzW2xpc3RLZXlzLmxlbmd0aCAtIDFdO1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVBEQVRFLFxuICAgICAgICAgICAgZGF0YTogeyBsaXN0czogdXBkYXRlZExpc3RzIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX0NIQU5HRV9TRUxFQ1RFRCxcbiAgICAgICAgICAgIGRhdGE6IGtleSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVNFUl9FVkVOVCxcbiAgICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuTElTVF9ERUxFVEUgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSGlkZUxpc3RzKCkge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlNFVF9QUkVGLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbmFtZTogXCJ3aWRnZXRzLmxpc3RzLmVuYWJsZWRcIixcbiAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gICAgaGFuZGxlTGlzdEludGVyYWN0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDb3B5TGlzdFRvQ2xpcGJvYXJkKCkge1xuICAgIGNvbnN0IGN1cnJlbnRMaXN0ID0gbGlzdHNbc2VsZWN0ZWRdO1xuXG4gICAgaWYgKCFjdXJyZW50TGlzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbGFiZWwsIHRhc2tzID0gW10sIGNvbXBsZXRlZCA9IFtdIH0gPSBjdXJyZW50TGlzdDtcblxuICAgIGNvbnN0IHVuY29tcGxldGVkID0gdGFza3MuZmlsdGVyKHRhc2sgPT4gIXRhc2suY29tcGxldGVkKTtcbiAgICBjb25zdCBjdXJyZW50Q29tcGxldGVkID0gdGFza3MuZmlsdGVyKHRhc2sgPT4gdGFzay5jb21wbGV0ZWQpO1xuXG4gICAgLy8gSW4gb3JkZXIgaW4gaW5jbHVkZSBhbGwgaXRlbXMsIHdlIG5lZWQgdG8gaXRlcmF0ZSB0aHJvdWdoIGJvdGggY3VycmVudCBhbmQgY29tcGxldGVkIHRhc2tzIGxpc3QgYW5kIG1hcmsgZm9ybWF0IGFsbCBjb21wbGV0ZWQgdGFza3MgYWNjb3JkaW5nbHkuXG4gICAgY29uc3QgZm9ybWF0dGVkID0gW1xuICAgICAgYExpc3Q6ICR7bGFiZWx9YCxcbiAgICAgIGAtLS1gLFxuICAgICAgLi4udW5jb21wbGV0ZWQubWFwKHRhc2sgPT4gYC0gWyBdICR7dGFzay52YWx1ZX1gKSxcbiAgICAgIC4uLmN1cnJlbnRDb21wbGV0ZWQubWFwKHRhc2sgPT4gYC0gW3hdICR7dGFzay52YWx1ZX1gKSxcbiAgICAgIC4uLmNvbXBsZXRlZC5tYXAodGFzayA9PiBgLSBbeF0gJHt0YXNrLnZhbHVlfWApLFxuICAgIF0uam9pbihcIlxcblwiKTtcblxuICAgIHRyeSB7XG4gICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChmb3JtYXR0ZWQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNvcHkgZmFpbGVkXCIsIGVycik7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VU0VSX0VWRU5ULFxuICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLkxJU1RfQ09QWSB9LFxuICAgICAgfSlcbiAgICApO1xuICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTGVhcm5Nb3JlKCkge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVybDogXCJodHRwczovL3N1cHBvcnQubW96aWxsYS5vcmcva2IvZmlyZWZveC1uZXctdGFiLXdpZGdldHNcIixcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIC8vIFJlc2V0IGJhc2VsaW5lIG9ubHkgd2hlbiBzd2l0Y2hpbmcgbGlzdHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwcmV2Q29tcGxldGVkQ291bnQuY3VycmVudCA9IHNlbGVjdGVkTGlzdD8uY29tcGxldGVkPy5sZW5ndGggfHwgMDtcbiAgICAvLyBpbnRlbnRpb25hbGx5IGxlYXZpbmcgb3V0IHNlbGVjdGVkTGlzdCBmcm9tIGRlcGVuZGVuY3kgYXJyYXlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtzZWxlY3RlZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkTGlzdCkge1xuICAgICAgY29uc3QgZG9uZUNvdW50ID0gc2VsZWN0ZWRMaXN0LmNvbXBsZXRlZD8ubGVuZ3RoIHx8IDA7XG4gICAgICBjb25zdCBwcmV2aW91cyA9IE1hdGguZmxvb3IocHJldkNvbXBsZXRlZENvdW50LmN1cnJlbnQgLyA1KTtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBNYXRoLmZsb29yKGRvbmVDb3VudCAvIDUpO1xuXG4gICAgICBpZiAoY3VycmVudCA+IHByZXZpb3VzKSB7XG4gICAgICAgIGZpcmVDb25mZXR0aSgpO1xuICAgICAgfVxuICAgICAgcHJldkNvbXBsZXRlZENvdW50LmN1cnJlbnQgPSBkb25lQ291bnQ7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRMaXN0LCBmaXJlQ29uZmV0dGksIHNlbGVjdGVkXSk7XG5cbiAgaWYgKCFsaXN0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gRW5mb3JjZSBtYXhpbXVtIGNvdW50IGxpbWl0cyB0byBsaXN0c1xuICBjb25zdCBjdXJyZW50TGlzdHNDb3VudCA9IE9iamVjdC5rZXlzKGxpc3RzKS5sZW5ndGg7XG4gIC8vIEVuc3VyZSBhIG1pbmltdW0gb2YgMSwgYnV0IGFsbG93IGhpZ2hlciB2YWx1ZXMgZnJvbSBwcmVmc1xuICBjb25zdCBtYXhMaXN0c0NvdW50ID0gTWF0aC5tYXgoMSwgcHJlZnNbUFJFRl9XSURHRVRTX0xJU1RTX01BWF9MSVNUU10pO1xuICBjb25zdCBpc0F0TWF4TGlzdHNMaW1pdCA9IGN1cnJlbnRMaXN0c0NvdW50ID49IG1heExpc3RzQ291bnQ7XG5cbiAgLy8gRW5mb3JjZSBtYXhpbXVtIGNvdW50IGxpbWl0cyB0byBsaXN0IGl0ZW1zXG4gIC8vIFRoZSBtYXhpbXVtIGFwcGxpZXMgdG8gdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcyAoYm90aCBpbmNvbXBsZXRlIGFuZCBjb21wbGV0ZWQgaXRlbXMpXG4gIGNvbnN0IGN1cnJlbnRTZWxlY3RlZExpc3RJdGVtc0NvdW50ID1cbiAgICBzZWxlY3RlZExpc3Q/LnRhc2tzLmxlbmd0aCArIHNlbGVjdGVkTGlzdD8uY29tcGxldGVkLmxlbmd0aDtcblxuICAvLyBFbnN1cmUgYSBtaW5pbXVtIG9mIDEsIGJ1dCBhbGxvdyBoaWdoZXIgdmFsdWVzIGZyb20gcHJlZnNcbiAgY29uc3QgbWF4TGlzdEl0ZW1zQ291bnQgPSBNYXRoLm1heChcbiAgICAxLFxuICAgIHByZWZzW1BSRUZfV0lER0VUU19MSVNUU19NQVhfTElTVElURU1TXVxuICApO1xuXG4gIGNvbnN0IGlzQXRNYXhMaXN0SXRlbXNMaW1pdCA9XG4gICAgY3VycmVudFNlbGVjdGVkTGlzdEl0ZW1zQ291bnQgPj0gbWF4TGlzdEl0ZW1zQ291bnQ7XG5cbiAgLy8gRmlndXJlIG91dCBpZiB0aGUgc2VsZWN0ZWQgbGlzdCBpcyB0aGUgZmlyc3QgKGRlZmF1bHQpIG9yIGEgbmV3IG9uZS5cbiAgLy8gSW5kZXggMCDihpIgdXNlIFwiVGFzayBsaXN0XCI7IGFueSBsYXRlciBpbmRleCDihpIgdXNlIFwiTmV3IGxpc3RcIi5cbiAgLy8gRmFsbGJhY2sgdG8gMCBpZiB0aGUgc2VsZWN0ZWQgaWQgaXNu4oCZdCBmb3VuZC5cbiAgY29uc3QgbGlzdEtleXMgPSBPYmplY3Qua2V5cyhsaXN0cyk7XG4gIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBNYXRoLm1heCgwLCBsaXN0S2V5cy5pbmRleE9mKHNlbGVjdGVkKSk7XG5cbiAgY29uc3QgbGlzdE5hbWVQbGFjZWhvbGRlciA9XG4gICAgY3VycmVudExpc3RzQ291bnQgPiAxICYmIHNlbGVjdGVkSW5kZXggIT09IDBcbiAgICAgID8gXCJuZXd0YWItd2lkZ2V0LWxpc3RzLW5hbWUtcGxhY2Vob2xkZXItbmV3XCJcbiAgICAgIDogXCJuZXd0YWItd2lkZ2V0LWxpc3RzLW5hbWUtcGxhY2Vob2xkZXItZGVmYXVsdFwiO1xuXG4gIGNvbnN0IG5pbWJ1c0JhZGdlRW5hYmxlZCA9IHByZWZzLndpZGdldHNDb25maWc/Lmxpc3RzQmFkZ2VFbmFibGVkO1xuICBjb25zdCBuaW1idXNCYWRnZUxhYmVsID0gcHJlZnMud2lkZ2V0c0NvbmZpZz8ubGlzdHNCYWRnZUxhYmVsO1xuICBjb25zdCBuaW1idXNCYWRnZVRyYWluaG9wRW5hYmxlZCA9XG4gICAgcHJlZnMudHJhaW5ob3BDb25maWc/LndpZGdldHM/Lmxpc3RzQmFkZ2VFbmFibGVkO1xuICBjb25zdCBuaW1idXNCYWRnZVRyYWluaG9wTGFiZWwgPVxuICAgIHByZWZzLnRyYWluaG9wQ29uZmlnPy53aWRnZXRzPy5saXN0c0JhZGdlTGFiZWw7XG5cbiAgY29uc3QgYmFkZ2VFbmFibGVkID1cbiAgICAobmltYnVzQmFkZ2VFbmFibGVkIHx8IG5pbWJ1c0JhZGdlVHJhaW5ob3BFbmFibGVkKSA/P1xuICAgIHByZWZzW1BSRUZfV0lER0VUU19MSVNUU19CQURHRV9FTkFCTEVEXSA/P1xuICAgIGZhbHNlO1xuXG4gIGNvbnN0IGJhZGdlTGFiZWwgPVxuICAgIChuaW1idXNCYWRnZUxhYmVsIHx8IG5pbWJ1c0JhZGdlVHJhaW5ob3BMYWJlbCkgPz9cbiAgICBwcmVmc1tQUkVGX1dJREdFVFNfTElTVFNfQkFER0VfTEFCRUxdID8/XG4gICAgXCJcIjtcblxuICByZXR1cm4gKFxuICAgIDxhcnRpY2xlXG4gICAgICBjbGFzc05hbWU9XCJsaXN0c1wiXG4gICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgbGlzdHNSZWYuY3VycmVudCA9IFtlbF07XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0LXdyYXBwZXJcIj5cbiAgICAgICAgPEVkaXRhYmxlVGV4dFxuICAgICAgICAgIHZhbHVlPXtsaXN0c1tzZWxlY3RlZF0/LmxhYmVsIHx8IFwiXCJ9XG4gICAgICAgICAgb25TYXZlPXtoYW5kbGVMaXN0TmFtZVNhdmV9XG4gICAgICAgICAgaXNFZGl0aW5nPXtpc0VkaXRpbmd9XG4gICAgICAgICAgc2V0SXNFZGl0aW5nPXtzZXRJc0VkaXRpbmd9XG4gICAgICAgICAgb25DYW5jZWw9e2hhbmRsZUNhbmNlbE5ld0xpc3R9XG4gICAgICAgICAgdHlwZT1cImxpc3RcIlxuICAgICAgICAgIG1heExlbmd0aD17MzB9XG4gICAgICAgICAgZGF0YUwxMG5JZD17bGlzdE5hbWVQbGFjZWhvbGRlcn1cbiAgICAgICAgPlxuICAgICAgICAgIDxtb3otc2VsZWN0IHJlZj17c2VsZWN0UmVmfSB2YWx1ZT17c2VsZWN0ZWR9PlxuICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKGxpc3RzKS5tYXAoKFtrZXksIGxpc3RdKSA9PiAoXG4gICAgICAgICAgICAgIDxtb3otb3B0aW9uXG4gICAgICAgICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2tleX1cbiAgICAgICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QvaW5pdGlhbCBsaXN0LCB1c2UgZGVmYXVsdCBuYW1lXG4gICAgICAgICAgICAgICAgey4uLihsaXN0LmxhYmVsXG4gICAgICAgICAgICAgICAgICA/IHsgbGFiZWw6IGxpc3QubGFiZWwgfVxuICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLWwxMG4taWRcIjogXCJuZXd0YWItd2lkZ2V0LWxpc3RzLW5hbWUtbGFiZWwtZGVmYXVsdFwiLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvbW96LXNlbGVjdD5cbiAgICAgICAgPC9FZGl0YWJsZVRleHQ+XG4gICAgICAgIHsvKiBIaWRlIHRoZSBiYWRnZSB3aGVuIHVzZXIgaXMgZWRpdGluZyB0YXNrIGxpc3QgdGl0bGUgKi99XG4gICAgICAgIHshaXNFZGl0aW5nICYmIGJhZGdlRW5hYmxlZCAmJiBiYWRnZUxhYmVsICYmIChcbiAgICAgICAgICA8bW96LWJhZGdlXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9eygoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChiYWRnZUxhYmVsID09PSBcIk5ld1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibmV3dGFiLXdpZGdldC1saXN0cy1sYWJlbC1uZXdcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYmFkZ2VMYWJlbCA9PT0gXCJCZXRhXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJuZXd0YWItd2lkZ2V0LWxpc3RzLWxhYmVsLWJldGFcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgPjwvbW96LWJhZGdlPlxuICAgICAgICApfVxuICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3RzLXBhbmVsLWJ1dHRvblwiXG4gICAgICAgICAgaWNvblNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL21vcmUuc3ZnXCJcbiAgICAgICAgICBtZW51SWQ9XCJsaXN0cy1wYW5lbFwiXG4gICAgICAgICAgdHlwZT1cImdob3N0XCJcbiAgICAgICAgLz5cbiAgICAgICAgPHBhbmVsLWxpc3QgaWQ9XCJsaXN0cy1wYW5lbFwiPlxuICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWxpc3RzLW1lbnUtZWRpdFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmcodHJ1ZSl9XG4gICAgICAgICAgPjwvcGFuZWwtaXRlbT5cbiAgICAgICAgICA8cGFuZWwtaXRlbVxuICAgICAgICAgICAgey4uLihpc0F0TWF4TGlzdHNMaW1pdCA/IHsgZGlzYWJsZWQ6IHRydWUgfSA6IHt9KX1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtbWVudS1jcmVhdGVcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ3JlYXRlTmV3TGlzdCgpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3JlYXRlLWxpc3RcIlxuICAgICAgICAgID48L3BhbmVsLWl0ZW0+XG4gICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtbWVudS1kZWxldGVcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlTGlzdCgpfVxuICAgICAgICAgID48L3BhbmVsLWl0ZW0+XG4gICAgICAgICAgPGhyIC8+XG4gICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtbWVudS1jb3B5XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNvcHlMaXN0VG9DbGlwYm9hcmQoKX1cbiAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWxpc3RzLW1lbnUtaGlkZVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVIaWRlTGlzdHMoKX1cbiAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJsZWFybi1tb3JlXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtbWVudS1sZWFybi1tb3JlXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxlYXJuTW9yZX1cbiAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICA8L3BhbmVsLWxpc3Q+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkLXRhc2stY29udGFpbmVyXCI+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPXtgaWNvbiBpY29uLWFkZCAke2lzQXRNYXhMaXN0SXRlbXNMaW1pdCA/IFwiaWNvbi1kaXNhYmxlZFwiIDogXCJcIn1gfVxuICAgICAgICAvPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgIG9uQmx1cj17KCkgPT4gc2F2ZVRhc2soKX1cbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXROZXdUYXNrKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICB2YWx1ZT17bmV3VGFza31cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWxpc3RzLWlucHV0LWFkZC1hbi1pdGVtXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJhZGQtdGFzay1pbnB1dFwiXG4gICAgICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBtYXhMZW5ndGg9ezEwMH1cbiAgICAgICAgICBkaXNhYmxlZD17aXNBdE1heExpc3RJdGVtc0xpbWl0fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhc2stbGlzdC13cmFwcGVyXCI+XG4gICAgICAgIDxtb3otcmVvcmRlcmFibGUtbGlzdFxuICAgICAgICAgIHJlZj17cmVvcmRlckxpc3RSZWZ9XG4gICAgICAgICAgaXRlbVNlbGVjdG9yPVwiZmllbGRzZXQgLnRhc2stdHlwZS10YXNrc1wiXG4gICAgICAgICAgZHJhZ1NlbGVjdG9yPVwiLmNoZWNrYm94LXdyYXBwZXJcIlxuICAgICAgICA+XG4gICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgey8qIEluY29tcGxldGUgTGlzdCAgKi99XG4gICAgICAgICAgICB7c2VsZWN0ZWRMaXN0Py50YXNrcy5sZW5ndGggPj0gMSAmJlxuICAgICAgICAgICAgICBzZWxlY3RlZExpc3QudGFza3MubWFwKCh0YXNrLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxMaXN0SXRlbVxuICAgICAgICAgICAgICAgICAgdHlwZT17VEFTS19UWVBFLklOX1BST0dSRVNTfVxuICAgICAgICAgICAgICAgICAgdGFzaz17dGFza31cbiAgICAgICAgICAgICAgICAgIGtleT17dGFzay5pZH1cbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVRhc2s9e3VwZGF0ZVRhc2t9XG4gICAgICAgICAgICAgICAgICBkZWxldGVUYXNrPXtkZWxldGVUYXNrfVxuICAgICAgICAgICAgICAgICAgbW92ZVRhc2s9e21vdmVUYXNrfVxuICAgICAgICAgICAgICAgICAgaXNWYWxpZFVybD17aXNWYWxpZFVybH1cbiAgICAgICAgICAgICAgICAgIGlzRmlyc3Q9e2luZGV4ID09PSAwfVxuICAgICAgICAgICAgICAgICAgaXNMYXN0PXtpbmRleCA9PT0gc2VsZWN0ZWRMaXN0LnRhc2tzLmxlbmd0aCAtIDF9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICB7LyogQ29tcGxldGVkIExpc3QgKi99XG4gICAgICAgICAgICB7c2VsZWN0ZWRMaXN0Py5jb21wbGV0ZWQubGVuZ3RoID49IDEgJiYgKFxuICAgICAgICAgICAgICA8ZGV0YWlsc1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbXBsZXRlZC10YXNrLXdyYXBwZXJcIlxuICAgICAgICAgICAgICAgIG9wZW49e3NlbGVjdGVkTGlzdD8udGFza3MubGVuZ3RoIDwgMX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdW1tYXJ5PlxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1jb21wbGV0ZWQtbGlzdFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPXtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBsaXN0c1tzZWxlY3RlZF0/LmNvbXBsZXRlZC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb21wbGV0ZWQtdGl0bGVcIlxuICAgICAgICAgICAgICAgICAgPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkTGlzdD8uY29tcGxldGVkLm1hcChjb21wbGV0ZWRUYXNrID0+IChcbiAgICAgICAgICAgICAgICAgIDxMaXN0SXRlbVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbXBsZXRlZFRhc2suaWR9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9e1RBU0tfVFlQRS5DT01QTEVURUR9XG4gICAgICAgICAgICAgICAgICAgIHRhc2s9e2NvbXBsZXRlZFRhc2t9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZVRhc2s9e2RlbGV0ZVRhc2t9XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRhc2s9e3VwZGF0ZVRhc2t9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgIDwvbW96LXJlb3JkZXJhYmxlLWxpc3Q+XG4gICAgICAgIHsvKiBFbXB0eSBTdGF0ZSAqL31cbiAgICAgICAge3NlbGVjdGVkTGlzdD8udGFza3MubGVuZ3RoIDwgMSAmJlxuICAgICAgICAgIHNlbGVjdGVkTGlzdD8uY29tcGxldGVkLmxlbmd0aCA8IDEgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1saXN0XCI+XG4gICAgICAgICAgICAgIDxwaWN0dXJlPlxuICAgICAgICAgICAgICAgIDxzb3VyY2VcbiAgICAgICAgICAgICAgICAgIHNyY1NldD1cImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvbGlzdHMtZW1wdHktc3RhdGUtZGFyay5zdmdcIlxuICAgICAgICAgICAgICAgICAgbWVkaWE9XCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxzb3VyY2VcbiAgICAgICAgICAgICAgICAgIHNyY1NldD1cImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvbGlzdHMtZW1wdHktc3RhdGUtbGlnaHQuc3ZnXCJcbiAgICAgICAgICAgICAgICAgIG1lZGlhPVwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGltZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIGFsdD1cIlwiIC8+XG4gICAgICAgICAgICAgIDwvcGljdHVyZT5cbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlbXB0eS1saXN0LXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtZW1wdHktY3RhXCJcbiAgICAgICAgICAgICAgPjwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxjYW52YXMgY2xhc3NOYW1lPVwiY29uZmV0dGktY2FudmFzXCIgcmVmPXtjYW52YXNSZWZ9IC8+XG4gICAgPC9hcnRpY2xlPlxuICApO1xufVxuXG5mdW5jdGlvbiBMaXN0SXRlbSh7XG4gIHRhc2ssXG4gIHVwZGF0ZVRhc2ssXG4gIGRlbGV0ZVRhc2ssXG4gIG1vdmVUYXNrLFxuICBpc1ZhbGlkVXJsLFxuICB0eXBlLFxuICBpc0ZpcnN0ID0gZmFsc2UsXG4gIGlzTGFzdCA9IGZhbHNlLFxufSkge1xuICBjb25zdCBbaXNFZGl0aW5nLCBzZXRJc0VkaXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXhpdGluZywgc2V0RXhpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGlzQ29tcGxldGVkID0gdHlwZSA9PT0gVEFTS19UWVBFLkNPTVBMRVRFRDtcblxuICBjb25zdCBwcmVmZXJzUmVkdWNlZE1vdGlvbiA9XG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgIHR5cGVvZiB3aW5kb3cubWF0Y2hNZWRpYSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKS5tYXRjaGVzO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoZWNrYm94Q2hhbmdlKGUpIHtcbiAgICBjb25zdCB7IGNoZWNrZWQgfSA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IHVwZGF0ZWRUYXNrID0geyAuLi50YXNrLCBjb21wbGV0ZWQ6IGNoZWNrZWQgfTtcbiAgICBpZiAoY2hlY2tlZCAmJiAhcHJlZmVyc1JlZHVjZWRNb3Rpb24pIHtcbiAgICAgIHNldEV4aXRpbmcodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVRhc2sodXBkYXRlZFRhc2ssIHR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdoZW4gdGhlIENTUyB0cmFuc2l0aW9uIGZpbmlzaGVzLCBkaXNwYXRjaCB0aGUgcmVhbCDigJxjb21wbGV0ZWQgPSB0cnVl4oCdXG4gIGZ1bmN0aW9uIGhhbmRsZVRyYW5zaXRpb25FbmQoZSkge1xuICAgIC8vIG9ubHkgZmlyZSBvbmNlIGZvciB0aGUgZXhpdDpcbiAgICBpZiAoZS5wcm9wZXJ0eU5hbWUgPT09IFwib3BhY2l0eVwiICYmIGV4aXRpbmcpIHtcbiAgICAgIHVwZGF0ZVRhc2soeyAuLi50YXNrLCBjb21wbGV0ZWQ6IHRydWUgfSwgdHlwZSk7XG4gICAgICBzZXRFeGl0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTYXZlKG5ld1ZhbHVlKSB7XG4gICAgY29uc3QgdHJpbW1lZFRhc2sgPSBuZXdWYWx1ZS50cmltRW5kKCk7XG4gICAgaWYgKHRyaW1tZWRUYXNrICYmIHRyaW1tZWRUYXNrICE9PSB0YXNrLnZhbHVlKSB7XG4gICAgICB1cGRhdGVUYXNrKFxuICAgICAgICB7IC4uLnRhc2ssIHZhbHVlOiBuZXdWYWx1ZSwgaXNVcmw6IGlzVmFsaWRVcmwodHJpbW1lZFRhc2spIH0sXG4gICAgICAgIHR5cGVcbiAgICAgICk7XG4gICAgICBzZXRJc0VkaXRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZURlbGV0ZSgpIHtcbiAgICBkZWxldGVUYXNrKHRhc2ssIHR5cGUpO1xuICB9XG5cbiAgY29uc3QgdGFza0xhYmVsID0gdGFzay5pc1VybCA/IChcbiAgICA8YVxuICAgICAgaHJlZj17dGFzay52YWx1ZX1cbiAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIGNsYXNzTmFtZT1cInRhc2stbGFiZWxcIlxuICAgICAgdGl0bGU9e3Rhc2sudmFsdWV9XG4gICAgPlxuICAgICAge3Rhc2sudmFsdWV9XG4gICAgPC9hPlxuICApIDogKFxuICAgIDxsYWJlbFxuICAgICAgY2xhc3NOYW1lPVwidGFzay1sYWJlbFwiXG4gICAgICB0aXRsZT17dGFzay52YWx1ZX1cbiAgICAgIGh0bWxGb3I9e2B0YXNrLSR7dGFzay5pZH1gfVxuICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNFZGl0aW5nKHRydWUpfVxuICAgID5cbiAgICAgIHt0YXNrLnZhbHVlfVxuICAgIDwvbGFiZWw+XG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2B0YXNrLWl0ZW0gdGFzay10eXBlLSR7dHlwZX0gJHtleGl0aW5nID8gXCIgZXhpdGluZ1wiIDogXCJcIn1gfVxuICAgICAgaWQ9e3Rhc2suaWR9XG4gICAgICBrZXk9e3Rhc2suaWR9XG4gICAgICBvblRyYW5zaXRpb25FbmQ9e2hhbmRsZVRyYW5zaXRpb25FbmR9XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGVja2JveC13cmFwcGVyXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoZWNrYm94Q2hhbmdlfVxuICAgICAgICAgIGNoZWNrZWQ9e3Rhc2suY29tcGxldGVkIHx8IGV4aXRpbmd9XG4gICAgICAgICAgaWQ9e2B0YXNrLSR7dGFzay5pZH1gfVxuICAgICAgICAvPlxuICAgICAgICB7aXNDb21wbGV0ZWQgPyAoXG4gICAgICAgICAgdGFza0xhYmVsXG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPEVkaXRhYmxlVGV4dFxuICAgICAgICAgICAgaXNFZGl0aW5nPXtpc0VkaXRpbmd9XG4gICAgICAgICAgICBzZXRJc0VkaXRpbmc9e3NldElzRWRpdGluZ31cbiAgICAgICAgICAgIHZhbHVlPXt0YXNrLnZhbHVlfVxuICAgICAgICAgICAgb25TYXZlPXtoYW5kbGVTYXZlfVxuICAgICAgICAgICAgdHlwZT1cInRhc2tcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0YXNrTGFiZWx9XG4gICAgICAgICAgPC9FZGl0YWJsZVRleHQ+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgIGljb25TcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9tb3JlLnN2Z1wiXG4gICAgICAgIG1lbnVJZD17YHBhbmVsLXRhc2stJHt0YXNrLmlkfWB9XG4gICAgICAgIHR5cGU9XCJnaG9zdFwiXG4gICAgICAvPlxuICAgICAgPHBhbmVsLWxpc3QgaWQ9e2BwYW5lbC10YXNrLSR7dGFzay5pZH1gfT5cbiAgICAgICAgeyFpc0NvbXBsZXRlZCAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIHt0YXNrLmlzVXJsICYmIChcbiAgICAgICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWxpc3RzLWlucHV0LW1lbnUtb3Blbi1saW5rXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3Blbih0YXNrLnZhbHVlLCBcIl9ibGFua1wiLCBcIm5vb3BlbmVyXCIpfVxuICAgICAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICAgIHsuLi4oaXNGaXJzdCA/IHsgZGlzYWJsZWQ6IHRydWUgfSA6IHt9KX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbW92ZVRhc2sodGFzaywgXCJ1cFwiKX1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1pbnB1dC1tZW51LW1vdmUtdXBcIlxuICAgICAgICAgICAgPjwvcGFuZWwtaXRlbT5cbiAgICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICAgIHsuLi4oaXNMYXN0ID8geyBkaXNhYmxlZDogdHJ1ZSB9IDoge30pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBtb3ZlVGFzayh0YXNrLCBcImRvd25cIil9XG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtaW5wdXQtbWVudS1tb3ZlLWRvd25cIlxuICAgICAgICAgICAgPjwvcGFuZWwtaXRlbT5cbiAgICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtaW5wdXQtbWVudS1lZGl0XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdC1pdGVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNFZGl0aW5nKHRydWUpfVxuICAgICAgICAgICAgPjwvcGFuZWwtaXRlbT5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWxpc3RzLWlucHV0LW1lbnUtZGVsZXRlXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJkZWxldGUtaXRlbVwiXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlfVxuICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgPC9wYW5lbC1saXN0PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBFZGl0YWJsZVRleHQoe1xuICB2YWx1ZSxcbiAgaXNFZGl0aW5nLFxuICBzZXRJc0VkaXRpbmcsXG4gIG9uU2F2ZSxcbiAgb25DYW5jZWwsXG4gIGNoaWxkcmVuLFxuICB0eXBlLFxuICBkYXRhTDEwbklkID0gbnVsbCxcbiAgbWF4TGVuZ3RoID0gMTAwLFxufSkge1xuICBjb25zdCBbdGVtcFZhbHVlLCBzZXRUZW1wVmFsdWVdID0gdXNlU3RhdGUodmFsdWUpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBUcnVlIGlmIHRlbXBWYWx1ZSBpcyBlbXB0eSwgbnVsbC91bmRlZmluZWQsIG9yIG9ubHkgd2hpdGVzcGFjZVxuICBjb25zdCBzaG93UGxhY2Vob2xkZXIgPSAodGVtcFZhbHVlID8/IFwiXCIpLnRyaW0oKSA9PT0gXCJcIjtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0VkaXRpbmcpIHtcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRlbXBWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9LCBbaXNFZGl0aW5nLCB2YWx1ZV0pO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBvblNhdmUodGVtcFZhbHVlLnRyaW0oKSk7XG4gICAgICBzZXRJc0VkaXRpbmcoZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgICBzZXRUZW1wVmFsdWUodmFsdWUpO1xuICAgICAgb25DYW5jZWw/LigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU9uQmx1cigpIHtcbiAgICBvblNhdmUodGVtcFZhbHVlLnRyaW0oKSk7XG4gICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiBpc0VkaXRpbmcgPyAoXG4gICAgPGlucHV0XG4gICAgICBjbGFzc05hbWU9e2BlZGl0LSR7dHlwZX1gfVxuICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgIHZhbHVlPXt0ZW1wVmFsdWV9XG4gICAgICBtYXhMZW5ndGg9e21heExlbmd0aH1cbiAgICAgIG9uQ2hhbmdlPXtldmVudCA9PiBzZXRUZW1wVmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgIG9uQmx1cj17aGFuZGxlT25CbHVyfVxuICAgICAgb25LZXlEb3duPXtoYW5kbGVLZXlEb3dufVxuICAgICAgLy8gTm90ZSB0aGF0IGlmIGEgdXNlciBoYXMgYSBjdXN0b20gbmFtZSBzZXQsIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHBsYWNlaG9sZGVyXG4gICAgICB7Li4uKHNob3dQbGFjZWhvbGRlciAmJiBkYXRhTDEwbklkID8geyBcImRhdGEtbDEwbi1pZFwiOiBkYXRhTDEwbklkIH0gOiB7fSl9XG4gICAgLz5cbiAgKSA6IChcbiAgICBbY2hpbGRyZW5dXG4gICk7XG59XG5cbmV4cG9ydCB7IExpc3RzIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCBiYXRjaCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCI7XG5cbmNvbnN0IFVTRVJfQUNUSU9OX1RZUEVTID0ge1xuICBUSU1FUl9TRVQ6IFwidGltZXJfc2V0XCIsXG4gIFRJTUVSX1BMQVk6IFwidGltZXJfcGxheVwiLFxuICBUSU1FUl9QQVVTRTogXCJ0aW1lcl9wYXVzZVwiLFxuICBUSU1FUl9SRVNFVDogXCJ0aW1lcl9yZXNldFwiLFxuICBUSU1FUl9FTkQ6IFwidGltZXJfZW5kXCIsXG4gIFRJTUVSX1RPR0dMRV9GT0NVUzogXCJ0aW1lcl90b2dnbGVfZm9jdXNcIixcbiAgVElNRVJfVE9HR0xFX0JSRUFLOiBcInRpbWVyX3RvZ2dsZV9icmVha1wiLFxufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSByZW1haW5pbmcgdGltZSAoaW4gc2Vjb25kcykgYnkgc3VidHJhY3RpbmcgZWxhcHNlZCB0aW1lIGZyb20gdGhlIG9yaWdpbmFsIGR1cmF0aW9uXG4gKlxuICogQHBhcmFtIGR1cmF0aW9uXG4gKiBAcGFyYW0gc3RhcnRcbiAqIEByZXR1cm5zIGludFxuICovXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlVGltZVJlbWFpbmluZyA9IChkdXJhdGlvbiwgc3RhcnQpID0+IHtcbiAgY29uc3QgY3VycmVudFRpbWUgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcblxuICAvLyBTdWJ0cmFjdCB0aGUgZWxhcHNlZCB0aW1lIGZyb20gaW5pdGlhbCBkdXJhdGlvbiB0byBnZXQgdGltZSByZW1haW5pbmcgaW4gdGhlIHRpbWVyXG4gIHJldHVybiBNYXRoLm1heChkdXJhdGlvbiAtIChjdXJyZW50VGltZSAtIHN0YXJ0KSwgMCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIG9mIHNlY29uZHMgaW50byBhIHplcm8tcGFkZGVkIE1NOlNTIHRpbWUgc3RyaW5nXG4gKlxuICogQHBhcmFtIHNlY29uZHNcbiAqIEByZXR1cm5zIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgZm9ybWF0VGltZSA9IHNlY29uZHMgPT4ge1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApXG4gICAgLnRvU3RyaW5nKClcbiAgICAucGFkU3RhcnQoMiwgXCIwXCIpO1xuICBjb25zdCBzZWNzID0gKHNlY29uZHMgJSA2MCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIik7XG4gIHJldHVybiBgJHttaW51dGVzfToke3NlY3N9YDtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBwb2xhciBjb29yZGluYXRlIChhbmdsZSBvbiBjaXJjbGUpIGludG8gYSBwZXJjZW50YWdlLWJhc2VkIFt4LHldIHBvc2l0aW9uIGZvciBjbGlwLXBhdGhcbiAqXG4gKiBAcGFyYW0gY3hcbiAqIEBwYXJhbSBjeVxuICogQHBhcmFtIHJhZGl1c1xuICogQHBhcmFtIGFuZ2xlXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHBvbGFyVG9QZXJjZW50ID0gKGN4LCBjeSwgcmFkaXVzLCBhbmdsZSkgPT4ge1xuICBjb25zdCByYWQgPSAoKGFuZ2xlIC0gOTApICogTWF0aC5QSSkgLyAxODA7XG4gIGNvbnN0IHggPSBjeCArIHJhZGl1cyAqIE1hdGguY29zKHJhZCk7XG4gIGNvbnN0IHkgPSBjeSArIHJhZGl1cyAqIE1hdGguc2luKHJhZCk7XG4gIHJldHVybiBgJHt4fSUgJHt5fSVgO1xufTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBjbGlwLXBhdGggcG9seWdvbiBzdHJpbmcgdGhhdCByZXByZXNlbnRzIGEgcGllIHNsaWNlIGZyb20gMCBkZWdyZWVzXG4gKiB0byB0aGUgY3VycmVudCBwcm9ncmVzcyBhbmdsZVxuICpcbiAqIEByZXR1cm5zIHN0cmluZ1xuICogQHBhcmFtIHByb2dyZXNzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDbGlwUGF0aCA9IHByb2dyZXNzID0+IHtcbiAgY29uc3QgY3ggPSA1MDtcbiAgY29uc3QgY3kgPSA1MDtcbiAgY29uc3QgcmFkaXVzID0gNTA7XG4gIC8vIFNob3cgc29tZSBwcm9ncmVzcyByaWdodCBhdCB0aGUgc3RhcnQgLSA2IGRlZ3JlZXMgaXMganVzdCBlbm91Z2ggdG8gcGFpbnQgYSBkb3Qgb25jZSB0aGUgdGltZXIgaXMgdGlja2luZ1xuICBjb25zdCBhbmdsZSA9IHByb2dyZXNzID4gMCA/IE1hdGgubWF4KHByb2dyZXNzICogMzYwLCA2KSA6IDA7XG4gIGNvbnN0IHBvaW50cyA9IFtgNTAlIDUwJWBdO1xuXG4gIGZvciAobGV0IGEgPSAwOyBhIDw9IGFuZ2xlOyBhICs9IDIpIHtcbiAgICBwb2ludHMucHVzaChwb2xhclRvUGVyY2VudChjeCwgY3ksIHJhZGl1cywgYSkpO1xuICB9XG5cbiAgcmV0dXJuIGBwb2x5Z29uKCR7cG9pbnRzLmpvaW4oXCIsIFwiKX0pYDtcbn07XG5cbmV4cG9ydCBjb25zdCBGb2N1c1RpbWVyID0gKHsgZGlzcGF0Y2gsIGhhbmRsZVVzZXJJbnRlcmFjdGlvbiB9KSA9PiB7XG4gIGNvbnN0IFt0aW1lTGVmdCwgc2V0VGltZUxlZnRdID0gdXNlU3RhdGUoMCk7XG4gIC8vIGNhbGN1bGF0ZWQgdmFsdWUgZm9yIHRoZSBwcm9ncmVzcyBjaXJjbGU7IDEgPSAxMDAlXG4gIGNvbnN0IFtwcm9ncmVzcywgc2V0UHJvZ3Jlc3NdID0gdXNlU3RhdGUoMCk7XG5cbiAgY29uc3QgYWN0aXZlTWludXRlc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYWN0aXZlU2Vjb25kc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYXJjUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIGNvbnN0IHRpbWVyVHlwZSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlRpbWVyV2lkZ2V0LnRpbWVyVHlwZSk7XG4gIGNvbnN0IHRpbWVyRGF0YSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlRpbWVyV2lkZ2V0KTtcbiAgY29uc3QgeyBkdXJhdGlvbiwgaW5pdGlhbER1cmF0aW9uLCBzdGFydFRpbWUsIGlzUnVubmluZyB9ID1cbiAgICB0aW1lckRhdGFbdGltZXJUeXBlXTtcbiAgY29uc3QgaW5pdGlhbFRpbWVyRHVyYXRpb24gPSB0aW1lckRhdGFbdGltZXJUeXBlXS5pbml0aWFsRHVyYXRpb247XG5cbiAgY29uc3QgaGFuZGxlVGltZXJJbnRlcmFjdGlvbiA9IHVzZUNhbGxiYWNrKFxuICAgICgpID0+IGhhbmRsZVVzZXJJbnRlcmFjdGlvbihcImZvY3VzVGltZXJcIiksXG4gICAgW2hhbmRsZVVzZXJJbnRlcmFjdGlvbl1cbiAgKTtcblxuICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9VU0VSX0lNUFJFU1NJT04sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuXG4gIGNvbnN0IHRpbWVyUmVmID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uKTtcblxuICBjb25zdCByZXNldFByb2dyZXNzQ2lyY2xlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChhcmNSZWY/LmN1cnJlbnQpIHtcbiAgICAgIGFyY1JlZi5jdXJyZW50LnN0eWxlLmNsaXBQYXRoID0gXCJwb2x5Z29uKDUwJSA1MCUpXCI7XG4gICAgICBhcmNSZWYuY3VycmVudC5zdHlsZS53ZWJraXRDbGlwUGF0aCA9IFwicG9seWdvbig1MCUgNTAlKVwiO1xuICAgIH1cbiAgICBzZXRQcm9ncmVzcygwKTtcbiAgICBoYW5kbGVUaW1lckludGVyYWN0aW9uKCk7XG4gIH0sIFthcmNSZWYsIGhhbmRsZVRpbWVySW50ZXJhY3Rpb25dKTtcblxuICBjb25zdCBwcmVmcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlByZWZzLnZhbHVlcyk7XG4gIGNvbnN0IHNob3dTeXN0ZW1Ob3RpZmljYXRpb25zID1cbiAgICBwcmVmc1tcIndpZGdldHMuZm9jdXNUaW1lci5zaG93U3lzdGVtTm90aWZpY2F0aW9uc1wiXTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIHJlc2V0cyBkZWZhdWx0IHZhbHVlcyBhZnRlciB0aW1lciBlbmRzXG4gICAgbGV0IGludGVydmFsO1xuICAgIGlmIChpc1J1bm5pbmcgJiYgZHVyYXRpb24gPiAwKSB7XG4gICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nID0gY2FsY3VsYXRlVGltZVJlbWFpbmluZyhkdXJhdGlvbiwgc3RhcnRUaW1lKTtcblxuICAgICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcblxuICAgICAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX0VORCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICB0aW1lclR5cGUsXG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogaW5pdGlhbFRpbWVyRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICBpbml0aWFsRHVyYXRpb246IGluaXRpYWxUaW1lckR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9VU0VSX0VWRU5ULFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuVElNRVJfRU5EIH0sXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gYW5pbWF0ZSB0aGUgcHJvZ3Jlc3MgY2lyY2xlIHRvIHR1cm4gc29saWQgZ3JlZW5cbiAgICAgICAgICBzZXRQcm9ncmVzcygxKTtcblxuICAgICAgICAgIC8vIE1vcmUgdHJhbnNpdGlvbnMgYWZ0ZXIgYSBkZWxheSB0byBhbGxvdyB0aGUgYW5pbWF0aW9uIGFib3ZlIHRvIGNvbXBsZXRlXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBwcm9ncmVzcyBjaXJjbGUgZ29lcyBiYWNrIHRvIGRlZmF1bHQgZ3JleVxuICAgICAgICAgICAgcmVzZXRQcm9ncmVzc0NpcmNsZSgpO1xuXG4gICAgICAgICAgICAvLyBUaGVyZSdzIG1vcmUgdG8gc2VlIVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIHN3aXRjaCBvdmVyIHRvIHRoZSBvdGhlciB0aW1lciB0eXBlXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbmVzdGVkLWNhbGxiYWNrc1xuICAgICAgICAgICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9TRVRfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIHRpbWVyVHlwZTogdGltZXJUeXBlID09PSBcImZvY3VzXCIgPyBcImJyZWFrXCIgOiBcImZvY3VzXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICB1c2VyQWN0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJUeXBlID09PSBcImZvY3VzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9UT0dHTEVfQlJFQUtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9UT0dHTEVfRk9DVVMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgICAgfSwgMTUwMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1c2luZyBzZXRUaW1lTGVmdCB0byB0cmlnZ2VyIGEgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnQgdG8gc2hvdyBsaXZlIGNvdW50ZG93biBlYWNoIHNlY29uZFxuICAgICAgICBzZXRUaW1lTGVmdChyZW1haW5pbmcpO1xuICAgICAgICBzZXRQcm9ncmVzcygoaW5pdGlhbER1cmF0aW9uIC0gcmVtYWluaW5nKSAvIGluaXRpYWxEdXJhdGlvbik7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG5cbiAgICAvLyBTaG93cyB0aGUgY29ycmVjdCBsaXZlIHRpbWUgaW4gdGhlIFVJIHdoZW5ldmVyIHRoZSB0aW1lciBzdGF0ZSBjaGFuZ2VzXG4gICAgY29uc3QgbmV3VGltZSA9IGlzUnVubmluZ1xuICAgICAgPyBjYWxjdWxhdGVUaW1lUmVtYWluaW5nKGR1cmF0aW9uLCBzdGFydFRpbWUpXG4gICAgICA6IGR1cmF0aW9uO1xuXG4gICAgc2V0VGltZUxlZnQobmV3VGltZSk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtcbiAgICBpc1J1bm5pbmcsXG4gICAgc3RhcnRUaW1lLFxuICAgIGR1cmF0aW9uLFxuICAgIGluaXRpYWxEdXJhdGlvbixcbiAgICBkaXNwYXRjaCxcbiAgICByZXNldFByb2dyZXNzQ2lyY2xlLFxuICAgIHRpbWVyVHlwZSxcbiAgICBpbml0aWFsVGltZXJEdXJhdGlvbixcbiAgXSk7XG5cbiAgLy8gVXBkYXRlIHRoZSBjbGlwLXBhdGggb2YgdGhlIGdyYWRpZW50IGNpcmNsZSB0byBtYXRjaCB0aGUgY3VycmVudCBwcm9ncmVzcyB2YWx1ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhcmNSZWY/LmN1cnJlbnQpIHtcbiAgICAgIGFyY1JlZi5jdXJyZW50LnN0eWxlLmNsaXBQYXRoID0gZ2V0Q2xpcFBhdGgocHJvZ3Jlc3MpO1xuICAgIH1cbiAgfSwgW3Byb2dyZXNzXSk7XG5cbiAgLy8gc2V0IHRpbWVyIGZ1bmN0aW9uXG4gIGNvbnN0IHNldFRpbWVyRHVyYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgbWludXRlc0VsID0gYWN0aXZlTWludXRlc1JlZi5jdXJyZW50O1xuICAgIGNvbnN0IHNlY29uZHNFbCA9IGFjdGl2ZVNlY29uZHNSZWYuY3VycmVudDtcblxuICAgIGNvbnN0IG1pbnV0ZXNWYWx1ZSA9IG1pbnV0ZXNFbC5pbm5lclRleHQudHJpbSgpIHx8IFwiMFwiO1xuICAgIGNvbnN0IHNlY29uZHNWYWx1ZSA9IHNlY29uZHNFbC5pbm5lclRleHQudHJpbSgpIHx8IFwiMFwiO1xuXG4gICAgbGV0IG1pbnV0ZXMgPSBwYXJzZUludChtaW51dGVzVmFsdWUgfHwgXCIwXCIsIDEwKTtcbiAgICBsZXQgc2Vjb25kcyA9IHBhcnNlSW50KHNlY29uZHNWYWx1ZSB8fCBcIjBcIiwgMTApO1xuXG4gICAgLy8gU2V0IGEgbGltaXQgb2YgOTkgbWludXRlc1xuICAgIG1pbnV0ZXMgPSBNYXRoLm1pbihtaW51dGVzLCA5OSk7XG4gICAgLy8gU2V0IGEgbGltaXQgb2YgNTkgc2Vjb25kc1xuICAgIHNlY29uZHMgPSBNYXRoLm1pbihzZWNvbmRzLCA1OSk7XG5cbiAgICBjb25zdCB0b3RhbFNlY29uZHMgPSBtaW51dGVzICogNjAgKyBzZWNvbmRzO1xuXG4gICAgaWYgKFxuICAgICAgIU51bWJlci5pc05hTih0b3RhbFNlY29uZHMpICYmXG4gICAgICB0b3RhbFNlY29uZHMgPiAwICYmXG4gICAgICB0b3RhbFNlY29uZHMgIT09IGR1cmF0aW9uXG4gICAgKSB7XG4gICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9TRVRfRFVSQVRJT04sXG4gICAgICAgICAgICBkYXRhOiB7IHRpbWVyVHlwZSwgZHVyYXRpb246IHRvdGFsU2Vjb25kcyB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9VU0VSX0VWRU5ULFxuICAgICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9TRVQgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVRpbWVySW50ZXJhY3Rpb24oKTtcbiAgfTtcblxuICAvLyBQYXVzZSB0aW1lciBmdW5jdGlvblxuICBjb25zdCB0b2dnbGVUaW1lciA9ICgpID0+IHtcbiAgICBpZiAoIWlzUnVubmluZyAmJiBkdXJhdGlvbiA+IDApIHtcbiAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1BMQVksXG4gICAgICAgICAgICBkYXRhOiB7IHRpbWVyVHlwZSB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9VU0VSX0VWRU5ULFxuICAgICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9QTEFZIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNSdW5uaW5nKSB7XG4gICAgICAvLyBjYWxjdWxhdGVkIHRvIGdldCB0aGUgbmV3IGJhc2VsaW5lIG9mIHRoZSB0aW1lciB3aGVuIGl0IHN0YXJ0cyBvciByZXN1bWVzXG4gICAgICBjb25zdCByZW1haW5pbmcgPSBjYWxjdWxhdGVUaW1lUmVtYWluaW5nKGR1cmF0aW9uLCBzdGFydFRpbWUpO1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfUEFVU0UsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHRpbWVyVHlwZSxcbiAgICAgICAgICAgICAgZHVyYXRpb246IHJlbWFpbmluZyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1BBVVNFIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBoYW5kbGVUaW1lckludGVyYWN0aW9uKCk7XG4gIH07XG5cbiAgLy8gcmVzZXQgdGltZXIgZnVuY3Rpb25cbiAgY29uc3QgcmVzZXRUaW1lciA9ICgpID0+IHtcbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9SRVNFVCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0aW1lclR5cGUsXG4gICAgICAgICAgICBkdXJhdGlvbjogaW5pdGlhbFRpbWVyRHVyYXRpb24sXG4gICAgICAgICAgICBpbml0aWFsRHVyYXRpb246IGluaXRpYWxUaW1lckR1cmF0aW9uLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9VU0VSX0VWRU5ULFxuICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuVElNRVJfUkVTRVQgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBSZXNldCBwcm9ncmVzcyB2YWx1ZSBhbmQgZ3JhZGllbnQgYXJjIG9uIHRoZSBwcm9ncmVzcyBjaXJjbGVcbiAgICByZXNldFByb2dyZXNzQ2lyY2xlKCk7XG5cbiAgICBoYW5kbGVUaW1lckludGVyYWN0aW9uKCk7XG4gIH07XG5cbiAgLy8gVG9nZ2xlcyBiZXR3ZWVuIFwiZm9jdXNcIiBhbmQgXCJicmVha1wiIHRpbWVyIHR5cGVzXG4gIGNvbnN0IHRvZ2dsZVR5cGUgPSB0eXBlID0+IHtcbiAgICBjb25zdCBvbGRUeXBlUmVtYWluaW5nID0gY2FsY3VsYXRlVGltZVJlbWFpbmluZyhkdXJhdGlvbiwgc3RhcnRUaW1lKTtcblxuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIC8vIFRoZSB0eXBlIHdlIGFyZSB0b2dnbGluZyBhd2F5IGZyb20gYXV0b21hdGljYWxseSBwYXVzZXNcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1BBVVNFLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRpbWVyVHlwZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvbGRUeXBlUmVtYWluaW5nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9VU0VSX0VWRU5ULFxuICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuVElNRVJfUEFVU0UgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIFNldHMgdGhlIGN1cnJlbnQgdGltZXIgdHlwZSBzbyBpdCBwZXJzaXN0cyB3aGVuIG9wZW5pbmcgYSBuZXcgdGFiXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9TRVRfVFlQRSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0aW1lclR5cGU6IHR5cGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdXNlckFjdGlvbjpcbiAgICAgICAgICAgICAgdHlwZSA9PT0gXCJmb2N1c1wiXG4gICAgICAgICAgICAgICAgPyBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9UT0dHTEVfRk9DVVNcbiAgICAgICAgICAgICAgICA6IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1RPR0dMRV9CUkVBSyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBoYW5kbGVUaW1lckludGVyYWN0aW9uKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IGUgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRUaW1lckR1cmF0aW9uKGUpO1xuICAgICAgaGFuZGxlVGltZXJJbnRlcmFjdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChlLmtleSA9PT0gXCJUYWJcIikge1xuICAgICAgc2V0VGltZXJEdXJhdGlvbihlKTtcbiAgICAgIGhhbmRsZVRpbWVySW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQmVmb3JlSW5wdXQgPSBlID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IGUuZGF0YTtcbiAgICBjb25zdCB2YWx1ZXMgPSBlLnRhcmdldC5pbm5lclRleHQudHJpbSgpO1xuXG4gICAgLy8gb25seSBhbGxvdyBudW1lcmljYWwgZGlnaXRzIDDigJM5IGZvciB0aW1lIGlucHV0XG4gICAgaWYgKCEvXlxcZCskLy50ZXN0KGlucHV0KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8vIG9ubHkgYWxsb3cgMiB2YWx1ZXMgZWFjaCBmb3IgbWludXRlcyBhbmQgc2Vjb25kc1xuICAgIGlmICh2YWx1ZXMubGVuZ3RoID49IDIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRUZXh0ID0gc2VsZWN0aW9uLnRvU3RyaW5nKCk7XG5cbiAgICAvLyBpZiBlbnRpcmUgdmFsdWUgaXMgc2VsZWN0ZWQsIHJlcGxhY2UgaXQgd2l0aCB0aGUgbmV3IGlucHV0XG4gICAgaWYgKHNlbGVjdGVkVGV4dCA9PT0gdmFsdWVzKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgZGVmYXVsdCB0eXBpbmdcbiAgICAgIGUudGFyZ2V0LmlubmVyVGV4dCA9IGlucHV0O1xuXG4gICAgICAvLyBQbGFjZXMgdGhlIGNhcmV0IGF0IHRoZSBlbmQgb2YgdGhlIGNvbnRlbnQtZWRpdGFibGUgdGV4dFxuICAgICAgLy8gVGhpcyBpcyBhIGtub3duIHByb2JsZW0gd2l0aCBjb250ZW50LWVkaXRhYmxlIHdoZXJlIHRoZSBjYXJldFxuICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGUudGFyZ2V0KTtcbiAgICAgIHJhbmdlLmNvbGxhcHNlKGZhbHNlKTtcbiAgICAgIGNvbnN0IHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZvY3VzID0gZSA9PiB7XG4gICAgaWYgKGlzUnVubmluZykge1xuICAgICAgLy8gY2FsY3VsYXRlZCB0byBnZXQgdGhlIG5ldyBiYXNlbGluZSBvZiB0aGUgdGltZXIgd2hlbiBpdCBzdGFydHMgb3IgcmVzdW1lc1xuICAgICAgY29uc3QgcmVtYWluaW5nID0gY2FsY3VsYXRlVGltZVJlbWFpbmluZyhkdXJhdGlvbiwgc3RhcnRUaW1lKTtcblxuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfUEFVU0UsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHRpbWVyVHlwZSxcbiAgICAgICAgICAgICAgZHVyYXRpb246IHJlbWFpbmluZyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1BBVVNFIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGhpZ2hsaWdodCBlbnRpcmUgdGV4dCB3aGVuIGZvY3VzZWQgb24gdGhlIHRpbWUuXG4gICAgLy8gdGhpcyBtYWtlcyBpdCBlYXNpZXIgdG8gaW5wdXQgdGhlIG5ldyB0aW1lIGluc3RlYWQgb2YgYmFja3NwYWNpbmdcbiAgICBjb25zdCBlbCA9IGUudGFyZ2V0O1xuICAgIGlmIChkb2N1bWVudC5jcmVhdGVSYW5nZSAmJiB3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWwpO1xuICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gaGFuZGxlTGVhcm5Nb3JlKCkge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVybDogXCJodHRwczovL3N1cHBvcnQubW96aWxsYS5vcmcva2IvZmlyZWZveC1uZXctdGFiLXdpZGdldHNcIixcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBoYW5kbGVUaW1lckludGVyYWN0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQcmVmVXBkYXRlKHByZWZOYW1lLCBwcmVmVmFsdWUpIHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5TRVRfUFJFRixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIG5hbWU6IHByZWZOYW1lLFxuICAgICAgICAgIHZhbHVlOiBwcmVmVmFsdWUsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gICAgaGFuZGxlVGltZXJJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgcmV0dXJuIHRpbWVyRGF0YSA/IChcbiAgICA8YXJ0aWNsZVxuICAgICAgY2xhc3NOYW1lPVwiZm9jdXMtdGltZXJcIlxuICAgICAgcmVmPXtlbCA9PiB7XG4gICAgICAgIHRpbWVyUmVmLmN1cnJlbnQgPSBbZWxdO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ld3RhYi13aWRnZXQtdGltZXItbm90aWZpY2F0aW9uLXRpdGxlLXdyYXBwZXJcIj5cbiAgICAgICAgPGgzIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtdGltZXItbm90aWZpY2F0aW9uLXRpdGxlXCI+PC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb2N1cy10aW1lci1jb250ZXh0LW1lbnUtd3JhcHBlclwiPlxuICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmb2N1cy10aW1lci1jb250ZXh0LW1lbnUtYnV0dG9uXCJcbiAgICAgICAgICAgIGljb25TcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9tb3JlLnN2Z1wiXG4gICAgICAgICAgICBtZW51SWQ9XCJmb2N1cy10aW1lci1jb250ZXh0LW1lbnVcIlxuICAgICAgICAgICAgdHlwZT1cImdob3N0XCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxwYW5lbC1saXN0IGlkPVwiZm9jdXMtdGltZXItY29udGV4dC1tZW51XCI+XG4gICAgICAgICAgICA8cGFuZWwtaXRlbVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e1xuICAgICAgICAgICAgICAgIHNob3dTeXN0ZW1Ob3RpZmljYXRpb25zXG4gICAgICAgICAgICAgICAgICA/IFwibmV3dGFiLXdpZGdldC10aW1lci1tZW51LW5vdGlmaWNhdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgOiBcIm5ld3RhYi13aWRnZXQtdGltZXItbWVudS1ub3RpZmljYXRpb25zLW9uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlUHJlZlVwZGF0ZShcbiAgICAgICAgICAgICAgICAgIFwid2lkZ2V0cy5mb2N1c1RpbWVyLnNob3dTeXN0ZW1Ob3RpZmljYXRpb25zXCIsXG4gICAgICAgICAgICAgICAgICAhc2hvd1N5c3RlbU5vdGlmaWNhdGlvbnNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtdGltZXItbWVudS1oaWRlXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZVByZWZVcGRhdGUoXCJ3aWRnZXRzLmZvY3VzVGltZXIuZW5hYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC10aW1lci1tZW51LWxlYXJuLW1vcmVcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWFybk1vcmV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvcGFuZWwtbGlzdD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9jdXMtdGltZXItdGFic1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvY3VzLXRpbWVyLXRhYnMtYnV0dG9uc1wiPlxuICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICB0eXBlPXt0aW1lclR5cGUgPT09IFwiZm9jdXNcIiA/IFwiZGVmYXVsdFwiIDogXCJnaG9zdFwifVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC10aW1lci1tb2RlLWZvY3VzXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVR5cGUoXCJmb2N1c1wiKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICB0eXBlPXt0aW1lclR5cGUgPT09IFwiYnJlYWtcIiA/IFwiZGVmYXVsdFwiIDogXCJnaG9zdFwifVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC10aW1lci1tb2RlLWJyZWFrXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVR5cGUoXCJicmVha1wiKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICByb2xlPVwicHJvZ3Jlc3NcIlxuICAgICAgICBjbGFzc05hbWU9e2Bwcm9ncmVzcy1jaXJjbGUtd3JhcHBlciAke1xuICAgICAgICAgICFzaG93U3lzdGVtTm90aWZpY2F0aW9ucyAmJiAhdGltZXJEYXRhW3RpbWVyVHlwZV0uaXNSdW5uaW5nXG4gICAgICAgICAgICA/IFwiaXMtc21hbGxcIlxuICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgIH1gfVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgcHJvZ3Jlc3MtY2lyY2xlLWJhY2tncm91bmQke3RpbWVyVHlwZSA9PT0gXCJicmVha1wiID8gXCItYnJlYWtcIiA6IFwiXCJ9YH1cbiAgICAgICAgLz5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgcHJvZ3Jlc3MtY2lyY2xlICR7dGltZXJUeXBlID09PSBcImZvY3VzXCIgPyBcImZvY3VzLXZpc2libGVcIiA6IFwiZm9jdXMtaGlkZGVuXCJ9YH1cbiAgICAgICAgICByZWY9e3RpbWVyVHlwZSA9PT0gXCJmb2N1c1wiID8gYXJjUmVmIDogbnVsbH1cbiAgICAgICAgLz5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgcHJvZ3Jlc3MtY2lyY2xlICR7dGltZXJUeXBlID09PSBcImJyZWFrXCIgPyBcImJyZWFrLXZpc2libGVcIiA6IFwiYnJlYWstaGlkZGVuXCJ9YH1cbiAgICAgICAgICByZWY9e3RpbWVyVHlwZSA9PT0gXCJicmVha1wiID8gYXJjUmVmIDogbnVsbH1cbiAgICAgICAgLz5cblxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgcHJvZ3Jlc3MtY2lyY2xlLWNvbXBsZXRlJHtwcm9ncmVzcyA9PT0gMSA/IFwiIHZpc2libGVcIiA6IFwiXCJ9YH1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdiByb2xlPVwidGltZXJcIiBjbGFzc05hbWU9XCJwcm9ncmVzcy1jaXJjbGUtbGFiZWxcIj5cbiAgICAgICAgICA8RWRpdGFibGVUaW1lckZpZWxkc1xuICAgICAgICAgICAgbWludXRlc1JlZj17YWN0aXZlTWludXRlc1JlZn1cbiAgICAgICAgICAgIHNlY29uZHNSZWY9e2FjdGl2ZVNlY29uZHNSZWZ9XG4gICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICBvbkJlZm9yZUlucHV0PXtoYW5kbGVCZWZvcmVJbnB1dH1cbiAgICAgICAgICAgIG9uRm9jdXM9e2hhbmRsZUZvY3VzfVxuICAgICAgICAgICAgdGltZUxlZnQ9e3RpbWVMZWZ0fVxuICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBzZXRUaW1lckR1cmF0aW9uKCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZXQtdGltZXItY29udHJvbHMtd3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZvY3VzLXRpbWVyLWNvbnRyb2xzIHRpbWVyLXJ1bm5pbmdgfT5cbiAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgey4uLighaXNSdW5uaW5nID8geyB0eXBlOiBcInByaW1hcnlcIiB9IDoge30pfVxuICAgICAgICAgICAgaWNvbnNyYz17YGNocm9tZTovL2dsb2JhbC9za2luL21lZGlhLyR7aXNSdW5uaW5nID8gXCJwYXVzZVwiIDogXCJwbGF5XCJ9LWZpbGwuc3ZnYH1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17XG4gICAgICAgICAgICAgIGlzUnVubmluZ1xuICAgICAgICAgICAgICAgID8gXCJuZXd0YWItd2lkZ2V0LXRpbWVyLWxhYmVsLXBhdXNlXCJcbiAgICAgICAgICAgICAgICA6IFwibmV3dGFiLXdpZGdldC10aW1lci1sYWJlbC1wbGF5XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVRpbWVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgICAgIGljb25zcmM9XCJjaHJvbWU6Ly9uZXd0YWIvY29udGVudC9kYXRhL2NvbnRlbnQvYXNzZXRzL2Fycm93LWNsb2Nrd2lzZS0xNi5zdmdcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC10aW1lci1yZXNldFwiXG4gICAgICAgICAgICBvbkNsaWNrPXtyZXNldFRpbWVyfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICB7IXNob3dTeXN0ZW1Ob3RpZmljYXRpb25zICYmICF0aW1lckRhdGFbdGltZXJUeXBlXS5pc1J1bm5pbmcgJiYgKFxuICAgICAgICA8cFxuICAgICAgICAgIGNsYXNzTmFtZT1cInRpbWVyLW5vdGlmaWNhdGlvbi1zdGF0dXNcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtdGltZXItbm90aWZpY2F0aW9uLXdhcm5pbmdcIlxuICAgICAgICA+PC9wPlxuICAgICAgKX1cbiAgICA8L2FydGljbGU+XG4gICkgOiBudWxsO1xufTtcblxuZnVuY3Rpb24gRWRpdGFibGVUaW1lckZpZWxkcyh7XG4gIG1pbnV0ZXNSZWYsXG4gIHNlY29uZHNSZWYsXG4gIHRhYkluZGV4ID0gMCxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPHNwYW5cbiAgICAgICAgY29udGVudEVkaXRhYmxlPVwidHJ1ZVwiXG4gICAgICAgIHJlZj17bWludXRlc1JlZn1cbiAgICAgICAgY2xhc3NOYW1lPVwidGltZXItc2V0LW1pbnV0ZXNcIlxuICAgICAgICBvbktleURvd249e3Byb3BzLm9uS2V5RG93bn1cbiAgICAgICAgb25CZWZvcmVJbnB1dD17cHJvcHMub25CZWZvcmVJbnB1dH1cbiAgICAgICAgb25Gb2N1cz17cHJvcHMub25Gb2N1c31cbiAgICAgICAgb25CbHVyPXtwcm9wcy5vbkJsdXJ9XG4gICAgICAgIHRhYkluZGV4PXt0YWJJbmRleH1cbiAgICAgID5cbiAgICAgICAge2Zvcm1hdFRpbWUocHJvcHMudGltZUxlZnQpLnNwbGl0KFwiOlwiKVswXX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDpcbiAgICAgIDxzcGFuXG4gICAgICAgIGNvbnRlbnRFZGl0YWJsZT1cInRydWVcIlxuICAgICAgICByZWY9e3NlY29uZHNSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT1cInRpbWVyLXNldC1zZWNvbmRzXCJcbiAgICAgICAgb25LZXlEb3duPXtwcm9wcy5vbktleURvd259XG4gICAgICAgIG9uQmVmb3JlSW5wdXQ9e3Byb3BzLm9uQmVmb3JlSW5wdXR9XG4gICAgICAgIG9uRm9jdXM9e3Byb3BzLm9uRm9jdXN9XG4gICAgICAgIG9uQmx1cj17cHJvcHMub25CbHVyfVxuICAgICAgICB0YWJJbmRleD17dGFiSW5kZXh9XG4gICAgICA+XG4gICAgICAgIHtmb3JtYXRUaW1lKHByb3BzLnRpbWVMZWZ0KS5zcGxpdChcIjpcIilbMV19XG4gICAgICA8L3NwYW4+XG4gICAgPC8+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IEZlYXR1cmVIaWdobGlnaHQgfSBmcm9tIFwiLi9GZWF0dXJlSGlnaGxpZ2h0XCI7XG5cbmZ1bmN0aW9uIFdpZGdldHNGZWF0dXJlSGlnaGxpZ2h0KHsgaGFuZGxlRGlzbWlzcywgaGFuZGxlQmxvY2ssIGRpc3BhdGNoIH0pIHtcbiAgY29uc3QgeyBtZXNzYWdlRGF0YSB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuTWVzc2FnZXMpO1xuXG4gIHJldHVybiAoXG4gICAgPEZlYXR1cmVIaWdobGlnaHRcbiAgICAgIHBvc2l0aW9uPVwiaW5zZXQtaW5saW5lLWNlbnRlciBpbnNldC1ibG9jay1lbmRcIlxuICAgICAgYXJyb3dQb3NpdGlvbj1cImFycm93LXRvcC1jZW50ZXJcIlxuICAgICAgb3BlbmVkT3ZlcnJpZGU9e3RydWV9XG4gICAgICBzaG93QnV0dG9uSWNvbj17ZmFsc2V9XG4gICAgICBmZWF0dXJlPXttZXNzYWdlRGF0YT8uY29udGVudD8uZmVhdHVyZX1cbiAgICAgIG1vZGFsQ2xhc3NOYW1lPVwid2lkZ2V0LWhpZ2hsaWdodC13cmFwcGVyXCJcbiAgICAgIG1lc3NhZ2U9e1xuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpZGdldC1oaWdobGlnaHRcIj5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9XCJjaHJvbWU6Ly9uZXd0YWIvY29udGVudC9kYXRhL2NvbnRlbnQvYXNzZXRzL3dpZGdldC1tZXNzYWdlLnBuZ1wiXG4gICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGgzIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbWVzc2FnZS10aXRsZVwiIC8+XG4gICAgICAgICAgPHAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1tZXNzYWdlLWNvcHlcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgIGRpc21pc3NDYWxsYmFjaz17KCkgPT4ge1xuICAgICAgICBoYW5kbGVEaXNtaXNzKCk7XG4gICAgICAgIGhhbmRsZUJsb2NrKCk7XG4gICAgICB9fVxuICAgICAgb3V0c2lkZUNsaWNrQ2FsbGJhY2s9e2hhbmRsZURpc21pc3N9XG4gICAgLz5cbiAgKTtcbn1cblxuZXhwb3J0IHsgV2lkZ2V0c0ZlYXR1cmVIaWdobGlnaHQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgTGlzdHMgfSBmcm9tIFwiLi9MaXN0cy9MaXN0c1wiO1xuaW1wb3J0IHsgRm9jdXNUaW1lciB9IGZyb20gXCIuL0ZvY3VzVGltZXIvRm9jdXNUaW1lclwiO1xuaW1wb3J0IHsgTWVzc2FnZVdyYXBwZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9NZXNzYWdlV3JhcHBlci9NZXNzYWdlV3JhcHBlclwiO1xuaW1wb3J0IHsgV2lkZ2V0c0ZlYXR1cmVIaWdobGlnaHQgfSBmcm9tIFwiLi4vRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L1dpZGdldHNGZWF0dXJlSGlnaGxpZ2h0XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcblxuY29uc3QgUFJFRl9XSURHRVRTX0xJU1RTX0VOQUJMRUQgPSBcIndpZGdldHMubGlzdHMuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9XSURHRVRTX1NZU1RFTV9MSVNUU19FTkFCTEVEID0gXCJ3aWRnZXRzLnN5c3RlbS5saXN0cy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1dJREdFVFNfVElNRVJfRU5BQkxFRCA9IFwid2lkZ2V0cy5mb2N1c1RpbWVyLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfV0lER0VUU19TWVNURU1fVElNRVJfRU5BQkxFRCA9IFwid2lkZ2V0cy5zeXN0ZW0uZm9jdXNUaW1lci5lbmFibGVkXCI7XG5cbmZ1bmN0aW9uIFdpZGdldHMoKSB7XG4gIGNvbnN0IHByZWZzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuUHJlZnMudmFsdWVzKTtcbiAgY29uc3QgeyBtZXNzYWdlRGF0YSB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuTWVzc2FnZXMpO1xuICBjb25zdCBsaXN0c1N0YXRlID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuTGlzdHNXaWRnZXQpO1xuICBjb25zdCB0aW1lclN0YXRlID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuVGltZXJXaWRnZXQpO1xuICBjb25zdCB0aW1lclR5cGUgPSB0aW1lclN0YXRlPy50aW1lclR5cGU7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICBjb25zdCBuaW1idXNMaXN0c0VuYWJsZWQgPSBwcmVmcy53aWRnZXRzQ29uZmlnPy5saXN0c0VuYWJsZWQ7XG4gIGNvbnN0IG5pbWJ1c1RpbWVyRW5hYmxlZCA9IHByZWZzLndpZGdldHNDb25maWc/LnRpbWVyRW5hYmxlZDtcblxuICBjb25zdCBsaXN0c0VuYWJsZWQgPVxuICAgIChuaW1idXNMaXN0c0VuYWJsZWQgfHwgcHJlZnNbUFJFRl9XSURHRVRTX1NZU1RFTV9MSVNUU19FTkFCTEVEXSkgJiZcbiAgICBwcmVmc1tQUkVGX1dJREdFVFNfTElTVFNfRU5BQkxFRF07XG5cbiAgY29uc3QgdGltZXJFbmFibGVkID1cbiAgICAobmltYnVzVGltZXJFbmFibGVkIHx8IHByZWZzW1BSRUZfV0lER0VUU19TWVNURU1fVElNRVJfRU5BQkxFRF0pICYmXG4gICAgcHJlZnNbUFJFRl9XSURHRVRTX1RJTUVSX0VOQUJMRURdO1xuXG4gIGNvbnN0IHRhc2tzQ291bnQgPVxuICAgIGxpc3RzRW5hYmxlZCAmJiBsaXN0c1N0YXRlPy5saXN0cyAmJiBsaXN0c1N0YXRlPy5zZWxlY3RlZFxuICAgICAgPyAobGlzdHNTdGF0ZS5saXN0c1tsaXN0c1N0YXRlLnNlbGVjdGVkXT8udGFza3M/Lmxlbmd0aCA/PyAwKVxuICAgICAgOiAwO1xuXG4gIGNvbnN0IG1hbnlUYXNrcyA9IHRhc2tzQ291bnQgPj0gNDtcbiAgY29uc3QgaXNUaW1lclJ1bm5pbmcgPSB0aW1lclN0YXRlPy5bdGltZXJUeXBlXS5pc1J1bm5pbmc7XG4gIGNvbnN0IHNob3dTY3JvbGxNZXNzYWdlID0gbWFueVRhc2tzIHx8IGlzVGltZXJSdW5uaW5nO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZVVzZXJJbnRlcmFjdGlvbih3aWRnZXROYW1lKSB7XG4gICAgY29uc3QgcHJlZk5hbWUgPSBgd2lkZ2V0cy4ke3dpZGdldE5hbWV9LmludGVyYWN0aW9uYDtcbiAgICBjb25zdCBoYXNJbnRlcmFjdGVkID0gcHJlZnNbcHJlZk5hbWVdO1xuICAgIC8vIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIHZhbHVlIGlzIGEgc3RyaWN0IGZhbHNlIChhbmQgdGhhdCB0aGUgcHJvcGVydHkgZXhpc3RzKVxuICAgIGlmIChoYXNJbnRlcmFjdGVkID09PSBmYWxzZSkge1xuICAgICAgZGlzcGF0Y2goYWMuU2V0UHJlZihwcmVmTmFtZSwgdHJ1ZSkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXRzLXdyYXBwZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2lkZ2V0cy1jb250YWluZXJcIj5cbiAgICAgICAge2xpc3RzRW5hYmxlZCAmJiAoXG4gICAgICAgICAgPExpc3RzXG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBoYW5kbGVVc2VySW50ZXJhY3Rpb249e2hhbmRsZVVzZXJJbnRlcmFjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7dGltZXJFbmFibGVkICYmIChcbiAgICAgICAgICA8Rm9jdXNUaW1lclxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgaGFuZGxlVXNlckludGVyYWN0aW9uPXtoYW5kbGVVc2VySW50ZXJhY3Rpb259XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAge3Nob3dTY3JvbGxNZXNzYWdlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXRzLXNjcm9sbC1tZXNzYWdlIGZhZGUtaW5cIiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICAgICAgICA8cCBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWtlZXAtc2Nyb2xsaW5nXCI+PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICB7bWVzc2FnZURhdGE/LmNvbnRlbnQ/Lm1lc3NhZ2VUeXBlID09PSBcIldpZGdldE1lc3NhZ2VcIiAmJiAoXG4gICAgICAgIDxNZXNzYWdlV3JhcHBlciBkaXNwYXRjaD17ZGlzcGF0Y2h9PlxuICAgICAgICAgIDxXaWRnZXRzRmVhdHVyZUhpZ2hsaWdodCBkaXNwYXRjaD17ZGlzcGF0Y2h9IC8+XG4gICAgICAgIDwvTWVzc2FnZVdyYXBwZXI+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgeyBXaWRnZXRzIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBDYXJkR3JpZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ2FyZEdyaWQvQ2FyZEdyaWRcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbGxhcHNpYmxlU2VjdGlvbi9Db2xsYXBzaWJsZVNlY3Rpb25cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IERTTWVzc2FnZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNNZXNzYWdlL0RTTWVzc2FnZVwiO1xuaW1wb3J0IHsgUmVwb3J0Q29udGVudCB9IGZyb20gXCIuLi9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1JlcG9ydENvbnRlbnQvUmVwb3J0Q29udGVudFwiO1xuaW1wb3J0IHsgRFNTaWdudXAgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTU2lnbnVwL0RTU2lnbnVwXCI7XG5pbXBvcnQgeyBEU1RleHRQcm9tbyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNUZXh0UHJvbW8vRFNUZXh0UHJvbW9cIjtcbmltcG9ydCB7IEhpZ2hsaWdodHMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0hpZ2hsaWdodHMvSGlnaGxpZ2h0c1wiO1xuaW1wb3J0IHsgSG9yaXpvbnRhbFJ1bGUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0hvcml6b250YWxSdWxlL0hvcml6b250YWxSdWxlXCI7XG5pbXBvcnQgeyBOYXZpZ2F0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9OYXZpZ2F0aW9uL05hdmlnYXRpb25cIjtcbmltcG9ydCB7IFByaXZhY3lMaW5rIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Qcml2YWN5TGluay9Qcml2YWN5TGlua1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VjdGlvblRpdGxlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9TZWN0aW9uVGl0bGUvU2VjdGlvblRpdGxlXCI7XG5pbXBvcnQgeyBzZWxlY3RMYXlvdXRSZW5kZXIgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL3NlbGVjdExheW91dFJlbmRlclwiO1xuaW1wb3J0IHsgVG9wU2l0ZXMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc1wiO1xuaW1wb3J0IHsgQ2FyZFNlY3Rpb25zIH0gZnJvbSBcIi4uL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQ2FyZFNlY3Rpb25zL0NhcmRTZWN0aW9uc1wiO1xuaW1wb3J0IHsgV2lkZ2V0cyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1dpZGdldHMvV2lkZ2V0c1wiO1xuXG5jb25zdCBBTExPV0VEX0NTU19VUkxfUFJFRklYRVMgPSBbXG4gIFwiY2hyb21lOi8vXCIsXG4gIFwicmVzb3VyY2U6Ly9cIixcbiAgXCJodHRwczovL2ltZy1nZXRwb2NrZXQuY2RuLm1vemlsbGEubmV0L1wiLFxuXTtcbmNvbnN0IERVTU1ZX0NTU19TRUxFQ1RPUiA9IFwiRFVNTVkjQ1NTLlNFTEVDVE9SXCI7XG5cbi8qKlxuICogVmFsaWRhdGUgYSBDU1MgZGVjbGFyYXRpb24uIFRoZSB2YWx1ZXMgYXJlIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZCBieSBDU1NPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsb3dlZENTUyhwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgLy8gQnVnIDE0NTQ4MjM6IElOVEVSTkFMIHByb3BlcnRpZXMsIGUuZy4sIC1tb3otY29udGV4dC1wcm9wZXJ0aWVzLCBhcmVcbiAgLy8gZXhwb3NlZCBidXQgdGhlaXIgdmFsdWVzIGFyZW4ndCByZXN1bHRpbmcgaW4gZ2V0dGluZyBub3RoaW5nLiBGb3J0dW5hdGVseSxcbiAgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCB2YWxpZGF0aW5nIHRoZSB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgc2V0IG9mIHByb3BlcnRpZXMuXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgYWxsIHVybHMgYXJlIG9mIHRoZSBhbGxvd2VkIHByb3RvY29scy9wcmVmaXhlc1xuICBjb25zdCB1cmxzID0gdmFsdWUubWF0Y2goL3VybFxcKFwiW15cIl0rXCJcXCkvZyk7XG4gIHJldHVybiAoXG4gICAgIXVybHMgfHxcbiAgICB1cmxzLmV2ZXJ5KHVybCA9PlxuICAgICAgQUxMT1dFRF9DU1NfVVJMX1BSRUZJWEVTLnNvbWUocHJlZml4ID0+IHVybC5zbGljZSg1KS5zdGFydHNXaXRoKHByZWZpeCkpXG4gICAgKVxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgX0Rpc2NvdmVyeVN0cmVhbUJhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vblN0eWxlTW91bnQgPSB0aGlzLm9uU3R5bGVNb3VudC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25TdHlsZU1vdW50KHN0eWxlKSB7XG4gICAgLy8gVW5tb3VudGluZyBzdHlsZSBnZXRzIHJpZCBvZiBvbGQgc3R5bGVzLCBzbyBub3RoaW5nIGVsc2UgdG8gZG9cbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBzaGVldCB9ID0gc3R5bGU7XG4gICAgY29uc3Qgc3R5bGVzID0gSlNPTi5wYXJzZShzdHlsZS5kYXRhc2V0LnN0eWxlcyk7XG4gICAgc3R5bGVzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIHJvdy5mb3JFYWNoKChjb21wb25lbnQsIGNvbXBvbmVudEluZGV4KSA9PiB7XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gd2l0aG91dCBvcHRpb25hbCBzdHlsZXMgb3ZlcnJpZGVzXG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoY29tcG9uZW50KS5mb3JFYWNoKChbc2VsZWN0b3JzLCBkZWNsYXJhdGlvbnNdKSA9PiB7XG4gICAgICAgICAgLy8gU3RhcnQgd2l0aCBhIGR1bW15IHJ1bGUgdG8gdmFsaWRhdGUgZGVjbGFyYXRpb25zIGFuZCBzZWxlY3RvcnNcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKGAke0RVTU1ZX0NTU19TRUxFQ1RPUn0ge31gKTtcbiAgICAgICAgICBjb25zdCBbcnVsZV0gPSBzaGVldC5jc3NSdWxlcztcblxuICAgICAgICAgIC8vIFZhbGlkYXRlIGRlY2xhcmF0aW9ucyBhbmQgcmVtb3ZlIGFueSBvZmZlbmRlcnMuIENTU09NIHNpbGVudGx5XG4gICAgICAgICAgLy8gZGlzY2FyZHMgaW52YWxpZCBlbnRyaWVzLCBzbyBoZXJlIHdlIGFwcGx5IGV4dHJhIHJlc3RyaWN0aW9ucy5cbiAgICAgICAgICBydWxlLnN0eWxlID0gZGVjbGFyYXRpb25zO1xuICAgICAgICAgIFsuLi5ydWxlLnN0eWxlXS5mb3JFYWNoKHByb3BlcnR5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcnVsZS5zdHlsZVtwcm9wZXJ0eV07XG4gICAgICAgICAgICBpZiAoIWlzQWxsb3dlZENTUyhwcm9wZXJ0eSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEJhZCBDU1MgZGVjbGFyYXRpb24gJHtwcm9wZXJ0eX06ICR7dmFsdWV9YCk7XG4gICAgICAgICAgICAgIHJ1bGUuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gU2V0IHRoZSBhY3R1YWwgZGVzaXJlZCBzZWxlY3RvcnMgc2NvcGVkIHRvIHRoZSBjb21wb25lbnRcbiAgICAgICAgICBjb25zdCBwcmVmaXggPSBgLmRzLWxheW91dCA+IC5kcy1jb2x1bW46bnRoLWNoaWxkKCR7XG4gICAgICAgICAgICByb3dJbmRleCArIDFcbiAgICAgICAgICB9KSAuZHMtY29sdW1uLWdyaWQgPiA6bnRoLWNoaWxkKCR7Y29tcG9uZW50SW5kZXggKyAxfSlgO1xuICAgICAgICAgIC8vIE5COiBTcGxpdHRpbmcgb24gXCIsXCIgZG9lc24ndCB3b3JrIHdpdGggc3RyaW5ncyB3aXRoIGNvbW1hcywgYnV0XG4gICAgICAgICAgLy8gd2UncmUgb2theSB3aXRoIG5vdCBzdXBwb3J0aW5nIHRob3NlIHNlbGVjdG9yc1xuICAgICAgICAgIHJ1bGUuc2VsZWN0b3JUZXh0ID0gc2VsZWN0b3JzXG4gICAgICAgICAgICAuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICBzZWxlY3RvciA9PlxuICAgICAgICAgICAgICAgIHByZWZpeCArXG4gICAgICAgICAgICAgICAgLy8gQXNzdW1lIDpwc2V1ZG8tY2xhc3NlcyBhcmUgZm9yIGNvbXBvbmVudCBpbnN0ZWFkIG9mIGRlc2NlbmRhbnRcbiAgICAgICAgICAgICAgICAoc2VsZWN0b3JbMF0gPT09IFwiOlwiID8gXCJcIiA6IFwiIFwiKSArXG4gICAgICAgICAgICAgICAgc2VsZWN0b3JcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcblxuICAgICAgICAgIC8vIENTU09NIHNpbGVudGx5IGlnbm9yZXMgYmFkIHNlbGVjdG9ycywgc28gd2UnbGwgYmUgbm9pc3kgaW5zdGVhZFxuICAgICAgICAgIGlmIChydWxlLnNlbGVjdG9yVGV4dCA9PT0gRFVNTVlfQ1NTX1NFTEVDVE9SKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBCYWQgQ1NTIHNlbGVjdG9yICR7c2VsZWN0b3JzfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBzd2l0Y2ggKGNvbXBvbmVudC50eXBlKSB7XG4gICAgICBjYXNlIFwiSGlnaGxpZ2h0c1wiOlxuICAgICAgICByZXR1cm4gPEhpZ2hsaWdodHMgLz47XG4gICAgICBjYXNlIFwiVG9wU2l0ZXNcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXRvcC1zaXRlc1wiPlxuICAgICAgICAgICAgPFRvcFNpdGVzIGlzRml4ZWQ9e3RydWV9IHRpdGxlPXtjb21wb25lbnQuaGVhZGVyPy50aXRsZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJUZXh0UHJvbW9cIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RFNUZXh0UHJvbW9cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgdHlwZT17Y29tcG9uZW50LnR5cGV9XG4gICAgICAgICAgICBkYXRhPXtjb21wb25lbnQuZGF0YX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIlNpZ251cFwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEU1NpZ251cFxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB0eXBlPXtjb21wb25lbnQudHlwZX1cbiAgICAgICAgICAgIGRhdGE9e2NvbXBvbmVudC5kYXRhfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiTWVzc2FnZVwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEU01lc3NhZ2VcbiAgICAgICAgICAgIHRpdGxlPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIudGl0bGV9XG4gICAgICAgICAgICBzdWJ0aXRsZT17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLnN1YnRpdGxlfVxuICAgICAgICAgICAgbGlua190ZXh0PXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIubGlua190ZXh0fVxuICAgICAgICAgICAgbGlua191cmw9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci5saW5rX3VybH1cbiAgICAgICAgICAgIGljb249e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci5pY29ufVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiU2VjdGlvblRpdGxlXCI6XG4gICAgICAgIHJldHVybiA8U2VjdGlvblRpdGxlIGhlYWRlcj17Y29tcG9uZW50LmhlYWRlcn0gLz47XG4gICAgICBjYXNlIFwiTmF2aWdhdGlvblwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxOYXZpZ2F0aW9uXG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIGxpbmtzPXtjb21wb25lbnQucHJvcGVydGllcy5saW5rc31cbiAgICAgICAgICAgIGV4dHJhTGlua3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmV4dHJhTGlua3N9XG4gICAgICAgICAgICBhbGlnbm1lbnQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmFsaWdubWVudH1cbiAgICAgICAgICAgIGV4cGxvcmVfdG9waWNzPXtjb21wb25lbnQucHJvcGVydGllcy5leHBsb3JlX3RvcGljc31cbiAgICAgICAgICAgIGhlYWRlcj17Y29tcG9uZW50LmhlYWRlcn1cbiAgICAgICAgICAgIGxvY2FsZT17dGhpcy5wcm9wcy5BcHAubG9jYWxlfVxuICAgICAgICAgICAgbmV3Rm9vdGVyU2VjdGlvbj17Y29tcG9uZW50Lm5ld0Zvb3RlclNlY3Rpb259XG4gICAgICAgICAgICBwcml2YWN5Tm90aWNlVVJMPXtjb21wb25lbnQucHJvcGVydGllcy5wcml2YWN5Tm90aWNlVVJMfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiQ2FyZEdyaWRcIjoge1xuICAgICAgICBjb25zdCBzZWN0aW9uc0VuYWJsZWQgPVxuICAgICAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1wiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmVuYWJsZWRcIl07XG4gICAgICAgIGlmIChzZWN0aW9uc0VuYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPENhcmRTZWN0aW9uc1xuICAgICAgICAgICAgICBmZWVkPXtjb21wb25lbnQuZmVlZH1cbiAgICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICB0eXBlPXtjb21wb25lbnQudHlwZX1cbiAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXt0aGlzLnByb3BzLmZpcnN0VmlzaWJsZVRpbWVzdGFtcH1cbiAgICAgICAgICAgICAgY3RhQnV0dG9uU3BvbnNvcnM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmN0YUJ1dHRvblNwb25zb3JzfVxuICAgICAgICAgICAgICBjdGFCdXR0b25WYXJpYW50PXtjb21wb25lbnQucHJvcGVydGllcy5jdGFCdXR0b25WYXJpYW50fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENhcmRHcmlkXG4gICAgICAgICAgICB0aXRsZT17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLnRpdGxlfVxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgICBmZWVkPXtjb21wb25lbnQuZmVlZH1cbiAgICAgICAgICAgIHdpZGdldHM9e2NvbXBvbmVudC53aWRnZXRzfVxuICAgICAgICAgICAgdHlwZT17Y29tcG9uZW50LnR5cGV9XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIGl0ZW1zPXtjb21wb25lbnQucHJvcGVydGllcy5pdGVtc31cbiAgICAgICAgICAgIGh5YnJpZExheW91dD17Y29tcG9uZW50LnByb3BlcnRpZXMuaHlicmlkTGF5b3V0fVxuICAgICAgICAgICAgaGlkZUNhcmRCYWNrZ3JvdW5kPXtjb21wb25lbnQucHJvcGVydGllcy5oaWRlQ2FyZEJhY2tncm91bmR9XG4gICAgICAgICAgICBmb3VyQ2FyZExheW91dD17Y29tcG9uZW50LnByb3BlcnRpZXMuZm91ckNhcmRMYXlvdXR9XG4gICAgICAgICAgICBjb21wYWN0R3JpZD17Y29tcG9uZW50LnByb3BlcnRpZXMuY29tcGFjdEdyaWR9XG4gICAgICAgICAgICBjdGFCdXR0b25TcG9uc29ycz17Y29tcG9uZW50LnByb3BlcnRpZXMuY3RhQnV0dG9uU3BvbnNvcnN9XG4gICAgICAgICAgICBjdGFCdXR0b25WYXJpYW50PXtjb21wb25lbnQucHJvcGVydGllcy5jdGFCdXR0b25WYXJpYW50fVxuICAgICAgICAgICAgaGlkZURlc2NyaXB0aW9ucz17dGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW0uaGlkZURlc2NyaXB0aW9uc31cbiAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17dGhpcy5wcm9wcy5maXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgICAgICBzcG9jUG9zaXRpb25zPXtjb21wb25lbnQuc3BvY3M/LnBvc2l0aW9uc31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSBcIkhvcml6b250YWxSdWxlXCI6XG4gICAgICAgIHJldHVybiA8SG9yaXpvbnRhbFJ1bGUgLz47XG4gICAgICBjYXNlIFwiUHJpdmFjeUxpbmtcIjpcbiAgICAgICAgcmV0dXJuIDxQcml2YWN5TGluayBwcm9wZXJ0aWVzPXtjb21wb25lbnQucHJvcGVydGllc30gLz47XG4gICAgICBjYXNlIFwiV2lkZ2V0c1wiOlxuICAgICAgICByZXR1cm4gPFdpZGdldHMgLz47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPGRpdj57Y29tcG9uZW50LnR5cGV9PC9kaXY+O1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclN0eWxlcyhzdHlsZXMpIHtcbiAgICAvLyBVc2UganNvbiBzdHJpbmcgYXMgYm90aCB0aGUga2V5IGFuZCBzdHlsZXMgdG8gcmVuZGVyIHNvIFJlYWN0IGtub3dzIHdoZW5cbiAgICAvLyB0byB1bm1vdW50IGFuZCBtb3VudCBhIG5ldyBpbnN0YW5jZSBmb3IgbmV3IHN0eWxlcy5cbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoc3R5bGVzKTtcbiAgICByZXR1cm4gPHN0eWxlIGtleT17anNvbn0gZGF0YS1zdHlsZXM9e2pzb259IHJlZj17dGhpcy5vblN0eWxlTW91bnR9IC8+O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbG9jYWxlIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIEJ1ZyAxOTgwNDU5IC0gTm90ZSB0aGF0IHNlbGVjdExheW91dFJlbmRlciBhY3RzIGFzIGEgc2VsZWN0b3IgdGhhdCB0cmFuc2Zvcm1zIGxheW91dCBkYXRhIGJhc2VkIG9uIGN1cnJlbnRcbiAgICAvLyBwcmVmZXJlbmNlcyBhbmQgZXhwZXJpbWVudCBmbGFncy4gSXQgcnVucyBhZnRlciBSZWR1eCBzdGF0ZSBpcyBwb3B1bGF0ZWQgYnV0IGJlZm9yZSByZW5kZXIuXG4gICAgLy8gQ29tcG9uZW50cyByZW1vdmVkIGluIHNlbGVjdExheW91dFJlbmRlciAoZS5nLiwgV2lkZ2V0cyBvciBUb3BTaXRlcykgd2lsbCBub3QgYXBwZWFyIGluIHRoZVxuICAgIC8vIGxheW91dFJlbmRlciByZXN1bHQsIGFuZCB0aGVyZWZvcmUgd2lsbCBub3QgYmUgcmVuZGVyZWQgaGVyZSByZWdhcmRsZXNzIG9mIGxvZ2ljIGJlbG93LlxuXG4gICAgLy8gU2VsZWN0IGxheW91dCByZW5kZXJzIGRhdGEgYnkgYWRkaW5nIHNwb2NzIGFuZCBwb3NpdGlvbiB0byByZWNvbW1lbmRhdGlvbnNcbiAgICBjb25zdCB7IGxheW91dFJlbmRlciB9ID0gc2VsZWN0TGF5b3V0UmVuZGVyKHtcbiAgICAgIHN0YXRlOiB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbSxcbiAgICAgIHByZWZzOiB0aGlzLnByb3BzLlByZWZzLnZhbHVlcyxcbiAgICAgIGxvY2FsZSxcbiAgICB9KTtcbiAgICBjb25zdCBzZWN0aW9uc0VuYWJsZWQgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuZW5hYmxlZFwiXTtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW07XG4gICAgY29uc3QgdG9waWNTZWxlY3Rpb25FbmFibGVkID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLmVuYWJsZWRcIl07XG4gICAgY29uc3QgcmVwb3J0QWRzRW5hYmxlZCA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcImRpc2NvdmVyeXN0cmVhbS5yZXBvcnRBZHMuZW5hYmxlZFwiXTtcbiAgICBjb25zdCBzcG9jc0VuYWJsZWQgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcInVuaWZpZWRBZHMuc3BvY3MuZW5hYmxlZFwiXTtcblxuICAgIC8vIEFsbG93IHJlbmRlcmluZyB3aXRob3V0IGV4dHJhY3Rpbmcgc3BlY2lhbCBjb21wb25lbnRzXG4gICAgaWYgKCFjb25maWcuY29sbGFwc2libGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlckxheW91dChsYXlvdXRSZW5kZXIpO1xuICAgIH1cblxuICAgIC8vIEZpbmQgdGhlIGZpcnN0IGNvbXBvbmVudCBvZiBhIHR5cGUgYW5kIHJlbW92ZSBpdCBmcm9tIGxheW91dFxuICAgIGNvbnN0IGV4dHJhY3RDb21wb25lbnQgPSB0eXBlID0+IHtcbiAgICAgIGZvciAoY29uc3QgW3Jvd0luZGV4LCByb3ddIG9mIE9iamVjdC5lbnRyaWVzKGxheW91dFJlbmRlcikpIHtcbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNvbXBvbmVudF0gb2YgT2JqZWN0LmVudHJpZXMocm93LmNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudC50eXBlID09PSB0eXBlKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJvdyBpZiBpdCB3YXMgdGhlIG9ubHkgY29tcG9uZW50IG9yIHRoZSBzaW5nbGUgaXRlbVxuICAgICAgICAgICAgaWYgKHJvdy5jb21wb25lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICBsYXlvdXRSZW5kZXIuc3BsaWNlKHJvd0luZGV4LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJvdy5jb21wb25lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8vIEdldCBcInRvcHN0b3JpZXNcIiBTZWN0aW9uIHN0YXRlIGZvciBkZWZhdWx0IHZhbHVlc1xuICAgIGNvbnN0IHRvcFN0b3JpZXMgPSB0aGlzLnByb3BzLlNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBcInRvcHN0b3JpZXNcIik7XG5cbiAgICBpZiAoIXRvcFN0b3JpZXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgVG9wU2l0ZXMgdG8gcmVuZGVyIGJlZm9yZSB0aGUgcmVzdCBhbmQgTWVzc2FnZSB0byB1c2UgZm9yIGhlYWRlclxuICAgIGNvbnN0IHRvcFNpdGVzID0gZXh0cmFjdENvbXBvbmVudChcIlRvcFNpdGVzXCIpO1xuXG4gICAgLy8gVGhlcmUgYXJlIHR3byB3YXlzIHRvIGVuYWJsZSB3aWRnZXRzOlxuICAgIC8vIFZpYSBgd2lkZ2V0cy5zeXN0ZW0uKmAgcHJlZnMgb3IgTmltYnVzIGV4cGVyaW1lbnRcbiAgICBjb25zdCB3aWRnZXRzTmltYnVzRW5hYmxlZCA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzLndpZGdldHNDb25maWc/LmVuYWJsZWQ7XG4gICAgY29uc3Qgd2lkZ2V0c1N5c3RlbVByZWZzRW5hYmxlZCA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcIndpZGdldHMuc3lzdGVtLmVuYWJsZWRcIl07XG5cbiAgICBjb25zdCB3aWRnZXRzID0gd2lkZ2V0c05pbWJ1c0VuYWJsZWQgfHwgd2lkZ2V0c1N5c3RlbVByZWZzRW5hYmxlZDtcblxuICAgIGNvbnN0IG1lc3NhZ2UgPSBleHRyYWN0Q29tcG9uZW50KFwiTWVzc2FnZVwiKSB8fCB7XG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgbGlua190ZXh0OiB0b3BTdG9yaWVzLmxlYXJuTW9yZS5saW5rLm1lc3NhZ2UsXG4gICAgICAgIGxpbmtfdXJsOiB0b3BTdG9yaWVzLmxlYXJuTW9yZS5saW5rLmhyZWYsXG4gICAgICAgIHRpdGxlOiB0b3BTdG9yaWVzLnRpdGxlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgcHJpdmFjeUxpbmtDb21wb25lbnQgPSBleHRyYWN0Q29tcG9uZW50KFwiUHJpdmFjeUxpbmtcIik7XG4gICAgbGV0IGxlYXJuTW9yZSA9IHtcbiAgICAgIGxpbms6IHtcbiAgICAgICAgaHJlZjogbWVzc2FnZS5oZWFkZXIubGlua191cmwsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UuaGVhZGVyLmxpbmtfdGV4dCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBsZXQgc2VjdGlvblRpdGxlID0gbWVzc2FnZS5oZWFkZXIudGl0bGU7XG4gICAgbGV0IHN1YlRpdGxlID0gXCJcIjtcblxuICAgIGNvbnN0IHsgRGlzY292ZXJ5U3RyZWFtIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgey8qIFJlcG9ydGluZyBzdG9yaWVzL2FydGljbGVzIHdpbGwgb25seSBiZSBhdmFpbGFibGUgaW4gc2VjdGlvbnMsIG5vdCB0aGUgZGVmYXVsdCBjYXJkIGdyaWQgICovfVxuICAgICAgICB7KChyZXBvcnRBZHNFbmFibGVkICYmIHNwb2NzRW5hYmxlZCkgfHwgc2VjdGlvbnNFbmFibGVkKSAmJiAoXG4gICAgICAgICAgPFJlcG9ydENvbnRlbnQgc3BvY3M9e0Rpc2NvdmVyeVN0cmVhbS5zcG9jc30gLz5cbiAgICAgICAgKX1cblxuICAgICAgICB7dG9wU2l0ZXMgJiZcbiAgICAgICAgICB0aGlzLnJlbmRlckxheW91dChbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgICAgY29tcG9uZW50czogW3RvcFNpdGVzXSxcbiAgICAgICAgICAgICAgc2VjdGlvblR5cGU6IFwidG9wc2l0ZXNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSl9XG4gICAgICAgIHt3aWRnZXRzICYmXG4gICAgICAgICAgdGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICAgIGNvbXBvbmVudHM6IFt7IHR5cGU6IFwiV2lkZ2V0c1wiIH1dLFxuICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogXCJ3aWRnZXRzXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0pfVxuICAgICAgICB7ISFsYXlvdXRSZW5kZXIubGVuZ3RoICYmIChcbiAgICAgICAgICA8Q29sbGFwc2libGVTZWN0aW9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1sYXlvdXRcIlxuICAgICAgICAgICAgY29sbGFwc2VkPXt0b3BTdG9yaWVzLnByZWYuY29sbGFwc2VkfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBpZD17dG9wU3Rvcmllcy5pZH1cbiAgICAgICAgICAgIGlzRml4ZWQ9e3RydWV9XG4gICAgICAgICAgICBsZWFybk1vcmU9e2xlYXJuTW9yZX1cbiAgICAgICAgICAgIHByaXZhY3lOb3RpY2VVUkw9e3RvcFN0b3JpZXMucHJpdmFjeU5vdGljZVVSTH1cbiAgICAgICAgICAgIHNob3dQcmVmTmFtZT17dG9wU3Rvcmllcy5wcmVmLmZlZWR9XG4gICAgICAgICAgICB0aXRsZT17c2VjdGlvblRpdGxlfVxuICAgICAgICAgICAgc3ViVGl0bGU9e3N1YlRpdGxlfVxuICAgICAgICAgICAgbWF5SGF2ZVRvcGljc1NlbGVjdGlvbj17dG9waWNTZWxlY3Rpb25FbmFibGVkfVxuICAgICAgICAgICAgc2VjdGlvbnNFbmFibGVkPXtzZWN0aW9uc0VuYWJsZWR9XG4gICAgICAgICAgICBldmVudFNvdXJjZT1cIkNBUkRHUklEXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJMYXlvdXQobGF5b3V0UmVuZGVyKX1cbiAgICAgICAgICA8L0NvbGxhcHNpYmxlU2VjdGlvbj5cbiAgICAgICAgKX1cbiAgICAgICAge3RoaXMucmVuZGVyTGF5b3V0KFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbeyB0eXBlOiBcIkhpZ2hsaWdodHNcIiB9XSxcbiAgICAgICAgICB9LFxuICAgICAgICBdKX1cbiAgICAgICAge3ByaXZhY3lMaW5rQ29tcG9uZW50ICYmXG4gICAgICAgICAgdGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aWR0aDogMTIsXG4gICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtwcml2YWN5TGlua0NvbXBvbmVudF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0pfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTGF5b3V0KGxheW91dFJlbmRlcikge1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIGxldCBbZGF0YV0gPSBsYXlvdXRSZW5kZXI7XG4gICAgLy8gQWRkIGhlbHBlciBjbGFzcyBmb3IgdG9wc2l0ZXNcbiAgICBjb25zdCBzZWN0aW9uQ2xhc3MgPSBkYXRhLnNlY3Rpb25UeXBlXG4gICAgICA/IGBkcy1sYXlvdXQtJHtkYXRhLnNlY3Rpb25UeXBlfWBcbiAgICAgIDogXCJcIjtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGRpc2NvdmVyeS1zdHJlYW0gZHMtbGF5b3V0ICR7c2VjdGlvbkNsYXNzfWB9PlxuICAgICAgICB7bGF5b3V0UmVuZGVyLm1hcCgocm93LCByb3dJbmRleCkgPT4gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGtleT17YHJvdy0ke3Jvd0luZGV4fWB9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2Bkcy1jb2x1bW4gZHMtY29sdW1uLSR7cm93LndpZHRofWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1jb2x1bW4tZ3JpZFwiPlxuICAgICAgICAgICAgICB7cm93LmNvbXBvbmVudHMubWFwKChjb21wb25lbnQsIGNvbXBvbmVudEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdHlsZXNbcm93SW5kZXhdID0gW1xuICAgICAgICAgICAgICAgICAgLi4uKHN0eWxlc1tyb3dJbmRleF0gfHwgW10pLFxuICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnN0eWxlcyxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YGNvbXBvbmVudC0ke2NvbXBvbmVudEluZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDb21wb25lbnQoY29tcG9uZW50LCByb3cud2lkdGgpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICAgIHt0aGlzLnJlbmRlclN0eWxlcyhzdHlsZXMpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRGlzY292ZXJ5U3RyZWFtQmFzZSA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbiAgU2VjdGlvbnM6IHN0YXRlLlNlY3Rpb25zLFxuICBkb2N1bWVudDogZ2xvYmFsVGhpcy5kb2N1bWVudCxcbiAgQXBwOiBzdGF0ZS5BcHAsXG59KSkoX0Rpc2NvdmVyeVN0cmVhbUJhc2UpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tIFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiO1xuXG5mdW5jdGlvbiBTZWN0aW9uc01nbXRQYW5lbCh7IGV4aXRFdmVudEZpcmVkIH0pIHtcbiAgY29uc3QgW3Nob3dQYW5lbCwgc2V0U2hvd1BhbmVsXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gU3RhdGUgbWFuYWdlbWVudCB3aXRoIHVzZVN0YXRlXG4gIGNvbnN0IHsgc2VjdGlvblBlcnNvbmFsaXphdGlvbiB9ID0gdXNlU2VsZWN0b3IoXG4gICAgc3RhdGUgPT4gc3RhdGUuRGlzY292ZXJ5U3RyZWFtXG4gICk7XG4gIGNvbnN0IGxheW91dENvbXBvbmVudHMgPSB1c2VTZWxlY3RvcihcbiAgICBzdGF0ZSA9PiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0ubGF5b3V0WzBdLmNvbXBvbmVudHNcbiAgKTtcbiAgY29uc3Qgc2VjdGlvbnMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0uZmVlZHMuZGF0YSk7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICAvLyBUT0RPOiBXcmFwIHNlY3Rpb25zRmVlZE5hbWUgLT4gc2VjdGlvbnNMaXN0IGxvZ2ljIGluIHRyeS4uLmNhdGNoP1xuICBsZXQgc2VjdGlvbnNGZWVkTmFtZTtcblxuICBjb25zdCBjYXJkR3JpZEVudHJ5ID0gbGF5b3V0Q29tcG9uZW50cy5maW5kKGl0ZW0gPT4gaXRlbS50eXBlID09PSBcIkNhcmRHcmlkXCIpO1xuXG4gIGlmIChjYXJkR3JpZEVudHJ5KSB7XG4gICAgc2VjdGlvbnNGZWVkTmFtZSA9IGNhcmRHcmlkRW50cnkuZmVlZC51cmw7XG4gIH1cblxuICBsZXQgc2VjdGlvbnNMaXN0O1xuXG4gIGlmIChzZWN0aW9uc0ZlZWROYW1lKSB7XG4gICAgc2VjdGlvbnNMaXN0ID0gc2VjdGlvbnNbc2VjdGlvbnNGZWVkTmFtZV0uZGF0YS5zZWN0aW9ucztcbiAgfVxuXG4gIGNvbnN0IFtzZWN0aW9uc1N0YXRlLCBzZXRTZWN0aW9uU3RhdGVdID0gdXNlU3RhdGUoc2VjdGlvblBlcnNvbmFsaXphdGlvbik7IC8vIFN0YXRlIG1hbmFnZW1lbnQgd2l0aCB1c2VTdGF0ZVxuXG4gIGxldCBmb2xsb3dlZFNlY3Rpb25zRGF0YSA9IHNlY3Rpb25zTGlzdC5maWx0ZXIoXG4gICAgaXRlbSA9PiBzZWN0aW9uc1N0YXRlW2l0ZW0uc2VjdGlvbktleV0/LmlzRm9sbG93ZWRcbiAgKTtcblxuICBsZXQgYmxvY2tlZFNlY3Rpb25zRGF0YSA9IHNlY3Rpb25zTGlzdC5maWx0ZXIoXG4gICAgaXRlbSA9PiBzZWN0aW9uc1N0YXRlW2l0ZW0uc2VjdGlvbktleV0/LmlzQmxvY2tlZFxuICApO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZERhdGEoKSB7XG4gICAgLy8gUmVzZXQgY2FjaGVkIGZvbGxvd2VkL2Jsb2NrZWQgbGlzdCBkYXRhIHdoaWxlIHBhbmVsIGlzIG9wZW5cbiAgICBzZXRTZWN0aW9uU3RhdGUoc2VjdGlvblBlcnNvbmFsaXphdGlvbik7XG5cbiAgICBmb2xsb3dlZFNlY3Rpb25zRGF0YSA9IHNlY3Rpb25zTGlzdC5maWx0ZXIoXG4gICAgICBpdGVtID0+IHNlY3Rpb25zU3RhdGVbaXRlbS5zZWN0aW9uS2V5XT8uaXNGb2xsb3dlZFxuICAgICk7XG5cbiAgICBibG9ja2VkU2VjdGlvbnNEYXRhID0gc2VjdGlvbnNMaXN0LmZpbHRlcihcbiAgICAgIGl0ZW0gPT4gc2VjdGlvbnNTdGF0ZVtpdGVtLnNlY3Rpb25LZXldPy5pc0Jsb2NrZWRcbiAgICApO1xuICB9XG5cbiAgY29uc3Qgb25Gb2xsb3dDbGljayA9IHVzZUNhbGxiYWNrKFxuICAgIChzZWN0aW9uS2V5LCByZWNlaXZlZFJhbmspID0+IHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5TRUNUSU9OX1BFUlNPTkFMSVpBVElPTl9TRVQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgLi4uc2VjdGlvblBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICAgIFtzZWN0aW9uS2V5XToge1xuICAgICAgICAgICAgICBpc0ZvbGxvd2VkOiB0cnVlLFxuICAgICAgICAgICAgICBpc0Jsb2NrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICBmb2xsb3dlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gVGVsZW1ldHJ5IEV2ZW50IERpc3BhdGNoXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogXCJGT0xMT1dfU0VDVElPTlwiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiByZWNlaXZlZFJhbmssXG4gICAgICAgICAgICBldmVudF9zb3VyY2U6IFwiQ1VTVE9NSVpFX1BBTkVMXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBbZGlzcGF0Y2gsIHNlY3Rpb25QZXJzb25hbGl6YXRpb25dXG4gICk7XG5cbiAgY29uc3Qgb25CbG9ja0NsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKHNlY3Rpb25LZXksIHJlY2VpdmVkUmFuaykgPT4ge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAuLi5zZWN0aW9uUGVyc29uYWxpemF0aW9uLFxuICAgICAgICAgICAgW3NlY3Rpb25LZXldOiB7XG4gICAgICAgICAgICAgIGlzRm9sbG93ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICBpc0Jsb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBUZWxlbWV0cnkgRXZlbnQgRGlzcGF0Y2hcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBcIkJMT0NLX1NFQ1RJT05cIixcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzZWN0aW9uOiBzZWN0aW9uS2V5LFxuICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogcmVjZWl2ZWRSYW5rLFxuICAgICAgICAgICAgZXZlbnRfc291cmNlOiBcIkNVU1RPTUlaRV9QQU5FTFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAgW2Rpc3BhdGNoLCBzZWN0aW9uUGVyc29uYWxpemF0aW9uXVxuICApO1xuXG4gIGNvbnN0IG9uVW5ibG9ja0NsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKHNlY3Rpb25LZXksIHJlY2VpdmVkUmFuaykgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFNlY3Rpb25EYXRhID0geyAuLi5zZWN0aW9uUGVyc29uYWxpemF0aW9uIH07XG4gICAgICBkZWxldGUgdXBkYXRlZFNlY3Rpb25EYXRhW3NlY3Rpb25LZXldO1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVCxcbiAgICAgICAgICBkYXRhOiB1cGRhdGVkU2VjdGlvbkRhdGEsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gVGVsZW1ldHJ5IEV2ZW50IERpc3BhdGNoXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogXCJVTkJMT0NLX1NFQ1RJT05cIixcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBzZWN0aW9uOiBzZWN0aW9uS2V5LFxuICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogcmVjZWl2ZWRSYW5rLFxuICAgICAgICAgICAgZXZlbnRfc291cmNlOiBcIkNVU1RPTUlaRV9QQU5FTFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAgW2Rpc3BhdGNoLCBzZWN0aW9uUGVyc29uYWxpemF0aW9uXVxuICApO1xuXG4gIGNvbnN0IG9uVW5mb2xsb3dDbGljayA9IHVzZUNhbGxiYWNrKFxuICAgIChzZWN0aW9uS2V5LCByZWNlaXZlZFJhbmspID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRTZWN0aW9uRGF0YSA9IHsgLi4uc2VjdGlvblBlcnNvbmFsaXphdGlvbiB9O1xuICAgICAgZGVsZXRlIHVwZGF0ZWRTZWN0aW9uRGF0YVtzZWN0aW9uS2V5XTtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5TRUNUSU9OX1BFUlNPTkFMSVpBVElPTl9TRVQsXG4gICAgICAgICAgZGF0YTogdXBkYXRlZFNlY3Rpb25EYXRhLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIC8vIFRlbGVtZXRyeSBFdmVudCBEaXNwYXRjaFxuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IFwiVU5GT0xMT1dfU0VDVElPTlwiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiByZWNlaXZlZFJhbmssXG4gICAgICAgICAgICBldmVudF9zb3VyY2U6IFwiQ1VTVE9NSVpFX1BBTkVMXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBbZGlzcGF0Y2gsIHNlY3Rpb25QZXJzb25hbGl6YXRpb25dXG4gICk7XG5cbiAgLy8gQ2xvc2UgZm9sbG93ZWQvYmxvY2tlZCB0b3BpYyBzdWJwYW5lbCB3aGVuIHBhcmVudCBtZW51IGlzIGNsb3NlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChleGl0RXZlbnRGaXJlZCkge1xuICAgICAgc2V0U2hvd1BhbmVsKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtleGl0RXZlbnRGaXJlZF0pO1xuXG4gIGNvbnN0IHRvZ2dsZVBhbmVsID0gKCkgPT4ge1xuICAgIHNldFNob3dQYW5lbChwcmV2U2hvd1BhbmVsID0+ICFwcmV2U2hvd1BhbmVsKTtcblxuICAgIC8vIEZpcmUgd2hlbiB0aGUgcGFuZWwgaXMgb3BlblxuICAgIGlmICghc2hvd1BhbmVsKSB7XG4gICAgICB1cGRhdGVDYWNoZWREYXRhKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZvbGxvd2VkU2VjdGlvbnNMaXN0ID0gZm9sbG93ZWRTZWN0aW9uc0RhdGEubWFwKFxuICAgICh7IHNlY3Rpb25LZXksIHRpdGxlLCByZWNlaXZlZFJhbmsgfSkgPT4ge1xuICAgICAgY29uc3QgZm9sbG93aW5nID0gc2VjdGlvblBlcnNvbmFsaXphdGlvbltzZWN0aW9uS2V5XT8uaXNGb2xsb3dlZDtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGtleT17c2VjdGlvbktleX0+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2Bmb2xsb3ctdG9waWMtJHtzZWN0aW9uS2V5fWB9Pnt0aXRsZX08L2xhYmVsPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgIGZvbGxvd2luZyA/IFwic2VjdGlvbi1mb2xsb3cgZm9sbG93aW5nXCIgOiBcInNlY3Rpb24tZm9sbG93XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgIGZvbGxvd2luZ1xuICAgICAgICAgICAgICAgICAgPyBvblVuZm9sbG93Q2xpY2soc2VjdGlvbktleSwgcmVjZWl2ZWRSYW5rKVxuICAgICAgICAgICAgICAgICAgOiBvbkZvbGxvd0NsaWNrKHNlY3Rpb25LZXksIHJlY2VpdmVkUmFuaylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0eXBlPXtcImRlZmF1bHRcIn1cbiAgICAgICAgICAgICAgaW5kZXg9e3JlY2VpdmVkUmFua31cbiAgICAgICAgICAgICAgc2VjdGlvbj17c2VjdGlvbktleX1cbiAgICAgICAgICAgICAgaWQ9e2Bmb2xsb3ctdG9waWMtJHtzZWN0aW9uS2V5fWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tZm9sbG93LXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLWZvbGxvdy1idXR0b25cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY3Rpb24tYnV0dG9uLWZvbGxvd2luZy10ZXh0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1mb2xsb3dpbmctYnV0dG9uXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLWJ1dHRvbi11bmZvbGxvdy10ZXh0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi11bmZvbGxvdy1idXR0b25cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9tb3otYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9XG4gICk7XG5cbiAgY29uc3QgYmxvY2tlZFNlY3Rpb25zTGlzdCA9IGJsb2NrZWRTZWN0aW9uc0RhdGEubWFwKFxuICAgICh7IHNlY3Rpb25LZXksIHRpdGxlLCByZWNlaXZlZFJhbmsgfSkgPT4ge1xuICAgICAgY29uc3QgYmxvY2tlZCA9IHNlY3Rpb25QZXJzb25hbGl6YXRpb25bc2VjdGlvbktleV0/LmlzQmxvY2tlZDtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGxpIGtleT17c2VjdGlvbktleX0+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2BibG9ja2VkLXRvcGljLSR7c2VjdGlvbktleX1gfT57dGl0bGV9PC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YmxvY2tlZCA/IFwic2VjdGlvbi1ibG9jayBibG9ja2VkXCIgOiBcInNlY3Rpb24tYmxvY2tcIn0+XG4gICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxuICAgICAgICAgICAgICAgIGJsb2NrZWRcbiAgICAgICAgICAgICAgICAgID8gb25VbmJsb2NrQ2xpY2soc2VjdGlvbktleSwgcmVjZWl2ZWRSYW5rKVxuICAgICAgICAgICAgICAgICAgOiBvbkJsb2NrQ2xpY2soc2VjdGlvbktleSwgcmVjZWl2ZWRSYW5rKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgaW5kZXg9e3JlY2VpdmVkUmFua31cbiAgICAgICAgICAgICAgc2VjdGlvbj17c2VjdGlvbktleX1cbiAgICAgICAgICAgICAgaWQ9e2BibG9ja2VkLXRvcGljLSR7c2VjdGlvbktleX1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY3Rpb24tYnV0dG9uLWJsb2NrLXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLWJsb2NrLWJ1dHRvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tYmxvY2tlZC10ZXh0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1ibG9ja2VkLWJ1dHRvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tdW5ibG9jay10ZXh0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi11bmJsb2NrLWJ1dHRvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L21vei1idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH1cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8bW96LWJveC1idXR0b25cbiAgICAgICAgb25DbGljaz17dG9nZ2xlUGFuZWx9XG4gICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLW1hbmFnZS10b3BpY3MtYnV0dG9uLXYyXCJcbiAgICAgID48L21vei1ib3gtYnV0dG9uPlxuICAgICAgPENTU1RyYW5zaXRpb25cbiAgICAgICAgaW49e3Nob3dQYW5lbH1cbiAgICAgICAgdGltZW91dD17MzAwfVxuICAgICAgICBjbGFzc05hbWVzPVwic2VjdGlvbnMtbWdtdC1wYW5lbFwiXG4gICAgICAgIHVubW91bnRPbkV4aXQ9e3RydWV9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbnMtbWdtdC1wYW5lbFwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYXJyb3ctYnV0dG9uXCIgb25DbGljaz17dG9nZ2xlUGFuZWx9PlxuICAgICAgICAgICAgPGgxIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLW1hbmdhZ2UtdG9waWNzLXRpdGxlXCI+PC9oMT5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDMgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tbWFuZ2FnZS10b3BpY3MtZm9sbG93ZWQtdG9waWNzXCI+PC9oMz5cbiAgICAgICAgICB7Zm9sbG93ZWRTZWN0aW9uc0RhdGEubGVuZ3RoID8gKFxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRvcGljLWxpc3RcIj57Zm9sbG93ZWRTZWN0aW9uc0xpc3R9PC91bD5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9waWMtbGlzdC1lbXB0eS1zdGF0ZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLW1hbmdhZ2UtdG9waWNzLWZvbGxvd2VkLXRvcGljcy1lbXB0eS1zdGF0ZVwiXG4gICAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGgzIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLW1hbmdhZ2UtdG9waWNzLWJsb2NrZWQtdG9waWNzXCI+PC9oMz5cbiAgICAgICAgICB7YmxvY2tlZFNlY3Rpb25zRGF0YS5sZW5ndGggPyAoXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidG9waWMtbGlzdFwiPntibG9ja2VkU2VjdGlvbnNMaXN0fTwvdWw+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcGljLWxpc3QtZW1wdHktc3RhdGVcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1tYW5nYWdlLXRvcGljcy1ibG9ja2VkLXRvcGljcy1lbXB0eS1zdGF0ZVwiXG4gICAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9DU1NUcmFuc2l0aW9uPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgeyBTZWN0aW9uc01nbXRQYW5lbCB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiB9IGZyb20gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCI7XG5cbmNvbnN0IFBSRUZfV0FMTFBBUEVSX1VQTE9BREVEX1BSRVZJT1VTTFkgPVxuICBcIm5ld3RhYldhbGxwYXBlcnMuY3VzdG9tV2FsbHBhcGVyLnVwbG9hZGVkUHJldmlvdXNseVwiO1xuXG5jb25zdCBQUkVGX1dBTExQQVBFUl9VUExPQURfTUFYX0ZJTEVfU0laRSA9XG4gIFwibmV3dGFiV2FsbHBhcGVycy5jdXN0b21XYWxscGFwZXIuZmlsZVNpemVcIjtcblxuY29uc3QgUFJFRl9XQUxMUEFQRVJfVVBMT0FEX01BWF9GSUxFX1NJWkVfRU5BQkxFRCA9XG4gIFwibmV3dGFiV2FsbHBhcGVycy5jdXN0b21XYWxscGFwZXIuZmlsZVNpemUuZW5hYmxlZFwiO1xuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2lsbCBub3QgYmUgY29udGludW91c2x5IHRyaWdnZXJlZCB3aGVuIGNhbGxlZC4gVGhlXG4vLyBmdW5jdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBpZiBjYWxsZWQgYWdhaW4gYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQpIHtcbiAgbGV0IHRpbWVyO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgd2FrZVVwID0gKCkgPT4ge1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aW1lciA9IHNldFRpbWVvdXQod2FrZVVwLCB3YWl0KTtcbiAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgX1dhbGxwYXBlckNhdGVnb3JpZXMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5oYW5kbGVDb2xvcklucHV0ID0gdGhpcy5oYW5kbGVDb2xvcklucHV0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWJvdW5jZWRIYW5kbGVDaGFuZ2UgPSBkZWJvdW5jZSh0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpLCA5OTkpO1xuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVJlc2V0ID0gdGhpcy5oYW5kbGVSZXNldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQ2F0ZWdvcnkgPSB0aGlzLmhhbmRsZUNhdGVnb3J5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5mb2N1c0NhdGVnb3J5ID0gdGhpcy5mb2N1c0NhdGVnb3J5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVVcGxvYWQgPSB0aGlzLmhhbmRsZVVwbG9hZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQmFjayA9IHRoaXMuaGFuZGxlQmFjay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZ2V0UkdCQ29sb3JzID0gdGhpcy5nZXRSR0JDb2xvcnMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnByZWZlcnNIaWdoQ29udHJhc3RRdWVyeSA9IG51bGw7XG4gICAgdGhpcy5wcmVmZXJzRGFya1F1ZXJ5ID0gbnVsbDtcbiAgICB0aGlzLmNhdGVnb3J5UmVmID0gW107IC8vIHN0b3JlIHJlZmVyZW5jZXMgZm9yIHdhbGxwYXBlciBjYXRlZ29yeSBsaXN0XG4gICAgdGhpcy53YWxscGFwZXJSZWYgPSBbXTsgLy8gc3RvcmUgcmVmZXJlbmNlIGZvciB3YWxscGFwZXIgc2VsZWN0aW9uIGxpc3RcbiAgICB0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7IC8vIFVzZWQgdG8gZGV0ZXJtaW5lIGNvbnRyYXN0IGljb24gY29sb3IgZm9yIGN1c3RvbSBjb2xvciBwaWNrZXJcbiAgICB0aGlzLmN1c3RvbUNvbG9ySW5wdXQgPSBSZWFjdC5jcmVhdGVSZWYoKTsgLy8gVXNlZCB0byBkZXRlcm1pbmUgY29udHJhc3QgaWNvbiBjb2xvciBmb3IgY3VzdG9tIGNvbG9yIHBpY2tlclxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVDYXRlZ29yeTogbnVsbCxcbiAgICAgIGFjdGl2ZUNhdGVnb3J5Rmx1ZW50SUQ6IG51bGwsXG4gICAgICBzaG93Q29sb3JQaWNrZXI6IGZhbHNlLFxuICAgICAgaW5wdXRUeXBlOiBcInJhZGlvXCIsXG4gICAgICBhY3RpdmVJZDogbnVsbCxcbiAgICAgIGN1c3RvbVdhbGxwYXBlckVycm9yVHlwZTogbnVsbCxcbiAgICAgIGZvY3VzZWRDYXRlZ29yeUluZGV4OiAwLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnByZWZlcnNEYXJrUXVlcnkgPSBnbG9iYWxUaGlzLm1hdGNoTWVkaWEoXG4gICAgICBcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIlxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgLy8gV2FsbGxwYXBlciBjYXRlZ29yeSBzdWJwYW5lbCBzaG91bGQgY2xvc2Ugd2hlbiBwYXJlbnQgbWVudSBpcyBjbG9zZWRcbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmV4aXRFdmVudEZpcmVkICYmXG4gICAgICB0aGlzLnByb3BzLmV4aXRFdmVudEZpcmVkICE9PSBwcmV2UHJvcHMuZXhpdEV2ZW50RmlyZWRcbiAgICApIHtcbiAgICAgIHRoaXMuaGFuZGxlQmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNvbG9ySW5wdXQoZXZlbnQpIHtcbiAgICBsZXQgeyBpZCB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIC8vIFNldCBJRCB0byBpbmNsdWRlIGhleCB2YWx1ZSBvZiBjdXN0b20gY29sb3JcbiAgICBpZCA9IGBzb2xpZC1jb2xvci1waWNrZXItJHtldmVudC50YXJnZXQudmFsdWV9YDtcbiAgICBjb25zdCByZ2JDb2xvcnMgPSB0aGlzLmdldFJHQkNvbG9ycyhldmVudC50YXJnZXQudmFsdWUpO1xuXG4gICAgLy8gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gY3VzdG9tIGNvbG9yXG4gICAgZXZlbnQudGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGByZ2IoJHtyZ2JDb2xvcnMudG9TdHJpbmcoKX0pYDtcblxuICAgIGlmICh0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IGNvbG9ySW5wdXRCYWNrZ3JvdW5kID1cbiAgICAgICAgdGhpcy5jdXN0b21Db2xvclBpY2tlclJlZi5jdXJyZW50LmNoaWxkcmVuWzBdLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcbiAgICAgIHRoaXMuY3VzdG9tQ29sb3JQaWNrZXJSZWYuY3VycmVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPVxuICAgICAgICBjb2xvcklucHV0QmFja2dyb3VuZDtcbiAgICB9XG5cbiAgICAvLyBTZXQgaWNvbiBjb2xvciBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgY29sb3JcbiAgICBjb25zdCBpc0NvbG9yRGFyayA9IHRoaXMuaXNXYWxscGFwZXJDb2xvckRhcmsocmdiQ29sb3JzKTtcbiAgICBpZiAodGhpcy5jdXN0b21Db2xvclBpY2tlclJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAoaXNDb2xvckRhcmspIHtcbiAgICAgICAgdGhpcy5jdXN0b21Db2xvclBpY2tlclJlZi5jdXJyZW50LmNsYXNzTGlzdC5hZGQoXCJpcy1kYXJrXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXN0b21Db2xvclBpY2tlclJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1kYXJrXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgYW55IHBvc3NpYmxlIGluaXRpYWwgY2xhc3Nlc1xuICAgICAgdGhpcy5jdXN0b21Db2xvclBpY2tlclJlZi5jdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoXG4gICAgICAgIFwiY3VzdG9tLWNvbG9yLXNldFwiLFxuICAgICAgICBcImN1c3RvbS1jb2xvci1kYXJrXCIsXG4gICAgICAgIFwiZGVmYXVsdC1jb2xvci1zZXRcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBTZXR0aW5nIHRoaXMgbm93IHNvIHdoZW4gd2UgcmVtb3ZlIHYxIHdlIGRvbid0IGhhdmUgdG8gbWlncmF0ZSB2MSB2YWx1ZXMuXG4gICAgdGhpcy5wcm9wcy5zZXRQcmVmKFwibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIiwgaWQpO1xuICB9XG5cbiAgLy8gTm90ZTogVGhlcmUncyBhIHNlcGFyYXRlIGV2ZW50IChkZWJvdW5jZWRIYW5kbGVDaGFuZ2UpIHRoYXQgZmlyZXMgdGhlIGhhbmRsZUNoYW5nZVxuICAvLyBldmVudCBidXQgaXMgZGVsYXllZCBzbyB0aGF0IGl0IGRvZXNuJ3QgZmlyZSBtdWx0aXBsZSBldmVudHMgd2hlbiBhIHVzZXJcbiAgLy8gaXMgc2VsZWN0aW5nIGEgY3VzdG9tIGNvbG9yIGJhY2tncm91bmRcbiAgaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgbGV0IHsgaWQgfSA9IGV2ZW50LnRhcmdldDtcblxuICAgIC8vIFNldCBJRCB0byBpbmNsdWRlIGhleCB2YWx1ZSBvZiBjdXN0b20gY29sb3JcbiAgICBpZiAoaWQgPT09IFwic29saWQtY29sb3ItcGlja2VyXCIpIHtcbiAgICAgIGlkID0gYHNvbGlkLWNvbG9yLXBpY2tlci0ke2V2ZW50LnRhcmdldC52YWx1ZX1gO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMuc2V0UHJlZihcIm5ld3RhYldhbGxwYXBlcnMud2FsbHBhcGVyXCIsIGlkKTtcblxuICAgIGNvbnN0IHVwbG9hZGVkUHJldmlvdXNseSA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tQUkVGX1dBTExQQVBFUl9VUExPQURFRF9QUkVWSU9VU0xZXTtcblxuICAgIHRoaXMuaGFuZGxlVXNlckV2ZW50KGF0LldBTExQQVBFUl9DTElDSywge1xuICAgICAgc2VsZWN0ZWRfd2FsbHBhcGVyOiBpZCxcbiAgICAgIGhhZF9wcmV2aW91c193YWxscGFwZXI6ICEhdGhpcy5wcm9wcy5hY3RpdmVXYWxscGFwZXIsXG4gICAgICBoYWRfdXBsb2FkZWRfcHJldmlvdXNseTogISF1cGxvYWRlZFByZXZpb3VzbHksXG4gICAgfSk7XG4gIH1cblxuICBmb2N1c0NhdGVnb3J5KGZvY3VzSW5kZXgpIHtcbiAgICBpZiAoIXRoaXMuY2F0ZWdvcnlSZWYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbCA9IHRoaXMuY2F0ZWdvcnlSZWZbZm9jdXNJbmRleF07XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGZ1bmN0aW9uIGltcGxlbWVudGluZyBhcnJvdyBuYXZpZ2F0aW9uIGZvciB3YWxscGFwZXIgY2F0ZWdvcnkgc2VsZWN0aW9uXG4gIGhhbmRsZUNhdGVnb3J5S2V5RG93bihldmVudCwgY2F0ZWdvcnkpIHtcbiAgICBjb25zdCBnZXRJbmRleCA9IHRoaXMuY2F0ZWdvcnlSZWYuZmluZEluZGV4KGNhdCA9PiBjYXQuaWQgPT09IGNhdGVnb3J5KTtcbiAgICBpZiAoZ2V0SW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm47IC8vIHByZXZlbnRzIGVycm9ycyBpZiB3YWxscGFwZXIgaW5kZXggaXNuJ3QgZm91bmQgd2hlbiBuYXZpZ2F0aW5nIHdpdGggYXJyb3cga2V5c1xuICAgIH1cblxuICAgIGNvbnN0IGlzUlRMID0gZG9jdW1lbnQuZGlyID09PSBcInJ0bFwiOyAvLyByZXR1cm5zIHRydWUgaWYgcGFnZSBsYW5ndWFnZSBpcyByaWdodC10by1sZWZ0XG4gICAgbGV0IGV2ZW50S2V5ID0gZXZlbnQua2V5O1xuXG4gICAgaWYgKGV2ZW50S2V5ID09PSBcIkFycm93UmlnaHRcIiB8fCBldmVudEtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgaWYgKGlzUlRMKSB7XG4gICAgICAgIGV2ZW50S2V5ID0gZXZlbnRLZXkgPT09IFwiQXJyb3dSaWdodFwiID8gXCJBcnJvd0xlZnRcIiA6IFwiQXJyb3dSaWdodFwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBuZXh0SW5kZXggPSBnZXRJbmRleDtcblxuICAgIGlmIChldmVudEtleSA9PT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgIG5leHRJbmRleCA9XG4gICAgICAgIGdldEluZGV4ICsgMSA8IHRoaXMuY2F0ZWdvcnlSZWYubGVuZ3RoID8gZ2V0SW5kZXggKyAxIDogZ2V0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChldmVudEtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgbmV4dEluZGV4ID0gZ2V0SW5kZXggLSAxID49IDAgPyBnZXRJbmRleCAtIDEgOiBnZXRJbmRleDtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgZm9jdXNlZENhdGVnb3J5SW5kZXg6IG5leHRJbmRleCB9LCAoKSA9PlxuICAgICAgdGhpcy5mb2N1c0NhdGVnb3J5KG5leHRJbmRleClcbiAgICApO1xuICB9XG5cbiAgLy8gZnVuY3Rpb24gaW1wbGVtZW50aW5nIGFycm93IG5hdmlnYXRpb24gZm9yIHdhbGxwYXBlciBzZWxlY3Rpb25cbiAgaGFuZGxlV2FsbHBhcGVyS2V5RG93bihldmVudCwgdGl0bGUpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIlRhYlwiKSB7XG4gICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5iYWNrVG9NZW51QnV0dG9uPy5mb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCB0YWJiaW5nIHdpdGhpbiB3YWxscGFwZXIgc2VsZWN0aW9uLiBXZSBzaG91bGQgb25seSBiZSB1c2luZyB0aGUgVGFiIGtleSB0byB0YWIgYmV0d2VlbiBncm91cHNcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpc1JUTCA9IGRvY3VtZW50LmRpciA9PT0gXCJydGxcIjsgLy8gcmV0dXJucyB0cnVlIGlmIHBhZ2UgbGFuZ3VhZ2UgaXMgcmlnaHQtdG8tbGVmdFxuICAgIGxldCBldmVudEtleSA9IGV2ZW50LmtleTtcblxuICAgIGlmIChldmVudEtleSA9PT0gXCJBcnJvd1JpZ2h0XCIgfHwgZXZlbnRLZXkgPT09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICAgIGlmIChpc1JUTCkge1xuICAgICAgICBldmVudEtleSA9IGV2ZW50S2V5ID09PSBcIkFycm93UmlnaHRcIiA/IFwiQXJyb3dMZWZ0XCIgOiBcIkFycm93UmlnaHRcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBnZXRJbmRleCA9IHRoaXMud2FsbHBhcGVyUmVmLmZpbmRJbmRleChcbiAgICAgIHdhbGxwYXBlciA9PiB3YWxscGFwZXIuaWQgPT09IHRpdGxlXG4gICAgKTtcblxuICAgIGlmIChnZXRJbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybjsgLy8gcHJldmVudHMgZXJyb3JzIGlmIHdhbGxwYXBlciBpbmRleCBpc24ndCBmb3VuZCB3aGVuIG5hdmlnYXRpbmcgd2l0aCBhcnJvdyBrZXlzXG4gICAgfVxuXG4gICAgLy8gdGhlIHNldCBsYXlvdXQgb2YgY29sdW1ucyBwZXIgcm93IGZvciB0aGUgd2FsbHBhcGVyIHNlbGVjdGlvblxuICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gMztcbiAgICBsZXQgbmV4dEluZGV4ID0gZ2V0SW5kZXg7XG5cbiAgICBpZiAoZXZlbnRLZXkgPT09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICBuZXh0SW5kZXggPVxuICAgICAgICBnZXRJbmRleCArIDEgPCB0aGlzLndhbGxwYXBlclJlZi5sZW5ndGggPyBnZXRJbmRleCArIDEgOiBnZXRJbmRleDtcbiAgICB9IGVsc2UgaWYgKGV2ZW50S2V5ID09PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICBuZXh0SW5kZXggPSBnZXRJbmRleCAtIDEgPj0gMCA/IGdldEluZGV4IC0gMSA6IGdldEluZGV4O1xuICAgIH0gZWxzZSBpZiAoZXZlbnRLZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgIG5leHRJbmRleCA9XG4gICAgICAgIGdldEluZGV4ICsgY29sdW1uQ291bnQgPCB0aGlzLndhbGxwYXBlclJlZi5sZW5ndGhcbiAgICAgICAgICA/IGdldEluZGV4ICsgY29sdW1uQ291bnRcbiAgICAgICAgICA6IGdldEluZGV4O1xuICAgIH0gZWxzZSBpZiAoZXZlbnRLZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICBuZXh0SW5kZXggPVxuICAgICAgICBnZXRJbmRleCAtIGNvbHVtbkNvdW50ID49IDAgPyBnZXRJbmRleCAtIGNvbHVtbkNvdW50IDogZ2V0SW5kZXg7XG4gICAgfVxuXG4gICAgdGhpcy53YWxscGFwZXJSZWZbbmV4dEluZGV4XS50YWJJbmRleCA9IDA7XG4gICAgdGhpcy53YWxscGFwZXJSZWZbZ2V0SW5kZXhdLnRhYkluZGV4ID0gLTE7XG4gICAgdGhpcy53YWxscGFwZXJSZWZbbmV4dEluZGV4XS5mb2N1cygpO1xuICAgIHRoaXMud2FsbHBhcGVyUmVmW25leHRJbmRleF0uY2xpY2soKTtcbiAgfVxuXG4gIGhhbmRsZVJlc2V0KCkge1xuICAgIGNvbnN0IHVwbG9hZGVkUHJldmlvdXNseSA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tQUkVGX1dBTExQQVBFUl9VUExPQURFRF9QUkVWSU9VU0xZXTtcblxuICAgIGNvbnN0IHNlbGVjdGVkV2FsbHBhcGVyID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1wibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIl07XG5cbiAgICAvLyBJZiBhIGN1c3RvbSB3YWxscGFwZXIgaXMgc2V0LCByZW1vdmUgaXRcbiAgICBpZiAoc2VsZWN0ZWRXYWxscGFwZXIgPT09IFwiY3VzdG9tXCIpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldBTExQQVBFUl9SRU1PVkVfVVBMT0FELFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBhY3RpdmUgd2FsbHBhcGVyXG4gICAgdGhpcy5wcm9wcy5zZXRQcmVmKFwibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIiwgXCJcIik7XG5cbiAgICAvLyBGaXJlIFdBTExQQVBFUl9DTElDSyB0ZWxlbWV0cnkgZXZlbnRcbiAgICB0aGlzLmhhbmRsZVVzZXJFdmVudChhdC5XQUxMUEFQRVJfQ0xJQ0ssIHtcbiAgICAgIHNlbGVjdGVkX3dhbGxwYXBlcjogXCJub25lXCIsXG4gICAgICBoYWRfcHJldmlvdXNfd2FsbHBhcGVyOiAhIXRoaXMucHJvcHMuYWN0aXZlV2FsbHBhcGVyLFxuICAgICAgaGFkX3VwbG9hZGVkX3ByZXZpb3VzbHk6ICEhdXBsb2FkZWRQcmV2aW91c2x5LFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlQ2F0ZWdvcnkgPSBldmVudCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUNhdGVnb3J5OiBldmVudC50YXJnZXQuaWQgfSk7XG5cbiAgICB0aGlzLmhhbmRsZVVzZXJFdmVudChhdC5XQUxMUEFQRVJfQ0FURUdPUllfQ0xJQ0ssIGV2ZW50LnRhcmdldC5pZCk7XG5cbiAgICBsZXQgZmx1ZW50X2lkO1xuICAgIHN3aXRjaCAoZXZlbnQudGFyZ2V0LmlkKSB7XG4gICAgICBjYXNlIFwiYWJzdHJhY3RzXCI6XG4gICAgICAgIGZsdWVudF9pZCA9IFwibmV3dGFiLXdhbGxwYXBlci1jYXRlZ29yeS10aXRsZS1hYnN0cmFjdFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjZWxlc3RpYWxcIjpcbiAgICAgICAgZmx1ZW50X2lkID0gXCJuZXd0YWItd2FsbHBhcGVyLWNhdGVnb3J5LXRpdGxlLWNlbGVzdGlhbFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwaG90b2dyYXBoc1wiOlxuICAgICAgICBmbHVlbnRfaWQgPSBcIm5ld3RhYi13YWxscGFwZXItY2F0ZWdvcnktdGl0bGUtcGhvdG9ncmFwaHNcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic29saWQtY29sb3JzXCI6XG4gICAgICAgIGZsdWVudF9pZCA9IFwibmV3dGFiLXdhbGxwYXBlci1jYXRlZ29yeS10aXRsZS1jb2xvcnNcIjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlQ2F0ZWdvcnlGbHVlbnRJRDogZmx1ZW50X2lkIH0pO1xuICB9O1xuXG4gIC8vIEN1c3RvbSB3YWxscGFwZXIgaW1hZ2UgdXBsb2FkXG4gIGFzeW5jIGhhbmRsZVVwbG9hZCgpIHtcbiAgICBjb25zdCB3YWxscGFwZXJVcGxvYWRNYXhGaWxlU2l6ZUVuYWJsZWQgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbUFJFRl9XQUxMUEFQRVJfVVBMT0FEX01BWF9GSUxFX1NJWkVfRU5BQkxFRF07XG5cbiAgICBjb25zdCB3YWxscGFwZXJVcGxvYWRNYXhGaWxlU2l6ZSA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tQUkVGX1dBTExQQVBFUl9VUExPQURfTUFYX0ZJTEVfU0laRV07XG5cbiAgICBjb25zdCB1cGxvYWRlZFByZXZpb3VzbHkgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbUFJFRl9XQUxMUEFQRVJfVVBMT0FERURfUFJFVklPVVNMWV07XG5cbiAgICAvLyBDcmVhdGUgYSBmaWxlIGlucHV0IHNpbmNlIGNhdGVnb3J5IGJ1dHRvbnMgYXJlIHJhZGlvIGlucHV0c1xuICAgIGNvbnN0IGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBmaWxlSW5wdXQudHlwZSA9IFwiZmlsZVwiO1xuICAgIGZpbGVJbnB1dC5hY2NlcHQgPSBcImltYWdlLypcIjsgLy8gb25seSBhbGxvdyBpbWFnZSBmaWxlc1xuXG4gICAgLy8gQ2F0Y2ggY2FuY2VsIGV2ZW50c1xuICAgIGZpbGVJbnB1dC5vbmNhbmNlbCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXN0b21XYWxscGFwZXJFcnJvclR5cGU6IG51bGwgfSk7XG4gICAgfTtcblxuICAgIC8vIFJlc2V0IGVycm9yIHN0YXRlIHdoZW4gdXNlciBiZWdpbnMgZmlsZSBzZWxlY3Rpb25cbiAgICB0aGlzLnNldFN0YXRlKHsgY3VzdG9tV2FsbHBhcGVyRXJyb3JUeXBlOiBudWxsIH0pO1xuXG4gICAgLy8gRmlyZSB3aGVuIHVzZXIgc2VsZWN0cyBhIGZpbGVcbiAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyBldmVudCA9PiB7XG4gICAgICBjb25zdCBbZmlsZV0gPSBldmVudC50YXJnZXQuZmlsZXM7XG5cbiAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgIC8vIFZhbGlkYXRlIGZpbGUgdHlwZTogT25seSBhY2NlcHQgZmlsZXMgd2l0aCBhIHZhbGlkIGltYWdlIE1JTUUgdHlwZVxuICAgICAgICBjb25zdCBpc1ZhbGlkSW1hZ2UgPSBmaWxlLnR5cGUgJiYgZmlsZS50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZS9cIik7XG4gICAgICAgIGlmICghaXNWYWxpZEltYWdlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgZmlsZSB0eXBlXCIpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXN0b21XYWxscGFwZXJFcnJvclR5cGU6IFwiZmlsZVR5cGVcIiB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMaW1pdCBpbWFnZSB1cGxvYWRlZCB0byBhIG1heGltdW0gZmlsZSBzaXplIGlmIGVuYWJsZWRcbiAgICAgICAgLy8gTm90ZTogVGhlIG1heCBmaWxlIHNpemUgcHJlZiAoY3VzdG9tV2FsbHBhcGVyLmZpbGVTaXplKSBpcyBjb252ZXJ0ZWQgdG8gbWVnYWJ5dGVzIChNQilcbiAgICAgICAgLy8gRXhhbXBsZTogaWYgcHJlZiB2YWx1ZSBpcyA1LCBtYXggZmlsZSBzaXplIGlzIDUgTUJcbiAgICAgICAgY29uc3QgbWF4U2l6ZSA9IHdhbGxwYXBlclVwbG9hZE1heEZpbGVTaXplICogMTAyNCAqIDEwMjQ7XG4gICAgICAgIGlmICh3YWxscGFwZXJVcGxvYWRNYXhGaWxlU2l6ZUVuYWJsZWQgJiYgZmlsZS5zaXplID4gbWF4U2l6ZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGaWxlIHNpemUgZXhjZWVkcyBsaW1pdFwiKTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY3VzdG9tV2FsbHBhcGVyRXJyb3JUeXBlOiBcImZpbGVTaXplXCIgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldBTExQQVBFUl9VUExPQUQsXG4gICAgICAgICAgICBkYXRhOiB7IGZpbGUgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFNldCBhY3RpdmUgd2FsbHBhcGVyIElEIHRvIFwiY3VzdG9tXCJcbiAgICAgICAgdGhpcy5wcm9wcy5zZXRQcmVmKFwibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIiwgXCJjdXN0b21cIik7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSB1cGxvYWRlZFByZXZpb3VzbHkgcHJlZiB0byBUUlVFXG4gICAgICAgIC8vIE5vdGU6IHRoaXMgcHJlZiB1c2VkIGZvciB0ZWxlbWV0cnkuIERvIG5vdCByZXNldCB0byBmYWxzZS5cbiAgICAgICAgdGhpcy5wcm9wcy5zZXRQcmVmKFBSRUZfV0FMTFBBUEVSX1VQTE9BREVEX1BSRVZJT1VTTFksIHRydWUpO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlVXNlckV2ZW50KGF0LldBTExQQVBFUl9DTElDSywge1xuICAgICAgICAgIHNlbGVjdGVkX3dhbGxwYXBlcjogXCJjdXN0b21cIixcbiAgICAgICAgICBoYWRfcHJldmlvdXNfd2FsbHBhcGVyOiAhIXRoaXMucHJvcHMuYWN0aXZlV2FsbHBhcGVyLFxuICAgICAgICAgIGhhZF91cGxvYWRlZF9wcmV2aW91c2x5OiAhIXVwbG9hZGVkUHJldmlvdXNseSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpbGVJbnB1dC5jbGljaygpO1xuICB9XG5cbiAgaGFuZGxlQmFjaygpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlQ2F0ZWdvcnk6IG51bGwgfSwgKCkgPT4ge1xuICAgICAgLy8gV2FpdCBmb3IgdGhlIGNhdGVnb3J5IGdyaWQgdG8gYmUgYmFjayBpbiB0aGUgRE9NXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICB0aGlzLmZvY3VzQ2F0ZWdvcnkodGhpcy5zdGF0ZS5mb2N1c2VkQ2F0ZWdvcnlJbmRleCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFJlY29yZCB1c2VyIGludGVyYWN0aW9uIHdoZW4gY2hhbmdpbmcgd2FsbHBhcGVyIGFuZCByZXNldGluZyB3YWxscGFwZXIgdG8gZGVmYXVsdFxuICBoYW5kbGVVc2VyRXZlbnQodHlwZSwgZGF0YSkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuT25seVRvTWFpbih7IHR5cGUsIGRhdGEgfSkpO1xuICB9XG5cbiAgc2V0QWN0aXZlSWQgPSBpZCA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUlkOiBpZCB9KTsgLy8gU2V0IHRoZSBhY3RpdmUgSURcbiAgfTtcblxuICBnZXRSR0JDb2xvcnMoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubGVuZ3RoICE9PSA3KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgciA9IHBhcnNlSW50KGlucHV0LnN1YnN0cigxLCAyKSwgMTYpO1xuICAgIGNvbnN0IGcgPSBwYXJzZUludChpbnB1dC5zdWJzdHIoMywgMiksIDE2KTtcbiAgICBjb25zdCBiID0gcGFyc2VJbnQoaW5wdXQuc3Vic3RyKDUsIDIpLCAxNik7XG5cbiAgICByZXR1cm4gW3IsIGcsIGJdO1xuICB9XG5cbiAgaXNXYWxscGFwZXJDb2xvckRhcmsoW3IsIGcsIGJdKSB7XG4gICAgcmV0dXJuIDAuMjEyNSAqIHIgKyAwLjcxNTQgKiBnICsgMC4wNzIxICogYiA8PSAxMTA7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICBjb25zdCB7IHdhbGxwYXBlckxpc3QsIGNhdGVnb3JpZXMgfSA9IHRoaXMucHJvcHMuV2FsbHBhcGVycztcbiAgICBjb25zdCB7IGFjdGl2ZVdhbGxwYXBlciB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGFjdGl2ZUNhdGVnb3J5LCBzaG93Q29sb3JQaWNrZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyBhY3RpdmVDYXRlZ29yeUZsdWVudElEIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBmaWx0ZXJlZFdhbGxwYXBlcnMgPSB3YWxscGFwZXJMaXN0LmZpbHRlcihcbiAgICAgIHdhbGxwYXBlciA9PiB3YWxscGFwZXIuY2F0ZWdvcnkgPT09IGFjdGl2ZUNhdGVnb3J5XG4gICAgKTtcbiAgICBjb25zdCB3YWxscGFwZXJVcGxvYWRNYXhGaWxlU2l6ZSA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tQUkVGX1dBTExQQVBFUl9VUExPQURfTUFYX0ZJTEVfU0laRV07XG5cbiAgICBmdW5jdGlvbiByZWR1Y2VDb2xvcnNUb0ZpdEN1c3RvbUNvbG9ySW5wdXQoYXJyKSB7XG4gICAgICAvLyBSZWR1Y2UgdGhlIGFtb3VudCBvZiBjdXN0b20gY29sb3JzIHRvIG1ha2Ugc3BhY2UgZm9yIHRoZSBjdXN0b20gY29sb3IgcGlja2VyXG4gICAgICB3aGlsZSAoYXJyLmxlbmd0aCAlIDMgIT09IDIpIHtcbiAgICAgICAgYXJyLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9XG5cbiAgICBsZXQgd2FsbHBhcGVyQ3VzdG9tU29saWRDb2xvckhleCA9IG51bGw7XG5cbiAgICBjb25zdCBzZWxlY3RlZFdhbGxwYXBlciA9IHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIl07XG5cbiAgICAvLyBVc2VyIGhhcyBwcmV2aW91cyBzZWxlY3RlZCBhIGN1c3RvbSBjb2xvclxuICAgIGlmIChzZWxlY3RlZFdhbGxwYXBlci5pbmNsdWRlcyhcInNvbGlkLWNvbG9yLXBpY2tlclwiKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb2xvclBpY2tlcjogdHJ1ZSB9KTtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gLyMoW2EtZkEtRjAtOV17Nn0pLztcbiAgICAgIFt3YWxscGFwZXJDdXN0b21Tb2xpZENvbG9ySGV4XSA9IHNlbGVjdGVkV2FsbHBhcGVyLm1hdGNoKHJlZ2V4KTtcbiAgICB9XG5cbiAgICAvLyBFbmFibGUgY3VzdG9tIGNvbG9yIHNlbGVjdCBpZiBwcmVmJ2VkIG9uXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93Q29sb3JQaWNrZXI6IHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy5jdXN0b21Db2xvci5lbmFibGVkXCJdLFxuICAgIH0pO1xuXG4gICAgLy8gUmVtb3ZlIGxhc3QgaXRlbSBvZiBzb2xpZCBjb2xvcnMgdG8gbWFrZSBzcGFjZSBmb3IgY3VzdG9tIGNvbG9yIHBpY2tlclxuICAgIGlmIChcbiAgICAgIHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy5jdXN0b21Db2xvci5lbmFibGVkXCJdICYmXG4gICAgICBhY3RpdmVDYXRlZ29yeSA9PT0gXCJzb2xpZC1jb2xvcnNcIlxuICAgICkge1xuICAgICAgZmlsdGVyZWRXYWxscGFwZXJzID1cbiAgICAgICAgcmVkdWNlQ29sb3JzVG9GaXRDdXN0b21Db2xvcklucHV0KGZpbHRlcmVkV2FsbHBhcGVycyk7XG4gICAgfVxuXG4gICAgLy8gQnVnIDE5NTMwMTIgLSBJZiBub3RoaW5nIHNlbGVjdGVkLCBkZWZhdWx0IHRvIGNvbG9yIG9mIGN1c3RvbWl6ZSBwYW5lbFxuICAgIC8vIC0tY29sb3ItYmx1ZS03MCA6ICMwNTQwOTZcbiAgICAvLyAtLWNvbG9yLWJsdWUtMDUgOiAjZGVlYWZjXG4gICAgY29uc3Qgc3RhcnRlckNvbG9ySGV4ID0gdGhpcy5wcmVmZXJzRGFya1F1ZXJ5Py5tYXRjaGVzXG4gICAgICA/IFwiIzA1NDA5NlwiXG4gICAgICA6IFwiI2RlZWFmY1wiO1xuXG4gICAgLy8gU2V0IGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbG9yIHBpY2tlciAoZGVwZW5kaW5nIGlmIHRoZSB1c2VyIGhhcyBhbHJlYWR5IHNldCBhIGN1c3RvbSBjb2xvcilcbiAgICBsZXQgaW5pdFN0YXRlQ2xhc3NuYW1lID0gd2FsbHBhcGVyQ3VzdG9tU29saWRDb2xvckhleFxuICAgICAgPyBcImN1c3RvbS1jb2xvci1zZXRcIlxuICAgICAgOiBcImRlZmF1bHQtY29sb3Itc2V0XCI7XG5cbiAgICAvLyBJZiBhIGN1c3RvbSBjb2xvciBwaWNrZXIgaXMgc2V0LCBtYWtlIHN1cmUgdGhlIGljb24gaGFzIHRoZSBjb3JyZWN0IGNvbnRyYXN0XG4gICAgaWYgKHdhbGxwYXBlckN1c3RvbVNvbGlkQ29sb3JIZXgpIHtcbiAgICAgIGNvbnN0IHJnYkNvbG9ycyA9IHRoaXMuZ2V0UkdCQ29sb3JzKHdhbGxwYXBlckN1c3RvbVNvbGlkQ29sb3JIZXgpO1xuICAgICAgY29uc3QgaXNDb2xvckRhcmsgPSB0aGlzLmlzV2FsbHBhcGVyQ29sb3JEYXJrKHJnYkNvbG9ycyk7XG4gICAgICBpZiAoaXNDb2xvckRhcmspIHtcbiAgICAgICAgaW5pdFN0YXRlQ2xhc3NuYW1lICs9IFwiIGN1c3RvbS1jb2xvci1kYXJrXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNvbG9yUGlja2VySW5wdXQgPVxuICAgICAgc2hvd0NvbG9yUGlja2VyICYmIGFjdGl2ZUNhdGVnb3J5ID09PSBcInNvbGlkLWNvbG9yc1wiID8gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgdGhlbWUtY3VzdG9tLWNvbG9yLXBpY2tlciAke2luaXRTdGF0ZUNsYXNzbmFtZX1gfVxuICAgICAgICAgIHJlZj17dGhpcy5jdXN0b21Db2xvclBpY2tlclJlZn1cbiAgICAgICAgPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgb25JbnB1dD17dGhpcy5oYW5kbGVDb2xvcklucHV0fVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuZGVib3VuY2VkSGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5zZXRBY3RpdmVJZChcInNvbGlkLWNvbG9yLXBpY2tlclwiKX0gLy9cbiAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiXG4gICAgICAgICAgICBuYW1lPXtgd2FsbHBhcGVyLXNvbGlkLWNvbG9yLXBpY2tlcmB9XG4gICAgICAgICAgICBpZD1cInNvbGlkLWNvbG9yLXBpY2tlclwiXG4gICAgICAgICAgICAvLyBhcmlhLWNoZWNrZWQgaXMgbm90IGFwcGxpY2FibGUgZm9yIGlucHV0W3R5cGU9XCJjb2xvclwiXSBlbGVtZW50c1xuICAgICAgICAgICAgYXJpYS1jdXJyZW50PXt0aGlzLnN0YXRlLmFjdGl2ZUlkID09PSBcInNvbGlkLWNvbG9yLXBpY2tlclwifVxuICAgICAgICAgICAgdmFsdWU9e3dhbGxwYXBlckN1c3RvbVNvbGlkQ29sb3JIZXggfHwgc3RhcnRlckNvbG9ySGV4fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgd2FsbHBhcGVyLWlucHV0XG4gICAgICAgICAgICAgICR7dGhpcy5zdGF0ZS5hY3RpdmVJZCA9PT0gXCJzb2xpZC1jb2xvci1waWNrZXJcIiA/IFwiYWN0aXZlXCIgOiBcIlwifWB9XG4gICAgICAgICAgICByZWY9e3RoaXMuY3VzdG9tQ29sb3JJbnB1dH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgaHRtbEZvcj1cInNvbGlkLWNvbG9yLXBpY2tlclwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2FsbHBhcGVyLWN1c3RvbS1jb2xvclwiXG4gICAgICAgICAgPjwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgXCJcIlxuICAgICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWhlYWRlclwiPlxuICAgICAgICAgIDxoMiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2FsbHBhcGVyLXRpdGxlXCI+PC9oMj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3YWxscGFwZXJzLXJlc2V0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlUmVzZXR9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2FsbHBhcGVyLXJlc2V0XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHJvbGU9XCJncmlkXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiV2FsbHBhcGVyIGNhdGVnb3J5IHNlbGVjdGlvbi4gVXNlIGFycm93IGtleXMgdG8gbmF2aWdhdGUuXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxmaWVsZHNldCBjbGFzc05hbWU9XCJjYXRlZ29yeS1saXN0XCI+XG4gICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJlZExpc3QgPSB3YWxscGFwZXJMaXN0LmZpbHRlcihcbiAgICAgICAgICAgICAgICB3YWxscGFwZXIgPT4gd2FsbHBhcGVyLmNhdGVnb3J5ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBhY3RpdmVXYWxscGFwZXJPYmogPVxuICAgICAgICAgICAgICAgIGFjdGl2ZVdhbGxwYXBlciAmJlxuICAgICAgICAgICAgICAgIGZpbHRlcmVkTGlzdC5maW5kKHdwID0+IHdwLnRpdGxlID09PSBhY3RpdmVXYWxscGFwZXIpO1xuICAgICAgICAgICAgICAvLyBEZXRlY3QgY3VzdG9tIHNvbGlkIGNvbG9yXG4gICAgICAgICAgICAgIGNvbnN0IGlzQ3VzdG9tU29saWRDb2xvciA9XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPT09IFwic29saWQtY29sb3JzXCIgJiZcbiAgICAgICAgICAgICAgICBhY3RpdmVXYWxscGFwZXIuc3RhcnRzV2l0aChcInNvbGlkLWNvbG9yLXBpY2tlclwiKTtcbiAgICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gYWN0aXZlV2FsbHBhcGVyT2JqIHx8IGZpbHRlcmVkTGlzdFswXTtcbiAgICAgICAgICAgICAgbGV0IGZsdWVudF9pZDtcbiAgICAgICAgICAgICAgc3dpdGNoIChjYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhYnN0cmFjdHNcIjpcbiAgICAgICAgICAgICAgICAgIGZsdWVudF9pZCA9IFwibmV3dGFiLXdhbGxwYXBlci1jYXRlZ29yeS10aXRsZS1hYnN0cmFjdFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNlbGVzdGlhbFwiOlxuICAgICAgICAgICAgICAgICAgZmx1ZW50X2lkID0gXCJuZXd0YWItd2FsbHBhcGVyLWNhdGVnb3J5LXRpdGxlLWNlbGVzdGlhbFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImN1c3RvbS13YWxscGFwZXJcIjpcbiAgICAgICAgICAgICAgICAgIGZsdWVudF9pZCA9IFwibmV3dGFiLXdhbGxwYXBlci11cGxvYWQtaW1hZ2VcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwaG90b2dyYXBoc1wiOlxuICAgICAgICAgICAgICAgICAgZmx1ZW50X2lkID0gXCJuZXd0YWItd2FsbHBhcGVyLWNhdGVnb3J5LXRpdGxlLXBob3RvZ3JhcGhzXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic29saWQtY29sb3JzXCI6XG4gICAgICAgICAgICAgICAgICBmbHVlbnRfaWQgPSBcIm5ld3RhYi13YWxscGFwZXItY2F0ZWdvcnktdGl0bGUtY29sb3JzXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGV0IHN0eWxlID0ge307XG4gICAgICAgICAgICAgIGlmICh0aHVtYm5haWw/LndhbGxwYXBlclVybCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aHVtYm5haWwud2FsbHBhcGVyVXJsfSlgO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRodW1ibmFpbD8uc29saWRfY29sb3IgfHwgXCJcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvLyBJZiBjdXN0b20gc29saWQgY29sb3IgaXMgYWN0aXZlLCBvdmVycmlkZSB0aGUgdGh1bWJuYWlsIHRvIHRoZSBjaG9zZW4gaGV4XG4gICAgICAgICAgICAgIGlmIChpc0N1c3RvbVNvbGlkQ29sb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoZXggPVxuICAgICAgICAgICAgICAgICAgYWN0aXZlV2FsbHBhcGVyLnNwbGl0KFwic29saWQtY29sb3ItcGlja2VyLVwiKVsxXSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIHN0eWxlLmJhY2tncm91bmRDb2xvciA9IGhleDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBpc0NhdGVnb3J5U2VsZWN0ZWQgPVxuICAgICAgICAgICAgICAgIGFjdGl2ZVdhbGxwYXBlck9iaiB8fCBpc0N1c3RvbVNvbGlkQ29sb3I7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2NhdGVnb3J5fT5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgcmVmPXtlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5UmVmW2luZGV4XSA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgaWQ9e2NhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB0aGlzLmhhbmRsZUNhdGVnb3J5S2V5RG93bihlLCBjYXRlZ29yeSl9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBvdmVycmlkZXMgZm9yIGN1c3RvbSB3YWxscGFwZXIgdXBsb2FkIFVJXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9jdXNlZENhdGVnb3J5SW5kZXg6IGluZGV4IH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeSAhPT0gXCJjdXN0b20td2FsbHBhcGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2F0ZWdvcnkoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgd2FsbHBhcGVyLWlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgJHtjYXRlZ29yeSA9PT0gXCJjdXN0b20td2FsbHBhcGVyXCIgPyBcInRoZW1lLWN1c3RvbS13YWxscGFwZXJcIiA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgJHtpc0NhdGVnb3J5U2VsZWN0ZWQgPyBcInNlbGVjdGVkXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PXtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmZvY3VzZWRDYXRlZ29yeUluZGV4ID09PSBpbmRleCA/IDAgOiAtMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHsuLi4oY2F0ZWdvcnkgPT09IFwiY3VzdG9tLXdhbGxwYXBlclwiXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IFwiYXJpYS1lcnJvcm1lc3NhZ2VcIjogXCJjdXN0b21XYWxscGFwZXJFcnJvclwiIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IHt9KX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17Y2F0ZWdvcnl9IGRhdGEtbDEwbi1pZD17Zmx1ZW50X2lkfT5cbiAgICAgICAgICAgICAgICAgICAge2ZsdWVudF9pZH1cbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgIHt0aGlzLnN0YXRlLmN1c3RvbVdhbGxwYXBlckVycm9yVHlwZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1c3RvbS13YWxscGFwZXItZXJyb3JcIiBpZD1cImN1c3RvbVdhbGxwYXBlckVycm9yXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1pbmZvXCI+PC9zcGFuPlxuICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUuY3VzdG9tV2FsbHBhcGVyRXJyb3JUeXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZmlsZVNpemVcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdhbGxwYXBlci1lcnJvci1tYXgtZmlsZS1zaXplXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPXtge1wiZmlsZV9zaXplXCI6ICR7d2FsbHBhcGVyVXBsb2FkTWF4RmlsZVNpemV9fWB9XG4gICAgICAgICAgICAgICAgICAgICAgPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmaWxlVHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13YWxscGFwZXItZXJyb3ItdXBsb2FkLWZpbGUtdHlwZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxDU1NUcmFuc2l0aW9uXG4gICAgICAgICAgaW49eyEhYWN0aXZlQ2F0ZWdvcnl9XG4gICAgICAgICAgdGltZW91dD17MzAwfVxuICAgICAgICAgIGNsYXNzTmFtZXM9XCJ3YWxscGFwZXItbGlzdFwiXG4gICAgICAgICAgdW5tb3VudE9uRXhpdD17dHJ1ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImNhdGVnb3J5IHdhbGxwYXBlci1saXN0IGlnbm9yZS1jb2xvci1tb2RlXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFycm93LWJ1dHRvblwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17YWN0aXZlQ2F0ZWdvcnlGbHVlbnRJRH1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVCYWNrfVxuICAgICAgICAgICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tUb01lbnVCdXR0b24gPSBlbDtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHJvbGU9XCJncmlkXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIldhbGxwYXBlciBzZWxlY3Rpb24uIFVzZSBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxmaWVsZHNldD5cbiAgICAgICAgICAgICAgICB7ZmlsdGVyZWRXYWxscGFwZXJzLm1hcChcbiAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgeyB0aXRsZSwgdGhlbWUsIGZsdWVudF9pZCwgc29saWRfY29sb3IsIHdhbGxwYXBlclVybCB9LFxuICAgICAgICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAod2FsbHBhcGVyVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3dhbGxwYXBlclVybH0pYDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBzb2xpZF9jb2xvciB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FsbHBhcGVyUmVmW2luZGV4XSA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249e2UgPT4gdGhpcy5oYW5kbGVXYWxscGFwZXJLZXlEb3duKGUsIHRpdGxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgd2FsbHBhcGVyLSR7dGl0bGV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RpdGxlID09PSBhY3RpdmVXYWxscGFwZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY2hlY2tlZD17dGl0bGUgPT09IGFjdGl2ZVdhbGxwYXBlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgd2FsbHBhcGVyLWlucHV0IHRoZW1lLSR7dGhlbWV9ICR7dGhpcy5zdGF0ZS5hY3RpdmVJZCA9PT0gdGl0bGUgPyBcImFjdGl2ZVwiIDogXCJcIn1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldEFjdGl2ZUlkKHRpdGxlKX0gLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9e2luZGV4ID09PSAwID8gMCA6IC0xfSAvL3RoZSBmaXJzdCB3YWxscGFwZXIgaW4gdGhlIGFycmF5IHdpbGwgaGF2ZSBhIHRhYmluZGV4IG9mIDAgc28gd2UgY2FuIHRhYiBpbnRvIGl0LiBUaGUgcmVzdCB3aWxsIGhhdmUgYSB0YWJpbmRleCBvZiAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPXt0aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3Itb25seVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17Zmx1ZW50X2lkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Zmx1ZW50X2lkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtjb2xvclBpY2tlcklucHV0fVxuICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBXYWxscGFwZXJDYXRlZ29yaWVzID0gY29ubmVjdChzdGF0ZSA9PiB7XG4gIHJldHVybiB7XG4gICAgV2FsbHBhcGVyczogc3RhdGUuV2FsbHBhcGVycyxcbiAgICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIH07XG59KShfV2FsbHBhcGVyQ2F0ZWdvcmllcyk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IFNlY3Rpb25zTWdtdFBhbmVsIH0gZnJvbSBcIi4uL1NlY3Rpb25zTWdtdFBhbmVsL1NlY3Rpb25zTWdtdFBhbmVsXCI7XG5pbXBvcnQgeyBXYWxscGFwZXJDYXRlZ29yaWVzIH0gZnJvbSBcIi4uLy4uL1dhbGxwYXBlckNhdGVnb3JpZXMvV2FsbHBhcGVyQ2F0ZWdvcmllc1wiO1xuXG5leHBvcnQgY2xhc3MgQ29udGVudFNlY3Rpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vblByZWZlcmVuY2VTZWxlY3QgPSB0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdC5iaW5kKHRoaXMpO1xuXG4gICAgLy8gUmVmcyBhcmUgbmVjZXNzYXJ5IGZvciBkeW5hbWljYWxseSBtZWFzdXJpbmcgZHJhd2VyIGhlaWdodHMgZm9yIHNsaWRlIGFuaW1hdGlvbnNcbiAgICB0aGlzLnRvcFNpdGVzRHJhd2VyUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5wb2NrZXREcmF3ZXJSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgfVxuXG4gIGlucHV0VXNlckV2ZW50KGV2ZW50U291cmNlLCBldmVudFZhbHVlKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiBcIlBSRUZfQ0hBTkdFRFwiLFxuICAgICAgICBzb3VyY2U6IGV2ZW50U291cmNlLFxuICAgICAgICB2YWx1ZTogeyBzdGF0dXM6IGV2ZW50VmFsdWUsIG1lbnVfc291cmNlOiBcIkNVU1RPTUlaRV9NRU5VXCIgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIG9uUHJlZmVyZW5jZVNlbGVjdChlKSB7XG4gICAgLy8gZXZlbnRTb3VyY2U6IFdFQVRIRVIgfCBUT1BfU0lURVMgfCBUT1BfU1RPUklFUyB8IFdJREdFVF9MSVNUUyB8IFdJREdFVF9USU1FUiB8IFRSRU5ESU5HX1NFQVJDSFxuICAgIGNvbnN0IHsgcHJlZmVyZW5jZSwgZXZlbnRTb3VyY2UgfSA9IGUudGFyZ2V0LmRhdGFzZXQ7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gXCJTRUxFQ1RcIikge1xuICAgICAgdmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSwgMTApO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09IFwiSU5QVVRcIikge1xuICAgICAgdmFsdWUgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgaWYgKGV2ZW50U291cmNlKSB7XG4gICAgICAgIHRoaXMuaW5wdXRVc2VyRXZlbnQoZXZlbnRTb3VyY2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lID09PSBcIk1PWi1UT0dHTEVcIikge1xuICAgICAgdmFsdWUgPSBlLnRhcmdldC5wcmVzc2VkO1xuICAgICAgaWYgKGV2ZW50U291cmNlKSB7XG4gICAgICAgIHRoaXMuaW5wdXRVc2VyRXZlbnQoZXZlbnRTb3VyY2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wcm9wcy5zZXRQcmVmKHByZWZlcmVuY2UsIHZhbHVlKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuc2V0RHJhd2VyTWFyZ2lucygpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuc2V0RHJhd2VyTWFyZ2lucygpO1xuICB9XG5cbiAgc2V0RHJhd2VyTWFyZ2lucygpIHtcbiAgICB0aGlzLnNldERyYXdlck1hcmdpbihcbiAgICAgIGBUT1BfU0lURVNgLFxuICAgICAgdGhpcy5wcm9wcy5lbmFibGVkU2VjdGlvbnMudG9wU2l0ZXNFbmFibGVkXG4gICAgKTtcbiAgICB0aGlzLnNldERyYXdlck1hcmdpbihcbiAgICAgIGBUT1BfU1RPUklFU2AsXG4gICAgICB0aGlzLnByb3BzLmVuYWJsZWRTZWN0aW9ucy5wb2NrZXRFbmFibGVkXG4gICAgKTtcbiAgfVxuXG4gIHNldERyYXdlck1hcmdpbihkcmF3ZXJJRCwgaXNPcGVuKSB7XG4gICAgbGV0IGRyYXdlclJlZjtcblxuICAgIGlmIChkcmF3ZXJJRCA9PT0gYFRPUF9TSVRFU2ApIHtcbiAgICAgIGRyYXdlclJlZiA9IHRoaXMudG9wU2l0ZXNEcmF3ZXJSZWYuY3VycmVudDtcbiAgICB9IGVsc2UgaWYgKGRyYXdlcklEID09PSBgVE9QX1NUT1JJRVNgKSB7XG4gICAgICBkcmF3ZXJSZWYgPSB0aGlzLnBvY2tldERyYXdlclJlZi5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRyYXdlclJlZikge1xuICAgICAgbGV0IGRyYXdlckhlaWdodCA9XG4gICAgICAgIHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZHJhd2VyUmVmKT8uaGVpZ2h0KSB8fCAwO1xuXG4gICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgIGRyYXdlclJlZi5zdHlsZS5tYXJnaW5Ub3AgPSBcInZhcigtLXNwYWNlLXNtYWxsKVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd2VyUmVmLnN0eWxlLm1hcmdpblRvcCA9IGAtJHtkcmF3ZXJIZWlnaHQgKyAzfXB4YDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZW5hYmxlZFNlY3Rpb25zLFxuICAgICAgZW5hYmxlZFdpZGdldHMsXG4gICAgICBwb2NrZXRSZWdpb24sXG4gICAgICBtYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb24sXG4gICAgICBtYXlIYXZlV2VhdGhlcixcbiAgICAgIG1heUhhdmVUcmVuZGluZ1NlYXJjaCxcbiAgICAgIG1heUhhdmVXaWRnZXRzLFxuICAgICAgbWF5SGF2ZVRpbWVyV2lkZ2V0LFxuICAgICAgbWF5SGF2ZUxpc3RzV2lkZ2V0LFxuICAgICAgb3BlblByZWZlcmVuY2VzLFxuICAgICAgd2FsbHBhcGVyc0VuYWJsZWQsXG4gICAgICBhY3RpdmVXYWxscGFwZXIsXG4gICAgICBzZXRQcmVmLFxuICAgICAgbWF5SGF2ZVRvcGljU2VjdGlvbnMsXG4gICAgICBleGl0RXZlbnRGaXJlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7XG4gICAgICB0b3BTaXRlc0VuYWJsZWQsXG4gICAgICBwb2NrZXRFbmFibGVkLFxuICAgICAgd2VhdGhlckVuYWJsZWQsXG4gICAgICB0cmVuZGluZ1NlYXJjaEVuYWJsZWQsXG4gICAgICBzaG93SW5mZXJyZWRQZXJzb25hbGl6YXRpb25FbmFibGVkLFxuICAgICAgdG9wU2l0ZXNSb3dzQ291bnQsXG4gICAgfSA9IGVuYWJsZWRTZWN0aW9ucztcbiAgICBjb25zdCB7IHRpbWVyRW5hYmxlZCwgbGlzdHNFbmFibGVkIH0gPSBlbmFibGVkV2lkZ2V0cztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImhvbWUtc2VjdGlvblwiPlxuICAgICAgICB7d2FsbHBhcGVyc0VuYWJsZWQgJiYgKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndhbGxwYXBlcnMtc2VjdGlvblwiPlxuICAgICAgICAgICAgICA8V2FsbHBhcGVyQ2F0ZWdvcmllc1xuICAgICAgICAgICAgICAgIHNldFByZWY9e3NldFByZWZ9XG4gICAgICAgICAgICAgICAgYWN0aXZlV2FsbHBhcGVyPXthY3RpdmVXYWxscGFwZXJ9XG4gICAgICAgICAgICAgICAgZXhpdEV2ZW50RmlyZWQ9e2V4aXRFdmVudEZpcmVkfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7LyogSWYgd2lkZ2V0cyBzZWN0aW9uIGlzIHZpc2libGUsIGhpZGUgdGhpcyBkaXZpZGVyICovfVxuICAgICAgICAgICAgeyFtYXlIYXZlV2lkZ2V0cyAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpdmlkZXJcIiByb2xlPVwic2VwYXJhdG9yXCI+PC9zcGFuPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgICAge21heUhhdmVXaWRnZXRzICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpZGdldHMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yeS1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGgyIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20td2lkZ2V0LXNlY3Rpb24tdGl0bGVcIj48L2gyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLXdpZGdldHNcIj5cbiAgICAgICAgICAgICAgey8qIFdlYXRoZXIgKi99XG4gICAgICAgICAgICAgIHttYXlIYXZlV2VhdGhlciAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cIndlYXRoZXItc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxtb3otdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIGlkPVwid2VhdGhlci10b2dnbGVcIlxuICAgICAgICAgICAgICAgICAgICBwcmVzc2VkPXt3ZWF0aGVyRW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cInNob3dXZWF0aGVyXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1ldmVudFNvdXJjZT1cIldFQVRIRVJcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXdpZGdldC13ZWF0aGVyLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHsvKiBMaXN0cyAqL31cbiAgICAgICAgICAgICAge21heUhhdmVMaXN0c1dpZGdldCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImxpc3RzLXdpZGdldC1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJsaXN0cy10b2dnbGVcIlxuICAgICAgICAgICAgICAgICAgICBwcmVzc2VkPXtsaXN0c0VuYWJsZWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICAgICAgb25Ub2dnbGU9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICBkYXRhLXByZWZlcmVuY2U9XCJ3aWRnZXRzLmxpc3RzLmVuYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWV2ZW50U291cmNlPVwiV0lER0VUX0xJU1RTXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS13aWRnZXQtbGlzdHMtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgey8qIFRpbWVyICovfVxuICAgICAgICAgICAgICB7bWF5SGF2ZVRpbWVyV2lkZ2V0ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwidGltZXItd2lkZ2V0LXNlY3Rpb25cIiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICBpZD1cInRpbWVyLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgIHByZXNzZWQ9e3RpbWVyRW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cIndpZGdldHMuZm9jdXNUaW1lci5lbmFibGVkXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1ldmVudFNvdXJjZT1cIldJREdFVF9USU1FUlwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20td2lkZ2V0LXRpbWVyLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHsvKiBUcmVuZGluZyBTZWFyY2ggKi99XG4gICAgICAgICAgICAgIHttYXlIYXZlVHJlbmRpbmdTZWFyY2ggJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0cmVuZGluZy1zZWFyY2gtc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxtb3otdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIGlkPVwidHJlbmRpbmctc2VhcmNoLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgIHByZXNzZWQ9e3RyZW5kaW5nU2VhcmNoRW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cInRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWV2ZW50U291cmNlPVwiVFJFTkRJTkdfU0VBUkNIXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS13aWRnZXQtdHJlbmRpbmctc2VhcmNoLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkaXZpZGVyXCIgcm9sZT1cInNlcGFyYXRvclwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmdzLXRvZ2dsZXNcIj5cbiAgICAgICAgICB7LyogTm90ZTogSWYgd2lkZ2V0cyBhcmUgZW5hYmxlZCwgdGhlIHdlYXRoZXIgdG9nZ2xlIHdpbGwgYmUgbW92ZWQgdW5kZXIgV2lkZ2V0cyBzdWJzZWN0aW9uICovfVxuICAgICAgICAgIHshbWF5SGF2ZVdpZGdldHMgJiYgbWF5SGF2ZVdlYXRoZXIgJiYgKFxuICAgICAgICAgICAgPGRpdiBpZD1cIndlYXRoZXItc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgICBpZD1cIndlYXRoZXItdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBwcmVzc2VkPXt3ZWF0aGVyRW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICBkYXRhLXByZWZlcmVuY2U9XCJzaG93V2VhdGhlclwiXG4gICAgICAgICAgICAgICAgZGF0YS1ldmVudFNvdXJjZT1cIldFQVRIRVJcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20td2VhdGhlci10b2dnbGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBOb3RlOiBJZiB3aWRnZXRzIGFyZSBlbmFibGVkLCB0aGUgdHJlbmRpbmcgc2VhcmNoIHRvZ2dsZSB3aWxsIGJlIG1vdmVkIHVuZGVyIFdpZGdldHMgc3Vic2VjdGlvbiAqL31cbiAgICAgICAgICB7IW1heUhhdmVXaWRnZXRzICYmIG1heUhhdmVUcmVuZGluZ1NlYXJjaCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGlkPVwidHJlbmRpbmctc2VhcmNoLXNlY3Rpb25cIiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgIDxtb3otdG9nZ2xlXG4gICAgICAgICAgICAgICAgaWQ9XCJ0cmVuZGluZy1zZWFyY2gtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBwcmVzc2VkPXt0cmVuZGluZ1NlYXJjaEVuYWJsZWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgZGF0YS1wcmVmZXJlbmNlPVwidHJlbmRpbmdTZWFyY2guZW5hYmxlZFwiXG4gICAgICAgICAgICAgICAgZGF0YS1ldmVudFNvdXJjZT1cIlRSRU5ESU5HX1NFQVJDSFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS10cmVuZGluZy1zZWFyY2gtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICA8ZGl2IGlkPVwic2hvcnRjdXRzLXNlY3Rpb25cIiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICBpZD1cInNob3J0Y3V0cy10b2dnbGVcIlxuICAgICAgICAgICAgICBwcmVzc2VkPXt0b3BTaXRlc0VuYWJsZWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgb25Ub2dnbGU9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICBkYXRhLXByZWZlcmVuY2U9XCJmZWVkcy50b3BzaXRlc1wiXG4gICAgICAgICAgICAgIGRhdGEtZXZlbnRTb3VyY2U9XCJUT1BfU0lURVNcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXNob3J0Y3V0cy10b2dnbGVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IHNsb3Q9XCJuZXN0ZWRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vcmUtaW5mby10b3Atd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtb3JlLWluZm9ybWF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLnRvcFNpdGVzRHJhd2VyUmVmfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJyb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlbGVjdG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicm93LWNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhLXByZWZlcmVuY2U9XCJ0b3BTaXRlc1Jvd3NcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0b3BTaXRlc1Jvd3NDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0b3BTaXRlc0VuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiY3VzdG9tLXNob3J0Y3V0cy10aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1yb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9J3tcIm51bVwiOiAxfSdcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wibnVtXCI6IDJ9J1xuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tcm93LXNlbGVjdG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPSd7XCJudW1cIjogM30nXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1yb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9J3tcIm51bVwiOiA0fSdcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbW96LXRvZ2dsZT5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHtwb2NrZXRSZWdpb24gJiYgKFxuICAgICAgICAgICAgPGRpdiBpZD1cInBvY2tldC1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICAgIGlkPVwicG9ja2V0LXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgcHJlc3NlZD17cG9ja2V0RW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY3VzdG9tLXBvY2tldC1zdWJ0aXRsZVwiXG4gICAgICAgICAgICAgICAgZGF0YS1wcmVmZXJlbmNlPVwiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCJcbiAgICAgICAgICAgICAgICBkYXRhLWV2ZW50U291cmNlPVwiVE9QX1NUT1JJRVNcIlxuICAgICAgICAgICAgICAgIHsuLi4obWF5SGF2ZUluZmVycmVkUGVyc29uYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtbDEwbi1pZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuZXd0YWItY3VzdG9tLXN0b3JpZXMtcGVyc29uYWxpemVkLXRvZ2dsZVwiLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtbDEwbi1pZFwiOiBcIm5ld3RhYi1jdXN0b20tc3Rvcmllcy10b2dnbGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8ZGl2IHNsb3Q9XCJuZXN0ZWRcIj5cbiAgICAgICAgICAgICAgICAgIHsobWF5SGF2ZUluZmVycmVkUGVyc29uYWxpemF0aW9uIHx8IG1heUhhdmVUb3BpY1NlY3Rpb25zKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9yZS1pbmZvLXBvY2tldC13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9yZS1pbmZvcm1hdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e3RoaXMucG9ja2V0RHJhd2VyUmVmfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrLXdyYXBwZXJcIiByb2xlPVwicHJlc2VudGF0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImluZmVycmVkLXBlcnNvbmFsaXphdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXN0b21pemUtbWVudS1jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXBvY2tldEVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzaG93SW5mZXJyZWRQZXJzb25hbGl6YXRpb25FbmFibGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5wZXJzb25hbGl6YXRpb24uaW5mZXJyZWQudXNlci5lbmFibGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZXZlbnRTb3VyY2U9XCJJTkZFUlJFRF9QRVJTT05BTElaQVRJT05cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXN0b21pemUtbWVudS1jaGVja2JveC1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sRm9yPVwiaW5mZXJyZWQtcGVyc29uYWxpemF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tc3Rvcmllcy1wZXJzb25hbGl6ZWQtY2hlY2tib3gtbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHttYXlIYXZlVG9waWNTZWN0aW9ucyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWN0aW9uc01nbXRQYW5lbCBleGl0RXZlbnRGaXJlZD17ZXhpdEV2ZW50RmlyZWR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW96LXRvZ2dsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpdmlkZXJcIiByb2xlPVwic2VwYXJhdG9yXCI+PC9zcGFuPlxuXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgaWQ9XCJzZXR0aW5ncy1saW5rXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImV4dGVybmFsLWxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17b3BlblByZWZlcmVuY2VzfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1zZXR0aW5nc1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBDb250ZW50U2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQ29udGVudFNlY3Rpb24vQ29udGVudFNlY3Rpb25cIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbmltcG9ydCB7IENTU1RyYW5zaXRpb24gfSBmcm9tIFwicmVhY3QtdHJhbnNpdGlvbi1ncm91cFwiO1xuXG5leHBvcnQgY2xhc3MgX0N1c3RvbWl6ZU1lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVudGVyZWQgPSB0aGlzLm9uRW50ZXJlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25FeGl0ZWQgPSB0aGlzLm9uRXhpdGVkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGV4aXRFdmVudEZpcmVkOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25FbnRlcmVkKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBleGl0RXZlbnRGaXJlZDogZmFsc2UgfSk7XG4gICAgaWYgKHRoaXMuY2xvc2VCdXR0b24pIHtcbiAgICAgIHRoaXMuY2xvc2VCdXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBvbkV4aXRlZCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZXhpdEV2ZW50RmlyZWQ6IHRydWUgfSk7XG4gICAgaWYgKHRoaXMub3BlbkJ1dHRvbikge1xuICAgICAgdGhpcy5vcGVuQnV0dG9uLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8c3Bhbj5cbiAgICAgICAgPENTU1RyYW5zaXRpb25cbiAgICAgICAgICB0aW1lb3V0PXszMDB9XG4gICAgICAgICAgY2xhc3NOYW1lcz1cInBlcnNvbmFsaXplLWFuaW1hdGVcIlxuICAgICAgICAgIGluPXshdGhpcy5wcm9wcy5zaG93aW5nfVxuICAgICAgICAgIGFwcGVhcj17dHJ1ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInBlcnNvbmFsaXplLWJ1dHRvblwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9taXplLXBhbmVsLWljb24tYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMub25PcGVuKCl9XG4gICAgICAgICAgICBvbktleURvd249e2UgPT4ge1xuICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25PcGVuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICByZWY9e2MgPT4gKHRoaXMub3BlbkJ1dHRvbiA9IGMpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgICAgICAgICBzcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9lZGl0LW91dGxpbmUuc3ZnXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b21pemUtcGFuZWwtaWNvbi1idXR0b24tbGFiZWxcIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgICAgIDxDU1NUcmFuc2l0aW9uXG4gICAgICAgICAgdGltZW91dD17MjUwfVxuICAgICAgICAgIGNsYXNzTmFtZXM9XCJjdXN0b21pemUtYW5pbWF0ZVwiXG4gICAgICAgICAgaW49e3RoaXMucHJvcHMuc2hvd2luZ31cbiAgICAgICAgICBvbkVudGVyZWQ9e3RoaXMub25FbnRlcmVkfVxuICAgICAgICAgIG9uRXhpdGVkPXt0aGlzLm9uRXhpdGVkfVxuICAgICAgICAgIGFwcGVhcj17dHJ1ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbWl6ZS1tZW51XCJcbiAgICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNldHRpbmdzLWRpYWxvZy1sYWJlbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbG9zZS1idXR0b24td3JhcHBlclwiPlxuICAgICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMub25DbG9zZSgpfVxuICAgICAgICAgICAgICAgIGlkPVwiY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1jbG9zZS1tZW51LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL2Nsb3NlLnN2Z1wiXG4gICAgICAgICAgICAgICAgcmVmPXtjID0+ICh0aGlzLmNsb3NlQnV0dG9uID0gYyl9XG4gICAgICAgICAgICAgID48L21vei1idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxDb250ZW50U2VjdGlvblxuICAgICAgICAgICAgICBvcGVuUHJlZmVyZW5jZXM9e3RoaXMucHJvcHMub3BlblByZWZlcmVuY2VzfVxuICAgICAgICAgICAgICBzZXRQcmVmPXt0aGlzLnByb3BzLnNldFByZWZ9XG4gICAgICAgICAgICAgIGVuYWJsZWRTZWN0aW9ucz17dGhpcy5wcm9wcy5lbmFibGVkU2VjdGlvbnN9XG4gICAgICAgICAgICAgIGVuYWJsZWRXaWRnZXRzPXt0aGlzLnByb3BzLmVuYWJsZWRXaWRnZXRzfVxuICAgICAgICAgICAgICB3YWxscGFwZXJzRW5hYmxlZD17dGhpcy5wcm9wcy53YWxscGFwZXJzRW5hYmxlZH1cbiAgICAgICAgICAgICAgYWN0aXZlV2FsbHBhcGVyPXt0aGlzLnByb3BzLmFjdGl2ZVdhbGxwYXBlcn1cbiAgICAgICAgICAgICAgcG9ja2V0UmVnaW9uPXt0aGlzLnByb3BzLnBvY2tldFJlZ2lvbn1cbiAgICAgICAgICAgICAgbWF5SGF2ZVRvcGljU2VjdGlvbnM9e3RoaXMucHJvcHMubWF5SGF2ZVRvcGljU2VjdGlvbnN9XG4gICAgICAgICAgICAgIG1heUhhdmVJbmZlcnJlZFBlcnNvbmFsaXphdGlvbj17XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb25cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBtYXlIYXZlV2VhdGhlcj17dGhpcy5wcm9wcy5tYXlIYXZlV2VhdGhlcn1cbiAgICAgICAgICAgICAgbWF5SGF2ZVRyZW5kaW5nU2VhcmNoPXt0aGlzLnByb3BzLm1heUhhdmVUcmVuZGluZ1NlYXJjaH1cbiAgICAgICAgICAgICAgbWF5SGF2ZVdpZGdldHM9e3RoaXMucHJvcHMubWF5SGF2ZVdpZGdldHN9XG4gICAgICAgICAgICAgIG1heUhhdmVUaW1lcldpZGdldD17dGhpcy5wcm9wcy5tYXlIYXZlVGltZXJXaWRnZXR9XG4gICAgICAgICAgICAgIG1heUhhdmVMaXN0c1dpZGdldD17dGhpcy5wcm9wcy5tYXlIYXZlTGlzdHNXaWRnZXR9XG4gICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICBleGl0RXZlbnRGaXJlZD17dGhpcy5zdGF0ZS5leGl0RXZlbnRGaXJlZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBDdXN0b21pemVNZW51ID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBEaXNjb3ZlcnlTdHJlYW06IHN0YXRlLkRpc2NvdmVyeVN0cmVhbSxcbn0pKShfQ3VzdG9taXplTWVudSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY29uc3QgSVNfTkVXVEFCID1cbiAgZ2xvYmFsVGhpcy5kb2N1bWVudCAmJiBnbG9iYWxUaGlzLmRvY3VtZW50LmRvY3VtZW50VVJJID09PSBcImFib3V0Om5ld3RhYlwiO1xuZXhwb3J0IGNvbnN0IE5FV1RBQl9EQVJLX1RIRU1FID0ge1xuICBudHBfYmFja2dyb3VuZDoge1xuICAgIHI6IDQyLFxuICAgIGc6IDQyLFxuICAgIGI6IDQ2LFxuICAgIGE6IDEsXG4gIH0sXG4gIG50cF9jYXJkX2JhY2tncm91bmQ6IHtcbiAgICByOiA2NixcbiAgICBnOiA2NSxcbiAgICBiOiA3NyxcbiAgICBhOiAxLFxuICB9LFxuICBudHBfdGV4dDoge1xuICAgIHI6IDI0OSxcbiAgICBnOiAyNDksXG4gICAgYjogMjUwLFxuICAgIGE6IDEsXG4gIH0sXG4gIHNpZGViYXI6IHtcbiAgICByOiA1NixcbiAgICBnOiA1NixcbiAgICBiOiA2MSxcbiAgICBhOiAxLFxuICB9LFxuICBzaWRlYmFyX3RleHQ6IHtcbiAgICByOiAyNDksXG4gICAgZzogMjQ5LFxuICAgIGI6IDI1MCxcbiAgICBhOiAxLFxuICB9LFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gTG9nbygpIHtcbiAgcmV0dXJuIChcbiAgICA8aDEgY2xhc3NOYW1lPVwibG9nby1hbmQtd29yZG1hcmstd3JhcHBlclwiPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJsb2dvLWFuZC13b3JkbWFya1wiXG4gICAgICAgIHJvbGU9XCJpbWdcIlxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItbG9nby1hbmQtd29yZG1hcmtcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvZ29cIiAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndvcmRtYXJrXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvaDE+XG4gICk7XG59XG5cbmV4cG9ydCB7IExvZ28gfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qIGdsb2JhbHMgQ29udGVudFNlYXJjaFVJQ29udHJvbGxlciwgQ29udGVudFNlYXJjaEhhbmRvZmZVSUNvbnRyb2xsZXIgKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgSVNfTkVXVEFCIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IExvZ28gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Mb2dvL0xvZ29cIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRyZW5kaW5nU2VhcmNoZXMgfSBmcm9tIFwiLi4vRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9UcmVuZGluZ1NlYXJjaGVzL1RyZW5kaW5nU2VhcmNoZXNcIjtcblxuZXhwb3J0IGNsYXNzIF9TZWFyY2ggZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vblNlYXJjaENsaWNrID0gdGhpcy5vblNlYXJjaENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaEhhbmRvZmZDbGljayA9IHRoaXMub25TZWFyY2hIYW5kb2ZmQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VhcmNoSGFuZG9mZlBhc3RlID0gdGhpcy5vblNlYXJjaEhhbmRvZmZQYXN0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmRHJvcCA9IHRoaXMub25TZWFyY2hIYW5kb2ZmRHJvcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25JbnB1dE1vdW50ID0gdGhpcy5vbklucHV0TW91bnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uSW5wdXRNb3VudEhhbmRvZmYgPSB0aGlzLm9uSW5wdXRNb3VudEhhbmRvZmYuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VhcmNoSGFuZG9mZkJ1dHRvbk1vdW50ID1cbiAgICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgLy8gQWxzbyB0cmFjayBzZWFyY2ggZXZlbnRzIHdpdGggb3VyIG93biB0ZWxlbWV0cnlcbiAgICBpZiAoZXZlbnQuZGV0YWlsLnR5cGUgPT09IFwiU2VhcmNoXCIpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiU0VBUkNIXCIgfSkpO1xuICAgIH1cbiAgfVxuXG4gIG9uU2VhcmNoQ2xpY2soZXZlbnQpIHtcbiAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyLnNlYXJjaChldmVudCk7XG4gIH1cblxuICBkb1NlYXJjaEhhbmRvZmYodGV4dCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuSEFORE9GRl9TRUFSQ0hfVE9fQVdFU09NRUJBUiwgZGF0YTogeyB0ZXh0IH0gfSlcbiAgICApO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5GQUtFX0ZPQ1VTX1NFQVJDSCB9KTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIlNFQVJDSF9IQU5ET0ZGXCIgfSkpO1xuICAgIGlmICh0ZXh0KSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuRElTQUJMRV9TRUFSQ0ggfSk7XG4gICAgfVxuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmQ2xpY2soZXZlbnQpIHtcbiAgICAvLyBXaGVuIHNlYXJjaCBoYW5kLW9mZiBpcyBlbmFibGVkLCB3ZSByZW5kZXIgYSBiaWcgYnV0dG9uIHRoYXQgaXMgc3R5bGVkIHRvXG4gICAgLy8gbG9vayBsaWtlIGEgc2VhcmNoIHRleHRib3guIElmIHRoZSBidXR0b24gaXMgY2xpY2tlZCwgd2Ugc3R5bGVcbiAgICAvLyB0aGUgYnV0dG9uIGFzIGlmIGl0IHdhcyBhIGZvY3VzZWQgc2VhcmNoIGJveCBhbmQgc2hvdyBhIGZha2UgY3Vyc29yIGJ1dFxuICAgIC8vIHJlYWxseSBmb2N1cyB0aGUgYXdlc29tZWJhciB3aXRob3V0IHRoZSBmb2N1cyBzdHlsZXMgKFwiaGlkZGVuIGZvY3VzXCIpLlxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5kb1NlYXJjaEhhbmRvZmYoKTtcbiAgfVxuXG4gIG9uU2VhcmNoSGFuZG9mZlBhc3RlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmRvU2VhcmNoSGFuZG9mZihldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpKTtcbiAgfVxuXG4gIG9uU2VhcmNoSGFuZG9mZkRyb3AoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCB0ZXh0ID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0XCIpO1xuICAgIGlmICh0ZXh0KSB7XG4gICAgICB0aGlzLmRvU2VhcmNoSGFuZG9mZih0ZXh0KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCBjYXJldCA9IHRoaXMuZmFrZUNhcmV0O1xuICAgIGNvbnN0IHsgY2FyZXRCbGlua0NvdW50LCBjYXJldEJsaW5rVGltZSB9ID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXM7XG5cbiAgICBpZiAoY2FyZXQpIHtcbiAgICAgIC8vIElmIGNhcmV0IGJsaW5rIGNvdW50IGlzbid0IGRlZmluZWQsIHVzZSB0aGUgZGVmYXVsdCBpbmZpbml0ZSBiZWhhdmlvciBmb3IgYW5pbWF0aW9uXG4gICAgICBjYXJldC5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgXCItLWNhcmV0LWJsaW5rLWNvdW50XCIsXG4gICAgICAgIGNhcmV0QmxpbmtDb3VudCA+IC0xID8gY2FyZXRCbGlua0NvdW50IDogXCJpbmZpbml0ZVwiXG4gICAgICApO1xuXG4gICAgICAvLyBBcHBseSBjdXN0b20gYmxpbmsgcmF0ZSBpZiBzZXQsIGVsc2UgZmFsbGJhY2sgdG8gZGVmYXVsdCAoNTY3bXMgb24vb2ZmIC0tPiAxMTM0bXMgdG90YWwpXG4gICAgICBjYXJldC5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgXCItLWNhcmV0LWJsaW5rLXRpbWVcIixcbiAgICAgICAgY2FyZXRCbGlua1RpbWUgPiAwID8gYCR7Y2FyZXRCbGlua1RpbWUgKiAyfW1zYCA6IGAkezExMzR9bXNgXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRlbGV0ZSB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyO1xuICB9XG5cbiAgb25JbnB1dE1vdW50KGlucHV0KSB7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICAvLyBUaGUgXCJoZWFsdGhSZXBvcnRLZXlcIiBhbmQgbmVlZHMgdG8gYmUgXCJuZXd0YWJcIiBvciBcImFib3V0aG9tZVwiIHNvIHRoYXRcbiAgICAgIC8vIEJyb3dzZXJVc2FnZVRlbGVtZXRyeS5zeXMubWpzIGtub3dzIHRvIGhhbmRsZSBldmVudHMgd2l0aCB0aGlzIG5hbWUsIGFuZFxuICAgICAgLy8gY2FuIGFkZCB0aGUgYXBwcm9wcmlhdGUgdGVsZW1ldHJ5IHByb2JlcyBmb3Igc2VhcmNoLiBXaXRob3V0IHRoZSBjb3JyZWN0XG4gICAgICAvLyBuYW1lLCBjZXJ0YWluIHRlc3RzIGxpa2UgYnJvd3Nlcl9Vc2FnZVRlbGVtZXRyeV9jb250ZW50LmpzIHdpbGwgZmFpbFxuICAgICAgLy8gKFNlZSBnaXRodWIgdGlja2V0ICMyMzQ4IGZvciBtb3JlIGRldGFpbHMpXG4gICAgICBjb25zdCBoZWFsdGhSZXBvcnRLZXkgPSBJU19ORVdUQUIgPyBcIm5ld3RhYlwiIDogXCJhYm91dGhvbWVcIjtcblxuICAgICAgLy8gZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyIG5lZWRzIHRvIGV4aXN0IGFzIGEgZ2xvYmFsIHNvIHRoYXQgdGVzdHMgZm9yXG4gICAgICAvLyB0aGUgZXhpc3RpbmcgYWJvdXQ6aG9tZSBjYW4gZmluZCBpdDsgYW5kIHNvIGl0IGFsbG93cyB0aGVzZSB0ZXN0cyB0byBwYXNzLlxuICAgICAgLy8gSW4gdGhlIGZ1dHVyZSwgd2hlbiBhY3Rpdml0eSBzdHJlYW0gaXMgZGVmYXVsdCBhYm91dDpob21lLCB0aGlzIGNhbiBiZSByZW5hbWVkXG4gICAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyID0gbmV3IENvbnRlbnRTZWFyY2hVSUNvbnRyb2xsZXIoXG4gICAgICAgIGlucHV0LFxuICAgICAgICBpbnB1dC5wYXJlbnROb2RlLFxuICAgICAgICBoZWFsdGhSZXBvcnRLZXlcbiAgICAgICk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwiQ29udGVudFNlYXJjaENsaWVudFwiLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmdDb250ZW50U2VhcmNoQ29udHJvbGxlciA9IG51bGw7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwiQ29udGVudFNlYXJjaENsaWVudFwiLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBvbklucHV0TW91bnRIYW5kb2ZmKGlucHV0KSB7XG4gICAgaWYgKGlucHV0KSB7XG4gICAgICAvLyBUaGUgaGFuZG9mZiBVSSBjb250cm9sbGVyIGhlbHBzIHVzIHNldCB0aGUgc2VhcmNoIGljb24gYW5kIHJlYWN0cyB0b1xuICAgICAgLy8gY2hhbmdlcyB0byBkZWZhdWx0IGVuZ2luZSB0byBrZWVwIGV2ZXJ5dGhpbmcgaW4gc3luYy5cbiAgICAgIHRoaXMuX2hhbmRvZmZTZWFyY2hDb250cm9sbGVyID0gbmV3IENvbnRlbnRTZWFyY2hIYW5kb2ZmVUlDb250cm9sbGVyKCk7XG4gICAgfVxuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQoYnV0dG9uKSB7XG4gICAgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGZvciB1c2UgZHVyaW5nIFwicGFzdGVcIiBldmVudCBoYW5kbGluZy5cbiAgICB0aGlzLl9zZWFyY2hIYW5kb2ZmQnV0dG9uID0gYnV0dG9uO1xuICB9XG5cbiAgLypcbiAgICogRG8gbm90IGNoYW5nZSB0aGUgSUQgb24gdGhlIGlucHV0IGZpZWxkLCBhcyBsZWdhY3kgbmV3dGFiIGNvZGVcbiAgICogc3BlY2lmaWNhbGx5IGxvb2tzIGZvciB0aGUgaWQgJ25ld3RhYi1zZWFyY2gtdGV4dCcgb24gaW5wdXQgZmllbGRzXG4gICAqIGluIG9yZGVyIHRvIGV4ZWN1dGUgc2VhcmNoZXMgaW4gdmFyaW91cyB0ZXN0c1xuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHdyYXBwZXJDbGFzc05hbWUgPSBbXG4gICAgICBcInNlYXJjaC13cmFwcGVyXCIsXG4gICAgICB0aGlzLnByb3BzLmRpc2FibGUgJiYgXCJzZWFyY2gtZGlzYWJsZWRcIixcbiAgICAgIHRoaXMucHJvcHMuZmFrZUZvY3VzICYmIFwiZmFrZS1mb2N1c1wiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuICAgIGNvbnN0IHByZWZzID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXM7XG5cbiAgICBjb25zdCB0cmVuZGluZ1NlYXJjaEVuYWJsZWQgPVxuICAgICAgcHJlZnNbXCJ0cmVuZGluZ1NlYXJjaC5lbmFibGVkXCJdICYmXG4gICAgICBwcmVmc1tcInN5c3RlbS50cmVuZGluZ1NlYXJjaC5lbmFibGVkXCJdICYmXG4gICAgICBwcmVmc1tcInRyZW5kaW5nU2VhcmNoLmRlZmF1bHRTZWFyY2hFbmdpbmVcIl0/LnRvTG93ZXJDYXNlKCkgPT09IFwiZ29vZ2xlXCI7XG5cbiAgICBjb25zdCB0cmVuZGluZ1NlYXJjaFZhcmlhbnQgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXCJ0cmVuZGluZ1NlYXJjaC52YXJpYW50XCJdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXt3cmFwcGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5zaG93TG9nbyAmJiA8TG9nbyAvPn1cbiAgICAgICAgICB7IXRoaXMucHJvcHMuaGFuZG9mZkVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtaW5uZXItd3JhcHBlciBuby1oYW5kb2ZmXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIGlkPVwibmV3dGFiLXNlYXJjaC10ZXh0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VhcmNoLWJveC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoPVwiMjU2XCJcbiAgICAgICAgICAgICAgICByZWY9e3RoaXMub25JbnB1dE1vdW50fVxuICAgICAgICAgICAgICAgIHR5cGU9XCJzZWFyY2hcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgaWQ9XCJzZWFyY2hTdWJtaXRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlYXJjaC1idXR0b25cIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWFyY2gtYm94LXNlYXJjaC1idXR0b25cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25TZWFyY2hDbGlja31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge3RyZW5kaW5nU2VhcmNoRW5hYmxlZCAmJlxuICAgICAgICAgICAgICAgICh0cmVuZGluZ1NlYXJjaFZhcmlhbnQgPT09IFwiYVwiIHx8XG4gICAgICAgICAgICAgICAgICB0cmVuZGluZ1NlYXJjaFZhcmlhbnQgPT09IFwiY1wiKSAmJiA8VHJlbmRpbmdTZWFyY2hlcyAvPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge3RoaXMucHJvcHMuaGFuZG9mZkVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtaW5uZXItd3JhcHBlclwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoLWhhbmRvZmYtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICByZWY9e3RoaXMub25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNlYXJjaEhhbmRvZmZDbGlja31cbiAgICAgICAgICAgICAgICB0YWJJbmRleD1cIi0xXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmFrZS10ZXh0Ym94XCIgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJzZWFyY2hcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmFrZS1lZGl0YWJsZVwiXG4gICAgICAgICAgICAgICAgICB0YWJJbmRleD1cIi0xXCJcbiAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICBvbkRyb3A9e3RoaXMub25TZWFyY2hIYW5kb2ZmRHJvcH1cbiAgICAgICAgICAgICAgICAgIG9uUGFzdGU9e3RoaXMub25TZWFyY2hIYW5kb2ZmUGFzdGV9XG4gICAgICAgICAgICAgICAgICByZWY9e3RoaXMub25JbnB1dE1vdW50SGFuZG9mZn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZha2UtY2FyZXRcIlxuICAgICAgICAgICAgICAgICAgcmVmPXtlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFrZUNhcmV0ID0gZWw7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICB7dHJlbmRpbmdTZWFyY2hFbmFibGVkICYmXG4gICAgICAgICAgICAgICAgKHRyZW5kaW5nU2VhcmNoVmFyaWFudCA9PT0gXCJhXCIgfHxcbiAgICAgICAgICAgICAgICAgIHRyZW5kaW5nU2VhcmNoVmFyaWFudCA9PT0gXCJjXCIpICYmIDxUcmVuZGluZ1NlYXJjaGVzIC8+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBTZWFyY2ggPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfU2VhcmNoKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gRG93bmxvYWRNb2RhbFRvZ2dsZSh7IG9uQ2xpY2ssIGlzQWN0aXZlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9e2Btb2JpbGUtZG93bmxvYWQtcHJvbW8gJHtpc0FjdGl2ZSA/IFwiIGlzLWFjdGl2ZVwiIDogXCJcIn1gfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24gaWNvbi1kZXZpY2UtcGhvbmVcIj48L2Rpdj5cbiAgICA8L2J1dHRvbj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgRG93bmxvYWRNb2RhbFRvZ2dsZSB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIFRodW1iVXBUaHVtYkRvd25Ub2FzdCh7IG9uRGlzbWlzc0NsaWNrLCBvbkFuaW1hdGlvbkVuZCB9KSB7XG4gIGNvbnN0IG1vek1lc3NhZ2VCYXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnQ6IG1vek1lc3NhZ2VCYXJFbGVtZW50IH0gPSBtb3pNZXNzYWdlQmFyUmVmO1xuXG4gICAgbW96TWVzc2FnZUJhckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibWVzc2FnZS1iYXI6dXNlci1kaXNtaXNzZWRcIixcbiAgICAgIG9uRGlzbWlzc0NsaWNrLFxuICAgICAge1xuICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbW96TWVzc2FnZUJhckVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtZXNzYWdlLWJhcjp1c2VyLWRpc21pc3NlZFwiLFxuICAgICAgICBvbkRpc21pc3NDbGlja1xuICAgICAgKTtcbiAgICB9O1xuICB9LCBbb25EaXNtaXNzQ2xpY2tdKTtcblxuICByZXR1cm4gKFxuICAgIDxtb3otbWVzc2FnZS1iYXJcbiAgICAgIHR5cGU9XCJzdWNjZXNzXCJcbiAgICAgIGNsYXNzPVwibm90aWZpY2F0aW9uLWZlZWQtaXRlbVwiXG4gICAgICBkaXNtaXNzYWJsZT17dHJ1ZX1cbiAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b2FzdC10aHVtYnMtdXAtb3ItZG93bjJcIlxuICAgICAgcmVmPXttb3pNZXNzYWdlQmFyUmVmfVxuICAgICAgb25BbmltYXRpb25FbmQ9e29uQW5pbWF0aW9uRW5kfVxuICAgID48L21vei1tZXNzYWdlLWJhcj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgVGh1bWJVcFRodW1iRG93blRvYXN0IH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gUmVwb3J0Q29udGVudFRvYXN0KHsgb25EaXNtaXNzQ2xpY2ssIG9uQW5pbWF0aW9uRW5kIH0pIHtcbiAgY29uc3QgbW96TWVzc2FnZUJhclJlZiA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudDogbW96TWVzc2FnZUJhckVsZW1lbnQgfSA9IG1vek1lc3NhZ2VCYXJSZWY7XG5cbiAgICBtb3pNZXNzYWdlQmFyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJtZXNzYWdlLWJhcjp1c2VyLWRpc21pc3NlZFwiLFxuICAgICAgb25EaXNtaXNzQ2xpY2ssXG4gICAgICB7XG4gICAgICAgIG9uY2U6IHRydWUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtb3pNZXNzYWdlQmFyRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1lc3NhZ2UtYmFyOnVzZXItZGlzbWlzc2VkXCIsXG4gICAgICAgIG9uRGlzbWlzc0NsaWNrXG4gICAgICApO1xuICAgIH07XG4gIH0sIFtvbkRpc21pc3NDbGlja10pO1xuXG4gIHJldHVybiAoXG4gICAgPG1vei1tZXNzYWdlLWJhclxuICAgICAgdHlwZT1cInN1Y2Nlc3NcIlxuICAgICAgY2xhc3M9XCJub3RpZmljYXRpb24tZmVlZC1pdGVtXCJcbiAgICAgIGRpc21pc3NhYmxlPXt0cnVlfVxuICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvYXN0LXRoYW5rcy1mb3ItcmVwb3J0aW5nXCJcbiAgICAgIHJlZj17bW96TWVzc2FnZUJhclJlZn1cbiAgICAgIG9uQW5pbWF0aW9uRW5kPXtvbkFuaW1hdGlvbkVuZH1cbiAgICA+PC9tb3otbWVzc2FnZS1iYXI+XG4gICk7XG59XG5cbmV4cG9ydCB7IFJlcG9ydENvbnRlbnRUb2FzdCB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBUaHVtYlVwVGh1bWJEb3duVG9hc3QgfSBmcm9tIFwiLi9Ub2FzdHMvVGh1bWJVcFRodW1iRG93blRvYXN0XCI7XG5pbXBvcnQgeyBSZXBvcnRDb250ZW50VG9hc3QgfSBmcm9tIFwiLi9Ub2FzdHMvUmVwb3J0Q29udGVudFRvYXN0XCI7XG5cbmZ1bmN0aW9uIE5vdGlmaWNhdGlvbnMoeyBkaXNwYXRjaCB9KSB7XG4gIGNvbnN0IHRvYXN0UXVldWUgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5Ob3RpZmljYXRpb25zLnRvYXN0UXVldWUpO1xuICBjb25zdCB0b2FzdENvdW50ZXIgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5Ob3RpZmljYXRpb25zLnRvYXN0Q291bnRlcik7XG5cbiAgLyoqXG4gICAqIFN5bmNzIHtAbGluayB0b2FzdFF1ZXVlfSBhcnJheSBzbyBpdCBjYW4gYmUgdXNlZCB0b1xuICAgKiByZW1vdmUgdGhlIHRvYXN0cyB3cmFwcGVyIGlmIHRoZXJlIGFyZSBub25lIGFmdGVyIGFcbiAgICogdG9hc3QgaXMgYXV0by1oaWRkZW4gKGFuaW1hdGVkIG91dCkgdmlhIENTUy5cbiAgICovXG4gIGNvbnN0IHN5bmNIaWRkZW5Ub2FzdERhdGEgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgdG9hc3RJZCA9IHRvYXN0UXVldWVbdG9hc3RRdWV1ZS5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBxdWV1ZWRUb2FzdHMgPSBbLi4udG9hc3RRdWV1ZV0uc2xpY2UoMSk7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9PbmVDb250ZW50KFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogYXQuSElERV9UT0FTVF9NRVNTQUdFLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRvYXN0UXVldWU6IHF1ZXVlZFRvYXN0cyxcbiAgICAgICAgICAgIHRvYXN0Q291bnRlcjogcXVldWVkVG9hc3RzLmxlbmd0aCxcbiAgICAgICAgICAgIHRvYXN0SWQsXG4gICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uczogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgXCJBY3Rpdml0eVN0cmVhbTpDb250ZW50XCJcbiAgICAgIClcbiAgICApO1xuICB9LCBbZGlzcGF0Y2gsIHRvYXN0UXVldWVdKTtcblxuICBjb25zdCBnZXRUb2FzdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAvLyBOb3RlOiBUaGlzIGFyY2hpdGVjdHVyZSBjb3VsZCBleHBhbmQgdG8gc3VwcG9ydCBtdWx0aXBsZSB0b2FzdCBub3RpZmljYXRpb25zIGF0IG9uY2VcbiAgICBjb25zdCBsYXRlc3RUb2FzdEl0ZW0gPSB0b2FzdFF1ZXVlW3RvYXN0UXVldWUubGVuZ3RoIC0gMV07XG5cbiAgICBpZiAoIWxhdGVzdFRvYXN0SXRlbSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdG9hc3QgZm91bmRcIik7XG4gICAgfVxuXG4gICAgc3dpdGNoIChsYXRlc3RUb2FzdEl0ZW0pIHtcbiAgICAgIGNhc2UgXCJyZXBvcnRTdWNjZXNzVG9hc3RcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8UmVwb3J0Q29udGVudFRvYXN0XG4gICAgICAgICAgICBvbkRpc21pc3NDbGljaz17c3luY0hpZGRlblRvYXN0RGF0YX1cbiAgICAgICAgICAgIG9uQW5pbWF0aW9uRW5kPXtzeW5jSGlkZGVuVG9hc3REYXRhfVxuICAgICAgICAgICAga2V5PXt0b2FzdENvdW50ZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJ0aHVtYnNVcFRvYXN0XCI6XG4gICAgICBjYXNlIFwidGh1bWJzRG93blRvYXN0XCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRodW1iVXBUaHVtYkRvd25Ub2FzdFxuICAgICAgICAgICAgb25EaXNtaXNzQ2xpY2s9e3N5bmNIaWRkZW5Ub2FzdERhdGF9XG4gICAgICAgICAgICBvbkFuaW1hdGlvbkVuZD17c3luY0hpZGRlblRvYXN0RGF0YX1cbiAgICAgICAgICAgIGtleT17dG9hc3RDb3VudGVyfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdG9hc3QgdHlwZTogJHtsYXRlc3RUb2FzdEl0ZW19YCk7XG4gICAgfVxuICB9LCBbc3luY0hpZGRlblRvYXN0RGF0YSwgdG9hc3RDb3VudGVyLCB0b2FzdFF1ZXVlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRUb2FzdCgpO1xuICB9LCBbdG9hc3RRdWV1ZSwgZ2V0VG9hc3RdKTtcblxuICByZXR1cm4gdG9hc3RRdWV1ZS5sZW5ndGggPyAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJub3RpZmljYXRpb24td3JhcHBlclwiPntnZXRUb2FzdCgpfTwvZGl2PlxuICApIDogKFxuICAgIFwiXCJcbiAgKTtcbn1cblxuZXhwb3J0IHsgTm90aWZpY2F0aW9ucyB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgTW9kYWxPdmVybGF5V3JhcHBlciB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL01vZGFsT3ZlcmxheS9Nb2RhbE92ZXJsYXlcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcblxuY29uc3QgRU1PSklfTEFCRUxTID0ge1xuICBidXNpbmVzczogXCLwn5K8XCIsXG4gIGFydHM6IFwi8J+OrVwiLFxuICBmb29kOiBcIvCfjZVcIixcbiAgaGVhbHRoOiBcIvCfqbpcIixcbiAgZmluYW5jZTogXCLwn5KwXCIsXG4gIGdvdmVybm1lbnQ6IFwi8J+Pm++4j1wiLFxuICBzcG9ydHM6IFwi4pq977iPXCIsXG4gIHRlY2g6IFwi8J+Su1wiLFxuICB0cmF2ZWw6IFwi4pyI77iPXCIsXG4gIFwiZWR1Y2F0aW9uLXNjaWVuY2VcIjogXCLwn6eqXCIsXG4gIHNvY2lldHk6IFwi8J+SoVwiLFxufTtcblxuZnVuY3Rpb24gVG9waWNTZWxlY3Rpb24oeyBzdXBwb3J0VXJsIH0pIHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbW9kYWxSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGNoZWNrYm94V3JhcHBlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcHJlZnMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5QcmVmcy52YWx1ZXMpO1xuICBjb25zdCB0b3BpY3MgPSBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi50b3BpY3NcIl0uc3BsaXQoXCIsIFwiKTtcbiAgY29uc3Qgc2VsZWN0ZWRUb3BpY3MgPSBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5zZWxlY3RlZFRvcGljc1wiXTtcbiAgY29uc3Qgc3VnZ2VzdGVkVG9waWNzID1cbiAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5zdWdnZXN0ZWRUb3BpY3NcIl0/LnNwbGl0KFwiLCBcIik7XG4gIGNvbnN0IGRpc3BsYXlDb3VudCA9XG4gICAgcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24ub25ib2FyZGluZy5kaXNwbGF5Q291bnRcIl07XG4gIGNvbnN0IHRvcGljc0hhdmVCZWVuUHJldmlvdXNseVNldCA9XG4gICAgcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24uaGFzQmVlblVwZGF0ZWRQcmV2aW91c2x5XCJdO1xuICBjb25zdCBbaXNGaXJzdFJ1bl0gPSB1c2VTdGF0ZShkaXNwbGF5Q291bnQgPT09IDApO1xuICBjb25zdCBkaXNwbGF5Q291bnRSZWYgPSB1c2VSZWYoZGlzcGxheUNvdW50KTtcbiAgY29uc3QgcHJlc2VsZWN0ZWRUb3BpY3MgPSAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkVG9waWNzKSB7XG4gICAgICByZXR1cm4gc2VsZWN0ZWRUb3BpY3Muc3BsaXQoXCIsIFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRmlyc3RSdW4gPyBzdWdnZXN0ZWRUb3BpY3MgOiBbXTtcbiAgfTtcbiAgY29uc3QgW3RvcGljc1RvU2VsZWN0LCBzZXRUb3BpY3NUb1NlbGVjdF0gPSB1c2VTdGF0ZShwcmVzZWxlY3RlZFRvcGljcyk7XG5cbiAgZnVuY3Rpb24gaXNGaXJzdFNhdmUoKSB7XG4gICAgLy8gT25seSByZXR1cm4gdHJ1ZSBpZiB0aGUgdXNlciBoYXMgbm90IHByZXZpb3VzIHNldCBwcmVmc1xuICAgIC8vIGFuZCB0aGUgc2VsZWN0ZWQgdG9waWNzIHByZWYgaXMgZW1wdHlcbiAgICBpZiAoc2VsZWN0ZWRUb3BpY3MgPT09IFwiXCIgJiYgIXRvcGljc0hhdmVCZWVuUHJldmlvdXNseVNldCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW9kYWxDbG9zZSgpIHtcbiAgICBkaXNwYXRjaChhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuVE9QSUNfU0VMRUNUSU9OX1VTRVJfRElTTUlTUyB9KSk7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Ccm9hZGNhc3RUb0NvbnRlbnQoeyB0eXBlOiBhdC5UT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX0NMT1NFIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVVzZXJDbG9zZShlKSB7XG4gICAgY29uc3QgaWQgPSBlPy50YXJnZXQ/LmlkO1xuXG4gICAgaWYgKGlkID09PSBcImZpcnN0LXJ1blwiKSB7XG4gICAgICBkaXNwYXRjaChhYy5BbHNvVG9NYWluKHsgdHlwZTogYXQuVE9QSUNfU0VMRUNUSU9OX01BWUJFX0xBVEVSIH0pKTtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5TZXRQcmVmKFxuICAgICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcubWF5YmVEaXNwbGF5XCIsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuU2V0UHJlZihcbiAgICAgICAgICBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLm1heWJlRGlzcGxheVwiLFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIGhhbmRsZU1vZGFsQ2xvc2UoKTtcbiAgfVxuXG4gIC8vIEJ5IGRvaW5nIHRoaXMsIHRoZSB1c2VFZmZlY3QgdGhhdCBzZXRzIHVwIHRoZSBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAvLyB3aWxsIG5vdCByZS1ydW4gZXZlcnkgdGltZSBkaXNwbGF5Q291bnQgY2hhbmdlcyxcbiAgLy8gYnV0IHRoZSBvYnNlcnZlciBjYWxsYmFjayB3aWxsIGFsd2F5cyBoYXZlIGFjY2Vzc1xuICAvLyB0byB0aGUgbGF0ZXN0IGRpc3BsYXlDb3VudCB2YWx1ZSB0aHJvdWdoIHRoZSByZWYuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGxheUNvdW50UmVmLmN1cnJlbnQgPSBkaXNwbGF5Q291bnQ7XG4gIH0sIFtkaXNwbGF5Q291bnRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudCB9ID0gbW9kYWxSZWY7XG4gICAgbGV0IG9ic2VydmVyO1xuICAgIGlmIChjdXJyZW50KSB7XG4gICAgICBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoW2VudHJ5XSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgdXNlciBoYXMgc2VlbiB0aGUgbW9kYWwgbW9yZSB0aGFuIDMgdGltZXMsXG4gICAgICAgICAgLy8gYXV0b21hdGljYWxseSByZW1vdmUgdGhlbSBmcm9tIG9uYm9hcmRpbmdcbiAgICAgICAgICBpZiAoZGlzcGxheUNvdW50UmVmLmN1cnJlbnQgPiAzKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgYWMuU2V0UHJlZihcbiAgICAgICAgICAgICAgICBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLm1heWJlRGlzcGxheVwiLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShtb2RhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgICB0eXBlOiBhdC5UT1BJQ19TRUxFQ1RJT05fSU1QUkVTU0lPTixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGN1cnJlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW21vZGFsUmVmLCBkaXNwYXRjaF0pO1xuXG4gIC8vIHdoZW4gY29tcG9uZW50IG1vdW50cywgc2V0IGZvY3VzIHRvIGlucHV0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW5wdXRSZWY/LmN1cnJlbnQ/LmZvY3VzKCk7XG4gIH0sIFtpbnB1dFJlZl0pO1xuXG4gIGNvbnN0IGhhbmRsZUZvY3VzID0gdXNlQ2FsbGJhY2soZSA9PiB7XG4gICAgLy8gdGhpcyBsaXN0IHdpbGwgaGF2ZSB0byBiZSB1cGRhdGVkIHdpdGggb3RoZXIgcmV1c2FibGUgY29tcG9uZW50cyB0aGF0IGdldCB1c2VkIGluc2lkZSBvZiB0aGlzIG1vZGFsXG4gICAgY29uc3QgdGFiYmFibGVFbGVtZW50cyA9IG1vZGFsUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICdhW2hyZWZdLCBidXR0b24sIG1vei1idXR0b24sIGlucHV0W3RhYmluZGV4PVwiMFwiXSdcbiAgICApO1xuICAgIGNvbnN0IFtmaXJzdFRhYmFibGVFbF0gPSB0YWJiYWJsZUVsZW1lbnRzO1xuICAgIGNvbnN0IGxhc3RUYWJiYWJsZUVsID0gdGFiYmFibGVFbGVtZW50c1t0YWJiYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgbGV0IGlzVGFiUHJlc3NlZCA9IGUua2V5ID09PSBcIlRhYlwiIHx8IGUua2V5Q29kZSA9PT0gOTtcbiAgICBsZXQgaXNBcnJvd1ByZXNzZWQgPSBlLmtleSA9PT0gXCJBcnJvd1VwXCIgfHwgZS5rZXkgPT09IFwiQXJyb3dEb3duXCI7XG5cbiAgICBpZiAoaXNUYWJQcmVzc2VkKSB7XG4gICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3RUYWJhYmxlRWwpIHtcbiAgICAgICAgICBsYXN0VGFiYmFibGVFbC5mb2N1cygpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0VGFiYmFibGVFbCkge1xuICAgICAgICBmaXJzdFRhYmFibGVFbC5mb2N1cygpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGlzQXJyb3dQcmVzc2VkICYmXG4gICAgICBjaGVja2JveFdyYXBwZXJSZWYuY3VycmVudC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KVxuICAgICkge1xuICAgICAgY29uc3QgY2hlY2tib3hFbGVtZW50cyA9XG4gICAgICAgIGNoZWNrYm94V3JhcHBlclJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKTtcbiAgICAgIGNvbnN0IFtmaXJzdElucHV0XSA9IGNoZWNrYm94RWxlbWVudHM7XG4gICAgICBjb25zdCBsYXN0SW5wdXQgPSBjaGVja2JveEVsZW1lbnRzW2NoZWNrYm94RWxlbWVudHMubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBpbnB1dEFyciA9IEFycmF5LmZyb20oY2hlY2tib3hFbGVtZW50cyk7XG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBpbnB1dEFyci5pbmRleE9mKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgICAgbGV0IG5leHRFbDtcbiAgICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgbmV4dEVsID1cbiAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdElucHV0XG4gICAgICAgICAgICA/IGxhc3RJbnB1dFxuICAgICAgICAgICAgOiBjaGVja2JveEVsZW1lbnRzW2N1cnJlbnRJbmRleCAtIDFdO1xuICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICBuZXh0RWwgPVxuICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RJbnB1dFxuICAgICAgICAgICAgPyBmaXJzdElucHV0XG4gICAgICAgICAgICA6IGNoZWNrYm94RWxlbWVudHNbY3VycmVudEluZGV4ICsgMV07XG4gICAgICB9XG4gICAgICBuZXh0RWwudGFiSW5kZXggPSAwO1xuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50YWJJbmRleCA9IC0xO1xuICAgICAgbmV4dEVsLmZvY3VzKCk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByZWYgPSBtb2RhbFJlZi5jdXJyZW50O1xuICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVGb2N1cyk7XG5cbiAgICBpbnB1dFJlZi5jdXJyZW50LnRhYkluZGV4ID0gMDtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRm9jdXMpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVGb2N1c10pO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgY29uc3QgdG9waWMgPSBlLnRhcmdldC5uYW1lO1xuICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgaWYgKGlzQ2hlY2tlZCkge1xuICAgICAgc2V0VG9waWNzVG9TZWxlY3QoWy4uLnRvcGljc1RvU2VsZWN0LCB0b3BpY10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1cGRhdGVkVG9waWNzID0gdG9waWNzVG9TZWxlY3QuZmlsdGVyKHQgPT4gdCAhPT0gdG9waWMpO1xuICAgICAgc2V0VG9waWNzVG9TZWxlY3QodXBkYXRlZFRvcGljcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkge1xuICAgIGNvbnN0IHRvcGljc1N0cmluZyA9IHRvcGljc1RvU2VsZWN0LmpvaW4oXCIsIFwiKTtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLlNldFByZWYoXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24uc2VsZWN0ZWRUb3BpY3NcIiwgdG9waWNzU3RyaW5nKVxuICAgICk7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5TZXRQcmVmKFxuICAgICAgICBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLm1heWJlRGlzcGxheVwiLFxuICAgICAgICBmYWxzZVxuICAgICAgKVxuICAgICk7XG4gICAgaWYgKCF0b3BpY3NIYXZlQmVlblByZXZpb3VzbHlTZXQpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5TZXRQcmVmKFxuICAgICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLmhhc0JlZW5VcGRhdGVkUHJldmlvdXNseVwiLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuVE9QSUNfU0VMRUNUSU9OX1VTRVJfU0FWRSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRvcGljczogdG9waWNzU3RyaW5nLFxuICAgICAgICAgIHByZXZpb3VzX3RvcGljczogc2VsZWN0ZWRUb3BpY3MsXG4gICAgICAgICAgZmlyc3Rfc2F2ZTogaXNGaXJzdFNhdmUoKSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBoYW5kbGVNb2RhbENsb3NlKCk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxNb2RhbE92ZXJsYXlXcmFwcGVyXG4gICAgICBvbkNsb3NlPXtoYW5kbGVVc2VyQ2xvc2V9XG4gICAgICBpbm5lckNsYXNzTmFtZT1cInRvcGljLXNlbGVjdGlvbi1jb250YWluZXJcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9waWMtc2VsZWN0aW9uLWZvcm1cIiByZWY9e21vZGFsUmVmfT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImRpc21pc3MtYnV0dG9uXCJcbiAgICAgICAgICB0aXRsZT1cImRpc21pc3NcIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVVzZXJDbG9zZX1cbiAgICAgICAgLz5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRpdGxlXCIgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcGljLXNlbGVjdGlvbi10aXRsZVwiIC8+XG4gICAgICAgIDxwXG4gICAgICAgICAgY2xhc3NOYW1lPVwic3VidGl0bGVcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BpYy1zZWxlY3Rpb24tc3VidGl0bGVcIlxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcGljLWxpc3RcIiByZWY9e2NoZWNrYm94V3JhcHBlclJlZn0+XG4gICAgICAgICAge3RvcGljcy5tYXAoKHRvcGljLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2VkID0gdG9waWNzVG9TZWxlY3QuaW5jbHVkZXModG9waWMpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT17YHRvcGljLWl0ZW1gfSBrZXk9e3RvcGljfT5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICBpZD17dG9waWN9XG4gICAgICAgICAgICAgICAgICBuYW1lPXt0b3BpY31cbiAgICAgICAgICAgICAgICAgIHJlZj17aSA9PT0gMCA/IGlucHV0UmVmIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgYXJpYS1jaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ey0xfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0b3BpYy1jdXN0b20tY2hlY2tib3hgfT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvcGljLWljb25cIj57RU1PSklfTEFCRUxTW2Ake3RvcGljfWBdfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvcGljLWNoZWNrZWRcIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0b3BpYy1pdGVtLWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17YG5ld3RhYi10b3BpYy1sYWJlbC0ke3RvcGljfWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxuICAgICAgICAgIDxhXG4gICAgICAgICAgICBocmVmPXtzdXBwb3J0VXJsfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcGljLXNlbGVjdGlvbi1wcml2YWN5LWxpbmtcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPG1vei1idXR0b24tZ3JvdXAgY2xhc3NOYW1lPVwiYnV0dG9uLWdyb3VwXCI+XG4gICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICBpZD17aXNGaXJzdFJ1biA/IFwiZmlyc3QtcnVuXCIgOiBcIlwifVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e1xuICAgICAgICAgICAgICAgIGlzRmlyc3RSdW5cbiAgICAgICAgICAgICAgICAgID8gXCJuZXd0YWItdG9waWMtc2VsZWN0aW9uLWJ1dHRvbi1tYXliZS1sYXRlclwiXG4gICAgICAgICAgICAgICAgICA6IFwibmV3dGFiLXRvcGljLXNlbGVjdGlvbi1jYW5jZWwtYnV0dG9uXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVVc2VyQ2xvc2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcGljLXNlbGVjdGlvbi1zYXZlLWJ1dHRvblwiXG4gICAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L21vei1idXR0b24tZ3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9Nb2RhbE92ZXJsYXlXcmFwcGVyPlxuICApO1xufVxuXG5leHBvcnQgeyBUb3BpY1NlbGVjdGlvbiB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBGZWF0dXJlSGlnaGxpZ2h0IH0gZnJvbSBcIi4vRmVhdHVyZUhpZ2hsaWdodFwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5cbmNvbnN0IFBSRUZfTU9CSUxFX0RPV05MT0FEX0hJR0hMSUdIVF9WQVJJQU5UX0EgPVxuICBcIm1vYmlsZURvd25sb2FkTW9kYWwudmFyaWFudC1hXCI7XG5jb25zdCBQUkVGX01PQklMRV9ET1dOTE9BRF9ISUdITElHSFRfVkFSSUFOVF9CID1cbiAgXCJtb2JpbGVEb3dubG9hZE1vZGFsLnZhcmlhbnQtYlwiO1xuY29uc3QgUFJFRl9NT0JJTEVfRE9XTkxPQURfSElHSExJR0hUX1ZBUklBTlRfQyA9XG4gIFwibW9iaWxlRG93bmxvYWRNb2RhbC52YXJpYW50LWNcIjtcblxuY29uc3QgRkVBVFVSRV9JRCA9IFwiRkVBVFVSRV9ET1dOTE9BRF9NT0JJTEVfUFJPTU9cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIERvd25sb2FkTW9iaWxlUHJvbW9IaWdobGlnaHQoe1xuICBwb3NpdGlvbixcbiAgZGlzcGF0Y2gsXG4gIGhhbmRsZURpc21pc3MsXG4gIGhhbmRsZUJsb2NrLFxuICBpc0ludGVyc2VjdGluZyxcbn0pIHtcbiAgY29uc3Qgb25EaXNtaXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIC8vIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCBtYW51YWxseSBiZWNhdXNlIHRoZSBmZWF0dXJlIG1heSBiZSB0cmlnZ2VyZWQgb3V0c2lkZSB0aGUgT01DIGZsb3csXG4gICAgLy8gYW5kIG1heSBub3QgYmUgY2FwdHVyZWQgYnkgdGhlIG1lc3NhZ2luZy1zeXN0ZW3igJlzIGF1dG9tYXRpYyByZXBvcnRpbmcuXG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudDogXCJGRUFUVVJFX0hJR0hMSUdIVF9ESVNNSVNTXCIsXG4gICAgICAgIHNvdXJjZTogXCJGRUFUVVJFX0hJR0hMSUdIVFwiLFxuICAgICAgICB2YWx1ZTogeyBmZWF0dXJlOiBGRUFUVVJFX0lEIH0sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBoYW5kbGVEaXNtaXNzKCk7XG4gICAgaGFuZGxlQmxvY2soKTtcbiAgfSwgW2Rpc3BhdGNoLCBoYW5kbGVEaXNtaXNzLCBoYW5kbGVCbG9ja10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAvLyBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgbWFudWFsbHkgYmVjYXVzZSB0aGUgZmVhdHVyZSBtYXkgYmUgdHJpZ2dlcmVkIG91dHNpZGUgdGhlIE9NQyBmbG93LFxuICAgICAgLy8gYW5kIG1heSBub3QgYmUgY2FwdHVyZWQgYnkgdGhlIG1lc3NhZ2luZy1zeXN0ZW3igJlzIGF1dG9tYXRpYyByZXBvcnRpbmcuXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJGRUFUVVJFX0hJR0hMSUdIVF9JTVBSRVNTSU9OXCIsXG4gICAgICAgICAgc291cmNlOiBcIkZFQVRVUkVfSElHSExJR0hUXCIsXG4gICAgICAgICAgdmFsdWU6IHsgZmVhdHVyZTogRkVBVFVSRV9JRCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgaXNJbnRlcnNlY3RpbmddKTtcblxuICBjb25zdCBwcmVmcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlByZWZzLnZhbHVlcyk7XG4gIGNvbnN0IG1vYmlsZURvd25sb2FkUHJvbW9WYXJBID1cbiAgICBwcmVmc1tQUkVGX01PQklMRV9ET1dOTE9BRF9ISUdITElHSFRfVkFSSUFOVF9BXTtcbiAgY29uc3QgbW9iaWxlRG93bmxvYWRQcm9tb1ZhckIgPVxuICAgIHByZWZzW1BSRUZfTU9CSUxFX0RPV05MT0FEX0hJR0hMSUdIVF9WQVJJQU5UX0JdO1xuICBjb25zdCBtb2JpbGVEb3dubG9hZFByb21vVmFyQyA9XG4gICAgcHJlZnNbUFJFRl9NT0JJTEVfRE9XTkxPQURfSElHSExJR0hUX1ZBUklBTlRfQ107XG5cbiAgZnVuY3Rpb24gZ2V0QWN0aXZlVmFyaWFudCgpIHtcbiAgICBpZiAobW9iaWxlRG93bmxvYWRQcm9tb1ZhckEpIHtcbiAgICAgIHJldHVybiBcIkFcIjtcbiAgICB9XG4gICAgaWYgKG1vYmlsZURvd25sb2FkUHJvbW9WYXJCKSB7XG4gICAgICByZXR1cm4gXCJCXCI7XG4gICAgfVxuICAgIGlmIChtb2JpbGVEb3dubG9hZFByb21vVmFyQykge1xuICAgICAgcmV0dXJuIFwiQ1wiO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZhcmlhbnRRUkNvZGVJbWcoKSB7XG4gICAgY29uc3QgdmFyaWFudCA9IGdldEFjdGl2ZVZhcmlhbnQoKTtcbiAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgIHJldHVybiBcImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvZG93bmxvYWQtcXItY29kZS12YXItYS5wbmdcIjtcbiAgICAgIGNhc2UgXCJCXCI6XG4gICAgICAgIHJldHVybiBcImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvZG93bmxvYWQtcXItY29kZS12YXItYi5wbmdcIjtcbiAgICAgIGNhc2UgXCJDXCI6XG4gICAgICAgIHJldHVybiBcImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvZG93bmxvYWQtcXItY29kZS12YXItYy5wbmdcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZhcmlhbnRDb3B5KCkge1xuICAgIGNvbnN0IHZhcmlhbnQgPSBnZXRBY3RpdmVWYXJpYW50KCk7XG4gICAgc3dpdGNoICh2YXJpYW50KSB7XG4gICAgICBjYXNlIFwiQVwiOlxuICAgICAgICByZXR1cm4gXCJuZXd0YWItZG93bmxvYWQtbW9iaWxlLWhpZ2hsaWdodC1ib2R5LXZhcmlhbnQtYVwiO1xuICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgcmV0dXJuIFwibmV3dGFiLWRvd25sb2FkLW1vYmlsZS1oaWdobGlnaHQtYm9keS12YXJpYW50LWJcIjtcbiAgICAgIGNhc2UgXCJDXCI6XG4gICAgICAgIHJldHVybiBcIm5ld3RhYi1kb3dubG9hZC1tb2JpbGUtaGlnaGxpZ2h0LWJvZHktdmFyaWFudC1jXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZG93bmxvYWQtZmlyZWZveC1mZWF0dXJlLWhpZ2hsaWdodFwiPlxuICAgICAgPEZlYXR1cmVIaWdobGlnaHRcbiAgICAgICAgcG9zaXRpb249e3Bvc2l0aW9ufVxuICAgICAgICBmZWF0dXJlPXtGRUFUVVJFX0lEfVxuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIG1lc3NhZ2U9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZG93bmxvYWQtZmlyZWZveC1mZWF0dXJlLWhpZ2hsaWdodC1jb250ZW50XCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17Z2V0VmFyaWFudFFSQ29kZUltZygpfVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZG93bmxvYWQtbW9iaWxlLWhpZ2hsaWdodC1pbWFnZVwiXG4gICAgICAgICAgICAgIHdpZHRoPVwiMTIwXCJcbiAgICAgICAgICAgICAgaGVpZ2h0PVwiMTkxXCJcbiAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8cFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0aXRsZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kb3dubG9hZC1tb2JpbGUtaGlnaGxpZ2h0LXRpdGxlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiIGRhdGEtbDEwbi1pZD17Z2V0VmFyaWFudENvcHkoKX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBvcGVuZWRPdmVycmlkZT17dHJ1ZX1cbiAgICAgICAgc2hvd0J1dHRvbkljb249e2ZhbHNlfVxuICAgICAgICBkaXNtaXNzQ2FsbGJhY2s9e29uRGlzbWlzc31cbiAgICAgICAgb3V0c2lkZUNsaWNrQ2FsbGJhY2s9e2hhbmRsZURpc21pc3N9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgRmVhdHVyZUhpZ2hsaWdodCB9IGZyb20gXCIuL0ZlYXR1cmVIaWdobGlnaHRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFdhbGxwYXBlckZlYXR1cmVIaWdobGlnaHQoe1xuICBwb3NpdGlvbixcbiAgZGlzcGF0Y2gsXG4gIGhhbmRsZURpc21pc3MsXG4gIGhhbmRsZUNsaWNrLFxuICBoYW5kbGVCbG9jayxcbn0pIHtcbiAgY29uc3Qgb25EaXNtaXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGhhbmRsZURpc21pc3MoKTtcbiAgICBoYW5kbGVCbG9jaygpO1xuICB9LCBbaGFuZGxlRGlzbWlzcywgaGFuZGxlQmxvY2tdKTtcblxuICBjb25zdCBvblRvZ2dsZUNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgZWxlbWVudElkID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYXQuU0hPV19QRVJTT05BTElaRSB9KTtcbiAgICAgIGRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIlNIT1dfUEVSU09OQUxJWkVcIiB9KSk7XG4gICAgICBoYW5kbGVDbGljayhlbGVtZW50SWQpO1xuICAgICAgb25EaXNtaXNzKCk7XG4gICAgfSxcbiAgICBbZGlzcGF0Y2gsIG9uRGlzbWlzcywgaGFuZGxlQ2xpY2tdXG4gICk7XG5cbiAgLy8gRXh0cmFjdCB0aGUgc3RyaW5ncyBhbmQgZmVhdHVyZSBJRCBmcm9tIE9NQ1xuICBjb25zdCB7IG1lc3NhZ2VEYXRhIH0gPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5NZXNzYWdlcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIndhbGxwYXBlci1mZWF0dXJlLWhpZ2hsaWdodFwiPlxuICAgICAgPEZlYXR1cmVIaWdobGlnaHRcbiAgICAgICAgcG9zaXRpb249e3Bvc2l0aW9ufVxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJmZWF0dXJlLWhpZ2hsaWdodC13YWxscGFwZXJcIlxuICAgICAgICBmZWF0dXJlPXttZXNzYWdlRGF0YS5jb250ZW50LmZlYXR1cmV9XG4gICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgbWVzc2FnZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3YWxscGFwZXItZmVhdHVyZS1oaWdobGlnaHQtY29udGVudFwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9XCJjaHJvbWU6Ly9uZXd0YWIvY29udGVudC9kYXRhL2NvbnRlbnQvYXNzZXRzL2N1c3RvbS13cC1oaWdobGlnaHQucG5nXCJcbiAgICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgICAgd2lkdGg9XCIzMjBcIlxuICAgICAgICAgICAgICBoZWlnaHQ9XCIxOTVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRpdGxlXCIgZGF0YS1sMTBuLWlkPXttZXNzYWdlRGF0YS5jb250ZW50LnRpdGxlfSAvPlxuICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VidGl0bGVcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e21lc3NhZ2VEYXRhLmNvbnRlbnQuc3VidGl0bGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYnV0dG9uLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25Ub2dnbGVDbGljayhcIm9wZW4tY3VzdG9taXplLW1lbnVcIil9XG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXttZXNzYWdlRGF0YS5jb250ZW50LmN0YX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICB0b2dnbGU9ezxkaXYgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWhlbHBcIj48L2Rpdj59XG4gICAgICAgIG9wZW5lZE92ZXJyaWRlPXt0cnVlfVxuICAgICAgICBzaG93QnV0dG9uSWNvbj17ZmFsc2V9XG4gICAgICAgIGRpc21pc3NDYWxsYmFjaz17b25EaXNtaXNzfVxuICAgICAgICBvdXRzaWRlQ2xpY2tDYWxsYmFjaz17aGFuZGxlRGlzbWlzc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBEaXNjb3ZlcnlTdHJlYW1BZG1pbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUFkbWluL0Rpc2NvdmVyeVN0cmVhbUFkbWluXCI7XG5pbXBvcnQgeyBDb25maXJtRGlhbG9nIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29uZmlybURpYWxvZy9Db25maXJtRGlhbG9nXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBEaXNjb3ZlcnlTdHJlYW1CYXNlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQmFzZS9EaXNjb3ZlcnlTdHJlYW1CYXNlXCI7XG5pbXBvcnQgeyBFcnJvckJvdW5kYXJ5IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS9FcnJvckJvdW5kYXJ5XCI7XG5pbXBvcnQgeyBDdXN0b21pemVNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9DdXN0b21pemVNZW51XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWFyY2ggfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9TZWFyY2gvU2VhcmNoXCI7XG5pbXBvcnQgeyBTZWN0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1NlY3Rpb25zL1NlY3Rpb25zXCI7XG5pbXBvcnQgeyBMb2dvIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTG9nby9Mb2dvXCI7XG5pbXBvcnQgeyBXZWF0aGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2VhdGhlci9XZWF0aGVyXCI7XG5pbXBvcnQgeyBEb3dubG9hZE1vZGFsVG9nZ2xlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRG93bmxvYWRNb2RhbFRvZ2dsZS9Eb3dubG9hZE1vZGFsVG9nZ2xlXCI7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTm90aWZpY2F0aW9ucy9Ob3RpZmljYXRpb25zXCI7XG5pbXBvcnQgeyBUb3BpY1NlbGVjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvVG9waWNTZWxlY3Rpb24vVG9waWNTZWxlY3Rpb25cIjtcbmltcG9ydCB7IERvd25sb2FkTW9iaWxlUHJvbW9IaWdobGlnaHQgfSBmcm9tIFwiLi4vRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L0Rvd25sb2FkTW9iaWxlUHJvbW9IaWdobGlnaHRcIjtcbmltcG9ydCB7IFdhbGxwYXBlckZlYXR1cmVIaWdobGlnaHQgfSBmcm9tIFwiLi4vRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L1dhbGxwYXBlckZlYXR1cmVIaWdobGlnaHRcIjtcbmltcG9ydCB7IE1lc3NhZ2VXcmFwcGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTWVzc2FnZVdyYXBwZXIvTWVzc2FnZVdyYXBwZXJcIjtcbmltcG9ydCB7IHNlbGVjdFdlYXRoZXJQbGFjZW1lbnQgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzXCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5jb25zdCBQUkVGX0lORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9TWVNURU0gPVxuICBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5wZXJzb25hbGl6YXRpb24uaW5mZXJyZWQuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fVVNFUiA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLnBlcnNvbmFsaXphdGlvbi5pbmZlcnJlZC51c2VyLmVuYWJsZWRcIjtcblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNvbnRpbnVvdXNseSB0cmlnZ2VyZWQgd2hlbiBjYWxsZWQuIFRoZVxuLy8gZnVuY3Rpb24gd2lsbCBiZSB0cmlnZ2VyZWQgaWYgY2FsbGVkIGFnYWluIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0KSB7XG4gIGxldCB0aW1lcjtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHdha2VVcCA9ICgpID0+IHtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KHdha2VVcCwgd2FpdCk7XG4gICAgZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIF9CYXNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBtZXNzYWdlOiB7fSxcbiAgICB9O1xuICAgIHRoaXMubm90aWZ5Q29udGVudCA9IHRoaXMubm90aWZ5Q29udGVudC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgbm90aWZ5Q29udGVudChzdGF0ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBBcHAgfSA9IHByb3BzO1xuICAgIGNvbnN0IGlzRGV2dG9vbHNFbmFibGVkID0gcHJvcHMuUHJlZnMudmFsdWVzW1wiYXNyb3V0ZXIuZGV2dG9vbHNFbmFibGVkXCJdO1xuXG4gICAgaWYgKCFBcHAuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8RXJyb3JCb3VuZGFyeSBjbGFzc05hbWU9XCJiYXNlLWNvbnRlbnQtZmFsbGJhY2tcIj5cbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDxCYXNlQ29udGVudCB7Li4udGhpcy5wcm9wc30gYWRtaW5Db250ZW50PXt0aGlzLnN0YXRlfSAvPlxuICAgICAgICAgIHtpc0RldnRvb2xzRW5hYmxlZCA/IChcbiAgICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1BZG1pbiBub3RpZnlDb250ZW50PXt0aGlzLm5vdGlmeUNvbnRlbnR9IC8+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFzZUNvbnRlbnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vcGVuUHJlZmVyZW5jZXMgPSB0aGlzLm9wZW5QcmVmZXJlbmNlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub3BlbkN1c3RvbWl6YXRpb25NZW51ID0gdGhpcy5vcGVuQ3VzdG9taXphdGlvbk1lbnUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnUgPSB0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZU9uS2V5RG93biA9IHRoaXMuaGFuZGxlT25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbldpbmRvd1Njcm9sbCA9IGRlYm91bmNlKHRoaXMub25XaW5kb3dTY3JvbGwuYmluZCh0aGlzKSwgNSk7XG4gICAgdGhpcy5zZXRQcmVmID0gdGhpcy5zZXRQcmVmLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zaG91bGRTaG93T01DSGlnaGxpZ2h0ID0gdGhpcy5zaG91bGRTaG93T01DSGlnaGxpZ2h0LmJpbmQodGhpcyk7XG4gICAgdGhpcy51cGRhdGVXYWxscGFwZXIgPSB0aGlzLnVwZGF0ZVdhbGxwYXBlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJlZmVyc0RhcmtRdWVyeSA9IG51bGw7XG4gICAgdGhpcy5oYW5kbGVDb2xvck1vZGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNvbG9yTW9kZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2hvdWxkRGlzcGxheVRvcGljU2VsZWN0aW9uTW9kYWwgPVxuICAgICAgdGhpcy5zaG91bGREaXNwbGF5VG9waWNTZWxlY3Rpb25Nb2RhbC5iaW5kKHRoaXMpO1xuICAgIHRoaXMudG9nZ2xlRG93bmxvYWRIaWdobGlnaHQgPSB0aGlzLnRvZ2dsZURvd25sb2FkSGlnaGxpZ2h0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVEaXNtaXNzRG93bmxvYWRIaWdobGlnaHQgPVxuICAgICAgdGhpcy5oYW5kbGVEaXNtaXNzRG93bmxvYWRIaWdobGlnaHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFwcGx5Qm9keUNsYXNzZXMgPSB0aGlzLmFwcGx5Qm9keUNsYXNzZXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZml4ZWRTZWFyY2g6IGZhbHNlLFxuICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wOiBudWxsLFxuICAgICAgY29sb3JNb2RlOiBcIlwiLFxuICAgICAgZml4ZWROYXZTdHlsZToge30sXG4gICAgICB3YWxscGFwZXJUaGVtZTogXCJcIixcbiAgICAgIHNob3dEb3dubG9hZEhpZ2hsaWdodE92ZXJyaWRlOiBudWxsLFxuICAgIH07XG4gIH1cblxuICBzZXRGaXJzdFZpc2libGVUaW1lc3RhbXAoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmZpcnN0VmlzaWJsZVRpbWVzdGFtcCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuYXBwbHlCb2R5Q2xhc3NlcygpO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25XaW5kb3dTY3JvbGwpO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZU9uS2V5RG93bik7XG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICBjb25zdCB3YWxscGFwZXJzRW5hYmxlZCA9IHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy5lbmFibGVkXCJdO1xuICAgIGlmICh0aGlzLnByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgdGhpcy5zZXRGaXJzdFZpc2libGVUaW1lc3RhbXAoKTtcbiAgICAgIHRoaXMuc2hvdWxkRGlzcGxheVRvcGljU2VsZWN0aW9uTW9kYWwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICB0aGlzLnNldEZpcnN0VmlzaWJsZVRpbWVzdGFtcCgpO1xuICAgICAgICAgIHRoaXMuc2hvdWxkRGlzcGxheVRvcGljU2VsZWN0aW9uTW9kYWwoKTtcbiAgICAgICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gICAgLy8gdHJhY2sgY2hhbmdlIGV2ZW50IHRvIGRhcmsvbGlnaHQgbW9kZVxuICAgIHRoaXMucHJlZmVyc0RhcmtRdWVyeSA9IGdsb2JhbFRoaXMubWF0Y2hNZWRpYShcbiAgICAgIFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiXG4gICAgKTtcblxuICAgIHRoaXMucHJlZmVyc0RhcmtRdWVyeS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjaGFuZ2VcIixcbiAgICAgIHRoaXMuaGFuZGxlQ29sb3JNb2RlQ2hhbmdlXG4gICAgKTtcbiAgICB0aGlzLmhhbmRsZUNvbG9yTW9kZUNoYW5nZSgpO1xuICAgIGlmICh3YWxscGFwZXJzRW5hYmxlZCkge1xuICAgICAgdGhpcy51cGRhdGVXYWxscGFwZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdGhpcy5hcHBseUJvZHlDbGFzc2VzKCk7XG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICBjb25zdCB3YWxscGFwZXJzRW5hYmxlZCA9IHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy5lbmFibGVkXCJdO1xuICAgIGlmICh3YWxscGFwZXJzRW5hYmxlZCkge1xuICAgICAgLy8gZGVzdHJ1Y3R1cmUgY3VycmVudCBhbmQgcHJldmlvdXMgcHJvcHMgd2l0aCBmYWxsYmFja3NcbiAgICAgIC8vIChwcmV2ZW50aW5nIHVuZGVmaW5lZCBlcnJvcnMpXG4gICAgICBjb25zdCB7XG4gICAgICAgIFdhbGxwYXBlcnM6IHsgdXBsb2FkZWRXYWxscGFwZXIgPSBudWxsLCB3YWxscGFwZXJMaXN0ID0gbnVsbCB9ID0ge30sXG4gICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgY29uc3Qge1xuICAgICAgICBXYWxscGFwZXJzOiB7XG4gICAgICAgICAgdXBsb2FkZWRXYWxscGFwZXI6IHByZXZVcGxvYWRlZFdhbGxwYXBlciA9IG51bGwsXG4gICAgICAgICAgd2FsbHBhcGVyTGlzdDogcHJldldhbGxwYXBlckxpc3QgPSBudWxsLFxuICAgICAgICB9ID0ge30sXG4gICAgICAgIFByZWZzOiB7IHZhbHVlczogcHJldlByZWZzID0ge30gfSA9IHt9LFxuICAgICAgfSA9IHByZXZQcm9wcztcblxuICAgICAgY29uc3Qgc2VsZWN0ZWRXYWxscGFwZXIgPSBwcmVmc1tcIm5ld3RhYldhbGxwYXBlcnMud2FsbHBhcGVyXCJdO1xuICAgICAgY29uc3QgcHJldlNlbGVjdGVkV2FsbHBhcGVyID0gcHJldlByZWZzW1wibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIl07XG4gICAgICBjb25zdCB1cGxvYWRlZFdhbGxwYXBlclRoZW1lID1cbiAgICAgICAgcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmN1c3RvbVdhbGxwYXBlci50aGVtZVwiXTtcbiAgICAgIGNvbnN0IHByZXZVcGxvYWRlZFdhbGxwYXBlclRoZW1lID1cbiAgICAgICAgcHJldlByZWZzW1wibmV3dGFiV2FsbHBhcGVycy5jdXN0b21XYWxscGFwZXIudGhlbWVcIl07XG5cbiAgICAgIC8vIGRvbid0IHVwZGF0ZSB3YWxscGFwZXIgdW5sZXNzIHRoZSB3YWxscGFwZXIgaXMgYmVpbmcgY2hhbmdlZC5cbiAgICAgIGlmIChcbiAgICAgICAgc2VsZWN0ZWRXYWxscGFwZXIgIT09IHByZXZTZWxlY3RlZFdhbGxwYXBlciB8fCAvLyBzZWxlY3RpbmcgYSBuZXcgd2FsbHBhcGVyXG4gICAgICAgIHVwbG9hZGVkV2FsbHBhcGVyICE9PSBwcmV2VXBsb2FkZWRXYWxscGFwZXIgfHwgLy8gdXBsb2FkaW5nIGEgbmV3IHdhbGxwYXBlclxuICAgICAgICB3YWxscGFwZXJMaXN0ICE9PSBwcmV2V2FsbHBhcGVyTGlzdCB8fCAvLyByZW1vdGUgc2V0dGluZ3Mgd2FsbHBhcGVyIGxpc3QgdXBkYXRlc1xuICAgICAgICB0aGlzLnByb3BzLkFwcC5pc0ZvclN0YXJ0dXBDYWNoZS5XYWxscGFwZXIgIT09XG4gICAgICAgICAgcHJldlByb3BzLkFwcC5pc0ZvclN0YXJ0dXBDYWNoZS5XYWxscGFwZXIgfHwgLy8gU3RhcnR1cCBjYWNoZWQgcGFnZSB3YWxscGFwZXIgaXMgdXBkYXRpbmdcbiAgICAgICAgdXBsb2FkZWRXYWxscGFwZXJUaGVtZSAhPT0gcHJldlVwbG9hZGVkV2FsbHBhcGVyVGhlbWVcbiAgICAgICkge1xuICAgICAgICB0aGlzLnVwZGF0ZVdhbGxwYXBlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUNvbG9yTW9kZUNoYW5nZSgpIHtcbiAgICBjb25zdCBjb2xvck1vZGUgPSB0aGlzLnByZWZlcnNEYXJrUXVlcnk/Lm1hdGNoZXMgPyBcImRhcmtcIiA6IFwibGlnaHRcIjtcbiAgICBpZiAoY29sb3JNb2RlICE9PSB0aGlzLnN0YXRlLmNvbG9yTW9kZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbG9yTW9kZSB9KTtcbiAgICAgIHRoaXMudXBkYXRlV2FsbHBhcGVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcmVmZXJzRGFya1F1ZXJ5Py5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJjaGFuZ2VcIixcbiAgICAgIHRoaXMuaGFuZGxlQ29sb3JNb2RlQ2hhbmdlXG4gICAgKTtcbiAgICBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uV2luZG93U2Nyb2xsKTtcbiAgICBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVPbktleURvd24pO1xuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbldpbmRvd1Njcm9sbCgpIHtcbiAgICBpZiAod2luZG93LmlubmVySGVpZ2h0IDw9IDcwMCkge1xuICAgICAgLy8gQnVnIDE5MzcyOTY6IE9ubHkgYXBwbHkgZml4ZWQtc2VhcmNoIGxvZ2ljXG4gICAgICAvLyBpZiB0aGUgcGFnZSBpcyB0YWxsIGVub3VnaCB0byBzdXBwb3J0IGl0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByZWZzID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXM7XG4gICAgY29uc3QgeyBzaG93U2VhcmNoIH0gPSBwcmVmcztcblxuICAgIGlmICghc2hvd1NlYXJjaCkge1xuICAgICAgLy8gQnVnIDE5NDQ3MTg6IE9ubHkgYXBwbHkgZml4ZWQtc2VhcmNoIGxvZ2ljXG4gICAgICAvLyBpZiBzZWFyY2ggaXMgdmlzaWJsZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsb2dvQWx3YXlzVmlzaWJsZSA9IHByZWZzW1wibG9nb3dvcmRtYXJrLmFsd2F5c1Zpc2libGVcIl07XG5cbiAgICAvKiBCdWcgMTkxNzkzNzogVGhlIGxvZ2ljIHByZXNlbnRlZCBiZWxvdyBpcyBmcmFnaWxlIGJ1dCBhY2N1cmF0ZSB0byB0aGUgcGl4ZWwuIEFzIG5ldyB0YWIgZXhwZXJpbWVudHMgd2l0aCBsYXlvdXRzLCB3ZSBoYXZlIGEgdGVjaCBkZWJ0IG9mIGNvbXBldGluZyBzdHlsZXMgYW5kIGNsYXNzZXMgdGhlIHNsaWdodGx5IG1vZGlmeSB3aGVyZSB0aGUgc2VhcmNoIGJhciBzaXRzIG9uIHRoZSBwYWdlLiBUaGUgbGFyZ2VyIHNvbHV0aW9uIGZvciB0aGlzIGlzIHRvIHJlcGxhY2UgZXZlcnl0aGluZyB3aXRoIGFuIGludGVyc2VjdGlvbiBvYnNlcnZlciwgYnV0IHdvdWxkIHJlcXVpcmUgYSBsYXJnZXIgcmVmYWN0b3Igb2YgdGhpcyBmaWxlLiBJbiB0aGUgaW50ZXJpbSwgd2UgY2FuIHByb2dyYW1tYXRpY2FsbHkgY2FsY3VsYXRlIHdoZW4gdG8gZmlyZSB0aGUgZml4ZWQtc2Nyb2xsIGV2ZW50IGFuZCBhY2NvdW50IGZvciB0aGUgbW92ZWQgZWxlbWVudHMgc28gdGhhdCB0b3BzaXRlcy9ldGMgc3RheXMgaW4gdGhlIHNhbWUgcGxhY2UuIFRoZSBDU1MgdGhpcyByZWZlcmVuY2VzIGhhcyBiZWVuIGZsYWdnZWQgdG8gcmVmZXJlbmNlIHRoaXMgbG9naWMgc28gKGhvcGVmdWxseSkga2VlcCB0aGVtIGluIHN5bmMuICovXG5cbiAgICBsZXQgU0NST0xMX1RIUkVTSE9MRCA9IDA7IC8vIFdoZW4gdGhlIGZpeGVkLXNjcm9sbCBldmVudCBmaXJlc1xuICAgIGxldCBNQUlOX09GRlNFVF9QQURESU5HID0gMDsgLy8gVGhlIHBhZGRpbmcgdG8gY29tcGVuc2F0ZSBmb3IgdGhlIG1vdmVkIGVsZW1lbnRzXG5cbiAgICBjb25zdCBDU1NfVkFSX1NQQUNFX1hYTEFSR0UgPSAzMi4wNDsgLy8gQ3VzdG9tIEFjb3JuIHRoZW1lZCB2YXJpYWJsZSAoOCAqIDAuMjY3cmVtKTtcblxuICAgIGxldCBsYXlvdXQgPSB7XG4gICAgICBvdXRlcldyYXBwZXJQYWRkaW5nVG9wOiAyNCxcbiAgICAgIHNlYXJjaFdyYXBwZXJQYWRkaW5nVG9wOiAxNixcbiAgICAgIHNlYXJjaFdyYXBwZXJQYWRkaW5nQm90dG9tOiBDU1NfVkFSX1NQQUNFX1hYTEFSR0UsXG4gICAgICBzZWFyY2hXcmFwcGVyRml4ZWRTY3JvbGxQYWRkaW5nVG9wOiAyNyxcbiAgICAgIHNlYXJjaFdyYXBwZXJGaXhlZFNjcm9sbFBhZGRpbmdCb3R0b206IDI3LFxuICAgICAgc2VhcmNoSW5uZXJXcmFwcGVyTWluSGVpZ2h0OiA1MixcbiAgICAgIGxvZ29BbmRXb3JkbWFya1dyYXBwZXJIZWlnaHQ6IDAsXG4gICAgICBsb2dvQW5kV29yZG1hcmtXcmFwcGVyTWFyZ2luQm90dG9tOiAwLFxuICAgIH07XG5cbiAgICAvLyBMb2dvIHZpc2liaWxpdHkgYXBwbGllcyB0byBhbGwgbGF5b3V0c1xuICAgIGlmICghbG9nb0Fsd2F5c1Zpc2libGUpIHtcbiAgICAgIGxheW91dC5sb2dvQW5kV29yZG1hcmtXcmFwcGVySGVpZ2h0ID0gMDtcbiAgICAgIGxheW91dC5sb2dvQW5kV29yZG1hcmtXcmFwcGVyTWFyZ2luQm90dG9tID0gMDtcbiAgICB9XG5cbiAgICBTQ1JPTExfVEhSRVNIT0xEID1cbiAgICAgIGxheW91dC5vdXRlcldyYXBwZXJQYWRkaW5nVG9wICtcbiAgICAgIGxheW91dC5zZWFyY2hXcmFwcGVyUGFkZGluZ1RvcCArXG4gICAgICBsYXlvdXQubG9nb0FuZFdvcmRtYXJrV3JhcHBlckhlaWdodCArXG4gICAgICBsYXlvdXQubG9nb0FuZFdvcmRtYXJrV3JhcHBlck1hcmdpbkJvdHRvbSAtXG4gICAgICBsYXlvdXQuc2VhcmNoV3JhcHBlckZpeGVkU2Nyb2xsUGFkZGluZ1RvcDtcblxuICAgIE1BSU5fT0ZGU0VUX1BBRERJTkcgPVxuICAgICAgbGF5b3V0LnNlYXJjaFdyYXBwZXJQYWRkaW5nVG9wICtcbiAgICAgIGxheW91dC5zZWFyY2hXcmFwcGVyUGFkZGluZ0JvdHRvbSArXG4gICAgICBsYXlvdXQuc2VhcmNoSW5uZXJXcmFwcGVyTWluSGVpZ2h0ICtcbiAgICAgIGxheW91dC5sb2dvQW5kV29yZG1hcmtXcmFwcGVySGVpZ2h0ICtcbiAgICAgIGxheW91dC5sb2dvQW5kV29yZG1hcmtXcmFwcGVyTWFyZ2luQm90dG9tO1xuXG4gICAgLy8gRWRnZSBjYXNlIGlmIGxvZ28gYW5kIHRodW1zIGFyZSB0dXJuZWQgb2ZmLCBidXQgVmFyIEEgaXMgZW5hYmxlZFxuICAgIGlmIChTQ1JPTExfVEhSRVNIT0xEIDwgMSkge1xuICAgICAgU0NST0xMX1RIUkVTSE9MRCA9IDE7XG4gICAgfVxuXG4gICAgaWYgKGdsb2JhbC5zY3JvbGxZID4gU0NST0xMX1RIUkVTSE9MRCAmJiAhdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZpeGVkU2VhcmNoOiB0cnVlLFxuICAgICAgICBmaXhlZE5hdlN0eWxlOiB7IHBhZGRpbmdCbG9ja1N0YXJ0OiBgJHtNQUlOX09GRlNFVF9QQURESU5HfXB4YCB9LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChnbG9iYWwuc2Nyb2xsWSA8PSBTQ1JPTExfVEhSRVNIT0xEICYmIHRoaXMuc3RhdGUuZml4ZWRTZWFyY2gpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBmaXhlZFNlYXJjaDogZmFsc2UsIGZpeGVkTmF2U3R5bGU6IHt9IH0pO1xuICAgIH1cbiAgfVxuXG4gIG9wZW5QcmVmZXJlbmNlcygpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5TRVRUSU5HU19PUEVOIH0pKTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIk9QRU5fTkVXVEFCX1BSRUZTXCIgfSkpO1xuICB9XG5cbiAgb3BlbkN1c3RvbWl6YXRpb25NZW51KCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5TSE9XX1BFUlNPTkFMSVpFIH0pO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiU0hPV19QRVJTT05BTElaRVwiIH0pKTtcbiAgfVxuXG4gIGNsb3NlQ3VzdG9taXphdGlvbk1lbnUoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuQXBwLmN1c3RvbWl6ZU1lbnVWaXNpYmxlKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuSElERV9QRVJTT05BTElaRSB9KTtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiSElERV9QRVJTT05BTElaRVwiIH0pKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVPbktleURvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZUN1c3RvbWl6YXRpb25NZW51KCk7XG4gICAgfVxuICB9XG5cbiAgc2V0UHJlZihwcmVmLCB2YWx1ZSkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihwcmVmLCB2YWx1ZSkpO1xuICB9XG5cbiAgYXBwbHlCb2R5Q2xhc3NlcygpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IHRoaXMucHJvcHMuZG9jdW1lbnQ7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2aXR5LXN0cmVhbVwiKSkge1xuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZpdHktc3RyZWFtXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcldhbGxwYXBlckF0dHJpYnV0aW9uKCkge1xuICAgIGNvbnN0IHsgd2FsbHBhcGVyTGlzdCB9ID0gdGhpcy5wcm9wcy5XYWxscGFwZXJzO1xuICAgIGNvbnN0IGFjdGl2ZVdhbGxwYXBlciA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tgbmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJgXTtcbiAgICBjb25zdCBzZWxlY3RlZCA9IHdhbGxwYXBlckxpc3QuZmluZCh3cCA9PiB3cC50aXRsZSA9PT0gYWN0aXZlV2FsbHBhcGVyKTtcbiAgICAvLyBtYWtlIHN1cmUgYSB3YWxscGFwZXIgaXMgc2VsZWN0ZWQgYW5kIHRoYXQgdGhlIGF0dHJpYnV0aW9uIGFsc28gZXhpc3RzXG4gICAgaWYgKCFzZWxlY3RlZD8uYXR0cmlidXRpb24pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHsgbmFtZTogYXV0aG9yRGV0YWlscywgd2VicGFnZSB9ID0gc2VsZWN0ZWQuYXR0cmlidXRpb247XG4gICAgaWYgKGFjdGl2ZVdhbGxwYXBlciAmJiB3YWxscGFwZXJMaXN0ICYmIGF1dGhvckRldGFpbHMudXJsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8cFxuICAgICAgICAgIGNsYXNzTmFtZT17YHdhbGxwYXBlci1hdHRyaWJ1dGlvbmB9XG4gICAgICAgICAga2V5PXthdXRob3JEZXRhaWxzLnN0cmluZ31cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2FsbHBhcGVyLWF0dHJpYnV0aW9uXCJcbiAgICAgICAgICBkYXRhLWwxMG4tYXJncz17SlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgYXV0aG9yX3N0cmluZzogYXV0aG9yRGV0YWlscy5zdHJpbmcsXG4gICAgICAgICAgICBhdXRob3JfdXJsOiBhdXRob3JEZXRhaWxzLnVybCxcbiAgICAgICAgICAgIHdlYnBhZ2Vfc3RyaW5nOiB3ZWJwYWdlLnN0cmluZyxcbiAgICAgICAgICAgIHdlYnBhZ2VfdXJsOiB3ZWJwYWdlLnVybCxcbiAgICAgICAgICB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxhIGRhdGEtbDEwbi1uYW1lPVwibmFtZS1saW5rXCIgaHJlZj17YXV0aG9yRGV0YWlscy51cmx9PlxuICAgICAgICAgICAge2F1dGhvckRldGFpbHMuc3RyaW5nfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8YSBkYXRhLWwxMG4tbmFtZT1cIndlYnBhZ2UtbGlua1wiIGhyZWY9e3dlYnBhZ2UudXJsfT5cbiAgICAgICAgICAgIHt3ZWJwYWdlLnN0cmluZ31cbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvcD5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlV2FsbHBhcGVyKCkge1xuICAgIGNvbnN0IHByZWZzID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXM7XG4gICAgY29uc3Qgc2VsZWN0ZWRXYWxscGFwZXIgPSBwcmVmc1tcIm5ld3RhYldhbGxwYXBlcnMud2FsbHBhcGVyXCJdO1xuICAgIGNvbnN0IHsgd2FsbHBhcGVyTGlzdCwgdXBsb2FkZWRXYWxscGFwZXI6IHVwbG9hZGVkV2FsbHBhcGVyVXJsIH0gPVxuICAgICAgdGhpcy5wcm9wcy5XYWxscGFwZXJzO1xuICAgIGNvbnN0IHVwbG9hZGVkV2FsbHBhcGVyVGhlbWUgPVxuICAgICAgcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmN1c3RvbVdhbGxwYXBlci50aGVtZVwiXTtcbiAgICAvLyBVdXNlIHRoaXMucHJlZmVyc0RhcmtRdWVyeSBzaW5jZSB0aGlzLnN0YXRlLmNvbG9yTW9kZSBjYW4gYmUgdW5kZWZpbmVkIHdoZW4gdGhpcyBpcyBjYWxsZWRcbiAgICBjb25zdCBjb2xvck1vZGUgPSB0aGlzLnByZWZlcnNEYXJrUXVlcnk/Lm1hdGNoZXMgPyBcImRhcmtcIiA6IFwibGlnaHRcIjtcbiAgICBsZXQgdXJsID0gXCJcIjtcbiAgICBsZXQgY29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgbGV0IG5ld1RoZW1lID0gY29sb3JNb2RlO1xuXG4gICAgLy8gaWYgbm8gc2VsZWN0ZWQgd2FsbHBhcGVyIGZhbGxiYWNrIHRvIGJyb3dzZXIvdGhlbWUgc3R5bGVzXG4gICAgaWYgKCFzZWxlY3RlZFdhbGxwYXBlcikge1xuICAgICAgZ2xvYmFsLmRvY3VtZW50Py5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiLS1uZXd0YWItd2FsbHBhcGVyXCIpO1xuICAgICAgZ2xvYmFsLmRvY3VtZW50Py5ib2R5LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiLS1uZXd0YWItd2FsbHBhcGVyLWNvbG9yXCIpO1xuICAgICAgZ2xvYmFsLmRvY3VtZW50Py5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJsaWdodFdhbGxwYXBlclwiLCBcImRhcmtXYWxscGFwZXJcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gdXBsb2FkZWQgd2FsbHBhcGVyXG4gICAgaWYgKHNlbGVjdGVkV2FsbHBhcGVyID09PSBcImN1c3RvbVwiICYmIHVwbG9hZGVkV2FsbHBhcGVyVXJsKSB7XG4gICAgICB1cmwgPSB1cGxvYWRlZFdhbGxwYXBlclVybDtcbiAgICAgIGNvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgbmV3VGhlbWUgPSB1cGxvYWRlZFdhbGxwYXBlclRoZW1lIHx8IGNvbG9yTW9kZTtcbiAgICB9IGVsc2UgaWYgKHdhbGxwYXBlckxpc3QpIHtcbiAgICAgIGNvbnN0IHdhbGxwYXBlciA9IHdhbGxwYXBlckxpc3QuZmluZChcbiAgICAgICAgd3AgPT4gd3AudGl0bGUgPT09IHNlbGVjdGVkV2FsbHBhcGVyXG4gICAgICApO1xuICAgICAgLy8gc29saWQgY29sb3IgcGlja2VyXG4gICAgICBpZiAoc2VsZWN0ZWRXYWxscGFwZXIuaW5jbHVkZXMoXCJzb2xpZC1jb2xvci1waWNrZXJcIikpIHtcbiAgICAgICAgY29uc3QgcmVnZXhSR0IgPSAvIyhbYS1mQS1GMC05XXs2fSkvO1xuICAgICAgICBjb25zdCBoZXggPSBzZWxlY3RlZFdhbGxwYXBlci5tYXRjaChyZWdleFJHQik/LlswXTtcbiAgICAgICAgdXJsID0gXCJcIjtcbiAgICAgICAgY29sb3IgPSBoZXg7XG4gICAgICAgIGNvbnN0IHJnYkNvbG9ycyA9IHRoaXMuZ2V0UkdCQ29sb3JzKGhleCk7XG4gICAgICAgIG5ld1RoZW1lID0gdGhpcy5pc1dhbGxwYXBlckNvbG9yRGFyayhyZ2JDb2xvcnMpID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gICAgICAgIC8vIHN0YW5kYXJkIHdhbGxwYXBlciAmIHNvbGlkIGNvbG9yc1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFdhbGxwYXBlcikge1xuICAgICAgICB1cmwgPSB3YWxscGFwZXI/LndhbGxwYXBlclVybCB8fCBcIlwiO1xuICAgICAgICBjb2xvciA9IHdhbGxwYXBlcj8uc29saWRfY29sb3IgfHwgXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICBuZXdUaGVtZSA9IHdhbGxwYXBlcj8udGhlbWUgfHwgY29sb3JNb2RlO1xuICAgICAgICAvLyBpZiBhIHNvbGlkIGNvbG9yLCBkZXRlcm1pbmUgaWYgZGFyayBvciBsaWdodFxuICAgICAgICBpZiAod2FsbHBhcGVyPy5zb2xpZF9jb2xvcikge1xuICAgICAgICAgIGNvbnN0IHJnYkNvbG9ycyA9IHRoaXMuZ2V0UkdCQ29sb3JzKHdhbGxwYXBlci5zb2xpZF9jb2xvcik7XG4gICAgICAgICAgY29uc3QgaXNDb2xvckRhcmsgPSB0aGlzLmlzV2FsbHBhcGVyQ29sb3JEYXJrKHJnYkNvbG9ycyk7XG4gICAgICAgICAgbmV3VGhlbWUgPSBpc0NvbG9yRGFyayA/IFwiZGFya1wiIDogXCJsaWdodFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGdsb2JhbC5kb2N1bWVudD8uYm9keS5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgIFwiLS1uZXd0YWItd2FsbHBhcGVyXCIsXG4gICAgICBgdXJsKCR7dXJsfSlgXG4gICAgKTtcbiAgICBnbG9iYWwuZG9jdW1lbnQ/LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICBcIi0tbmV3dGFiLXdhbGxwYXBlci1jb2xvclwiLFxuICAgICAgY29sb3IgfHwgXCJ0cmFuc3BhcmVudFwiXG4gICAgKTtcblxuICAgIGdsb2JhbC5kb2N1bWVudD8uYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibGlnaHRXYWxscGFwZXJcIiwgXCJkYXJrV2FsbHBhcGVyXCIpO1xuICAgIGdsb2JhbC5kb2N1bWVudD8uYm9keS5jbGFzc0xpc3QuYWRkKFxuICAgICAgbmV3VGhlbWUgPT09IFwiZGFya1wiID8gXCJkYXJrV2FsbHBhcGVyXCIgOiBcImxpZ2h0V2FsbHBhcGVyXCJcbiAgICApO1xuICB9XG5cbiAgc2hvdWxkU2hvd09NQ0hpZ2hsaWdodChjb21wb25lbnRJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2VEYXRhID0gdGhpcy5wcm9wcy5NZXNzYWdlcz8ubWVzc2FnZURhdGE7XG4gICAgaWYgKCFtZXNzYWdlRGF0YSB8fCBPYmplY3Qua2V5cyhtZXNzYWdlRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlRGF0YT8uY29udGVudD8ubWVzc2FnZVR5cGUgPT09IGNvbXBvbmVudElkO1xuICB9XG5cbiAgdG9nZ2xlRG93bmxvYWRIaWdobGlnaHQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4ge1xuICAgICAgY29uc3Qgb3ZlcnJpZGUgPSAhKFxuICAgICAgICBwcmV2U3RhdGUuc2hvd0Rvd25sb2FkSGlnaGxpZ2h0T3ZlcnJpZGUgPz9cbiAgICAgICAgdGhpcy5zaG91bGRTaG93T01DSGlnaGxpZ2h0KFwiRG93bmxvYWRNb2JpbGVQcm9tb0hpZ2hsaWdodFwiKVxuICAgICAgKTtcblxuICAgICAgaWYgKG92ZXJyaWRlKSB7XG4gICAgICAgIC8vIEVtaXQgYW4gb3BlbiBldmVudCBtYW51YWxseSBzaW5jZSBPTUMgaXNuJ3QgaGFuZGxpbmcgaXRcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgICAgZXZlbnQ6IFwiRkVBVFVSRV9ISUdITElHSFRfT1BFTlwiLFxuICAgICAgICAgICAgc291cmNlOiBcIkZFQVRVUkVfSElHSExJR0hUXCIsXG4gICAgICAgICAgICB2YWx1ZTogeyBmZWF0dXJlOiBcIkZFQVRVUkVfRE9XTkxPQURfTU9CSUxFX1BST01PXCIgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzaG93RG93bmxvYWRIaWdobGlnaHRPdmVycmlkZTogb3ZlcnJpZGUsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlRGlzbWlzc0Rvd25sb2FkSGlnaGxpZ2h0KCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93RG93bmxvYWRIaWdobGlnaHRPdmVycmlkZTogZmFsc2UgfSk7XG4gIH1cblxuICBnZXRSR0JDb2xvcnMoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubGVuZ3RoICE9PSA3KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgciA9IHBhcnNlSW50KGlucHV0LnN1YnN0cigxLCAyKSwgMTYpO1xuICAgIGNvbnN0IGcgPSBwYXJzZUludChpbnB1dC5zdWJzdHIoMywgMiksIDE2KTtcbiAgICBjb25zdCBiID0gcGFyc2VJbnQoaW5wdXQuc3Vic3RyKDUsIDIpLCAxNik7XG5cbiAgICByZXR1cm4gW3IsIGcsIGJdO1xuICB9XG5cbiAgaXNXYWxscGFwZXJDb2xvckRhcmsoW3IsIGcsIGJdKSB7XG4gICAgcmV0dXJuIDAuMjEyNSAqIHIgKyAwLjcxNTQgKiBnICsgMC4wNzIxICogYiA8PSAxMTA7XG4gIH1cblxuICBzaG91bGREaXNwbGF5VG9waWNTZWxlY3Rpb25Nb2RhbCgpIHtcbiAgICBjb25zdCBwcmVmcyA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIGNvbnN0IHBvY2tldEVuYWJsZWQgPVxuICAgICAgcHJlZnNbXCJmZWVkcy5zZWN0aW9uLnRvcHN0b3JpZXNcIl0gJiYgcHJlZnNbXCJmZWVkcy5zeXN0ZW0udG9wc3Rvcmllc1wiXTtcbiAgICBjb25zdCB0b3BpY1NlbGVjdGlvbk9uYm9hcmRpbmdFbmFibGVkID1cbiAgICAgIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcuZW5hYmxlZFwiXSAmJlxuICAgICAgcG9ja2V0RW5hYmxlZDtcbiAgICBjb25zdCBtYXliZVNob3dNb2RhbCA9XG4gICAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLm1heWJlRGlzcGxheVwiXTtcbiAgICBjb25zdCBkaXNwbGF5VGltZW91dCA9XG4gICAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLmRpc3BsYXlUaW1lb3V0XCJdO1xuICAgIGNvbnN0IGxhc3REaXNwbGF5ZWQgPVxuICAgICAgcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24ub25ib2FyZGluZy5sYXN0RGlzcGxheWVkXCJdO1xuICAgIGNvbnN0IGRpc3BsYXlDb3VudCA9XG4gICAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLmRpc3BsYXlDb3VudFwiXTtcblxuICAgIGlmIChcbiAgICAgICFtYXliZVNob3dNb2RhbCB8fFxuICAgICAgIXByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLmVuYWJsZWRcIl0gfHxcbiAgICAgICF0b3BpY1NlbGVjdGlvbk9uYm9hcmRpbmdFbmFibGVkXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGF5ID0gMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIGNvbnN0IHRpbWVvdXRPY2N1cmVkID0gbm93IC0gcGFyc2VGbG9hdChsYXN0RGlzcGxheWVkKSA+IGRpc3BsYXlUaW1lb3V0O1xuICAgIGlmIChkaXNwbGF5Q291bnQgPCAzKSB7XG4gICAgICBpZiAoZGlzcGxheUNvdW50ID09PSAwIHx8IHRpbWVvdXRPY2N1cmVkKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuQnJvYWRjYXN0VG9Db250ZW50KHsgdHlwZTogYXQuVE9QSUNfU0VMRUNUSU9OX1NQT1RMSUdIVF9PUEVOIH0pXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc2V0UHJlZihcbiAgICAgICAgICBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLmRpc3BsYXlUaW1lb3V0XCIsXG4gICAgICAgICAgZGF5XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzLCBjb21wbGV4aXR5XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgQXBwLCBEaXNjb3ZlcnlTdHJlYW0gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgaW5pdGlhbGl6ZWQsIGN1c3RvbWl6ZU1lbnVWaXNpYmxlIH0gPSBBcHA7XG4gICAgY29uc3QgcHJlZnMgPSBwcm9wcy5QcmVmcy52YWx1ZXM7XG5cbiAgICBjb25zdCBhY3RpdmVXYWxscGFwZXIgPSBwcmVmc1tgbmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJgXTtcbiAgICBjb25zdCB3YWxscGFwZXJzRW5hYmxlZCA9IHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHdlYXRoZXJFbmFibGVkID0gcHJlZnMuc2hvd1dlYXRoZXI7XG4gICAgY29uc3QgeyBzaG93VG9waWNTZWxlY3Rpb24gfSA9IERpc2NvdmVyeVN0cmVhbTtcbiAgICBjb25zdCBtYXlTaG93VG9waWNTZWxlY3Rpb24gPVxuICAgICAgc2hvd1RvcGljU2VsZWN0aW9uICYmIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLmVuYWJsZWRcIl07XG5cbiAgICBjb25zdCBpc0Rpc2NvdmVyeVN0cmVhbSA9XG4gICAgICBwcm9wcy5EaXNjb3ZlcnlTdHJlYW0uY29uZmlnICYmIHByb3BzLkRpc2NvdmVyeVN0cmVhbS5jb25maWcuZW5hYmxlZDtcbiAgICBsZXQgZmlsdGVyZWRTZWN0aW9ucyA9IHByb3BzLlNlY3Rpb25zLmZpbHRlcihcbiAgICAgIHNlY3Rpb24gPT4gc2VjdGlvbi5pZCAhPT0gXCJ0b3BzdG9yaWVzXCJcbiAgICApO1xuXG4gICAgY29uc3QgcG9ja2V0RW5hYmxlZCA9XG4gICAgICBwcmVmc1tcImZlZWRzLnNlY3Rpb24udG9wc3Rvcmllc1wiXSAmJiBwcmVmc1tcImZlZWRzLnN5c3RlbS50b3BzdG9yaWVzXCJdO1xuICAgIGNvbnN0IG5vU2VjdGlvbnNFbmFibGVkID1cbiAgICAgICFwcmVmc1tcImZlZWRzLnRvcHNpdGVzXCJdICYmXG4gICAgICAhcG9ja2V0RW5hYmxlZCAmJlxuICAgICAgZmlsdGVyZWRTZWN0aW9ucy5maWx0ZXIoc2VjdGlvbiA9PiBzZWN0aW9uLmVuYWJsZWQpLmxlbmd0aCA9PT0gMDtcbiAgICBjb25zdCBzZWFyY2hIYW5kb2ZmRW5hYmxlZCA9IHByZWZzW1wiaW1wcm92ZXNlYXJjaC5oYW5kb2ZmVG9Bd2Vzb21lYmFyXCJdO1xuICAgIGNvbnN0IGVuYWJsZWRTZWN0aW9ucyA9IHtcbiAgICAgIHRvcFNpdGVzRW5hYmxlZDogcHJlZnNbXCJmZWVkcy50b3BzaXRlc1wiXSxcbiAgICAgIHBvY2tldEVuYWJsZWQ6IHByZWZzW1wiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCJdLFxuICAgICAgc2hvd0luZmVycmVkUGVyc29uYWxpemF0aW9uRW5hYmxlZDpcbiAgICAgICAgcHJlZnNbUFJFRl9JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fVVNFUl0sXG4gICAgICB0b3BTaXRlc1Jvd3NDb3VudDogcHJlZnMudG9wU2l0ZXNSb3dzLFxuICAgICAgd2VhdGhlckVuYWJsZWQ6IHByZWZzLnNob3dXZWF0aGVyLFxuICAgICAgdHJlbmRpbmdTZWFyY2hFbmFibGVkOiBwcmVmc1tcInRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIl0sXG4gICAgfTtcblxuICAgIGNvbnN0IHBvY2tldFJlZ2lvbiA9IHByZWZzW1wiZmVlZHMuc3lzdGVtLnRvcHN0b3JpZXNcIl07XG4gICAgY29uc3QgbWF5SGF2ZUluZmVycmVkUGVyc29uYWxpemF0aW9uID1cbiAgICAgIHByZWZzW1BSRUZfSU5GRVJSRURfUEVSU09OQUxJWkFUSU9OX1NZU1RFTV07XG4gICAgY29uc3QgbWF5SGF2ZVdlYXRoZXIgPSBwcmVmc1tcInN5c3RlbS5zaG93V2VhdGhlclwiXTtcbiAgICBjb25zdCBzdXBwb3J0VXJsID0gcHJlZnNbXCJzdXBwb3J0LnVybFwiXTtcblxuICAgIC8vIFdlYXRoZXIgY2FuIGJlIGVuYWJsZWQgYW5kIG5vdCByZW5kZXJlZCBpbiB0aGUgdG9wIHJpZ2h0IGNvcm5lclxuICAgIGNvbnN0IHNob3VsZERpc3BsYXlXZWF0aGVyID1cbiAgICAgIHByZWZzLnNob3dXZWF0aGVyICYmIHRoaXMucHJvcHMud2VhdGhlclBsYWNlbWVudCA9PT0gXCJoZWFkZXJcIjtcblxuICAgIC8vIFdpZGdldHMgZXhwZXJpbWVudCBwcmVmIGNoZWNrXG4gICAgY29uc3QgbmltYnVzV2lkZ2V0c0VuYWJsZWQgPSBwcmVmcy53aWRnZXRzQ29uZmlnPy5lbmFibGVkO1xuICAgIGNvbnN0IG5pbWJ1c0xpc3RzRW5hYmxlZCA9IHByZWZzLndpZGdldHNDb25maWc/Lmxpc3RzRW5hYmxlZDtcbiAgICBjb25zdCBuaW1idXNUaW1lckVuYWJsZWQgPSBwcmVmcy53aWRnZXRzQ29uZmlnPy50aW1lckVuYWJsZWQ7XG5cbiAgICBjb25zdCBtYXlIYXZlV2lkZ2V0cyA9XG4gICAgICBwcmVmc1tcIndpZGdldHMuc3lzdGVtLmVuYWJsZWRcIl0gfHwgbmltYnVzV2lkZ2V0c0VuYWJsZWQ7XG4gICAgY29uc3QgbWF5SGF2ZUxpc3RzV2lkZ2V0ID1cbiAgICAgIHByZWZzW1wid2lkZ2V0cy5zeXN0ZW0ubGlzdHMuZW5hYmxlZFwiXSB8fCBuaW1idXNMaXN0c0VuYWJsZWQ7XG4gICAgY29uc3QgbWF5SGF2ZVRpbWVyV2lkZ2V0ID1cbiAgICAgIHByZWZzW1wid2lkZ2V0cy5zeXN0ZW0uZm9jdXNUaW1lci5lbmFibGVkXCJdIHx8IG5pbWJ1c1RpbWVyRW5hYmxlZDtcblxuICAgIC8vIFRoZXNlIHByZWZzIHNldCB0aGUgaW5pdGlhbCB2YWx1ZXMgb24gdGhlIEN1c3RvbWl6ZSBwYW5lbCB0b2dnbGUgc3dpdGNoZXNcbiAgICBjb25zdCBlbmFibGVkV2lkZ2V0cyA9IHtcbiAgICAgIGxpc3RzRW5hYmxlZDogcHJlZnNbXCJ3aWRnZXRzLmxpc3RzLmVuYWJsZWRcIl0sXG4gICAgICB0aW1lckVuYWJsZWQ6IHByZWZzW1wid2lkZ2V0cy5mb2N1c1RpbWVyLmVuYWJsZWRcIl0sXG4gICAgICB0cmVuZGluZ1NlYXJjaEVuYWJsZWQ6IHByZWZzW1widHJlbmRpbmdTZWFyY2guZW5hYmxlZFwiXSxcbiAgICAgIHdlYXRoZXJFbmFibGVkOiBwcmVmcy5zaG93V2VhdGhlcixcbiAgICB9O1xuXG4gICAgLy8gVHJlbmRpbmcgU2VhcmNoZXMgZXhwZXJpbWVudCBwcmVmIGNoZWNrXG4gICAgY29uc3QgbWF5SGF2ZVRyZW5kaW5nU2VhcmNoID1cbiAgICAgIHByZWZzW1wic3lzdGVtLnRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIl0gJiZcbiAgICAgIHByZWZzW1widHJlbmRpbmdTZWFyY2guZGVmYXVsdFNlYXJjaEVuZ2luZVwiXS50b0xvd2VyQ2FzZSgpID09PSBcImdvb2dsZVwiO1xuXG4gICAgLy8gTW9iaWxlIERvd25sb2FkIFByb21vIFByZWYgQ2hlY2tzXG4gICAgY29uc3QgbW9iaWxlRG93bmxvYWRQcm9tb0VuYWJsZWQgPSBwcmVmc1tcIm1vYmlsZURvd25sb2FkTW9kYWwuZW5hYmxlZFwiXTtcbiAgICBjb25zdCBtb2JpbGVEb3dubG9hZFByb21vVmFyaWFudEFFbmFibGVkID1cbiAgICAgIHByZWZzW1wibW9iaWxlRG93bmxvYWRNb2RhbC52YXJpYW50LWFcIl07XG4gICAgY29uc3QgbW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRCRW5hYmxlZCA9XG4gICAgICBwcmVmc1tcIm1vYmlsZURvd25sb2FkTW9kYWwudmFyaWFudC1iXCJdO1xuICAgIGNvbnN0IG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50Q0VuYWJsZWQgPVxuICAgICAgcHJlZnNbXCJtb2JpbGVEb3dubG9hZE1vZGFsLnZhcmlhbnQtY1wiXTtcbiAgICBjb25zdCBtb2JpbGVEb3dubG9hZFByb21vVmFyaWFudEFCb3JDID1cbiAgICAgIG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUVuYWJsZWQgfHxcbiAgICAgIG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QkVuYWJsZWQgfHxcbiAgICAgIG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50Q0VuYWJsZWQ7XG4gICAgY29uc3QgbW9iaWxlRG93bmxvYWRQcm9tb1dyYXBwZXJIZWlnaHRNb2RpZmllciA9XG4gICAgICBwcmVmc1tcIndlYXRoZXIuZGlzcGxheVwiXSA9PT0gXCJkZXRhaWxlZFwiICYmXG4gICAgICB3ZWF0aGVyRW5hYmxlZCAmJlxuICAgICAgc2hvdWxkRGlzcGxheVdlYXRoZXIgJiZcbiAgICAgIG1heUhhdmVXZWF0aGVyXG4gICAgICAgID8gXCJpcy10YWxsXCJcbiAgICAgICAgOiBcIlwiO1xuXG4gICAgY29uc3QgaGFzVGh1bWJzVXBEb3duTGF5b3V0ID1cbiAgICAgIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRodW1ic1VwRG93bi5zZWFyY2hUb3BzaXRlc0NvbXBhY3RcIl07XG4gICAgY29uc3QgaGFzVGh1bWJzVXBEb3duID0gcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udGh1bWJzVXBEb3duLmVuYWJsZWRcIl07XG4gICAgY29uc3Qgc2VjdGlvbnNFbmFibGVkID0gcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuZW5hYmxlZFwiXTtcbiAgICBjb25zdCB0b3BpY0xhYmVsc0VuYWJsZWQgPSBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY0xhYmVscy5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHNlY3Rpb25zQ3VzdG9taXplTWVudVBhbmVsRW5hYmxlZCA9XG4gICAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5jdXN0b21pemVNZW51UGFuZWwuZW5hYmxlZFwiXTtcbiAgICBjb25zdCBzZWN0aW9uc1BlcnNvbmFsaXphdGlvbkVuYWJsZWQgPVxuICAgICAgcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMucGVyc29uYWxpemF0aW9uLmVuYWJsZWRcIl07XG5cbiAgICAvLyBMb2dpYyB0byBzaG93IGZvbGxvdy9ibG9jayB0b3BpYyBtZ210IHBhbmVsIGluIEN1c3RvbWl6ZSBwYW5lbFxuICAgIGNvbnN0IG1heUhhdmVQZXJzb25hbGl6ZWRUb3BpY1NlY3Rpb25zID1cbiAgICAgIHNlY3Rpb25zUGVyc29uYWxpemF0aW9uRW5hYmxlZCAmJlxuICAgICAgdG9waWNMYWJlbHNFbmFibGVkICYmXG4gICAgICBzZWN0aW9uc0VuYWJsZWQgJiZcbiAgICAgIHNlY3Rpb25zQ3VzdG9taXplTWVudVBhbmVsRW5hYmxlZCAmJlxuICAgICAgRGlzY292ZXJ5U3RyZWFtLmZlZWRzLmxvYWRlZDtcblxuICAgIGNvbnN0IGZlYXR1cmVDbGFzc05hbWUgPSBbXG4gICAgICBtb2JpbGVEb3dubG9hZFByb21vRW5hYmxlZCAmJlxuICAgICAgICBtb2JpbGVEb3dubG9hZFByb21vVmFyaWFudEFCb3JDICYmXG4gICAgICAgIFwiaGFzLW1vYmlsZS1kb3dubG9hZC1wcm9tb1wiLCAvLyBNb2JpbGUgZG93bmxvYWQgcHJvbW8gbW9kYWwgaXMgZW5hYmxlZC92aXNpYmxlXG4gICAgICB3ZWF0aGVyRW5hYmxlZCAmJiBtYXlIYXZlV2VhdGhlciAmJiBzaG91bGREaXNwbGF5V2VhdGhlciAmJiBcImhhcy13ZWF0aGVyXCIsIC8vIFdlYXRoZXIgd2lkZ2V0IGlzIGVuYWJsZWQvdmlzaWJsZVxuICAgICAgcHJlZnMuc2hvd1NlYXJjaCA/IFwiaGFzLXNlYXJjaFwiIDogXCJuby1zZWFyY2hcIixcbiAgICAgIC8vIGxheW91dHNWYXJpYW50QUVuYWJsZWQgPyBcImxheW91dC12YXJpYW50LWFcIiA6IFwiXCIsIC8vIExheW91dCBleHBlcmltZW50IHZhcmlhbnQgQVxuICAgICAgLy8gbGF5b3V0c1ZhcmlhbnRCRW5hYmxlZCA/IFwibGF5b3V0LXZhcmlhbnQtYlwiIDogXCJcIiwgLy8gTGF5b3V0IGV4cGVyaW1lbnQgdmFyaWFudCBCXG4gICAgICBwb2NrZXRFbmFibGVkID8gXCJoYXMtcmVjb21tZW5kZWQtc3Rvcmllc1wiIDogXCJuby1yZWNvbW1lbmRlZC1zdG9yaWVzXCIsXG4gICAgICBzZWN0aW9uc0VuYWJsZWQgPyBcImhhcy1zZWN0aW9ucy1ncmlkXCIgOiBcIlwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgY29uc3Qgb3V0ZXJDbGFzc05hbWUgPSBbXG4gICAgICBcIm91dGVyLXdyYXBwZXJcIixcbiAgICAgIGlzRGlzY292ZXJ5U3RyZWFtICYmIHBvY2tldEVuYWJsZWQgJiYgXCJkcy1vdXRlci13cmFwcGVyLXNlYXJjaC1hbGlnbm1lbnRcIixcbiAgICAgIGlzRGlzY292ZXJ5U3RyZWFtICYmIFwiZHMtb3V0ZXItd3JhcHBlci1icmVha3BvaW50LW92ZXJyaWRlXCIsXG4gICAgICBwcmVmcy5zaG93U2VhcmNoICYmXG4gICAgICAgIHRoaXMuc3RhdGUuZml4ZWRTZWFyY2ggJiZcbiAgICAgICAgIW5vU2VjdGlvbnNFbmFibGVkICYmXG4gICAgICAgIFwiZml4ZWQtc2VhcmNoXCIsXG4gICAgICBwcmVmcy5zaG93U2VhcmNoICYmIG5vU2VjdGlvbnNFbmFibGVkICYmIFwib25seS1zZWFyY2hcIixcbiAgICAgIHByZWZzW1wiZmVlZHMudG9wc2l0ZXNcIl0gJiZcbiAgICAgICAgIXBvY2tldEVuYWJsZWQgJiZcbiAgICAgICAgIXByZWZzLnNob3dTZWFyY2ggJiZcbiAgICAgICAgXCJvbmx5LXRvcHNpdGVzXCIsXG4gICAgICBub1NlY3Rpb25zRW5hYmxlZCAmJiBcIm5vLXNlY3Rpb25zXCIsXG4gICAgICBwcmVmc1tcImxvZ293b3JkbWFyay5hbHdheXNWaXNpYmxlXCJdICYmIFwidmlzaWJsZS1sb2dvXCIsXG4gICAgICBoYXNUaHVtYnNVcERvd25MYXlvdXQgJiYgaGFzVGh1bWJzVXBEb3duICYmIFwidGh1bWJzLXVpLWNvbXBhY3RcIixcbiAgICBdXG4gICAgICAuZmlsdGVyKHYgPT4gdilcbiAgICAgIC5qb2luKFwiIFwiKTtcblxuICAgIC8vIElmIHN0YXRlLnNob3dEb3dubG9hZEhpZ2hsaWdodE92ZXJyaWRlIGhhcyB2YWx1ZSwgbGV0IGl0IG92ZXJyaWRlIHRoZSBsb2dpY1xuICAgIC8vIE90aGVyd2lzZSwgZGVmZXIgdG8gT01DIG1lc3NhZ2UgZGlzcGxheSBsb2dpY1xuICAgIGNvbnN0IHNob3VsZFNob3dEb3dubG9hZEhpZ2hsaWdodCA9XG4gICAgICB0aGlzLnN0YXRlLnNob3dEb3dubG9hZEhpZ2hsaWdodE92ZXJyaWRlID8/XG4gICAgICB0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQoXCJEb3dubG9hZE1vYmlsZVByb21vSGlnaGxpZ2h0XCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtmZWF0dXJlQ2xhc3NOYW1lfT5cbiAgICAgICAgey8qIEZsb2F0aW5nIG1lbnUgZm9yIGN1c3RvbWl6ZSBtZW51IHRvZ2dsZSAqL31cbiAgICAgICAgPG1lbnUgY2xhc3NOYW1lPVwicGVyc29uYWxpemVCdXR0b25XcmFwcGVyXCI+XG4gICAgICAgICAgPEN1c3RvbWl6ZU1lbnVcbiAgICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudX1cbiAgICAgICAgICAgIG9uT3Blbj17dGhpcy5vcGVuQ3VzdG9taXphdGlvbk1lbnV9XG4gICAgICAgICAgICBvcGVuUHJlZmVyZW5jZXM9e3RoaXMub3BlblByZWZlcmVuY2VzfVxuICAgICAgICAgICAgc2V0UHJlZj17dGhpcy5zZXRQcmVmfVxuICAgICAgICAgICAgZW5hYmxlZFNlY3Rpb25zPXtlbmFibGVkU2VjdGlvbnN9XG4gICAgICAgICAgICBlbmFibGVkV2lkZ2V0cz17ZW5hYmxlZFdpZGdldHN9XG4gICAgICAgICAgICB3YWxscGFwZXJzRW5hYmxlZD17d2FsbHBhcGVyc0VuYWJsZWR9XG4gICAgICAgICAgICBhY3RpdmVXYWxscGFwZXI9e2FjdGl2ZVdhbGxwYXBlcn1cbiAgICAgICAgICAgIHBvY2tldFJlZ2lvbj17cG9ja2V0UmVnaW9ufVxuICAgICAgICAgICAgbWF5SGF2ZVRvcGljU2VjdGlvbnM9e21heUhhdmVQZXJzb25hbGl6ZWRUb3BpY1NlY3Rpb25zfVxuICAgICAgICAgICAgbWF5SGF2ZUluZmVycmVkUGVyc29uYWxpemF0aW9uPXttYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb259XG4gICAgICAgICAgICBtYXlIYXZlV2VhdGhlcj17bWF5SGF2ZVdlYXRoZXJ9XG4gICAgICAgICAgICBtYXlIYXZlVHJlbmRpbmdTZWFyY2g9e21heUhhdmVUcmVuZGluZ1NlYXJjaH1cbiAgICAgICAgICAgIG1heUhhdmVXaWRnZXRzPXttYXlIYXZlV2lkZ2V0c31cbiAgICAgICAgICAgIG1heUhhdmVUaW1lcldpZGdldD17bWF5SGF2ZVRpbWVyV2lkZ2V0fVxuICAgICAgICAgICAgbWF5SGF2ZUxpc3RzV2lkZ2V0PXttYXlIYXZlTGlzdHNXaWRnZXR9XG4gICAgICAgICAgICBzaG93aW5nPXtjdXN0b21pemVNZW51VmlzaWJsZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHt0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQoXCJDdXN0b21XYWxscGFwZXJIaWdobGlnaHRcIikgJiYgKFxuICAgICAgICAgICAgPE1lc3NhZ2VXcmFwcGVyIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofT5cbiAgICAgICAgICAgICAgPFdhbGxwYXBlckZlYXR1cmVIaWdobGlnaHRcbiAgICAgICAgICAgICAgICBwb3NpdGlvbj1cImluc2V0LWJsb2NrLXN0YXJ0IGluc2V0LWlubGluZS1zdGFydFwiXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L01lc3NhZ2VXcmFwcGVyPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvbWVudT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVyV3JhcHBlclwiPlxuICAgICAgICAgIHtzaG91bGREaXNwbGF5V2VhdGhlciAmJiAoXG4gICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgPFdlYXRoZXIgLz5cbiAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17YG1vYmlsZURvd25sb2FkUHJvbW9XcmFwcGVyICR7bW9iaWxlRG93bmxvYWRQcm9tb1dyYXBwZXJIZWlnaHRNb2RpZmllcn1gfVxuICAgICAgICA+XG4gICAgICAgICAge21vYmlsZURvd25sb2FkUHJvbW9FbmFibGVkICYmIG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUJvckMgJiYgKFxuICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgIDxEb3dubG9hZE1vZGFsVG9nZ2xlXG4gICAgICAgICAgICAgICAgaXNBY3RpdmU9e3Nob3VsZFNob3dEb3dubG9hZEhpZ2hsaWdodH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvZ2dsZURvd25sb2FkSGlnaGxpZ2h0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7c2hvdWxkU2hvd0Rvd25sb2FkSGlnaGxpZ2h0ICYmIChcbiAgICAgICAgICAgICAgICA8TWVzc2FnZVdyYXBwZXJcbiAgICAgICAgICAgICAgICAgIGhpZGRlbk92ZXJyaWRlPXtzaG91bGRTaG93RG93bmxvYWRIaWdobGlnaHR9XG4gICAgICAgICAgICAgICAgICBvbkRpc21pc3M9e3RoaXMuaGFuZGxlRGlzbWlzc0Rvd25sb2FkSGlnaGxpZ2h0fVxuICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPERvd25sb2FkTW9iaWxlUHJvbW9IaWdobGlnaHRcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb249e2BpbnNldC1pbmxpbmUtc3RhcnQgaW5zZXQtYmxvY2stZW5kYH1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTWVzc2FnZVdyYXBwZXI+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzLCBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnMqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfSBvbkNsaWNrPXt0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnV9PlxuICAgICAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm5ld3RhYi1tYWluXCIgc3R5bGU9e3RoaXMuc3RhdGUuZml4ZWROYXZTdHlsZX0+XG4gICAgICAgICAgICB7cHJlZnMuc2hvd1NlYXJjaCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm9uLWNvbGxhcHNpYmxlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgICAgIDxTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgc2hvd0xvZ289e1xuICAgICAgICAgICAgICAgICAgICAgIG5vU2VjdGlvbnNFbmFibGVkIHx8IHByZWZzW1wibG9nb3dvcmRtYXJrLmFsd2F5c1Zpc2libGVcIl1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoYW5kb2ZmRW5hYmxlZD17c2VhcmNoSGFuZG9mZkVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wcy5TZWFyY2h9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIEJ1ZyAxOTE0MDU1OiBTaG93IGxvZ28gcmVnYXJkbGVzcyBpZiBzZWFyY2ggaXMgZW5hYmxlZCAqL31cbiAgICAgICAgICAgIHshcHJlZnMuc2hvd1NlYXJjaCAmJiAhbm9TZWN0aW9uc0VuYWJsZWQgJiYgPExvZ28gLz59XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGJvZHktd3JhcHBlciR7aW5pdGlhbGl6ZWQgPyBcIiBvblwiIDogXCJcIn1gfT5cbiAgICAgICAgICAgICAge2lzRGlzY292ZXJ5U3RyZWFtID8gKFxuICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5IGNsYXNzTmFtZT1cImJvcmRlcmxlc3MtZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1CYXNlXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZT17cHJvcHMuQXBwLmxvY2FsZX1cbiAgICAgICAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXt0aGlzLnN0YXRlLmZpcnN0VmlzaWJsZVRpbWVzdGFtcH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxTZWN0aW9ucyAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Q29uZmlybURpYWxvZyAvPlxuICAgICAgICAgICAge3dhbGxwYXBlcnNFbmFibGVkICYmIHRoaXMucmVuZGVyV2FsbHBhcGVyQXR0cmlidXRpb24oKX1cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgICAgPGFzaWRlPlxuICAgICAgICAgICAge3RoaXMucHJvcHMuTm90aWZpY2F0aW9ucz8uc2hvd05vdGlmaWNhdGlvbnMgJiYgKFxuICAgICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgICA8Tm90aWZpY2F0aW9ucyBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH0gLz5cbiAgICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2FzaWRlPlxuICAgICAgICAgIHsvKiBPbmx5IHNob3cgdGhlIG1vZGFsIG9uIGN1cnJlbnRseSB2aXNpYmxlIHBhZ2VzIChub3QgcHJlbG9hZGVkKSAqL31cbiAgICAgICAgICB7bWF5U2hvd1RvcGljU2VsZWN0aW9uICYmIHBvY2tldEVuYWJsZWQgJiYgKFxuICAgICAgICAgICAgPFRvcGljU2VsZWN0aW9uIHN1cHBvcnRVcmw9e3N1cHBvcnRVcmx9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkJhc2VDb250ZW50LmRlZmF1bHRQcm9wcyA9IHtcbiAgZG9jdW1lbnQ6IGdsb2JhbC5kb2N1bWVudCxcbn07XG5cbmV4cG9ydCBjb25zdCBCYXNlID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBBcHA6IHN0YXRlLkFwcCxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxuICBNZXNzYWdlczogc3RhdGUuTWVzc2FnZXMsXG4gIE5vdGlmaWNhdGlvbnM6IHN0YXRlLk5vdGlmaWNhdGlvbnMsXG4gIFNlYXJjaDogc3RhdGUuU2VhcmNoLFxuICBXYWxscGFwZXJzOiBzdGF0ZS5XYWxscGFwZXJzLFxuICBXZWF0aGVyOiBzdGF0ZS5XZWF0aGVyLFxuICB3ZWF0aGVyUGxhY2VtZW50OiBzZWxlY3RXZWF0aGVyUGxhY2VtZW50KHN0YXRlKSxcbn0pKShfQmFzZSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQge1xuICBhY3Rpb25DcmVhdG9ycyBhcyBhYyxcbiAgYWN0aW9uVHlwZXMgYXMgYXQsXG59IGZyb20gXCIuLi8uLi9jb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IHBlcmZTZXJ2aWNlIGFzIHBlcmZTdmMgfSBmcm9tIFwiLi9wZXJmLXNlcnZpY2UubWpzXCI7XG5cbmNvbnN0IFZJU0lCTEUgPSBcInZpc2libGVcIjtcbmNvbnN0IFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG5cbmV4cG9ydCBjbGFzcyBEZXRlY3RVc2VyU2Vzc2lvblN0YXJ0IHtcbiAgY29uc3RydWN0b3Ioc3RvcmUsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuX3N0b3JlID0gc3RvcmU7XG4gICAgLy8gT3ZlcnJpZGVzIGZvciB0ZXN0aW5nXG4gICAgdGhpcy5kb2N1bWVudCA9IG9wdGlvbnMuZG9jdW1lbnQgfHwgZ2xvYmFsVGhpcy5kb2N1bWVudDtcbiAgICB0aGlzLl9wZXJmU2VydmljZSA9IG9wdGlvbnMucGVyZlNlcnZpY2UgfHwgcGVyZlN2YztcbiAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzZW5kRXZlbnRPckFkZExpc3RlbmVyIC0gTm90aWZ5IGltbWVkaWF0ZWx5IGlmIHRoZSBwYWdlIGlzIGFscmVhZHkgdmlzaWJsZSxcbiAgICogICAgICAgICAgICAgICAgICAgIG9yIGVsc2Ugc2V0IHVwIGEgbGlzdGVuZXIgZm9yIHdoZW4gdmlzaWJpbGl0eSBjaGFuZ2VzLlxuICAgKiAgICAgICAgICAgICAgICAgICAgVGhpcyBpcyBuZWVkZWQgZm9yIGFjY3VyYXRlIHNlc3Npb24gdHJhY2tpbmcgZm9yIHRlbGVtZXRyeSxcbiAgICogICAgICAgICAgICAgICAgICAgIGJlY2F1c2UgdGFicyBhcmUgcHJlLWxvYWRlZC5cbiAgICovXG4gIHNlbmRFdmVudE9yQWRkTGlzdGVuZXIoKSB7XG4gICAgaWYgKHRoaXMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAvLyBJZiB0aGUgZG9jdW1lbnQgaXMgYWxyZWFkeSB2aXNpYmxlLCB0byB0aGUgdXNlciwgc2VuZCBhIG5vdGlmaWNhdGlvblxuICAgICAgLy8gaW1tZWRpYXRlbHkgdGhhdCBhIHNlc3Npb24gaGFzIHN0YXJ0ZWQuXG4gICAgICB0aGlzLl9zZW5kRXZlbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGlzIG5vdCB2aXNpYmxlLCBsaXN0ZW4gZm9yIHdoZW4gaXQgZG9lcyBiZWNvbWUgdmlzaWJsZS5cbiAgICAgIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogX3NlbmRFdmVudCAtIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgbWFpbiBwcm9jZXNzIHRvIGluZGljYXRlIHRoZSBjdXJyZW50XG4gICAqICAgICAgICAgICAgICB0YWIgaXMgbm93IHZpc2libGUgdG8gdGhlIHVzZXIsIGluY2x1ZGVzIHRoZVxuICAgKiAgICAgICAgICAgICAgdmlzaWJpbGl0eV9ldmVudF9yY3ZkX3RzIHRpbWUgaW4gbXMgZnJvbSB0aGUgVU5JWCBlcG9jaC5cbiAgICovXG4gIF9zZW5kRXZlbnQoKSB7XG4gICAgdGhpcy5fcGVyZlNlcnZpY2UubWFyayhcInZpc2liaWxpdHlfZXZlbnRfcmN2ZF90c1wiKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgdmlzaWJpbGl0eV9ldmVudF9yY3ZkX3RzID1cbiAgICAgICAgdGhpcy5fcGVyZlNlcnZpY2UuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShcbiAgICAgICAgICBcInZpc2liaWxpdHlfZXZlbnRfcmN2ZF90c1wiXG4gICAgICAgICk7XG5cbiAgICAgIHRoaXMuX3N0b3JlLmRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5TQVZFX1NFU1NJT05fUEVSRl9EQVRBLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHZpc2liaWxpdHlfZXZlbnRfcmN2ZF90cyxcbiAgICAgICAgICAgIHdpbmRvd19pbm5lcl93aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICB3aW5kb3dfaW5uZXJfaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIC8vIElmIHRoaXMgZmFpbGVkLCBpdCdzIGxpa2VseSBiZWNhdXNlIHRoZSBgcHJpdmFjeS5yZXNpc3RGaW5nZXJwcmludGluZ2BcbiAgICAgIC8vIHByZWYgaXMgdHJ1ZS4gIFdlIHNob3VsZCBhdCBsZWFzdCBub3QgYmxvdyB1cC5cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogX29uVmlzaWJpbGl0eUNoYW5nZSAtIElmIHRoZSB2aXNpYmlsaXR5IGhhcyBjaGFuZ2VkIHRvIHZpc2libGUsIHNlbmRzIGEgbm90aWZpY2F0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGFuZCByZW1vdmVzIHRoZSBldmVudCBsaXN0ZW5lci4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgdGFiLlxuICAgKi9cbiAgX29uVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICBpZiAodGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIHRoaXMuX3NlbmRFdmVudCgpO1xuICAgICAgdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFJlZHV4OyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qIGVzbGludC1lbnYgbW96aWxsYS9yZW1vdGUtcGFnZSAqL1xuXG5pbXBvcnQge1xuICBhY3Rpb25DcmVhdG9ycyBhcyBhYyxcbiAgYWN0aW9uVHlwZXMgYXMgYXQsXG4gIGFjdGlvblV0aWxzIGFzIGF1LFxufSBmcm9tIFwiLi4vLi4vY29tbW9uL0FjdGlvbnMubWpzXCI7XG4vLyBXZSBkaXNhYmxlIGltcG9ydCBjaGVja2luZyBoZXJlIGFzIHJlZHV4IGlzIGluc3RhbGxlZCB2aWEgdGhlIG5wbSBwYWNrYWdlc1xuLy8gYXQgdGhlIG5ld3RhYiBsZXZlbCwgcmF0aGVyIHRoYW4gaW4gdGhlIHRvcC1sZXZlbCBwYWNrYWdlLmpzb24uXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVucmVzb2x2ZWRcbmltcG9ydCB7IGFwcGx5TWlkZGxld2FyZSwgY29tYmluZVJlZHVjZXJzLCBjcmVhdGVTdG9yZSB9IGZyb20gXCJyZWR1eFwiO1xuXG5leHBvcnQgY29uc3QgTUVSR0VfU1RPUkVfQUNUSU9OID0gXCJORVdfVEFCX0lOSVRJQUxfU1RBVEVcIjtcbmV4cG9ydCBjb25zdCBPVVRHT0lOR19NRVNTQUdFX05BTUUgPSBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRUb01haW5cIjtcbmV4cG9ydCBjb25zdCBJTkNPTUlOR19NRVNTQUdFX05BTUUgPSBcIkFjdGl2aXR5U3RyZWFtOk1haW5Ub0NvbnRlbnRcIjtcblxuLyoqXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgcmVkdWNlciB0aGF0LCBvbiBNRVJHRV9TVE9SRSBhY3Rpb24sXG4gKiB3aWxsIHJldHVybiB0aGUgYWN0aW9uLmRhdGEgb2JqZWN0IG1lcmdlZCBpbnRvIHRoZSBwcmV2aW91cyBzdGF0ZS5cbiAqXG4gKiBGb3IgYWxsIG90aGVyIGFjdGlvbnMsIGl0IG1lcmVseSBjYWxscyBtYWluUmVkdWNlci5cbiAqXG4gKiBCZWNhdXNlIHdlIHdhbnQgdGhpcyB0byBtZXJnZSB0aGUgZW50aXJlIHN0YXRlIG9iamVjdCwgaXQncyB3cml0dGVuIGFzIGFcbiAqIGhpZ2hlciBvcmRlciBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgbWFpbiByZWR1Y2VyIChpdHNlbGYgb2Z0ZW4gYSBjYWxsIHRvXG4gKiBjb21iaW5lUmVkdWNlcnMpIGFzIGEgcGFyYW1ldGVyLlxuICpcbiAqIEBwYXJhbSAge2Z1bmN0aW9ufSBtYWluUmVkdWNlciByZWR1Y2VyIHRvIGNhbGwgaWYgYWN0aW9uICE9IE1FUkdFX1NUT1JFX0FDVElPTlxuICogQHJldHVybiB7ZnVuY3Rpb259ICAgICAgICAgICAgIGEgcmVkdWNlciB0aGF0LCBvbiBNRVJHRV9TVE9SRV9BQ1RJT04gYWN0aW9uLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbGwgcmV0dXJuIHRoZSBhY3Rpb24uZGF0YSBvYmplY3QgbWVyZ2VkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50byB0aGUgcHJldmlvdXMgc3RhdGUsIGFuZCB0aGUgcmVzdWx0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgY2FsbGluZyBtYWluUmVkdWNlciBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlU3RhdGVSZWR1Y2VyKG1haW5SZWR1Y2VyKSB7XG4gIHJldHVybiAocHJldlN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICBpZiAoYWN0aW9uLnR5cGUgPT09IE1FUkdFX1NUT1JFX0FDVElPTikge1xuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCAuLi5hY3Rpb24uZGF0YSB9O1xuICAgIH1cblxuICAgIHJldHVybiBtYWluUmVkdWNlcihwcmV2U3RhdGUsIGFjdGlvbik7XG4gIH07XG59XG5cbi8qKlxuICogbWVzc2FnZU1pZGRsZXdhcmUgLSBNaWRkbGV3YXJlIHRoYXQgbG9va3MgZm9yIFNlbnRUb01haW4gdHlwZSBhY3Rpb25zLCBhbmQgc2VuZHMgdGhlbSBpZiBuZWNlc3NhcnlcbiAqL1xuY29uc3QgbWVzc2FnZU1pZGRsZXdhcmUgPSAoKSA9PiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gIGNvbnN0IHNraXBMb2NhbCA9IGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnNraXBMb2NhbDtcbiAgaWYgKGF1LmlzU2VuZFRvTWFpbihhY3Rpb24pKSB7XG4gICAgUlBNU2VuZEFzeW5jTWVzc2FnZShPVVRHT0lOR19NRVNTQUdFX05BTUUsIGFjdGlvbik7XG4gIH1cbiAgaWYgKCFza2lwTG9jYWwpIHtcbiAgICBuZXh0KGFjdGlvbik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCByZWh5ZHJhdGlvbk1pZGRsZXdhcmUgPSAoeyBnZXRTdGF0ZSB9KSA9PiB7XG4gIC8vIE5COiBUaGUgcGFyYW1ldGVyIGhlcmUgaXMgTWlkZGxld2FyZUFQSSB3aGljaCBsb29rcyBsaWtlIGEgU3RvcmUgYW5kIHNoYXJlc1xuICAvLyB0aGUgc2FtZSBnZXRTdGF0ZSwgc28gYXR0YWNoZWQgcHJvcGVydGllcyBhcmUgYWNjZXNzaWJsZSBmcm9tIHRoZSBzdG9yZS5cbiAgZ2V0U3RhdGUuZGlkUmVoeWRyYXRlID0gZmFsc2U7XG4gIGdldFN0YXRlLmRpZFJlcXVlc3RJbml0aWFsU3RhdGUgPSBmYWxzZTtcbiAgcmV0dXJuIG5leHQgPT4gYWN0aW9uID0+IHtcbiAgICBpZiAoZ2V0U3RhdGUuZGlkUmVoeWRyYXRlIHx8IHdpbmRvdy5fX0ZST01fU1RBUlRVUF9DQUNIRV9fKSB7XG4gICAgICAvLyBTdGFydHVwIG1lc3NhZ2VzIGNhbiBiZSBzYWZlbHkgaWdub3JlZCBieSB0aGUgYWJvdXQ6aG9tZSBkb2N1bWVudFxuICAgICAgLy8gc3RvcmVkIGluIHRoZSBzdGFydHVwIGNhY2hlLlxuICAgICAgaWYgKFxuICAgICAgICB3aW5kb3cuX19GUk9NX1NUQVJUVVBfQ0FDSEVfXyAmJlxuICAgICAgICBhY3Rpb24ubWV0YSAmJlxuICAgICAgICBhY3Rpb24ubWV0YS5pc1N0YXJ0dXBcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfVxuXG4gICAgY29uc3QgaXNNZXJnZVN0b3JlQWN0aW9uID0gYWN0aW9uLnR5cGUgPT09IE1FUkdFX1NUT1JFX0FDVElPTjtcbiAgICBjb25zdCBpc1JlaHlkcmF0aW9uUmVxdWVzdCA9IGFjdGlvbi50eXBlID09PSBhdC5ORVdfVEFCX1NUQVRFX1JFUVVFU1Q7XG5cbiAgICBpZiAoaXNSZWh5ZHJhdGlvblJlcXVlc3QpIHtcbiAgICAgIGdldFN0YXRlLmRpZFJlcXVlc3RJbml0aWFsU3RhdGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoaXNNZXJnZVN0b3JlQWN0aW9uKSB7XG4gICAgICBnZXRTdGF0ZS5kaWRSZWh5ZHJhdGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBJZiBpbml0IGhhcHBlbmVkIGFmdGVyIG91ciByZXF1ZXN0IHdhcyBtYWRlLCB3ZSBuZWVkIHRvIHJlLXJlcXVlc3RcbiAgICBpZiAoZ2V0U3RhdGUuZGlkUmVxdWVzdEluaXRpYWxTdGF0ZSAmJiBhY3Rpb24udHlwZSA9PT0gYXQuSU5JVCkge1xuICAgICAgcmV0dXJuIG5leHQoYWMuQWxzb1RvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfU1RBVEVfUkVRVUVTVCB9KSk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgYXUuaXNCcm9hZGNhc3RUb0NvbnRlbnQoYWN0aW9uKSB8fFxuICAgICAgYXUuaXNTZW5kVG9PbmVDb250ZW50KGFjdGlvbikgfHxcbiAgICAgIGF1LmlzU2VuZFRvUHJlbG9hZGVkKGFjdGlvbilcbiAgICApIHtcbiAgICAgIC8vIE5vdGUgdGhhdCBhY3Rpb25zIHJlY2VpdmVkIGJlZm9yZSBkaWRSZWh5ZHJhdGUgd2lsbCBub3QgYmUgZGlzcGF0Y2hlZFxuICAgICAgLy8gYmVjYXVzZSB0aGlzIGNvdWxkIG5lZ2F0aXZlbHkgYWZmZWN0IHByZWxvYWRpbmcgYW5kIHRoZSB0aGUgc3RhdGVcbiAgICAgIC8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgcmVoeWRyYXRpb24gYW55d2F5LlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgfTtcbn07XG5cbi8qKlxuICogaW5pdFN0b3JlIC0gQ3JlYXRlIGEgc3RvcmUgYW5kIGxpc3RlbiBmb3IgaW5jb21pbmcgYWN0aW9uc1xuICpcbiAqIEBwYXJhbSAge29iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgUmVkdXggcmVkdWNlcnNcbiAqIEBwYXJhbSAge29iamVjdH0gaW50aWFsU3RhdGUgKG9wdGlvbmFsKSBUaGUgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgc3RvcmUsIGlmIGRlc2lyZWRcbiAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgQSByZWR1eCBzdG9yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0b3JlKHJlZHVjZXJzLCBpbml0aWFsU3RhdGUpIHtcbiAgY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZShcbiAgICBtZXJnZVN0YXRlUmVkdWNlcihjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpKSxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgZ2xvYmFsVGhpcy5SUE1BZGRNZXNzYWdlTGlzdGVuZXIgJiZcbiAgICAgIGFwcGx5TWlkZGxld2FyZShyZWh5ZHJhdGlvbk1pZGRsZXdhcmUsIG1lc3NhZ2VNaWRkbGV3YXJlKVxuICApO1xuXG4gIGlmIChnbG9iYWxUaGlzLlJQTUFkZE1lc3NhZ2VMaXN0ZW5lcikge1xuICAgIGdsb2JhbFRoaXMuUlBNQWRkTWVzc2FnZUxpc3RlbmVyKElOQ09NSU5HX01FU1NBR0VfTkFNRSwgbXNnID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKG1zZy5kYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb250ZW50IG1zZzpcIiwgbXNnLCBcIkRpc3BhdGNoIGVycm9yOiBcIiwgZXgpO1xuICAgICAgICBkdW1wKFxuICAgICAgICAgIGBDb250ZW50IG1zZzogJHtKU09OLnN0cmluZ2lmeShtc2cpfVxcbkRpc3BhdGNoIGVycm9yOiAke2V4fVxcbiR7XG4gICAgICAgICAgICBleC5zdGFja1xuICAgICAgICAgIH1gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc3RvcmU7XG59XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUmVhY3RET007IiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgQmFzZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Jhc2UvQmFzZVwiO1xuaW1wb3J0IHsgRGV0ZWN0VXNlclNlc3Npb25TdGFydCB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvZGV0ZWN0LXVzZXItc2Vzc2lvbi1zdGFydFwiO1xuaW1wb3J0IHsgaW5pdFN0b3JlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9pbml0LXN0b3JlXCI7XG5pbXBvcnQgeyBQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IHJlZHVjZXJzIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5zeXMubWpzXCI7XG5cbmV4cG9ydCBjb25zdCBOZXdUYWIgPSAoeyBzdG9yZSB9KSA9PiAoXG4gIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxuICAgIDxCYXNlIC8+XG4gIDwvUHJvdmlkZXI+XG4pO1xuXG5mdW5jdGlvbiBkb1JlcXVlc3RXaGVuUmVhZHkoKSB7XG4gIC8vIElmIHRoaXMgZG9jdW1lbnQgaGFzIGFscmVhZHkgZ29uZSBpbnRvIHRoZSBiYWNrZ3JvdW5kIGJ5IHRoZSB0aW1lIHdlJ3ZlIHJlYWNoZWRcbiAgLy8gaGVyZSwgd2UgY2FuIGRlcHJpb3JpdGl6ZSB0aGUgcmVxdWVzdCB1bnRpbCB0aGUgZXZlbnQgbG9vcFxuICAvLyBmcmVlcyB1cC4gSWYsIGhvd2V2ZXIsIHRoZSB2aXNpYmlsaXR5IGNoYW5nZXMsIHdlIHRoZW4gc2VuZCB0aGUgcmVxdWVzdC5cbiAgY29uc3QgZG9SZXF1ZXN0UHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGxldCBkaWRSZXF1ZXN0ID0gZmFsc2U7XG4gICAgbGV0IHJlcXVlc3RJZGxlQ2FsbGJhY2tJZCA9IDA7XG4gICAgZnVuY3Rpb24gZG9SZXF1ZXN0KCkge1xuICAgICAgaWYgKCFkaWRSZXF1ZXN0KSB7XG4gICAgICAgIGlmIChyZXF1ZXN0SWRsZUNhbGxiYWNrSWQpIHtcbiAgICAgICAgICBjYW5jZWxJZGxlQ2FsbGJhY2socmVxdWVzdElkbGVDYWxsYmFja0lkKTtcbiAgICAgICAgfVxuICAgICAgICBkaWRSZXF1ZXN0ID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgIHJlcXVlc3RJZGxlQ2FsbGJhY2tJZCA9IHJlcXVlc3RJZGxlQ2FsbGJhY2soZG9SZXF1ZXN0KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGRvUmVxdWVzdCwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZG9SZXF1ZXN0UHJvbWlzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcldpdGhvdXRTdGF0ZSgpIHtcbiAgY29uc3Qgc3RvcmUgPSBpbml0U3RvcmUocmVkdWNlcnMpO1xuICBuZXcgRGV0ZWN0VXNlclNlc3Npb25TdGFydChzdG9yZSkuc2VuZEV2ZW50T3JBZGRMaXN0ZW5lcigpO1xuXG4gIGRvUmVxdWVzdFdoZW5SZWFkeSgpLnRoZW4oKCkgPT4ge1xuICAgIC8vIElmIHN0YXRlIGV2ZW50cyBoYXBwZW5lZCBiZWZvcmUgd2UgZ290IGhlcmUsIHdlIGNhbiByZXF1ZXN0IHN0YXRlIGFnYWluLlxuICAgIHN0b3JlLmRpc3BhdGNoKGFjLkFsc29Ub01haW4oeyB0eXBlOiBhdC5ORVdfVEFCX1NUQVRFX1JFUVVFU1QgfSkpO1xuICAgIC8vIElmIHdlIHJlbmRlcmVkIHdpdGhvdXQgc3RhdGUsIHdlIGRvbid0IG5lZWQgdGhlIHN0YXJ0dXAgY2FjaGUuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuTkVXX1RBQl9TVEFURV9SRVFVRVNUX1dJVEhPVVRfU1RBUlRVUENBQ0hFIH0pXG4gICAgKTtcbiAgfSk7XG5cbiAgUmVhY3RET00uaHlkcmF0ZSg8TmV3VGFiIHN0b3JlPXtzdG9yZX0gLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJDYWNoZShpbml0aWFsU3RhdGUpIHtcbiAgaWYgKGluaXRpYWxTdGF0ZSkge1xuICAgIGluaXRpYWxTdGF0ZS5BcHAuaXNGb3JTdGFydHVwQ2FjaGUuQXBwID0gZmFsc2U7XG4gIH1cbiAgY29uc3Qgc3RvcmUgPSBpbml0U3RvcmUocmVkdWNlcnMsIGluaXRpYWxTdGF0ZSk7XG4gIG5ldyBEZXRlY3RVc2VyU2Vzc2lvblN0YXJ0KHN0b3JlKS5zZW5kRXZlbnRPckFkZExpc3RlbmVyKCk7XG5cbiAgZG9SZXF1ZXN0V2hlblJlYWR5KCkudGhlbigoKSA9PiB7XG4gICAgLy8gSWYgc3RhdGUgZXZlbnRzIGhhcHBlbmVkIGJlZm9yZSB3ZSBnb3QgaGVyZSxcbiAgICAvLyB3ZSBjYW4gbm90aWZ5IG1haW4gdGhhdCB3ZSBuZWVkIHVwZGF0ZXMuXG4gICAgLy8gVGhlIGluZGl2aWR1YWwgZmVlZHMga25vdyB3aGF0IHN0YXRlIGlzIG5vdCBjYWNoZWQuXG4gICAgc3RvcmUuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuTkVXX1RBQl9TVEFURV9SRVFVRVNUX1NUQVJUVVBDQUNIRSB9KVxuICAgICk7XG4gIH0pO1xuXG4gIFJlYWN0RE9NLmh5ZHJhdGUoPE5ld1RhYiBzdG9yZT17c3RvcmV9IC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiU2ltcGxlSGFzaFJvdXRlciIsIlB1cmVDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwib25IYXNoQ2hhbmdlIiwiYmluZCIsInN0YXRlIiwiaGFzaCIsImdsb2JhbFRoaXMiLCJsb2NhdGlvbiIsInNldFN0YXRlIiwiY29tcG9uZW50V2lsbE1vdW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbmRlciIsInJvdXRlcyIsInNwbGl0IiwiY2xvbmVFbGVtZW50IiwiY2hpbGRyZW4iLCJhY3Rpb25DcmVhdG9ycyIsImFjIiwiYWN0aW9uVHlwZXMiLCJhdCIsImNvbm5lY3QiLCJQUkVGX0FEX1NJWkVfTUVESVVNX1JFQ1RBTkdMRSIsIlBSRUZfQURfU0laRV9CSUxMQk9BUkQiLCJQUkVGX0FEX1NJWkVfTEVBREVSQk9BUkQiLCJQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9TRUxFQ1RFRF9GRUVEIiwiUFJFRl9DT05URVhUVUFMX0NPTlRFTlRfRkVFRFMiLCJQUkVGX1NFQ1RJT05TX0VOQUJMRUQiLCJQUkVGX1NQT0NfUExBQ0VNRU5UUyIsIlBSRUZfU1BPQ19DT1VOVFMiLCJQUkVGX0NPTlRFWFRVQUxfQURTX0VOQUJMRUQiLCJQUkVGX0NPTlRFWFRVQUxfQkFOTkVSX1BMQUNFTUVOVFMiLCJQUkVGX0NPTlRFWFRVQUxfQkFOTkVSX0NPVU5UUyIsIlJvdyIsImNyZWF0ZUVsZW1lbnQiLCJfZXh0ZW5kcyIsImNsYXNzTmFtZSIsInJlbGF0aXZlVGltZSIsInRpbWVzdGFtcCIsInNlY29uZHMiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwibWludXRlcyIsInRvTG9jYWxlU3RyaW5nIiwiVG9nZ2xlU3RvcnlCdXR0b24iLCJoYW5kbGVDbGljayIsIm9uQ2xpY2siLCJzdG9yeSIsIlRvZ2dsZVByZWZDaGVja2JveCIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJwcmVmIiwidGFyZ2V0IiwiY2hlY2tlZCIsIkZyYWdtZW50IiwidHlwZSIsImRpc2FibGVkIiwiUGVyc29uYWxpemF0aW9uIiwidG9nZ2xlUGVyc29uYWxpemF0aW9uIiwiZGlzcGF0Y2giLCJPbmx5VG9NYWluIiwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fVE9HR0xFIiwibGFzdFVwZGF0ZWQiLCJpbml0aWFsaXplZCIsImNvbFNwYW4iLCJwZXJzb25hbGl6ZWQiLCJEaXNjb3ZlcnlTdHJlYW1BZG1pblVJIiwicmVzdG9yZVByZWZEZWZhdWx0cyIsInNldENvbmZpZ1ZhbHVlIiwiZXhwaXJlQ2FjaGUiLCJyZWZyZXNoQ2FjaGUiLCJzaG93UGxhY2Vob2xkZXIiLCJpZGxlRGFpbHkiLCJzeXN0ZW1UaWNrIiwic3luY1JlbW90ZVNldHRpbmdzIiwib25TdG9yeVRvZ2dsZSIsImhhbmRsZVdlYXRoZXJTdWJtaXQiLCJoYW5kbGVXZWF0aGVyVXBkYXRlIiwicmVzZXRCbG9ja3MiLCJyZWZyZXNoSW5mZXJyZWRQZXJzb25hbGl6YXRpb24iLCJyZWZyZXNoVG9waWNTZWxlY3Rpb25DYWNoZSIsInRvZ2dsZVRCUkZlZWQiLCJoYW5kbGVTZWN0aW9uc1RvZ2dsZSIsInRvZ2dsZUlBQkJhbm5lcnMiLCJ0b2dnbGVkU3RvcmllcyIsIndlYXRoZXJRdWVyeSIsImNvbmZpZ05hbWUiLCJjb25maWdWYWx1ZSIsIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVF9WQUxVRSIsImRhdGEiLCJuYW1lIiwidmFsdWUiLCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVF9ERUZBVUxUUyIsImNvbmZpZyIsIkRpc2NvdmVyeVN0cmVhbSIsIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX0NIQU5HRSIsIklORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9SRUZSRVNIIiwiU2V0UHJlZiIsImRpc3BhdGNoU2ltcGxlQWN0aW9uIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfQkxPQ0tTX1JFU0VUIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lTVEVNX1RJQ0siLCJESVNDT1ZFUllfU1RSRUFNX0RFVl9FWFBJUkVfQ0FDSEUiLCJESVNDT1ZFUllfU1RSRUFNX0RFVl9TSE9XX1BMQUNFSE9MREVSIiwiZSIsImZlZWQiLCJzZWxlY3RlZEZlZWQiLCJESVNDT1ZFUllfU1RSRUFNX0RFVl9JRExFX0RBSUxZIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lOQ19SUyIsInByZXZlbnREZWZhdWx0IiwicHJlc3NlZCIsImlkIiwiZ2VuZXJhdGVTcG9jUHJlZlZhbHVlcyIsInBsYWNlbWVudHMiLCJvdGhlclByZWZzIiwibWFwIiwiaXRlbSIsInRyaW0iLCJmaWx0ZXIiLCJjb3VudHMiLCJzdXBwb3J0SUFCQWRUeXBlcyIsImNvdW50VmFsdWUiLCJpbmNsdWRlcyIsIkVycm9yIiwicHVzaCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImpvaW4iLCJyZW5kZXJDb21wb25lbnQiLCJ3aWR0aCIsImNvbXBvbmVudCIsInJlbmRlckZlZWQiLCJyZW5kZXJXZWF0aGVyRGF0YSIsInN1Z2dlc3Rpb25zIiwiV2VhdGhlciIsIndlYXRoZXJUYWJsZSIsIm9uU3VibWl0IiwiaHRtbEZvciIsIm1pbiIsIm1heCIsInN1Z2dlc3Rpb24iLCJrZXkiLCJjaXR5X25hbWUiLCJKU09OIiwic3RyaW5naWZ5IiwicmVuZGVyUGVyc29uYWxpemF0aW9uRGF0YSIsImluZmVycmVkSW50ZXJlc3RzIiwiY29hcnNlSW5mZXJyZWRJbnRlcmVzdHMiLCJjb2Fyc2VQcml2YXRlSW5mZXJyZWRJbnRlcmVzdHMiLCJJbmZlcnJlZFBlcnNvbmFsaXphdGlvbiIsInJlbmRlckZlZWREYXRhIiwidXJsIiwiZmVlZHMiLCJyZWNvbW1lbmRhdGlvbnMiLCJyZW5kZXJTdG9yeURhdGEiLCJyZW5kZXJGZWVkc0RhdGEiLCJPYmplY3QiLCJrZXlzIiwicmVuZGVySW1wcmVzc2lvbnNEYXRhIiwiaW1wcmVzc2lvbnMiLCJyZW5kZXJCbG9ja3NEYXRhIiwiYmxvY2tzIiwicmVuZGVyU3BvY3MiLCJzcG9jcyIsInVuaWZpZWRBZHNTcG9jc0VuYWJsZWQiLCJQUkVGX1VOSUZJRURfQURTX0FEU0ZFRURfRU5BQkxFRCIsImFkc0ZlZWRFbmFibGVkIiwidW5pZmllZEFkc0VuZHBvaW50Iiwic3BvY3NEYXRhIiwibmV3dGFiX3Nwb2NzIiwiaXRlbXMiLCJzcG9jc19lbmRwb2ludCIsInNwb2MiLCJmcmVxdWVuY3lfY2FwcyIsInN0b3J5RGF0YSIsInByZWZUb2dnbGVzIiwibGF5b3V0Iiwic2VjdGlvbnNFbmFibGVkIiwiVEJSRmVlZHMiLCJzIiwibWVkaXVtUmVjdGFuZ2xlRW5hYmxlZCIsImJpbGxib2FyZHNFbmFibGVkIiwibGVhZGVyYm9hcmRFbmFibGVkIiwic3BvY1BsYWNlbWVudHMiLCJtZWRpdW1SZWN0YW5nbGVFbmFibGVkUHJlc3NlZCIsImJpbGxib2FyZFByZXNzZWQiLCJsZWFkZXJib2FyZFByZXNzZWQiLCJvblRvZ2dsZSIsImxhYmVsIiwicm93Iiwicm93SW5kZXgiLCJjb21wb25lbnRzIiwiY29tcG9uZW50SW5kZXgiLCJEaXNjb3ZlcnlTdHJlYW1BZG1pbklubmVyIiwiY29sbGFwc2VkIiwiaHJlZiIsIlByZWZzIiwidmFsdWVzIiwiQ29sbGFwc2VUb2dnbGUiLCJvbkNvbGxhcHNlVG9nZ2xlIiwicmVuZGVyQWRtaW4iLCJzdGFydHNXaXRoIiwic2V0Qm9keUNsYXNzIiwiZG9jdW1lbnQiLCJib2R5IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJpc0NvbGxhcHNlZCIsInRpdGxlIiwiX0Rpc2NvdmVyeVN0cmVhbUFkbWluIiwiRGlzY292ZXJ5U3RyZWFtQWRtaW4iLCJTZWN0aW9ucyIsIl9Db25maXJtRGlhbG9nIiwiX2hhbmRsZUNhbmNlbEJ0biIsIl9oYW5kbGVDb25maXJtQnRuIiwiRElBTE9HX0NBTkNFTCIsIlVzZXJFdmVudCIsInNvdXJjZSIsImV2ZW50U291cmNlIiwib25Db25maXJtIiwiZm9yRWFjaCIsIl9yZW5kZXJNb2RhbE1lc3NhZ2UiLCJtZXNzYWdlX2JvZHkiLCJib2R5X3N0cmluZ19pZCIsIm1zZyIsInZpc2libGUiLCJyb2xlIiwiaWNvbiIsImNhbmNlbF9idXR0b25fc3RyaW5nX2lkIiwiY29uZmlybV9idXR0b25fc3RyaW5nX2lkIiwiY29uZmlybV9idXR0b25fc3RyaW5nX2FyZ3MiLCJDb25maXJtRGlhbG9nIiwiRGlhbG9nIiwiUExBQ0VIT0xERVJfSU1BR0VfREFUQV9BUlJBWSIsInJvdGF0aW9uIiwib2Zmc2V0eCIsIm9mZnNldHkiLCJzY2FsZSIsIlBMQUNFSE9MREVSX0lNQUdFX0NPTE9SU19BUlJBWSIsImdlbmVyYXRlSW5kZXgiLCJrZXlDb2RlIiwicmFuZG9tIiwiaGFzaFN0ciIsInN0ciIsImkiLCJsZW5ndGgiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJQbGFjZWhvbGRlckltYWdlIiwidXJsS2V5IiwidGl0bGVLZXkiLCJkYXRhSW5kZXgiLCJjb2xvckluZGV4IiwiY29sb3IiLCJzdHlsZSIsIkRTSW1hZ2UiLCJvbk9wdGltaXplZEltYWdlRXJyb3IiLCJvbk5vbk9wdGltaXplZEltYWdlRXJyb3IiLCJvbkxvYWQiLCJpc0xvYWRlZCIsIm9wdGltaXplZEltYWdlRmFpbGVkIiwidXNlVHJhbnNpdGlvbiIsIm9uSWRsZUNhbGxiYWNrIiwicmVmb3JtYXRJbWFnZVVSTCIsImhlaWdodCIsInNtYXJ0Iiwic21hcnRDcm9wIiwiZm9ybWF0dGVkVXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2VjdXJlSW1hZ2VVUkwiLCJzZWN1cmVJbWFnZSIsImlkbGVDYWxsYmFja0lkIiwid2luZG93T2JqIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImNhbmNlbElkbGVDYWxsYmFjayIsImNsYXNzTmFtZXMiLCJleHRyYUNsYXNzTmFtZXMiLCJpbWciLCJvcHRpbWl6ZSIsInJhd1NvdXJjZSIsImJhc2VTb3VyY2UiLCJzZWN1cmVkU291cmNlIiwic2l6ZVJ1bGVzIiwic3JjU2V0UnVsZXMiLCJydWxlIiwic2l6ZXMiLCJtZWRpYU1hdGNoZXIiLCJzaXplUnVsZSIsInNyY1NldFJ1bGUiLCJzcmNTZXRSdWxlMngiLCJsb2FkaW5nIiwiYWx0IiwiYWx0X3RleHQiLCJjcm9zc09yaWdpbiIsIm9uRXJyb3IiLCJzcmMiLCJzcmNTZXQiLCJub25PcHRpbWl6ZWRJbWFnZUZhaWxlZCIsImlzUmVjZW50U2F2ZSIsImRlZmF1bHRQcm9wcyIsIndpbmRvdyIsIkNvbnRleHRNZW51IiwiaGlkZUNvbnRleHQiLCJvblNob3ciLCJvblVwZGF0ZSIsInNldFRpbWVvdXQiLCJzdG9wUHJvcGFnYXRpb24iLCJvbktleURvd24iLCJvcHRpb25zIiwib3B0aW9uIiwiQ29udGV4dE1lbnVJdGVtIiwia2V5Ym9hcmRBY2Nlc3MiLCJfQ29udGV4dE1lbnVJdGVtIiwib25LZXlVcCIsImZvY3VzRmlyc3QiLCJidXR0b24iLCJmb2N1cyIsImZvY3VzU2libGluZyIsInBhcmVudE5vZGUiLCJjbG9zZXN0U2libGluZ1NlbGVjdG9yIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzaGlmdEtleSIsImZpcnN0IiwibGFzdCIsInJlZiIsInN0cmluZ19pZCIsIkxpbmtNZW51T3B0aW9ucyIsIkRFRkFVTFRfU0lURV9NRU5VX09QVElPTlMiLCJfTGlua01lbnUiLCJnZXRPcHRpb25zIiwic2l0ZSIsImlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZCIsInNpdGVJbmZvIiwicGxhdGZvcm0iLCJzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzIiwidXNlckV2ZW50IiwicHJvcE9wdGlvbnMiLCJpc0RlZmF1bHQiLCJzZWFyY2hUb3BTaXRlIiwic3BvbnNvcmVkX3Bvc2l0aW9uIiwibGlua01lbnVPcHRpb25zIiwibyIsImFjdGlvbiIsImltcHJlc3Npb24iLCJldmVudE5hbWUiLCJjdHJsS2V5IiwibWV0YUtleSIsImFzc2lnbiIsImNhcmRfdHlwZSIsImNvcnB1c19pdGVtX2lkIiwiZXZlbnRfc291cmNlIiwiZmV0Y2hUaW1lc3RhbXAiLCJmaXJzdFZpc2libGVUaW1lc3RhbXAiLCJmb3JtYXQiLCJpc19saXN0X2NhcmQiLCJpc19zZWN0aW9uX2ZvbGxvd2VkIiwicmVjZWl2ZWRfcmFuayIsInJlY29tbWVuZGF0aW9uX2lkIiwicmVjb21tZW5kZWRfYXQiLCJzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQiLCJzZWN0aW9uX3Bvc2l0aW9uIiwic2VjdGlvbiIsInNlbGVjdGVkX3RvcGljcyIsInRpbGVfaWQiLCJ0b3BpYyIsImZsaWdodF9pZCIsInVzZXJFdmVudERhdGEiLCJhY3Rpb25fcG9zaXRpb24iLCJnZXRTdGF0ZSIsIkxpbmtNZW51IiwiQ29udGV4dE1lbnVCdXR0b24iLCJzaG93Q29udGV4dE1lbnUiLCJjb250ZXh0TWVudUtleWJvYXJkIiwib3BlbkNvbnRleHRNZW51IiwiaXNLZXlCb2FyZCIsInRvb2x0aXBBcmdzIiwidG9vbHRpcCIsInJlZkZ1bmN0aW9uIiwidGFiSW5kZXgiLCJvbkZvY3VzIiwiX0RTTGlua01lbnUiLCJUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OUyIsIlBSRUZfUkVQT1JUX0FEU19FTkFCTEVEIiwicHJlZnMiLCJzaG93QWRzUmVwb3J0aW5nIiwiaXNTcG9jIiwib25NZW51VXBkYXRlIiwidG9VcHBlckNhc2UiLCJvbk1lbnVTaG93IiwiRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50IiwicmVmZXJyZXIiLCJndWlkIiwicG9ja2V0X2lkIiwic2hpbSIsImJvb2ttYXJrR3VpZCIsImZsaWdodElkIiwicG9zaXRpb24iLCJEU0xpbmtNZW51IiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJQUkVGX1dFQVRIRVJfUExBQ0VNRU5UIiwiUFJFRl9EQUlMWV9CUklFRl9TRUNUSU9OSUQiLCJQUkVGX0RBSUxZX0JSSUVGX0VOQUJMRUQiLCJQUkVGX1NUT1JJRVNfRU5BQkxFRCIsIlBSRUZfU1lTVEVNX1NUT1JJRVNfRU5BQkxFRCIsInVzZUludGVyc2VjdGlvbk9ic2VydmVyIiwiY2FsbGJhY2siLCJ0aHJlc2hvbGQiLCJlbGVtZW50c1JlZiIsInRyaWdnZXJlZEVsZW1lbnRzIiwiV2Vha1NldCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsImN1cnJlbnQiLCJoYXMiLCJ1bm9ic2VydmUiLCJlbCIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwiZ2V0QWN0aXZlQ2FyZFNpemUiLCJzY3JlZW5XaWR0aCIsImJyZWFrcG9pbnRzIiwiY29sdW1uIiwiY2FyZFR5cGVzIiwiY3VyckNvbHVtbkNvdW50IiwiZmluZCIsImJwIiwiQ09ORkVUVElfVkFSUyIsInVzZUNvbmZldHRpIiwiY291bnQiLCJzcHJlYWQiLCJQSSIsInByZWZlcnNSZWR1Y2VkTW90aW9uIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJjb2xvcnMiLCJnZXRDb21wdXRlZFN0eWxlIiwic3R5bGVzIiwiZG9jdW1lbnRFbGVtZW50IiwidmFyaWFibGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY2FudmFzUmVmIiwicGFydGljbGVzUmVmIiwiYW5pbWF0aW9uRnJhbWVSZWYiLCJpbml0aWFsaXplQ29uZmV0dGkiLCJjZW50ZXJYIiwiY2VudGVyWSIsInBvb2wiLCJhbmdsZSIsImNvcyIsInNpbiIsIngiLCJ5IiwidmVsb2NpdHkiLCJncmF2aXR5IiwiZGVjYXkiLCJzaXplIiwibGlmZSIsIm1heExpZmUiLCJ0aWx0IiwidGlsdFNwZWVkIiwiYW5pbWF0ZVBhcnRpY2xlcyIsImNhbnZhcyIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiYW55QWxpdmUiLCJwYXJ0aWNsZSIsImFscGhhVmFsdWUiLCJzY2FsZVkiLCJnbG9iYWxBbHBoYSIsInNldFRyYW5zZm9ybSIsInJvdGF0ZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJmaXJlQ29uZmV0dGkiLCJzZWxlY3RXZWF0aGVyUGxhY2VtZW50IiwicGxhY2VtZW50UHJlZiIsInRyYWluaG9wQ29uZmlnIiwiZGFpbHlCcmllZmluZyIsInBsYWNlbWVudCIsInNlY3Rpb25zIiwicG9ja2V0RW5hYmxlZCIsInNlY3Rpb25QZXJzb25hbGl6YXRpb24iLCJkYWlseUJyaWVmRW5hYmxlZCIsImVuYWJsZWQiLCJzZWN0aW9uSWQiLCJub3RCbG9ja2VkIiwiaXNCbG9ja2VkIiwiZmlsdGVyZWRTZWN0aW9ucyIsInNlY3Rpb25LZXkiLCJmb3VuZFNlY3Rpb24iLCJpc1RvcFNlY3Rpb24iLCJyZWNlaXZlZFJhbmsiLCJlbGlnaWJsZSIsIlRPUF9TSVRFU19TT1VSQ0UiLCJWSVNJQkxFIiwiVklTSUJJTElUWV9DSEFOR0VfRVZFTlQiLCJJTlRFUlNFQ1RJT05fUkFUSU8iLCJJbXByZXNzaW9uU3RhdHMiLCJfbmVlZHNJbXByZXNzaW9uU3RhdHMiLCJjYXJkcyIsImltcHJlc3Npb25DYXJkR3VpZHMiLCJfZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMiLCJpc0Zha2VzcG90Iiwicm93cyIsIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OIiwiY2FyZCIsIlRPUF9TSVRFU19TUE9OU09SRURfSU1QUkVTU0lPTl9TVEFUUyIsImFkdmVydGlzZXIiLCJwb3MiLCJEaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMiLCJ3aW5kb3dfaW5uZXJfd2lkdGgiLCJpbm5lcldpZHRoIiwid2luZG93X2lubmVyX2hlaWdodCIsImlubmVySGVpZ2h0IiwidGlsZXMiLCJsaW5rIiwiY2F0ZWdvcnkiLCJmZWF0dXJlcyIsImNsYXNzX25hbWVzIiwibGF5b3V0X25hbWUiLCJzZWN0aW9uTGF5b3V0TmFtZSIsIl9uZWVkc0xvYWRlZENvbnRlbnQiLCJsb2FkZWRDb250ZW50R3VpZHMiLCJfZGlzcGF0Y2hMb2FkZWRDb250ZW50IiwiRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCIsInNldEltcHJlc3Npb25PYnNlcnZlck9yQWRkTGlzdGVuZXIiLCJ2aXNpYmlsaXR5U3RhdGUiLCJzZXRJbXByZXNzaW9uT2JzZXJ2ZXIiLCJfb25WaXNpYmlsaXR5Q2hhbmdlIiwiX2hhbmRsZUludGVyc2VjdCIsInNvbWUiLCJpbnRlcnNlY3Rpb25SYXRpbyIsImltcHJlc3Npb25PYnNlcnZlciIsInJlZnMiLCJTYWZlQW5jaG9yIiwiYWx0S2V5IiwiT1BFTl9MSU5LIiwiY3VycmVudFRhcmdldCIsImlzX3Nwb25zb3JlZCIsImlzU3BvbnNvcmVkIiwib25MaW5rQ2xpY2siLCJzYWZlVVJJIiwicHJvdG9jb2wiLCJVUkwiLCJpc0FsbG93ZWQiLCJjb25zb2xlIiwid2FybiIsImFuY2hvciIsInNldFJlZiIsIkZsdWVudE9yVGV4dCIsIm1lc3NhZ2UiLCJjaGlsZCIsIkNoaWxkcmVuIiwib25seSIsImdyYW5kQ2hpbGRyZW4iLCJleHRyYVByb3BzIiwiYXJncyIsImNhcmRDb250ZXh0VHlwZXMiLCJDU1NUcmFuc2l0aW9uIiwiVHJhbnNpdGlvbkdyb3VwIiwiQU5JTUFUSU9OX0RVUkFUSU9OIiwiRFNNZXNzYWdlTGFiZWwiLCJjb250ZXh0X3R5cGUiLCJtYXlIYXZlU2VjdGlvbnNDYXJkcyIsImZsdWVudElEIiwidGltZW91dCIsIlN0YXR1c01lc3NhZ2UiLCJTcG9uc29yTGFiZWwiLCJzcG9uc29yZWRfYnlfb3ZlcnJpZGUiLCJzcG9uc29yIiwibmV3U3BvbnNvcmVkTGFiZWwiLCJEU0NvbnRleHRGb290ZXIiLCJjdGFfYnV0dG9uX3ZhcmlhbnQiLCJzcG9uc29yTGFiZWwiLCJkc01lc3NhZ2VMYWJlbCIsIkRTTWVzc2FnZUZvb3RlciIsIkRTVGh1bWJzVXBEb3duQnV0dG9ucyIsIm9uVGh1bWJzVXBDbGljayIsIm9uVGh1bWJzRG93bkNsaWNrIiwiaXNUaHVtYnNVcEFjdGl2ZSIsImlzVGh1bWJzRG93bkFjdGl2ZSIsInJlZmluZWRDYXJkc0xheW91dCIsInRodW1ic0J1dHRvbnMiLCJpY29uc3JjIiwiUkVBRElOR19XUE0iLCJQUkVGX09IVFRQX01FUklOTyIsIlBSRUZfT0hUVFBfVU5JRklFRF9BRFMiLCJQUkVGX0ZBVklDT05TX0VOQUJMRUQiLCJyZWFkVGltZUZyb21Xb3JkQ291bnQiLCJ3b3JkQ291bnQiLCJjZWlsIiwicGFyc2VJbnQiLCJEU1NvdXJjZSIsInRpbWVUb1JlYWQiLCJpY29uX3NyYyIsImZhdmljb25TaXplIiwiRGVmYXVsdE1ldGEiLCJleGNlcnB0IiwiY3RhQnV0dG9uVmFyaWFudCIsIm1heUhhdmVUaHVtYnNVcERvd24iLCJpc0xpc3RDYXJkIiwiaXNTZWN0aW9uc0NhcmQiLCJzaG93VG9waWNzIiwic2hvdWxkSGF2ZVRodW1icyIsInNob3VsZEhhdmVGb290ZXJTZWN0aW9uIiwiX0RTQ2FyZCIsImRvZXNMaW5rVG9waWNNYXRjaFNlbGVjdGVkVG9waWMiLCJzZXRDb250ZXh0TWVudUJ1dHRvbkhvc3RSZWYiLCJlbGVtZW50IiwiY29udGV4dE1lbnVCdXR0b25Ib3N0RWxlbWVudCIsInNldFBsYWNlaG9sZGVyUmVmIiwicGxhY2Vob2xkZXJFbGVtZW50IiwiaXNTZWVuIiwiQXBwIiwiaXNGb3JTdGFydHVwQ2FjaGUiLCJzdGFuZGFyZENhcmRJbWFnZVNpemVzIiwibGlzdENhcmRJbWFnZVNpemVzIiwic2VjdGlvbnNDYXJkSW1hZ2VzU2l6ZXMiLCJzbWFsbCIsIm1lZGl1bSIsImxhcmdlIiwic2VjdGlvbnNDb2x1bW5NZWRpYU1hdGNoZXIiLCJnZXRTZWN0aW9uSW1hZ2VTaXplIiwiY2FyZEltYWdlU2l6ZSIsInNlbGVjdGVkVG9waWNzIiwiYXZhaWxhYmxlVG9waWNzIiwibWF0Y2hlc1NlbGVjdGVkVG9waWMiLCJwcm9kdWN0X2lkIiwiY2xpY2siLCJtYXRjaGVzX3NlbGVjdGVkX3RvcGljIiwic2VjdGlvbnNDbGFzc05hbWVzIiwic2VjdGlvblBvc2l0aW9uIiwic2VjdGlvbkZvbGxvd2VkIiwiY3VycmVudFN0YXRlIiwidGh1bWJzX3VwIiwidGh1bWJzX2Rvd24iLCJPbmx5VG9PbmVDb250ZW50IiwiU0hPV19UT0FTVF9NRVNTQUdFIiwic2hvd05vdGlmaWNhdGlvbnMiLCJ0b2FzdElkIiwic3BvY0RhdGEiLCJibG9ja1VybE9wdGlvbiIsIkJsb2NrVXJsIiwiZHNMaW5rTWVudUhvc3REaXYiLCJsMTBuIiwidHJhbnNsYXRlRnJhZ21lbnQiLCJzY3JvbGxNYXhYIiwib25TZWVuIiwiZ2V0UmF3SW1hZ2VTcmMiLCJyYXdJbWFnZVNyYyIsInJhd19pbWFnZV9zcmMiLCJnZXRGYXZpY29uU3JjIiwiZmF2aWNvblNyYyIsImZhdmljb25FbmFibGVkIiwib2h0dHBFbmFibGVkIiwib2h0dHBJbWFnZXNFbmFibGVkIiwib2h0dHBJbWFnZXNDb25maWciLCJpbmNsdWRlVG9wU3Rvcmllc1NlY3Rpb24iLCJub25QZXJzb25hbGl6ZWRTZWN0aW9ucyIsInNlY3Rpb25QZXJzb25hbGl6ZWQiLCJyZW5kZXJJbWFnZSIsImltYWdlX3NyYyIsInJlbmRlclNlY3Rpb25DYXJkSW1hZ2VzIiwic2VjdGlvbnNDYXJkSW1hZ2VTaXplcyIsImNvbHVtbnMiLCJpbWFnZXMiLCJpbWFnZSIsInJlZmluZWRDYXJkc0NsYXNzTmFtZSIsInBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXJDbGFzc05hbWUiLCJwbGFjZWhvbGRlckVsZW1lbnRzIiwicHVibGlzaGVyIiwiaG9zdG5hbWUiLCJoaWRlRGVzY3JpcHRpb25zIiwiY29tcGFjdEltYWdlcyIsImltYWdlR3JhZGllbnQiLCJ0aXRsZUxpbmVzIiwiZGVzY0xpbmVzIiwicmVhZFRpbWUiLCJkaXNwbGF5UmVhZFRpbWUiLCJ0aW1lX3RvX3JlYWQiLCJ3b3JkX2NvdW50IiwiY3RhQnV0dG9uRW5hYmxlZCIsImN0YUJ1dHRvblNwb25zb3JzIiwidG9Mb3dlckNhc2UiLCJjdGFCdXR0b25WYXJpYW50Q2xhc3NOYW1lIiwiY3RhQnV0dG9uQ2xhc3NOYW1lIiwiY29tcGFjdEltYWdlc0NsYXNzTmFtZSIsImltYWdlR3JhZGllbnRDbGFzc05hbWUiLCJsaXN0Q2FyZENsYXNzTmFtZSIsImZha2VzcG90Q2xhc3NOYW1lIiwic2VjdGlvbnNDYXJkc0NsYXNzTmFtZSIsInRpdGxlTGluZXNOYW1lIiwiZGVzY0xpbmVzQ2xhc3NOYW1lIiwiaXNNZWRpdW1SZWN0YW5nbGUiLCJzcG9jRm9ybWF0Q2xhc3NOYW1lIiwidW5kZWZpbmVkIiwic2hvd1ByaXZhY3lJbmZvIiwiYmxvY2tfa2V5IiwiRFNDYXJkIiwiUGxhY2Vob2xkZXJEU0NhcmQiLCJEU0VtcHR5U3RhdGUiLCJvblJlc2V0IiwiY2xlYXJUaW1lb3V0IiwiRElTQ09WRVJZX1NUUkVBTV9GRUVEX1VQREFURSIsInN0YXR1cyIsIndhaXRpbmciLCJESVNDT1ZFUllfU1RSRUFNX1JFVFJZX0ZFRUQiLCJyZW5kZXJCdXR0b24iLCJyZW5kZXJTdGF0ZSIsIl9Ub3BpY3NXaWRnZXQiLCJ1dG1DYW1wYWlnbiIsInV0bUNvbnRlbnQiLCJ1dG1Tb3VyY2UiLCJleHBlcmltZW50RGF0YSIsInF1ZXJ5UGFyYW1zIiwidG9waWNzIiwicG9zaXRpb25JbkNhcmQiLCJwb3NpdGlvbl9pbl9jYXJkIiwibWFwVG9waWNJdGVtIiwib3ZlcmZsb3ciLCJUb3BpY3NXaWRnZXQiLCJ1c2VTdGF0ZSIsInVzZVNlbGVjdG9yIiwiUFJFRl9MSVNURkVFRF9USVRMRSIsIlBSRUZfRkFLRVNQT1RfQ0FURUdST1kiLCJQUkVGX0ZBS0VTUE9UX0ZPT1RFUiIsIlBSRUZfRkFLRVNQT1RfQ1RBX0NPUFkiLCJQUkVGX0ZBS0VTUE9UX0NUQV9VUkwiLCJMaXN0RmVlZCIsInJlY3MiLCJjYXRlZ29yaWVzIiwic2VsZWN0ZWRGYWtlc3BvdEZlZWQiLCJzZXRTZWxlY3RlZEZha2VzcG90RmVlZCIsImxpc3RGZWVkVGl0bGUiLCJjYXRlZ29yeVRpdGxlIiwiZm9vdGVyQ29weSIsImN0YUNvcHkiLCJjdGFVcmwiLCJsaXN0RmVlZFJlY3MiLCJyZWMiLCJoYW5kbGVDdGFDbGljayIsImhhbmRsZUNoYW5nZSIsImNvbnRleHRNZW51T3B0aW9ucyIsImxpc3RMZW5ndGgiLCJmdWxsTGlzdCIsInNsaWNlIiwiZG9tYWluIiwiQWRCYW5uZXJDb250ZXh0TWVudSIsInNob3dBZFJlcG9ydGluZyIsInRvZ2dsZUFjdGl2ZSIsIkFEQkFOTkVSX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwic2V0U2hvd0NvbnRleHRNZW51IiwiY29udGV4dE1lbnVDbGFzc05hbWVzIiwic2V0Q29udGV4dE1lbnVDbGFzc05hbWVzIiwiaXNLZXlib2FyZEFjY2VzcyIsInNldElzS2V5Ym9hcmRBY2Nlc3MiLCJ0b2dnbGVDb250ZXh0TWVudVN0eWxlU3dpdGNoIiwiY29udGV4dE1lbnVPcGVuIiwidG9nZ2xlQ29udGV4dE1lbnUiLCJpc19wb2NrZXRfY2FyZCIsInBlcnNvbmFsaXphdGlvbl9tb2RlbHMiLCJwcmlvcml0eSIsInNjb3JlIiwidXNlRGlzcGF0Y2giLCJQUkVGX1BST01PX0NBUkRfRElTTUlTU0VEIiwiUHJvbW9DYXJkIiwib25DdGFDbGljayIsIkFsc29Ub01haW4iLCJQUk9NT19DQVJEX0NMSUNLIiwib25EaXNtaXNzQ2xpY2siLCJQUk9NT19DQVJEX0RJU01JU1MiLCJoYW5kbGVJbnRlcnNlY3Rpb24iLCJQUk9NT19DQVJEX0lNUFJFU1NJT04iLCJyZWwiLCJQUkVGX1BST01PQ0FSRF9FTkFCTEVEIiwiUFJFRl9QUk9NT0NBUkRfVklTSUJMRSIsIkFkQmFubmVyIiwiZ2V0RGltZW5zaW9ucyIsInByb21vQ2FyZEVuYWJsZWQiLCJtZW51QWN0aXZlIiwic2V0TWVudUFjdGl2ZSIsImFkQmFubmVyV3JhcHBlckNsYXNzTmFtZSIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiYWN0aXZlIiwiY2xhbXBlZFJvdyIsImdyaWRSb3ciLCJQUkVGX1RSRU5ESU5HX1ZBUklBTlQiLCJQUkVGX1JFRklORURfQ0FSRFNfTEFZT1VUIiwiVHJlbmRpbmdTZWFyY2hlcyIsIlRyZW5kaW5nU2VhcmNoIiwidmFyaWFudCIsInJlZmluZWRDYXJkcyIsInJlc3VsdFJlZiIsImNvbnRleHRNZW51SG9zdCIsIlRSRU5ESU5HX1NFQVJDSF9DT05URVhUX01FTlVfT1BUSU9OUyIsIm9uQXJyb3dDbGljayIsIlRSRU5ESU5HX1NFQVJDSF9UT0dHTEVfQ09MTEFQU0UiLCJoYW5kbGVMaW5rT3BlbiIsIlRSRU5ESU5HX1NFQVJDSF9TVUdHRVNUSU9OX09QRU4iLCJoYW5kbGVDb250ZXh0TWVudVNob3ciLCJob3N0IiwiaXNSVEwiLCJkaXIiLCJjaGVja1JlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtYXhCb3VuZHMiLCJjaGVja0JvdW5kcyIsImxlZnQiLCJyaWdodCIsImhhbmRsZUNvbnRleHRNZW51VXBkYXRlIiwib25Db250ZXh0TWVudUNsaWNrIiwib25Db250ZXh0TWVudUtleURvd24iLCJoYW5kbGVSZXN1bHRLZXlEb3duIiwibWF4UmVzdWx0cyIsIm5leHRJbmRleCIsIlRSRU5ESU5HX1NFQVJDSF9JTVBSRVNTSU9OIiwicmVzdWx0Iiwic2VhcmNoVXJsIiwibG93ZXJDYXNlU3VnZ2VzdGlvbiIsImRlc2NyaXB0aW9uIiwiUFJFRl9TRUNUSU9OU19DQVJEU19FTkFCTEVEIiwiUFJFRl9USFVNQlNfVVBfRE9XTl9FTkFCTEVEIiwiUFJFRl9UT1BJQ1NfRU5BQkxFRCIsIlBSRUZfVE9QSUNTX1NFTEVDVEVEIiwiUFJFRl9UT1BJQ1NfQVZBSUxBQkxFIiwiUFJFRl9TUE9DU19TVEFSVFVQQ0FDSEVfRU5BQkxFRCIsIlBSRUZfTElTVF9GRUVEX0VOQUJMRUQiLCJQUkVGX0xJU1RfRkVFRF9TRUxFQ1RFRF9GRUVEIiwiUFJFRl9GQUtFU1BPVF9FTkFCTEVEIiwiUFJFRl9CSUxMQk9BUkRfRU5BQkxFRCIsIlBSRUZfQklMTEJPQVJEX1BPU0lUSU9OIiwiUFJFRl9MRUFERVJCT0FSRF9FTkFCTEVEIiwiUFJFRl9MRUFERVJCT0FSRF9QT1NJVElPTiIsIlBSRUZfVFJFTkRJTkdfU0VBUkNIIiwiUFJFRl9UUkVORElOR19TRUFSQ0hfU1lTVEVNIiwiUFJFRl9TRUFSQ0hfRU5HSU5FIiwiUFJFRl9UUkVORElOR19TRUFSQ0hfVkFSSUFOVCIsIldJREdFVF9JRFMiLCJUT1BJQ1MiLCJEU1N1YkhlYWRlciIsIm9uSW50ZXJzZWN0aW5nIiwiaW50ZXJzZWN0aW9uRWxlbWVudCIsIl9DYXJkR3JpZCIsInJlbmRlckNhcmRzIiwid2lkZ2V0cyIsInRvcGljc0xvYWRpbmciLCJzcG9jc1N0YXJ0dXBDYWNoZUVuYWJsZWQiLCJsaXN0RmVlZEVuYWJsZWQiLCJsaXN0RmVlZFNlbGVjdGVkRmVlZCIsImJpbGxib2FyZEVuYWJsZWQiLCJ0cmVuZGluZ0VuYWJsZWQiLCJ0cmVuZGluZ1ZhcmlhbnQiLCJmZWVkTmFtZSIsImlzVGltZVNlbnNpdGl2ZSIsInBvc2l0aW9ucyIsInBvc2l0aW9uSW5kZXgiLCJ3aWRnZXQiLCJ3aWRnZXRDb21wb25lbnQiLCJmYWtlc3BvdEVuYWJsZWQiLCJyZW5kZXJMaXN0RmVlZCIsImZpcnN0U3BvY1Bvc2l0aW9uIiwic3BvY1Bvc2l0aW9ucyIsInNwb2NUb1JlbmRlciIsImJsb2NrZWQiLCJkaXNwbGF5Q2FyZHNQZXJSb3ciLCJpbmplY3RBZEJhbm5lciIsImJhbm5lckluZGV4IiwiZ2V0QmFubmVySW5kZXgiLCJjYXJkc1BlclJvdyIsImdyaWRDbGFzc05hbWUiLCJyZW5kZXJHcmlkQ2xhc3NOYW1lIiwiU2V0IiwibGlzdEZlZWQiLCJoeWJyaWRMYXlvdXQiLCJoaWRlQ2FyZEJhY2tncm91bmQiLCJmb3VyQ2FyZExheW91dCIsImNvbXBhY3RHcmlkIiwiaGlkZUNhcmRCYWNrZ3JvdW5kQ2xhc3MiLCJmb3VyQ2FyZExheW91dENsYXNzIiwiaGlkZURlc2NyaXB0aW9uc0NsYXNzTmFtZSIsImNvbXBhY3RHcmlkQ2xhc3NOYW1lIiwiaHlicmlkTGF5b3V0Q2xhc3NOYW1lIiwiaXNFbXB0eSIsIkNhcmRHcmlkIiwiQTExeUxpbmtCdXR0b24iLCJFcnJvckJvdW5kYXJ5RmFsbGJhY2siLCJyZWxvYWQiLCJkZWZhdWx0Q2xhc3MiLCJFcnJvckJvdW5kYXJ5IiwiaGFzRXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsIkZhbGxiYWNrQ29tcG9uZW50IiwiX0NvbGxhcHNpYmxlU2VjdGlvbiIsIm9uQm9keU1vdW50Iiwib25NZW51QnV0dG9uTW91c2VFbnRlciIsIm9uTWVudUJ1dHRvbk1vdXNlTGVhdmUiLCJzZXRDb250ZXh0TWVudUJ1dHRvblJlZiIsImhhbmRsZVRvcGljU2VsZWN0aW9uQnV0dG9uQ2xpY2siLCJtZW51QnV0dG9uSG92ZXIiLCJjb250ZXh0TWVudUJ1dHRvblJlZiIsIm5vZGUiLCJzZWN0aW9uQm9keSIsIm1heWJlRGlzcGxheSIsIlRPUElDX1NFTEVDVElPTl9VU0VSX09QRU4iLCJCcm9hZGNhc3RUb0NvbnRlbnQiLCJUT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX09QRU4iLCJpc0FuaW1hdGluZyIsIm1heEhlaWdodCIsInN1YlRpdGxlIiwibWF5SGF2ZVRvcGljc1NlbGVjdGlvbiIsImJvZHlTdHlsZSIsImRpc3BsYXkiLCJ0aXRsZVN0eWxlIiwiaGlkZVRpdGxlIiwidmlzaWJpbGl0eSIsImhhc1N1YnRpdGxlQ2xhc3NOYW1lIiwiaGFzQmVlblVwZGF0ZWRQcmV2aW91c2x5IiwidG9waWNzSGF2ZUJlZW5QcmV2aW91c2x5U2V0IiwiQ29sbGFwc2libGVTZWN0aW9uIiwiRFNNZXNzYWdlIiwiYmFja2dyb3VuZEltYWdlIiwibGlua190ZXh0IiwibGlua191cmwiLCJSZXBvcnRDb250ZW50IiwibW9kYWwiLCJyYWRpb0dyb3VwUmVmIiwic3VibWl0QnV0dG9uUmVmIiwicmVwb3J0IiwidmFsdWVTZWxlY3RlZCIsInNldFZhbHVlU2VsZWN0ZWQiLCJzZWxlY3RlZFJlYXNvbiIsInNldFNlbGVjdGVkUmVhc29uIiwiaGFuZGxlQ2FuY2VsIiwiUkVQT1JUX0NMT1NFIiwiaGFuZGxlU3VibWl0IiwicmVwb3J0aW5nX3VybCIsIlJFUE9SVF9DT05URU5UX1NVQk1JVCIsInJlcG9ydF9yZWFzb24iLCJnZXRQbGFjZW1lbnRJZCIsInBsYWNlbWVudElkIiwic3BvY0xpc3QiLCJwbGFjZW1lbnRfaWQiLCJSRVBPUlRfQURfU1VCTUlUIiwiQkxPQ0tfVVJMIiwic2hvd01vZGFsIiwicmFkaW9Hcm91cCIsInNlbGVjdGVkUmFkaW9CdXR0b24iLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlQXR0cmlidXRlIiwib3BlbiIsImNsb3NlIiwic3VibWl0QnV0dG9uIiwiaGFuZGxlUmFkaW9DaGFuZ2UiLCJyZWFzb25WYWx1ZSIsInVwZGF0ZVN1Ym1pdFN0YXRlIiwic2V0QXR0cmlidXRlIiwib25DbG9zZSIsIkRTU2lnbnVwIiwibGFzdEl0ZW0iLCJvbk1lbnVCdXR0b25VcGRhdGUiLCJuZXh0QW5pbWF0aW9uRnJhbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIlNJR05VUF9DT05URVhUX01FTlVfT1BUSU9OUyIsIm91dGVyQ2xhc3NOYW1lIiwidiIsIkRTRGlzbWlzcyIsIm9uSG92ZXIiLCJvZmZIb3ZlciIsImhvdmVyaW5nIiwiZXh0cmFDbGFzc2VzIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiRFNUZXh0UHJvbW8iLCJjdGEiLCJTY3JlZW5zaG90VXRpbHMiLCJnSW1hZ2VMb2FkaW5nIiwiTWFwIiwiX0NhcmQiLCJhY3RpdmVDYXJkIiwiaW1hZ2VMb2FkZWQiLCJjYXJkSW1hZ2UiLCJtYXliZUxvYWRJbWFnZSIsImltYWdlVXJsIiwibG9hZGVyUHJvbWlzZSIsInJlamVjdCIsImxvYWRlciIsIkltYWdlIiwic2V0IiwiY2F0Y2giLCJleCIsInRoZW4iLCJkZWxldGUiLCJnZXQiLCJpc1JlbW90ZUltYWdlTG9jYWwiLCJnZXROZXh0U3RhdGVGcm9tUHJvcHMiLCJuZXh0UHJvcHMiLCJwcmV2U3RhdGUiLCJpbWFnZUluU3RhdGUiLCJuZXh0U3RhdGUiLCJtYXliZVJldm9rZUJsb2JPYmplY3RVUkwiLCJjcmVhdGVMb2NhbEltYWdlT2JqZWN0IiwiaXNPcGVuIiwiX2dldFRlbGVtZXRyeUluZm8iLCJPUEVOX0RPV05MT0FEX0ZJTEUiLCJpc1dlYkV4dGVuc2lvbiIsIldlYkV4dEV2ZW50IiwiV0VCRVhUX0NMSUNLIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsImlzQ29udGV4dE1lbnVPcGVuIiwiaGFzSW1hZ2UiLCJpbWFnZVN0eWxlIiwib3Blbl91cmwiLCJDYXJkIiwiUGxhY2Vob2xkZXJDYXJkIiwicGVyZlNlcnZpY2UiLCJwZXJmU3ZjIiwiUkVDT1JERURfU0VDVElPTlMiLCJDb21wb25lbnRQZXJmVGltZXIiLCJDb21wb25lbnQiLCJfc2VuZEJhZFN0YXRlRXZlbnQiLCJfc2VuZFBhaW50ZWRFdmVudCIsIl9yZXBvcnRNaXNzaW5nRGF0YSIsIl90aW1lc3RhbXBIYW5kbGVkIiwiX3JlY29yZGVkRmlyc3RSZW5kZXIiLCJfbWF5YmVTZW5kUGFpbnRlZEV2ZW50IiwiX2FmdGVyRnJhbWVQYWludCIsIl9tYXliZVNlbmRCYWRTdGF0ZUV2ZW50IiwiX2Vuc3VyZUZpcnN0UmVuZGVyVHNSZWNvcmRlZCIsIm1hcmsiLCJkYXRhUmVhZHlLZXkiLCJmaXJzdFJlbmRlcktleSIsImdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUiLCJTQVZFX1NFU1NJT05fUEVSRl9EQVRBIiwiTW9yZVJlY29tbWVuZGF0aW9ucyIsInJlYWRfbW9yZV9lbmRwb2ludCIsIk1vZGFsT3ZlcmxheVdyYXBwZXIiLCJ1bnN0eWxlZCIsImlubmVyQ2xhc3NOYW1lIiwiaGVhZGVySWQiLCJtb2RhbFJlZiIsIlNlbGVjdGFibGVTZWFyY2hTaG9ydGN1dCIsInNob3J0Y3V0Iiwic2VsZWN0ZWQiLCJ0aXBweVRvcEljb24iLCJrZXl3b3JkIiwiU2VhcmNoU2hvcnRjdXRzRm9ybSIsIm9uQ2FuY2VsQnV0dG9uQ2xpY2siLCJvblNhdmVCdXR0b25DbGljayIsInNob3J0Y3V0cyIsInNlYXJjaFNob3J0Y3V0cyIsIlRvcFNpdGVzIiwiaXNTZWxlY3RlZCIsImlzUGlubmVkIiwidGFyZ2V0TmFtZSIsImV2IiwicGluUXVldWUiLCJ1bnBpblF1ZXVlIiwiYWxyZWFkeVBpbm5lZCIsIl9zZWFyY2hUb3BTaXRlIiwic2VhcmNoVmVuZG9yIiwic2hvcnRVUkwiLCJVUERBVEVfUElOTkVEX1NFQVJDSF9TSE9SVENVVFMiLCJhZGRlZFNob3J0Y3V0cyIsImRlbGV0ZWRTaG9ydGN1dHMiLCJzZWFyY2hfdmVuZG9yIiwiVG9wU2l0ZUZvcm1JbnB1dCIsInZhbGlkYXRpb25FcnJvciIsIm9uTW91bnQiLCJvbkNsZWFySWNvblByZXNzIiwic2hvdWxkRm9jdXMiLCJpbnB1dCIsIm9uQ2xlYXIiLCJyZW5kZXJMb2FkaW5nT3JDbG9zZUJ1dHRvbiIsInNob3dDbGVhckJ1dHRvbiIsIm9uS2V5UHJlc3MiLCJ0eXBlVXJsIiwidGl0bGVJZCIsInBsYWNlaG9sZGVySWQiLCJhdXRvRm9jdXMiLCJhdXRvRm9jdXNPbk9wZW4iLCJlcnJvck1lc3NhZ2VJZCIsIlRvcFNpdGVJbXByZXNzaW9uV3JhcHBlciIsImFjdGlvblR5cGUiLCJ0aWxlIiwidG9wc2l0ZV9pbXByZXNzaW9uX3dyYXBwZXIiLCJNZXNzYWdlV3JhcHBlciIsImhpZGRlbk92ZXJyaWRlIiwib25EaXNtaXNzIiwiTWVzc2FnZXMiLCJzZXRJc0ludGVyc2VjdGluZyIsInRhYklzVmlzaWJsZSIsInNldFRhYklzVmlzaWJsZSIsImhhc1J1biIsInNldEhhc1J1biIsIm1lc3NhZ2VEYXRhIiwiTUVTU0FHRV9JTVBSRVNTSU9OIiwiaXNWaXNpYmxlIiwiTUVTU0FHRV9OT1RJRllfVklTSUJJTElUWSIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJoYW5kbGVDbG9zZSIsIk1FU1NBR0VfVE9HR0xFX1ZJU0lCSUxJVFkiLCJwb3J0SUQiLCJoYW5kbGVEaXNtaXNzIiwiTUVTU0FHRV9ESVNNSVNTIiwiaGFuZGxlQmxvY2siLCJNRVNTQUdFX0JMT0NLIiwiZWxlbWVudElkIiwiTUVTU0FHRV9DTElDSyIsIkZlYXR1cmVIaWdobGlnaHQiLCJ0b2dnbGUiLCJhcnJvd1Bvc2l0aW9uIiwidmVydGljYWxQb3NpdGlvbiIsImFyaWFMYWJlbCIsImZlYXR1cmUiLCJnbG9iYWwiLCJvcGVuZWRPdmVycmlkZSIsInNob3dCdXR0b25JY29uIiwiZGlzbWlzc0NhbGxiYWNrIiwib3V0c2lkZUNsaWNrQ2FsbGJhY2siLCJtb2RhbENsYXNzTmFtZSIsIm9wZW5lZCIsInNldE9wZW5lZCIsImhhbmRsZU91dHNpZGVDbGljayIsImNvbnRhaW5zIiwiaGFuZGxlS2V5RG93biIsIm9uVG9nZ2xlQ2xpY2siLCJoaWRlQnV0dG9uQ2xhc3MiLCJvcGVuZWRDbGFzc25hbWUiLCJTaG9ydGN1dEZlYXR1cmVIaWdobGlnaHQiLCJNSU5fUklDSF9GQVZJQ09OX1NJWkUiLCJNSU5fU01BTExfRkFWSUNPTl9TSVpFIiwiVE9QX1NJVEVTX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJUT1BfU0lURVNfU1BPTlNPUkVEX1BPU0lUSU9OX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiVE9QX1NJVEVTX1NFQVJDSF9TSE9SVENVVFNfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1ciLCJTUE9DX1RZUEUiLCJORVdUQUJfU09VUkNFIiwiVG9wU2l0ZUxpbmsiLCJzY3JlZW5zaG90SW1hZ2UiLCJvbkRyYWdFdmVudCIsInNob3VsZFNob3dPTUNIaWdobGlnaHQiLCJfYWxsb3dEcm9wIiwiZHJhZ2dlZCIsImRhdGFUcmFuc2ZlciIsInR5cGVzIiwiYmx1ciIsImVmZmVjdEFsbG93ZWQiLCJzZXREYXRhIiwic2NyZWVuc2hvdCIsImlzQWRkQnV0dG9uIiwiZ2VuZXJhdGVDb2xvciIsImNvbG9yQXJyYXkiLCJjYWxjdWxhdGVTdHlsZSIsImRlZmF1bHRTdHlsZSIsImltYWdlQ2xhc3NOYW1lIiwic2hvd1NtYWxsRmF2aWNvbiIsInNtYWxsRmF2aWNvblN0eWxlIiwiaGFzU2NyZWVuc2hvdEltYWdlIiwic2VsZWN0ZWRDb2xvciIsImJhY2tncm91bmRDb2xvciIsImN1c3RvbVNjcmVlbnNob3RVUkwiLCJmYXZpY29uIiwiY29tcG9uZW50SWQiLCJjb250ZW50IiwibWVzc2FnZVR5cGUiLCJpc0RyYWdnYWJsZSIsInRvcFNpdGVPdXRlckNsYXNzTmFtZSIsImlzRHJhZ2dlZCIsImxldHRlckZhbGxiYWNrIiwiYWRkQnV0dG9uTGFiZWxsMTBuIiwiYWRkQnV0dG9uVGl0bGVsMTBuIiwiYWRkUGlubmVkVGl0bGVsMTBuIiwiZHJhZ2dhYmxlUHJvcHMiLCJvbkRyYWdFbmQiLCJvbkRyYWdTdGFydCIsIm9uTW91c2VEb3duIiwiaW1wcmVzc2lvblN0YXRzIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJzcG9uc29yZWRfdGlsZV9pZCIsInNwb25zb3JlZF9pbXByZXNzaW9uX3VybCIsIlRPUF9TSVRFU19PUkdBTklDX0lNUFJFU1NJT05fU1RBVFMiLCJvbkRyb3AiLCJvbkRyYWdPdmVyIiwib25EcmFnRW50ZXIiLCJvbkRyYWdMZWF2ZSIsImRyYWdnYWJsZSIsInNob3dfc3BvbnNvcmVkX2xhYmVsIiwiVG9wU2l0ZSIsImljb25fdHlwZSIsImljb25UeXBlIiwic3BvbnNvcmVkX2NsaWNrX3VybCIsInNlbmRBdHRyaWJ1dGlvblJlcXVlc3QiLCJQQVJUTkVSX0xJTktfQVRUUklCVVRJT04iLCJ0YXJnZXRVUkwiLCJGSUxMX1NFQVJDSF9URVJNIiwib25BY3RpdmF0ZSIsImFjdGl2ZUluZGV4IiwibWVudU9wdGlvbnMiLCJzZXRQcmVmIiwiVG9wU2l0ZUFkZEJ1dHRvbiIsIm9uRWRpdEJ1dHRvbkNsaWNrIiwiVE9QX1NJVEVTX0VESVQiLCJUb3BTaXRlUGxhY2Vob2xkZXIiLCJfVG9wU2l0ZUxpc3QiLCJERUZBVUxUX1NUQVRFIiwiZHJhZ2dlZEluZGV4IiwiZHJhZ2dlZFNpdGUiLCJkcmFnZ2VkVGl0bGUiLCJ0b3BTaXRlc1ByZXZpZXciLCJmb2N1c2VkSW5kZXgiLCJvbldyYXBwZXJGb2N1cyIsIm9uVG9wc2l0ZUZvY3VzIiwib25XcmFwcGVyQmx1ciIsInByZXZUb3BTaXRlcyIsIm5ld1RvcFNpdGVzIiwiZHJvcHBlZCIsIl9tYWtlVG9wU2l0ZXNQcmV2aWV3IiwiVE9QX1NJVEVTX0lOU0VSVCIsImRyYWdnZWRGcm9tSW5kZXgiLCJfZ2V0VG9wU2l0ZXMiLCJ0b3BTaXRlcyIsIlRvcFNpdGVzUm93cyIsImZpcnN0UGxhY2Vob2xkZXIiLCJmaW5kSW5kZXgiLCJpcyIsInByZXZpZXciLCJ1bnBpbm5lZCIsInNpdGVUb0luc2VydCIsImhvbGVJbmRleCIsImluZGV4U3RlcCIsInNoaWZ0aW5nU3RlcCIsInNoaWZ0IiwiZm9jdXNlZFJlZiIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiZm9jdXNSZWYiLCJmb2N1c0luZGV4IiwidG9wU2l0ZXNVSSIsImNvbW1vblByb3BzIiwibWF4TmFycm93VmlzaWJsZUluZGV4IiwibCIsInRvcFNpdGVJY29uVHlwZSIsInNsb3RQcm9wcyIsInRvcFNpdGVMaW5rIiwib25CbHVyIiwiVG9wU2l0ZUxpc3QiLCJUb3BTaXRlRm9ybSIsImN1c3RvbVNjcmVlbnNob3RVcmwiLCJzaG93Q3VzdG9tU2NyZWVuc2hvdEZvcm0iLCJoYXNVUkxDaGFuZ2VkIiwiaGFzVGl0bGVDaGFuZ2VkIiwib25DbGVhclNjcmVlbnNob3RJbnB1dCIsIm9uTGFiZWxDaGFuZ2UiLCJvblVybENoYW5nZSIsIm9uQ2xlYXJVcmxDbGljayIsIm9uRG9uZUJ1dHRvbkNsaWNrIiwib25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlIiwib25QcmV2aWV3QnV0dG9uQ2xpY2siLCJvbkVuYWJsZVNjcmVlbnNob3RVcmxGb3JtIiwidmFsaWRhdGVVcmwiLCJfdXBkYXRlQ3VzdG9tU2NyZWVuc2hvdElucHV0IiwiUFJFVklFV19SRVFVRVNUX0NBTkNFTCIsInZhbGlkYXRlRm9ybSIsImNsZWFuVXJsIiwiaXNFZGl0IiwiVE9QX1NJVEVTX1BJTiIsIlBSRVZJRVdfUkVRVUVTVCIsIl90cnlQYXJzZVVybCIsInZhbGlkUHJvdG9jb2xzIiwidXJsT2JqIiwidmFsaWRhdGVDdXN0b21TY3JlZW5zaG90VXJsIiwidmFsaWRhdGUiLCJfcmVuZGVyQ3VzdG9tU2NyZWVuc2hvdElucHV0IiwicmVxdWVzdEZhaWxlZCIsInByZXZpZXdSZXNwb25zZSIsImlzTG9hZGluZyIsInByZXZpZXdVcmwiLCJzaG93QXNBZGQiLCJwcmV2aW91cyIsImNoYW5nZWQiLCJwcmV2aWV3TW9kZSIsInByZXZpZXdMaW5rIiwiYWRkVG9wc2l0ZXNIZWFkZXJMMTBuSWQiLCJlZGl0VG9wc2l0ZXNIZWFkZXJMMTBuSWQiLCJmYXZpY29uUmVmIiwiY291bnRUb3BTaXRlc0ljb25zVHlwZXMiLCJjb3VudFRvcFNpdGVzVHlwZXMiLCJhY2MiLCJyZWR1Y2UiLCJjdXN0b21fc2NyZWVuc2hvdCIsInRpcHB5dG9wIiwicmljaF9pY29uIiwibm9faW1hZ2UiLCJfVG9wU2l0ZXMiLCJvbkVkaXRGb3JtQ2xvc2UiLCJvblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZSIsIl9kaXNwYXRjaFRvcFNpdGVzU3RhdHMiLCJfZ2V0VmlzaWJsZVRvcFNpdGVzIiwidG9wU2l0ZSIsInRvcFNpdGVzSWNvbnNTdGF0cyIsInRvcFNpdGVzUGlubmVkIiwidG9wc2l0ZXNfaWNvbl9zdGF0cyIsInRvcHNpdGVzX3Bpbm5lZCIsInRvcHNpdGVzX3NlYXJjaF9zaG9ydGN1dHMiLCJzaXRlc1BlclJvdyIsIlRPUF9TSVRFU19DQU5DRUxfRURJVCIsIlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMIiwiZWRpdEZvcm0iLCJzaG93U2VhcmNoU2hvcnRjdXRzRm9ybSIsImV4dHJhTWVudU9wdGlvbnMiLCJzaG93UHJlZk5hbWUiLCJpc0ZpeGVkIiwiaXNGaXJzdCIsImlzTGFzdCIsInRvcFNpdGVzUm93cyIsIkNBUkRTX1BFUl9ST1dfREVGQVVMVCIsIkNBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFIiwiU2VjdGlvbiIsIm51bVJvd3MiLCJyb3dzUHJlZiIsIm1heFJvd3MiLCJjb21wYWN0Q2FyZHMiLCJtYXhDYXJkcyIsIm5lZWRzSW1wcmVzc2lvblN0YXRzIiwic2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIiLCJzZW5kTmV3VGFiUmVoeWRyYXRlZCIsInByZXZQcm9wcyIsIndhc0NvbGxhcHNlZCIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJyZW5kZXJOb3RpZmllZCIsIk5FV19UQUJfUkVIWURSQVRFRCIsImVtcHR5U3RhdGUiLCJsZWFybk1vcmUiLCJwcml2YWN5Tm90aWNlVVJMIiwid2FpdGluZ0ZvclNwb2MiLCJQb2NrZXQiLCJtYXhDYXJkc1BlclJvdyIsIm1heENhcmRzT25OYXJyb3ciLCJzaG91bGRTaG93UmVhZE1vcmUiLCJyZWFsUm93cyIsInNob3VsZFNob3dFbXB0eVN0YXRlIiwidXNlUGxhY2Vob2xkZXIiLCJzZWN0aW9uQ2xhc3NOYW1lIiwicGFkZGluZyIsIlNlY3Rpb25JbnRsIiwiX1NlY3Rpb25zIiwicmVuZGVyU2VjdGlvbnMiLCJlbmFibGVkU2VjdGlvbnMiLCJzZWN0aW9uT3JkZXIiLCJzaG93VG9wU2l0ZXMiLCJleHBlY3RlZENvdW50IiwiX0hpZ2hsaWdodHMiLCJIaWdobGlnaHRzIiwiSG9yaXpvbnRhbFJ1bGUiLCJUb3BpYyIsInRleHQiLCJyZXBsYWNlIiwidG9waWNOYW1lIiwiTmF2aWdhdGlvbiIsImxpbmtzIiwiYWxpZ25tZW50IiwiaGVhZGVyIiwiZW5nbGlzaCIsImxvY2FsZSIsInByaXZhY3lOb3RpY2UiLCJuZXdGb290ZXJTZWN0aW9uIiwiZXh0cmFMaW5rcyIsInQiLCJQcml2YWN5TGluayIsInByb3BlcnRpZXMiLCJTZWN0aW9uVGl0bGUiLCJzdWJ0aXRsZSIsIlNlY3Rpb25Db250ZXh0TWVudSIsImZvbGxvd2luZyIsIlNFQ1RJT05TX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiUFJFRl9WSVNJQkxFX1NFQ1RJT05TIiwiSW50ZXJlc3RQaWNrZXIiLCJpbnRlcmVzdHMiLCJyZWNlaXZlZEZlZWRSYW5rIiwic2V0Rm9jdXNlZEluZGV4IiwidmlzaWJsZVNlY3Rpb25zIiwiSU5MSU5FX1NFTEVDVElPTl9JTVBSRVNTSU9OIiwib25JdGVtRm9jdXMiLCJ1cGRhdGVkU2VjdGlvbnMiLCJpc0ZvbGxvd2VkIiwiZm9sbG93ZWRBdCIsInRvSVNPU3RyaW5nIiwiSU5MSU5FX1NFTEVDVElPTl9DTElDSyIsImlzX2ZvbGxvd2VkIiwidG9waWNfcG9zaXRpb24iLCJTRUNUSU9OX1BFUlNPTkFMSVpBVElPTl9TRVQiLCJpbnRlcmVzdCIsIlBlcnNvbmFsaXplZENhcmQiLCJ3YXZpbmdGb3giLCJTSE9XX1BFUlNPTkFMSVpFIiwiaWNvblNyYyIsImNhcmRUaXRsZSIsImNhcmRNZXNzYWdlIiwiY2xhc3MiLCJjdGFUZXh0IiwibGlua1VybCIsImxpbmtUZXh0IiwiRm9sbG93U2VjdGlvbkJ1dHRvbkhpZ2hsaWdodCIsIkxvY2F0aW9uU2VhcmNoIiwic2VsZWN0ZWRMb2NhdGlvbiIsInNldFNlbGVjdGVkTG9jYXRpb24iLCJzdWdnZXN0ZWRMb2NhdGlvbnMiLCJsb2NhdGlvblNlYXJjaFN0cmluZyIsInVzZXJJbnB1dCIsInNldFVzZXJJbnB1dCIsImlucHV0UmVmIiwiV0VBVEhFUl9MT0NBVElPTl9EQVRBX1VQREFURSIsImNpdHkiLCJsb2NhbGl6ZWRfbmFtZSIsImFkbWluTmFtZSIsImFkbWluaXN0cmF0aXZlX2FyZWEiLCJjb3VudHJ5IiwiV0VBVEhFUl9TRUFSQ0hfQUNUSVZFIiwiV0VBVEhFUl9MT0NBVElPTl9TVUdHRVNUSU9OU19VUERBVEUiLCJtYXRjaCIsIldFQVRIRVJfTE9DQVRJT05fU0VBUkNIX1VQREFURSIsImhhbmRsZUNsb3NlU2VhcmNoIiwibGlzdCIsIm1lcmlub0xjYXRpb24iLCJXZWF0aGVyUGxhY2Vob2xkZXIiLCJzZXRJc1NlZW4iLCJpc1NlZW5DbGFzc05hbWUiLCJfV2VhdGhlciIsImltcHJlc3Npb25TZWVuIiwiZXJyb3JTZWVuIiwic2V0SW1wcmVzc2lvblJlZiIsImltcHJlc3Npb25FbGVtZW50Iiwic2V0RXJyb3JSZWYiLCJlcnJvckVsZW1lbnQiLCJvblByb3ZpZGVyQ2xpY2siLCJzZXRJbXByZXNzaW9uT2JzZXJ2ZXJzIiwib25JbXByZXNzaW9uIiwiV0VBVEhFUl9JTVBSRVNTSU9OIiwiV0VBVEhFUl9MT0FEX0VSUk9SIiwiV0VBVEhFUl9PUEVOX1BST1ZJREVSX1VSTCIsImlzV2VhdGhlckVuYWJsZWQiLCJXRUFUSEVSX1NVR0dFU1RJT04iLCJzZWFyY2hBY3RpdmUiLCJpc0luU2VjdGlvbiIsInNob3dEZXRhaWxlZFZpZXciLCJXRUFUSEVSX1NPVVJDRV9DT05URVhUX01FTlVfT1BUSU9OUyIsIldFQVRIRVJfU09VUkNFX0VSUk9SX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiY29udGV4dE1lbnUiLCJjb250ZXh0T3B0cyIsImZvcmVjYXN0IiwiY3VycmVudF9jb25kaXRpb25zIiwiaWNvbl9pZCIsInRlbXBlcmF0dXJlIiwibG9jYXRpb25EYXRhIiwiaGlnaCIsImxvdyIsInN1bW1hcnkiLCJQUkVGX1NFQ1RJT05TX0NBUkRTX1RIVU1CU19VUF9ET1dOX0VOQUJMRUQiLCJQUkVGX1NFQ1RJT05TX1BFUlNPTkFMSVpBVElPTl9FTkFCTEVEIiwiUFJFRl9JTlRFUkVTVF9QSUNLRVJfRU5BQkxFRCIsIlBSRUZfUkVGSU5FRF9DQVJEU19FTkFCTEVEIiwiUFJFRl9JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fVVNFUiIsImdldExheW91dERhdGEiLCJyZXNwb25zaXZlTGF5b3V0cyIsImxheW91dERhdGEiLCJpbWFnZVNpemVzIiwidGlsZUluZGV4IiwiY29sdW1uQ291bnQiLCJoYXNFeGNlcnB0IiwiZ2V0TWF4VGlsZXMiLCJmbGF0TWFwIiwicmVzcG9uc2l2ZUxheW91dCIsIm1heFRpbGUiLCJwcmVmVG9BcnJheSIsIkNhcmRTZWN0aW9uIiwiYW55U2VjdGlvbnNGb2xsb3dlZCIsInNob3dXZWF0aGVyIiwibWF5SGF2ZVNlY3Rpb25zQ2FyZHNUaHVtYnNVcERvd24iLCJzaG91bGRTaG93VHJlbmRpbmdTZWFyY2giLCJtYXlIYXZlU2VjdGlvbnNQZXJzb25hbGl6YXRpb24iLCJsYXlvdXROYW1lIiwiQ0FSRF9TRUNUSU9OX0lNUFJFU1NJT04iLCJzZWN0aW9uUmVmcyIsIm1heUhhdmVDb21iaW5lZFRodW1ic1VwRG93biIsIm9uRm9sbG93Q2xpY2siLCJ1cGRhdGVkU2VjdGlvbkRhdGEiLCJvblVuZm9sbG93Q2xpY2siLCJkaXNwbGF5U2VjdGlvbnMiLCJpc1NlY3Rpb25FbXB0eSIsInNob3VsZFNob3dMYWJlbHMiLCJzZWN0aW9uQ29udGV4dFdyYXBwZXIiLCJDYXJkU2VjdGlvbnMiLCJ3ZWF0aGVyUGxhY2VtZW50IiwiZGFpbHlCcmllZlNlY3Rpb25JZCIsIndlYXRoZXJFbmFibGVkIiwicGVyc29uYWxpemF0aW9uRW5hYmxlZCIsImludGVyZXN0UGlja2VyRW5hYmxlZCIsImludGVyZXN0UGlja2VyIiwidmlzaWJsZVNlY3Rpb24iLCJmb3VuZCIsInNlY3Rpb25zVG9SZW5kZXIiLCJkaXNwbGF5UDEzbkNhcmQiLCJ1c2VNZW1vIiwiYmF0Y2giLCJUQVNLX1RZUEUiLCJJTl9QUk9HUkVTUyIsIkNPTVBMRVRFRCIsIlVTRVJfQUNUSU9OX1RZUEVTIiwiTElTVF9DT1BZIiwiTElTVF9DUkVBVEUiLCJMSVNUX0VESVQiLCJMSVNUX0RFTEVURSIsIlRBU0tfQ1JFQVRFIiwiVEFTS19FRElUIiwiVEFTS19ERUxFVEUiLCJUQVNLX0NPTVBMRVRFIiwiUFJFRl9XSURHRVRTX0xJU1RTX01BWF9MSVNUUyIsIlBSRUZfV0lER0VUU19MSVNUU19NQVhfTElTVElURU1TIiwiUFJFRl9XSURHRVRTX0xJU1RTX0JBREdFX0VOQUJMRUQiLCJQUkVGX1dJREdFVFNfTElTVFNfQkFER0VfTEFCRUwiLCJMaXN0cyIsImhhbmRsZVVzZXJJbnRlcmFjdGlvbiIsImxpc3RzIiwiTGlzdHNXaWRnZXQiLCJuZXdUYXNrIiwic2V0TmV3VGFzayIsImlzRWRpdGluZyIsInNldElzRWRpdGluZyIsInBlbmRpbmdOZXdMaXN0Iiwic2V0UGVuZGluZ05ld0xpc3QiLCJzZWxlY3RlZExpc3QiLCJwcmV2Q29tcGxldGVkQ291bnQiLCJjb21wbGV0ZWQiLCJzZWxlY3RSZWYiLCJyZW9yZGVyTGlzdFJlZiIsImhhbmRsZUxpc3RJbnRlcmFjdGlvbiIsImlzVmFsaWRVcmwiLCJjYW5QYXJzZSIsIldJREdFVFNfTElTVFNfVVNFUl9JTVBSRVNTSU9OIiwibGlzdHNSZWYiLCJyZW9yZGVyTGlzdHMiLCJkcmFnZ2VkRWxlbWVudCIsInRhcmdldEVsZW1lbnQiLCJiZWZvcmUiLCJ0YXNrcyIsInRhcmdldEluZGV4IiwicmVvcmRlcmVkIiwicmVtb3ZlZCIsImluc2VydEluZGV4IiwidXBkYXRlZExpc3RzIiwiV0lER0VUU19MSVNUU19VUERBVEUiLCJtb3ZlVGFzayIsInRhc2siLCJkaXJlY3Rpb24iLCJ0YXJnZXRUYXNrIiwic2VsZWN0Tm9kZSIsInJlb3JkZXJOb2RlIiwiaGFuZGxlU2VsZWN0Q2hhbmdlIiwiV0lER0VUU19MSVNUU19DSEFOR0VfU0VMRUNURUQiLCJoYW5kbGVSZW9yZGVyIiwiZGV0YWlsIiwic2F2ZVRhc2siLCJ0cmltbWVkVGFzayIsInRyaW1FbmQiLCJmb3JtYXR0ZWRUYXNrIiwiY3JlYXRlZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJpc1VybCIsIldJREdFVFNfTElTVFNfVVNFUl9FVkVOVCIsInVzZXJBY3Rpb24iLCJ1cGRhdGVUYXNrIiwidXBkYXRlZFRhc2siLCJpc0NvbXBsZXRlZFR5cGUiLCJpc05vd0NvbXBsZXRlZCIsIm5ld1Rhc2tzIiwibmV3Q29tcGxldGVkIiwic2hvdWxkTW92ZVRvVGFza3MiLCJzaG91bGRNb3ZlVG9Db21wbGV0ZWQiLCJ0YXJnZXRLZXkiLCJ1cGRhdGVkQXJyYXkiLCJkZWxldGVUYXNrIiwic2VsZWN0ZWRUYXNrcyIsInVwZGF0ZWRUYXNrcyIsImFjdGl2ZUVsZW1lbnQiLCJoYW5kbGVMaXN0TmFtZVNhdmUiLCJuZXdMYWJlbCIsInRyaW1tZWRMYWJlbCIsImhhbmRsZUNyZWF0ZU5ld0xpc3QiLCJuZXdMaXN0cyIsImhhbmRsZUNhbmNlbE5ld0xpc3QiLCJoYW5kbGVEZWxldGVMaXN0IiwibGlzdEtleXMiLCJoYW5kbGVIaWRlTGlzdHMiLCJTRVRfUFJFRiIsImhhbmRsZUNvcHlMaXN0VG9DbGlwYm9hcmQiLCJjdXJyZW50TGlzdCIsInVuY29tcGxldGVkIiwiY3VycmVudENvbXBsZXRlZCIsImZvcm1hdHRlZCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImVyciIsImVycm9yIiwiaGFuZGxlTGVhcm5Nb3JlIiwiZG9uZUNvdW50IiwiY3VycmVudExpc3RzQ291bnQiLCJtYXhMaXN0c0NvdW50IiwiaXNBdE1heExpc3RzTGltaXQiLCJjdXJyZW50U2VsZWN0ZWRMaXN0SXRlbXNDb3VudCIsIm1heExpc3RJdGVtc0NvdW50IiwiaXNBdE1heExpc3RJdGVtc0xpbWl0Iiwic2VsZWN0ZWRJbmRleCIsImxpc3ROYW1lUGxhY2Vob2xkZXIiLCJuaW1idXNCYWRnZUVuYWJsZWQiLCJ3aWRnZXRzQ29uZmlnIiwibGlzdHNCYWRnZUVuYWJsZWQiLCJuaW1idXNCYWRnZUxhYmVsIiwibGlzdHNCYWRnZUxhYmVsIiwibmltYnVzQmFkZ2VUcmFpbmhvcEVuYWJsZWQiLCJuaW1idXNCYWRnZVRyYWluaG9wTGFiZWwiLCJiYWRnZUVuYWJsZWQiLCJiYWRnZUxhYmVsIiwiRWRpdGFibGVUZXh0Iiwib25TYXZlIiwib25DYW5jZWwiLCJtYXhMZW5ndGgiLCJkYXRhTDEwbklkIiwibWVudUlkIiwiaXRlbVNlbGVjdG9yIiwiZHJhZ1NlbGVjdG9yIiwiTGlzdEl0ZW0iLCJudW1iZXIiLCJjb21wbGV0ZWRUYXNrIiwibWVkaWEiLCJleGl0aW5nIiwic2V0RXhpdGluZyIsImlzQ29tcGxldGVkIiwiaGFuZGxlQ2hlY2tib3hDaGFuZ2UiLCJoYW5kbGVUcmFuc2l0aW9uRW5kIiwicHJvcGVydHlOYW1lIiwiaGFuZGxlU2F2ZSIsIm5ld1ZhbHVlIiwiaGFuZGxlRGVsZXRlIiwidGFza0xhYmVsIiwib25UcmFuc2l0aW9uRW5kIiwidGVtcFZhbHVlIiwic2V0VGVtcFZhbHVlIiwiaGFuZGxlT25CbHVyIiwiVElNRVJfU0VUIiwiVElNRVJfUExBWSIsIlRJTUVSX1BBVVNFIiwiVElNRVJfUkVTRVQiLCJUSU1FUl9FTkQiLCJUSU1FUl9UT0dHTEVfRk9DVVMiLCJUSU1FUl9UT0dHTEVfQlJFQUsiLCJjYWxjdWxhdGVUaW1lUmVtYWluaW5nIiwiZHVyYXRpb24iLCJzdGFydCIsImN1cnJlbnRUaW1lIiwiZm9ybWF0VGltZSIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJzZWNzIiwicG9sYXJUb1BlcmNlbnQiLCJjeCIsImN5IiwicmFkaXVzIiwicmFkIiwiZ2V0Q2xpcFBhdGgiLCJwcm9ncmVzcyIsInBvaW50cyIsImEiLCJGb2N1c1RpbWVyIiwidGltZUxlZnQiLCJzZXRUaW1lTGVmdCIsInNldFByb2dyZXNzIiwiYWN0aXZlTWludXRlc1JlZiIsImFjdGl2ZVNlY29uZHNSZWYiLCJhcmNSZWYiLCJ0aW1lclR5cGUiLCJUaW1lcldpZGdldCIsInRpbWVyRGF0YSIsImluaXRpYWxEdXJhdGlvbiIsInN0YXJ0VGltZSIsImlzUnVubmluZyIsImluaXRpYWxUaW1lckR1cmF0aW9uIiwiaGFuZGxlVGltZXJJbnRlcmFjdGlvbiIsIldJREdFVFNfVElNRVJfVVNFUl9JTVBSRVNTSU9OIiwidGltZXJSZWYiLCJyZXNldFByb2dyZXNzQ2lyY2xlIiwiY2xpcFBhdGgiLCJ3ZWJraXRDbGlwUGF0aCIsInNob3dTeXN0ZW1Ob3RpZmljYXRpb25zIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInJlbWFpbmluZyIsImNsZWFySW50ZXJ2YWwiLCJXSURHRVRTX1RJTUVSX0VORCIsIldJREdFVFNfVElNRVJfVVNFUl9FVkVOVCIsIldJREdFVFNfVElNRVJfU0VUX1RZUEUiLCJuZXdUaW1lIiwic2V0VGltZXJEdXJhdGlvbiIsIm1pbnV0ZXNFbCIsInNlY29uZHNFbCIsIm1pbnV0ZXNWYWx1ZSIsImlubmVyVGV4dCIsInNlY29uZHNWYWx1ZSIsInRvdGFsU2Vjb25kcyIsIk51bWJlciIsImlzTmFOIiwiV0lER0VUU19USU1FUl9TRVRfRFVSQVRJT04iLCJ0b2dnbGVUaW1lciIsIldJREdFVFNfVElNRVJfUExBWSIsIldJREdFVFNfVElNRVJfUEFVU0UiLCJyZXNldFRpbWVyIiwiV0lER0VUU19USU1FUl9SRVNFVCIsInRvZ2dsZVR5cGUiLCJvbGRUeXBlUmVtYWluaW5nIiwiaGFuZGxlQmVmb3JlSW5wdXQiLCJ0ZXN0Iiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0ZWRUZXh0IiwicmFuZ2UiLCJjcmVhdGVSYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsImNvbGxhcHNlIiwic2VsIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJoYW5kbGVGb2N1cyIsImhhbmRsZVByZWZVcGRhdGUiLCJwcmVmTmFtZSIsInByZWZWYWx1ZSIsIkVkaXRhYmxlVGltZXJGaWVsZHMiLCJtaW51dGVzUmVmIiwic2Vjb25kc1JlZiIsIm9uQmVmb3JlSW5wdXQiLCJjb250ZW50RWRpdGFibGUiLCJXaWRnZXRzRmVhdHVyZUhpZ2hsaWdodCIsIlBSRUZfV0lER0VUU19MSVNUU19FTkFCTEVEIiwiUFJFRl9XSURHRVRTX1NZU1RFTV9MSVNUU19FTkFCTEVEIiwiUFJFRl9XSURHRVRTX1RJTUVSX0VOQUJMRUQiLCJQUkVGX1dJREdFVFNfU1lTVEVNX1RJTUVSX0VOQUJMRUQiLCJXaWRnZXRzIiwibGlzdHNTdGF0ZSIsInRpbWVyU3RhdGUiLCJuaW1idXNMaXN0c0VuYWJsZWQiLCJsaXN0c0VuYWJsZWQiLCJuaW1idXNUaW1lckVuYWJsZWQiLCJ0aW1lckVuYWJsZWQiLCJ0YXNrc0NvdW50IiwibWFueVRhc2tzIiwiaXNUaW1lclJ1bm5pbmciLCJzaG93U2Nyb2xsTWVzc2FnZSIsIndpZGdldE5hbWUiLCJoYXNJbnRlcmFjdGVkIiwic2VsZWN0TGF5b3V0UmVuZGVyIiwiQUxMT1dFRF9DU1NfVVJMX1BSRUZJWEVTIiwiRFVNTVlfQ1NTX1NFTEVDVE9SIiwiaXNBbGxvd2VkQ1NTIiwicHJvcGVydHkiLCJ1cmxzIiwiZXZlcnkiLCJwcmVmaXgiLCJfRGlzY292ZXJ5U3RyZWFtQmFzZSIsIm9uU3R5bGVNb3VudCIsInNoZWV0IiwicGFyc2UiLCJkYXRhc2V0Iiwic2VsZWN0b3JzIiwiZGVjbGFyYXRpb25zIiwiaW5zZXJ0UnVsZSIsImNzc1J1bGVzIiwicmVtb3ZlUHJvcGVydHkiLCJzZWxlY3RvclRleHQiLCJzZWxlY3RvciIsImV4cGxvcmVfdG9waWNzIiwicmVuZGVyU3R5bGVzIiwianNvbiIsImxheW91dFJlbmRlciIsInRvcGljU2VsZWN0aW9uRW5hYmxlZCIsInJlcG9ydEFkc0VuYWJsZWQiLCJzcG9jc0VuYWJsZWQiLCJjb2xsYXBzaWJsZSIsInJlbmRlckxheW91dCIsImV4dHJhY3RDb21wb25lbnQiLCJ0b3BTdG9yaWVzIiwid2lkZ2V0c05pbWJ1c0VuYWJsZWQiLCJ3aWRnZXRzU3lzdGVtUHJlZnNFbmFibGVkIiwicHJpdmFjeUxpbmtDb21wb25lbnQiLCJzZWN0aW9uVGl0bGUiLCJzZWN0aW9uVHlwZSIsInNlY3Rpb25DbGFzcyIsIkRpc2NvdmVyeVN0cmVhbUJhc2UiLCJTZWN0aW9uc01nbXRQYW5lbCIsImV4aXRFdmVudEZpcmVkIiwic2hvd1BhbmVsIiwic2V0U2hvd1BhbmVsIiwibGF5b3V0Q29tcG9uZW50cyIsInNlY3Rpb25zRmVlZE5hbWUiLCJjYXJkR3JpZEVudHJ5Iiwic2VjdGlvbnNMaXN0Iiwic2VjdGlvbnNTdGF0ZSIsInNldFNlY3Rpb25TdGF0ZSIsImZvbGxvd2VkU2VjdGlvbnNEYXRhIiwiYmxvY2tlZFNlY3Rpb25zRGF0YSIsInVwZGF0ZUNhY2hlZERhdGEiLCJvbkJsb2NrQ2xpY2siLCJvblVuYmxvY2tDbGljayIsInRvZ2dsZVBhbmVsIiwicHJldlNob3dQYW5lbCIsImZvbGxvd2VkU2VjdGlvbnNMaXN0IiwiYmxvY2tlZFNlY3Rpb25zTGlzdCIsImluIiwidW5tb3VudE9uRXhpdCIsIlBSRUZfV0FMTFBBUEVSX1VQTE9BREVEX1BSRVZJT1VTTFkiLCJQUkVGX1dBTExQQVBFUl9VUExPQURfTUFYX0ZJTEVfU0laRSIsIlBSRUZfV0FMTFBBUEVSX1VQTE9BRF9NQVhfRklMRV9TSVpFX0VOQUJMRUQiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwidGltZXIiLCJ3YWtlVXAiLCJhcHBseSIsIl9XYWxscGFwZXJDYXRlZ29yaWVzIiwiaGFuZGxlQ29sb3JJbnB1dCIsImRlYm91bmNlZEhhbmRsZUNoYW5nZSIsImhhbmRsZVJlc2V0IiwiaGFuZGxlQ2F0ZWdvcnkiLCJmb2N1c0NhdGVnb3J5IiwiaGFuZGxlVXBsb2FkIiwiaGFuZGxlQmFjayIsImdldFJHQkNvbG9ycyIsInByZWZlcnNIaWdoQ29udHJhc3RRdWVyeSIsInByZWZlcnNEYXJrUXVlcnkiLCJjYXRlZ29yeVJlZiIsIndhbGxwYXBlclJlZiIsImN1c3RvbUNvbG9yUGlja2VyUmVmIiwiY3JlYXRlUmVmIiwiY3VzdG9tQ29sb3JJbnB1dCIsImFjdGl2ZUNhdGVnb3J5IiwiYWN0aXZlQ2F0ZWdvcnlGbHVlbnRJRCIsInNob3dDb2xvclBpY2tlciIsImlucHV0VHlwZSIsImFjdGl2ZUlkIiwiY3VzdG9tV2FsbHBhcGVyRXJyb3JUeXBlIiwiZm9jdXNlZENhdGVnb3J5SW5kZXgiLCJyZ2JDb2xvcnMiLCJjb2xvcklucHV0QmFja2dyb3VuZCIsImlzQ29sb3JEYXJrIiwiaXNXYWxscGFwZXJDb2xvckRhcmsiLCJ1cGxvYWRlZFByZXZpb3VzbHkiLCJoYW5kbGVVc2VyRXZlbnQiLCJXQUxMUEFQRVJfQ0xJQ0siLCJzZWxlY3RlZF93YWxscGFwZXIiLCJoYWRfcHJldmlvdXNfd2FsbHBhcGVyIiwiYWN0aXZlV2FsbHBhcGVyIiwiaGFkX3VwbG9hZGVkX3ByZXZpb3VzbHkiLCJoYW5kbGVDYXRlZ29yeUtleURvd24iLCJnZXRJbmRleCIsImNhdCIsImV2ZW50S2V5IiwiaGFuZGxlV2FsbHBhcGVyS2V5RG93biIsImJhY2tUb01lbnVCdXR0b24iLCJ3YWxscGFwZXIiLCJzZWxlY3RlZFdhbGxwYXBlciIsIldBTExQQVBFUl9SRU1PVkVfVVBMT0FEIiwiV0FMTFBBUEVSX0NBVEVHT1JZX0NMSUNLIiwiZmx1ZW50X2lkIiwid2FsbHBhcGVyVXBsb2FkTWF4RmlsZVNpemVFbmFibGVkIiwid2FsbHBhcGVyVXBsb2FkTWF4RmlsZVNpemUiLCJmaWxlSW5wdXQiLCJhY2NlcHQiLCJvbmNhbmNlbCIsIm9uY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiaXNWYWxpZEltYWdlIiwibWF4U2l6ZSIsIldBTExQQVBFUl9VUExPQUQiLCJzZXRBY3RpdmVJZCIsInIiLCJzdWJzdHIiLCJnIiwiYiIsIndhbGxwYXBlckxpc3QiLCJXYWxscGFwZXJzIiwiZmlsdGVyZWRXYWxscGFwZXJzIiwicmVkdWNlQ29sb3JzVG9GaXRDdXN0b21Db2xvcklucHV0IiwiYXJyIiwicG9wIiwid2FsbHBhcGVyQ3VzdG9tU29saWRDb2xvckhleCIsInJlZ2V4Iiwic3RhcnRlckNvbG9ySGV4IiwiaW5pdFN0YXRlQ2xhc3NuYW1lIiwiY29sb3JQaWNrZXJJbnB1dCIsIm9uSW5wdXQiLCJmaWx0ZXJlZExpc3QiLCJhY3RpdmVXYWxscGFwZXJPYmoiLCJ3cCIsImlzQ3VzdG9tU29saWRDb2xvciIsInRodW1ibmFpbCIsIndhbGxwYXBlclVybCIsInNvbGlkX2NvbG9yIiwiaGV4IiwiaXNDYXRlZ29yeVNlbGVjdGVkIiwidGhlbWUiLCJXYWxscGFwZXJDYXRlZ29yaWVzIiwiQ29udGVudFNlY3Rpb24iLCJvblByZWZlcmVuY2VTZWxlY3QiLCJ0b3BTaXRlc0RyYXdlclJlZiIsInBvY2tldERyYXdlclJlZiIsImlucHV0VXNlckV2ZW50IiwiZXZlbnRWYWx1ZSIsIm1lbnVfc291cmNlIiwicHJlZmVyZW5jZSIsIm5vZGVOYW1lIiwic2V0RHJhd2VyTWFyZ2lucyIsInNldERyYXdlck1hcmdpbiIsInRvcFNpdGVzRW5hYmxlZCIsImRyYXdlcklEIiwiZHJhd2VyUmVmIiwiZHJhd2VySGVpZ2h0IiwicGFyc2VGbG9hdCIsIm1hcmdpblRvcCIsImVuYWJsZWRXaWRnZXRzIiwicG9ja2V0UmVnaW9uIiwibWF5SGF2ZUluZmVycmVkUGVyc29uYWxpemF0aW9uIiwibWF5SGF2ZVdlYXRoZXIiLCJtYXlIYXZlVHJlbmRpbmdTZWFyY2giLCJtYXlIYXZlV2lkZ2V0cyIsIm1heUhhdmVUaW1lcldpZGdldCIsIm1heUhhdmVMaXN0c1dpZGdldCIsIm9wZW5QcmVmZXJlbmNlcyIsIndhbGxwYXBlcnNFbmFibGVkIiwibWF5SGF2ZVRvcGljU2VjdGlvbnMiLCJ0cmVuZGluZ1NlYXJjaEVuYWJsZWQiLCJzaG93SW5mZXJyZWRQZXJzb25hbGl6YXRpb25FbmFibGVkIiwidG9wU2l0ZXNSb3dzQ291bnQiLCJzbG90IiwiX0N1c3RvbWl6ZU1lbnUiLCJvbkVudGVyZWQiLCJvbkV4aXRlZCIsImNsb3NlQnV0dG9uIiwib3BlbkJ1dHRvbiIsInNob3dpbmciLCJhcHBlYXIiLCJvbk9wZW4iLCJjIiwiQ3VzdG9taXplTWVudSIsIkxvZ28iLCJJU19ORVdUQUIiLCJfU2VhcmNoIiwib25TZWFyY2hDbGljayIsIm9uU2VhcmNoSGFuZG9mZkNsaWNrIiwib25TZWFyY2hIYW5kb2ZmUGFzdGUiLCJvblNlYXJjaEhhbmRvZmZEcm9wIiwib25JbnB1dE1vdW50Iiwib25JbnB1dE1vdW50SGFuZG9mZiIsIm9uU2VhcmNoSGFuZG9mZkJ1dHRvbk1vdW50IiwiaGFuZGxlRXZlbnQiLCJnQ29udGVudFNlYXJjaENvbnRyb2xsZXIiLCJzZWFyY2giLCJkb1NlYXJjaEhhbmRvZmYiLCJIQU5ET0ZGX1NFQVJDSF9UT19BV0VTT01FQkFSIiwiRkFLRV9GT0NVU19TRUFSQ0giLCJESVNBQkxFX1NFQVJDSCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwiY2FyZXQiLCJmYWtlQ2FyZXQiLCJjYXJldEJsaW5rQ291bnQiLCJjYXJldEJsaW5rVGltZSIsInNldFByb3BlcnR5IiwiaGVhbHRoUmVwb3J0S2V5IiwiQ29udGVudFNlYXJjaFVJQ29udHJvbGxlciIsIl9oYW5kb2ZmU2VhcmNoQ29udHJvbGxlciIsIkNvbnRlbnRTZWFyY2hIYW5kb2ZmVUlDb250cm9sbGVyIiwiX3NlYXJjaEhhbmRvZmZCdXR0b24iLCJ3cmFwcGVyQ2xhc3NOYW1lIiwiZGlzYWJsZSIsImZha2VGb2N1cyIsInRyZW5kaW5nU2VhcmNoVmFyaWFudCIsInNob3dMb2dvIiwiaGFuZG9mZkVuYWJsZWQiLCJvblBhc3RlIiwiU2VhcmNoIiwiRG93bmxvYWRNb2RhbFRvZ2dsZSIsImlzQWN0aXZlIiwiVGh1bWJVcFRodW1iRG93blRvYXN0Iiwib25BbmltYXRpb25FbmQiLCJtb3pNZXNzYWdlQmFyUmVmIiwibW96TWVzc2FnZUJhckVsZW1lbnQiLCJvbmNlIiwiZGlzbWlzc2FibGUiLCJSZXBvcnRDb250ZW50VG9hc3QiLCJOb3RpZmljYXRpb25zIiwidG9hc3RRdWV1ZSIsInRvYXN0Q291bnRlciIsInN5bmNIaWRkZW5Ub2FzdERhdGEiLCJxdWV1ZWRUb2FzdHMiLCJISURFX1RPQVNUX01FU1NBR0UiLCJnZXRUb2FzdCIsImxhdGVzdFRvYXN0SXRlbSIsIkVNT0pJX0xBQkVMUyIsImJ1c2luZXNzIiwiYXJ0cyIsImZvb2QiLCJoZWFsdGgiLCJmaW5hbmNlIiwiZ292ZXJubWVudCIsInNwb3J0cyIsInRlY2giLCJ0cmF2ZWwiLCJzb2NpZXR5IiwiVG9waWNTZWxlY3Rpb24iLCJzdXBwb3J0VXJsIiwiY2hlY2tib3hXcmFwcGVyUmVmIiwic3VnZ2VzdGVkVG9waWNzIiwiZGlzcGxheUNvdW50IiwiaXNGaXJzdFJ1biIsImRpc3BsYXlDb3VudFJlZiIsInByZXNlbGVjdGVkVG9waWNzIiwidG9waWNzVG9TZWxlY3QiLCJzZXRUb3BpY3NUb1NlbGVjdCIsImlzRmlyc3RTYXZlIiwiaGFuZGxlTW9kYWxDbG9zZSIsIlRPUElDX1NFTEVDVElPTl9VU0VSX0RJU01JU1MiLCJUT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX0NMT1NFIiwiaGFuZGxlVXNlckNsb3NlIiwiVE9QSUNfU0VMRUNUSU9OX01BWUJFX0xBVEVSIiwiVE9QSUNfU0VMRUNUSU9OX0lNUFJFU1NJT04iLCJ0YWJiYWJsZUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZpcnN0VGFiYWJsZUVsIiwibGFzdFRhYmJhYmxlRWwiLCJpc1RhYlByZXNzZWQiLCJpc0Fycm93UHJlc3NlZCIsImNoZWNrYm94RWxlbWVudHMiLCJmaXJzdElucHV0IiwibGFzdElucHV0IiwiaW5wdXRBcnIiLCJBcnJheSIsImZyb20iLCJjdXJyZW50SW5kZXgiLCJuZXh0RWwiLCJpc0NoZWNrZWQiLCJ1cGRhdGVkVG9waWNzIiwidG9waWNzU3RyaW5nIiwiVE9QSUNfU0VMRUNUSU9OX1VTRVJfU0FWRSIsInByZXZpb3VzX3RvcGljcyIsImZpcnN0X3NhdmUiLCJQUkVGX01PQklMRV9ET1dOTE9BRF9ISUdITElHSFRfVkFSSUFOVF9BIiwiUFJFRl9NT0JJTEVfRE9XTkxPQURfSElHSExJR0hUX1ZBUklBTlRfQiIsIlBSRUZfTU9CSUxFX0RPV05MT0FEX0hJR0hMSUdIVF9WQVJJQU5UX0MiLCJGRUFUVVJFX0lEIiwiRG93bmxvYWRNb2JpbGVQcm9tb0hpZ2hsaWdodCIsIm1vYmlsZURvd25sb2FkUHJvbW9WYXJBIiwibW9iaWxlRG93bmxvYWRQcm9tb1ZhckIiLCJtb2JpbGVEb3dubG9hZFByb21vVmFyQyIsImdldEFjdGl2ZVZhcmlhbnQiLCJnZXRWYXJpYW50UVJDb2RlSW1nIiwiZ2V0VmFyaWFudENvcHkiLCJXYWxscGFwZXJGZWF0dXJlSGlnaGxpZ2h0IiwiUFJFRl9JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fU1lTVEVNIiwiX0Jhc2UiLCJub3RpZnlDb250ZW50IiwiaXNEZXZ0b29sc0VuYWJsZWQiLCJCYXNlQ29udGVudCIsImFkbWluQ29udGVudCIsIm9wZW5DdXN0b21pemF0aW9uTWVudSIsImNsb3NlQ3VzdG9taXphdGlvbk1lbnUiLCJoYW5kbGVPbktleURvd24iLCJvbldpbmRvd1Njcm9sbCIsInVwZGF0ZVdhbGxwYXBlciIsImhhbmRsZUNvbG9yTW9kZUNoYW5nZSIsInNob3VsZERpc3BsYXlUb3BpY1NlbGVjdGlvbk1vZGFsIiwidG9nZ2xlRG93bmxvYWRIaWdobGlnaHQiLCJoYW5kbGVEaXNtaXNzRG93bmxvYWRIaWdobGlnaHQiLCJhcHBseUJvZHlDbGFzc2VzIiwiZml4ZWRTZWFyY2giLCJjb2xvck1vZGUiLCJmaXhlZE5hdlN0eWxlIiwid2FsbHBhcGVyVGhlbWUiLCJzaG93RG93bmxvYWRIaWdobGlnaHRPdmVycmlkZSIsInNldEZpcnN0VmlzaWJsZVRpbWVzdGFtcCIsInVwbG9hZGVkV2FsbHBhcGVyIiwicHJldlVwbG9hZGVkV2FsbHBhcGVyIiwicHJldldhbGxwYXBlckxpc3QiLCJwcmV2UHJlZnMiLCJwcmV2U2VsZWN0ZWRXYWxscGFwZXIiLCJ1cGxvYWRlZFdhbGxwYXBlclRoZW1lIiwicHJldlVwbG9hZGVkV2FsbHBhcGVyVGhlbWUiLCJXYWxscGFwZXIiLCJzaG93U2VhcmNoIiwibG9nb0Fsd2F5c1Zpc2libGUiLCJTQ1JPTExfVEhSRVNIT0xEIiwiTUFJTl9PRkZTRVRfUEFERElORyIsIkNTU19WQVJfU1BBQ0VfWFhMQVJHRSIsIm91dGVyV3JhcHBlclBhZGRpbmdUb3AiLCJzZWFyY2hXcmFwcGVyUGFkZGluZ1RvcCIsInNlYXJjaFdyYXBwZXJQYWRkaW5nQm90dG9tIiwic2VhcmNoV3JhcHBlckZpeGVkU2Nyb2xsUGFkZGluZ1RvcCIsInNlYXJjaFdyYXBwZXJGaXhlZFNjcm9sbFBhZGRpbmdCb3R0b20iLCJzZWFyY2hJbm5lcldyYXBwZXJNaW5IZWlnaHQiLCJsb2dvQW5kV29yZG1hcmtXcmFwcGVySGVpZ2h0IiwibG9nb0FuZFdvcmRtYXJrV3JhcHBlck1hcmdpbkJvdHRvbSIsInNjcm9sbFkiLCJwYWRkaW5nQmxvY2tTdGFydCIsIlNFVFRJTkdTX09QRU4iLCJjdXN0b21pemVNZW51VmlzaWJsZSIsIkhJREVfUEVSU09OQUxJWkUiLCJyZW5kZXJXYWxscGFwZXJBdHRyaWJ1dGlvbiIsImF0dHJpYnV0aW9uIiwiYXV0aG9yRGV0YWlscyIsIndlYnBhZ2UiLCJzdHJpbmciLCJhdXRob3Jfc3RyaW5nIiwiYXV0aG9yX3VybCIsIndlYnBhZ2Vfc3RyaW5nIiwid2VicGFnZV91cmwiLCJ1cGxvYWRlZFdhbGxwYXBlclVybCIsIm5ld1RoZW1lIiwicmVnZXhSR0IiLCJvdmVycmlkZSIsInRvcGljU2VsZWN0aW9uT25ib2FyZGluZ0VuYWJsZWQiLCJtYXliZVNob3dNb2RhbCIsImRpc3BsYXlUaW1lb3V0IiwibGFzdERpc3BsYXllZCIsImRheSIsImdldFRpbWUiLCJ0aW1lb3V0T2NjdXJlZCIsInNob3dUb3BpY1NlbGVjdGlvbiIsIm1heVNob3dUb3BpY1NlbGVjdGlvbiIsImlzRGlzY292ZXJ5U3RyZWFtIiwibm9TZWN0aW9uc0VuYWJsZWQiLCJzZWFyY2hIYW5kb2ZmRW5hYmxlZCIsInNob3VsZERpc3BsYXlXZWF0aGVyIiwibmltYnVzV2lkZ2V0c0VuYWJsZWQiLCJtb2JpbGVEb3dubG9hZFByb21vRW5hYmxlZCIsIm1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUVuYWJsZWQiLCJtb2JpbGVEb3dubG9hZFByb21vVmFyaWFudEJFbmFibGVkIiwibW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRDRW5hYmxlZCIsIm1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUJvckMiLCJtb2JpbGVEb3dubG9hZFByb21vV3JhcHBlckhlaWdodE1vZGlmaWVyIiwiaGFzVGh1bWJzVXBEb3duTGF5b3V0IiwiaGFzVGh1bWJzVXBEb3duIiwidG9waWNMYWJlbHNFbmFibGVkIiwic2VjdGlvbnNDdXN0b21pemVNZW51UGFuZWxFbmFibGVkIiwic2VjdGlvbnNQZXJzb25hbGl6YXRpb25FbmFibGVkIiwibWF5SGF2ZVBlcnNvbmFsaXplZFRvcGljU2VjdGlvbnMiLCJsb2FkZWQiLCJmZWF0dXJlQ2xhc3NOYW1lIiwic2hvdWxkU2hvd0Rvd25sb2FkSGlnaGxpZ2h0IiwiQmFzZSIsIkRldGVjdFVzZXJTZXNzaW9uU3RhcnQiLCJpbml0U3RvcmUiLCJQcm92aWRlciIsIlJlYWN0RE9NIiwicmVkdWNlcnMiLCJOZXdUYWIiLCJzdG9yZSIsImRvUmVxdWVzdFdoZW5SZWFkeSIsImRvUmVxdWVzdFByb21pc2UiLCJkaWRSZXF1ZXN0IiwicmVxdWVzdElkbGVDYWxsYmFja0lkIiwiZG9SZXF1ZXN0IiwiaGlkZGVuIiwicmVuZGVyV2l0aG91dFN0YXRlIiwic2VuZEV2ZW50T3JBZGRMaXN0ZW5lciIsIk5FV19UQUJfU1RBVEVfUkVRVUVTVCIsIk5FV19UQUJfU1RBVEVfUkVRVUVTVF9XSVRIT1VUX1NUQVJUVVBDQUNIRSIsImh5ZHJhdGUiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlckNhY2hlIiwiaW5pdGlhbFN0YXRlIiwiTkVXX1RBQl9TVEFURV9SRVFVRVNUX1NUQVJUVVBDQUNIRSJdLCJzb3VyY2VSb290IjoiIn0=