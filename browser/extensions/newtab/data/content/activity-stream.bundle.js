/*! THIS FILE IS AUTO-GENERATED: webpack.system-addon.config.js */
var NewtabRenderUtils;
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  NewTab: () => (/* binding */ NewTab),
  renderCache: () => (/* binding */ renderCache),
  renderWithoutState: () => (/* binding */ renderWithoutState)
});

;// CONCATENATED MODULE: ./common/Actions.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

// This file is accessed from both content and system scopes.

const MAIN_MESSAGE_TYPE = "ActivityStream:Main";
const CONTENT_MESSAGE_TYPE = "ActivityStream:Content";
const PRELOAD_MESSAGE_TYPE = "ActivityStream:PreloadedBrowser";
const UI_CODE = 1;
const BACKGROUND_PROCESS = 2;

/**
 * globalImportContext - Are we in UI code (i.e. react, a dom) or some kind of background process?
 *                       Use this in action creators if you need different logic
 *                       for ui/background processes.
 */
const globalImportContext =
  typeof Window === "undefined" ? BACKGROUND_PROCESS : UI_CODE;

// Create an object that avoids accidental differing key/value pairs:
// {
//   INIT: "INIT",
//   UNINIT: "UNINIT"
// }
const actionTypes = {};

for (const type of [
  "ABOUT_SPONSORED_TOP_SITES",
  "ADDONS_INFO_REQUEST",
  "ADDONS_INFO_RESPONSE",
  "ADS_FEED_UPDATE",
  "ADS_INIT",
  "ADS_RESET",
  "ADS_UPDATE_SPOCS",
  "ADS_UPDATE_TILES",
  "BLOCK_SECTION",
  "BLOCK_URL",
  "BOOKMARK_URL",
  "CARD_SECTION_IMPRESSION",
  "CLEAR_PREF",
  "COPY_DOWNLOAD_LINK",
  "DELETE_BOOKMARK_BY_ID",
  "DELETE_HISTORY_URL",
  "DIALOG_CANCEL",
  "DIALOG_CLOSE",
  "DIALOG_OPEN",
  "DISABLE_SEARCH",
  "DISCOVERY_STREAM_CONFIG_CHANGE",
  "DISCOVERY_STREAM_CONFIG_RESET",
  "DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS",
  "DISCOVERY_STREAM_CONFIG_SETUP",
  "DISCOVERY_STREAM_CONFIG_SET_VALUE",
  "DISCOVERY_STREAM_DEV_BLOCKS",
  "DISCOVERY_STREAM_DEV_BLOCKS_RESET",
  "DISCOVERY_STREAM_DEV_EXPIRE_CACHE",
  "DISCOVERY_STREAM_DEV_IDLE_DAILY",
  "DISCOVERY_STREAM_DEV_IMPRESSIONS",
  "DISCOVERY_STREAM_DEV_SHOW_PLACEHOLDER",
  "DISCOVERY_STREAM_DEV_SYNC_RS",
  "DISCOVERY_STREAM_DEV_SYSTEM_TICK",
  "DISCOVERY_STREAM_EXPERIMENT_DATA",
  "DISCOVERY_STREAM_FEEDS_UPDATE",
  "DISCOVERY_STREAM_FEED_UPDATE",
  "DISCOVERY_STREAM_IMPRESSION_STATS",
  "DISCOVERY_STREAM_LAYOUT_RESET",
  "DISCOVERY_STREAM_LAYOUT_UPDATE",
  "DISCOVERY_STREAM_LINK_BLOCKED",
  "DISCOVERY_STREAM_LOADED_CONTENT",
  "DISCOVERY_STREAM_PERSONALIZATION_INIT",
  "DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED",
  "DISCOVERY_STREAM_PERSONALIZATION_OVERRIDE",
  "DISCOVERY_STREAM_PERSONALIZATION_RESET",
  "DISCOVERY_STREAM_PERSONALIZATION_TOGGLE",
  "DISCOVERY_STREAM_PERSONALIZATION_UPDATED",
  "DISCOVERY_STREAM_PREFS_SETUP",
  "DISCOVERY_STREAM_RETRY_FEED",
  "DISCOVERY_STREAM_SPOCS_CAPS",
  "DISCOVERY_STREAM_SPOCS_ENDPOINT",
  "DISCOVERY_STREAM_SPOCS_PLACEMENTS",
  "DISCOVERY_STREAM_SPOCS_UPDATE",
  "DISCOVERY_STREAM_SPOC_BLOCKED",
  "DISCOVERY_STREAM_SPOC_IMPRESSION",
  "DISCOVERY_STREAM_TOPICS_LOADING",
  "DISCOVERY_STREAM_USER_EVENT",
  "DOWNLOAD_CHANGED",
  "FAKESPOT_CTA_CLICK",
  "FAKESPOT_DISMISS",
  "FAKE_FOCUS_SEARCH",
  "FILL_SEARCH_TERM",
  "FOLLOW_SECTION",
  "HANDOFF_SEARCH_TO_AWESOMEBAR",
  "HIDE_PERSONALIZE",
  "HIDE_TOAST_MESSAGE",
  "INFERRED_PERSONALIZATION_MODEL_UPDATE",
  "INFERRED_PERSONALIZATION_REFRESH",
  "INFERRED_PERSONALIZATION_RESET",
  "INFERRED_PERSONALIZATION_UPDATE",
  "INIT",
  "INLINE_SELECTION_CLICK",
  "INLINE_SELECTION_IMPRESSION",
  "MESSAGE_BLOCK",
  "MESSAGE_CLICK",
  "MESSAGE_DISMISS",
  "MESSAGE_IMPRESSION",
  "MESSAGE_NOTIFY_VISIBILITY",
  "MESSAGE_SET",
  "MESSAGE_TOGGLE_VISIBILITY",
  "NEW_TAB_INIT",
  "NEW_TAB_INITIAL_STATE",
  "NEW_TAB_LOAD",
  "NEW_TAB_REHYDRATED",
  "NEW_TAB_STATE_REQUEST",
  "NEW_TAB_STATE_REQUEST_STARTUPCACHE",
  "NEW_TAB_STATE_REQUEST_WITHOUT_STARTUPCACHE",
  "NEW_TAB_UNLOAD",
  "OPEN_ABOUT_FAKESPOT",
  "OPEN_DOWNLOAD_FILE",
  "OPEN_LINK",
  "OPEN_NEW_WINDOW",
  "OPEN_PRIVATE_WINDOW",
  "OPEN_WEBEXT_SETTINGS",
  "PARTNER_LINK_ATTRIBUTION",
  "PLACES_BOOKMARKS_REMOVED",
  "PLACES_BOOKMARK_ADDED",
  "PLACES_HISTORY_CLEARED",
  "PLACES_LINKS_CHANGED",
  "PLACES_LINKS_DELETED",
  "PLACES_LINK_BLOCKED",
  "POCKET_CTA",
  "POCKET_THUMBS_DOWN",
  "POCKET_THUMBS_UP",
  "POCKET_WAITING_FOR_SPOC",
  "PREFS_INITIAL_VALUES",
  "PREF_CHANGED",
  "PREVIEW_REQUEST",
  "PREVIEW_REQUEST_CANCEL",
  "PREVIEW_RESPONSE",
  "PROMO_CARD_CLICK",
  "PROMO_CARD_DISMISS",
  "PROMO_CARD_IMPRESSION",
  "REMOVE_DOWNLOAD_FILE",
  "REPORT_AD_OPEN",
  "REPORT_AD_SUBMIT",
  "REPORT_CLOSE",
  "REPORT_CONTENT_OPEN",
  "REPORT_CONTENT_SUBMIT",
  "RICH_ICON_MISSING",
  "SAVE_SESSION_PERF_DATA",
  "SCREENSHOT_UPDATED",
  "SECTION_DEREGISTER",
  "SECTION_DISABLE",
  "SECTION_ENABLE",
  "SECTION_OPTIONS_CHANGED",
  "SECTION_PERSONALIZATION_SET",
  "SECTION_PERSONALIZATION_UPDATE",
  "SECTION_REGISTER",
  "SECTION_UPDATE",
  "SECTION_UPDATE_CARD",
  "SETTINGS_CLOSE",
  "SETTINGS_OPEN",
  "SET_PREF",
  "SHOW_DOWNLOAD_FILE",
  "SHOW_FIREFOX_ACCOUNTS",
  "SHOW_PERSONALIZE",
  "SHOW_PRIVACY_INFO",
  "SHOW_SEARCH",
  "SHOW_TOAST_MESSAGE",
  "SKIPPED_SIGNIN",
  "SOV_UPDATED",
  "SUBMIT_EMAIL",
  "SUBMIT_SIGNIN",
  "SYSTEM_TICK",
  "TELEMETRY_IMPRESSION_STATS",
  "TELEMETRY_USER_EVENT",
  "TOPIC_SELECTION_IMPRESSION",
  "TOPIC_SELECTION_MAYBE_LATER",
  "TOPIC_SELECTION_SPOTLIGHT_CLOSE",
  "TOPIC_SELECTION_SPOTLIGHT_OPEN",
  "TOPIC_SELECTION_USER_DISMISS",
  "TOPIC_SELECTION_USER_OPEN",
  "TOPIC_SELECTION_USER_SAVE",
  "TOP_SITES_ADD",
  "TOP_SITES_CANCEL_EDIT",
  "TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL",
  "TOP_SITES_EDIT",
  "TOP_SITES_INSERT",
  "TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL",
  "TOP_SITES_ORGANIC_IMPRESSION_STATS",
  "TOP_SITES_PIN",
  "TOP_SITES_PREFS_UPDATED",
  "TOP_SITES_SPONSORED_IMPRESSION_STATS",
  "TOP_SITES_UNPIN",
  "TOP_SITES_UPDATED",
  "TOTAL_BOOKMARKS_REQUEST",
  "TOTAL_BOOKMARKS_RESPONSE",
  "TRENDING_SEARCH_IMPRESSION",
  "TRENDING_SEARCH_SUGGESTION_OPEN",
  "TRENDING_SEARCH_TOGGLE_COLLAPSE",
  "TRENDING_SEARCH_UPDATE",
  "UNBLOCK_SECTION",
  "UNFOLLOW_SECTION",
  "UNINIT",
  "UPDATE_PINNED_SEARCH_SHORTCUTS",
  "UPDATE_SEARCH_SHORTCUTS",
  "WALLPAPERS_CATEGORY_SET",
  "WALLPAPERS_CUSTOM_SET",
  "WALLPAPERS_FEATURE_HIGHLIGHT_COUNTER_INCREMENT",
  "WALLPAPERS_FEATURE_HIGHLIGHT_CTA_CLICKED",
  "WALLPAPERS_FEATURE_HIGHLIGHT_DISMISSED",
  "WALLPAPERS_FEATURE_HIGHLIGHT_SEEN",
  "WALLPAPERS_SET",
  "WALLPAPER_CATEGORY_CLICK",
  "WALLPAPER_CLICK",
  "WALLPAPER_REMOVE_UPLOAD",
  "WALLPAPER_UPLOAD",
  "WEATHER_IMPRESSION",
  "WEATHER_LOAD_ERROR",
  "WEATHER_LOCATION_DATA_UPDATE",
  "WEATHER_LOCATION_SEARCH_UPDATE",
  "WEATHER_LOCATION_SUGGESTIONS_UPDATE",
  "WEATHER_OPEN_PROVIDER_URL",
  "WEATHER_QUERY_UPDATE",
  "WEATHER_SEARCH_ACTIVE",
  "WEATHER_UPDATE",
  "WEBEXT_CLICK",
  "WEBEXT_DISMISS",
  "WIDGETS_LISTS_CHANGE_SELECTED",
  "WIDGETS_LISTS_SET",
  "WIDGETS_LISTS_SET_SELECTED",
  "WIDGETS_LISTS_UPDATE",
  "WIDGETS_LISTS_USER_EVENT",
  "WIDGETS_LISTS_USER_IMPRESSION",
  "WIDGETS_TIMER_END",
  "WIDGETS_TIMER_PAUSE",
  "WIDGETS_TIMER_PLAY",
  "WIDGETS_TIMER_RESET",
  "WIDGETS_TIMER_SET",
  "WIDGETS_TIMER_SET_DURATION",
  "WIDGETS_TIMER_SET_TYPE",
  "WIDGETS_TIMER_USER_EVENT",
  "WIDGETS_TIMER_USER_IMPRESSION",
]) {
  actionTypes[type] = type;
}

// Helper function for creating routed actions between content and main
// Not intended to be used by consumers
function _RouteMessage(action, options) {
  const meta = action.meta ? { ...action.meta } : {};
  if (!options || !options.from || !options.to) {
    throw new Error(
      "Routed Messages must have options as the second parameter, and must at least include a .from and .to property."
    );
  }
  // For each of these fields, if they are passed as an option,
  // add them to the action. If they are not defined, remove them.
  ["from", "to", "toTarget", "fromTarget", "skipMain", "skipLocal"].forEach(
    o => {
      if (typeof options[o] !== "undefined") {
        meta[o] = options[o];
      } else if (meta[o]) {
        delete meta[o];
      }
    }
  );
  return { ...action, meta };
}

/**
 * AlsoToMain - Creates a message that will be dispatched locally and also sent to the Main process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {bool}   skipLocal Used by OnlyToMain to skip the main reducer
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */
function AlsoToMain(action, fromTarget, skipLocal) {
  return _RouteMessage(action, {
    from: CONTENT_MESSAGE_TYPE,
    to: MAIN_MESSAGE_TYPE,
    fromTarget,
    skipLocal,
  });
}

/**
 * OnlyToMain - Creates a message that will be sent to the Main process and skip the local reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options
 * @param  {string} fromTarget The id of the content port from which the action originated. (optional)
 * @return {object} An action with added .meta properties
 */
function OnlyToMain(action, fromTarget) {
  return AlsoToMain(action, fromTarget, true);
}

/**
 * BroadcastToContent - Creates a message that will be dispatched to main and sent to ALL content processes.
 *
 * @param  {object} action Any redux action (required)
 * @param  {object} options (optional)
 * @return {object} An action with added .meta properties
 */
function BroadcastToContent(action, options) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE,
    ...options,
  });
}

/**
 * AlsoToOneContent - Creates a message that will be will be dispatched to the main store
 *                    and also sent to a particular Content process.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @param  {bool} skipMain Used by OnlyToOneContent to skip the main process
 * @return {object} An action with added .meta properties
 */
function AlsoToOneContent(action, target, skipMain) {
  if (!target) {
    throw new Error(
      "You must provide a target ID as the second parameter of AlsoToOneContent. If you want to send to all content processes, use BroadcastToContent"
    );
  }
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: CONTENT_MESSAGE_TYPE,
    toTarget: target,
    skipMain,
  });
}

/**
 * OnlyToOneContent - Creates a message that will be sent to a particular Content process
 *                    and skip the main reducer.
 *
 * @param  {object} action Any redux action (required)
 * @param  {string} target The id of a content port
 * @return {object} An action with added .meta properties
 */
function OnlyToOneContent(action, target) {
  return AlsoToOneContent(action, target, true);
}

/**
 * AlsoToPreloaded - Creates a message that dispatched to the main reducer and also sent to the preloaded tab.
 *
 * @param  {object} action Any redux action (required)
 * @return {object} An action with added .meta properties
 */
function AlsoToPreloaded(action) {
  return _RouteMessage(action, {
    from: MAIN_MESSAGE_TYPE,
    to: PRELOAD_MESSAGE_TYPE,
  });
}

/**
 * UserEvent - A telemetry ping indicating a user action. This should only
 *                   be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */
function UserEvent(data) {
  return AlsoToMain({
    type: actionTypes.TELEMETRY_USER_EVENT,
    data,
  });
}

/**
 * DiscoveryStreamUserEvent - A telemetry ping indicating a user action from Discovery Stream. This should only
 *                     be sent from the UI during a user session.
 *
 * @param  {object} data Fields to include in the ping (source, etc.)
 * @return {object} An AlsoToMain action
 */
function DiscoveryStreamUserEvent(data) {
  return AlsoToMain({
    type: actionTypes.DISCOVERY_STREAM_USER_EVENT,
    data,
  });
}

/**
 * ImpressionStats - A telemetry ping indicating an impression stats.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */
function ImpressionStats(data, importContext = globalImportContext) {
  const action = {
    type: actionTypes.TELEMETRY_IMPRESSION_STATS,
    data,
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

/**
 * DiscoveryStreamImpressionStats - A telemetry ping indicating an impression stats in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */
function DiscoveryStreamImpressionStats(
  data,
  importContext = globalImportContext
) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_IMPRESSION_STATS,
    data,
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

/**
 * DiscoveryStreamLoadedContent - A telemetry ping indicating a content gets loaded in Discovery Stream.
 *
 * @param  {object} data Fields to include in the ping
 * @param  {int} importContext (For testing) Override the import context for testing.
 * #return {object} An action. For UI code, a AlsoToMain action.
 */
function DiscoveryStreamLoadedContent(
  data,
  importContext = globalImportContext
) {
  const action = {
    type: actionTypes.DISCOVERY_STREAM_LOADED_CONTENT,
    data,
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function SetPref(prefName, value, importContext = globalImportContext) {
  const action = {
    type: actionTypes.SET_PREF,
    data: { name: prefName, value },
  };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

function WebExtEvent(type, data, importContext = globalImportContext) {
  if (!data || !data.source) {
    throw new Error(
      'WebExtEvent actions should include a property "source", the id of the webextension that should receive the event.'
    );
  }
  const action = { type, data };
  return importContext === UI_CODE ? AlsoToMain(action) : action;
}

const actionCreators = {
  BroadcastToContent,
  UserEvent,
  DiscoveryStreamUserEvent,
  ImpressionStats,
  AlsoToOneContent,
  OnlyToOneContent,
  AlsoToMain,
  OnlyToMain,
  AlsoToPreloaded,
  SetPref,
  WebExtEvent,
  DiscoveryStreamImpressionStats,
  DiscoveryStreamLoadedContent,
};

// These are helpers to test for certain kinds of actions
const actionUtils = {
  isSendToMain(action) {
    if (!action.meta) {
      return false;
    }
    return (
      action.meta.to === MAIN_MESSAGE_TYPE &&
      action.meta.from === CONTENT_MESSAGE_TYPE
    );
  },
  isBroadcastToContent(action) {
    if (!action.meta) {
      return false;
    }
    if (action.meta.to === CONTENT_MESSAGE_TYPE && !action.meta.toTarget) {
      return true;
    }
    return false;
  },
  isSendToOneContent(action) {
    if (!action.meta) {
      return false;
    }
    if (action.meta.to === CONTENT_MESSAGE_TYPE && action.meta.toTarget) {
      return true;
    }
    return false;
  },
  isSendToPreloaded(action) {
    if (!action.meta) {
      return false;
    }
    return (
      action.meta.to === PRELOAD_MESSAGE_TYPE &&
      action.meta.from === MAIN_MESSAGE_TYPE
    );
  },
  isFromMain(action) {
    if (!action.meta) {
      return false;
    }
    return (
      action.meta.from === MAIN_MESSAGE_TYPE &&
      action.meta.to === CONTENT_MESSAGE_TYPE
    );
  },
  getPortIdOfSender(action) {
    return (action.meta && action.meta.fromTarget) || null;
  },
  _RouteMessage,
};

;// CONCATENATED MODULE: external "ReactRedux"
const external_ReactRedux_namespaceObject = ReactRedux;
;// CONCATENATED MODULE: external "React"
const external_React_namespaceObject = React;
var external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_namespaceObject);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamAdmin/SimpleHashRouter.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SimpleHashRouter extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onHashChange = this.onHashChange.bind(this);
    this.state = {
      hash: globalThis.location.hash
    };
  }
  onHashChange() {
    this.setState({
      hash: globalThis.location.hash
    });
  }
  componentWillMount() {
    globalThis.addEventListener("hashchange", this.onHashChange);
  }
  componentWillUnmount() {
    globalThis.removeEventListener("hashchange", this.onHashChange);
  }
  render() {
    const [, ...routes] = this.state.hash.split("-");
    return /*#__PURE__*/external_React_default().cloneElement(this.props.children, {
      location: {
        hash: this.state.hash,
        routes
      }
    });
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamAdmin/DiscoveryStreamAdmin.jsx
function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






// Pref Constants
const PREF_AD_SIZE_MEDIUM_RECTANGLE = "newtabAdSize.mediumRectangle";
const PREF_AD_SIZE_BILLBOARD = "newtabAdSize.billboard";
const PREF_AD_SIZE_LEADERBOARD = "newtabAdSize.leaderboard";
const PREF_CONTEXTUAL_CONTENT_SELECTED_FEED = "discoverystream.contextualContent.selectedFeed";
const PREF_CONTEXTUAL_CONTENT_FEEDS = "discoverystream.contextualContent.feeds";
const PREF_SECTIONS_ENABLED = "discoverystream.sections.enabled";
const PREF_SPOC_PLACEMENTS = "discoverystream.placements.spocs";
const PREF_SPOC_COUNTS = "discoverystream.placements.spocs.counts";
const PREF_CONTEXTUAL_ADS_ENABLED = "discoverystream.sections.contextualAds.enabled";
const PREF_CONTEXTUAL_BANNER_PLACEMENTS = "discoverystream.placements.contextualBanners";
const PREF_CONTEXTUAL_BANNER_COUNTS = "discoverystream.placements.contextualBanners.counts";
const Row = props => /*#__PURE__*/external_React_default().createElement("tr", _extends({
  className: "message-item"
}, props), props.children);
function relativeTime(timestamp) {
  if (!timestamp) {
    return "";
  }
  const seconds = Math.floor((Date.now() - timestamp) / 1000);
  const minutes = Math.floor((Date.now() - timestamp) / 60000);
  if (seconds < 2) {
    return "just now";
  } else if (seconds < 60) {
    return `${seconds} seconds ago`;
  } else if (minutes === 1) {
    return "1 minute ago";
  } else if (minutes < 600) {
    return `${minutes} minutes ago`;
  }
  return new Date(timestamp).toLocaleString();
}
class ToggleStoryButton extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }
  handleClick() {
    this.props.onClick(this.props.story);
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("button", {
      onClick: this.handleClick
    }, "collapse/open");
  }
}
class TogglePrefCheckbox extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onChange = this.onChange.bind(this);
  }
  onChange(event) {
    this.props.onChange(this.props.pref, event.target.checked);
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      checked: this.props.checked,
      onChange: this.onChange,
      disabled: this.props.disabled
    }), " ", this.props.pref, " ");
  }
}
class Personalization extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.togglePersonalization = this.togglePersonalization.bind(this);
  }
  togglePersonalization() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_PERSONALIZATION_TOGGLE
    }));
  }
  render() {
    const {
      lastUpdated,
      initialized
    } = this.props.state.Personalization;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      colSpan: "2"
    }, /*#__PURE__*/external_React_default().createElement(TogglePrefCheckbox, {
      checked: this.props.personalized,
      pref: "personalized",
      onChange: this.togglePersonalization
    }))), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Personalization Last Updated"), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(lastUpdated) || "(no data)")), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Personalization Initialized"), /*#__PURE__*/external_React_default().createElement("td", null, initialized ? "true" : "false")))));
  }
}
class DiscoveryStreamAdminUI extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.restorePrefDefaults = this.restorePrefDefaults.bind(this);
    this.setConfigValue = this.setConfigValue.bind(this);
    this.expireCache = this.expireCache.bind(this);
    this.refreshCache = this.refreshCache.bind(this);
    this.showPlaceholder = this.showPlaceholder.bind(this);
    this.idleDaily = this.idleDaily.bind(this);
    this.systemTick = this.systemTick.bind(this);
    this.syncRemoteSettings = this.syncRemoteSettings.bind(this);
    this.onStoryToggle = this.onStoryToggle.bind(this);
    this.handleWeatherSubmit = this.handleWeatherSubmit.bind(this);
    this.handleWeatherUpdate = this.handleWeatherUpdate.bind(this);
    this.resetBlocks = this.resetBlocks.bind(this);
    this.refreshInferredPersonalization = this.refreshInferredPersonalization.bind(this);
    this.refreshTopicSelectionCache = this.refreshTopicSelectionCache.bind(this);
    this.toggleTBRFeed = this.toggleTBRFeed.bind(this);
    this.handleSectionsToggle = this.handleSectionsToggle.bind(this);
    this.toggleIABBanners = this.toggleIABBanners.bind(this);
    this.state = {
      toggledStories: {},
      weatherQuery: ""
    };
  }
  setConfigValue(configName, configValue) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_CONFIG_SET_VALUE,
      data: {
        name: configName,
        value: configValue
      }
    }));
  }
  restorePrefDefaults() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_CONFIG_RESET_DEFAULTS
    }));
  }
  refreshCache() {
    const {
      config
    } = this.props.state.DiscoveryStream;
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_CONFIG_CHANGE,
      data: config
    }));
  }
  refreshInferredPersonalization() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.INFERRED_PERSONALIZATION_REFRESH
    }));
  }
  refreshTopicSelectionCache() {
    this.props.dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.displayCount", 0));
    this.props.dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", true));
  }
  dispatchSimpleAction(type) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type
    }));
  }
  resetBlocks() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.DISCOVERY_STREAM_DEV_BLOCKS_RESET
    }));
  }
  systemTick() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_SYSTEM_TICK);
  }
  expireCache() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_EXPIRE_CACHE);
  }
  showPlaceholder() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_SHOW_PLACEHOLDER);
  }
  toggleTBRFeed(e) {
    const feed = e.target.value;
    const selectedFeed = PREF_CONTEXTUAL_CONTENT_SELECTED_FEED;
    this.props.dispatch(actionCreators.SetPref(selectedFeed, feed));
  }
  idleDaily() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_IDLE_DAILY);
  }
  syncRemoteSettings() {
    this.dispatchSimpleAction(actionTypes.DISCOVERY_STREAM_DEV_SYNC_RS);
  }
  handleWeatherUpdate(e) {
    this.setState({
      weatherQuery: e.target.value || ""
    });
  }
  handleWeatherSubmit(e) {
    e.preventDefault();
    const {
      weatherQuery
    } = this.state;
    this.props.dispatch(actionCreators.SetPref("weather.query", weatherQuery));
  }
  toggleIABBanners(e) {
    const {
      pressed,
      id
    } = e.target;

    // Set the active pref to true/false
    switch (id) {
      case "newtab_billboard":
        // Update boolean pref for billboard ad size
        this.props.dispatch(actionCreators.SetPref(PREF_AD_SIZE_BILLBOARD, pressed));
        break;
      case "newtab_leaderboard":
        // Update boolean pref for billboard ad size
        this.props.dispatch(actionCreators.SetPref(PREF_AD_SIZE_LEADERBOARD, pressed));
        break;
      case "newtab_rectangle":
        // Update boolean pref for mediumRectangle (MREC) ad size
        this.props.dispatch(actionCreators.SetPref(PREF_AD_SIZE_MEDIUM_RECTANGLE, pressed));
        break;
    }

    // Note: The counts array is passively updated whenever the placements array is updated.
    // The default pref values for each are:
    // PREF_SPOC_PLACEMENTS: "newtab_spocs"
    // PREF_SPOC_COUNTS: "6"
    const generateSpocPrefValues = () => {
      const placements = this.props.otherPrefs[PREF_SPOC_PLACEMENTS]?.split(",").map(item => item.trim()).filter(item => item) || [];
      const counts = this.props.otherPrefs[PREF_SPOC_COUNTS]?.split(",").map(item => item.trim()).filter(item => item) || [];

      // Confirm that the IAB type will have a count value of "1"
      const supportIABAdTypes = ["newtab_leaderboard", "newtab_rectangle", "newtab_billboard"];
      let countValue;
      if (supportIABAdTypes.includes(id)) {
        countValue = "1"; // Default count value for all IAB ad types
      } else {
        throw new Error("IAB ad type not supported");
      }
      if (pressed) {
        // If pressed is true, add the id to the placements array
        if (!placements.includes(id)) {
          placements.push(id);
          counts.push(countValue);
        }
      } else {
        // If pressed is false, remove the id from the placements array
        const index = placements.indexOf(id);
        if (index !== -1) {
          placements.splice(index, 1);
          counts.splice(index, 1);
        }
      }
      return {
        placements: placements.join(", "),
        counts: counts.join(", ")
      };
    };
    const {
      placements,
      counts
    } = generateSpocPrefValues();

    // Update prefs with new values
    this.props.dispatch(actionCreators.SetPref(PREF_SPOC_PLACEMENTS, placements));
    this.props.dispatch(actionCreators.SetPref(PREF_SPOC_COUNTS, counts));

    // If contextual ads, sections, and one of the banners are enabled
    // update the contextualBanner prefs to include the banner value and count
    // Else, clear the prefs
    if (PREF_CONTEXTUAL_ADS_ENABLED && PREF_SECTIONS_ENABLED) {
      if (PREF_AD_SIZE_BILLBOARD && placements.includes("newtab_billboard")) {
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_PLACEMENTS, "newtab_billboard"));
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_COUNTS, "1"));
      } else if (PREF_AD_SIZE_LEADERBOARD && placements.includes("newtab_leaderboard")) {
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_PLACEMENTS, "newtab_leaderboard"));
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_COUNTS, "1"));
      } else {
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_PLACEMENTS, ""));
        this.props.dispatch(actionCreators.SetPref(PREF_CONTEXTUAL_BANNER_COUNTS, ""));
      }
    }
  }
  handleSectionsToggle(e) {
    const {
      pressed
    } = e.target;
    this.props.dispatch(actionCreators.SetPref(PREF_SECTIONS_ENABLED, pressed));
    this.props.dispatch(actionCreators.SetPref("discoverystream.sections.cards.enabled", pressed));
    this.props.dispatch(actionCreators.SetPref("discoverystream.sections.cards.thumbsUpDown.enabled", pressed));
  }
  renderComponent(width, component) {
    return /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Type"), /*#__PURE__*/external_React_default().createElement("td", null, component.type)), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Width"), /*#__PURE__*/external_React_default().createElement("td", null, width)), component.feed && this.renderFeed(component.feed)));
  }
  renderWeatherData() {
    const {
      suggestions
    } = this.props.state.Weather;
    let weatherTable;
    if (suggestions) {
      weatherTable = /*#__PURE__*/external_React_default().createElement("div", {
        className: "weather-section"
      }, /*#__PURE__*/external_React_default().createElement("form", {
        onSubmit: this.handleWeatherSubmit
      }, /*#__PURE__*/external_React_default().createElement("label", {
        htmlFor: "weather-query"
      }, "Weather query"), /*#__PURE__*/external_React_default().createElement("input", {
        type: "text",
        min: "3",
        max: "10",
        id: "weather-query",
        onChange: this.handleWeatherUpdate,
        value: this.weatherQuery
      }), /*#__PURE__*/external_React_default().createElement("button", {
        type: "submit"
      }, "Submit")), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, suggestions.map(suggestion => /*#__PURE__*/external_React_default().createElement("tr", {
        className: "message-item",
        key: suggestion.city_name
      }, /*#__PURE__*/external_React_default().createElement("td", {
        className: "message-id"
      }, /*#__PURE__*/external_React_default().createElement("span", null, suggestion.city_name, " ", /*#__PURE__*/external_React_default().createElement("br", null))), /*#__PURE__*/external_React_default().createElement("td", {
        className: "message-summary"
      }, /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(suggestion, null, 2))))))));
    }
    return weatherTable;
  }
  renderPersonalizationData() {
    const {
      inferredInterests,
      coarseInferredInterests,
      coarsePrivateInferredInterests
    } = this.props.state.InferredPersonalization;
    return /*#__PURE__*/external_React_default().createElement("div", null, " ", "Inferred Interests:", /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(inferredInterests, null, 2)), " Coarse Inferred Interests:", /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(coarseInferredInterests, null, 2)), " Coarse Inferred Interests With Differential Privacy:", /*#__PURE__*/external_React_default().createElement("pre", null, JSON.stringify(coarsePrivateInferredInterests, null, 2)));
  }
  renderFeedData(url) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    const feed = feeds.data[url].data;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h4", null, "Feed url: ", url), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, feed.recommendations?.map(story => this.renderStoryData(story)))));
  }
  renderFeedsData() {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, Object.keys(feeds.data).map(url => this.renderFeedData(url)));
  }
  renderImpressionsData() {
    const {
      impressions
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h4", null, "Feed Impressions"), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, Object.keys(impressions.feed).map(key => {
      return /*#__PURE__*/external_React_default().createElement(Row, {
        key: key
      }, /*#__PURE__*/external_React_default().createElement("td", {
        className: "min"
      }, key), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(impressions.feed[key]) || "(no data)"));
    }))));
  }
  renderBlocksData() {
    const {
      blocks
    } = this.props.state.DiscoveryStream;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h4", null, "Blocks"), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.resetBlocks
    }, "Reset Blocks"), " ", /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, Object.keys(blocks).map(key => {
      return /*#__PURE__*/external_React_default().createElement(Row, {
        key: key
      }, /*#__PURE__*/external_React_default().createElement("td", {
        className: "min"
      }, key));
    }))));
  }
  renderSpocs() {
    const {
      spocs
    } = this.props.state.DiscoveryStream;
    const unifiedAdsSpocsEnabled = this.props.otherPrefs["unifiedAds.spocs.enabled"];

    // Determine which mechanism is querying the UAPI ads server
    const PREF_UNIFIED_ADS_ADSFEED_ENABLED = "unifiedAds.adsFeed.enabled";
    const adsFeedEnabled = this.props.otherPrefs[PREF_UNIFIED_ADS_ADSFEED_ENABLED];
    const unifiedAdsEndpoint = this.props.otherPrefs["unifiedAds.endpoint"];
    let spocsData = [];
    if (spocs.data && spocs.data.newtab_spocs && spocs.data.newtab_spocs.items) {
      spocsData = spocs.data.newtab_spocs.items || [];
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "adsfeed enabled"), /*#__PURE__*/external_React_default().createElement("td", null, adsFeedEnabled ? "true" : "false")), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "spocs_endpoint"), /*#__PURE__*/external_React_default().createElement("td", null, unifiedAdsSpocsEnabled ? unifiedAdsEndpoint : spocs.spocs_endpoint)), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(spocs.lastUpdated))))), /*#__PURE__*/external_React_default().createElement("h4", null, "Spoc data"), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, spocsData.map(spoc => this.renderStoryData(spoc)))), /*#__PURE__*/external_React_default().createElement("h4", null, "Spoc frequency caps"), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, spocs.frequency_caps.map(spoc => this.renderStoryData(spoc)))));
  }
  onStoryToggle(story) {
    const {
      toggledStories
    } = this.state;
    this.setState({
      toggledStories: {
        ...toggledStories,
        [story.id]: !toggledStories[story.id]
      }
    });
  }
  renderStoryData(story) {
    let storyData = "";
    if (this.state.toggledStories[story.id]) {
      storyData = JSON.stringify(story, null, 2);
    }
    return /*#__PURE__*/external_React_default().createElement("tr", {
      className: "message-item",
      key: story.id
    }, /*#__PURE__*/external_React_default().createElement("td", {
      className: "message-id"
    }, /*#__PURE__*/external_React_default().createElement("span", null, story.id, " ", /*#__PURE__*/external_React_default().createElement("br", null)), /*#__PURE__*/external_React_default().createElement(ToggleStoryButton, {
      story: story,
      onClick: this.onStoryToggle
    })), /*#__PURE__*/external_React_default().createElement("td", {
      className: "message-summary"
    }, /*#__PURE__*/external_React_default().createElement("pre", null, storyData)));
  }
  renderFeed(feed) {
    const {
      feeds
    } = this.props.state.DiscoveryStream;
    if (!feed.url) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Feed url"), /*#__PURE__*/external_React_default().createElement("td", null, feed.url)), /*#__PURE__*/external_React_default().createElement(Row, null, /*#__PURE__*/external_React_default().createElement("td", {
      className: "min"
    }, "Data last fetched"), /*#__PURE__*/external_React_default().createElement("td", null, relativeTime(feeds.data[feed.url] ? feeds.data[feed.url].lastUpdated : null) || "(no data)")));
  }
  render() {
    const prefToggles = "enabled collapsible".split(" ");
    const {
      config,
      layout
    } = this.props.state.DiscoveryStream;
    const personalized = this.props.otherPrefs["discoverystream.personalization.enabled"];
    const selectedFeed = this.props.otherPrefs[PREF_CONTEXTUAL_CONTENT_SELECTED_FEED];
    const sectionsEnabled = this.props.otherPrefs[PREF_SECTIONS_ENABLED];
    const TBRFeeds = this.props.otherPrefs[PREF_CONTEXTUAL_CONTENT_FEEDS].split(",").map(s => s.trim()).filter(item => item);

    // Prefs for IAB Banners
    const mediumRectangleEnabled = this.props.otherPrefs[PREF_AD_SIZE_MEDIUM_RECTANGLE];
    const billboardsEnabled = this.props.otherPrefs[PREF_AD_SIZE_BILLBOARD];
    const leaderboardEnabled = this.props.otherPrefs[PREF_AD_SIZE_LEADERBOARD];
    const spocPlacements = this.props.otherPrefs[PREF_SPOC_PLACEMENTS];
    const mediumRectangleEnabledPressed = mediumRectangleEnabled && spocPlacements.includes("newtab_rectangle");
    const billboardPressed = billboardsEnabled && spocPlacements.includes("newtab_billboard");
    const leaderboardPressed = leaderboardEnabled && spocPlacements.includes("newtab_leaderboard");
    return /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.restorePrefDefaults
    }, "Restore Pref Defaults"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.refreshCache
    }, "Refresh Cache"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.expireCache
    }, "Expire Cache"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.systemTick
    }, "Trigger System Tick"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.idleDaily
    }, "Trigger Idle Daily"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.refreshInferredPersonalization
    }, "Refresh Inferred Personalization"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.syncRemoteSettings
    }, "Sync Remote Settings"), " ", /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.refreshTopicSelectionCache
    }, "Refresh Topic selection count"), /*#__PURE__*/external_React_default().createElement("br", null), /*#__PURE__*/external_React_default().createElement("button", {
      className: "button",
      onClick: this.showPlaceholder
    }, "Show Placeholder Cards"), " ", /*#__PURE__*/external_React_default().createElement("select", {
      className: "button",
      onChange: this.toggleTBRFeed,
      value: selectedFeed
    }, TBRFeeds.map(feed => /*#__PURE__*/external_React_default().createElement("option", {
      key: feed,
      value: feed
    }, feed))), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "sections-toggle",
      pressed: sectionsEnabled || null,
      onToggle: this.handleSectionsToggle,
      label: "Toggle DS Sections"
    })), /*#__PURE__*/external_React_default().createElement("details", {
      className: "details-section"
    }, /*#__PURE__*/external_React_default().createElement("summary", null, "IAB Banner Ad Sizes"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "newtab_leaderboard",
      pressed: leaderboardPressed || null,
      onToggle: this.toggleIABBanners,
      label: "Enable IAB Leaderboard"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "newtab_billboard",
      pressed: billboardPressed || null,
      onToggle: this.toggleIABBanners,
      label: "Enable IAB Billboard"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "toggle-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "newtab_rectangle",
      pressed: mediumRectangleEnabledPressed || null,
      onToggle: this.toggleIABBanners,
      label: "Enable IAB Medium Rectangle (MREC)"
    }))), /*#__PURE__*/external_React_default().createElement("table", null, /*#__PURE__*/external_React_default().createElement("tbody", null, prefToggles.map(pref => /*#__PURE__*/external_React_default().createElement(Row, {
      key: pref
    }, /*#__PURE__*/external_React_default().createElement("td", null, /*#__PURE__*/external_React_default().createElement(TogglePrefCheckbox, {
      checked: config[pref],
      pref: pref,
      onChange: this.setConfigValue
    })))))), /*#__PURE__*/external_React_default().createElement("h3", null, "Layout"), layout.map((row, rowIndex) => /*#__PURE__*/external_React_default().createElement("div", {
      key: `row-${rowIndex}`
    }, row.components.map((component, componentIndex) => /*#__PURE__*/external_React_default().createElement("div", {
      key: `component-${componentIndex}`,
      className: "ds-component"
    }, this.renderComponent(row.width, component))))), /*#__PURE__*/external_React_default().createElement("h3", null, "Personalization"), /*#__PURE__*/external_React_default().createElement(Personalization, {
      personalized: personalized,
      dispatch: this.props.dispatch,
      state: {
        Personalization: this.props.state.Personalization
      }
    }), /*#__PURE__*/external_React_default().createElement("h3", null, "Spocs"), this.renderSpocs(), /*#__PURE__*/external_React_default().createElement("h3", null, "Feeds Data"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "large-data-container"
    }, this.renderFeedsData()), /*#__PURE__*/external_React_default().createElement("h3", null, "Impressions Data"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "large-data-container"
    }, this.renderImpressionsData()), /*#__PURE__*/external_React_default().createElement("h3", null, "Blocked Data"), /*#__PURE__*/external_React_default().createElement("div", {
      className: "large-data-container"
    }, this.renderBlocksData()), /*#__PURE__*/external_React_default().createElement("h3", null, "Weather Data"), this.renderWeatherData(), /*#__PURE__*/external_React_default().createElement("h3", null, "Personalization Data"), this.renderPersonalizationData());
  }
}
class DiscoveryStreamAdminInner extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.setState = this.setState.bind(this);
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: `discoverystream-admin ${this.props.collapsed ? "collapsed" : "expanded"}`
    }, /*#__PURE__*/external_React_default().createElement("main", {
      className: "main-panel"
    }, /*#__PURE__*/external_React_default().createElement("h1", null, "Discovery Stream Admin"), /*#__PURE__*/external_React_default().createElement("p", {
      className: "helpLink"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-small-spacer icon-info"
    }), " ", /*#__PURE__*/external_React_default().createElement("span", null, "Need to access the ASRouter Admin dev tools?", " ", /*#__PURE__*/external_React_default().createElement("a", {
      target: "blank",
      href: "about:asrouter"
    }, "Click here"))), /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement(DiscoveryStreamAdminUI, {
      state: {
        DiscoveryStream: this.props.DiscoveryStream,
        Personalization: this.props.Personalization,
        Weather: this.props.Weather,
        InferredPersonalization: this.props.InferredPersonalization
      },
      otherPrefs: this.props.Prefs.values,
      dispatch: this.props.dispatch
    }))));
  }
}
class CollapseToggle extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onCollapseToggle = this.onCollapseToggle.bind(this);
    this.state = {
      collapsed: false
    };
  }
  get renderAdmin() {
    const {
      props
    } = this;
    return props.location.hash && props.location.hash.startsWith("#devtools");
  }
  onCollapseToggle(e) {
    e.preventDefault();
    this.setState(state => ({
      collapsed: !state.collapsed
    }));
  }
  setBodyClass() {
    if (this.renderAdmin && !this.state.collapsed) {
      globalThis.document.body.classList.add("no-scroll");
    } else {
      globalThis.document.body.classList.remove("no-scroll");
    }
  }
  componentDidMount() {
    this.setBodyClass();
  }
  componentDidUpdate() {
    this.setBodyClass();
  }
  componentWillUnmount() {
    globalThis.document.body.classList.remove("no-scroll");
  }
  render() {
    const {
      props
    } = this;
    const {
      renderAdmin
    } = this;
    const isCollapsed = this.state.collapsed || !renderAdmin;
    const label = `${isCollapsed ? "Expand" : "Collapse"} devtools`;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("a", {
      href: "#devtools",
      title: label,
      "aria-label": label,
      className: `discoverystream-admin-toggle ${isCollapsed ? "collapsed" : "expanded"}`,
      onClick: this.renderAdmin ? this.onCollapseToggle : null
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-devtools"
    })), renderAdmin ? /*#__PURE__*/external_React_default().createElement(DiscoveryStreamAdminInner, _extends({}, props, {
      collapsed: this.state.collapsed
    })) : null);
  }
}
const _DiscoveryStreamAdmin = props => /*#__PURE__*/external_React_default().createElement(SimpleHashRouter, null, /*#__PURE__*/external_React_default().createElement(CollapseToggle, props));
const DiscoveryStreamAdmin = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Personalization: state.Personalization,
  InferredPersonalization: state.InferredPersonalization,
  Prefs: state.Prefs,
  Weather: state.Weather
}))(_DiscoveryStreamAdmin);
;// CONCATENATED MODULE: ./content-src/components/ConfirmDialog/ConfirmDialog.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





/**
 * ConfirmDialog component.
 * One primary action button, one cancel button.
 *
 * Content displayed is controlled by `data` prop the component receives.
 * Example:
 * data: {
 *   // Any sort of data needed to be passed around by actions.
 *   payload: site.url,
 *   // Primary button AlsoToMain action.
 *   action: "DELETE_HISTORY_URL",
 *   // Primary button USerEvent action.
 *   userEvent: "DELETE",
 *   // Array of locale ids to display.
 *   message_body: ["confirm_history_delete_p1", "confirm_history_delete_notice_p2"],
 *   // Text for primary button.
 *   confirm_button_string_id: "menu_action_delete"
 * },
 */
class _ConfirmDialog extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this._handleCancelBtn = this._handleCancelBtn.bind(this);
    this._handleConfirmBtn = this._handleConfirmBtn.bind(this);
  }
  _handleCancelBtn() {
    this.props.dispatch({
      type: actionTypes.DIALOG_CANCEL
    });
    this.props.dispatch(actionCreators.UserEvent({
      event: actionTypes.DIALOG_CANCEL,
      source: this.props.data.eventSource
    }));
  }
  _handleConfirmBtn() {
    this.props.data.onConfirm.forEach(this.props.dispatch);
  }
  _renderModalMessage() {
    const message_body = this.props.data.body_string_id;
    if (!message_body) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement("span", null, message_body.map(msg => /*#__PURE__*/external_React_default().createElement("p", {
      key: msg,
      "data-l10n-id": msg
    })));
  }
  render() {
    if (!this.props.visible) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "confirmation-dialog"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "modal-overlay",
      onClick: this._handleCancelBtn,
      role: "presentation"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "modal"
    }, /*#__PURE__*/external_React_default().createElement("section", {
      className: "modal-message"
    }, this.props.data.icon && /*#__PURE__*/external_React_default().createElement("span", {
      className: `icon icon-spacer icon-${this.props.data.icon}`
    }), this._renderModalMessage()), /*#__PURE__*/external_React_default().createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      onClick: this._handleCancelBtn,
      "data-l10n-id": this.props.data.cancel_button_string_id
    }), /*#__PURE__*/external_React_default().createElement("button", {
      className: "done",
      onClick: this._handleConfirmBtn,
      "data-l10n-id": this.props.data.confirm_button_string_id,
      "data-l10n-args": JSON.stringify(this.props.data.confirm_button_string_args)
    }))));
  }
}
const ConfirmDialog = (0,external_ReactRedux_namespaceObject.connect)(state => state.Dialog)(_ConfirmDialog);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSImage/DSImage.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


const PLACEHOLDER_IMAGE_DATA_ARRAY = [{
  rotation: "0deg",
  offsetx: "20px",
  offsety: "8px",
  scale: "45%"
}, {
  rotation: "54deg",
  offsetx: "-26px",
  offsety: "62px",
  scale: "55%"
}, {
  rotation: "-30deg",
  offsetx: "78px",
  offsety: "30px",
  scale: "68%"
}, {
  rotation: "-22deg",
  offsetx: "0",
  offsety: "92px",
  scale: "60%"
}, {
  rotation: "-65deg",
  offsetx: "66px",
  offsety: "28px",
  scale: "60%"
}, {
  rotation: "22deg",
  offsetx: "-35px",
  offsety: "62px",
  scale: "52%"
}, {
  rotation: "-25deg",
  offsetx: "86px",
  offsety: "-15px",
  scale: "68%"
}];
const PLACEHOLDER_IMAGE_COLORS_ARRAY = "#0090ED #FF4F5F #2AC3A2 #FF7139 #A172FF #FFA437 #FF2A8A".split(" ");
function generateIndex({
  keyCode,
  max
}) {
  if (!keyCode) {
    // Just grab a random index if we cannot generate an index from a key.
    return Math.floor(Math.random() * max);
  }
  const hashStr = str => {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
      let charCode = str.charCodeAt(i);
      hash += charCode;
    }
    return hash;
  };
  const hash = hashStr(keyCode);
  return hash % max;
}
function PlaceholderImage({
  urlKey,
  titleKey
}) {
  const dataIndex = generateIndex({
    keyCode: urlKey,
    max: PLACEHOLDER_IMAGE_DATA_ARRAY.length
  });
  const colorIndex = generateIndex({
    keyCode: titleKey,
    max: PLACEHOLDER_IMAGE_COLORS_ARRAY.length
  });
  const {
    rotation,
    offsetx,
    offsety,
    scale
  } = PLACEHOLDER_IMAGE_DATA_ARRAY[dataIndex];
  const color = PLACEHOLDER_IMAGE_COLORS_ARRAY[colorIndex];
  const style = {
    "--placeholderBackgroundColor": color,
    "--placeholderBackgroundRotation": rotation,
    "--placeholderBackgroundOffsetx": offsetx,
    "--placeholderBackgroundOffsety": offsety,
    "--placeholderBackgroundScale": scale
  };
  return /*#__PURE__*/external_React_default().createElement("div", {
    style: style,
    className: "placeholder-image"
  });
}
class DSImage extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onOptimizedImageError = this.onOptimizedImageError.bind(this);
    this.onNonOptimizedImageError = this.onNonOptimizedImageError.bind(this);
    this.onLoad = this.onLoad.bind(this);
    this.state = {
      isLoaded: false,
      optimizedImageFailed: false,
      useTransition: false
    };
  }
  onIdleCallback() {
    if (!this.state.isLoaded) {
      this.setState({
        useTransition: true
      });
    }
  }

  // Wraps the image url with the Pocket proxy to both resize and crop the image.
  reformatImageURL(url, width, height) {
    const smart = this.props.smartCrop ? "smart/" : "";
    // Change the image URL to request a size tailored for the parent container width
    // Also: force JPEG, quality 60, no upscaling, no EXIF data
    // Uses Thumbor: https://thumbor.readthedocs.io/en/latest/usage.html
    const formattedUrl = `https://img-getpocket.cdn.mozilla.net/${width}x${height}/${smart}filters:format(jpeg):quality(60):no_upscale():strip_exif()/${encodeURIComponent(url)}`;
    return this.secureImageURL(formattedUrl);
  }

  // Wraps the image URL with the moz-cached-ohttp:// protocol.
  // This enables Firefox to load resources over Oblivious HTTP (OHTTP),
  // providing privacy-preserving resource loading.
  // Applied only when inferred personalization is enabled.
  // See: https://firefox-source-docs.mozilla.org/browser/components/mozcachedohttp/docs/index.html
  secureImageURL(url) {
    if (!this.props.secureImage) {
      return url;
    }
    return `moz-cached-ohttp://newtab-image/?url=${encodeURIComponent(url)}`;
  }
  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));
  }
  componentWillUnmount() {
    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }
  render() {
    let classNames = `ds-image
      ${this.props.extraClassNames ? ` ${this.props.extraClassNames}` : ``}
      ${this.state && this.state.useTransition ? ` use-transition` : ``}
      ${this.state && this.state.isLoaded ? ` loaded` : ``}
    `;
    let img;
    if (this.state) {
      if (this.props.optimize && this.props.rawSource && !this.state.optimizedImageFailed) {
        const baseSource = this.props.rawSource;

        // We don't care about securing this.props.source, as this exclusivly
        // comes from an older service that is not personalized.
        // This can also return a non secure url if this functionality is not enabled.
        const securedSource = this.secureImageURL(baseSource);
        let sizeRules = [];
        let srcSetRules = [];
        for (let rule of this.props.sizes) {
          let {
            mediaMatcher,
            width,
            height
          } = rule;
          let sizeRule = `${mediaMatcher} ${width}px`;
          sizeRules.push(sizeRule);
          let srcSetRule = `${this.reformatImageURL(baseSource, width, height)} ${width}w`;
          let srcSetRule2x = `${this.reformatImageURL(baseSource, width * 2, height * 2)} ${width * 2}w`;
          srcSetRules.push(srcSetRule);
          srcSetRules.push(srcSetRule2x);
        }
        if (this.props.sizes.length) {
          // We have to supply a fallback in the very unlikely event that none of
          // the media queries match. The smallest dimension was chosen arbitrarily.
          sizeRules.push(`${this.props.sizes[this.props.sizes.length - 1].width}px`);
        }
        img = /*#__PURE__*/external_React_default().createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onOptimizedImageError,
          sizes: sizeRules.join(","),
          src: securedSource,
          srcSet: srcSetRules.join(",")
        });
      } else if (this.props.source && !this.state.nonOptimizedImageFailed) {
        img = /*#__PURE__*/external_React_default().createElement("img", {
          loading: "lazy",
          alt: this.props.alt_text,
          crossOrigin: "anonymous",
          onLoad: this.onLoad,
          onError: this.onNonOptimizedImageError,
          src: this.props.source
        });
      } else {
        // We consider a failed to load img or source without an image as loaded.
        classNames = `${classNames} loaded`;
        // Remove the img element if we have no source. Render a placeholder instead.
        // This only happens for recent saves without a source.
        if (this.props.isRecentSave && !this.props.rawSource && !this.props.source) {
          img = /*#__PURE__*/external_React_default().createElement(PlaceholderImage, {
            urlKey: this.props.url,
            titleKey: this.props.title
          });
        } else {
          img = /*#__PURE__*/external_React_default().createElement("div", {
            className: "broken-image"
          });
        }
      }
    }
    return /*#__PURE__*/external_React_default().createElement("picture", {
      className: classNames
    }, img);
  }
  onOptimizedImageError() {
    // This will trigger a re-render and the unoptimized 450px image will be used as a fallback
    this.setState({
      optimizedImageFailed: true
    });
  }
  onNonOptimizedImageError() {
    this.setState({
      nonOptimizedImageFailed: true
    });
  }
  onLoad() {
    this.setState({
      isLoaded: true
    });
  }
}
DSImage.defaultProps = {
  source: null,
  // The current source style from Pocket API (always 450px)
  rawSource: null,
  // Unadulterated image URL to filter through Thumbor
  extraClassNames: null,
  // Additional classnames to append to component
  optimize: true,
  // Measure parent container to request exact sizes
  alt_text: null,
  windowObj: window,
  // Added to support unit tests
  sizes: []
};
;// CONCATENATED MODULE: ./content-src/components/ContextMenu/ContextMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class ContextMenu extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.hideContext = this.hideContext.bind(this);
    this.onShow = this.onShow.bind(this);
    this.onClick = this.onClick.bind(this);
  }
  hideContext() {
    this.props.onUpdate(false);
  }
  onShow() {
    if (this.props.onShow) {
      this.props.onShow();
    }
  }
  componentDidMount() {
    this.onShow();
    setTimeout(() => {
      globalThis.addEventListener("click", this.hideContext);
    }, 0);
  }
  componentWillUnmount() {
    globalThis.removeEventListener("click", this.hideContext);
  }
  onClick(event) {
    // Eat all clicks on the context menu so they don't bubble up to window.
    // This prevents the context menu from closing when clicking disabled items
    // or the separators.
    event.stopPropagation();
  }
  render() {
    // Disabling focus on the menu span allows the first tab to focus on the first menu item instead of the wrapper.
    return (
      /*#__PURE__*/
      // eslint-disable-next-line jsx-a11y/interactive-supports-focus
      external_React_default().createElement("span", {
        className: "context-menu"
      }, /*#__PURE__*/external_React_default().createElement("ul", {
        role: "menu",
        onClick: this.onClick,
        onKeyDown: this.onClick,
        className: "context-menu-list"
      }, this.props.options.map((option, i) => option.type === "separator" ? /*#__PURE__*/external_React_default().createElement("li", {
        key: i,
        className: "separator",
        role: "separator"
      }) : option.type !== "empty" && /*#__PURE__*/external_React_default().createElement(ContextMenuItem, {
        key: i,
        option: option,
        hideContext: this.hideContext,
        keyboardAccess: this.props.keyboardAccess
      }))))
    );
  }
}
class _ContextMenuItem extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onKeyUp = this.onKeyUp.bind(this);
    this.focusFirst = this.focusFirst.bind(this);
  }
  onClick(event) {
    this.props.hideContext();
    this.props.option.onClick(event);
  }

  // Focus the first menu item if the menu was accessed via the keyboard.
  focusFirst(button) {
    if (this.props.keyboardAccess && button) {
      button.focus();
    }
  }

  // This selects the correct node based on the key pressed
  focusSibling(target, key) {
    const {
      parentNode
    } = target;
    const closestSiblingSelector = key === "ArrowUp" ? "previousSibling" : "nextSibling";
    if (!parentNode[closestSiblingSelector]) {
      return;
    }
    if (parentNode[closestSiblingSelector].firstElementChild) {
      parentNode[closestSiblingSelector].firstElementChild.focus();
    } else {
      parentNode[closestSiblingSelector][closestSiblingSelector].firstElementChild.focus();
    }
  }
  onKeyDown(event) {
    const {
      option
    } = this.props;
    switch (event.key) {
      case "Tab":
        // tab goes down in context menu, shift + tab goes up in context menu
        // if we're on the last item, one more tab will close the context menu
        // similarly, if we're on the first item, one more shift + tab will close it
        if (event.shiftKey && option.first || !event.shiftKey && option.last) {
          this.props.hideContext();
        }
        break;
      case "ArrowUp":
      case "ArrowDown":
        event.preventDefault();
        this.focusSibling(event.target, event.key);
        break;
      case "Enter":
      case " ":
        event.preventDefault();
        this.props.hideContext();
        option.onClick();
        break;
      case "Escape":
        this.props.hideContext();
        break;
    }
  }

  // Prevents the default behavior of spacebar
  // scrolling the page & auto-triggering buttons.
  onKeyUp(event) {
    if (event.key === " ") {
      event.preventDefault();
    }
  }
  render() {
    const {
      option
    } = this.props;
    const className = [option.disabled ? "disabled" : ""].join(" ");
    return /*#__PURE__*/external_React_default().createElement("li", {
      role: "presentation",
      className: "context-menu-item"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      role: "menuitem",
      className: className,
      onClick: this.onClick,
      onKeyDown: this.onKeyDown,
      onKeyUp: this.onKeyUp,
      ref: option.first ? this.focusFirst : null,
      "aria-haspopup": option.id === "newtab-menu-edit-topsites" ? "dialog" : null
    }, /*#__PURE__*/external_React_default().createElement("span", {
      "data-l10n-id": option.string_id || option.id
    })));
  }
}
const ContextMenuItem = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_ContextMenuItem);
;// CONCATENATED MODULE: ./content-src/lib/link-menu-options.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



const _OpenInPrivateWindow = site => ({
  id: "newtab-menu-open-new-private-window",
  icon: "new-window-private",
  action: actionCreators.OnlyToMain({
    type: actionTypes.OPEN_PRIVATE_WINDOW,
    data: {
      url: site.url,
      referrer: site.referrer,
      event_source: "CONTEXT_MENU",
    },
  }),
  userEvent: "OPEN_PRIVATE_WINDOW",
});

/**
 * List of functions that return items that can be included as menu options in a
 * LinkMenu. All functions take the site as the first parameter, and optionally
 * the index of the site.
 */
const LinkMenuOptions = {
  Separator: () => ({ type: "separator" }),
  EmptyItem: () => ({ type: "empty" }),
  ShowPrivacyInfo: () => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: {
      type: actionTypes.SHOW_PRIVACY_INFO,
    },
    userEvent: "SHOW_PRIVACY_INFO",
  }),
  AboutSponsored: site => ({
    id: "newtab-menu-show-privacy-info",
    icon: "info",
    action: actionCreators.AlsoToMain({
      type: actionTypes.ABOUT_SPONSORED_TOP_SITES,
      data: {
        advertiser_name: (site.label || site.hostname).toLocaleLowerCase(),
        position: site.sponsored_position,
        tile_id: site.sponsored_tile_id,
        block_key: site.block_key,
      },
    }),
    userEvent: "TOPSITE_SPONSOR_INFO",
  }),
  RemoveBookmark: site => ({
    id: "newtab-menu-remove-bookmark",
    icon: "bookmark-added",
    action: actionCreators.AlsoToMain({
      type: actionTypes.DELETE_BOOKMARK_BY_ID,
      data: site.bookmarkGuid,
    }),
    userEvent: "BOOKMARK_DELETE",
  }),
  AddBookmark: site => ({
    id: "newtab-menu-bookmark",
    icon: "bookmark-hollow",
    action: actionCreators.AlsoToMain({
      type: actionTypes.BOOKMARK_URL,
      data: { url: site.url, title: site.title, type: site.type },
    }),
    userEvent: "BOOKMARK_ADD",
  }),
  OpenInNewWindow: site => ({
    id: "newtab-menu-open-new-window",
    icon: "new-window",
    action: actionCreators.AlsoToMain({
      type: actionTypes.OPEN_NEW_WINDOW,
      data: {
        card_type: site.card_type,
        referrer: site.referrer,
        typedBonus: site.typedBonus,
        url: site.url,
        is_sponsored: !!site.sponsored_tile_id,
        event_source: "CONTEXT_MENU",
        topic: site.topic,
        firstVisibleTimestamp: site.firstVisibleTimestamp,
        tile_id: site.tile_id,
        recommendation_id: site.recommendation_id,
        scheduled_corpus_item_id: site.scheduled_corpus_item_id,
        corpus_item_id: site.corpus_item_id,
        received_rank: site.received_rank,
        recommended_at: site.recommended_at,
        format: site.format,
        ...(site.flight_id ? { flight_id: site.flight_id } : {}),
        is_pocket_card: site.type === "CardGrid",
        is_list_card: site.is_list_card,
        ...(site.section
          ? {
              section: site.section,
              section_position: site.section_position,
              is_section_followed: site.is_section_followed,
            }
          : {}),
      },
    }),
    userEvent: "OPEN_NEW_WINDOW",
  }),

  // This blocks the url for regular stories,
  // but also sends a message to DiscoveryStream with flight_id.
  // If DiscoveryStream sees this message for a flight_id
  // it also blocks it on the flight_id.
  BlockUrl: (site, index, eventSource) => {
    return LinkMenuOptions.BlockUrls([site], index, eventSource);
  },
  // Same as BlockUrl, except can work on an array of sites.
  BlockUrls: (tiles, pos, eventSource) => ({
    id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: actionCreators.AlsoToMain({
      type: actionTypes.BLOCK_URL,
      source: eventSource,
      data: tiles.map(site => ({
        url: site.original_url || site.open_url || site.url,
        // pocket_id is only for pocket stories being in highlights, and then dismissed.
        pocket_id: site.pocket_id,
        tile_id: site.tile_id,
        ...(site.block_key ? { block_key: site.block_key } : {}),
        recommendation_id: site.recommendation_id,
        scheduled_corpus_item_id: site.scheduled_corpus_item_id,
        corpus_item_id: site.corpus_item_id,
        received_rank: site.received_rank,
        recommended_at: site.recommended_at,
        // used by PlacesFeed and TopSitesFeed for sponsored top sites blocking.
        isSponsoredTopSite: site.sponsored_position,
        type: site.type,
        card_type: site.card_type,
        ...(site.shim && site.shim.delete ? { shim: site.shim.delete } : {}),
        ...(site.flight_id ? { flight_id: site.flight_id } : {}),
        // If not sponsored, hostname could be anything (Cat3 Data!).
        // So only put in advertiser_name for sponsored topsites.
        ...(site.sponsored_position
          ? {
              advertiser_name: (
                site.label || site.hostname
              )?.toLocaleLowerCase(),
            }
          : {}),
        position: pos,
        ...(site.sponsored_tile_id ? { tile_id: site.sponsored_tile_id } : {}),
        is_pocket_card: site.type === "CardGrid",
        is_list_card: site.is_list_card,
        ...(site.format ? { format: site.format } : {}),
        ...(site.section
          ? {
              section: site.section,
              section_position: site.section_position,
              is_section_followed: site.is_section_followed,
            }
          : {}),
      })),
    }),
    impression: actionCreators.ImpressionStats({
      source: eventSource,
      block: 0,
      tiles: tiles.map((site, index) => ({
        id: site.guid,
        pos: pos + index,
        ...(site.shim && site.shim.delete ? { shim: site.shim.delete } : {}),
      })),
    }),
    userEvent: "BLOCK",
  }),

  // This is the "Dismiss" action for leaderboard/billboard ads.
  BlockAdUrl: (site, pos, eventSource) => ({
    id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: actionCreators.AlsoToMain({
      type: actionTypes.BLOCK_URL,
      data: [site],
    }),
    impression: actionCreators.ImpressionStats({
      source: eventSource,
      block: 0,
      tiles: [
        {
          id: site.guid,
          pos,
          ...(site.shim && site.shim.save ? { shim: site.shim.save } : {}),
        },
      ],
    }),
    userEvent: "BLOCK",
  }),

  // This is an option for web extentions which will result in remove items from
  // memory and notify the web extenion, rather than using the built-in block list.
  WebExtDismiss: (site, index, eventSource) => ({
    id: "menu_action_webext_dismiss",
    string_id: "newtab-menu-dismiss",
    icon: "dismiss",
    action: actionCreators.WebExtEvent(actionTypes.WEBEXT_DISMISS, {
      source: eventSource,
      url: site.url,
      action_position: index,
    }),
  }),
  DeleteUrl: (site, index, eventSource, isEnabled, siteInfo) => ({
    id: "newtab-menu-delete-history",
    icon: "delete",
    action: {
      type: actionTypes.DIALOG_OPEN,
      data: {
        onConfirm: [
          actionCreators.AlsoToMain({
            type: actionTypes.DELETE_HISTORY_URL,
            data: {
              url: site.url,
              pocket_id: site.pocket_id,
              forceBlock: site.bookmarkGuid,
            },
          }),
          actionCreators.UserEvent(
            Object.assign(
              { event: "DELETE", source: eventSource, action_position: index },
              siteInfo
            )
          ),
          // Also broadcast that this url has been deleted so that
          // the confirmation dialog knows it needs to disappear now.
          actionCreators.AlsoToMain({
            type: actionTypes.DIALOG_CLOSE,
          }),
        ],
        eventSource,
        body_string_id: [
          "newtab-confirm-delete-history-p1",
          "newtab-confirm-delete-history-p2",
        ],
        confirm_button_string_id: "newtab-topsites-delete-history-button",
        cancel_button_string_id: "newtab-topsites-cancel-button",
        icon: "modal-delete",
      },
    },
    userEvent: "DIALOG_OPEN",
  }),
  ShowFile: site => ({
    id: "newtab-menu-show-file",
    icon: "search",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SHOW_DOWNLOAD_FILE,
      data: { url: site.url },
    }),
  }),
  OpenFile: site => ({
    id: "newtab-menu-open-file",
    icon: "open-file",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_DOWNLOAD_FILE,
      data: { url: site.url },
    }),
  }),
  CopyDownloadLink: site => ({
    id: "newtab-menu-copy-download-link",
    icon: "copy",
    action: actionCreators.OnlyToMain({
      type: actionTypes.COPY_DOWNLOAD_LINK,
      data: { url: site.url },
    }),
  }),
  GoToDownloadPage: site => ({
    id: "newtab-menu-go-to-download-page",
    icon: "download",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.referrer },
    }),
    disabled: !site.referrer,
  }),
  RemoveDownload: site => ({
    id: "newtab-menu-remove-download",
    icon: "delete",
    action: actionCreators.OnlyToMain({
      type: actionTypes.REMOVE_DOWNLOAD_FILE,
      data: { url: site.url },
    }),
  }),
  PinTopSite: (site, index) => ({
    id: "newtab-menu-pin",
    icon: "pin",
    action: actionCreators.AlsoToMain({
      type: actionTypes.TOP_SITES_PIN,
      data: {
        site,
        index,
      },
    }),
    userEvent: "PIN",
  }),
  UnpinTopSite: site => ({
    id: "newtab-menu-unpin",
    icon: "unpin",
    action: actionCreators.AlsoToMain({
      type: actionTypes.TOP_SITES_UNPIN,
      data: { site: { url: site.url } },
    }),
    userEvent: "UNPIN",
  }),
  EditTopSite: (site, index) => ({
    id: "newtab-menu-edit-topsites",
    icon: "edit",
    action: {
      type: actionTypes.TOP_SITES_EDIT,
      data: { index },
    },
  }),
  CheckBookmark: site =>
    site.bookmarkGuid
      ? LinkMenuOptions.RemoveBookmark(site)
      : LinkMenuOptions.AddBookmark(site),
  CheckPinTopSite: (site, index) =>
    site.isPinned
      ? LinkMenuOptions.UnpinTopSite(site)
      : LinkMenuOptions.PinTopSite(site, index),
  OpenInPrivateWindow: (site, index, eventSource, isEnabled) =>
    isEnabled ? _OpenInPrivateWindow(site) : LinkMenuOptions.EmptyItem(),
  ChangeWeatherLocation: () => ({
    id: "newtab-weather-menu-change-location",
    action: actionCreators.BroadcastToContent({
      type: actionTypes.WEATHER_SEARCH_ACTIVE,
      data: true,
    }),
  }),
  ChangeWeatherDisplaySimple: () => ({
    id: "newtab-weather-menu-change-weather-display-simple",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.display",
        value: "simple",
      },
    }),
  }),
  ChangeWeatherDisplayDetailed: () => ({
    id: "newtab-weather-menu-change-weather-display-detailed",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.display",
        value: "detailed",
      },
    }),
  }),
  ChangeTempUnitFahrenheit: () => ({
    id: "newtab-weather-menu-change-temperature-units-fahrenheit",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.temperatureUnits",
        value: "f",
      },
    }),
  }),
  ChangeTempUnitCelsius: () => ({
    id: "newtab-weather-menu-change-temperature-units-celsius",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "weather.temperatureUnits",
        value: "c",
      },
    }),
  }),
  HideWeather: () => ({
    id: "newtab-weather-menu-hide-weather",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "showWeather",
        value: false,
      },
    }),
  }),
  OpenLearnMoreURL: site => ({
    id: "newtab-weather-menu-learn-more",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.url },
    }),
  }),
  FakespotDismiss: () => ({
    id: "newtab-menu-dismiss",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "discoverystream.contextualContent.fakespot.enabled",
        value: false,
      },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.FAKESPOT_DISMISS,
    }),
  }),
  AboutFakespot: site => ({
    id: "newtab-menu-about-fakespot",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.url },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_ABOUT_FAKESPOT,
    }),
  }),
  SectionBlock: ({
    sectionPersonalization,
    sectionKey,
    sectionPosition,
    title,
  }) => ({
    id: "newtab-menu-section-block",
    icon: "delete",
    action: {
      // Open the confirmation dialog to block a section.
      type: actionTypes.DIALOG_OPEN,
      data: {
        onConfirm: [
          // Once the user confirmed their intention to block this section,
          // update their preferences.
          actionCreators.AlsoToMain({
            type: actionTypes.SECTION_PERSONALIZATION_SET,
            data: {
              ...sectionPersonalization,
              [sectionKey]: {
                isBlocked: true,
                isFollowed: false,
              },
            },
          }),
          // Telemetry
          actionCreators.OnlyToMain({
            type: actionTypes.BLOCK_SECTION,
            data: {
              section: sectionKey,
              section_position: sectionPosition,
              event_source: "CONTEXT_MENU",
            },
          }),
          // Also broadcast that this section has been blocked so that
          // the confirmation dialog knows it needs to disappear now.
          actionCreators.AlsoToMain({
            type: actionTypes.DIALOG_CLOSE,
          }),
        ],
        // Pass Fluent strings to ConfirmDialog component for the copy
        // of the prompt to block sections.
        body_string_id: [
          "newtab-section-confirm-block-topic-p1",
          "newtab-section-confirm-block-topic-p2",
        ],
        confirm_button_string_id: "newtab-section-block-topic-button",
        confirm_button_string_args: { topic: title },
        cancel_button_string_id: "newtab-section-cancel-button",
      },
    },
    userEvent: "DIALOG_OPEN",
  }),
  SectionUnfollow: ({
    sectionPersonalization,
    sectionKey,
    sectionPosition,
  }) => ({
    id: "newtab-menu-section-unfollow",
    action: actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: (({ [sectionKey]: _sectionKey, ...remaining }) => remaining)(
        sectionPersonalization
      ),
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.UNFOLLOW_SECTION,
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        event_source: "CONTEXT_MENU",
      },
    }),
  }),
  ManageSponsoredContent: () => ({
    id: "newtab-menu-manage-sponsored-content",
    action: actionCreators.OnlyToMain({ type: actionTypes.SETTINGS_OPEN }),
    userEvent: "OPEN_NEWTAB_PREFS",
  }),
  OurSponsorsAndYourPrivacy: () => ({
    id: "newtab-menu-our-sponsors-and-your-privacy",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: {
        url: "https://support.mozilla.org/kb/pocket-sponsored-stories-new-tabs",
      },
    }),
    userEvent: "CLICK_PRIVACY_INFO",
  }),
  ReportAd: site => {
    return {
      id: "newtab-menu-report-this-ad",
      action: actionCreators.AlsoToMain({
        type: actionTypes.REPORT_AD_OPEN,
        data: {
          card_type: site.card_type,
          position: site.position,
          reporting_url: site.shim.report,
          url: site.url,
        },
      }),
    };
  },

  ReportContent: site => {
    return {
      id: "newtab-menu-report",
      action: actionCreators.AlsoToMain({
        type: actionTypes.REPORT_CONTENT_OPEN,
        data: {
          card_type: site.card_type,
          corpus_item_id: site.corpus_item_id,
          scheduled_corpus_item_id: site.scheduled_corpus_item_id,
          section_position: site.section_position,
          section: site.section,
          title: site.title,
          topic: site.topic,
          url: site.url,
        },
      }),
    };
  },
  TrendingSearchLearnMore: site => ({
    id: "newtab-trending-searches-learn-more",
    action: actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: { url: site.url },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.TRENDING_SEARCH_LEARN_MORE,
      data: {
        variant: site.variant,
      },
    }),
  }),
  TrendingSearchDismiss: site => ({
    id: "newtab-trending-searches-dismiss",
    action: actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "trendingSearch.enabled",
        value: false,
      },
    }),
    impression: actionCreators.OnlyToMain({
      type: actionTypes.TRENDING_SEARCH_DISMISS,
      data: {
        variant: site.variant,
      },
    }),
  }),
};

;// CONCATENATED MODULE: ./content-src/components/LinkMenu/LinkMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const DEFAULT_SITE_MENU_OPTIONS = ["CheckPinTopSite", "EditTopSite", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl"];
class _LinkMenu extends (external_React_default()).PureComponent {
  getOptions() {
    const {
      props
    } = this;
    const {
      site,
      index,
      source,
      isPrivateBrowsingEnabled,
      siteInfo,
      platform,
      dispatch,
      options,
      shouldSendImpressionStats,
      userEvent = actionCreators.UserEvent
    } = props;

    // Handle special case of default site
    const propOptions = site.isDefault && !site.searchTopSite && !site.sponsored_position ? DEFAULT_SITE_MENU_OPTIONS : options;
    const linkMenuOptions = propOptions.map(o => LinkMenuOptions[o](site, index, source, isPrivateBrowsingEnabled, siteInfo, platform)).map(option => {
      const {
        action,
        impression,
        id,
        type,
        userEvent: eventName
      } = option;
      if (!type && id) {
        option.onClick = (event = {}) => {
          const {
            ctrlKey,
            metaKey,
            shiftKey,
            button
          } = event;
          // Only send along event info if there's something non-default to send
          if (ctrlKey || metaKey || shiftKey || button === 1) {
            action.data = Object.assign({
              event: {
                ctrlKey,
                metaKey,
                shiftKey,
                button
              }
            }, action.data);
          }
          dispatch(action);
          if (eventName) {
            let value;
            // Bug 1958135: Pass additional info to ac.OPEN_NEW_WINDOW event
            if (action.type === "OPEN_NEW_WINDOW") {
              const {
                card_type,
                corpus_item_id,
                event_source,
                fetchTimestamp,
                firstVisibleTimestamp,
                format,
                is_list_card,
                is_section_followed,
                received_rank,
                recommendation_id,
                recommended_at,
                scheduled_corpus_item_id,
                section_position,
                section,
                selected_topics,
                tile_id,
                topic
              } = action.data;
              value = {
                card_type,
                corpus_item_id,
                event_source,
                fetchTimestamp,
                firstVisibleTimestamp,
                format,
                is_list_card,
                received_rank,
                recommendation_id,
                recommended_at,
                scheduled_corpus_item_id,
                ...(section ? {
                  is_section_followed,
                  section_position,
                  section
                } : {}),
                selected_topics: selected_topics ? selected_topics : "",
                tile_id,
                topic
              };
            } else {
              value = {
                card_type: site.flight_id ? "spoc" : "organic"
              };
            }
            const userEventData = Object.assign({
              event: eventName,
              source,
              action_position: index,
              value
            }, siteInfo);
            dispatch(userEvent(userEventData));
            if (impression && shouldSendImpressionStats) {
              dispatch(impression);
            }
          }
        };
      }
      return option;
    });

    // This is for accessibility to support making each item tabbable.
    // We want to know which item is the first and which item
    // is the last, so we can close the context menu accordingly.
    linkMenuOptions[0].first = true;
    linkMenuOptions[linkMenuOptions.length - 1].last = true;
    return linkMenuOptions;
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement(ContextMenu, {
      onUpdate: this.props.onUpdate,
      onShow: this.props.onShow,
      options: this.getOptions(),
      keyboardAccess: this.props.keyboardAccess
    });
  }
}
const getState = state => ({
  isPrivateBrowsingEnabled: state.Prefs.values.isPrivateBrowsingEnabled,
  platform: state.Prefs.values.platform
});
const LinkMenu = (0,external_ReactRedux_namespaceObject.connect)(getState)(_LinkMenu);
;// CONCATENATED MODULE: ./content-src/components/ContextMenu/ContextMenuButton.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class ContextMenuButton extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false,
      contextMenuKeyboard: false
    };
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onUpdate = this.onUpdate.bind(this);
  }
  openContextMenu(isKeyBoard) {
    if (this.props.onUpdate) {
      this.props.onUpdate(true);
    }
    this.setState({
      showContextMenu: true,
      contextMenuKeyboard: isKeyBoard
    });
  }
  onClick(event) {
    event.preventDefault();
    this.openContextMenu(false, event);
  }
  onKeyDown(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.openContextMenu(true, event);
    }
  }
  onUpdate(showContextMenu) {
    if (this.props.onUpdate) {
      this.props.onUpdate(showContextMenu);
    }
    this.setState({
      showContextMenu
    });
  }
  render() {
    const {
      tooltipArgs,
      tooltip,
      children,
      refFunction
    } = this.props;
    const {
      showContextMenu,
      contextMenuKeyboard
    } = this.state;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("button", {
      "aria-haspopup": "true",
      "data-l10n-id": tooltip,
      "data-l10n-args": tooltipArgs ? JSON.stringify(tooltipArgs) : null,
      className: "context-menu-button icon",
      onKeyDown: this.onKeyDown,
      onClick: this.onClick,
      ref: refFunction,
      tabIndex: this.props.tabIndex || 0,
      onFocus: this.props.onFocus
    }), showContextMenu ? /*#__PURE__*/external_React_default().cloneElement(children, {
      keyboardAccess: contextMenuKeyboard,
      onUpdate: this.onUpdate
    }) : null);
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSLinkMenu/DSLinkMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






class _DSLinkMenu extends (external_React_default()).PureComponent {
  render() {
    const {
      index,
      dispatch
    } = this.props;
    let TOP_STORIES_CONTEXT_MENU_OPTIONS;
    const PREF_REPORT_ADS_ENABLED = "discoverystream.reportAds.enabled";
    const prefs = this.props.Prefs.values;
    const showAdsReporting = prefs[PREF_REPORT_ADS_ENABLED];
    const isSpoc = this.props.card_type === "spoc";
    if (isSpoc) {
      TOP_STORIES_CONTEXT_MENU_OPTIONS = ["BlockUrl", ...(showAdsReporting ? ["ReportAd"] : []), "ManageSponsoredContent", "OurSponsorsAndYourPrivacy"];
    } else {
      TOP_STORIES_CONTEXT_MENU_OPTIONS = ["CheckBookmark", "Separator", "OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(this.props.section ? ["ReportContent"] : [])];
    }
    const type = this.props.type || "DISCOVERY_STREAM";
    const title = this.props.title || this.props.source;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "context-menu-position-container"
    }, /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.props.onMenuUpdate
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: index,
      source: type.toUpperCase(),
      onShow: this.props.onMenuShow,
      options: TOP_STORIES_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      userEvent: actionCreators.DiscoveryStreamUserEvent,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title: this.props.title,
        type: this.props.type,
        url: this.props.url,
        guid: this.props.id,
        pocket_id: this.props.pocket_id,
        card_type: this.props.card_type,
        shim: this.props.shim,
        bookmarkGuid: this.props.bookmarkGuid,
        flight_id: this.props.flightId,
        tile_id: this.props.tile_id,
        recommendation_id: this.props.recommendation_id,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        firstVisibleTimestamp: this.props.firstVisibleTimestamp,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank,
        topic: this.props.topic,
        is_list_card: this.props.is_list_card,
        position: index,
        ...(this.props.format ? {
          format: this.props.format
        } : {}),
        ...(this.props.section ? {
          section: this.props.section,
          section_position: this.props.section_position,
          is_section_followed: this.props.is_section_followed
        } : {})
      }
    })));
  }
}
const DSLinkMenu = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_DSLinkMenu);
;// CONCATENATED MODULE: ./content-src/lib/utils.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */

const PREF_WEATHER_PLACEMENT = "weather.placement";
const PREF_DAILY_BRIEF_SECTIONID = "discoverystream.dailyBrief.sectionId";
const PREF_DAILY_BRIEF_ENABLED = "discoverystream.dailyBrief.enabled";
const PREF_STORIES_ENABLED = "feeds.section.topstories";
const PREF_SYSTEM_STORIES_ENABLED = "feeds.system.topstories";

/**
 * A custom react hook that sets up an IntersectionObserver to observe a single
 * or list of elements and triggers a callback when the element comes into the viewport
 * Note: The refs used should be an array type
 * @function useIntersectionObserver
 * @param {function} callback - The function to call when an element comes into the viewport
 * @param {Object} options - Options object passed to Intersection Observer:
 * https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver/IntersectionObserver#options
 * @param {Boolean} [isSingle = false] Boolean if the elements are an array or single element
 *
 * @returns {React.MutableRefObject} a ref containing an array of elements or single element
 *
 *
 *
 */
function useIntersectionObserver(callback, threshold = 0.3) {
  const elementsRef = (0,external_React_namespaceObject.useRef)([]);
  const triggeredElements = (0,external_React_namespaceObject.useRef)(new WeakSet());
  (0,external_React_namespaceObject.useEffect)(() => {
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !triggeredElements.current.has(entry.target)) {
          triggeredElements.current.add(entry.target);
          callback(entry.target);
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold
    });
    elementsRef.current.forEach(el => {
      if (el && !triggeredElements.current.has(el)) {
        observer.observe(el);
      }
    });

    // Cleanup function to disconnect observer on unmount
    return () => observer.disconnect();
  }, [callback, threshold]);
  return elementsRef;
}

/**
 * Determines the active card size ("small", "medium", or "large") based on the screen width
 * and class names applied to the card element at the time of an event (example: click)
 *
 * @param {number} screenWidth - The current window width (in pixels).
 * @param {string | string[]} classNames - A string or array of class names applied to the sections card.
 * @param {boolean[]} sectionsEnabled - If sections is not enabled, all cards are `medium-card`
 * @param {number} flightId - Error ege case: This function should not be called on spocs, which have flightId
 * @returns {"small-card" | "medium-card" | "large-card" | null} The active card type, or null if none is matched.
 */
function getActiveCardSize(screenWidth, classNames, sectionsEnabled, flightId) {
  // Only applies to sponsored content
  if (flightId) {
    return "spoc";
  }

  // Default layout only supports `medium-card`
  if (!sectionsEnabled) {
    // Missing arguments
    return "medium-card";
  }

  // Return null if no values are available
  if (!screenWidth || !classNames) {
    // Missing arguments
    return null;
  }
  const classList = classNames.split(" ");

  // Each breakpoint corresponds to a minimum screen width and its associated column class
  const breakpoints = [{
    min: 1374,
    column: "col-4"
  },
  // $break-point-sections-variant
  {
    min: 1122,
    column: "col-3"
  },
  // $break-point-widest
  {
    min: 724,
    column: "col-2"
  },
  // $break-point-layout-variant
  {
    min: 0,
    column: "col-1"
  } // (default layout)
  ];
  const cardTypes = ["small", "medium", "large"];

  // Determine which column is active based on the current screen width
  const currColumnCount = breakpoints.find(bp => screenWidth >= bp.min).column;

  // Match the card type for that column count
  for (let type of cardTypes) {
    const className = `${currColumnCount}-${type}`;
    if (classList.includes(className)) {
      // Special case: below $break-point-medium (610px), report `col-1-small` as medium
      if (screenWidth < 610 && currColumnCount === "col-1" && type === "small") {
        return "medium-card";
      }
      // Will be either "small-card", "medium-card", or "large-card"
      return `${type}-card`;
    }
  }
  return null;
}
const CONFETTI_VARS = ["--color-red-40", "--color-yellow-40", "--color-purple-40", "--color-blue-40", "--color-green-40"];

/**
 * Custom hook to animate a confetti burst.
 *
 * @param {number} count   Number of particles
 * @param {number} spread  spread of confetti
 * @returns {[React.RefObject<HTMLCanvasElement>, () => void]}
 */
function useConfetti(count = 80, spread = Math.PI / 3) {
  // avoid errors from about:home cache
  const prefersReducedMotion = typeof window !== "undefined" && typeof window.matchMedia === "function" && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  let colors;
  // if in abouthome cache, getComputedStyle will not be available
  if (typeof getComputedStyle === "function") {
    const styles = getComputedStyle(document.documentElement);
    colors = CONFETTI_VARS.map(variable => styles.getPropertyValue(variable).trim());
  } else {
    colors = ["#fa5e75", "#de9600", "#c671eb", "#3f94ff", "#37b847"];
  }
  const canvasRef = (0,external_React_namespaceObject.useRef)(null);
  const particlesRef = (0,external_React_namespaceObject.useRef)([]);
  const animationFrameRef = (0,external_React_namespaceObject.useRef)(0);

  // initialize/reset pool
  const initializeConfetti = (0,external_React_namespaceObject.useCallback)((width, height) => {
    const centerX = width / 2;
    const centerY = height;
    const pool = particlesRef.current;

    // Create or overwrite each particles initial state
    for (let i = 0; i < count; i++) {
      const angle = Math.PI / 2 + (Math.random() - 0.5) * spread;
      const cos = Math.cos(angle);
      const sin = Math.sin(angle);
      const color = colors[Math.floor(Math.random() * colors.length)];
      pool[i] = {
        x: centerX + (Math.random() - 0.5) * 40,
        y: centerY,
        cos,
        sin,
        velocity: Math.random() * 6 + 6,
        gravity: 0.3,
        decay: 0.96,
        size: 8,
        color,
        life: 0,
        maxLife: 100,
        tilt: Math.random() * Math.PI * 2,
        tiltSpeed: Math.random() * 0.2 + 0.05
      };
    }
  }, [count, spread, colors]);

  // Core animation loop  updates physics & renders each frame
  const animateParticles = (0,external_React_namespaceObject.useCallback)(canvas => {
    const context = canvas.getContext("2d");
    const {
      width,
      height
    } = canvas;
    const pool = particlesRef.current;

    // Clear the entire canvas each frame
    context.clearRect(0, 0, width, height);
    let anyAlive = false;
    for (let particle of pool) {
      if (particle.life < particle.maxLife) {
        anyAlive = true;

        // update each particles physics: position, velocity decay, gravity, tilt, lifespan
        particle.velocity *= particle.decay;
        particle.x += particle.cos * particle.velocity;
        particle.y -= particle.sin * particle.velocity;
        particle.y += particle.gravity;
        particle.tilt += particle.tiltSpeed;
        particle.life += 1;
      }

      // Draw: apply alpha, transform & draw a rotated, scaled square
      const alphaValue = 1 - particle.life / particle.maxLife;
      const scaleY = Math.sin(particle.tilt);
      context.globalAlpha = alphaValue;
      context.setTransform(1, 0, 0, 1, particle.x, particle.y);
      context.rotate(Math.PI / 4);
      context.scale(1, scaleY);
      context.fillStyle = particle.color;
      context.fillRect(-particle.size / 2, -particle.size / 2, particle.size, particle.size);

      // reset each particle
      context.setTransform(1, 0, 0, 1, 0, 0);
      context.globalAlpha = 1;
    }
    if (anyAlive) {
      // continue the animation
      animationFrameRef.current = requestAnimationFrame(() => {
        animateParticles(canvas);
      });
    } else {
      cancelAnimationFrame(animationFrameRef.current);
      context.clearRect(0, 0, width, height);
    }
  }, []);

  // Resets and starts a new confetti animation
  const fireConfetti = (0,external_React_namespaceObject.useCallback)(() => {
    if (prefersReducedMotion) {
      return;
    }
    const canvas = canvasRef?.current;
    if (canvas) {
      cancelAnimationFrame(animationFrameRef.current);
      initializeConfetti(canvas.width, canvas.height);
      animateParticles(canvas);
    }
  }, [initializeConfetti, animateParticles, prefersReducedMotion]);
  return [canvasRef, fireConfetti];
}
function selectWeatherPlacement(state) {
  const prefs = state.Prefs.values || {};

  // Intent: only placed in section if explicitly requested
  const placementPref = prefs.trainhopConfig?.dailyBriefing?.placement || prefs[PREF_WEATHER_PLACEMENT];
  if (placementPref === "header" || !placementPref) {
    return "header";
  }
  const sections = state.DiscoveryStream.feeds.data["https://merino.services.mozilla.com/api/v1/curated-recommendations"]?.data.sections ?? [];
  // check the following prefs to make sure weather is elligible to be placed in sections
  // 1. The daily brieifng section must be availible and in the top position
  // 2. That the daily briefing section has not been blocked
  // 3. That reccomended stories are truned on
  // Otherwise it should be placed in the header
  const pocketEnabled = prefs[PREF_STORIES_ENABLED] && prefs[PREF_SYSTEM_STORIES_ENABLED];
  const sectionPersonalization = state.DiscoveryStream?.sectionPersonalization || {};
  const dailyBriefEnabled = prefs.trainhopConfig?.dailyBriefing?.enabled || prefs[PREF_DAILY_BRIEF_ENABLED];
  const sectionId = prefs.trainhopConfig?.dailyBriefing?.sectionId || prefs[PREF_DAILY_BRIEF_SECTIONID];
  const notBlocked = sectionId && !sectionPersonalization[sectionId]?.isBlocked;
  let filteredSections = sections.filter(section => !sectionPersonalization[section.sectionKey]?.isBlocked);
  const foundSection = filteredSections.find(section => section.sectionKey === sectionId);
  const isTopSection = foundSection?.receivedRank === 0 || filteredSections.indexOf(foundSection) === 0;
  const eligible = pocketEnabled && dailyBriefEnabled && sectionId && notBlocked && isTopSection;
  return eligible ? "section" : "header";
}

;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSitesConstants.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const TOP_SITES_SOURCE = "TOP_SITES";
const TOP_SITES_CONTEXT_MENU_OPTIONS = [
  "CheckPinTopSite",
  "EditTopSite",
  "Separator",
  "OpenInNewWindow",
  "OpenInPrivateWindow",
  "Separator",
  "BlockUrl",
  "DeleteUrl",
];
const TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS = [
  "OpenInNewWindow",
  "OpenInPrivateWindow",
  "Separator",
  "BlockUrl",
  "ShowPrivacyInfo",
];
const TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS = [
  "OpenInNewWindow",
  "OpenInPrivateWindow",
  "Separator",
  "BlockUrl",
  "AboutSponsored",
];
// the special top site for search shortcut experiment can only have the option to unpin (which removes) the topsite
const TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS = [
  "CheckPinTopSite",
  "Separator",
  "BlockUrl",
];
// minimum size necessary to show a rich icon instead of a screenshot
const MIN_RICH_FAVICON_SIZE = 96;
// minimum size necessary to show any icon
const MIN_SMALL_FAVICON_SIZE = 16;

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamImpressionStats/ImpressionStats.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const VISIBLE = "visible";
const VISIBILITY_CHANGE_EVENT = "visibilitychange";

// Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test
const INTERSECTION_RATIO = 0.5;

/**
 * Impression wrapper for Discovery Stream related React components.
 *
 * It makes use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 *
 * Note:
 *   * This wrapper used to be used either at the individual card level,
 *     or by the card container components.
 *     It is now only used for individual card level.
 *   * Each impression will be sent only once as soon as the desired
 *     visibility is detected
 *   * Batching is not yet implemented, hence it might send multiple
 *     impression pings separately
 */
class ImpressionStats_ImpressionStats extends (external_React_default()).PureComponent {
  // This checks if the given cards are the same as those in the last impression ping.
  // If so, it should not send the same impression ping again.
  _needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }
    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.impressionCardGuids[i]) {
        return true;
      }
    }
    return false;
  }
  _dispatchImpressionStats() {
    const {
      props
    } = this;
    const {
      isFakespot
    } = props;
    const cards = props.rows;
    if (this.props.flightId) {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.DISCOVERY_STREAM_SPOC_IMPRESSION,
        data: {
          flightId: this.props.flightId
        }
      }));

      // Record sponsored topsites impressions if the source is `TOP_SITES_SOURCE`.
      if (this.props.source === TOP_SITES_SOURCE) {
        for (const card of cards) {
          this.props.dispatch(actionCreators.OnlyToMain({
            type: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
            data: {
              type: "impression",
              tile_id: card.id,
              source: "newtab",
              advertiser: card.advertiser,
              // Keep the 0-based position, can be adjusted by the telemetry
              // sender if necessary.
              position: card.pos
            }
          }));
        }
      }
    }
    if (this._needsImpressionStats(cards)) {
      if (isFakespot) {
        props.dispatch(actionCreators.DiscoveryStreamImpressionStats({
          source: props.source.toUpperCase(),
          window_inner_width: window.innerWidth,
          window_inner_height: window.innerHeight,
          tiles: cards.map(link => ({
            id: link.id,
            type: "fakespot",
            category: link.category
          }))
        }));
      } else {
        props.dispatch(actionCreators.DiscoveryStreamImpressionStats({
          source: props.source.toUpperCase(),
          window_inner_width: window.innerWidth,
          window_inner_height: window.innerHeight,
          tiles: cards.map(link => ({
            id: link.id,
            pos: link.pos,
            type: props.flightId ? "spoc" : "organic",
            ...(link.shim ? {
              shim: link.shim
            } : {}),
            recommendation_id: link.recommendation_id,
            fetchTimestamp: link.fetchTimestamp,
            corpus_item_id: link.corpus_item_id,
            scheduled_corpus_item_id: link.scheduled_corpus_item_id,
            recommended_at: link.recommended_at,
            received_rank: link.received_rank,
            topic: link.topic,
            features: link.features,
            is_list_card: link.is_list_card,
            ...(link.format ? {
              format: link.format
            } : {
              format: getActiveCardSize(window.innerWidth, link.class_names, link.section, link.flightId)
            }),
            ...(link.section ? {
              section: link.section,
              section_position: link.section_position,
              is_section_followed: link.is_section_followed,
              layout_name: link.sectionLayoutName
            } : {})
          })),
          firstVisibleTimestamp: props.firstVisibleTimestamp
        }));
        this.impressionCardGuids = cards.map(link => link.id);
      }
    }
  }

  // This checks if the given cards are the same as those in the last loaded content ping.
  // If so, it should not send the same loaded content ping again.
  _needsLoadedContent(cards) {
    if (!this.loadedContentGuids || this.loadedContentGuids.length !== cards.length) {
      return true;
    }
    for (let i = 0; i < cards.length; i++) {
      if (cards[i].id !== this.loadedContentGuids[i]) {
        return true;
      }
    }
    return false;
  }
  _dispatchLoadedContent() {
    const {
      props
    } = this;
    const cards = props.rows;
    if (this._needsLoadedContent(cards)) {
      props.dispatch(actionCreators.DiscoveryStreamLoadedContent({
        source: props.source.toUpperCase(),
        tiles: cards.map(link => ({
          id: link.id,
          pos: link.pos
        }))
      }));
      this.loadedContentGuids = cards.map(link => link.id);
    }
  }
  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;
    if (!props.dispatch) {
      return;
    }
    if (props.document.visibilityState === VISIBLE) {
      // Send the loaded content ping once the page is visible.
      this._dispatchLoadedContent();
      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === VISIBLE) {
          // Send the loaded content ping once the page is visible.
          this._dispatchLoadedContent();
          this.setImpressionObserver();
          props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */
  setImpressionObserver() {
    const {
      props
    } = this;
    if (!props.rows.length) {
      return;
    }
    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();
        this.impressionObserver.unobserve(this.refs.impression);
      }
    };
    const options = {
      threshold: INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.impression);
  }
  componentDidMount() {
    if (this.props.rows.length) {
      this.setImpressionObserverOrAddListener();
    }
  }
  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.impression);
    }
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: "impression",
      className: "impression-observer"
    }, this.props.children);
  }
}
ImpressionStats_ImpressionStats.defaultProps = {
  IntersectionObserver: globalThis.IntersectionObserver,
  document: globalThis.document,
  rows: [],
  source: ""
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/SafeAnchor/SafeAnchor.jsx
function SafeAnchor_extends() { return SafeAnchor_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, SafeAnchor_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class SafeAnchor extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onClick = this.onClick.bind(this);
  }
  onClick(event) {
    // Use dispatch instead of normal link click behavior to include referrer
    if (this.props.dispatch) {
      event.preventDefault();
      const {
        altKey,
        button,
        ctrlKey,
        metaKey,
        shiftKey
      } = event;
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_LINK,
        data: {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          },
          referrer: this.props.referrer || "https://getpocket.com/recommendations",
          // Use the anchor's url, which could have been cleaned up
          url: event.currentTarget.href,
          is_sponsored: this.props.isSponsored
        }
      }));
    }

    // Propagate event if there's a handler
    if (this.props.onLinkClick) {
      this.props.onLinkClick(event);
    }
  }
  safeURI(url) {
    let protocol = null;
    try {
      protocol = new URL(url).protocol;
    } catch (e) {
      return "";
    }
    const isAllowed = ["http:", "https:"].includes(protocol);
    if (!isAllowed) {
      console.warn(`${url} is not allowed for anchor targets.`); // eslint-disable-line no-console
      return "";
    }
    return url;
  }
  render() {
    const {
      url,
      className,
      title,
      isSponsored
    } = this.props;
    let anchor = /*#__PURE__*/external_React_default().createElement("a", SafeAnchor_extends({
      href: this.safeURI(url),
      title: title,
      className: className,
      onClick: this.onClick,
      "data-is-sponsored-link": !!isSponsored
    }, this.props.tabIndex === 0 || this.props.tabIndex ? {
      ref: this.props.setRef,
      tabIndex: this.props.tabIndex
    } : {}), this.props.children);
    return anchor;
  }
}
;// CONCATENATED MODULE: ./content-src/components/Card/types.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const cardContextTypes = {
  history: {
    fluentID: "newtab-label-visited",
    icon: "history-item",
  },
  removedBookmark: {
    fluentID: "newtab-label-removed-bookmark",
    icon: "bookmark-removed",
  },
  bookmark: {
    fluentID: "newtab-label-bookmarked",
    icon: "bookmark-added",
  },
  trending: {
    fluentID: "newtab-label-recommended",
    icon: "trending",
  },
  pocket: {
    fluentID: "newtab-label-saved",
    icon: "pocket",
  },
  download: {
    fluentID: "newtab-label-download",
    icon: "download",
  },
};

;// CONCATENATED MODULE: external "ReactTransitionGroup"
const external_ReactTransitionGroup_namespaceObject = ReactTransitionGroup;
;// CONCATENATED MODULE: ./content-src/components/FluentOrText/FluentOrText.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



/**
 * Set text on a child element/component depending on if the message is already
 * translated plain text or a fluent id with optional args.
 */
class FluentOrText extends (external_React_default()).PureComponent {
  render() {
    // Ensure we have a single child to attach attributes
    const {
      children,
      message
    } = this.props;
    const child = children ? external_React_default().Children.only(children) : /*#__PURE__*/external_React_default().createElement("span", null);

    // For a string message, just use it as the child's text
    let grandChildren = message;
    let extraProps;

    // Convert a message object to set desired fluent-dom attributes
    if (typeof message === "object") {
      const args = message.args || message.values;
      extraProps = {
        "data-l10n-args": args && JSON.stringify(args),
        "data-l10n-id": message.id || message.string_id
      };

      // Use original children potentially with data-l10n-name attributes
      grandChildren = child.props.children;
    }

    // Add the message to the child via fluent attributes or text node
    return /*#__PURE__*/external_React_default().cloneElement(child, extraProps, grandChildren);
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSContextFooter/DSContextFooter.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


// eslint-disable-next-line no-shadow




// Animation time is mirrored in DSContextFooter.scss
const ANIMATION_DURATION = 3000;
const DSMessageLabel = props => {
  const {
    context,
    context_type,
    mayHaveSectionsCards
  } = props;
  const {
    icon,
    fluentID
  } = cardContextTypes[context_type] || {};
  if (!context && context_type && !mayHaveSectionsCards) {
    return /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.TransitionGroup, {
      component: null
    }, /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      key: fluentID,
      timeout: ANIMATION_DURATION,
      classNames: "story-animate"
    }, /*#__PURE__*/external_React_default().createElement(StatusMessage, {
      icon: icon,
      fluentID: fluentID
    })));
  }
  return null;
};
const StatusMessage = ({
  icon,
  fluentID
}) => /*#__PURE__*/external_React_default().createElement("div", {
  className: "status-message"
}, /*#__PURE__*/external_React_default().createElement("span", {
  "aria-haspopup": "true",
  className: `story-badge-icon icon icon-${icon}`
}), /*#__PURE__*/external_React_default().createElement("div", {
  className: "story-context-label",
  "data-l10n-id": fluentID
}));
const SponsorLabel = ({
  sponsored_by_override,
  sponsor,
  context,
  newSponsoredLabel
}) => {
  const classList = `story-sponsored-label ${newSponsoredLabel || ""} clamp`;
  // If override is not false or an empty string.
  if (sponsored_by_override) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: classList
    }, sponsored_by_override);
  } else if (sponsored_by_override === "") {
    // We specifically want to display nothing if the server returns an empty string.
    // So the server can turn off the label.
    // This is to support the use cases where the sponsored context is displayed elsewhere.
    return null;
  } else if (sponsor) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: classList
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: {
        id: `newtab-label-sponsored-by`,
        values: {
          sponsor
        }
      }
    }));
  } else if (context) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: classList
    }, context);
  }
  return null;
};
class DSContextFooter extends (external_React_default()).PureComponent {
  render() {
    const {
      context,
      context_type,
      sponsor,
      sponsored_by_override,
      cta_button_variant,
      source,
      mayHaveSectionsCards
    } = this.props;
    const sponsorLabel = SponsorLabel({
      sponsored_by_override,
      sponsor,
      context
    });
    const dsMessageLabel = DSMessageLabel({
      context,
      context_type,
      mayHaveSectionsCards
    });
    if (cta_button_variant === "variant-a") {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "story-footer"
      }, /*#__PURE__*/external_React_default().createElement("button", {
        "aria-hidden": "true",
        className: "story-cta-button"
      }, "Shop Now"), sponsorLabel);
    }
    if (cta_button_variant === "variant-b") {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "story-footer"
      }, sponsorLabel, /*#__PURE__*/external_React_default().createElement("span", {
        className: "source clamp cta-footer-source"
      }, source));
    }
    if (sponsorLabel || dsMessageLabel && context_type !== "pocket") {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "story-footer"
      }, sponsorLabel, dsMessageLabel);
    }
    return null;
  }
}
const DSMessageFooter = props => {
  const {
    context,
    context_type
  } = props;
  const dsMessageLabel = DSMessageLabel({
    context,
    context_type
  });

  // This case is specific and already displayed to the user elsewhere.
  if (!dsMessageLabel) {
    return null;
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "story-footer"
  }, dsMessageLabel);
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSThumbsUpDownButtons/DSThumbsUpDownButtons.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function DSThumbsUpDownButtons({
  sponsor,
  onThumbsUpClick,
  onThumbsDownClick,
  isThumbsUpActive,
  isThumbsDownActive,
  refinedCardsLayout
}) {
  let thumbsButtons = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("button", {
    onClick: onThumbsUpClick,
    className: `card-stp-thumbs-button icon icon-thumbs-up ${isThumbsUpActive ? "is-active" : null}`,
    "data-l10n-id": "newtab-pocket-thumbs-up-tooltip"
  }), /*#__PURE__*/external_React_default().createElement("button", {
    onClick: onThumbsDownClick,
    className: `card-stp-thumbs-button icon icon-thumbs-down ${isThumbsDownActive ? "is-active" : null}`,
    "data-l10n-id": "newtab-pocket-thumbs-down-tooltip"
  }));
  if (refinedCardsLayout) {
    thumbsButtons = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("moz-button", {
      iconsrc: "chrome://global/skin/icons/thumbs-up-20.svg",
      onClick: onThumbsUpClick,
      className: `card-stp-thumbs-button icon icon-thumbs-up refined-layout ${isThumbsUpActive ? "is-active" : null}`,
      "data-l10n-id": "newtab-pocket-thumbs-up-tooltip",
      type: "icon ghost"
    }), /*#__PURE__*/external_React_default().createElement("moz-button", {
      iconsrc: "chrome://global/skin/icons/thumbs-down-20.svg",
      onClick: onThumbsDownClick,
      className: `card-stp-thumbs-button icon icon-thumbs-down ${isThumbsDownActive ? "is-active" : null}`,
      "data-l10n-id": "newtab-pocket-thumbs-down-tooltip",
      type: "icon ghost"
    }));
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "card-stp-thumbs-buttons-wrapper"
  }, !sponsor && /*#__PURE__*/external_React_default().createElement("div", {
    className: "card-stp-thumbs-buttons"
  }, thumbsButtons));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSCard/DSCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */













const READING_WPM = 220;
const PREF_OHTTP_MERINO = "discoverystream.merino-provider.ohttp.enabled";
const PREF_OHTTP_UNIFIED_ADS = "unifiedAds.ohttp.enabled";
const DSCard_PREF_SECTIONS_ENABLED = "discoverystream.sections.enabled";
const PREF_FAVICONS_ENABLED = "discoverystream.publisherFavicon.enabled";

/**
 * READ TIME FROM WORD COUNT
 * @param {int} wordCount number of words in an article
 * @returns {int} number of words per minute in minutes
 */
function readTimeFromWordCount(wordCount) {
  if (!wordCount) {
    return false;
  }
  return Math.ceil(parseInt(wordCount, 10) / READING_WPM);
}
const DSSource = ({
  source,
  timeToRead,
  newSponsoredLabel,
  context,
  sponsor,
  sponsored_by_override,
  icon_src,
  refinedCardsLayout
}) => {
  // refinedCard styles will have a larger favicon size
  const faviconSize = refinedCardsLayout ? 20 : 16;

  // First try to display sponsored label or time to read here.
  if (newSponsoredLabel) {
    // If we can display something for spocs, do so.
    if (sponsored_by_override || sponsor || context) {
      return /*#__PURE__*/external_React_default().createElement(SponsorLabel, {
        context: context,
        sponsor: sponsor,
        sponsored_by_override: sponsored_by_override,
        newSponsoredLabel: "new-sponsored-label"
      });
    }
  }

  // If we are not a spoc, and can display a time to read value.
  if (source && timeToRead) {
    return /*#__PURE__*/external_React_default().createElement("p", {
      className: "source clamp time-to-read"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: {
        id: `newtab-label-source-read-time`,
        values: {
          source,
          timeToRead
        }
      }
    }));
  }

  // Otherwise display a default source.
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "source-wrapper"
  }, icon_src && /*#__PURE__*/external_React_default().createElement("img", {
    src: icon_src,
    height: faviconSize,
    width: faviconSize,
    alt: ""
  }), /*#__PURE__*/external_React_default().createElement("p", {
    className: "source clamp"
  }, source));
};
const DefaultMeta = ({
  source,
  title,
  excerpt,
  timeToRead,
  newSponsoredLabel,
  context,
  context_type,
  sponsor,
  sponsored_by_override,
  ctaButtonVariant,
  dispatch,
  mayHaveSectionsCards,
  mayHaveThumbsUpDown,
  onThumbsUpClick,
  onThumbsDownClick,
  isListCard,
  state,
  format,
  topic,
  isSectionsCard,
  showTopics,
  icon_src,
  refinedCardsLayout
}) => {
  const shouldHaveThumbs = !isListCard && format !== "rectangle" && mayHaveSectionsCards && mayHaveThumbsUpDown;
  const shouldHaveFooterSection = isSectionsCard && (shouldHaveThumbs || showTopics);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "meta"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "info-wrap"
  }, ctaButtonVariant !== "variant-b" && format !== "rectangle" && !refinedCardsLayout && /*#__PURE__*/external_React_default().createElement(DSSource, {
    source: source,
    timeToRead: timeToRead,
    newSponsoredLabel: newSponsoredLabel,
    context: context,
    sponsor: sponsor,
    sponsored_by_override: sponsored_by_override,
    icon_src: icon_src
  }), /*#__PURE__*/external_React_default().createElement("h3", {
    className: "title clamp"
  }, format === "rectangle" ? "Sponsored" : title), format === "rectangle" ? /*#__PURE__*/external_React_default().createElement("p", {
    className: "excerpt clamp"
  }, "Sponsored content supports our mission to build a better web.") : excerpt && /*#__PURE__*/external_React_default().createElement("p", {
    className: "excerpt clamp"
  }, excerpt)), !isListCard && format !== "rectangle" && !mayHaveSectionsCards && mayHaveThumbsUpDown && !refinedCardsLayout && /*#__PURE__*/external_React_default().createElement(DSThumbsUpDownButtons, {
    onThumbsDownClick: onThumbsDownClick,
    onThumbsUpClick: onThumbsUpClick,
    sponsor: sponsor,
    isThumbsDownActive: state.isThumbsDownActive,
    isThumbsUpActive: state.isThumbsUpActive
  }), (shouldHaveFooterSection || refinedCardsLayout) && /*#__PURE__*/external_React_default().createElement("div", {
    className: "sections-card-footer"
  }, refinedCardsLayout && format !== "rectangle" && format !== "spoc" && /*#__PURE__*/external_React_default().createElement(DSSource, {
    source: source,
    timeToRead: timeToRead,
    newSponsoredLabel: newSponsoredLabel,
    context: context,
    sponsor: sponsor,
    sponsored_by_override: sponsored_by_override,
    icon_src: icon_src,
    refinedCardsLayout: refinedCardsLayout
  }), (shouldHaveThumbs || refinedCardsLayout) && /*#__PURE__*/external_React_default().createElement(DSThumbsUpDownButtons, {
    onThumbsDownClick: onThumbsDownClick,
    onThumbsUpClick: onThumbsUpClick,
    sponsor: sponsor,
    isThumbsDownActive: state.isThumbsDownActive,
    isThumbsUpActive: state.isThumbsUpActive,
    refinedCardsLayout: refinedCardsLayout
  }), showTopics && /*#__PURE__*/external_React_default().createElement("span", {
    className: "ds-card-topic",
    "data-l10n-id": `newtab-topic-label-${topic}`
  })), !newSponsoredLabel && /*#__PURE__*/external_React_default().createElement(DSContextFooter, {
    context_type: context_type,
    context: context,
    sponsor: sponsor,
    sponsored_by_override: sponsored_by_override,
    cta_button_variant: ctaButtonVariant,
    source: source,
    dispatch: dispatch,
    mayHaveSectionsCards: mayHaveSectionsCards
  }), newSponsoredLabel && /*#__PURE__*/external_React_default().createElement(DSMessageFooter, {
    context_type: context_type,
    context: null
  }));
};
class _DSCard extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.doesLinkTopicMatchSelectedTopic = this.doesLinkTopicMatchSelectedTopic.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);
    this.onThumbsUpClick = this.onThumbsUpClick.bind(this);
    this.onThumbsDownClick = this.onThumbsDownClick.bind(this);
    const refinedCardsLayout = this.props.Prefs.values["discoverystream.refinedCardsLayout.enabled"];
    this.setContextMenuButtonHostRef = element => {
      this.contextMenuButtonHostElement = element;
    };
    this.setPlaceholderRef = element => {
      this.placeholderElement = element;
    };
    this.state = {
      isSeen: false,
      isThumbsUpActive: false,
      isThumbsDownActive: false
    };

    // If this is for the about:home startup cache, then we always want
    // to render the DSCard, regardless of whether or not its been seen.
    if (props.App.isForStartupCache.App) {
      this.state.isSeen = true;
    }

    // We want to choose the optimal thumbnail for the underlying DSImage, but
    // want to do it in a performant way. The breakpoints used in the
    // CSS of the page are, unfortuntely, not easy to retrieve without
    // causing a style flush. To avoid that, we hardcode them here.
    //
    // The values chosen here were the dimensions of the card thumbnails as
    // computed by getBoundingClientRect() for each type of viewport width
    // across both high-density and normal-density displays.
    this.standardCardImageSizes = [{
      mediaMatcher: "default",
      width: 296,
      height: 148
    }];
    this.listCardImageSizes = [{
      mediaMatcher: "(min-width: 1122px)",
      width: 75,
      height: 75
    }, {
      mediaMatcher: "default",
      width: 50,
      height: 50
    }];
    this.sectionsCardImagesSizes = {
      small: {
        width: 110,
        height: 117
      },
      medium: {
        width: 300,
        height: refinedCardsLayout ? 160 : 150
      },
      large: {
        width: 190,
        height: 250
      }
    };
    this.sectionsColumnMediaMatcher = {
      1: "default",
      2: "(min-width: 724px)",
      3: "(min-width: 1122px)",
      4: "(min-width: 1390px)"
    };
  }
  getSectionImageSize(column, size) {
    const cardImageSize = {
      mediaMatcher: this.sectionsColumnMediaMatcher[column],
      width: this.sectionsCardImagesSizes[size].width,
      height: this.sectionsCardImagesSizes[size].height
    };
    return cardImageSize;
  }
  doesLinkTopicMatchSelectedTopic() {
    // Edge case for clicking on a card when topic selections have not be set
    if (!this.props.selectedTopics) {
      return "not-set";
    }

    // Edge case the topic of the card is not one of the available topics
    if (!this.props.availableTopics.includes(this.props.topic)) {
      return "topic-not-selectable";
    }
    if (this.props.selectedTopics.includes(this.props.topic)) {
      return "true";
    }
    return "false";
  }
  onLinkClick() {
    const matchesSelectedTopic = this.doesLinkTopicMatchSelectedTopic();
    if (this.props.dispatch) {
      if (this.props.isFakespot) {
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "FAKESPOT_CLICK",
          value: {
            product_id: this.props.id,
            category: this.props.category || ""
          }
        }));
      } else {
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "CLICK",
          source: this.props.type.toUpperCase(),
          action_position: this.props.pos,
          value: {
            event_source: "card",
            card_type: this.props.flightId ? "spoc" : "organic",
            recommendation_id: this.props.recommendation_id,
            tile_id: this.props.id,
            ...(this.props.shim && this.props.shim.click ? {
              shim: this.props.shim.click
            } : {}),
            fetchTimestamp: this.props.fetchTimestamp,
            firstVisibleTimestamp: this.props.firstVisibleTimestamp,
            corpus_item_id: this.props.corpus_item_id,
            scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
            recommended_at: this.props.recommended_at,
            received_rank: this.props.received_rank,
            topic: this.props.topic,
            features: this.props.features,
            matches_selected_topic: matchesSelectedTopic,
            selected_topics: this.props.selectedTopics,
            is_list_card: this.props.isListCard,
            ...(this.props.format ? {
              format: this.props.format
            } : {
              format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, this.props.flightId)
            }),
            ...(this.props.section ? {
              section: this.props.section,
              section_position: this.props.sectionPosition,
              is_section_followed: this.props.sectionFollowed,
              layout_name: this.props.sectionLayoutName
            } : {})
          }
        }));
        this.props.dispatch(actionCreators.ImpressionStats({
          source: this.props.type.toUpperCase(),
          click: 0,
          window_inner_width: this.props.windowObj.innerWidth,
          window_inner_height: this.props.windowObj.innerHeight,
          tiles: [{
            id: this.props.id,
            pos: this.props.pos,
            ...(this.props.shim && this.props.shim.click ? {
              shim: this.props.shim.click
            } : {}),
            type: this.props.flightId ? "spoc" : "organic",
            recommendation_id: this.props.recommendation_id,
            topic: this.props.topic,
            selected_topics: this.props.selectedTopics,
            is_list_card: this.props.isListCard,
            ...(this.props.format ? {
              format: this.props.format
            } : {
              format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, this.props.flightId)
            }),
            ...(this.props.section ? {
              section: this.props.section,
              section_position: this.props.sectionPosition,
              is_section_followed: this.props.sectionFollowed
            } : {})
          }]
        }));
      }
    }
  }
  onThumbsUpClick(event) {
    event.stopPropagation();
    event.preventDefault();

    // Toggle active state for thumbs up button to show CSS animation
    const currentState = this.state.isThumbsUpActive;

    // If thumbs up has been clicked already, do nothing.
    if (currentState) {
      return;
    }
    this.setState({
      isThumbsUpActive: !currentState
    });

    // Record thumbs up telemetry event
    this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "POCKET_THUMBS_UP",
      source: "THUMBS_UI",
      value: {
        action_position: this.props.pos,
        recommendation_id: this.props.recommendation_id,
        tile_id: this.props.id,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank,
        thumbs_up: true,
        thumbs_down: false,
        topic: this.props.topic,
        format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, false // (thumbs up/down only exist on organic content)
        ),
        ...(this.props.section ? {
          section: this.props.section,
          section_position: this.props.sectionPosition,
          is_section_followed: this.props.sectionFollowed
        } : {})
      }
    }));

    // Show Toast
    this.props.dispatch(actionCreators.OnlyToOneContent({
      type: actionTypes.SHOW_TOAST_MESSAGE,
      data: {
        showNotifications: true,
        toastId: "thumbsUpToast"
      }
    }, "ActivityStream:Content"));
  }
  onThumbsDownClick(event) {
    event.stopPropagation();
    event.preventDefault();

    // Toggle active state for thumbs down button to show CSS animation
    const currentState = this.state.isThumbsDownActive;
    this.setState({
      isThumbsDownActive: !currentState
    });

    // Run dismiss event after 0.5 second delay
    if (this.props.dispatch && this.props.type && this.props.id && this.props.url) {
      const index = this.props.pos;
      const source = this.props.type.toUpperCase();
      const spocData = {
        url: this.props.url,
        guid: this.props.id,
        type: "CardGrid",
        card_type: "organic",
        recommendation_id: this.props.recommendation_id,
        tile_id: this.props.id,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank
      };
      const blockUrlOption = LinkMenuOptions.BlockUrl(spocData, index, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      setTimeout(() => {
        this.props.dispatch(action);
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: userEvent,
          source,
          action_position: index
        }));
      }, 500);
      if (impression) {
        this.props.dispatch(impression);
      }

      // Record thumbs down telemetry event
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "POCKET_THUMBS_DOWN",
        source: "THUMBS_UI",
        value: {
          action_position: this.props.pos,
          recommendation_id: this.props.recommendation_id,
          tile_id: this.props.id,
          corpus_item_id: this.props.corpus_item_id,
          scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
          recommended_at: this.props.recommended_at,
          received_rank: this.props.received_rank,
          thumbs_up: false,
          thumbs_down: true,
          topic: this.props.topic,
          format: getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, false // (thumbs up/down only exist on organic content)
          ),
          ...(this.props.section ? {
            section: this.props.section,
            section_position: this.props.sectionPosition,
            is_section_followed: this.props.sectionFollowed
          } : {})
        }
      }));

      // Show Toast
      this.props.dispatch(actionCreators.OnlyToOneContent({
        type: actionTypes.SHOW_TOAST_MESSAGE,
        data: {
          showNotifications: true,
          toastId: "thumbsDownToast"
        }
      }, "ActivityStream:Content"));
    }
  }
  onMenuUpdate(showContextMenu) {
    if (!showContextMenu) {
      const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;
      if (dsLinkMenuHostDiv) {
        dsLinkMenuHostDiv.classList.remove("active", "last-item");
      }
    }
  }
  async onMenuShow() {
    const dsLinkMenuHostDiv = this.contextMenuButtonHostElement;
    if (dsLinkMenuHostDiv) {
      // Force translation so we can be sure it's ready before measuring.
      await this.props.windowObj.document.l10n.translateFragment(dsLinkMenuHostDiv);
      if (this.props.windowObj.scrollMaxX > 0) {
        dsLinkMenuHostDiv.classList.add("last-item");
      }
      dsLinkMenuHostDiv.classList.add("active");
    }
  }
  onSeen(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);
      if (entry) {
        if (this.placeholderElement) {
          this.observer.unobserve(this.placeholderElement);
        }

        // Stop observing since element has been seen
        this.setState({
          isSeen: true
        });
      }
    }
  }
  onIdleCallback() {
    if (!this.state.isSeen) {
      // To improve responsiveness without impacting performance,
      // we start rendering stories on idle.
      // To reduce the number of requests for secure OHTTP images,
      // we skip idle-time loading.
      if (!this.secureImage) {
        if (this.observer && this.placeholderElement) {
          this.observer.unobserve(this.placeholderElement);
        }
        this.setState({
          isSeen: true
        });
      }
    }
  }
  componentDidMount() {
    this.idleCallbackId = this.props.windowObj.requestIdleCallback(this.onIdleCallback.bind(this));
    if (this.placeholderElement) {
      this.observer = new IntersectionObserver(this.onSeen.bind(this));
      this.observer.observe(this.placeholderElement);
    }
  }
  componentWillUnmount() {
    // Remove observer on unmount
    if (this.observer && this.placeholderElement) {
      this.observer.unobserve(this.placeholderElement);
    }
    if (this.idleCallbackId) {
      this.props.windowObj.cancelIdleCallback(this.idleCallbackId);
    }
  }

  // Wraps the image URL with the moz-cached-ohttp:// protocol.
  // This enables Firefox to load resources over Oblivious HTTP (OHTTP),
  // providing privacy-preserving resource loading.
  // Applied only when inferred personalization is enabled.
  // See: https://firefox-source-docs.mozilla.org/browser/components/mozcachedohttp/docs/index.html
  secureImageURL(url) {
    return `moz-cached-ohttp://newtab-image/?url=${encodeURIComponent(url)}`;
  }
  getRawImageSrc() {
    let rawImageSrc = "";
    // There is no point in fetching images for startup cache.
    if (!this.props.App.isForStartupCache.App) {
      rawImageSrc = this.props.raw_image_src;
    }
    return rawImageSrc;
  }
  getFaviconSrc() {
    let faviconSrc = "";
    const faviconEnabled = this.props.Prefs.values[PREF_FAVICONS_ENABLED];
    // There is no point in fetching favicons for startup cache.
    if (!this.props.App.isForStartupCache.App && faviconEnabled && this.props.icon_src) {
      faviconSrc = this.props.icon_src;
      if (this.secureImage) {
        faviconSrc = this.secureImageURL(this.props.icon_src);
      }
    }
    return faviconSrc;
  }
  get secureImage() {
    const {
      Prefs,
      flightId
    } = this.props;
    let ohttpEnabled = false;
    if (flightId) {
      ohttpEnabled = Prefs.values[PREF_OHTTP_UNIFIED_ADS];
    } else {
      ohttpEnabled = Prefs.values[PREF_OHTTP_MERINO];
    }
    const ohttpImagesEnabled = Prefs.values.ohttpImagesConfig?.enabled;
    const includeTopStoriesSection = Prefs.values.ohttpImagesConfig?.includeTopStoriesSection;
    const nonPersonalizedSections = ["top_stories_section"];
    const sectionPersonalized = !nonPersonalizedSections.includes(this.props.section) || includeTopStoriesSection;
    const secureImage = ohttpImagesEnabled && ohttpEnabled && sectionPersonalized;
    return secureImage;
  }
  renderImage({
    sizes = [],
    classNames = ""
  } = {}) {
    const {
      Prefs
    } = this.props;
    const rawImageSrc = this.getRawImageSrc();
    const smartCrop = Prefs.values["images.smart"];
    return /*#__PURE__*/external_React_default().createElement(DSImage, {
      extraClassNames: `img ${classNames}`,
      source: this.props.image_src,
      rawSource: rawImageSrc,
      sizes: sizes,
      url: this.props.url,
      title: this.props.title,
      isRecentSave: this.props.isRecentSave,
      alt_text: this.props.alt_text,
      smartCrop: smartCrop,
      secureImage: this.secureImage
    });
  }
  renderSectionCardImages() {
    const {
      sectionsCardImageSizes
    } = this.props;
    const columns = ["1", "2", "3", "4"];
    const images = [];
    for (const column of columns) {
      const size = sectionsCardImageSizes[column];
      const sizes = [this.getSectionImageSize(column, size)];
      const image = this.renderImage({
        sizes,
        classNames: `image-${column}`
      });
      images.push(image);
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, images);
  }
  render() {
    const {
      isRecentSave,
      DiscoveryStream,
      Prefs,
      isListCard,
      isFakespot,
      mayHaveSectionsCards,
      format
    } = this.props;
    const refinedCardsLayout = Prefs.values["discoverystream.refinedCardsLayout.enabled"];
    const refinedCardsClassName = refinedCardsLayout ? `refined-cards` : ``;
    if (this.props.placeholder || !this.state.isSeen) {
      // placeholder-seen is used to ensure the loading animation is only used if the card is visible.
      const placeholderClassName = this.state.isSeen ? `placeholder-seen` : ``;
      let placeholderElements = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-image placeholder-fill"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-label placeholder-fill"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-header placeholder-fill"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "placeholder-description placeholder-fill"
      }));
      if (refinedCardsLayout) {
        placeholderElements = /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
          className: "placeholder-image placeholder-fill"
        }), /*#__PURE__*/external_React_default().createElement("div", {
          className: "placeholder-description placeholder-fill"
        }), /*#__PURE__*/external_React_default().createElement("div", {
          className: "placeholder-header placeholder-fill"
        }));
      }
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: `ds-card placeholder ${placeholderClassName} ${isListCard ? "list-card-placeholder" : ""} ${refinedCardsClassName}`,
        ref: this.setPlaceholderRef
      }, placeholderElements);
    }
    let source = this.props.source || this.props.publisher;
    if (!source) {
      try {
        source = new URL(this.props.url).hostname;
      } catch (e) {}
    }
    const {
      hideDescriptions,
      compactImages,
      imageGradient,
      newSponsoredLabel,
      titleLines = 3,
      descLines = 3,
      readTime: displayReadTime
    } = DiscoveryStream;
    const sectionsEnabled = Prefs.values[DSCard_PREF_SECTIONS_ENABLED];
    // Refined cards have their own excerpt hiding logic.
    // We can ignore hideDescriptions if we are in sections and refined cards.
    const excerpt = !hideDescriptions || sectionsEnabled && refinedCardsLayout ? this.props.excerpt : "";
    let timeToRead;
    if (displayReadTime) {
      timeToRead = this.props.time_to_read || readTimeFromWordCount(this.props.word_count);
    }
    const ctaButtonEnabled = this.props.ctaButtonSponsors?.includes(this.props.sponsor?.toLowerCase());
    let ctaButtonVariant = "";
    if (ctaButtonEnabled) {
      ctaButtonVariant = this.props.ctaButtonVariant;
    }
    let ctaButtonVariantClassName = ctaButtonVariant;
    const ctaButtonClassName = ctaButtonEnabled ? `ds-card-cta-button` : ``;
    const compactImagesClassName = compactImages ? `ds-card-compact-image` : ``;
    const imageGradientClassName = imageGradient ? `ds-card-image-gradient` : ``;
    const listCardClassName = isListCard ? `list-feed-card` : ``;
    const fakespotClassName = isFakespot ? `fakespot` : ``;
    const sectionsCardsClassName = [mayHaveSectionsCards ? `sections-card-ui` : ``, this.props.sectionsClassNames].join(" ");
    const titleLinesName = `ds-card-title-lines-${titleLines}`;
    const descLinesClassName = `ds-card-desc-lines-${descLines}`;
    const isMediumRectangle = format === "rectangle";
    const spocFormatClassName = isMediumRectangle ? `ds-spoc-rectangle` : ``;
    const faviconSrc = this.getFaviconSrc();
    let images = this.renderImage({
      sizes: this.standardCardImageSizes
    });
    if (isMediumRectangle) {
      images = this.renderImage();
    } else if (isListCard) {
      images = this.renderImage({
        sizes: this.listCardImageSizes
      });
    } else if (sectionsEnabled) {
      images = this.renderSectionCardImages();
    }
    return /*#__PURE__*/external_React_default().createElement("article", {
      className: `ds-card ${listCardClassName} ${fakespotClassName} ${sectionsCardsClassName} ${compactImagesClassName} ${imageGradientClassName} ${titleLinesName} ${descLinesClassName} ${spocFormatClassName} ${ctaButtonClassName} ${ctaButtonVariantClassName} ${refinedCardsClassName}`,
      ref: this.setContextMenuButtonHostRef,
      "data-position-one": this.props["data-position-one"],
      "data-position-two": this.props["data-position-one"],
      "data-position-three": this.props["data-position-one"],
      "data-position-four": this.props["data-position-one"]
    }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-card-link",
      dispatch: this.props.dispatch,
      onLinkClick: !this.props.placeholder ? this.onLinkClick : undefined,
      url: this.props.url,
      title: this.props.title,
      isSponsored: !!this.props.flightId
    }, this.props.showTopics && !this.props.mayHaveSectionsCards && this.props.topic && !isListCard && !refinedCardsLayout && /*#__PURE__*/external_React_default().createElement("span", {
      className: "ds-card-topic",
      "data-l10n-id": `newtab-topic-label-${this.props.topic}`
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "img-wrapper"
    }, images), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
      flightId: this.props.flightId,
      rows: [{
        id: this.props.id,
        pos: this.props.pos,
        ...(this.props.shim && this.props.shim.impression ? {
          shim: this.props.shim.impression
        } : {}),
        recommendation_id: this.props.recommendation_id,
        fetchTimestamp: this.props.fetchTimestamp,
        corpus_item_id: this.props.corpus_item_id,
        scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
        recommended_at: this.props.recommended_at,
        received_rank: this.props.received_rank,
        topic: this.props.topic,
        features: this.props.features,
        is_list_card: isListCard,
        ...(format ? {
          format
        } : {}),
        isFakespot,
        category: this.props.category,
        ...(this.props.section ? {
          section: this.props.section,
          section_position: this.props.sectionPosition,
          is_section_followed: this.props.sectionFollowed,
          sectionLayoutName: this.props.sectionLayoutName
        } : {}),
        ...(!format && this.props.section ?
        // Note: sectionsCardsClassName is passed to ImpressionStats.jsx in order to calculate format
        {
          class_names: sectionsCardsClassName
        } : {})
      }],
      dispatch: this.props.dispatch,
      isFakespot: isFakespot,
      source: this.props.type,
      firstVisibleTimestamp: this.props.firstVisibleTimestamp
    }), ctaButtonVariant === "variant-b" && /*#__PURE__*/external_React_default().createElement("div", {
      className: "cta-header"
    }, "Shop Now"), isFakespot ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "meta"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "info-wrap"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      className: "title clamp"
    }, this.props.title))) : /*#__PURE__*/external_React_default().createElement(DefaultMeta, {
      source: source,
      title: this.props.title,
      excerpt: excerpt,
      newSponsoredLabel: newSponsoredLabel,
      timeToRead: timeToRead,
      context: this.props.context,
      context_type: this.props.context_type,
      sponsor: this.props.sponsor,
      sponsored_by_override: this.props.sponsored_by_override,
      ctaButtonVariant: ctaButtonVariant,
      dispatch: this.props.dispatch,
      mayHaveThumbsUpDown: this.props.mayHaveThumbsUpDown,
      mayHaveSectionsCards: this.props.mayHaveSectionsCards,
      onThumbsUpClick: this.onThumbsUpClick,
      onThumbsDownClick: this.onThumbsDownClick,
      state: this.state,
      isListCard: isListCard,
      showTopics: !refinedCardsLayout && this.props.showTopics,
      isSectionsCard: this.props.mayHaveSectionsCards && this.props.topic && !isListCard,
      format: format,
      topic: this.props.topic,
      icon_src: faviconSrc,
      refinedCardsLayout: refinedCardsLayout
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-stp-button-hover-background"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-stp-button-position-wrapper"
    }, !isFakespot && /*#__PURE__*/external_React_default().createElement(DSLinkMenu, {
      id: this.props.id,
      index: this.props.pos,
      dispatch: this.props.dispatch,
      url: this.props.url,
      title: this.props.title,
      source: source,
      type: this.props.type,
      card_type: this.props.flightId ? "spoc" : "organic",
      pocket_id: this.props.pocket_id,
      shim: this.props.shim,
      bookmarkGuid: this.props.bookmarkGuid,
      flightId: this.props.flightId,
      showPrivacyInfo: !!this.props.flightId,
      onMenuUpdate: this.onMenuUpdate,
      onMenuShow: this.onMenuShow,
      isRecentSave: isRecentSave,
      recommendation_id: this.props.recommendation_id,
      tile_id: this.props.id,
      block_key: this.props.id,
      corpus_item_id: this.props.corpus_item_id,
      scheduled_corpus_item_id: this.props.scheduled_corpus_item_id,
      recommended_at: this.props.recommended_at,
      received_rank: this.props.received_rank,
      is_list_card: this.props.isListCard,
      section: this.props.section,
      section_position: this.props.sectionPosition,
      is_section_followed: this.props.sectionFollowed,
      fetchTimestamp: this.props.fetchTimestamp,
      firstVisibleTimestamp: this.props.firstVisibleTimestamp,
      format: format ? format : getActiveCardSize(window.innerWidth, this.props.sectionsClassNames, this.props.section, this.props.flightId),
      isSectionsCard: this.props.mayHaveSectionsCards,
      topic: this.props.topic,
      selected_topics: this.props.selected_topics
    }))));
  }
}
_DSCard.defaultProps = {
  windowObj: window // Added to support unit tests
};
const DSCard = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs
}))(_DSCard);
const PlaceholderDSCard = () => /*#__PURE__*/external_React_default().createElement(DSCard, {
  placeholder: true
});
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSEmptyState/DSEmptyState.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class DSEmptyState extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onReset = this.onReset.bind(this);
    this.state = {};
  }
  componentWillUnmount() {
    if (this.timeout) {
      clearTimeout(this.timeout);
    }
  }
  onReset() {
    if (this.props.dispatch && this.props.feed) {
      const {
        feed
      } = this.props;
      const {
        url
      } = feed;
      this.props.dispatch({
        type: actionTypes.DISCOVERY_STREAM_FEED_UPDATE,
        data: {
          feed: {
            ...feed,
            data: {
              ...feed.data,
              status: "waiting"
            }
          },
          url
        }
      });
      this.setState({
        waiting: true
      });
      this.timeout = setTimeout(() => {
        this.timeout = null;
        this.setState({
          waiting: false
        });
      }, 300);
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.DISCOVERY_STREAM_RETRY_FEED,
        data: {
          feed
        }
      }));
    }
  }
  renderButton() {
    if (this.props.status === "waiting" || this.state.waiting) {
      return /*#__PURE__*/external_React_default().createElement("button", {
        className: "try-again-button waiting",
        "data-l10n-id": "newtab-discovery-empty-section-topstories-loading"
      });
    }
    return /*#__PURE__*/external_React_default().createElement("button", {
      className: "try-again-button",
      onClick: this.onReset,
      "data-l10n-id": "newtab-discovery-empty-section-topstories-try-again-button"
    });
  }
  renderState() {
    if (this.props.status === "waiting" || this.props.status === "failed") {
      return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h2", {
        "data-l10n-id": "newtab-discovery-empty-section-topstories-timed-out"
      }), this.renderButton());
    }
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("h2", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-header"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      "data-l10n-id": "newtab-discovery-empty-section-topstories-content"
    }));
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "empty-state-message"
    }, this.renderState()));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/TopicsWidget/TopicsWidget.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






function _TopicsWidget(props) {
  const {
    id,
    source,
    position,
    DiscoveryStream,
    dispatch
  } = props;
  const {
    utmCampaign,
    utmContent,
    utmSource
  } = DiscoveryStream.experimentData;
  let queryParams = `?utm_source=${utmSource}`;
  if (utmCampaign && utmContent) {
    queryParams += `&utm_content=${utmContent}&utm_campaign=${utmCampaign}`;
  }
  const topics = [{
    label: "Technology",
    name: "technology"
  }, {
    label: "Science",
    name: "science"
  }, {
    label: "Self-Improvement",
    name: "self-improvement"
  }, {
    label: "Travel",
    name: "travel"
  }, {
    label: "Career",
    name: "career"
  }, {
    label: "Entertainment",
    name: "entertainment"
  }, {
    label: "Food",
    name: "food"
  }, {
    label: "Health",
    name: "health"
  }, {
    label: "Must-Reads",
    name: "must-reads",
    url: `https://getpocket.com/collections${queryParams}`
  }];
  function onLinkClick(topic, positionInCard) {
    if (dispatch) {
      dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source,
        action_position: position,
        value: {
          card_type: "topics_widget",
          topic,
          ...(positionInCard || positionInCard === 0 ? {
            position_in_card: positionInCard
          } : {}),
          section_position: position
        }
      }));
      dispatch(actionCreators.ImpressionStats({
        source,
        click: 0,
        window_inner_width: props.windowObj.innerWidth,
        window_inner_height: props.windowObj.innerHeight,
        tiles: [{
          id,
          pos: position
        }]
      }));
    }
  }
  function mapTopicItem(topic, index) {
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: topic.name,
      className: topic.overflow ? "ds-topics-widget-list-overflow-item" : ""
    }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      url: topic.url || `https://getpocket.com/explore/${topic.name}${queryParams}`,
      dispatch: dispatch,
      onLinkClick: () => onLinkClick(topic.name, index)
    }, topic.label));
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-topics-widget"
  }, /*#__PURE__*/external_React_default().createElement("header", {
    className: "ds-topics-widget-header"
  }, "Popular Topics"), /*#__PURE__*/external_React_default().createElement("hr", null), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-topics-widget-list-container"
  }, /*#__PURE__*/external_React_default().createElement("ul", null, topics.map(mapTopicItem))), /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "ds-topics-widget-button button primary",
    url: `https://getpocket.com/${queryParams}`,
    dispatch: dispatch,
    onLinkClick: () => onLinkClick("more-topics")
  }, "More Topics"), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
    dispatch: dispatch,
    rows: [{
      id,
      pos: position
    }],
    source: source
  }));
}
_TopicsWidget.defaultProps = {
  windowObj: window // Added to support unit tests
};
const TopicsWidget = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  DiscoveryStream: state.DiscoveryStream
}))(_TopicsWidget);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/ListFeed/ListFeed.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const PREF_LISTFEED_TITLE = "discoverystream.contextualContent.listFeedTitle";
const PREF_FAKESPOT_CATEGROY = "discoverystream.contextualContent.fakespot.defaultCategoryTitle";
const PREF_FAKESPOT_FOOTER = "discoverystream.contextualContent.fakespot.footerCopy";
const PREF_FAKESPOT_CTA_COPY = "discoverystream.contextualContent.fakespot.ctaCopy";
const PREF_FAKESPOT_CTA_URL = "discoverystream.contextualContent.fakespot.ctaUrl";
const ListFeed_PREF_CONTEXTUAL_CONTENT_SELECTED_FEED = "discoverystream.contextualContent.selectedFeed";
function ListFeed({
  type,
  firstVisibleTimestamp,
  recs,
  categories,
  dispatch
}) {
  const [selectedFakespotFeed, setSelectedFakespotFeed] = (0,external_React_namespaceObject.useState)("");
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const listFeedTitle = prefs[PREF_LISTFEED_TITLE];
  const categoryTitle = prefs[PREF_FAKESPOT_CATEGROY];
  const footerCopy = prefs[PREF_FAKESPOT_FOOTER];
  const ctaCopy = prefs[PREF_FAKESPOT_CTA_COPY];
  const ctaUrl = prefs[PREF_FAKESPOT_CTA_URL];
  const isFakespot = prefs[ListFeed_PREF_CONTEXTUAL_CONTENT_SELECTED_FEED] === "fakespot";
  // Todo: need to remove ads while using default recommendations, remove this line once API has been updated.
  let listFeedRecs = selectedFakespotFeed ? recs.filter(rec => rec.category === selectedFakespotFeed) : recs;
  function handleCtaClick() {
    dispatch(actionCreators.OnlyToMain({
      type: "FAKESPOT_CTA_CLICK"
    }));
  }
  function handleChange(e) {
    setSelectedFakespotFeed(e.target.value);
    dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "FAKESPOT_CATEGORY",
      value: {
        category: e.target.value || ""
      }
    }));
  }
  const contextMenuOptions = ["FakespotDismiss", "AboutFakespot"];
  const {
    length: listLength
  } = listFeedRecs;
  // determine if the list should take up all availible height or not
  const fullList = listLength >= 5;
  return listLength > 0 && /*#__PURE__*/external_React_default().createElement("div", {
    className: `list-feed ${fullList ? "full-height" : ""} ${listLength > 2 ? "span-2" : "span-1"}`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "list-feed-inner-wrapper"
  }, isFakespot ? /*#__PURE__*/external_React_default().createElement("div", {
    className: "fakespot-heading"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "dropdown-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("select", {
    className: "fakespot-dropdown",
    name: "fakespot-categories",
    value: selectedFakespotFeed,
    onChange: handleChange
  }, /*#__PURE__*/external_React_default().createElement("option", {
    value: ""
  }, categoryTitle || "Holiday Gift Guide"), categories.map(category => /*#__PURE__*/external_React_default().createElement("option", {
    key: category,
    value: category
  }, category))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "context-menu-wrapper"
  }, /*#__PURE__*/external_React_default().createElement(ContextMenuButton, null, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
    dispatch: dispatch,
    options: contextMenuOptions,
    shouldSendImpressionStats: true,
    site: {
      url: "https://www.fakespot.com"
    }
  })))), /*#__PURE__*/external_React_default().createElement("p", {
    className: "fakespot-desc"
  }, listFeedTitle)) : /*#__PURE__*/external_React_default().createElement("h1", {
    className: "list-feed-title",
    id: "list-feed-title"
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: "icon icon-newsfeed"
  }), listFeedTitle), /*#__PURE__*/external_React_default().createElement("div", {
    className: "list-feed-content",
    role: "menu",
    "aria-labelledby": "list-feed-title"
  }, listFeedRecs.slice(0, 5).map((rec, index) => {
    if (!rec || rec.placeholder) {
      return /*#__PURE__*/external_React_default().createElement(DSCard, {
        key: `list-card-${index}`,
        placeholder: true,
        isListCard: true
      });
    }
    return /*#__PURE__*/external_React_default().createElement(DSCard, {
      key: `list-card-${index}`,
      pos: index,
      flightId: rec.flight_id,
      image_src: rec.image_src,
      raw_image_src: rec.raw_image_src,
      word_count: rec.word_count,
      time_to_read: rec.time_to_read,
      title: rec.title,
      topic: rec.topic,
      excerpt: rec.excerpt,
      url: rec.url,
      id: rec.id,
      shim: rec.shim,
      type: type,
      context: rec.context,
      sponsor: rec.sponsor,
      sponsored_by_override: rec.sponsored_by_override,
      dispatch: dispatch,
      source: rec.domain,
      publisher: rec.publisher,
      pocket_id: rec.pocket_id,
      context_type: rec.context_type,
      bookmarkGuid: rec.bookmarkGuid,
      firstVisibleTimestamp: firstVisibleTimestamp,
      corpus_item_id: rec.corpus_item_id,
      scheduled_corpus_item_id: rec.scheduled_corpus_item_id,
      recommended_at: rec.recommended_at,
      received_rank: rec.received_rank,
      isListCard: true,
      isFakespot: isFakespot,
      category: rec.category
    });
  }), isFakespot && /*#__PURE__*/external_React_default().createElement("div", {
    className: "fakespot-footer"
  }, /*#__PURE__*/external_React_default().createElement("p", null, footerCopy), /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "fakespot-cta",
    url: ctaUrl,
    referrer: "",
    onLinkClick: handleCtaClick,
    dispatch: dispatch
  }, ctaCopy)))));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/AdBannerContextMenu/AdBannerContextMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */





/**
 * A context menu for IAB banners (e.g. billboard, leaderboard).
 *
 * Note: MREC ad formats and sponsored stories share the context menu with
 * other cards: make sure you also look at DSLinkMenu component
 * to keep any updates to ad-related context menu items in sync.
 *
 * @param dispatch
 * @param spoc
 * @param position
 * @param type
 * @param showAdReporting
 * @returns {Element}
 * @constructor
 */
function AdBannerContextMenu({
  dispatch,
  spoc,
  position,
  type,
  showAdReporting,
  toggleActive = () => {}
}) {
  const ADBANNER_CONTEXT_MENU_OPTIONS = ["BlockAdUrl", ...(showAdReporting ? ["ReportAd"] : []), "ManageSponsoredContent", "OurSponsorsAndYourPrivacy"];
  const [showContextMenu, setShowContextMenu] = (0,external_React_namespaceObject.useState)(false);
  const [contextMenuClassNames, setContextMenuClassNames] = (0,external_React_namespaceObject.useState)("ads-context-menu");

  // The keyboard access parameter is passed down to LinkMenu component
  // that uses it to focus on the first context menu option for accessibility.
  const [isKeyboardAccess, setIsKeyboardAccess] = (0,external_React_namespaceObject.useState)(false);

  /**
   * Toggles the style fix for context menu hover/active styles.
   * This allows us to have unobtrusive, transparent button background by default,
   * yet flip it over to semi-transparent grey when the menu is visible.
   *
   * @param contextMenuOpen
   */
  const toggleContextMenuStyleSwitch = contextMenuOpen => {
    if (contextMenuOpen) {
      setContextMenuClassNames("ads-context-menu context-menu-open");
    } else {
      setContextMenuClassNames("ads-context-menu");
    }
  };

  /**
   * Toggles the context menu to open or close. Sets state depending on whether
   * the context menu is accessed by mouse or keyboard.
   *
   * @param isKeyBoard
   */
  const toggleContextMenu = isKeyBoard => {
    toggleContextMenuStyleSwitch(!showContextMenu);
    toggleActive(!showContextMenu);
    setShowContextMenu(!showContextMenu);
    setIsKeyboardAccess(isKeyBoard);
  };
  const onClick = e => {
    e.preventDefault();
    toggleContextMenu(false);
  };
  const onKeyDown = e => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      toggleContextMenu(true);
    }
  };
  const onUpdate = () => {
    toggleContextMenuStyleSwitch(!showContextMenu);
    toggleActive(!showContextMenu);
    setShowContextMenu(!showContextMenu);
  };
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "ads-context-menu-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: contextMenuClassNames
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon",
    size: "default",
    "data-l10n-id": "newtab-menu-content-tooltip",
    "data-l10n-args": JSON.stringify({
      title: spoc.title || spoc.sponsor || spoc.alt_text
    }),
    iconsrc: "chrome://global/skin/icons/more.svg",
    onClick: onClick,
    onKeyDown: onKeyDown
  }), showContextMenu && /*#__PURE__*/external_React_default().createElement(LinkMenu, {
    onUpdate: onUpdate,
    dispatch: dispatch,
    keyboardAccess: isKeyboardAccess,
    options: ADBANNER_CONTEXT_MENU_OPTIONS,
    shouldSendImpressionStats: true,
    userEvent: actionCreators.DiscoveryStreamUserEvent,
    site: {
      // Props we want to pass on for new ad types that come from Unified Ads API
      block_key: spoc.block_key,
      fetchTimestamp: spoc.fetchTimestamp,
      flight_id: spoc.flight_id,
      format: spoc.format,
      id: spoc.id,
      guid: spoc.guid,
      card_type: "spoc",
      // required to record telemetry for an action, see handleBlockUrl in TelemetryFeed.sys.mjs
      is_pocket_card: true,
      position,
      sponsor: spoc.sponsor,
      title: spoc.title,
      url: spoc.url || spoc.shim.url,
      personalization_models: spoc.personalization_models,
      priority: spoc.priority,
      score: spoc.score,
      alt_text: spoc.alt_text,
      shim: spoc.shim
    },
    index: position,
    source: type.toUpperCase()
  })));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/PromoCard/PromoCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const PREF_PROMO_CARD_DISMISSED = "discoverystream.promoCard.visible";

/**
 * The PromoCard component displays a promotional message.
 * It is used next to the AdBanner component in a four-column layout.
 */

const PromoCard = () => {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const onCtaClick = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.PROMO_CARD_CLICK
    }));
  }, [dispatch]);
  const onDismissClick = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.PROMO_CARD_DISMISS
    }));
    dispatch(actionCreators.SetPref(PREF_PROMO_CARD_DISMISSED, false));
  }, [dispatch]);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.PROMO_CARD_IMPRESSION
    }));
  }, [dispatch]);
  const ref = useIntersectionObserver(handleIntersection);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "promo-card-wrapper",
    ref: el => {
      ref.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "promo-card-dismiss-button"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    size: "small",
    "data-l10n-id": "newtab-promo-card-dismiss-button",
    iconsrc: "chrome://global/skin/icons/close.svg",
    onClick: onDismissClick,
    onKeyDown: onDismissClick
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "promo-card-inner"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "img-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("img", {
    src: "chrome://newtab/content/data/content/assets/puzzle-fox.svg",
    alt: ""
  })), /*#__PURE__*/external_React_default().createElement("span", {
    className: "promo-card-title",
    "data-l10n-id": "newtab-promo-card-title"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "promo-card-body",
    "data-l10n-id": "newtab-promo-card-body"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "promo-card-cta-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("a", {
    href: "https://support.mozilla.org/kb/sponsor-privacy",
    "data-l10n-id": "newtab-promo-card-cta",
    target: "_blank",
    rel: "noreferrer",
    onClick: onCtaClick
  }))));
};

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/AdBanner/AdBanner.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







const AdBanner_PREF_SECTIONS_ENABLED = "discoverystream.sections.enabled";
const AdBanner_PREF_OHTTP_UNIFIED_ADS = "unifiedAds.ohttp.enabled";
const PREF_REPORT_ADS_ENABLED = "discoverystream.reportAds.enabled";
const PREF_PROMOCARD_ENABLED = "discoverystream.promoCard.enabled";
const PREF_PROMOCARD_VISIBLE = "discoverystream.promoCard.visible";

/**
 * A new banner ad that appears between rows of stories: leaderboard or billboard size.
 *
 * @param spoc
 * @param dispatch
 * @param firstVisibleTimestamp
 * @param row
 * @param type
 * @param prefs
 * @returns {Element}
 * @constructor
 */
const AdBanner = ({
  spoc,
  dispatch,
  firstVisibleTimestamp,
  row,
  type,
  prefs
}) => {
  const getDimensions = format => {
    switch (format) {
      case "leaderboard":
        return {
          width: "728",
          height: "90"
        };
      case "billboard":
        return {
          width: "970",
          height: "250"
        };
    }
    return {
      // image will still render with default values
      width: undefined,
      height: undefined
    };
  };
  const promoCardEnabled = spoc.format === "billboard" && prefs[PREF_PROMOCARD_ENABLED] && prefs[PREF_PROMOCARD_VISIBLE];
  const sectionsEnabled = prefs[AdBanner_PREF_SECTIONS_ENABLED];
  const ohttpEnabled = prefs[AdBanner_PREF_OHTTP_UNIFIED_ADS];
  const showAdReporting = prefs[PREF_REPORT_ADS_ENABLED];
  const ohttpImagesEnabled = prefs.ohttpImagesConfig?.enabled;
  const [menuActive, setMenuActive] = (0,external_React_namespaceObject.useState)(false);
  const adBannerWrapperClassName = `ad-banner-wrapper ${menuActive ? "active" : ""} ${promoCardEnabled ? "promo-card" : ""}`;
  const {
    width: imgWidth,
    height: imgHeight
  } = getDimensions(spoc.format);
  const onLinkClick = () => {
    dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "CLICK",
      source: type.toUpperCase(),
      // Banner ads don't have a position, but a row number
      action_position: parseInt(row, 10),
      value: {
        card_type: "spoc",
        tile_id: spoc.id,
        ...(spoc.shim?.click ? {
          shim: spoc.shim.click
        } : {}),
        fetchTimestamp: spoc.fetchTimestamp,
        firstVisibleTimestamp,
        format: spoc.format,
        ...(sectionsEnabled ? {
          section: spoc.format,
          section_position: parseInt(row, 10)
        } : {})
      }
    }));
  };
  const toggleActive = active => {
    setMenuActive(active);
  };

  // in the default card grid 1 would come before the 1st row of cards and 9 comes after the last row
  // using clamp to make sure its between valid values (1-9)
  const clampedRow = Math.max(1, Math.min(9, row));
  const secureImage = ohttpImagesEnabled && ohttpEnabled;
  let rawImageSrc = spoc.raw_image_src;

  // Wraps the image URL with the moz-cached-ohttp:// protocol.
  // This enables Firefox to load resources over Oblivious HTTP (OHTTP),
  // providing privacy-preserving resource loading.
  // Applied only when inferred personalization is enabled.
  // See: https://firefox-source-docs.mozilla.org/browser/components/mozcachedohttp/docs/index.html
  if (secureImage) {
    rawImageSrc = `moz-cached-ohttp://newtab-image/?url=${encodeURIComponent(spoc.raw_image_src)}`;
  }
  return /*#__PURE__*/external_React_default().createElement("aside", {
    className: adBannerWrapperClassName,
    style: {
      gridRow: clampedRow
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: `ad-banner-inner ${spoc.format}`
  }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "ad-banner-link",
    url: spoc.url,
    title: spoc.title || spoc.sponsor || spoc.alt_text,
    onLinkClick: onLinkClick,
    dispatch: dispatch,
    isSponsored: true
  }, /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
    flightId: spoc.flight_id,
    rows: [{
      id: spoc.id,
      card_type: "spoc",
      pos: row,
      recommended_at: spoc.recommended_at,
      received_rank: spoc.received_rank,
      format: spoc.format,
      ...(spoc.shim?.impression ? {
        shim: spoc.shim.impression
      } : {})
    }],
    dispatch: dispatch,
    firstVisibleTimestamp: firstVisibleTimestamp
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ad-banner-content"
  }, /*#__PURE__*/external_React_default().createElement("img", {
    src: rawImageSrc,
    alt: spoc.alt_text,
    loading: "eager",
    width: imgWidth,
    height: imgHeight
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ad-banner-sponsored"
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: "ad-banner-sponsored-label",
    "data-l10n-id": "newtab-label-sponsored-fixed"
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "ad-banner-hover-background"
  }, /*#__PURE__*/external_React_default().createElement(AdBannerContextMenu, {
    dispatch: dispatch,
    spoc: spoc,
    position: row,
    type: type,
    showAdReporting: showAdReporting,
    toggleActive: toggleActive
  }))), promoCardEnabled && /*#__PURE__*/external_React_default().createElement(PromoCard, null));
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/TrendingSearches/TrendingSearches.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






const PREF_TRENDING_VARIANT = "trendingSearch.variant";
const PREF_REFINED_CARDS_LAYOUT = "discoverystream.refinedCardsLayout.enabled";
function TrendingSearches() {
  const [showContextMenu, setShowContextMenu] = (0,external_React_namespaceObject.useState)(false);
  // The keyboard access parameter is passed down to LinkMenu component
  // that uses it to focus on the first context menu option for accessibility.
  const [isKeyboardAccess, setIsKeyboardAccess] = (0,external_React_namespaceObject.useState)(false);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const {
    TrendingSearch,
    Prefs
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state);
  const {
    values: prefs
  } = Prefs;
  const {
    suggestions,
    collapsed
  } = TrendingSearch;
  const variant = prefs[PREF_TRENDING_VARIANT];
  const refinedCards = prefs[PREF_REFINED_CARDS_LAYOUT];
  let resultRef = (0,external_React_namespaceObject.useRef)([]);
  let contextMenuHost = (0,external_React_namespaceObject.useRef)(null);
  const TRENDING_SEARCH_CONTEXT_MENU_OPTIONS = ["TrendingSearchDismiss", "TrendingSearchLearnMore"];
  function onArrowClick() {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.TRENDING_SEARCH_TOGGLE_COLLAPSE,
      data: {
        collapsed: !collapsed,
        variant
      }
    }));
  }
  function handleLinkOpen() {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.TRENDING_SEARCH_SUGGESTION_OPEN,
      data: {
        variant
      }
    }));
  }

  // If the window is small, the context menu in variant B will move closer to the card
  // so that it doesn't cut off
  const handleContextMenuShow = () => {
    const host = contextMenuHost.current;
    const isRTL = document.dir === "rtl"; // returns true if page language is right-to-left
    const checkRect = host.getBoundingClientRect();
    const maxBounds = 200;

    // Adds the class of "last-item" if the card is near the edge of the window
    const checkBounds = isRTL ? checkRect.left <= maxBounds : window.innerWidth - checkRect.right <= maxBounds;
    if (checkBounds) {
      host.classList.add("last-item");
    }
  };
  const handleContextMenuUpdate = () => {
    const host = contextMenuHost.current;
    if (!host) {
      return;
    }
    host.classList.remove("last-item");
  };
  const toggleContextMenu = isKeyBoard => {
    setShowContextMenu(!showContextMenu);
    setIsKeyboardAccess(isKeyBoard);
    if (!showContextMenu) {
      handleContextMenuShow();
    } else {
      handleContextMenuUpdate();
    }
  };
  function onContextMenuClick(e) {
    e.preventDefault();
    toggleContextMenu(false);
  }
  function onContextMenuKeyDown(e) {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      toggleContextMenu(true);
    }
  }
  function onUpdate() {
    setShowContextMenu(!showContextMenu);
  }
  function handleResultKeyDown(event, index) {
    const maxResults = suggestions.length;
    let nextIndex = index;
    if (event.key === "ArrowDown") {
      event.preventDefault();
      if (index < maxResults - 1) {
        nextIndex = index + 1;
      } else {
        return;
      }
    } else if (event.key === "ArrowUp") {
      event.preventDefault();
      if (index > 0) {
        nextIndex = index - 1;
      } else {
        return;
      }
    }
    resultRef.current[index].tabIndex = -1;
    resultRef.current[nextIndex].tabIndex = 0;
    resultRef.current[nextIndex].focus();
  }
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.TRENDING_SEARCH_IMPRESSION,
      data: {
        variant
      }
    }));
  }, [dispatch, variant]);
  const ref = useIntersectionObserver(handleIntersection);
  if (!suggestions?.length) {
    return null;
  } else if (variant === "a" || variant === "c") {
    return /*#__PURE__*/external_React_default().createElement("section", {
      ref: el => {
        ref.current = [el];
      }
      // Variant C matches the design of variant A but should only
      // appear on hover
      ,
      className: `trending-searches-pill-wrapper ${variant === "c" ? "hover-only" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "trending-searches-title-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "trending-searches-icon icon icon-arrow-trending"
    }), /*#__PURE__*/external_React_default().createElement("h2", {
      className: "trending-searches-title",
      "data-l10n-id": "newtab-trending-searches-title"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "close-open-trending-searches"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      iconsrc: `chrome://global/skin/icons/arrow-${collapsed ? "down" : "up"}.svg`,
      onClick: onArrowClick,
      className: `icon icon-arrowhead-up`,
      type: "icon ghost",
      "data-l10n-id": `newtab-trending-searches-${collapsed ? "show" : "hide"}-trending`
    }))), !collapsed && /*#__PURE__*/external_React_default().createElement("ul", {
      className: "trending-searches-list"
    }, suggestions.map((result, index) => {
      return /*#__PURE__*/external_React_default().createElement("li", {
        key: result.suggestion,
        className: "trending-search-item",
        onKeyDown: e => handleResultKeyDown(e, index)
      }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
        url: result.searchUrl,
        onLinkClick: handleLinkOpen,
        title: result.suggestion,
        setRef: item => resultRef.current[index] = item,
        tabIndex: index === 0 ? 0 : -1
      }, result.lowerCaseSuggestion));
    })));
  } else if (variant === "b") {
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: el => {
        ref.current = [el];
        contextMenuHost.current = el;
      },
      className: "trending-searches-list-view"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "trending-searches-list-view-header"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      "data-l10n-id": "newtab-trending-searches-title"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "trending-searches-context-menu-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: `trending-searches-context-menu ${showContextMenu ? "context-menu-open" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      type: "icon ghost",
      size: "default",
      "data-l10n-id": "newtab-menu-section-tooltip",
      iconsrc: "chrome://global/skin/icons/more.svg",
      onClick: onContextMenuClick,
      onKeyDown: onContextMenuKeyDown
    }), showContextMenu && /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      onUpdate: onUpdate,
      dispatch: dispatch,
      keyboardAccess: isKeyboardAccess,
      options: TRENDING_SEARCH_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      site: {
        url: "https://support.mozilla.org/1/firefox/%VERSION%/%OS%/%LOCALE%/trending-searches-new-tab",
        variant
      }
    })))), /*#__PURE__*/external_React_default().createElement("ul", {
      className: "trending-searches-list-items"
    }, suggestions.slice(0, 6).map((result, index) => {
      return /*#__PURE__*/external_React_default().createElement("li", {
        key: result.suggestion,
        className: `trending-searches-list-item ${refinedCards ? "compact" : ""}`,
        onKeyDown: e => handleResultKeyDown(e, index)
      }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
        url: result.searchUrl,
        onLinkClick: handleLinkOpen,
        title: result.suggestion,
        setRef: item => resultRef.current[index] = item,
        tabIndex: index === 0 ? 0 : -1
      }, result.icon ? /*#__PURE__*/external_React_default().createElement("div", {
        className: "trending-icon-wrapper"
      }, /*#__PURE__*/external_React_default().createElement("img", {
        src: result.icon,
        alt: "",
        className: "trending-icon"
      }), /*#__PURE__*/external_React_default().createElement("div", {
        className: "trending-info-wrapper"
      }, result.lowerCaseSuggestion, /*#__PURE__*/external_React_default().createElement("small", null, result.description))) : /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("span", {
        className: "trending-searches-icon icon icon-arrow-trending"
      }), result.lowerCaseSuggestion)));
    })));
  }
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/CardGrid/CardGrid.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










const PREF_SECTIONS_CARDS_ENABLED = "discoverystream.sections.cards.enabled";
const PREF_THUMBS_UP_DOWN_ENABLED = "discoverystream.thumbsUpDown.enabled";
const PREF_TOPICS_ENABLED = "discoverystream.topicLabels.enabled";
const PREF_TOPICS_SELECTED = "discoverystream.topicSelection.selectedTopics";
const PREF_TOPICS_AVAILABLE = "discoverystream.topicSelection.topics";
const PREF_SPOCS_STARTUPCACHE_ENABLED = "discoverystream.spocs.startupCache.enabled";
const PREF_LIST_FEED_ENABLED = "discoverystream.contextualContent.enabled";
const PREF_LIST_FEED_SELECTED_FEED = "discoverystream.contextualContent.selectedFeed";
const PREF_FAKESPOT_ENABLED = "discoverystream.contextualContent.fakespot.enabled";
const PREF_BILLBOARD_ENABLED = "newtabAdSize.billboard";
const PREF_BILLBOARD_POSITION = "newtabAdSize.billboard.position";
const PREF_LEADERBOARD_ENABLED = "newtabAdSize.leaderboard";
const PREF_LEADERBOARD_POSITION = "newtabAdSize.leaderboard.position";
const PREF_TRENDING_SEARCH = "trendingSearch.enabled";
const PREF_TRENDING_SEARCH_SYSTEM = "system.trendingSearch.enabled";
const PREF_SEARCH_ENGINE = "trendingSearch.defaultSearchEngine";
const PREF_TRENDING_SEARCH_VARIANT = "trendingSearch.variant";
const WIDGET_IDS = {
  TOPICS: 1
};
function DSSubHeader({
  children
}) {
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-top-bar ds-sub-header"
  }, /*#__PURE__*/external_React_default().createElement("h3", {
    className: "section-title-container"
  }, children));
}

// eslint-disable-next-line no-shadow
function CardGrid_IntersectionObserver({
  children,
  windowObj = window,
  onIntersecting
}) {
  const intersectionElement = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    let observer;
    if (!observer && onIntersecting && intersectionElement.current) {
      observer = new windowObj.IntersectionObserver(entries => {
        const entry = entries.find(e => e.isIntersecting);
        if (entry) {
          // Stop observing since element has been seen
          if (observer && intersectionElement.current) {
            observer.unobserve(intersectionElement.current);
          }
          onIntersecting();
        }
      });
      observer.observe(intersectionElement.current);
    }
    // Cleanup
    return () => observer?.disconnect();
  }, [windowObj, onIntersecting]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    ref: intersectionElement
  }, children);
}
class _CardGrid extends (external_React_default()).PureComponent {
  // eslint-disable-next-line max-statements
  renderCards() {
    const prefs = this.props.Prefs.values;
    const {
      items,
      ctaButtonSponsors,
      ctaButtonVariant,
      widgets,
      DiscoveryStream
    } = this.props;
    const {
      topicsLoading
    } = DiscoveryStream;
    const mayHaveSectionsCards = prefs[PREF_SECTIONS_CARDS_ENABLED];
    const mayHaveThumbsUpDown = prefs[PREF_THUMBS_UP_DOWN_ENABLED];
    const showTopics = prefs[PREF_TOPICS_ENABLED];
    const selectedTopics = prefs[PREF_TOPICS_SELECTED];
    const availableTopics = prefs[PREF_TOPICS_AVAILABLE];
    const spocsStartupCacheEnabled = prefs[PREF_SPOCS_STARTUPCACHE_ENABLED];
    const listFeedEnabled = prefs[PREF_LIST_FEED_ENABLED];
    const listFeedSelectedFeed = prefs[PREF_LIST_FEED_SELECTED_FEED];
    const billboardEnabled = prefs[PREF_BILLBOARD_ENABLED];
    const leaderboardEnabled = prefs[PREF_LEADERBOARD_ENABLED];
    const trendingEnabled = prefs[PREF_TRENDING_SEARCH] && prefs[PREF_TRENDING_SEARCH_SYSTEM] && prefs[PREF_SEARCH_ENGINE]?.toLowerCase() === "google";
    const trendingVariant = prefs[PREF_TRENDING_SEARCH_VARIANT];

    // filter out recs that should be in ListFeed
    const recs = this.props.data.recommendations.filter(item => !item.feedName).slice(0, items);
    const cards = [];
    for (let index = 0; index < items; index++) {
      const rec = recs[index];
      cards.push(topicsLoading || !rec || rec.placeholder || rec.flight_id && !spocsStartupCacheEnabled && this.props.App.isForStartupCache.DiscoveryStream ? /*#__PURE__*/external_React_default().createElement(PlaceholderDSCard, {
        key: `dscard-${index}`
      }) : /*#__PURE__*/external_React_default().createElement(DSCard, {
        key: `dscard-${rec.id}`,
        pos: rec.pos,
        flightId: rec.flight_id,
        image_src: rec.image_src,
        raw_image_src: rec.raw_image_src,
        icon_src: rec.icon_src,
        word_count: rec.word_count,
        time_to_read: rec.time_to_read,
        title: rec.title,
        topic: rec.topic,
        features: rec.features,
        showTopics: showTopics,
        selectedTopics: selectedTopics,
        excerpt: rec.excerpt,
        availableTopics: availableTopics,
        url: rec.url,
        id: rec.id,
        shim: rec.shim,
        fetchTimestamp: rec.fetchTimestamp,
        type: this.props.type,
        context: rec.context,
        sponsor: rec.sponsor,
        sponsored_by_override: rec.sponsored_by_override,
        dispatch: this.props.dispatch,
        source: rec.domain,
        publisher: rec.publisher,
        pocket_id: rec.pocket_id,
        context_type: rec.context_type,
        bookmarkGuid: rec.bookmarkGuid,
        ctaButtonSponsors: ctaButtonSponsors,
        ctaButtonVariant: ctaButtonVariant,
        recommendation_id: rec.recommendation_id,
        firstVisibleTimestamp: this.props.firstVisibleTimestamp,
        mayHaveThumbsUpDown: mayHaveThumbsUpDown,
        mayHaveSectionsCards: mayHaveSectionsCards,
        corpus_item_id: rec.corpus_item_id,
        scheduled_corpus_item_id: rec.scheduled_corpus_item_id,
        recommended_at: rec.recommended_at,
        received_rank: rec.received_rank,
        format: rec.format,
        alt_text: rec.alt_text,
        isTimeSensitive: rec.isTimeSensitive
      }));
    }
    if (widgets?.positions?.length && widgets?.data?.length) {
      let positionIndex = 0;
      const source = "CARDGRID_WIDGET";
      for (const widget of widgets.data) {
        let widgetComponent = null;
        const position = widgets.positions[positionIndex];

        // Stop if we run out of positions to place widgets.
        if (!position) {
          break;
        }
        switch (widget?.type) {
          case "TopicsWidget":
            widgetComponent = /*#__PURE__*/external_React_default().createElement(TopicsWidget, {
              position: position.index,
              dispatch: this.props.dispatch,
              source: source,
              id: WIDGET_IDS.TOPICS
            });
            break;
        }
        if (widgetComponent) {
          // We found a widget, so up the position for next try.
          positionIndex++;
          // We replace an existing card with the widget.
          cards.splice(position.index, 1, widgetComponent);
        }
      }
    }
    if (listFeedEnabled) {
      const isFakespot = listFeedSelectedFeed === "fakespot";
      const fakespotEnabled = prefs[PREF_FAKESPOT_ENABLED];
      if (!isFakespot || isFakespot && fakespotEnabled) {
        // Place the list feed as the 3rd element in the card grid
        cards.splice(2, 1, this.renderListFeed(this.props.data.recommendations, listFeedSelectedFeed));
      }
    }
    if (trendingEnabled && trendingVariant === "b") {
      const firstSpocPosition = this.props.spocPositions[0]?.index;
      // double check that a spoc/mrec is actually in the index it should be in
      const format = cards[firstSpocPosition]?.props?.format;
      const isSpoc = format === "spoc" || format === "rectangle";
      // if the spoc is not in its position, place TrendingSearches in the 3rd position
      cards.splice(isSpoc ? firstSpocPosition + 1 : 2, 1, /*#__PURE__*/external_React_default().createElement(TrendingSearches, null));
    }

    // if a banner ad is enabled and we have any available, place them in the grid
    const {
      spocs
    } = this.props.DiscoveryStream;
    if ((billboardEnabled || leaderboardEnabled) && spocs?.data?.newtab_spocs?.items) {
      // Only render one AdBanner in the grid -
      // Prioritize rendering a leaderboard if it exists,
      // otherwise render a billboard
      const spocToRender = spocs.data.newtab_spocs.items.find(({
        format
      }) => format === "leaderboard" && leaderboardEnabled) || spocs.data.newtab_spocs.items.find(({
        format
      }) => format === "billboard" && billboardEnabled);
      if (spocToRender && !spocs.blocked.includes(spocToRender.url)) {
        const row = spocToRender.format === "leaderboard" ? prefs[PREF_LEADERBOARD_POSITION] : prefs[PREF_BILLBOARD_POSITION];
        function displayCardsPerRow() {
          // Determines the number of cards per row based on the window width:
          // width <= 1122px: 2 cards per row
          // width 1123px to 1697px: 3 cards per row
          // width >= 1698px: 4 cards per row
          if (window.innerWidth <= 1122) {
            return 2;
          } else if (window.innerWidth > 1122 && window.innerWidth < 1698) {
            return 3;
          }
          return 4;
        }
        const injectAdBanner = bannerIndex => {
          // .splice() inserts the AdBanner at the desired index, ensuring correct DOM order for accessibility and keyboard navigation.
          // .push() would place it at the end, which is visually incorrect even if adjusted with CSS.
          cards.splice(bannerIndex, 0, /*#__PURE__*/external_React_default().createElement(AdBanner, {
            spoc: spocToRender,
            key: `dscard-${spocToRender.id}`,
            dispatch: this.props.dispatch,
            type: this.props.type,
            firstVisibleTimestamp: this.props.firstVisibleTimestamp,
            row: row,
            prefs: prefs
          }));
        };
        const getBannerIndex = () => {
          // Calculate the index for where the AdBanner should be added, depending on number of cards per row on the grid
          const cardsPerRow = displayCardsPerRow();
          let bannerIndex = (row - 1) * cardsPerRow;
          return bannerIndex;
        };
        injectAdBanner(getBannerIndex());
      }
    }
    const gridClassName = this.renderGridClassName();
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, cards?.length > 0 && /*#__PURE__*/external_React_default().createElement("div", {
      className: gridClassName
    }, cards));
  }
  renderListFeed(recommendations, selectedFeed) {
    const recs = recommendations.filter(item => item.feedName === selectedFeed);
    const isFakespot = selectedFeed === "fakespot";
    // remove duplicates from category list
    const categories = [...new Set(recs.map(({
      category
    }) => category))];
    const listFeed = /*#__PURE__*/external_React_default().createElement(ListFeed
    // only display recs that match selectedFeed for ListFeed
    , {
      recs: recs,
      categories: isFakespot ? categories : [],
      firstVisibleTimestamp: this.props.firstVisibleTimestamp,
      type: this.props.type,
      dispatch: this.props.dispatch
    });
    return listFeed;
  }
  renderGridClassName() {
    const {
      hybridLayout,
      hideCardBackground,
      fourCardLayout,
      compactGrid,
      hideDescriptions
    } = this.props;
    const hideCardBackgroundClass = hideCardBackground ? `ds-card-grid-hide-background` : ``;
    const fourCardLayoutClass = fourCardLayout ? `ds-card-grid-four-card-variant` : ``;
    const hideDescriptionsClassName = !hideDescriptions ? `ds-card-grid-include-descriptions` : ``;
    const compactGridClassName = compactGrid ? `ds-card-grid-compact` : ``;
    const hybridLayoutClassName = hybridLayout ? `ds-card-grid-hybrid-layout` : ``;
    const gridClassName = `ds-card-grid ${hybridLayoutClassName} ${hideCardBackgroundClass} ${fourCardLayoutClass} ${hideDescriptionsClassName} ${compactGridClassName}`;
    return gridClassName;
  }
  render() {
    const {
      data
    } = this.props;

    // Handle a render before feed has been fetched by displaying nothing
    if (!data) {
      return null;
    }

    // Handle the case where a user has dismissed all recommendations
    const isEmpty = data.recommendations.length === 0;
    return /*#__PURE__*/external_React_default().createElement("div", null, this.props.title && /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-header"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "title"
    }, this.props.title), this.props.context && /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: this.props.context
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-context"
    }))), isEmpty ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-card-grid empty"
    }, /*#__PURE__*/external_React_default().createElement(DSEmptyState, {
      status: data.status,
      dispatch: this.props.dispatch,
      feed: this.props.feed
    })) : this.renderCards());
  }
}
_CardGrid.defaultProps = {
  items: 4 // Number of stories to display
};
const CardGrid = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs,
  App: state.App,
  DiscoveryStream: state.DiscoveryStream
}))(_CardGrid);
;// CONCATENATED MODULE: ./content-src/components/A11yLinkButton/A11yLinkButton.jsx
function A11yLinkButton_extends() { return A11yLinkButton_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, A11yLinkButton_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function A11yLinkButton(props) {
  // function for merging classes, if necessary
  let className = "a11y-link-button";
  if (props.className) {
    className += ` ${props.className}`;
  }
  return /*#__PURE__*/external_React_default().createElement("button", A11yLinkButton_extends({
    type: "button"
  }, props, {
    className: className
  }), props.children);
}
;// CONCATENATED MODULE: ./content-src/components/ErrorBoundary/ErrorBoundary.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



class ErrorBoundaryFallback extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.windowObj = this.props.windowObj || window;
    this.onClick = this.onClick.bind(this);
  }

  /**
   * Since we only get here if part of the page has crashed, do a
   * forced reload to give us the best chance at recovering.
   */
  onClick() {
    this.windowObj.location.reload(true);
  }
  render() {
    const defaultClass = "as-error-fallback";
    let className;
    if ("className" in this.props) {
      className = `${this.props.className} ${defaultClass}`;
    } else {
      className = defaultClass;
    }

    // "A11yLinkButton" to force normal link styling stuff (eg cursor on hover)
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: className
    }, /*#__PURE__*/external_React_default().createElement("div", {
      "data-l10n-id": "newtab-error-fallback-info"
    }), /*#__PURE__*/external_React_default().createElement("span", null, /*#__PURE__*/external_React_default().createElement(A11yLinkButton, {
      className: "reload-button",
      onClick: this.onClick,
      "data-l10n-id": "newtab-error-fallback-refresh-link"
    })));
  }
}
ErrorBoundaryFallback.defaultProps = {
  className: "as-error-fallback"
};
class ErrorBoundary extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      hasError: false
    };
  }
  componentDidCatch() {
    this.setState({
      hasError: true
    });
  }
  render() {
    if (!this.state.hasError) {
      return this.props.children;
    }
    return /*#__PURE__*/external_React_default().createElement(this.props.FallbackComponent, {
      className: this.props.className
    });
  }
}
ErrorBoundary.defaultProps = {
  FallbackComponent: ErrorBoundaryFallback
};
;// CONCATENATED MODULE: ./content-src/components/CollapsibleSection/CollapsibleSection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







/**
 * A section that can collapse. As of bug 1710937, it can no longer collapse.
 * See bug 1727365 for follow-up work to simplify this component.
 */
class _CollapsibleSection extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onBodyMount = this.onBodyMount.bind(this);
    this.onMenuButtonMouseEnter = this.onMenuButtonMouseEnter.bind(this);
    this.onMenuButtonMouseLeave = this.onMenuButtonMouseLeave.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
    this.setContextMenuButtonRef = this.setContextMenuButtonRef.bind(this);
    this.handleTopicSelectionButtonClick = this.handleTopicSelectionButtonClick.bind(this);
    this.state = {
      menuButtonHover: false,
      showContextMenu: false
    };
  }
  setContextMenuButtonRef(element) {
    this.contextMenuButtonRef = element;
  }
  onBodyMount(node) {
    this.sectionBody = node;
  }
  onMenuButtonMouseEnter() {
    this.setState({
      menuButtonHover: true
    });
  }
  onMenuButtonMouseLeave() {
    this.setState({
      menuButtonHover: false
    });
  }
  onMenuUpdate(showContextMenu) {
    this.setState({
      showContextMenu
    });
  }
  handleTopicSelectionButtonClick() {
    const maybeDisplay = this.props.Prefs.values["discoverystream.topicSelection.onboarding.maybeDisplay"];
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.TOPIC_SELECTION_USER_OPEN
    }));
    if (maybeDisplay) {
      // if still part of onboarding, remove user from onboarding flow
      this.props.dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
    }
    this.props.dispatch(actionCreators.BroadcastToContent({
      type: actionTypes.TOPIC_SELECTION_SPOTLIGHT_OPEN
    }));
  }
  render() {
    const {
      isAnimating,
      maxHeight,
      menuButtonHover,
      showContextMenu
    } = this.state;
    const {
      id,
      collapsed,
      title,
      subTitle,
      mayHaveTopicsSelection,
      sectionsEnabled
    } = this.props;
    const active = menuButtonHover || showContextMenu;
    let bodyStyle;
    if (isAnimating && !collapsed) {
      bodyStyle = {
        maxHeight
      };
    } else if (!isAnimating && collapsed) {
      bodyStyle = {
        display: "none"
      };
    }
    let titleStyle;
    if (this.props.hideTitle) {
      titleStyle = {
        visibility: "hidden"
      };
    }
    const hasSubtitleClassName = subTitle ? `has-subtitle` : ``;
    const hasBeenUpdatedPreviously = this.props.Prefs.values["discoverystream.topicSelection.hasBeenUpdatedPreviously"];
    const selectedTopics = this.props.Prefs.values["discoverystream.topicSelection.selectedTopics"];
    const topicsHaveBeenPreviouslySet = hasBeenUpdatedPreviously || selectedTopics;
    return /*#__PURE__*/external_React_default().createElement("section", {
      className: `collapsible-section ${this.props.className}${active ? " active" : ""}`
      // Note: data-section-id is used for web extension api tests in mozilla central
      ,
      "data-section-id": id
    }, !sectionsEnabled && /*#__PURE__*/external_React_default().createElement("div", {
      className: "section-top-bar"
    }, /*#__PURE__*/external_React_default().createElement("h2", {
      className: `section-title-container ${hasSubtitleClassName}`,
      style: titleStyle
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-title"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: title
    })), subTitle && /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-sub-title"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: subTitle
    }))), mayHaveTopicsSelection && /*#__PURE__*/external_React_default().createElement("div", {
      className: "button-topic-selection"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      "data-l10n-id": topicsHaveBeenPreviouslySet ? "newtab-topic-selection-button-update-interests" : "newtab-topic-selection-button-pick-interests",
      type: topicsHaveBeenPreviouslySet ? "default" : "primary",
      onClick: this.handleTopicSelectionButtonClick
    }))), /*#__PURE__*/external_React_default().createElement(ErrorBoundary, {
      className: "section-body-fallback"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      ref: this.onBodyMount,
      style: bodyStyle
    }, this.props.children)));
  }
}
_CollapsibleSection.defaultProps = {
  document: globalThis.document || {
    addEventListener: () => {},
    removeEventListener: () => {},
    visibilityState: "hidden"
  }
};
const CollapsibleSection = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_CollapsibleSection);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSMessage/DSMessage.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class DSMessage extends (external_React_default()).PureComponent {
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-message"
    }, /*#__PURE__*/external_React_default().createElement("header", {
      className: "title"
    }, this.props.icon && /*#__PURE__*/external_React_default().createElement("div", {
      className: "glyph",
      style: {
        backgroundImage: `url(${this.props.icon})`
      }
    }), this.props.title && /*#__PURE__*/external_React_default().createElement("span", {
      className: "title-text"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: this.props.title
    })), this.props.link_text && this.props.link_url && /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "link",
      url: this.props.link_url
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: this.props.link_text
    }))));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/ReportContent/ReportContent.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */



const ReportContent = spocs => {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const modal = (0,external_React_namespaceObject.useRef)(null);
  const radioGroupRef = (0,external_React_namespaceObject.useRef)(null);
  const submitButtonRef = (0,external_React_namespaceObject.useRef)(null);
  const report = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream.report);
  const [valueSelected, setValueSelected] = (0,external_React_namespaceObject.useState)(false);
  const [selectedReason, setSelectedReason] = (0,external_React_namespaceObject.useState)(null);
  const spocData = spocs.spocs.data;

  // Sends a dispatch to update the redux store when modal is cancelled
  const handleCancel = () => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.REPORT_CLOSE
    }));
  };
  const handleSubmit = (0,external_React_namespaceObject.useCallback)(() => {
    const {
      card_type,
      corpus_item_id,
      position,
      reporting_url,
      scheduled_corpus_item_id,
      section_position,
      section,
      title,
      topic,
      url
    } = report;
    if (card_type === "organic") {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.REPORT_CONTENT_SUBMIT,
        data: {
          card_type,
          corpus_item_id,
          report_reason: selectedReason,
          scheduled_corpus_item_id,
          section_position,
          section,
          title,
          topic,
          url
        }
      }));
    } else if (card_type === "spoc") {
      // Retrieve placement_id by comparing spocData with the ad that was reported
      const getPlacementId = () => {
        if (!spocData || !report.url) {
          return null;
        }
        for (const [placementId, spocList] of Object.entries(spocData)) {
          for (const spoc of Object.values(spocList)) {
            if (spoc?.url === report.url) {
              return placementId;
            }
          }
        }
        return null;
      };
      const placement_id = getPlacementId();
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.REPORT_AD_SUBMIT,
        data: {
          report_reason: selectedReason,
          placement_id,
          position,
          reporting_url,
          url
        }
      }));
    }
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.BLOCK_URL,
      data: [{
        ...report
      }]
    }));
    dispatch(actionCreators.OnlyToOneContent({
      type: actionTypes.SHOW_TOAST_MESSAGE,
      data: {
        toastId: "reportSuccessToast",
        showNotifications: true
      }
    }, "ActivityStream:Content"));
  }, [dispatch, selectedReason, report, spocData]);

  // Opens and closes the modal based on user interaction
  (0,external_React_namespaceObject.useEffect)(() => {
    if (report.visible && modal?.current) {
      modal.current.showModal();

      // Clear any previously selected radio button
      const radioGroup = radioGroupRef.current;
      if (radioGroup) {
        const selectedRadioButton = radioGroup.querySelector("moz-radio[checked]");
        if (selectedRadioButton) {
          selectedRadioButton.removeAttribute("checked");
        }
      }

      // Clear out the states
      setValueSelected(false);
      setSelectedReason(null);
    } else if (!report.visible && modal?.current?.open) {
      modal.current.close();
    }
  }, [report.visible]);

  // Updates the submit button's state based on if a value is selected
  (0,external_React_namespaceObject.useEffect)(() => {
    const radioGroup = radioGroupRef.current;
    const submitButton = submitButtonRef.current;
    const handleRadioChange = e => {
      const reasonValue = e?.target?.value;
      if (reasonValue) {
        setValueSelected(true);
        setSelectedReason(reasonValue);
      }
    };
    if (radioGroup) {
      radioGroup.addEventListener("change", handleRadioChange);
    }

    // Handle submit button state on valueSelected change
    const updateSubmitState = () => {
      if (valueSelected) {
        submitButton.removeAttribute("disabled");
      } else {
        submitButton.setAttribute("disabled", "");
      }
    };
    updateSubmitState();
    return () => {
      if (radioGroup) {
        radioGroup.removeEventListener("change", handleRadioChange);
      }
    };
  }, [valueSelected, selectedReason]);
  return /*#__PURE__*/external_React_default().createElement("dialog", {
    className: "report-content-form",
    id: "dialog-report",
    ref: modal,
    onClose: () => dispatch({
      type: actionTypes.REPORT_CLOSE
    })
  }, /*#__PURE__*/external_React_default().createElement("form", {
    action: ""
  }, report.card_type === "spoc" ? /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("moz-radio-group", {
    name: "report",
    ref: radioGroupRef,
    id: "report-group",
    "data-l10n-id": "newtab-report-ads-why-reporting",
    className: "report-ads-options"
  }, /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-ads-reason-not-interested",
    value: "not_interested"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-ads-reason-inappropriate",
    value: "inappropriate"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-ads-reason-seen-it-too-many-times",
    value: "seen_too_many_times"
  }))) : /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("moz-radio-group", {
    name: "report",
    ref: radioGroupRef,
    id: "report-group",
    "data-l10n-id": "newtab-report-content-why-reporting-this",
    className: "report-content-options"
  }, /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-wrong-category",
    value: "wrong_category"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-outdated",
    value: "outdated"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-inappropriate-offensive",
    value: "inappropriate_or_offensive"
  }), /*#__PURE__*/external_React_default().createElement("moz-radio", {
    "data-l10n-id": "newtab-report-content-spam-misleading",
    value: "spam_or_misleading"
  }))), /*#__PURE__*/external_React_default().createElement("moz-button-group", null, /*#__PURE__*/external_React_default().createElement("moz-button", {
    "data-l10n-id": "newtab-report-cancel",
    onClick: handleCancel,
    className: "cancel-report-btn"
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "primary",
    "data-l10n-id": "newtab-report-submit",
    ref: submitButtonRef,
    onClick: handleSubmit,
    className: "submit-report-btn"
  }))));
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSSignup/DSSignup.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







class DSSignup extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      active: false,
      lastItem: false
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuShow = this.onMenuShow.bind(this);
  }
  onMenuButtonUpdate(showContextMenu) {
    if (!showContextMenu) {
      this.setState({
        active: false,
        lastItem: false
      });
    }
  }
  nextAnimationFrame() {
    return new Promise(resolve => this.props.windowObj.requestAnimationFrame(resolve));
  }
  async onMenuShow() {
    let {
      lastItem
    } = this.state;
    // Wait for next frame before computing scrollMaxX to allow fluent menu strings to be visible
    await this.nextAnimationFrame();
    if (this.props.windowObj.scrollMaxX > 0) {
      lastItem = true;
    }
    this.setState({
      active: true,
      lastItem
    });
  }
  onLinkClick() {
    const {
      data
    } = this.props;
    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase();
      // Grab the first item in the array as we only have 1 spoc position.
      const [spoc] = data.spocs;
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(actionCreators.ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }
  render() {
    const {
      data,
      dispatch,
      type
    } = this.props;
    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    }
    // Grab the first item in the array as we only have 1 spoc position.
    const [spoc] = data.spocs;
    const {
      title,
      url,
      excerpt,
      flight_id,
      id,
      shim
    } = spoc;
    const SIGNUP_CONTEXT_MENU_OPTIONS = ["OpenInNewWindow", "OpenInPrivateWindow", "Separator", "BlockUrl", ...(flight_id ? ["ShowPrivacyInfo"] : [])];
    const outerClassName = ["ds-signup", this.state.active && "active", this.state.lastItem && "last-item"].filter(v => v).join(" ");
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: outerClassName
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-signup-content"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-small-spacer icon-mail"
    }), /*#__PURE__*/external_React_default().createElement("span", null, title, " ", /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-chevron-link",
      dispatch: dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, excerpt)), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: dispatch,
      source: type
    })), /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: 0,
      source: type.toUpperCase(),
      onShow: this.onMenuShow,
      options: SIGNUP_CONTEXT_MENU_OPTIONS,
      shouldSendImpressionStats: true,
      userEvent: actionCreators.DiscoveryStreamUserEvent,
      site: {
        referrer: "https://getpocket.com/recommendations",
        title,
        type,
        url,
        guid: id,
        shim,
        flight_id
      }
    })));
  }
}
DSSignup.defaultProps = {
  windowObj: window // Added to support unit tests
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSDismiss/DSDismiss.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class DSDismiss extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onDismissClick = this.onDismissClick.bind(this);
    this.onHover = this.onHover.bind(this);
    this.offHover = this.offHover.bind(this);
    this.state = {
      hovering: false
    };
  }
  onDismissClick() {
    if (this.props.onDismissClick) {
      this.props.onDismissClick();
    }
  }
  onHover() {
    this.setState({
      hovering: true
    });
  }
  offHover() {
    this.setState({
      hovering: false
    });
  }
  render() {
    let className = `ds-dismiss
      ${this.state.hovering ? ` hovering` : ``}
      ${this.props.extraClasses ? ` ${this.props.extraClasses}` : ``}`;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: className
    }, this.props.children, /*#__PURE__*/external_React_default().createElement("button", {
      className: "ds-dismiss-button",
      "data-l10n-id": "newtab-dismiss-button-tooltip",
      onClick: this.onDismissClick,
      onMouseEnter: this.onHover,
      onMouseLeave: this.offHover
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-dismiss"
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/DSTextPromo/DSTextPromo.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








class DSTextPromo extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onDismissClick = this.onDismissClick.bind(this);
  }
  onLinkClick() {
    const {
      data
    } = this.props;
    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const source = this.props.type.toUpperCase();
      // Grab the first item in the array as we only have 1 spoc position.
      const [spoc] = data.spocs;
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source,
        action_position: 0
      }));
      this.props.dispatch(actionCreators.ImpressionStats({
        source,
        click: 0,
        tiles: [{
          id: spoc.id,
          pos: 0,
          ...(spoc.shim && spoc.shim.click ? {
            shim: spoc.shim.click
          } : {})
        }]
      }));
    }
  }
  onDismissClick() {
    const {
      data
    } = this.props;
    if (this.props.dispatch && data && data.spocs && data.spocs.length) {
      const index = 0;
      const source = this.props.type.toUpperCase();
      // Grab the first item in the array as we only have 1 spoc position.
      const [spoc] = data.spocs;
      const spocData = {
        url: spoc.url,
        guid: spoc.id,
        shim: spoc.shim
      };
      const blockUrlOption = LinkMenuOptions.BlockUrl(spocData, index, source);
      const {
        action,
        impression,
        userEvent
      } = blockUrlOption;
      this.props.dispatch(action);
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: userEvent,
        source,
        action_position: index
      }));
      if (impression) {
        this.props.dispatch(impression);
      }
    }
  }
  render() {
    const {
      data
    } = this.props;
    if (!data || !data.spocs || !data.spocs[0]) {
      return null;
    }
    // Grab the first item in the array as we only have 1 spoc position.
    const [spoc] = data.spocs;
    const {
      image_src,
      raw_image_src,
      alt_text,
      title,
      url,
      context,
      cta,
      flight_id,
      id,
      shim
    } = spoc;
    return /*#__PURE__*/external_React_default().createElement(DSDismiss, {
      onDismissClick: this.onDismissClick,
      extraClasses: `ds-dismiss-ds-text-promo`
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-text-promo"
    }, /*#__PURE__*/external_React_default().createElement(DSImage, {
      alt_text: alt_text,
      source: image_src,
      rawSource: raw_image_src
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "text"
    }, /*#__PURE__*/external_React_default().createElement("h3", null, `${title}\u2003`, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-chevron-link",
      dispatch: this.props.dispatch,
      onLinkClick: this.onLinkClick,
      url: url
    }, cta)), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle"
    }, context)), /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
      flightId: flight_id,
      rows: [{
        id,
        pos: 0,
        shim: shim && shim.impression
      }],
      dispatch: this.props.dispatch,
      source: this.props.type
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/lib/screenshot-utils.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/**
 * List of helper functions for screenshot-based images.
 *
 * There are two kinds of images:
 * 1. Remote Image: This is the image from the main process and it refers to
 *    the image in the React props. This can either be an object with the `data`
 *    and `path` properties, if it is a blob, or a string, if it is a normal image.
 * 2. Local Image: This is the image object in the content process and it refers
 *    to the image *object* in the React component's state. All local image
 *    objects have the `url` property, and an additional property `path`, if they
 *    are blobs.
 */
const ScreenshotUtils = {
  isBlob(isLocal, image) {
    return !!(
      image &&
      image.path &&
      ((!isLocal && image.data) || (isLocal && image.url))
    );
  },

  // This should always be called with a remote image and not a local image.
  createLocalImageObject(remoteImage) {
    if (!remoteImage) {
      return null;
    }
    if (this.isBlob(false, remoteImage)) {
      return {
        url: globalThis.URL.createObjectURL(remoteImage.data),
        path: remoteImage.path,
      };
    }
    return { url: remoteImage };
  },

  // Revokes the object URL of the image if the local image is a blob.
  // This should always be called with a local image and not a remote image.
  maybeRevokeBlobObjectURL(localImage) {
    if (this.isBlob(true, localImage)) {
      globalThis.URL.revokeObjectURL(localImage.url);
    }
  },

  // Checks if remoteImage and localImage are the same.
  isRemoteImageLocal(localImage, remoteImage) {
    // Both remoteImage and localImage are present.
    if (remoteImage && localImage) {
      return this.isBlob(false, remoteImage)
        ? localImage.path === remoteImage.path
        : localImage.url === remoteImage;
    }

    // This will only handle the remaining three possible outcomes.
    // (i.e. everything except when both image and localImage are present)
    return !remoteImage && !localImage;
  },
};

;// CONCATENATED MODULE: ./content-src/components/Card/Card.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









// Keep track of pending image loads to only request once
const gImageLoading = new Map();

/**
 * Card component.
 * Cards are found within a Section component and contain information about a link such
 * as preview image, page title, page description, and some context about if the page
 * was visited, bookmarked, trending etc...
 * Each Section can make an unordered list of Cards which will create one instane of
 * this class. Each card will then get a context menu which reflects the actions that
 * can be done on this Card.
 */
class _Card extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      activeCard: null,
      imageLoaded: false,
      cardImage: null
    };
    this.onMenuButtonUpdate = this.onMenuButtonUpdate.bind(this);
    this.onLinkClick = this.onLinkClick.bind(this);
  }

  /**
   * Helper to conditionally load an image and update state when it loads.
   */
  async maybeLoadImage() {
    // No need to load if it's already loaded or no image
    const {
      cardImage
    } = this.state;
    if (!cardImage) {
      return;
    }
    const imageUrl = cardImage.url;
    if (!this.state.imageLoaded) {
      // Initialize a promise to share a load across multiple card updates
      if (!gImageLoading.has(imageUrl)) {
        const loaderPromise = new Promise((resolve, reject) => {
          const loader = new Image();
          loader.addEventListener("load", resolve);
          loader.addEventListener("error", reject);
          loader.src = imageUrl;
        });

        // Save and remove the promise only while it's pending
        gImageLoading.set(imageUrl, loaderPromise);
        loaderPromise.catch(ex => ex).then(() => gImageLoading.delete(imageUrl));
      }

      // Wait for the image whether just started loading or reused promise
      try {
        await gImageLoading.get(imageUrl);
      } catch (ex) {
        // Ignore the failed image without changing state
        return;
      }

      // Only update state if we're still waiting to load the original image
      if (ScreenshotUtils.isRemoteImageLocal(this.state.cardImage, this.props.link.image) && !this.state.imageLoaded) {
        this.setState({
          imageLoaded: true
        });
      }
    }
  }

  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */
  static getNextStateFromProps(nextProps, prevState) {
    const {
      image
    } = nextProps.link;
    const imageInState = ScreenshotUtils.isRemoteImageLocal(prevState.cardImage, image);
    let nextState = null;

    // Image is updating.
    if (!imageInState && nextProps.link) {
      nextState = {
        imageLoaded: false
      };
    }
    if (imageInState) {
      return nextState;
    }

    // Since image was updated, attempt to revoke old image blob URL, if it exists.
    ScreenshotUtils.maybeRevokeBlobObjectURL(prevState.cardImage);
    nextState = nextState || {};
    nextState.cardImage = ScreenshotUtils.createLocalImageObject(image);
    return nextState;
  }
  onMenuButtonUpdate(isOpen) {
    if (isOpen) {
      this.setState({
        activeCard: this.props.index
      });
    } else {
      this.setState({
        activeCard: null
      });
    }
  }

  /**
   * Report to telemetry additional information about the item.
   */
  _getTelemetryInfo() {
    // Filter out "history" type for being the default
    if (this.props.link.type !== "history") {
      return {
        value: {
          card_type: this.props.link.type
        }
      };
    }
    return null;
  }
  onLinkClick(event) {
    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;
    if (this.props.link.type === "download") {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_DOWNLOAD_FILE,
        data: Object.assign(this.props.link, {
          event: {
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    } else {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          }
        })
      }));
    }
    if (this.props.isWebExtension) {
      this.props.dispatch(actionCreators.WebExtEvent(actionTypes.WEBEXT_CLICK, {
        source: this.props.eventSource,
        url: this.props.link.url,
        action_position: this.props.index
      }));
    } else {
      this.props.dispatch(actionCreators.UserEvent(Object.assign({
        event: "CLICK",
        source: this.props.eventSource,
        action_position: this.props.index
      }, this._getTelemetryInfo())));
      if (this.props.shouldSendImpressionStats) {
        this.props.dispatch(actionCreators.ImpressionStats({
          source: this.props.eventSource,
          click: 0,
          tiles: [{
            id: this.props.link.guid,
            pos: this.props.index
          }]
        }));
      }
    }
  }
  componentDidMount() {
    this.maybeLoadImage();
  }
  componentDidUpdate() {
    this.maybeLoadImage();
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillMount() {
    const nextState = _Card.getNextStateFromProps(this.props, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillReceiveProps(nextProps) {
    const nextState = _Card.getNextStateFromProps(nextProps, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }
  componentWillUnmount() {
    ScreenshotUtils.maybeRevokeBlobObjectURL(this.state.cardImage);
  }
  render() {
    const {
      index,
      className,
      link,
      dispatch,
      contextMenuOptions,
      eventSource,
      shouldSendImpressionStats
    } = this.props;
    const {
      props
    } = this;
    const title = link.title || link.hostname;
    const isContextMenuOpen = this.state.activeCard === index;
    // Display "now" as "trending" until we have new strings #3402
    const {
      icon,
      fluentID
    } = cardContextTypes[link.type === "now" ? "trending" : link.type] || {};
    const hasImage = this.state.cardImage || link.hasImage;
    const imageStyle = {
      backgroundImage: this.state.cardImage ? `url(${this.state.cardImage.url})` : "none"
    };
    const outerClassName = ["card-outer", className, isContextMenuOpen && "active", props.placeholder && "placeholder"].filter(v => v).join(" ");
    return /*#__PURE__*/external_React_default().createElement("li", {
      className: outerClassName
    }, /*#__PURE__*/external_React_default().createElement("a", {
      href: link.type === "pocket" ? link.open_url : link.url,
      onClick: !props.placeholder ? this.onLinkClick : undefined
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "card"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-preview-image-outer"
    }, hasImage && /*#__PURE__*/external_React_default().createElement("div", {
      className: `card-preview-image${this.state.imageLoaded ? " loaded" : ""}`,
      style: imageStyle
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-details"
    }, link.type === "download" && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-host-name alternate",
      "data-l10n-id": "newtab-menu-open-file"
    }), link.hostname && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-host-name"
    }, link.hostname.slice(0, 100), link.type === "download" && `  \u2014 ${link.description}`), /*#__PURE__*/external_React_default().createElement("div", {
      className: ["card-text", icon ? "" : "no-context", link.description ? "" : "no-description", link.hostname ? "" : "no-host-name"].join(" ")
    }, /*#__PURE__*/external_React_default().createElement("h4", {
      className: "card-title",
      dir: "auto"
    }, link.title), /*#__PURE__*/external_React_default().createElement("p", {
      className: "card-description",
      dir: "auto"
    }, link.description)), /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-context"
    }, icon && !link.context && /*#__PURE__*/external_React_default().createElement("span", {
      "aria-haspopup": "true",
      className: `card-context-icon icon icon-${icon}`
    }), link.icon && link.context && /*#__PURE__*/external_React_default().createElement("span", {
      "aria-haspopup": "true",
      className: "card-context-icon icon",
      style: {
        backgroundImage: `url('${link.icon}')`
      }
    }), fluentID && !link.context && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-context-label",
      "data-l10n-id": fluentID
    }), link.context && /*#__PURE__*/external_React_default().createElement("div", {
      className: "card-context-label"
    }, link.context))))), !props.placeholder && /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuButtonUpdate
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: index,
      source: eventSource,
      options: link.contextMenuOptions || contextMenuOptions,
      site: link,
      siteInfo: this._getTelemetryInfo(),
      shouldSendImpressionStats: shouldSendImpressionStats
    })));
  }
}
_Card.defaultProps = {
  link: {}
};
const Card = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  platform: state.Prefs.values.platform
}))(_Card);
const PlaceholderCard = props => /*#__PURE__*/external_React_default().createElement(Card, {
  placeholder: true,
  className: props.className
});
;// CONCATENATED MODULE: ./content-src/lib/perf-service.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

let usablePerfObj = window.performance;

function _PerfService(options) {
  // For testing, so that we can use a fake Window.performance object with
  // known state.
  if (options && options.performanceObj) {
    this._perf = options.performanceObj;
  } else {
    this._perf = usablePerfObj;
  }
}

_PerfService.prototype = {
  /**
   * Calls the underlying mark() method on the appropriate Window.performance
   * object to add a mark with the given name to the appropriate performance
   * timeline.
   *
   * @param  {String} name  the name to give the current mark
   * @return {void}
   */
  mark: function mark(str) {
    this._perf.mark(str);
  },

  /**
   * Calls the underlying getEntriesByName on the appropriate Window.performance
   * object.
   *
   * @param  {String} name
   * @param  {String} type eg "mark"
   * @return {Array}       Performance* objects
   */
  getEntriesByName: function getEntriesByName(entryName, type) {
    return this._perf.getEntriesByName(entryName, type);
  },

  /**
   * The timeOrigin property from the appropriate performance object.
   * Used to ensure that timestamps from the add-on code and the content code
   * are comparable.
   *
   * @note If this is called from a context without a window
   * (eg a JSM in chrome), it will return the timeOrigin of the XUL hidden
   * window, which appears to be the first created window (and thus
   * timeOrigin) in the browser.  Note also, however, there is also a private
   * hidden window, presumably for private browsing, which appears to be
   * created dynamically later.  Exactly how/when that shows up needs to be
   * investigated.
   *
   * @return {Number} A double of milliseconds with a precision of 0.5us.
   */
  get timeOrigin() {
    return this._perf.timeOrigin;
  },

  /**
   * Returns the "absolute" version of performance.now(), i.e. one that
   * should ([bug 1401406](https://bugzilla.mozilla.org/show_bug.cgi?id=1401406)
   * be comparable across both chrome and content.
   *
   * @return {Number}
   */
  absNow: function absNow() {
    return this.timeOrigin + this._perf.now();
  },

  /**
   * This returns the absolute startTime from the most recent performance.mark()
   * with the given name.
   *
   * @param  {String} name  the name to lookup the start time for
   *
   * @return {Number}       the returned start time, as a DOMHighResTimeStamp
   *
   * @throws {Error}        "No Marks with the name ..." if none are available
   *
   * @note Always surround calls to this by try/catch.  Otherwise your code
   * may fail when the `privacy.resistFingerprinting` pref is true.  When
   * this pref is set, all attempts to get marks will likely fail, which will
   * cause this method to throw.
   *
   * See [bug 1369303](https://bugzilla.mozilla.org/show_bug.cgi?id=1369303)
   * for more info.
   */
  getMostRecentAbsMarkStartByName(entryName) {
    let entries = this.getEntriesByName(entryName, "mark");

    if (!entries.length) {
      throw new Error(`No marks with the name ${entryName}`);
    }

    let mostRecentEntry = entries[entries.length - 1];
    return this._perf.timeOrigin + mostRecentEntry.startTime;
  },
};

const perfService = new _PerfService();

;// CONCATENATED MODULE: ./content-src/components/ComponentPerfTimer/ComponentPerfTimer.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





// Currently record only a fixed set of sections. This will prevent data
// from custom sections from showing up or from topstories.
const RECORDED_SECTIONS = ["highlights", "topsites"];
class ComponentPerfTimer extends (external_React_default()).Component {
  constructor(props) {
    super(props);
    // Just for test dependency injection:
    this.perfSvc = this.props.perfSvc || perfService;
    this._sendBadStateEvent = this._sendBadStateEvent.bind(this);
    this._sendPaintedEvent = this._sendPaintedEvent.bind(this);
    this._reportMissingData = false;
    this._timestampHandled = false;
    this._recordedFirstRender = false;
  }
  componentDidMount() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }
    this._maybeSendPaintedEvent();
  }
  componentDidUpdate() {
    if (!RECORDED_SECTIONS.includes(this.props.id)) {
      return;
    }
    this._maybeSendPaintedEvent();
  }

  /**
   * Call the given callback after the upcoming frame paints.
   *
   * @note Both setTimeout and requestAnimationFrame are throttled when the page
   * is hidden, so this callback may get called up to a second or so after the
   * requestAnimationFrame "paint" for hidden tabs.
   *
   * Newtabs hidden while loading will presumably be fairly rare (other than
   * preloaded tabs, which we will be filtering out on the server side), so such
   * cases should get lost in the noise.
   *
   * If we decide that it's important to find out when something that's hidden
   * has "painted", however, another option is to post a message to this window.
   * That should happen even faster than setTimeout, and, at least as of this
   * writing, it's not throttled in hidden windows in Firefox.
   *
   * @param {Function} callback
   *
   * @returns void
   */
  _afterFramePaint(callback) {
    requestAnimationFrame(() => setTimeout(callback, 0));
  }
  _maybeSendBadStateEvent() {
    // Follow up bugs:
    // https://github.com/mozilla/activity-stream/issues/3691
    if (!this.props.initialized) {
      // Remember to report back when data is available.
      this._reportMissingData = true;
    } else if (this._reportMissingData) {
      this._reportMissingData = false;
      // Report how long it took for component to become initialized.
      this._sendBadStateEvent();
    }
  }
  _maybeSendPaintedEvent() {
    // If we've already handled a timestamp, don't do it again.
    if (this._timestampHandled || !this.props.initialized) {
      return;
    }

    // And if we haven't, we're doing so now, so remember that. Even if
    // something goes wrong in the callback, we can't try again, as we'd be
    // sending back the wrong data, and we have to do it here, so that other
    // calls to this method while waiting for the next frame won't also try to
    // handle it.
    this._timestampHandled = true;
    this._afterFramePaint(this._sendPaintedEvent);
  }

  /**
   * Triggered by call to render. Only first call goes through due to
   * `_recordedFirstRender`.
   */
  _ensureFirstRenderTsRecorded() {
    // Used as t0 for recording how long component took to initialize.
    if (!this._recordedFirstRender) {
      this._recordedFirstRender = true;
      // topsites_first_render_ts, highlights_first_render_ts.
      const key = `${this.props.id}_first_render_ts`;
      this.perfSvc.mark(key);
    }
  }

  /**
   * Creates `SAVE_SESSION_PERF_DATA` with timestamp in ms
   * of how much longer the data took to be ready for display than it would
   * have been the ideal case.
   * https://github.com/mozilla/ping-centre/issues/98
   */
  _sendBadStateEvent() {
    // highlights_data_ready_ts, topsites_data_ready_ts.
    const dataReadyKey = `${this.props.id}_data_ready_ts`;
    this.perfSvc.mark(dataReadyKey);
    try {
      const firstRenderKey = `${this.props.id}_first_render_ts`;
      // value has to be Int32.
      const value = parseInt(this.perfSvc.getMostRecentAbsMarkStartByName(dataReadyKey) - this.perfSvc.getMostRecentAbsMarkStartByName(firstRenderKey), 10);
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.SAVE_SESSION_PERF_DATA,
        // highlights_data_late_by_ms, topsites_data_late_by_ms.
        data: {
          [`${this.props.id}_data_late_by_ms`]: value
        }
      }));
    } catch (ex) {
      // If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.
    }
  }
  _sendPaintedEvent() {
    // Record first_painted event but only send if topsites.
    if (this.props.id !== "topsites") {
      return;
    }

    // topsites_first_painted_ts.
    const key = `${this.props.id}_first_painted_ts`;
    this.perfSvc.mark(key);
    try {
      const data = {};
      data[key] = this.perfSvc.getMostRecentAbsMarkStartByName(key);
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.SAVE_SESSION_PERF_DATA,
        data
      }));
    } catch (ex) {
      // If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up, and should continue
      // to set this._timestampHandled to avoid going through this again.
    }
  }
  render() {
    if (RECORDED_SECTIONS.includes(this.props.id)) {
      this._ensureFirstRenderTsRecorded();
      this._maybeSendBadStateEvent();
    }
    return this.props.children;
  }
}
;// CONCATENATED MODULE: ./content-src/components/MoreRecommendations/MoreRecommendations.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class MoreRecommendations extends (external_React_default()).PureComponent {
  render() {
    const {
      read_more_endpoint
    } = this.props;
    if (read_more_endpoint) {
      return /*#__PURE__*/external_React_default().createElement("a", {
        className: "more-recommendations",
        href: read_more_endpoint,
        "data-l10n-id": "newtab-pocket-more-recommendations"
      });
    }
    return null;
  }
}
;// CONCATENATED MODULE: ./content-src/components/ModalOverlay/ModalOverlay.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function ModalOverlayWrapper({
  // eslint-disable-next-line no-shadow
  document = globalThis.document,
  unstyled,
  innerClassName,
  onClose,
  children,
  headerId,
  id
}) {
  const modalRef = (0,external_React_namespaceObject.useRef)(null);
  let className = unstyled ? "" : "modalOverlayInner active";
  if (innerClassName) {
    className += ` ${innerClassName}`;
  }

  // The intended behaviour is to listen for an escape key
  // but not for a click; see Bug 1582242
  const onKeyDown = (0,external_React_namespaceObject.useCallback)(event => {
    if (event.key === "Escape") {
      onClose(event);
    }
  }, [onClose]);
  (0,external_React_namespaceObject.useEffect)(() => {
    document.addEventListener("keydown", onKeyDown);
    document.body.classList.add("modal-open");
    return () => {
      document.removeEventListener("keydown", onKeyDown);
      document.body.classList.remove("modal-open");
    };
  }, [document, onKeyDown]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "modalOverlayOuter active",
    onKeyDown: onKeyDown,
    role: "presentation"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: className,
    "aria-labelledby": headerId,
    id: id,
    role: "dialog",
    ref: modalRef
  }, children));
}

;// CONCATENATED MODULE: ./content-src/components/TopSites/SearchShortcutsForm.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class SelectableSearchShortcut extends (external_React_default()).PureComponent {
  render() {
    const {
      shortcut,
      selected
    } = this.props;
    const imageStyle = {
      backgroundImage: `url("${shortcut.tippyTopIcon}")`
    };
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-outer search-shortcut"
    }, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      id: shortcut.keyword,
      name: shortcut.keyword,
      checked: selected,
      onChange: this.props.onChange
    }), /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: shortcut.keyword
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/external_React_default().createElement("span", null, /*#__PURE__*/external_React_default().createElement("div", {
      className: "tile"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon rich-icon",
      style: imageStyle,
      "data-fallback": "@"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon search-topsite"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "title"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      dir: "auto"
    }, shortcut.keyword))))));
  }
}
class SearchShortcutsForm extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onSaveButtonClick = this.onSaveButtonClick.bind(this);

    // clone the shortcuts and add them to the state so we can add isSelected property
    const shortcuts = [];
    const {
      rows,
      searchShortcuts
    } = props.TopSites;
    searchShortcuts.forEach(shortcut => {
      shortcuts.push({
        ...shortcut,
        isSelected: !!rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword)
      });
    });
    this.state = {
      shortcuts
    };
  }
  handleChange(event) {
    const {
      target
    } = event;
    const {
      name: targetName,
      checked
    } = target;
    this.setState(prevState => {
      const shortcuts = prevState.shortcuts.slice();
      let shortcut = shortcuts.find(({
        keyword
      }) => keyword === targetName);
      shortcut.isSelected = checked;
      return {
        shortcuts
      };
    });
  }
  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }
  onSaveButtonClick(ev) {
    ev.preventDefault();

    // Check if there were any changes and act accordingly
    const {
      rows
    } = this.props.TopSites;
    const pinQueue = [];
    const unpinQueue = [];
    this.state.shortcuts.forEach(shortcut => {
      const alreadyPinned = rows.find(row => row && row.isPinned && row.searchTopSite && row.label === shortcut.keyword);
      if (shortcut.isSelected && !alreadyPinned) {
        pinQueue.push(this._searchTopSite(shortcut));
      } else if (!shortcut.isSelected && alreadyPinned) {
        unpinQueue.push({
          url: alreadyPinned.url,
          searchVendor: shortcut.shortURL
        });
      }
    });

    // Tell the feed to do the work.
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.UPDATE_PINNED_SEARCH_SHORTCUTS,
      data: {
        addedShortcuts: pinQueue,
        deletedShortcuts: unpinQueue
      }
    }));

    // Send the Telemetry pings.
    pinQueue.forEach(shortcut => {
      this.props.dispatch(actionCreators.UserEvent({
        source: TOP_SITES_SOURCE,
        event: "SEARCH_EDIT_ADD",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    unpinQueue.forEach(shortcut => {
      this.props.dispatch(actionCreators.UserEvent({
        source: TOP_SITES_SOURCE,
        event: "SEARCH_EDIT_DELETE",
        value: {
          search_vendor: shortcut.searchVendor
        }
      }));
    });
    this.props.onClose();
  }
  _searchTopSite(shortcut) {
    return {
      url: shortcut.url,
      searchTopSite: true,
      label: shortcut.keyword,
      searchVendor: shortcut.shortURL
    };
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("form", {
      className: "topsite-form"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "search-shortcuts-container"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": "newtab-topsites-add-search-engine-header"
    }), /*#__PURE__*/external_React_default().createElement("div", null, this.state.shortcuts.map(shortcut => /*#__PURE__*/external_React_default().createElement(SelectableSearchShortcut, {
      key: shortcut.keyword,
      shortcut: shortcut,
      selected: shortcut.isSelected,
      onChange: this.handleChange
    })))), /*#__PURE__*/external_React_default().createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), /*#__PURE__*/external_React_default().createElement("button", {
      className: "done",
      type: "submit",
      onClick: this.onSaveButtonClick,
      "data-l10n-id": "newtab-topsites-save-button"
    })));
  }
}
;// CONCATENATED MODULE: ../../modules/Dedupe.sys.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

class Dedupe {
  constructor(createKey) {
    this.createKey = createKey || this.defaultCreateKey;
  }

  defaultCreateKey(item) {
    return item;
  }

  /**
   * Dedupe any number of grouped elements favoring those from earlier groups.
   *
   * @param {Array} groups Contains an arbitrary number of arrays of elements.
   * @returns {Array} A matching array of each provided group deduped.
   */
  group(...groups) {
    const globalKeys = new Set();
    const result = [];
    for (const values of groups) {
      const valueMap = new Map();
      for (const value of values) {
        const key = this.createKey(value);
        if (!globalKeys.has(key) && !valueMap.has(key)) {
          valueMap.set(key, value);
        }
      }
      result.push(valueMap);
      valueMap.forEach((value, key) => globalKeys.add(key));
    }
    return result.map(m => Array.from(m.values()));
  }
}

;// CONCATENATED MODULE: ../../components/topsites/constants.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

const TOP_SITES_DEFAULT_ROWS = 1;
const TOP_SITES_MAX_SITES_PER_ROW = 8;

;// CONCATENATED MODULE: ./common/Reducers.sys.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */






const dedupe = new Dedupe(site => site && site.url);

const INITIAL_STATE = {
  App: {
    // Have we received real data from the app yet?
    initialized: false,
    locale: "",
    isForStartupCache: {
      App: false,
      TopSites: false,
      DiscoveryStream: false,
      Weather: false,
      Wallpaper: false,
    },
    customizeMenuVisible: false,
  },
  Ads: {
    initialized: false,
    lastUpdated: null,
    tiles: {},
    spocs: {},
    spocPlacements: {},
  },
  TopSites: {
    // Have we received real data from history yet?
    initialized: false,
    // The history (and possibly default) links
    rows: [],
    // Used in content only to dispatch action to TopSiteForm.
    editForm: null,
    // Used in content only to open the SearchShortcutsForm modal.
    showSearchShortcutsForm: false,
    // The list of available search shortcuts.
    searchShortcuts: [],
    // The "Share-of-Voice" allocations generated by TopSitesFeed
    sov: {
      ready: false,
      positions: [
        // {position: 0, assignedPartner: "amp"},
        // {position: 1, assignedPartner: "moz-sales"},
      ],
    },
  },
  Prefs: {
    initialized: false,
    values: { featureConfig: {} },
  },
  Dialog: {
    visible: false,
    data: {},
  },
  Sections: [],
  Pocket: {
    pocketCta: {},
    waitingForSpoc: true,
  },
  // This is the new pocket configurable layout state.
  DiscoveryStream: {
    // This is a JSON-parsed copy of the discoverystream.config pref value.
    config: { enabled: false },
    layout: [],
    topicsLoading: false,
    feeds: {
      data: {
        // "https://foo.com/feed1": {lastUpdated: 123, data: [], personalized: false}
      },
      loaded: false,
    },
    // Used to show impressions in newtab devtools.
    impressions: {
      feed: {},
    },
    // Used to show blocks in newtab devtools.
    blocks: {},
    spocs: {
      spocs_endpoint: "",
      lastUpdated: null,
      data: {
        // "spocs": {title: "", context: "", items: [], personalized: false},
        // "placement1": {title: "", context: "", items: [], personalized: false},
      },
      loaded: false,
      frequency_caps: [],
      blocked: [],
      placements: [],
    },
    experimentData: {
      utmSource: "pocket-newtab",
      utmCampaign: undefined,
      utmContent: undefined,
    },
    showTopicSelection: false,
    report: {
      visible: false,
      data: {},
    },
    sectionPersonalization: {},
  },
  // Messages received from ASRouter to render in newtab
  Messages: {
    // messages received from ASRouter are initially visible
    isVisible: true,
    // portID for that tab that was sent the message
    portID: "",
    // READONLY Message data received from ASRouter
    messageData: {},
  },
  Notifications: {
    showNotifications: false,
    toastCounter: 0,
    toastId: "",
    // This queue is reset each time SHOW_TOAST_MESSAGE is ran.
    // For can be a queue in the future, but for now is one item
    toastQueue: [],
  },
  Personalization: {
    lastUpdated: null,
    initialized: false,
  },
  InferredPersonalization: {
    initialized: false,
    lastUpdated: null,
    inferredInterests: {},
    coarseInferredInterests: {},
    coarsePrivateInferredInterests: {},
  },
  Search: {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    fakeFocus: false,
    // Hide the search box after handing off to AwesomeBar and user starts typing.
    hide: false,
  },
  Wallpapers: {
    wallpaperList: [],
    highlightSeenCounter: 0,
    categories: [],
    uploadedWallpaper: "",
  },
  Weather: {
    initialized: false,
    lastUpdated: null,
    query: "",
    suggestions: [],
    locationData: {
      city: "",
      adminArea: "",
      country: "",
    },
    // Display search input in Weather widget
    searchActive: false,
    locationSearchString: "",
    suggestedLocations: [],
  },
  TrendingSearch: {
    suggestions: [],
    collapsed: false,
  },
  // Widgets
  ListsWidget: {
    // value pointing to last selectled list
    selected: "taskList",
    // Default state of an empty task list
    lists: {
      taskList: {
        label: "",
        tasks: [],
        completed: [],
      },
    },
  },
  // Smart Window state
  SmartWindow: {
    active: false,
  },
  TimerWidget: {
    // The timer will have 2 types of states, focus and break.
    // Focus will the default state
    timerType: "focus",
    focus: {
      // Timer duration set by user; 25 mins by default
      duration: 25 * 60,
      // Initial duration - also set by the user; does not update until timer ends or user resets timer
      initialDuration: 25 * 60,
      // the Date.now() value when a user starts/resumes a timer
      startTime: null,
      // Boolean indicating if timer is currently running
      isRunning: false,
    },
    break: {
      duration: 5 * 60,
      initialDuration: 5 * 60,
      startTime: null,
      isRunning: false,
    },
  },
};

function App(prevState = INITIAL_STATE.App, action) {
  switch (action.type) {
    case actionTypes.INIT:
      return Object.assign({}, prevState, action.data || {}, {
        initialized: true,
      });
    case actionTypes.TOP_SITES_UPDATED:
      // Toggle `isForStartupCache.TopSites` when receiving the `TOP_SITES_UPDATE` action
      // so that sponsored tiles can be rendered as usual. See Bug 1826360.
      return {
        ...prevState,
        isForStartupCache: { ...prevState.isForStartupCache, TopSites: false },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_UPDATE:
      // Toggle `isForStartupCache.DiscoveryStream` when receiving the `DISCOVERY_STREAM_SPOCS_UPDATE` action
      // so that spoc cards can be rendered as usual.
      return {
        ...prevState,
        isForStartupCache: {
          ...prevState.isForStartupCache,
          DiscoveryStream: false,
        },
      };
    case actionTypes.WEATHER_UPDATE:
      // Toggle `isForStartupCache.Weather` when receiving the `WEATHER_UPDATE` action
      // so that weather can be rendered as usual.
      return {
        ...prevState,
        isForStartupCache: { ...prevState.isForStartupCache, Weather: false },
      };
    case actionTypes.WALLPAPERS_CUSTOM_SET:
      // Toggle `isForStartupCache.Wallpaper` when receiving the `WALLPAPERS_CUSTOM_SET` action
      // so that custom wallpaper can be rendered as usual.
      return {
        ...prevState,
        isForStartupCache: { ...prevState.isForStartupCache, Wallpaper: false },
      };
    case actionTypes.SHOW_PERSONALIZE:
      return Object.assign({}, prevState, {
        customizeMenuVisible: true,
      });
    case actionTypes.HIDE_PERSONALIZE:
      return Object.assign({}, prevState, {
        customizeMenuVisible: false,
      });
    default:
      return prevState;
  }
}

function TopSites(prevState = INITIAL_STATE.TopSites, action) {
  let hasMatch;
  let newRows;
  switch (action.type) {
    case actionTypes.TOP_SITES_UPDATED:
      if (!action.data || !action.data.links) {
        return prevState;
      }
      return Object.assign(
        {},
        prevState,
        { initialized: true, rows: action.data.links },
        action.data.pref ? { pref: action.data.pref } : {}
      );
    case actionTypes.TOP_SITES_PREFS_UPDATED:
      return Object.assign({}, prevState, { pref: action.data.pref });
    case actionTypes.TOP_SITES_EDIT:
      return Object.assign({}, prevState, {
        editForm: {
          index: action.data.index,
          previewResponse: null,
        },
      });
    case actionTypes.TOP_SITES_CANCEL_EDIT:
      return Object.assign({}, prevState, { editForm: null });
    case actionTypes.TOP_SITES_OPEN_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, { showSearchShortcutsForm: true });
    case actionTypes.TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL:
      return Object.assign({}, prevState, { showSearchShortcutsForm: false });
    case actionTypes.PREVIEW_RESPONSE:
      if (
        !prevState.editForm ||
        action.data.url !== prevState.editForm.previewUrl
      ) {
        return prevState;
      }
      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: action.data.preview,
          previewUrl: action.data.url,
        },
      });
    case actionTypes.PREVIEW_REQUEST:
      if (!prevState.editForm) {
        return prevState;
      }
      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null,
          previewUrl: action.data.url,
        },
      });
    case actionTypes.PREVIEW_REQUEST_CANCEL:
      if (!prevState.editForm) {
        return prevState;
      }
      return Object.assign({}, prevState, {
        editForm: {
          index: prevState.editForm.index,
          previewResponse: null,
        },
      });
    case actionTypes.SCREENSHOT_UPDATED:
      newRows = prevState.rows.map(row => {
        if (row && row.url === action.data.url) {
          hasMatch = true;
          return Object.assign({}, row, { screenshot: action.data.screenshot });
        }
        return row;
      });
      return hasMatch
        ? Object.assign({}, prevState, { rows: newRows })
        : prevState;
    case actionTypes.PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }
      newRows = prevState.rows.map(site => {
        if (site && site.url === action.data.url) {
          const { bookmarkGuid, bookmarkTitle, dateAdded } = action.data;
          return Object.assign({}, site, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded,
          });
        }
        return site;
      });
      return Object.assign({}, prevState, { rows: newRows });
    case actionTypes.PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }
      newRows = prevState.rows.map(site => {
        if (site && action.data.urls.includes(site.url)) {
          const newSite = Object.assign({}, site);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;
          return newSite;
        }
        return site;
      });
      return Object.assign({}, prevState, { rows: newRows });
    case actionTypes.PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }
      newRows = prevState.rows.filter(
        site => !action.data.urls.includes(site.url)
      );
      return Object.assign({}, prevState, { rows: newRows });
    case actionTypes.UPDATE_SEARCH_SHORTCUTS:
      return { ...prevState, searchShortcuts: action.data.searchShortcuts };
    case actionTypes.SOV_UPDATED: {
      const sov = {
        ready: action.data.ready,
        positions: action.data.positions,
      };
      return { ...prevState, sov };
    }
    default:
      return prevState;
  }
}

function Dialog(prevState = INITIAL_STATE.Dialog, action) {
  switch (action.type) {
    case actionTypes.DIALOG_OPEN:
      return Object.assign({}, prevState, { visible: true, data: action.data });
    case actionTypes.DIALOG_CANCEL:
      return Object.assign({}, prevState, { visible: false });
    case actionTypes.DIALOG_CLOSE:
      // Reset and hide the confirmation dialog once the action is complete.
      return Object.assign({}, INITIAL_STATE.Dialog);
    default:
      return prevState;
  }
}

function Prefs(prevState = INITIAL_STATE.Prefs, action) {
  let newValues;
  switch (action.type) {
    case actionTypes.PREFS_INITIAL_VALUES:
      return Object.assign({}, prevState, {
        initialized: true,
        values: action.data,
      });
    case actionTypes.PREF_CHANGED:
      newValues = Object.assign({}, prevState.values);
      newValues[action.data.name] = action.data.value;
      return Object.assign({}, prevState, { values: newValues });
    default:
      return prevState;
  }
}

function Sections(prevState = INITIAL_STATE.Sections, action) {
  let hasMatch;
  let newState;
  switch (action.type) {
    case actionTypes.SECTION_DEREGISTER:
      return prevState.filter(section => section.id !== action.data);
    case actionTypes.SECTION_REGISTER:
      // If section exists in prevState, update it
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          hasMatch = true;
          return Object.assign({}, section, action.data);
        }
        return section;
      });
      // Otherwise, append it
      if (!hasMatch) {
        const initialized = !!(action.data.rows && !!action.data.rows.length);
        const section = Object.assign(
          { title: "", rows: [], enabled: false },
          action.data,
          { initialized }
        );
        newState.push(section);
      }
      return newState;
    case actionTypes.SECTION_UPDATE:
      newState = prevState.map(section => {
        if (section && section.id === action.data.id) {
          // If the action is updating rows, we should consider initialized to be true.
          // This can be overridden if initialized is defined in the action.data
          const initialized = action.data.rows ? { initialized: true } : {};

          // Make sure pinned cards stay at their current position when rows are updated.
          // Disabling a section (SECTION_UPDATE with empty rows) does not retain pinned cards.
          if (
            action.data.rows &&
            !!action.data.rows.length &&
            section.rows.find(card => card.pinned)
          ) {
            const rows = Array.from(action.data.rows);
            section.rows.forEach((card, index) => {
              if (card.pinned) {
                // Only add it if it's not already there.
                if (rows[index].guid !== card.guid) {
                  rows.splice(index, 0, card);
                }
              }
            });
            return Object.assign(
              {},
              section,
              initialized,
              Object.assign({}, action.data, { rows })
            );
          }

          return Object.assign({}, section, initialized, action.data);
        }
        return section;
      });

      if (!action.data.dedupeConfigurations) {
        return newState;
      }

      action.data.dedupeConfigurations.forEach(dedupeConf => {
        newState = newState.map(section => {
          if (section.id === dedupeConf.id) {
            const dedupedRows = dedupeConf.dedupeFrom.reduce(
              (rows, dedupeSectionId) => {
                const dedupeSection = newState.find(
                  s => s.id === dedupeSectionId
                );
                const [, newRows] = dedupe.group(dedupeSection.rows, rows);
                return newRows;
              },
              section.rows
            );

            return Object.assign({}, section, { rows: dedupedRows });
          }

          return section;
        });
      });

      return newState;
    case actionTypes.SECTION_UPDATE_CARD:
      return prevState.map(section => {
        if (section && section.id === action.data.id && section.rows) {
          const newRows = section.rows.map(card => {
            if (card.url === action.data.url) {
              return Object.assign({}, card, action.data.options);
            }
            return card;
          });
          return Object.assign({}, section, { rows: newRows });
        }
        return section;
      });
    case actionTypes.PLACES_BOOKMARK_ADDED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.map(item => {
            // find the item within the rows that is attempted to be bookmarked
            if (item.url === action.data.url) {
              const { bookmarkGuid, bookmarkTitle, dateAdded } = action.data;
              return Object.assign({}, item, {
                bookmarkGuid,
                bookmarkTitle,
                bookmarkDateCreated: dateAdded,
                type: "bookmark",
              });
            }
            return item;
          }),
        })
      );
    case actionTypes.PLACES_BOOKMARKS_REMOVED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.map(item => {
            // find the bookmark within the rows that is attempted to be removed
            if (action.data.urls.includes(item.url)) {
              const newSite = Object.assign({}, item);
              delete newSite.bookmarkGuid;
              delete newSite.bookmarkTitle;
              delete newSite.bookmarkDateCreated;
              if (!newSite.type || newSite.type === "bookmark") {
                newSite.type = "history";
              }
              return newSite;
            }
            return item;
          }),
        })
      );
    case actionTypes.PLACES_LINKS_DELETED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.filter(
            site => !action.data.urls.includes(site.url)
          ),
        })
      );
    case actionTypes.PLACES_LINK_BLOCKED:
      if (!action.data) {
        return prevState;
      }
      return prevState.map(section =>
        Object.assign({}, section, {
          rows: section.rows.filter(site => site.url !== action.data.url),
        })
      );
    default:
      return prevState;
  }
}

function Messages(prevState = INITIAL_STATE.Messages, action) {
  switch (action.type) {
    case actionTypes.MESSAGE_SET:
      if (prevState.messageData.messageType) {
        return prevState;
      }
      return {
        ...prevState,
        messageData: action.data.message,
        portID: action.data.portID || "",
      };
    case actionTypes.MESSAGE_TOGGLE_VISIBILITY:
      return { ...prevState, isVisible: action.data };
    default:
      return prevState;
  }
}

function Pocket(prevState = INITIAL_STATE.Pocket, action) {
  switch (action.type) {
    case actionTypes.POCKET_WAITING_FOR_SPOC:
      return { ...prevState, waitingForSpoc: action.data };
    case actionTypes.POCKET_CTA:
      return {
        ...prevState,
        pocketCta: {
          ctaButton: action.data.cta_button,
          ctaText: action.data.cta_text,
          ctaUrl: action.data.cta_url,
          useCta: action.data.use_cta,
        },
      };
    default:
      return prevState;
  }
}

function Reducers_sys_Personalization(prevState = INITIAL_STATE.Personalization, action) {
  switch (action.type) {
    case actionTypes.DISCOVERY_STREAM_PERSONALIZATION_LAST_UPDATED:
      return {
        ...prevState,
        lastUpdated: action.data.lastUpdated,
      };
    case actionTypes.DISCOVERY_STREAM_PERSONALIZATION_INIT:
      return {
        ...prevState,
        initialized: true,
      };
    case actionTypes.DISCOVERY_STREAM_PERSONALIZATION_RESET:
      return { ...INITIAL_STATE.Personalization };
    default:
      return prevState;
  }
}

function InferredPersonalization(
  prevState = INITIAL_STATE.InferredPersonalization,
  action
) {
  switch (action.type) {
    case actionTypes.INFERRED_PERSONALIZATION_UPDATE:
      return {
        ...prevState,
        initialized: true,
        inferredInterests: action.data.inferredInterests,
        coarseInferredInterests: action.data.coarseInferredInterests,
        coarsePrivateInferredInterests:
          action.data.coarsePrivateInferredInterests,
        lastUpdated: action.data.lastUpdated,
      };
    case actionTypes.INFERRED_PERSONALIZATION_RESET:
      return { ...INITIAL_STATE.InferredPersonalization };
    default:
      return prevState;
  }
}

// eslint-disable-next-line complexity
function DiscoveryStream(prevState = INITIAL_STATE.DiscoveryStream, action) {
  // Return if action data is empty, or spocs or feeds data is not loaded
  const isNotReady = () =>
    !action.data || !prevState.spocs.loaded || !prevState.feeds.loaded;

  const handlePlacements = handleSites => {
    const { data, placements } = prevState.spocs;
    const result = {};

    const forPlacement = placement => {
      const placementSpocs = data[placement.name];

      if (
        !placementSpocs ||
        !placementSpocs.items ||
        !placementSpocs.items.length
      ) {
        return;
      }

      result[placement.name] = {
        ...placementSpocs,
        items: handleSites(placementSpocs.items),
      };
    };

    if (!placements || !placements.length) {
      [{ name: "spocs" }].forEach(forPlacement);
    } else {
      placements.forEach(forPlacement);
    }
    return result;
  };

  const nextState = handleSites => ({
    ...prevState,
    spocs: {
      ...prevState.spocs,
      data: handlePlacements(handleSites),
    },
    feeds: {
      ...prevState.feeds,
      data: Object.keys(prevState.feeds.data).reduce(
        (accumulator, feed_url) => {
          accumulator[feed_url] = {
            data: {
              ...prevState.feeds.data[feed_url].data,
              recommendations: handleSites(
                prevState.feeds.data[feed_url].data.recommendations
              ),
            },
          };
          return accumulator;
        },
        {}
      ),
    },
  });

  switch (action.type) {
    case actionTypes.DISCOVERY_STREAM_CONFIG_CHANGE:
    // Fall through to a separate action is so it doesn't trigger a listener update on init
    case actionTypes.DISCOVERY_STREAM_CONFIG_SETUP:
      return { ...prevState, config: action.data || {} };
    case actionTypes.DISCOVERY_STREAM_EXPERIMENT_DATA:
      return { ...prevState, experimentData: action.data || {} };
    case actionTypes.DISCOVERY_STREAM_LAYOUT_UPDATE:
      return {
        ...prevState,
        layout: action.data.layout || [],
      };
    case actionTypes.DISCOVERY_STREAM_TOPICS_LOADING:
      return {
        ...prevState,
        topicsLoading: action.data,
      };
    case actionTypes.DISCOVERY_STREAM_PREFS_SETUP:
      return {
        ...prevState,
        hideDescriptions: action.data.hideDescriptions,
        compactImages: action.data.compactImages,
        imageGradient: action.data.imageGradient,
        newSponsoredLabel: action.data.newSponsoredLabel,
        titleLines: action.data.titleLines,
        descLines: action.data.descLines,
        readTime: action.data.readTime,
      };
    case actionTypes.SHOW_PRIVACY_INFO:
      return {
        ...prevState,
      };
    case actionTypes.DISCOVERY_STREAM_LAYOUT_RESET:
      return { ...INITIAL_STATE.DiscoveryStream, config: prevState.config };
    case actionTypes.DISCOVERY_STREAM_FEEDS_UPDATE:
      return {
        ...prevState,
        feeds: {
          ...prevState.feeds,
          loaded: true,
        },
      };
    case actionTypes.DISCOVERY_STREAM_FEED_UPDATE: {
      const newData = {};
      newData[action.data.url] = action.data.feed;
      return {
        ...prevState,
        feeds: {
          ...prevState.feeds,
          data: {
            ...prevState.feeds.data,
            ...newData,
          },
        },
      };
    }
    case actionTypes.DISCOVERY_STREAM_DEV_IMPRESSIONS:
      return {
        ...prevState,
        impressions: {
          ...prevState.impressions,
          feed: action.data,
        },
      };
    case actionTypes.DISCOVERY_STREAM_DEV_BLOCKS:
      return {
        ...prevState,
        blocks: action.data,
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_CAPS:
      return {
        ...prevState,
        spocs: {
          ...prevState.spocs,
          frequency_caps: [...prevState.spocs.frequency_caps, ...action.data],
        },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_ENDPOINT:
      return {
        ...prevState,
        spocs: {
          ...INITIAL_STATE.DiscoveryStream.spocs,
          spocs_endpoint:
            action.data.url ||
            INITIAL_STATE.DiscoveryStream.spocs.spocs_endpoint,
        },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_PLACEMENTS:
      return {
        ...prevState,
        spocs: {
          ...prevState.spocs,
          placements:
            action.data.placements ||
            INITIAL_STATE.DiscoveryStream.spocs.placements,
        },
      };
    case actionTypes.DISCOVERY_STREAM_SPOCS_UPDATE:
      if (action.data) {
        return {
          ...prevState,
          spocs: {
            ...prevState.spocs,
            lastUpdated: action.data.lastUpdated,
            data: action.data.spocs,
            loaded: true,
          },
        };
      }
      return prevState;
    case actionTypes.DISCOVERY_STREAM_SPOC_BLOCKED:
      return {
        ...prevState,
        spocs: {
          ...prevState.spocs,
          blocked: [...prevState.spocs.blocked, action.data.url],
        },
      };
    case actionTypes.DISCOVERY_STREAM_LINK_BLOCKED:
      return isNotReady()
        ? prevState
        : nextState(items =>
            items.filter(item => item.url !== action.data.url)
          );

    case actionTypes.PLACES_BOOKMARK_ADDED: {
      const updateBookmarkInfo = item => {
        if (item.url === action.data.url) {
          const { bookmarkGuid, bookmarkTitle, dateAdded } = action.data;
          return Object.assign({}, item, {
            bookmarkGuid,
            bookmarkTitle,
            bookmarkDateCreated: dateAdded,
            context_type: "bookmark",
          });
        }
        return item;
      };
      return isNotReady()
        ? prevState
        : nextState(items => items.map(updateBookmarkInfo));
    }
    case actionTypes.PLACES_BOOKMARKS_REMOVED: {
      const removeBookmarkInfo = item => {
        if (action.data.urls.includes(item.url)) {
          const newSite = Object.assign({}, item);
          delete newSite.bookmarkGuid;
          delete newSite.bookmarkTitle;
          delete newSite.bookmarkDateCreated;
          if (!newSite.context_type || newSite.context_type === "bookmark") {
            newSite.context_type = "removedBookmark";
          }
          return newSite;
        }
        return item;
      };
      return isNotReady()
        ? prevState
        : nextState(items => items.map(removeBookmarkInfo));
    }
    case actionTypes.TOPIC_SELECTION_SPOTLIGHT_OPEN:
      return {
        ...prevState,
        showTopicSelection: true,
      };
    case actionTypes.TOPIC_SELECTION_SPOTLIGHT_CLOSE:
      return {
        ...prevState,
        showTopicSelection: false,
      };
    case actionTypes.SECTION_BLOCKED:
      return {
        ...prevState,
        showBlockSectionConfirmation: true,
        sectionPersonalization: action.data,
      };
    case actionTypes.REPORT_AD_OPEN:
      return {
        ...prevState,
        report: {
          ...prevState.report,
          card_type: action.data?.card_type,
          position: action.data?.position,
          placement_id: action.data?.placement_id,
          reporting_url: action.data?.reporting_url,
          url: action.data?.url,
          visible: true,
        },
      };
    case actionTypes.REPORT_CONTENT_OPEN:
      return {
        ...prevState,
        report: {
          ...prevState.report,
          card_type: action.data?.card_type,
          corpus_item_id: action.data?.corpus_item_id,
          scheduled_corpus_item_id: action.data?.scheduled_corpus_item_id,
          section_position: action.data?.section_position,
          section: action.data?.section,
          title: action.data?.title,
          topic: action.data?.topic,
          url: action.data?.url,
          visible: true,
        },
      };
    case actionTypes.REPORT_CLOSE:
    case actionTypes.REPORT_AD_SUBMIT:
    case actionTypes.REPORT_CONTENT_SUBMIT:
      return {
        ...prevState,
        report: {
          ...prevState.report,
          visible: false,
        },
      };
    case actionTypes.SECTION_PERSONALIZATION_UPDATE:
      return { ...prevState, sectionPersonalization: action.data };
    default:
      return prevState;
  }
}

function Search(prevState = INITIAL_STATE.Search, action) {
  switch (action.type) {
    case actionTypes.DISABLE_SEARCH:
      return Object.assign({ ...prevState, disable: true });
    case actionTypes.FAKE_FOCUS_SEARCH:
      return Object.assign({ ...prevState, fakeFocus: true });
    case actionTypes.SHOW_SEARCH:
      return Object.assign({ ...prevState, disable: false, fakeFocus: false });
    default:
      return prevState;
  }
}

function Wallpapers(prevState = INITIAL_STATE.Wallpapers, action) {
  switch (action.type) {
    case actionTypes.WALLPAPERS_SET:
      return {
        ...prevState,
        wallpaperList: action.data,
      };
    case actionTypes.WALLPAPERS_FEATURE_HIGHLIGHT_COUNTER_INCREMENT:
      return {
        ...prevState,
        highlightSeenCounter: action.data,
      };
    case actionTypes.WALLPAPERS_CATEGORY_SET:
      return { ...prevState, categories: action.data };
    case actionTypes.WALLPAPERS_CUSTOM_SET:
      return { ...prevState, uploadedWallpaper: action.data };
    default:
      return prevState;
  }
}

function Notifications(prevState = INITIAL_STATE.Notifications, action) {
  switch (action.type) {
    case actionTypes.SHOW_TOAST_MESSAGE:
      return {
        ...prevState,
        showNotifications: action.data.showNotifications,
        toastCounter: prevState.toastCounter + 1,
        toastId: action.data.toastId,
        toastQueue: [action.data.toastId],
      };
    case actionTypes.HIDE_TOAST_MESSAGE: {
      const { showNotifications, toastId: hiddenToastId } = action.data;
      const queuedToasts = [...prevState.toastQueue].filter(
        toastId => toastId !== hiddenToastId
      );
      return {
        ...prevState,
        toastCounter: queuedToasts.length,
        toastQueue: queuedToasts,
        toastId: "",
        showNotifications,
      };
    }
    default:
      return prevState;
  }
}

function Weather(prevState = INITIAL_STATE.Weather, action) {
  switch (action.type) {
    case actionTypes.WEATHER_UPDATE:
      return {
        ...prevState,
        suggestions: action.data.suggestions,
        lastUpdated: action.data.date,
        locationData: action.data.locationData || prevState.locationData,
        initialized: true,
      };
    case actionTypes.WEATHER_SEARCH_ACTIVE:
      return { ...prevState, searchActive: action.data };
    case actionTypes.WEATHER_LOCATION_SEARCH_UPDATE:
      return { ...prevState, locationSearchString: action.data };
    case actionTypes.WEATHER_LOCATION_SUGGESTIONS_UPDATE:
      return { ...prevState, suggestedLocations: action.data };
    case actionTypes.WEATHER_LOCATION_DATA_UPDATE:
      return { ...prevState, locationData: action.data };
    default:
      return prevState;
  }
}

function Ads(prevState = INITIAL_STATE.Ads, action) {
  switch (action.type) {
    case actionTypes.ADS_INIT:
      return {
        ...prevState,
        initialized: true,
      };
    case actionTypes.ADS_UPDATE_TILES:
      return {
        ...prevState,
        tiles: action.data.tiles,
      };
    case actionTypes.ADS_UPDATE_SPOCS:
      return {
        ...prevState,
        spocs: action.data.spocs,
        spocPlacements: action.data.spocPlacements,
      };
    case actionTypes.ADS_RESET:
      return { ...INITIAL_STATE.Ads };
    default:
      return prevState;
  }
}

function TrendingSearch(prevState = INITIAL_STATE.TrendingSearch, action) {
  switch (action.type) {
    case actionTypes.TRENDING_SEARCH_UPDATE:
      return { ...prevState, suggestions: action.data };
    case actionTypes.TRENDING_SEARCH_TOGGLE_COLLAPSE:
      return { ...prevState, collapsed: action.data.collapsed };
    default:
      return prevState;
  }
}

function TimerWidget(prevState = INITIAL_STATE.TimerWidget, action) {
  // fallback to current timerType in state if not provided in action
  const timerType = action.data?.timerType || prevState.timerType;
  switch (action.type) {
    case actionTypes.WIDGETS_TIMER_SET:
      return {
        ...prevState,
        ...action.data,
      };
    case actionTypes.WIDGETS_TIMER_SET_TYPE:
      return {
        ...prevState,
        timerType: action.data.timerType,
      };
    case actionTypes.WIDGETS_TIMER_SET_DURATION:
      return {
        ...prevState,
        [timerType]: {
          // setting a dynamic key assignment to let us dynamically update timer type's state based on what is set
          duration: action.data.duration,
          initialDuration: action.data.duration,
          startTime: null,
          isRunning: false,
        },
      };
    case actionTypes.WIDGETS_TIMER_PLAY:
      return {
        ...prevState,
        [timerType]: {
          ...prevState[timerType],
          startTime: Math.floor(Date.now() / 1000), // reflected in seconds
          isRunning: true,
        },
      };
    case actionTypes.WIDGETS_TIMER_PAUSE:
      if (prevState[timerType]?.isRunning) {
        return {
          ...prevState,
          [timerType]: {
            ...prevState[timerType],
            duration: action.data.duration,
            // setting startTime to null on pause because we need to check the exact time the user presses play,
            // whether it's when the user starts or resumes the timer. This helps get accurate results
            startTime: null,
            isRunning: false,
          },
        };
      }
      return prevState;
    case actionTypes.WIDGETS_TIMER_RESET:
      return {
        ...prevState,
        [timerType]: {
          ...prevState[timerType],
          duration: action.data.duration,
          initialDuration: action.data.duration,
          startTime: null,
          isRunning: false,
        },
      };
    case actionTypes.WIDGETS_TIMER_END:
      return {
        ...prevState,
        [timerType]: {
          ...prevState[timerType],
          duration: action.data.duration,
          initialDuration: action.data.duration,
          startTime: null,
          isRunning: false,
        },
      };
    default:
      return prevState;
  }
}

function ListsWidget(prevState = INITIAL_STATE.ListsWidget, action) {
  switch (action.type) {
    case actionTypes.WIDGETS_LISTS_SET:
      return { ...prevState, lists: action.data };
    case actionTypes.WIDGETS_LISTS_SET_SELECTED:
      return { ...prevState, selected: action.data };
    default:
      return prevState;
  }
}

function SmartWindow(prevState = INITIAL_STATE.SmartWindow, action) {
  switch (action.type) {
    case "SMART_WINDOW_STATE_UPDATE":
      return { ...prevState, active: action.data.smartWindowActive };
    default:
      return prevState;
  }
}

const reducers = {
  TopSites,
  App,
  Ads,
  Prefs,
  Dialog,
  Sections,
  Messages,
  Notifications,
  Pocket,
  Personalization: Reducers_sys_Personalization,
  InferredPersonalization,
  DiscoveryStream,
  Search,
  TimerWidget,
  ListsWidget,
  TrendingSearch,
  Wallpapers,
  Weather,
  SmartWindow,
};

;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteFormInput.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class TopSiteFormInput extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      validationError: this.props.validationError
    };
    this.onChange = this.onChange.bind(this);
    this.onMount = this.onMount.bind(this);
    this.onClearIconPress = this.onClearIconPress.bind(this);
  }
  componentWillReceiveProps(nextProps) {
    if (nextProps.shouldFocus && !this.props.shouldFocus) {
      this.input.focus();
    }
    if (nextProps.validationError && !this.props.validationError) {
      this.setState({
        validationError: true
      });
    }
    // If the component is in an error state but the value was cleared by the parent
    if (this.state.validationError && !nextProps.value) {
      this.setState({
        validationError: false
      });
    }
  }
  onClearIconPress(event) {
    // If there is input in the URL or custom image URL fields,
    // and we hit 'enter' while tabbed over the clear icon,
    // we should execute the function to clear the field.
    if (event.key === "Enter") {
      this.props.onClear();
    }
  }
  onChange(ev) {
    if (this.state.validationError) {
      this.setState({
        validationError: false
      });
    }
    this.props.onChange(ev);
  }
  onMount(input) {
    this.input = input;
  }
  renderLoadingOrCloseButton() {
    const showClearButton = this.props.value && this.props.onClear;
    if (this.props.loading) {
      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "loading-container"
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "loading-animation"
      }));
    } else if (showClearButton) {
      return /*#__PURE__*/external_React_default().createElement("button", {
        type: "button",
        className: "icon icon-clear-input icon-button-style",
        onClick: this.props.onClear,
        onKeyPress: this.onClearIconPress
      });
    }
    return null;
  }
  render() {
    const {
      typeUrl
    } = this.props;
    const {
      validationError
    } = this.state;
    return /*#__PURE__*/external_React_default().createElement("label", null, /*#__PURE__*/external_React_default().createElement("span", {
      "data-l10n-id": this.props.titleId
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: `field ${typeUrl ? "url" : ""}${validationError ? " invalid" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("input", {
      type: "text",
      value: this.props.value,
      ref: this.onMount,
      onChange: this.onChange,
      "data-l10n-id": this.props.placeholderId
      // Set focus on error if the url field is valid or when the input is first rendered and is empty
      // eslint-disable-next-line jsx-a11y/no-autofocus
      ,
      autoFocus: this.props.autoFocusOnOpen,
      disabled: this.props.loading
    }), this.renderLoadingOrCloseButton(), validationError && /*#__PURE__*/external_React_default().createElement("aside", {
      className: "error-tooltip",
      "data-l10n-id": this.props.errorMessageId
    })));
  }
}
TopSiteFormInput.defaultProps = {
  showClearButton: false,
  value: "",
  validationError: false
};
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteImpressionWrapper.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



const TopSiteImpressionWrapper_VISIBLE = "visible";
const TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT = "visibilitychange";

// Per analytical requirement, we set the minimal intersection ratio to
// 0.5, and an impression is identified when the wrapped item has at least
// 50% visibility.
//
// This constant is exported for unit test
const TopSiteImpressionWrapper_INTERSECTION_RATIO = 0.5;

/**
 * Impression wrapper for a TopSite tile.
 *
 * It makses use of the Intersection Observer API to detect the visibility,
 * and relies on page visibility to ensure the impression is reported
 * only when the component is visible on the page.
 */
class TopSiteImpressionWrapper extends (external_React_default()).PureComponent {
  _dispatchImpressionStats() {
    const {
      actionType,
      tile
    } = this.props;
    if (!actionType) {
      return;
    }
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionType,
      data: {
        type: "impression",
        ...tile
      }
    }));
  }
  setImpressionObserverOrAddListener() {
    const {
      props
    } = this;
    if (!props.dispatch) {
      return;
    }
    if (props.document.visibilityState === TopSiteImpressionWrapper_VISIBLE) {
      this.setImpressionObserver();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === TopSiteImpressionWrapper_VISIBLE) {
          this.setImpressionObserver();
          props.document.removeEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }

  /**
   * Set an impression observer for the wrapped component. It makes use of
   * the Intersection Observer API to detect if the wrapped component is
   * visible with a desired ratio, and only sends impression if that's the case.
   *
   * See more details about Intersection Observer API at:
   * https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API
   */
  setImpressionObserver() {
    const {
      props
    } = this;
    if (!props.tile) {
      return;
    }
    this._handleIntersect = entries => {
      if (entries.some(entry => entry.isIntersecting && entry.intersectionRatio >= TopSiteImpressionWrapper_INTERSECTION_RATIO)) {
        this._dispatchImpressionStats();
        this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
      }
    };
    const options = {
      threshold: TopSiteImpressionWrapper_INTERSECTION_RATIO
    };
    this.impressionObserver = new props.IntersectionObserver(this._handleIntersect, options);
    this.impressionObserver.observe(this.refs.topsite_impression_wrapper);
  }
  componentDidMount() {
    if (this.props.tile) {
      this.setImpressionObserverOrAddListener();
    }
  }
  componentWillUnmount() {
    if (this._handleIntersect && this.impressionObserver) {
      this.impressionObserver.unobserve(this.refs.topsite_impression_wrapper);
    }
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(TopSiteImpressionWrapper_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: "topsite_impression_wrapper",
      className: "topsite-impression-observer"
    }, this.props.children);
  }
}
TopSiteImpressionWrapper.defaultProps = {
  IntersectionObserver: globalThis.IntersectionObserver,
  document: globalThis.document,
  actionType: null,
  tile: null
};
;// CONCATENATED MODULE: ./content-src/components/MessageWrapper/MessageWrapper.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






// Note: MessageWrapper emits events via submitGleanPingForPing() in the OMC messaging-system.
// If a feature is triggered outside of this flow (e.g., the Mobile Download QR Promo),
// it should emit New Tab-specific Glean events independently.

function MessageWrapper({
  children,
  dispatch,
  hiddenOverride,
  onDismiss
}) {
  const message = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const [isIntersecting, setIsIntersecting] = (0,external_React_namespaceObject.useState)(false);
  const [tabIsVisible, setTabIsVisible] = (0,external_React_namespaceObject.useState)(() => typeof document !== "undefined" && document.visibilityState === "visible");
  const [hasRun, setHasRun] = (0,external_React_namespaceObject.useState)();
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    setIsIntersecting(true);
    // only send impression if messageId is defined and tab is visible
    if (tabIsVisible && message.messageData.id && !hasRun) {
      setHasRun(true);
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.MESSAGE_IMPRESSION,
        data: message.messageData
      }));
    }
  }, [dispatch, message, tabIsVisible, hasRun]);
  (0,external_React_namespaceObject.useEffect)(() => {
    // we dont want to dispatch this action unless the current tab is open and visible
    if (message.isVisible && tabIsVisible) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.MESSAGE_NOTIFY_VISIBILITY,
        data: true
      }));
    }
  }, [message, dispatch, tabIsVisible]);
  (0,external_React_namespaceObject.useEffect)(() => {
    const handleVisibilityChange = () => {
      setTabIsVisible(document.visibilityState === "visible");
    };
    document.addEventListener("visibilitychange", handleVisibilityChange);
    return () => {
      document.removeEventListener("visibilitychange", handleVisibilityChange);
    };
  }, []);
  const ref = useIntersectionObserver(handleIntersection);
  const handleClose = (0,external_React_namespaceObject.useCallback)(() => {
    const action = {
      type: actionTypes.MESSAGE_TOGGLE_VISIBILITY,
      data: false //isVisible
    };
    if (message.portID) {
      dispatch(actionCreators.OnlyToOneContent(action, message.portID));
    } else {
      dispatch(actionCreators.AlsoToMain(action));
    }
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.MESSAGE_NOTIFY_VISIBILITY,
      data: false
    }));
    onDismiss?.();
  }, [dispatch, message, onDismiss]);
  function handleDismiss() {
    const {
      id
    } = message.messageData;
    if (id) {
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.MESSAGE_DISMISS,
        data: {
          message: message.messageData
        }
      }));
    }
    handleClose();
  }
  function handleBlock() {
    const {
      id
    } = message.messageData;
    if (id) {
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.MESSAGE_BLOCK,
        data: id
      }));
    }
  }
  function handleClick(elementId) {
    const {
      id
    } = message.messageData;
    if (id) {
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.MESSAGE_CLICK,
        data: {
          message: message.messageData,
          source: elementId || ""
        }
      }));
    }
  }
  if (!message || !hiddenOverride && !message.isVisible) {
    return null;
  }

  // only display the message if `isVisible` is true
  return /*#__PURE__*/external_React_default().createElement("div", {
    ref: el => {
      ref.current = [el];
    },
    className: "message-wrapper"
  }, /*#__PURE__*/external_React_default().cloneElement(children, {
    isIntersecting,
    handleDismiss,
    handleClick,
    handleBlock,
    handleClose
  }));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/FeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



function FeatureHighlight({
  message,
  icon,
  toggle,
  arrowPosition = "",
  position = "top-left",
  verticalPosition = "",
  title,
  ariaLabel,
  feature = "FEATURE_HIGHLIGHT_DEFAULT",
  dispatch = () => {},
  windowObj = __webpack_require__.g,
  openedOverride = false,
  showButtonIcon = true,
  dismissCallback = () => {},
  outsideClickCallback = () => {},
  modalClassName = ""
}) {
  const [opened, setOpened] = (0,external_React_namespaceObject.useState)(openedOverride);
  const ref = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    const handleOutsideClick = e => {
      if (!ref?.current?.contains(e.target)) {
        setOpened(false);
        outsideClickCallback();
      }
    };
    const handleKeyDown = e => {
      if (e.key === "Escape") {
        outsideClickCallback();
      }
    };
    windowObj.document.addEventListener("click", handleOutsideClick);
    windowObj.document.addEventListener("keydown", handleKeyDown);
    return () => {
      windowObj.document.removeEventListener("click", handleOutsideClick);
      windowObj.document.removeEventListener("keydown", handleKeyDown);
    };
  }, [windowObj, outsideClickCallback]);
  const onToggleClick = (0,external_React_namespaceObject.useCallback)(() => {
    if (!opened) {
      dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source: "FEATURE_HIGHLIGHT",
        value: {
          feature
        }
      }));
    }
    setOpened(!opened);
  }, [dispatch, feature, opened]);
  const onDismissClick = (0,external_React_namespaceObject.useCallback)(() => {
    setOpened(false);
    dismissCallback();
  }, [dismissCallback]);
  const hideButtonClass = showButtonIcon ? `` : `isHidden`;
  const openedClassname = opened ? `opened` : `closed`;
  return /*#__PURE__*/external_React_default().createElement("div", {
    ref: ref,
    className: `feature-highlight ${verticalPosition}`
  }, /*#__PURE__*/external_React_default().createElement("button", {
    title: title,
    "aria-haspopup": "true",
    "aria-label": ariaLabel,
    className: `toggle-button ${hideButtonClass}`,
    onClick: onToggleClick
  }, toggle), /*#__PURE__*/external_React_default().createElement("div", {
    className: `feature-highlight-modal ${position} ${arrowPosition} ${modalClassName} ${openedClassname}`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "message-icon"
  }, icon), /*#__PURE__*/external_React_default().createElement("p", {
    className: "content-wrapper"
  }, message), /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    size: "small",
    "data-l10n-id": "feature-highlight-dismiss-button",
    iconsrc: "chrome://global/skin/icons/close.svg",
    onClick: onDismissClick,
    onKeyDown: onDismissClick
  })));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/ShortcutFeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



function ShortcutFeatureHighlight({
  position,
  dispatch,
  handleDismiss,
  handleBlock,
  feature
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "shortcut-feature-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    feature: feature,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "shortcut-feature-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: "chrome://global/skin/icons/open-in-new.svg",
      width: "24",
      height: "24",
      alt: ""
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "shortcut-feature-highlight-copy"
    }, /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": "newtab-shortcuts-highlight-title"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": "newtab-shortcuts-highlight-subtitle"
    }))),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSite.jsx
function TopSite_extends() { return TopSite_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, TopSite_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */













const SPOC_TYPE = "SPOC";
const NEWTAB_SOURCE = "newtab";

// For cases if we want to know if this is sponsored by either sponsored_position or type.
// We have two sources for sponsored topsites, and
// sponsored_position is set by one sponsored source, and type is set by another.
// This is not called in all cases, sometimes we want to know if it's one source
// or the other. This function is only applicable in cases where we only care if it's either.
function isSponsored(link) {
  return link?.sponsored_position || link?.type === SPOC_TYPE;
}
class TopSiteLink extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      screenshotImage: null
    };
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onKeyPress = this.onKeyPress.bind(this);
    this.shouldShowOMCHighlight = this.shouldShowOMCHighlight.bind(this);
  }

  /*
   * Helper to determine whether the drop zone should allow a drop. We only allow
   * dropping top sites for now. We don't allow dropping on sponsored top sites
   * as their position is fixed.
   */
  _allowDrop(e) {
    return (this.dragged || !isSponsored(this.props.link)) && e.dataTransfer.types.includes("text/topsite-index");
  }
  onDragEvent(event) {
    switch (event.type) {
      case "click":
        // Stop any link clicks if we started any dragging
        if (this.dragged) {
          event.preventDefault();
        }
        break;
      case "dragstart":
        event.target.blur();
        if (isSponsored(this.props.link)) {
          event.preventDefault();
          break;
        }
        this.dragged = true;
        event.dataTransfer.effectAllowed = "move";
        event.dataTransfer.setData("text/topsite-index", this.props.index);
        this.props.onDragEvent(event, this.props.index, this.props.link, this.props.title);
        break;
      case "dragend":
        this.props.onDragEvent(event);
        break;
      case "dragenter":
      case "dragover":
      case "drop":
        if (this._allowDrop(event)) {
          event.preventDefault();
          this.props.onDragEvent(event, this.props.index);
        }
        break;
      case "mousedown":
        // Block the scroll wheel from appearing for middle clicks on search top sites
        if (event.button === 1 && this.props.link.searchTopSite) {
          event.preventDefault();
        }
        // Reset at the first mouse event of a potential drag
        this.dragged = false;
        break;
    }
  }

  /**
   * Helper to obtain the next state based on nextProps and prevState.
   *
   * NOTE: Rename this method to getDerivedStateFromProps when we update React
   *       to >= 16.3. We will need to update tests as well. We cannot rename this
   *       method to getDerivedStateFromProps now because there is a mismatch in
   *       the React version that we are using for both testing and production.
   *       (i.e. react-test-render => "16.3.2", react => "16.2.0").
   *
   * See https://github.com/airbnb/enzyme/blob/master/packages/enzyme-adapter-react-16/package.json#L43.
   */
  static getNextStateFromProps(nextProps, prevState) {
    const {
      screenshot
    } = nextProps.link;
    const imageInState = ScreenshotUtils.isRemoteImageLocal(prevState.screenshotImage, screenshot);
    if (imageInState) {
      return null;
    }

    // Since image was updated, attempt to revoke old image blob URL, if it exists.
    ScreenshotUtils.maybeRevokeBlobObjectURL(prevState.screenshotImage);
    return {
      screenshotImage: ScreenshotUtils.createLocalImageObject(screenshot)
    };
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillMount() {
    const nextState = TopSiteLink.getNextStateFromProps(this.props, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }

  // NOTE: Remove this function when we update React to >= 16.3 since React will
  //       call getDerivedStateFromProps automatically. We will also need to
  //       rename getNextStateFromProps to getDerivedStateFromProps.
  componentWillReceiveProps(nextProps) {
    const nextState = TopSiteLink.getNextStateFromProps(nextProps, this.state);
    if (nextState) {
      this.setState(nextState);
    }
  }
  componentWillUnmount() {
    ScreenshotUtils.maybeRevokeBlobObjectURL(this.state.screenshotImage);
  }
  onKeyPress(event) {
    // If we have tabbed to a search shortcut top site, and we click 'enter',
    // we should execute the onClick function. This needs to be added because
    // search top sites are anchor tags without an href. See bug 1483135
    if (event.key === "Enter" && (this.props.link.searchTopSite || this.props.isAddButton)) {
      this.props.onClick(event);
    }
  }

  /*
   * Takes the url as a string, runs it through a simple (non-secure) hash turning it into a random number
   * Apply that random number to the color array. The same url will always generate the same color.
   */
  generateColor() {
    let {
      title,
      colors
    } = this.props;
    if (!colors) {
      return "";
    }
    let colorArray = colors.split(",");
    const hashStr = str => {
      let hash = 0;
      for (let i = 0; i < str.length; i++) {
        let charCode = str.charCodeAt(i);
        hash += charCode;
      }
      return hash;
    };
    let hash = hashStr(title);
    let index = hash % colorArray.length;
    return colorArray[index];
  }
  calculateStyle() {
    const {
      defaultStyle,
      link
    } = this.props;
    const {
      tippyTopIcon,
      faviconSize
    } = link;
    let imageClassName;
    let imageStyle;
    let showSmallFavicon = false;
    let smallFaviconStyle;
    let hasScreenshotImage = this.state.screenshotImage && this.state.screenshotImage.url;
    let selectedColor;
    if (defaultStyle) {
      // force no styles (letter fallback) even if the link has imagery
      selectedColor = this.generateColor();
    } else if (link.searchTopSite) {
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon})`
      };
      smallFaviconStyle = {
        backgroundImage: `url(${tippyTopIcon})`
      };
    } else if (link.customScreenshotURL) {
      // assume high quality custom screenshot and use rich icon styles and class names
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: hasScreenshotImage ? `url(${this.state.screenshotImage.url})` : ""
      };
    } else if (tippyTopIcon || link.type === SPOC_TYPE || faviconSize >= MIN_RICH_FAVICON_SIZE) {
      // styles and class names for top sites with rich icons
      imageClassName = "top-site-icon rich-icon";
      imageStyle = {
        backgroundColor: link.backgroundColor,
        backgroundImage: `url(${tippyTopIcon || link.favicon})`
      };
    } else if (faviconSize >= MIN_SMALL_FAVICON_SIZE) {
      showSmallFavicon = true;
      smallFaviconStyle = {
        backgroundImage: `url(${link.favicon})`
      };
    } else {
      selectedColor = this.generateColor();
      imageClassName = "";
    }
    return {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    };
  }
  shouldShowOMCHighlight(componentId) {
    const messageData = this.props.Messages?.messageData;
    if (!messageData || Object.keys(messageData).length === 0) {
      return false;
    }
    return messageData?.content?.messageType === componentId;
  }
  render() {
    const {
      children,
      className,
      isDraggable,
      link,
      onClick,
      title,
      isAddButton,
      visibleTopSites
    } = this.props;
    const topSiteOuterClassName = `top-site-outer${className ? ` ${className}` : ""}${link.isDragged ? " dragged" : ""}${link.searchTopSite ? " search-shortcut" : ""}`;
    const [letterFallback] = title;
    const {
      showSmallFavicon,
      smallFaviconStyle,
      imageStyle,
      imageClassName,
      selectedColor
    } = this.calculateStyle();
    const addButtonLabell10n = {
      "data-l10n-id": "newtab-topsites-add-shortcut-label"
    };
    const addButtonTitlel10n = {
      "data-l10n-id": "newtab-topsites-add-shortcut-title"
    };
    const addPinnedTitlel10n = {
      "data-l10n-id": "topsite-label-pinned",
      "data-l10n-args": JSON.stringify({
        title
      })
    };
    let draggableProps = {};
    if (isDraggable) {
      draggableProps = {
        onClick: this.onDragEvent,
        onDragEnd: this.onDragEvent,
        onDragStart: this.onDragEvent,
        onMouseDown: this.onDragEvent
      };
    }
    let impressionStats = null;
    if (link.type === SPOC_TYPE) {
      // Record impressions for Pocket tiles.
      impressionStats = /*#__PURE__*/external_React_default().createElement(ImpressionStats_ImpressionStats, {
        flightId: link.flightId,
        rows: [{
          id: link.id,
          pos: link.pos,
          shim: link.shim && link.shim.impression,
          advertiser: title.toLocaleLowerCase()
        }],
        dispatch: this.props.dispatch,
        source: TOP_SITES_SOURCE
      });
    } else if (isSponsored(link)) {
      // Record impressions for non-Pocket sponsored tiles.
      impressionStats = /*#__PURE__*/external_React_default().createElement(TopSiteImpressionWrapper, {
        actionType: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
        tile: {
          position: this.props.index,
          tile_id: link.sponsored_tile_id || -1,
          reporting_url: link.sponsored_impression_url,
          advertiser: title.toLocaleLowerCase(),
          source: NEWTAB_SOURCE,
          visible_topsites: visibleTopSites
        }
        // For testing.
        ,
        IntersectionObserver: this.props.IntersectionObserver,
        document: this.props.document,
        dispatch: this.props.dispatch
      });
    } else {
      // Record impressions for organic tiles.
      impressionStats = /*#__PURE__*/external_React_default().createElement(TopSiteImpressionWrapper, {
        actionType: actionTypes.TOP_SITES_ORGANIC_IMPRESSION_STATS,
        tile: {
          position: this.props.index,
          source: NEWTAB_SOURCE,
          isPinned: this.props.link.isPinned,
          guid: this.props.link.guid,
          visible_topsites: visibleTopSites
        }
        // For testing.
        ,
        IntersectionObserver: this.props.IntersectionObserver,
        document: this.props.document,
        dispatch: this.props.dispatch
      });
    }
    return /*#__PURE__*/external_React_default().createElement("li", TopSite_extends({
      className: topSiteOuterClassName,
      onDrop: this.onDragEvent,
      onDragOver: this.onDragEvent,
      onDragEnter: this.onDragEvent,
      onDragLeave: this.onDragEvent,
      ref: this.props.setRef
    }, draggableProps), /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-inner"
    }, /*#__PURE__*/external_React_default().createElement("a", TopSite_extends({
      className: "top-site-button",
      href: link.searchTopSite ? undefined : link.url,
      tabIndex: this.props.tabIndex,
      onKeyPress: this.onKeyPress,
      onClick: onClick,
      draggable: true,
      "data-is-sponsored-link": !!link.sponsored_tile_id,
      onFocus: this.props.onFocus,
      "aria-label": link.isPinned ? undefined : title
    }, isAddButton && {
      ...addButtonTitlel10n
    }, !isAddButton && {
      title
    }, link.isPinned && {
      ...addPinnedTitlel10n
    }, {
      "data-l10n-args": JSON.stringify({
        title
      })
    }), link.isPinned && /*#__PURE__*/external_React_default().createElement("div", {
      className: "icon icon-pin-small"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "tile",
      "aria-hidden": true
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: selectedColor ? "icon-wrapper letter-fallback" : "icon-wrapper",
      "data-fallback": letterFallback,
      style: selectedColor ? {
        backgroundColor: selectedColor
      } : {}
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: imageClassName,
      style: imageStyle
    }), showSmallFavicon && /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon default-icon",
      "data-fallback": smallFaviconStyle ? "" : letterFallback,
      style: smallFaviconStyle
    }))), /*#__PURE__*/external_React_default().createElement("div", {
      className: `title${link.isPinned ? " has-icon pinned" : ""}${link.type === SPOC_TYPE || link.show_sponsored_label ? " sponsored" : ""}`
    }, /*#__PURE__*/external_React_default().createElement("span", TopSite_extends({
      className: "title-label",
      dir: "auto"
    }, isAddButton && {
      ...addButtonLabell10n
    }), link.searchTopSite && /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-site-icon search-topsite"
    }), title || /*#__PURE__*/external_React_default().createElement("br", null)), /*#__PURE__*/external_React_default().createElement("span", {
      className: "sponsored-label",
      "data-l10n-id": "newtab-topsite-sponsored"
    }))), isAddButton && this.shouldShowOMCHighlight("ShortcutHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
      dispatch: this.props.dispatch,
      onClick: e => e.stopPropagation()
    }, /*#__PURE__*/external_React_default().createElement(ShortcutFeatureHighlight, {
      dispatch: this.props.dispatch,
      feature: "FEATURE_SHORTCUT_HIGHLIGHT",
      position: "inset-block-end inset-inline-start"
    })), children, impressionStats));
  }
}
TopSiteLink.defaultProps = {
  title: "",
  link: {},
  isDraggable: true
};
class TopSite extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      showContextMenu: false
    };
    this.onLinkClick = this.onLinkClick.bind(this);
    this.onMenuUpdate = this.onMenuUpdate.bind(this);
  }

  /**
   * Report to telemetry additional information about the item.
   */
  _getTelemetryInfo() {
    const value = {
      icon_type: this.props.link.iconType
    };
    // Filter out "not_pinned" type for being the default
    if (this.props.link.isPinned) {
      value.card_type = "pinned";
    }
    if (this.props.link.searchTopSite) {
      // Set the card_type as "search" regardless of its pinning status
      value.card_type = "search";
      value.search_vendor = this.props.link.hostname;
    }
    if (isSponsored(this.props.link)) {
      value.card_type = "spoc";
    }
    return {
      value
    };
  }
  userEvent(event) {
    this.props.dispatch(actionCreators.UserEvent(Object.assign({
      event,
      source: TOP_SITES_SOURCE,
      action_position: this.props.index
    }, this._getTelemetryInfo())));
  }
  onLinkClick(event) {
    this.userEvent("CLICK");

    // Specially handle a top site link click for "typed" frecency bonus as
    // specified as a property on the link.
    event.preventDefault();
    const {
      altKey,
      button,
      ctrlKey,
      metaKey,
      shiftKey
    } = event;
    if (!this.props.link.searchTopSite) {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.OPEN_LINK,
        data: Object.assign(this.props.link, {
          event: {
            altKey,
            button,
            ctrlKey,
            metaKey,
            shiftKey
          },
          is_sponsored: !!this.props.link.sponsored_tile_id
        })
      }));
      if (this.props.link.type === SPOC_TYPE) {
        // Record a Pocket-specific click.
        this.props.dispatch(actionCreators.ImpressionStats({
          source: TOP_SITES_SOURCE,
          click: 0,
          tiles: [{
            id: this.props.link.id,
            pos: this.props.link.pos,
            shim: this.props.link.shim && this.props.link.shim.click
          }]
        }));

        // Record a click for a Pocket sponsored tile.
        // This first event is for the shim property
        // and is used by our ad service provider.
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "CLICK",
          source: TOP_SITES_SOURCE,
          action_position: this.props.link.pos,
          value: {
            card_type: "spoc",
            tile_id: this.props.link.id,
            shim: this.props.link.shim && this.props.link.shim.click
          }
        }));

        // A second event is recoded for internal usage.
        const title = this.props.link.label || this.props.link.hostname;
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.link.pos,
            tile_id: this.props.link.id,
            advertiser: title.toLocaleLowerCase(),
            source: NEWTAB_SOURCE
          }
        }));
      } else if (isSponsored(this.props.link)) {
        // Record a click for a non-Pocket sponsored tile.
        const title = this.props.link.label || this.props.link.hostname;
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.TOP_SITES_SPONSORED_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.index,
            tile_id: this.props.link.sponsored_tile_id || -1,
            reporting_url: this.props.link.sponsored_click_url,
            advertiser: title.toLocaleLowerCase(),
            source: NEWTAB_SOURCE,
            visible_topsites: this.props.visibleTopSites
          }
        }));
      } else {
        // Record a click for an organic tile.
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.TOP_SITES_ORGANIC_IMPRESSION_STATS,
          data: {
            type: "click",
            position: this.props.index,
            source: NEWTAB_SOURCE,
            isPinned: this.props.link.isPinned,
            guid: this.props.link.guid,
            visible_topsites: this.props.visibleTopSites
          }
        }));
      }
      if (this.props.link.sendAttributionRequest) {
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.PARTNER_LINK_ATTRIBUTION,
          data: {
            targetURL: this.props.link.url,
            source: "newtab"
          }
        }));
      }
    } else {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.FILL_SEARCH_TERM,
        data: {
          label: this.props.link.label
        }
      }));
    }
  }
  onMenuUpdate(isOpen) {
    if (isOpen) {
      this.props.onActivate(this.props.index);
    } else {
      this.props.onActivate();
    }
  }
  render() {
    const {
      props
    } = this;
    const {
      link
    } = props;
    const isContextMenuOpen = props.activeIndex === props.index;
    const title = link.label || link.title || link.hostname;
    let menuOptions;
    if (link.sponsored_position) {
      menuOptions = TOP_SITES_SPONSORED_POSITION_CONTEXT_MENU_OPTIONS;
    } else if (link.searchTopSite) {
      menuOptions = TOP_SITES_SEARCH_SHORTCUTS_CONTEXT_MENU_OPTIONS;
    } else if (link.type === SPOC_TYPE) {
      menuOptions = TOP_SITES_SPOC_CONTEXT_MENU_OPTIONS;
    } else {
      menuOptions = TOP_SITES_CONTEXT_MENU_OPTIONS;
    }
    return /*#__PURE__*/external_React_default().createElement(TopSiteLink, TopSite_extends({}, props, {
      onClick: this.onLinkClick,
      onDragEvent: this.props.onDragEvent,
      className: `${props.className || ""}${isContextMenuOpen ? " active" : ""}`,
      title: title,
      setPref: this.props.setPref,
      tabIndex: this.props.tabIndex,
      onFocus: this.props.onFocus
    }), /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement(ContextMenuButton, {
      tooltip: "newtab-menu-content-tooltip",
      tooltipArgs: {
        title
      },
      onUpdate: this.onMenuUpdate,
      tabIndex: this.props.tabIndex,
      onFocus: this.props.onFocus
    }, /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: props.dispatch,
      index: props.index,
      onUpdate: this.onMenuUpdate,
      options: menuOptions,
      site: link,
      shouldSendImpressionStats: link.type === SPOC_TYPE,
      siteInfo: this._getTelemetryInfo(),
      source: TOP_SITES_SOURCE
    }))));
  }
}
TopSite.defaultProps = {
  link: {},
  onActivate() {}
};
class TopSiteAddButton extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onEditButtonClick = this.onEditButtonClick.bind(this);
  }
  onEditButtonClick() {
    this.props.dispatch({
      type: actionTypes.TOP_SITES_EDIT,
      data: {
        index: this.props.index
      }
    });
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement(TopSiteLink, TopSite_extends({}, this.props, {
      isAddButton: true,
      className: `add-button ${this.props.className || ""}`,
      onClick: this.onEditButtonClick,
      setPref: this.props.setPref,
      isDraggable: false,
      tabIndex: this.props.tabIndex
    }));
  }
}
class TopSitePlaceholder extends (external_React_default()).PureComponent {
  render() {
    return /*#__PURE__*/external_React_default().createElement(TopSiteLink, TopSite_extends({}, this.props, {
      className: `placeholder ${this.props.className || ""}`,
      isDraggable: false
    }));
  }
}
class _TopSiteList extends (external_React_default()).PureComponent {
  static get DEFAULT_STATE() {
    return {
      activeIndex: null,
      draggedIndex: null,
      draggedSite: null,
      draggedTitle: null,
      topSitesPreview: null,
      focusedIndex: 0
    };
  }
  constructor(props) {
    super(props);
    this.state = _TopSiteList.DEFAULT_STATE;
    this.onDragEvent = this.onDragEvent.bind(this);
    this.onActivate = this.onActivate.bind(this);
    this.onWrapperFocus = this.onWrapperFocus.bind(this);
    this.onTopsiteFocus = this.onTopsiteFocus.bind(this);
    this.onWrapperBlur = this.onWrapperBlur.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
  }
  componentWillReceiveProps(nextProps) {
    if (this.state.draggedSite) {
      const prevTopSites = this.props.TopSites && this.props.TopSites.rows;
      const newTopSites = nextProps.TopSites && nextProps.TopSites.rows;
      if (prevTopSites && prevTopSites[this.state.draggedIndex] && prevTopSites[this.state.draggedIndex].url === this.state.draggedSite.url && (!newTopSites[this.state.draggedIndex] || newTopSites[this.state.draggedIndex].url !== this.state.draggedSite.url)) {
        // We got the new order from the redux store via props. We can clear state now.
        this.setState(_TopSiteList.DEFAULT_STATE);
      }
    }
  }
  userEvent(event, index) {
    this.props.dispatch(actionCreators.UserEvent({
      event,
      source: TOP_SITES_SOURCE,
      action_position: index
    }));
  }
  onDragEvent(event, index, link, title) {
    switch (event.type) {
      case "dragstart":
        this.dropped = false;
        this.setState({
          draggedIndex: index,
          draggedSite: link,
          draggedTitle: title,
          activeIndex: null
        });
        this.userEvent("DRAG", index);
        break;
      case "dragend":
        if (!this.dropped) {
          // If there was no drop event, reset the state to the default.
          this.setState(_TopSiteList.DEFAULT_STATE);
        }
        break;
      case "dragenter":
        if (index === this.state.draggedIndex) {
          this.setState({
            topSitesPreview: null
          });
        } else {
          this.setState({
            topSitesPreview: this._makeTopSitesPreview(index)
          });
        }
        break;
      case "drop":
        if (index !== this.state.draggedIndex) {
          this.dropped = true;
          this.props.dispatch(actionCreators.AlsoToMain({
            type: actionTypes.TOP_SITES_INSERT,
            data: {
              site: {
                url: this.state.draggedSite.url,
                label: this.state.draggedTitle,
                customScreenshotURL: this.state.draggedSite.customScreenshotURL,
                // Only if the search topsites experiment is enabled
                ...(this.state.draggedSite.searchTopSite && {
                  searchTopSite: true
                })
              },
              index,
              draggedFromIndex: this.state.draggedIndex
            }
          }));
          this.userEvent("DROP", index);
        }
        break;
    }
  }
  _getTopSites() {
    // Make a copy of the sites to truncate or extend to desired length
    let topSites = this.props.TopSites.rows.slice();
    topSites.length = this.props.TopSitesRows * TOP_SITES_MAX_SITES_PER_ROW;
    // if topSites do not fill an entire row add 'Add shortcut' button to array of topSites
    // (there should only be one of these)
    let firstPlaceholder = topSites.findIndex(Object.is.bind(null, undefined));
    // make sure placeholder exists and there already isnt a add button
    if (firstPlaceholder && !topSites.includes(site => site.isAddButton)) {
      topSites[firstPlaceholder] = {
        isAddButton: true
      };
    } else if (topSites.includes(site => site.isAddButton)) {
      topSites.push(topSites.splice(topSites.indexOf({
        isAddButton: true
      }), 1)[0]);
    }
    return topSites;
  }

  /**
   * Make a preview of the topsites that will be the result of dropping the currently
   * dragged site at the specified index.
   */
  _makeTopSitesPreview(index) {
    const topSites = this._getTopSites();
    topSites[this.state.draggedIndex] = null;
    const preview = topSites.map(site => site && (site.isPinned || isSponsored(site)) ? site : null);
    const unpinned = topSites.filter(site => site && !site.isPinned && !isSponsored(site));
    const siteToInsert = Object.assign({}, this.state.draggedSite, {
      isPinned: true,
      isDragged: true
    });
    if (!preview[index]) {
      preview[index] = siteToInsert;
    } else {
      // Find the hole to shift the pinned site(s) towards. We shift towards the
      // hole left by the site being dragged.
      let holeIndex = index;
      const indexStep = index > this.state.draggedIndex ? -1 : 1;
      while (preview[holeIndex]) {
        holeIndex += indexStep;
      }

      // Shift towards the hole.
      const shiftingStep = index > this.state.draggedIndex ? 1 : -1;
      while (index > this.state.draggedIndex ? holeIndex < index : holeIndex > index) {
        let nextIndex = holeIndex + shiftingStep;
        while (isSponsored(preview[nextIndex])) {
          nextIndex += shiftingStep;
        }
        preview[holeIndex] = preview[nextIndex];
        holeIndex = nextIndex;
      }
      preview[index] = siteToInsert;
    }

    // Fill in the remaining holes with unpinned sites.
    for (let i = 0; i < preview.length; i++) {
      if (!preview[i]) {
        preview[i] = unpinned.shift() || null;
      }
    }
    return preview;
  }
  onActivate(index) {
    this.setState({
      activeIndex: index
    });
  }
  onKeyDown(e) {
    if (this.state.activeIndex || this.state.activeIndex === 0) {
      return;
    }
    if (e.key === "ArrowDown" || e.key === "ArrowUp") {
      // prevent the page from scrolling up/down while navigating.
      e.preventDefault();
    }
    if (this.focusedRef?.nextSibling?.querySelector("a") && e.key === "ArrowDown") {
      this.focusedRef.nextSibling.querySelector("a").tabIndex = 0;
      this.focusedRef.nextSibling.querySelector("a").focus();
    }
    if (this.focusedRef?.previousSibling?.querySelector("a") && e.key === "ArrowUp") {
      this.focusedRef.previousSibling.querySelector("a").tabIndex = 0;
      this.focusedRef.previousSibling.querySelector("a").focus();
    }
  }
  onWrapperFocus() {
    this.focusRef?.addEventListener("keydown", this.onKeyDown);
  }
  onWrapperBlur() {
    this.focusRef?.removeEventListener("keydown", this.onKeyDown);
  }
  onTopsiteFocus(focusIndex) {
    this.setState(() => ({
      focusedIndex: focusIndex
    }));
  }
  render() {
    const {
      props
    } = this;
    const topSites = this.state.topSitesPreview || this._getTopSites();
    const topSitesUI = [];
    const commonProps = {
      onDragEvent: this.onDragEvent,
      dispatch: props.dispatch
    };
    // We assign a key to each placeholder slot. We need it to be independent
    // of the slot index (i below) so that the keys used stay the same during
    // drag and drop reordering and the underlying DOM nodes are reused.
    // This mostly (only?) affects linux so be sure to test on linux before changing.
    let holeIndex = 0;

    // On narrow viewports, we only show 6 sites per row. We'll mark the rest as
    // .hide-for-narrow to hide in CSS via @media query.
    const maxNarrowVisibleIndex = props.TopSitesRows * 6;
    for (let i = 0, l = topSites.length; i < l; i++) {
      const link = topSites[i] && Object.assign({}, topSites[i], {
        iconType: this.props.topSiteIconType(topSites[i])
      });
      const slotProps = {
        key: link ? link.url : holeIndex++,
        index: i
      };
      if (i >= maxNarrowVisibleIndex) {
        slotProps.className = "hide-for-narrow";
      }
      let topSiteLink;
      // Use a placeholder if the link is empty or it's rendering a sponsored
      // tile for the about:home startup cache.
      if (!link || props.App.isForStartupCache.TopSites && isSponsored(link)) {
        if (link) {
          topSiteLink = /*#__PURE__*/external_React_default().createElement(TopSitePlaceholder, TopSite_extends({}, slotProps, commonProps));
        }
      } else if (topSites[i]?.isAddButton) {
        topSiteLink = /*#__PURE__*/external_React_default().createElement(TopSiteAddButton, TopSite_extends({}, slotProps, commonProps, {
          setRef: i === this.state.focusedIndex ? el => {
            this.focusedRef = el;
          } : () => {},
          tabIndex: i === this.state.focusedIndex ? 0 : -1,
          onFocus: () => {
            this.onTopsiteFocus(i);
          },
          Messages: this.props.Messages,
          visibleTopSites: this.props.visibleTopSites
        }));
      } else {
        topSiteLink = /*#__PURE__*/external_React_default().createElement(TopSite, TopSite_extends({
          link: link,
          activeIndex: this.state.activeIndex,
          onActivate: this.onActivate
        }, slotProps, commonProps, {
          colors: props.colors,
          setRef: i === this.state.focusedIndex ? el => {
            this.focusedRef = el;
          } : () => {},
          tabIndex: i === this.state.focusedIndex ? 0 : -1,
          onFocus: () => {
            this.onTopsiteFocus(i);
          },
          visibleTopSites: this.props.visibleTopSites
        }));
      }
      topSitesUI.push(topSiteLink);
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-sites-list-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("ul", {
      role: "group",
      "aria-label": "Shortcuts",
      onFocus: this.onWrapperFocus,
      onBlur: this.onWrapperBlur,
      ref: el => {
        this.focusRef = el;
      },
      className: `top-sites-list${this.state.draggedSite ? " dnd-active" : ""}`
    }, topSitesUI));
  }
}
const TopSiteList = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  Messages: state.Messages,
  Prefs: state.Prefs
}))(_TopSiteList);
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSiteForm.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







class TopSiteForm extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    const {
      site
    } = props;
    this.state = {
      label: site ? site.label || site.hostname : "",
      url: site ? site.url : "",
      validationError: false,
      customScreenshotUrl: site ? site.customScreenshotURL : "",
      showCustomScreenshotForm: site ? site.customScreenshotURL : false,
      hasURLChanged: false,
      hasTitleChanged: false
    };
    this.onClearScreenshotInput = this.onClearScreenshotInput.bind(this);
    this.onLabelChange = this.onLabelChange.bind(this);
    this.onUrlChange = this.onUrlChange.bind(this);
    this.onCancelButtonClick = this.onCancelButtonClick.bind(this);
    this.onClearUrlClick = this.onClearUrlClick.bind(this);
    this.onDoneButtonClick = this.onDoneButtonClick.bind(this);
    this.onCustomScreenshotUrlChange = this.onCustomScreenshotUrlChange.bind(this);
    this.onPreviewButtonClick = this.onPreviewButtonClick.bind(this);
    this.onEnableScreenshotUrlForm = this.onEnableScreenshotUrlForm.bind(this);
    this.validateUrl = this.validateUrl.bind(this);
  }
  onLabelChange(event) {
    this.setState({
      label: event.target.value,
      hasTitleChanged: true
    });
  }
  onUrlChange(event) {
    this.setState({
      url: event.target.value,
      validationError: false,
      hasURLChanged: true
    });
  }
  onClearUrlClick() {
    this.setState({
      url: "",
      validationError: false
    });
  }
  onEnableScreenshotUrlForm() {
    this.setState({
      showCustomScreenshotForm: true
    });
  }
  _updateCustomScreenshotInput(customScreenshotUrl) {
    this.setState({
      customScreenshotUrl,
      validationError: false
    });
    this.props.dispatch({
      type: actionTypes.PREVIEW_REQUEST_CANCEL
    });
  }
  onCustomScreenshotUrlChange(event) {
    this._updateCustomScreenshotInput(event.target.value);
  }
  onClearScreenshotInput() {
    this._updateCustomScreenshotInput("");
  }
  onCancelButtonClick(ev) {
    ev.preventDefault();
    this.props.onClose();
  }
  onDoneButtonClick(ev) {
    ev.preventDefault();
    if (this.validateForm()) {
      const site = {
        url: this.cleanUrl(this.state.url)
      };
      const {
        index
      } = this.props;
      const isEdit = !!this.props.site;
      if (this.state.label !== "") {
        site.label = this.state.label;
      }
      if (this.state.customScreenshotUrl) {
        site.customScreenshotURL = this.cleanUrl(this.state.customScreenshotUrl);
      } else if (this.props.site && this.props.site.customScreenshotURL) {
        // Used to flag that previously cached screenshot should be removed
        site.customScreenshotURL = null;
      }
      this.props.dispatch(actionCreators.AlsoToMain({
        type: actionTypes.TOP_SITES_PIN,
        data: {
          site,
          index
        }
      }));
      if (isEdit) {
        this.props.dispatch(actionCreators.UserEvent({
          source: TOP_SITES_SOURCE,
          event: "TOP_SITES_EDIT",
          action_position: index,
          hasTitleChanged: this.state.hasTitleChanged,
          hasURLChanged: this.state.hasURLChanged
        }));
      } else if (!isEdit) {
        this.props.dispatch(actionCreators.UserEvent({
          source: TOP_SITES_SOURCE,
          event: "TOP_SITES_ADD",
          action_position: index
        }));
      }
      this.props.onClose();
    }
  }
  onPreviewButtonClick(event) {
    event.preventDefault();
    if (this.validateForm()) {
      this.props.dispatch(actionCreators.AlsoToMain({
        type: actionTypes.PREVIEW_REQUEST,
        data: {
          url: this.cleanUrl(this.state.customScreenshotUrl)
        }
      }));
      this.props.dispatch(actionCreators.UserEvent({
        source: TOP_SITES_SOURCE,
        event: "PREVIEW_REQUEST"
      }));
    }
  }
  cleanUrl(url) {
    // If we are missing a protocol, prepend http://
    if (!url.startsWith("http:") && !url.startsWith("https:")) {
      return `http://${url}`;
    }
    return url;
  }
  _tryParseUrl(url) {
    try {
      return new URL(url);
    } catch (e) {
      return null;
    }
  }
  validateUrl(url) {
    const validProtocols = ["http:", "https:"];
    const urlObj = this._tryParseUrl(url) || this._tryParseUrl(this.cleanUrl(url));
    return urlObj && validProtocols.includes(urlObj.protocol);
  }
  validateCustomScreenshotUrl() {
    const {
      customScreenshotUrl
    } = this.state;
    return !customScreenshotUrl || this.validateUrl(customScreenshotUrl);
  }
  validateForm() {
    const validate = this.validateUrl(this.state.url) && this.validateCustomScreenshotUrl();
    if (!validate) {
      this.setState({
        validationError: true
      });
    }
    return validate;
  }
  _renderCustomScreenshotInput() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === "";
    const validationError = this.state.validationError && !this.validateCustomScreenshotUrl() || requestFailed;
    // Set focus on error if the url field is valid or when the input is first rendered and is empty
    const shouldFocus = validationError && this.validateUrl(this.state.url) || !customScreenshotUrl;
    const isLoading = this.props.previewResponse === null && customScreenshotUrl && this.props.previewUrl === this.cleanUrl(customScreenshotUrl);
    if (!this.state.showCustomScreenshotForm) {
      return /*#__PURE__*/external_React_default().createElement(A11yLinkButton, {
        onClick: this.onEnableScreenshotUrlForm,
        className: "enable-custom-image-input",
        "data-l10n-id": "newtab-topsites-use-image-link"
      });
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "custom-image-input-container"
    }, /*#__PURE__*/external_React_default().createElement(TopSiteFormInput, {
      errorMessageId: requestFailed ? "newtab-topsites-image-validation" : "newtab-topsites-url-validation",
      loading: isLoading,
      onChange: this.onCustomScreenshotUrlChange,
      onClear: this.onClearScreenshotInput,
      shouldFocus: shouldFocus,
      typeUrl: true,
      value: customScreenshotUrl,
      validationError: validationError,
      titleId: "newtab-topsites-image-url-label",
      placeholderId: "newtab-topsites-url-input"
    }));
  }
  render() {
    const {
      customScreenshotUrl
    } = this.state;
    const requestFailed = this.props.previewResponse === "";
    // For UI purposes, editing without an existing link is "add"
    const showAsAdd = !this.props.site;
    const previous = this.props.site && this.props.site.customScreenshotURL || "";
    const changed = customScreenshotUrl && this.cleanUrl(customScreenshotUrl) !== previous;
    // Preview mode if changes were made to the custom screenshot URL and no preview was received yet
    // or the request failed
    const previewMode = changed && !this.props.previewResponse;
    const previewLink = Object.assign({}, this.props.site);
    if (this.props.previewResponse) {
      previewLink.screenshot = this.props.previewResponse;
      previewLink.customScreenshotURL = this.props.previewUrl;
    }
    // Handles the form submit so an enter press performs the correct action
    const onSubmit = previewMode ? this.onPreviewButtonClick : this.onDoneButtonClick;
    const addTopsitesHeaderL10nId = "newtab-topsites-add-shortcut-header";
    const editTopsitesHeaderL10nId = "newtab-topsites-edit-shortcut-header";
    return /*#__PURE__*/external_React_default().createElement("form", {
      className: "topsite-form",
      onSubmit: onSubmit
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "form-input-container"
    }, /*#__PURE__*/external_React_default().createElement("h3", {
      className: "section-title grey-title",
      "data-l10n-id": showAsAdd ? addTopsitesHeaderL10nId : editTopsitesHeaderL10nId
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "fields-and-preview"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "form-wrapper"
    }, /*#__PURE__*/external_React_default().createElement(TopSiteFormInput, {
      onChange: this.onLabelChange,
      value: this.state.label,
      titleId: "newtab-topsites-title-label",
      placeholderId: "newtab-topsites-title-input",
      autoFocusOnOpen: true
    }), /*#__PURE__*/external_React_default().createElement(TopSiteFormInput, {
      onChange: this.onUrlChange,
      shouldFocus: this.state.validationError && !this.validateUrl(this.state.url),
      value: this.state.url,
      onClear: this.onClearUrlClick,
      validationError: this.state.validationError && !this.validateUrl(this.state.url),
      titleId: "newtab-topsites-url-label",
      typeUrl: true,
      placeholderId: "newtab-topsites-url-input",
      errorMessageId: "newtab-topsites-url-validation"
    }), this._renderCustomScreenshotInput()), /*#__PURE__*/external_React_default().createElement(TopSiteLink, {
      link: previewLink,
      defaultStyle: requestFailed,
      title: this.state.label
    }))), /*#__PURE__*/external_React_default().createElement("section", {
      className: "actions"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "cancel",
      type: "button",
      onClick: this.onCancelButtonClick,
      "data-l10n-id": "newtab-topsites-cancel-button"
    }), previewMode ? /*#__PURE__*/external_React_default().createElement("button", {
      className: "done preview",
      type: "submit",
      "data-l10n-id": "newtab-topsites-preview-button"
    }) : /*#__PURE__*/external_React_default().createElement("button", {
      className: "done",
      type: "submit",
      "data-l10n-id": showAsAdd ? "newtab-topsites-add-button" : "newtab-topsites-save-button"
    })));
  }
}
TopSiteForm.defaultProps = {
  site: null,
  index: -1
};
;// CONCATENATED MODULE: ./content-src/components/TopSites/TopSites.jsx
function TopSites_extends() { return TopSites_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, TopSites_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */












function topSiteIconType(link) {
  if (link.customScreenshotURL) {
    return "custom_screenshot";
  }
  if (link.tippyTopIcon || link.faviconRef === "tippytop") {
    return "tippytop";
  }
  if (link.faviconSize >= MIN_RICH_FAVICON_SIZE) {
    return "rich_icon";
  }
  if (link.screenshot) {
    return "screenshot";
  }
  return "no_image";
}

/**
 * Iterates through TopSites and counts types of images.
 * @param acc Accumulator for reducer.
 * @param topsite Entry in TopSites.
 */
function countTopSitesIconsTypes(topSites) {
  const countTopSitesTypes = (acc, link) => {
    acc[topSiteIconType(link)]++;
    return acc;
  };
  return topSites.reduce(countTopSitesTypes, {
    custom_screenshot: 0,
    screenshot: 0,
    tippytop: 0,
    rich_icon: 0,
    no_image: 0
  });
}
class _TopSites extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onEditFormClose = this.onEditFormClose.bind(this);
    this.onSearchShortcutsFormClose = this.onSearchShortcutsFormClose.bind(this);
  }

  /**
   * Dispatch session statistics about the quality of TopSites icons and pinned count.
   */
  _dispatchTopSitesStats() {
    const topSites = this._getVisibleTopSites().filter(topSite => topSite !== null && topSite !== undefined);
    const topSitesIconsStats = countTopSitesIconsTypes(topSites);
    const topSitesPinned = topSites.filter(site => !!site.isPinned).length;
    const searchShortcuts = topSites.filter(site => !!site.searchTopSite).length;
    // Dispatch telemetry event with the count of TopSites images types.
    this.props.dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SAVE_SESSION_PERF_DATA,
      data: {
        topsites_icon_stats: topSitesIconsStats,
        topsites_pinned: topSitesPinned,
        topsites_search_shortcuts: searchShortcuts
      }
    }));
  }

  /**
   * Return the TopSites that are visible based on prefs and window width.
   */
  _getVisibleTopSites() {
    // We hide 2 sites per row when not in the wide layout.
    let sitesPerRow = TOP_SITES_MAX_SITES_PER_ROW;
    // $break-point-widest = 1072px (from _variables.scss)
    if (!globalThis.matchMedia(`(min-width: 1072px)`).matches) {
      sitesPerRow -= 2;
    }
    return this.props.TopSites.rows.slice(0, this.props.TopSitesRows * sitesPerRow);
  }
  componentDidUpdate() {
    this._dispatchTopSitesStats();
  }
  componentDidMount() {
    this._dispatchTopSitesStats();
  }
  onEditFormClose() {
    this.props.dispatch(actionCreators.UserEvent({
      source: TOP_SITES_SOURCE,
      event: "TOP_SITES_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: actionTypes.TOP_SITES_CANCEL_EDIT
    });
  }
  onSearchShortcutsFormClose() {
    this.props.dispatch(actionCreators.UserEvent({
      source: TOP_SITES_SOURCE,
      event: "SEARCH_EDIT_CLOSE"
    }));
    this.props.dispatch({
      type: actionTypes.TOP_SITES_CLOSE_SEARCH_SHORTCUTS_MODAL
    });
  }
  render() {
    const {
      props
    } = this;
    const {
      editForm,
      showSearchShortcutsForm
    } = props.TopSites;
    const extraMenuOptions = ["AddTopSite"];
    let visibleTopSites;
    const colors = props.Prefs.values["newNewtabExperience.colors"];

    // do not run this function when for startup cache
    if (!props.App.isForStartupCache.TopSites) {
      visibleTopSites = this._getVisibleTopSites()?.length;
    }
    if (props.Prefs.values["improvesearch.topSiteSearchShortcuts"]) {
      extraMenuOptions.push("AddSearchShortcut");
    }
    return /*#__PURE__*/external_React_default().createElement(ComponentPerfTimer, {
      id: "topsites",
      initialized: props.TopSites.initialized,
      dispatch: props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(CollapsibleSection, {
      className: "top-sites",
      id: "topsites",
      title: props.title || {
        id: "newtab-section-header-topsites"
      },
      hideTitle: true,
      extraMenuOptions: extraMenuOptions,
      showPrefName: "feeds.topsites",
      eventSource: TOP_SITES_SOURCE,
      collapsed: false,
      isFixed: props.isFixed,
      isFirst: props.isFirst,
      isLast: props.isLast,
      dispatch: props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(TopSiteList, {
      TopSites: props.TopSites,
      TopSitesRows: props.TopSitesRows,
      dispatch: props.dispatch,
      topSiteIconType: topSiteIconType,
      colors: colors,
      visibleTopSites: visibleTopSites
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "edit-topsites-wrapper"
    }, editForm && /*#__PURE__*/external_React_default().createElement("div", {
      className: "edit-topsites"
    }, /*#__PURE__*/external_React_default().createElement(ModalOverlayWrapper, {
      unstyled: true,
      onClose: this.onEditFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/external_React_default().createElement(TopSiteForm, TopSites_extends({
      site: props.TopSites.rows[editForm.index],
      onClose: this.onEditFormClose,
      dispatch: this.props.dispatch
    }, editForm)))), showSearchShortcutsForm && /*#__PURE__*/external_React_default().createElement("div", {
      className: "edit-search-shortcuts"
    }, /*#__PURE__*/external_React_default().createElement(ModalOverlayWrapper, {
      unstyled: true,
      onClose: this.onSearchShortcutsFormClose,
      innerClassName: "modal"
    }, /*#__PURE__*/external_React_default().createElement(SearchShortcutsForm, {
      TopSites: props.TopSites,
      onClose: this.onSearchShortcutsFormClose,
      dispatch: this.props.dispatch
    }))))));
  }
}
const TopSites_TopSites = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  TopSites: state.TopSites,
  Prefs: state.Prefs,
  TopSitesRows: state.Prefs.values.topSitesRows
}))(_TopSites);
;// CONCATENATED MODULE: ./content-src/components/Sections/Sections.jsx
function Sections_extends() { return Sections_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Sections_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */










const Sections_VISIBLE = "visible";
const Sections_VISIBILITY_CHANGE_EVENT = "visibilitychange";
const CARDS_PER_ROW_DEFAULT = 3;
const CARDS_PER_ROW_COMPACT_WIDE = 4;
class Section extends (external_React_default()).PureComponent {
  get numRows() {
    const {
      rowsPref,
      maxRows,
      Prefs
    } = this.props;
    return rowsPref ? Prefs.values[rowsPref] : maxRows;
  }
  _dispatchImpressionStats() {
    const {
      props
    } = this;
    let cardsPerRow = CARDS_PER_ROW_DEFAULT;
    if (props.compactCards && globalThis.matchMedia(`(min-width: 1072px)`).matches) {
      // If the section has compact cards and the viewport is wide enough, we show
      // 4 columns instead of 3.
      // $break-point-widest = 1072px (from _variables.scss)
      cardsPerRow = CARDS_PER_ROW_COMPACT_WIDE;
    }
    const maxCards = cardsPerRow * this.numRows;
    const cards = props.rows.slice(0, maxCards);
    if (this.needsImpressionStats(cards)) {
      props.dispatch(actionCreators.ImpressionStats({
        source: props.eventSource,
        tiles: cards.map(link => ({
          id: link.guid
        }))
      }));
      this.impressionCardGuids = cards.map(link => link.guid);
    }
  }

  // This sends an event when a user sees a set of new content. If content
  // changes while the page is hidden (i.e. preloaded or on a hidden tab),
  // only send the event if the page becomes visible again.
  sendImpressionStatsOrAddListener() {
    const {
      props
    } = this;
    if (!props.shouldSendImpressionStats || !props.dispatch) {
      return;
    }
    if (props.document.visibilityState === Sections_VISIBLE) {
      this._dispatchImpressionStats();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }

      // When the page becomes visible, send the impression stats ping if the section isn't collapsed.
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === Sections_VISIBLE) {
          if (!this.props.pref.collapsed) {
            this._dispatchImpressionStats();
          }
          props.document.removeEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  componentWillMount() {
    this.sendNewTabRehydrated(this.props.initialized);
  }
  componentDidMount() {
    if (this.props.rows.length && !this.props.pref.collapsed) {
      this.sendImpressionStatsOrAddListener();
    }
  }
  componentDidUpdate(prevProps) {
    const {
      props
    } = this;
    const isCollapsed = props.pref.collapsed;
    const wasCollapsed = prevProps.pref.collapsed;
    if (
    // Don't send impression stats for the empty state
    props.rows.length && (
    // We only want to send impression stats if the content of the cards has changed
    // and the section is not collapsed...
    props.rows !== prevProps.rows && !isCollapsed ||
    // or if we are expanding a section that was collapsed.
    wasCollapsed && !isCollapsed)) {
      this.sendImpressionStatsOrAddListener();
    }
  }
  componentWillUpdate(nextProps) {
    this.sendNewTabRehydrated(nextProps.initialized);
  }
  componentWillUnmount() {
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(Sections_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  needsImpressionStats(cards) {
    if (!this.impressionCardGuids || this.impressionCardGuids.length !== cards.length) {
      return true;
    }
    for (let i = 0; i < cards.length; i++) {
      if (cards[i].guid !== this.impressionCardGuids[i]) {
        return true;
      }
    }
    return false;
  }

  // The NEW_TAB_REHYDRATED event is used to inform feeds that their
  // data has been consumed e.g. for counting the number of tabs that
  // have rendered that data.
  sendNewTabRehydrated(initialized) {
    if (initialized && !this.renderNotified) {
      this.props.dispatch(actionCreators.AlsoToMain({
        type: actionTypes.NEW_TAB_REHYDRATED,
        data: {}
      }));
      this.renderNotified = true;
    }
  }
  render() {
    const {
      id,
      eventSource,
      title,
      rows,
      emptyState,
      dispatch,
      compactCards,
      read_more_endpoint,
      contextMenuOptions,
      initialized,
      learnMore,
      pref,
      privacyNoticeURL,
      isFirst,
      isLast
    } = this.props;
    const waitingForSpoc = id === "topstories" && this.props.Pocket.waitingForSpoc;
    const maxCardsPerRow = compactCards ? CARDS_PER_ROW_COMPACT_WIDE : CARDS_PER_ROW_DEFAULT;
    const {
      numRows
    } = this;
    const maxCards = maxCardsPerRow * numRows;
    const maxCardsOnNarrow = CARDS_PER_ROW_DEFAULT * numRows;
    const shouldShowReadMore = read_more_endpoint;
    const realRows = rows.slice(0, maxCards);

    // The empty state should only be shown after we have initialized and there is no content.
    // Otherwise, we should show placeholders.
    const shouldShowEmptyState = initialized && !rows.length;
    const cards = [];
    if (!shouldShowEmptyState) {
      for (let i = 0; i < maxCards; i++) {
        const link = realRows[i];
        // On narrow viewports, we only show 3 cards per row. We'll mark the rest as
        // .hide-for-narrow to hide in CSS via @media query.
        const className = i >= maxCardsOnNarrow ? "hide-for-narrow" : "";
        let usePlaceholder = !link;
        // If we are in the third card and waiting for spoc,
        // use the placeholder.
        if (!usePlaceholder && i === 2 && waitingForSpoc) {
          usePlaceholder = true;
        }
        cards.push(!usePlaceholder ? /*#__PURE__*/external_React_default().createElement(Card, {
          key: i,
          index: i,
          className: className,
          dispatch: dispatch,
          link: link,
          contextMenuOptions: contextMenuOptions,
          eventSource: eventSource,
          shouldSendImpressionStats: this.props.shouldSendImpressionStats,
          isWebExtension: this.props.isWebExtension
        }) : /*#__PURE__*/external_React_default().createElement(PlaceholderCard, {
          key: i,
          className: className
        }));
      }
    }
    const sectionClassName = ["section", compactCards ? "compact-cards" : "normal-cards"].join(" ");

    // <Section> <-- React component
    // <section> <-- HTML5 element
    return /*#__PURE__*/external_React_default().createElement(ComponentPerfTimer, this.props, /*#__PURE__*/external_React_default().createElement(CollapsibleSection, {
      className: sectionClassName,
      title: title,
      id: id,
      eventSource: eventSource,
      collapsed: this.props.pref.collapsed,
      showPrefName: pref && pref.feed || id,
      privacyNoticeURL: privacyNoticeURL,
      Prefs: this.props.Prefs,
      isFixed: this.props.isFixed,
      isFirst: isFirst,
      isLast: isLast,
      learnMore: learnMore,
      dispatch: this.props.dispatch,
      isWebExtension: this.props.isWebExtension
    }, !shouldShowEmptyState && /*#__PURE__*/external_React_default().createElement("ul", {
      className: "section-list",
      style: {
        padding: 0
      }
    }, cards), shouldShowEmptyState && /*#__PURE__*/external_React_default().createElement("div", {
      className: "section-empty-state"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "empty-state"
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: emptyState.message
    }, /*#__PURE__*/external_React_default().createElement("p", {
      className: "empty-state-message"
    })))), id === "topstories" && /*#__PURE__*/external_React_default().createElement("div", {
      className: "top-stories-bottom-container"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "wrapper-more-recommendations"
    }, shouldShowReadMore && /*#__PURE__*/external_React_default().createElement(MoreRecommendations, {
      read_more_endpoint: read_more_endpoint
    })))));
  }
}
Section.defaultProps = {
  document: globalThis.document,
  rows: [],
  emptyState: {},
  pref: {},
  title: ""
};
const SectionIntl = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs,
  Pocket: state.Pocket
}))(Section);
class _Sections extends (external_React_default()).PureComponent {
  renderSections() {
    const sections = [];
    const enabledSections = this.props.Sections.filter(section => section.enabled);
    const {
      sectionOrder,
      "feeds.topsites": showTopSites
    } = this.props.Prefs.values;
    // Enabled sections doesn't include Top Sites, so we add it if enabled.
    const expectedCount = enabledSections.length + ~~showTopSites;
    for (const sectionId of sectionOrder.split(",")) {
      const commonProps = {
        key: sectionId,
        isFirst: sections.length === 0,
        isLast: sections.length === expectedCount - 1
      };
      if (sectionId === "topsites" && showTopSites) {
        sections.push(/*#__PURE__*/external_React_default().createElement(TopSites_TopSites, commonProps));
      } else {
        const section = enabledSections.find(s => s.id === sectionId);
        if (section) {
          sections.push(/*#__PURE__*/external_React_default().createElement(SectionIntl, Sections_extends({}, section, commonProps)));
        }
      }
    }
    return sections;
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "sections-list"
    }, this.renderSections());
  }
}
const Sections_Sections = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Sections: state.Sections,
  Prefs: state.Prefs
}))(_Sections);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/Highlights/Highlights.jsx
function Highlights_extends() { return Highlights_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Highlights_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class _Highlights extends (external_React_default()).PureComponent {
  render() {
    const section = this.props.Sections.find(s => s.id === "highlights");
    if (!section || !section.enabled) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-highlights sections-list"
    }, /*#__PURE__*/external_React_default().createElement(SectionIntl, Highlights_extends({}, section, {
      isFixed: true
    })));
  }
}
const Highlights = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Sections: state.Sections
}))(_Highlights);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/HorizontalRule/HorizontalRule.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class HorizontalRule extends (external_React_default()).PureComponent {
  render() {
    return /*#__PURE__*/external_React_default().createElement("hr", {
      className: "ds-hr"
    });
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/Navigation/Navigation.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class Topic extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onLinkClick = this.onLinkClick.bind(this);
  }
  onLinkClick(event) {
    if (this.props.dispatch) {
      this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "CLICK",
        source: "POPULAR_TOPICS",
        action_position: 0,
        value: {
          topic: event.target.text.toLowerCase().replace(` `, `-`)
        }
      }));
    }
  }
  render() {
    const {
      url,
      name: topicName
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      onLinkClick: this.onLinkClick,
      className: this.props.className,
      url: url
    }, topicName);
  }
}
class Navigation extends (external_React_default()).PureComponent {
  render() {
    let links = this.props.links || [];
    const alignment = this.props.alignment || "centered";
    const header = this.props.header || {};
    const english = this.props.locale.startsWith("en-");
    const privacyNotice = this.props.privacyNoticeURL || {};
    const {
      newFooterSection
    } = this.props;
    const className = `ds-navigation ds-navigation-${alignment} ${newFooterSection ? `ds-navigation-new-topics` : ``}`;
    let {
      title
    } = header;
    if (newFooterSection) {
      title = {
        id: "newtab-pocket-new-topics-title"
      };
      if (this.props.extraLinks) {
        links = [...links.slice(0, links.length - 1), ...this.props.extraLinks, links[links.length - 1]];
      }
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: className
    }, title && english ? /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: title
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "ds-navigation-header"
    })) : null, english ? /*#__PURE__*/external_React_default().createElement("ul", null, links && links.map(t => /*#__PURE__*/external_React_default().createElement("li", {
      key: t.name
    }, /*#__PURE__*/external_React_default().createElement(Topic, {
      url: t.url,
      name: t.name,
      dispatch: this.props.dispatch
    })))) : null, !newFooterSection ? /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      className: "ds-navigation-privacy",
      url: privacyNotice.url
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: privacyNotice.title
    })) : null, newFooterSection ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-navigation-family"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon firefox-logo"
    }), /*#__PURE__*/external_React_default().createElement("span", null, "|"), /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon pocket-logo"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "ds-navigation-family-message",
      "data-l10n-id": "newtab-pocket-pocket-firefox-family"
    })) : null);
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/PrivacyLink/PrivacyLink.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




class PrivacyLink extends (external_React_default()).PureComponent {
  render() {
    const {
      properties
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-privacy-link"
    }, /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
      url: properties.url
    }, /*#__PURE__*/external_React_default().createElement(FluentOrText, {
      message: properties.title
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/SectionTitle/SectionTitle.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


class SectionTitle extends (external_React_default()).PureComponent {
  render() {
    const {
      header: {
        title,
        subtitle
      }
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-section-title"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "title"
    }, title), subtitle ? /*#__PURE__*/external_React_default().createElement("div", {
      className: "subtitle"
    }, subtitle) : null);
  }
}
;// CONCATENATED MODULE: ./content-src/lib/selectLayoutRender.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const selectLayoutRender = ({ state = {}, prefs = {} }) => {
  const { layout, feeds, spocs } = state;
  let spocIndexPlacementMap = {};

  /* This function fills spoc positions on a per placement basis with available spocs.
   * It does this by looping through each position for a placement and replacing a rec with a spoc.
   * If it runs out of spocs or positions, it stops.
   * If it sees the same placement again, it remembers the previous spoc index, and continues.
   * If it sees a blocked spoc, it skips that position leaving in a regular story.
   */
  function fillSpocPositionsForPlacement(
    data,
    spocsPositions,
    spocsData,
    placementName
  ) {
    if (
      !spocIndexPlacementMap[placementName] &&
      spocIndexPlacementMap[placementName] !== 0
    ) {
      spocIndexPlacementMap[placementName] = 0;
    }
    const results = [...data];
    for (let position of spocsPositions) {
      const spoc = spocsData[spocIndexPlacementMap[placementName]];
      // If there are no spocs left, we can stop filling positions.
      if (!spoc) {
        break;
      }

      // A placement could be used in two sections.
      // In these cases, we want to maintain the index of the previous section.
      // If we didn't do this, it might duplicate spocs.
      spocIndexPlacementMap[placementName]++;

      // A spoc that's blocked is removed from the source for subsequent newtab loads.
      // If we have a spoc in the source that's blocked, it means it was *just* blocked,
      // and in this case, we skip this position, and show a regular spoc instead.
      if (!spocs.blocked.includes(spoc.url)) {
        results.splice(position.index, 0, spoc);
      }
    }

    return results;
  }

  const positions = {};
  const DS_COMPONENTS = [
    "Message",
    "TextPromo",
    "SectionTitle",
    "Signup",
    "Navigation",
    "Widgets",
    "CardGrid",
    "HorizontalRule",
    "PrivacyLink",
  ];

  const filterArray = [];

  // Filter sections is Topsites are turned off
  if (!prefs["feeds.topsites"]) {
    filterArray.push("TopSites");
  }

  // Filter sections is Widgets are turned off
  // Note extra logic is required bc this feature can be enabled via Nimbus
  const nimbusWidgetsEnabled = prefs.widgetsConfig?.enabled;
  const widgetsEnabled = prefs["widgets.system.enabled"];
  if (!nimbusWidgetsEnabled && !widgetsEnabled) {
    filterArray.push("Widgets");
  }

  // Filter sections is Recommended Stories are turned off
  const pocketEnabled =
    prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
  if (!pocketEnabled) {
    filterArray.push(
      // Bug 1980459 - Do not remove Widgets if DS is disabled
      ...DS_COMPONENTS.filter(component => component !== "Widgets")
    );
  }

  // function to determine amount of tiles shown per section per viewport
  function getMaxTiles(responsiveLayouts) {
    return responsiveLayouts
      .flatMap(responsiveLayout => responsiveLayout)
      .reduce((acc, t) => {
        acc[t.columnCount] = t.tiles.length;

        // Update maxTile if current tile count is greater
        if (!acc.maxTile || t.tiles.length > acc.maxTile) {
          acc.maxTile = t.tiles.length;
        }
        return acc;
      }, {});
  }

  const placeholderComponent = component => {
    if (!component.feed) {
      // TODO we now need a placeholder for topsites and textPromo.
      return {
        ...component,
        data: {
          spocs: [],
        },
      };
    }
    const data = {
      recommendations: [],
      sections: [
        {
          layout: {
            responsiveLayouts: [],
          },
          data: [],
        },
      ],
    };

    let items = 0;
    if (component.properties && component.properties.items) {
      items = component.properties.items;
    }
    for (let i = 0; i < items; i++) {
      data.recommendations.push({ placeholder: true });
    }

    const sectionsEnabled = prefs["discoverystream.sections.enabled"];
    if (sectionsEnabled) {
      for (let i = 0; i < items; i++) {
        data.sections[0].data.push({ placeholder: true });
      }
    }

    return { ...component, data };
  };

  // TODO update devtools to show placements
  const handleSpocs = (data = [], spocsPositions, spocsPlacement) => {
    let result = [...data];
    // Do we ever expect to possibly have a spoc.
    if (spocsPositions?.length) {
      const placement = spocsPlacement || {};
      const placementName = placement.name || "newtab_spocs";
      const spocsData = spocs.data[placementName];

      // We expect a spoc, spocs are loaded, and the server returned spocs.
      if (spocs.loaded && spocsData?.items?.length) {
        // Since banner-type ads are placed by row and don't use the normal spoc position,
        // dont combine with content
        const excludedSpocs = ["billboard", "leaderboard"];
        const filteredSpocs = spocsData?.items?.filter(
          item => !excludedSpocs.includes(item.format)
        );
        result = fillSpocPositionsForPlacement(
          result,
          spocsPositions,
          filteredSpocs,
          placementName
        );
      }
    }
    return result;
  };

  const handleSections = (sections = [], recommendations = []) => {
    let result = sections.sort((a, b) => a.receivedRank - b.receivedRank);

    const sectionsMap = recommendations.reduce((acc, recommendation) => {
      const { section } = recommendation;
      acc[section] = acc[section] || [];
      acc[section].push(recommendation);
      return acc;
    }, {});

    result.forEach(section => {
      const { sectionKey } = section;
      section.data = sectionsMap[sectionKey];
    });

    return result;
  };

  const handleComponent = component => {
    if (component?.spocs?.positions?.length) {
      const placement = component.placement || {};
      const placementName = placement.name || "newtab_spocs";
      const spocsData = spocs.data[placementName];
      if (spocs.loaded && spocsData?.items?.length) {
        return {
          ...component,
          data: {
            spocs: spocsData.items
              .filter(spoc => spoc && !spocs.blocked.includes(spoc.url))
              .map((spoc, index) => ({
                ...spoc,
                pos: index,
              })),
          },
        };
      }
    }
    return {
      ...component,
      data: {
        spocs: [],
      },
    };
  };

  const handleComponentWithFeed = component => {
    positions[component.type] = positions[component.type] || 0;
    let data = {
      recommendations: [],
      sections: [],
    };

    const feed = feeds.data[component.feed.url];
    if (feed?.data) {
      data = {
        ...feed.data,
        recommendations: [...(feed.data.recommendations || [])],
        sections: [...(feed.data.sections || [])],
      };
    }

    if (component && component.properties && component.properties.offset) {
      data = {
        ...data,
        recommendations: data.recommendations.slice(
          component.properties.offset
        ),
      };
    }
    const spocsPositions = component?.spocs?.positions;
    const spocsPlacement = component?.placement;

    const sectionsEnabled = prefs["discoverystream.sections.enabled"];
    data = {
      ...data,
      ...(sectionsEnabled
        ? {
            sections: handleSections(data.sections, data.recommendations).map(
              section => {
                const sectionsSpocsPositions = [];
                section.layout.responsiveLayouts
                  // Initial position for spocs is going to be for the smallest breakpoint.
                  // We can then move it from there via breakpoints.
                  .find(item => item.columnCount === 1)
                  .tiles.forEach(tile => {
                    if (tile.hasAd) {
                      sectionsSpocsPositions.push({ index: tile.position });
                    }
                  });
                return {
                  ...section,
                  data: handleSpocs(
                    section.data,
                    sectionsSpocsPositions,
                    spocsPlacement
                  ),
                };
              }
            ),
            // We don't fill spocs in recs if sections are enabled,
            // because recs are not going to be seen.
            recommendations: data.recommendations,
          }
        : {
            recommendations: handleSpocs(
              data.recommendations,
              spocsPositions,
              spocsPlacement
            ),
          }),
    };

    let items = 0;
    if (component.properties && component.properties.items) {
      items = Math.min(component.properties.items, data.recommendations.length);
    }

    // loop through a component items
    // Store the items position sequentially for multiple components of the same type.
    // Example: A second card grid starts pos offset from the last card grid.
    for (let i = 0; i < items; i++) {
      data.recommendations[i] = {
        ...data.recommendations[i],
        pos: positions[component.type]++,
      };
    }

    // Setup absolute positions for sections layout.
    if (sectionsEnabled) {
      let currentPosition = 0;
      data.sections.forEach(section => {
        // We assume the count for the breakpoint with the most tiles.
        const { maxTile } = getMaxTiles(section?.layout?.responsiveLayouts);
        for (let i = 0; i < maxTile; i++) {
          if (section.data[i]) {
            section.data[i] = {
              ...section.data[i],
              pos: currentPosition++,
            };
          }
        }
      });
    }

    return { ...component, data };
  };

  const renderLayout = () => {
    const renderedLayoutArray = [];
    for (const row of layout.filter(
      r => r.components.filter(c => !filterArray.includes(c.type)).length
    )) {
      let components = [];
      renderedLayoutArray.push({
        ...row,
        components,
      });
      for (const component of row.components.filter(
        c => !filterArray.includes(c.type)
      )) {
        const spocsConfig = component.spocs;
        if (spocsConfig || component.feed) {
          if (
            (component.feed && !feeds.data[component.feed.url]) ||
            (spocsConfig &&
              spocsConfig.positions &&
              spocsConfig.positions.length &&
              !spocs.loaded)
          ) {
            components.push(placeholderComponent(component));
          } else if (component.feed) {
            components.push(handleComponentWithFeed(component));
          } else {
            components.push(handleComponent(component));
          }
        } else {
          components.push(component);
        }
      }
    }
    return renderedLayoutArray;
  };

  const layoutRender = renderLayout();

  return { layoutRender };
};

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/SectionContextMenu/SectionContextMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */




/**
 * A context menu for blocking, following and unfollowing sections.
 *
 * @param props
 * @returns {React.FunctionComponent}
 */
function SectionContextMenu({
  type = "DISCOVERY_STREAM",
  title,
  source,
  index,
  dispatch,
  sectionKey,
  following,
  sectionPersonalization,
  sectionPosition
}) {
  // Initial context menu options: block this section only.
  const SECTIONS_CONTEXT_MENU_OPTIONS = ["SectionBlock"];
  const [showContextMenu, setShowContextMenu] = (0,external_React_namespaceObject.useState)(false);
  if (following) {
    SECTIONS_CONTEXT_MENU_OPTIONS.push("SectionUnfollow");
  }
  const onClick = e => {
    e.preventDefault();
    setShowContextMenu(!showContextMenu);
  };
  const onUpdate = () => {
    setShowContextMenu(!showContextMenu);
  };
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-context-menu"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon",
    size: "default",
    iconsrc: "chrome://global/skin/icons/more.svg",
    title: title || source,
    onClick: onClick
  }), showContextMenu && /*#__PURE__*/external_React_default().createElement(LinkMenu, {
    onUpdate: onUpdate,
    dispatch: dispatch,
    index: index,
    source: type.toUpperCase(),
    options: SECTIONS_CONTEXT_MENU_OPTIONS,
    shouldSendImpressionStats: true,
    site: {
      sectionPersonalization,
      sectionKey,
      sectionPosition,
      title
    }
  }));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/InterestPicker/InterestPicker.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const PREF_VISIBLE_SECTIONS = "discoverystream.sections.interestPicker.visibleSections";

/**
 * Shows a list of recommended topics with visual indication whether
 * the user follows some of the topics (active, blue, selected topics)
 * or is yet to do so (neutrally-coloured topics with a "plus" button).
 *
 * @returns {React.Element}
 */
function InterestPicker({
  title,
  subtitle,
  interests,
  receivedFeedRank
}) {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const focusedRef = (0,external_React_namespaceObject.useRef)(null);
  const focusRef = (0,external_React_namespaceObject.useRef)(null);
  const [focusedIndex, setFocusedIndex] = (0,external_React_namespaceObject.useState)(0);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const visibleSections = prefs[PREF_VISIBLE_SECTIONS]?.split(",").map(item => item.trim()).filter(item => item);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.INLINE_SELECTION_IMPRESSION,
      data: {
        section_position: receivedFeedRank
      }
    }));
  }, [dispatch, receivedFeedRank]);
  const ref = useIntersectionObserver(handleIntersection);
  const onKeyDown = (0,external_React_namespaceObject.useCallback)(e => {
    if (e.key === "ArrowDown" || e.key === "ArrowUp") {
      // prevent the page from scrolling up/down while navigating.
      e.preventDefault();
    }
    if (focusedRef.current?.nextSibling?.querySelector("input") && e.key === "ArrowDown") {
      focusedRef.current.nextSibling.querySelector("input").tabIndex = 0;
      focusedRef.current.nextSibling.querySelector("input").focus();
    }
    if (focusedRef.current?.previousSibling?.querySelector("input") && e.key === "ArrowUp") {
      focusedRef.current.previousSibling.querySelector("input").tabIndex = 0;
      focusedRef.current.previousSibling.querySelector("input").focus();
    }
  }, []);
  function onWrapperFocus() {
    focusRef.current?.addEventListener("keydown", onKeyDown);
  }
  function onWrapperBlur() {
    focusRef.current?.removeEventListener("keydown", onKeyDown);
  }
  function onItemFocus(index) {
    setFocusedIndex(index);
  }

  // Updates user preferences as they follow or unfollow topics
  // by selecting them from the list
  function handleChange(e, index) {
    const {
      name: topic,
      checked
    } = e.target;
    let updatedSections = {
      ...sectionPersonalization
    };
    if (checked) {
      updatedSections[topic] = {
        isFollowed: true,
        isBlocked: false,
        followedAt: new Date().toISOString()
      };
      if (!visibleSections.includes(topic)) {
        // add section to visible sections and place after the inline picker
        // subtract 1 from the rank so that it is normalized with array index
        visibleSections.splice(receivedFeedRank - 1, 0, topic);
        dispatch(actionCreators.SetPref(PREF_VISIBLE_SECTIONS, visibleSections.join(", ")));
      }
    } else {
      delete updatedSections[topic];
    }
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.INLINE_SELECTION_CLICK,
      data: {
        topic,
        is_followed: checked,
        topic_position: index,
        section_position: receivedFeedRank
      }
    }));
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSections
    }));
  }
  return /*#__PURE__*/external_React_default().createElement("section", {
    className: "inline-selection-wrapper ds-section",
    ref: el => {
      ref.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-heading"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-title-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("h2", {
    className: "section-title"
  }, title), /*#__PURE__*/external_React_default().createElement("p", {
    className: "section-subtitle"
  }, subtitle))), /*#__PURE__*/external_React_default().createElement("ul", {
    className: "topic-list",
    onFocus: onWrapperFocus,
    onBlur: onWrapperBlur,
    ref: focusRef
  }, interests.map((interest, index) => {
    const checked = sectionPersonalization[interest.sectionId]?.isFollowed;
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: interest.sectionId,
      ref: index === focusedIndex ? focusedRef : null
    }, /*#__PURE__*/external_React_default().createElement("label", null, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      id: interest.sectionId,
      name: interest.sectionId,
      checked: checked,
      "aria-checked": checked,
      onChange: e => handleChange(e, index),
      key: `${interest.sectionId}-${checked}` // Force remount to sync DOM state with React state
      ,
      tabIndex: index === focusedIndex ? 0 : -1,
      onFocus: () => {
        onItemFocus(index);
      }
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-item-label"
    }, interest.title || ""), /*#__PURE__*/external_React_default().createElement("div", {
      className: `topic-item-icon icon ${checked ? "icon-check-filled" : "icon-add-circle-fill"}`
    })));
  })), /*#__PURE__*/external_React_default().createElement("p", {
    className: "learn-more-copy"
  }, /*#__PURE__*/external_React_default().createElement("a", {
    href: prefs["support.url"],
    "data-l10n-id": "newtab-topic-selection-privacy-link"
  })));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/PersonalizedCard/PersonalizedCard.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




const PersonalizedCard = ({
  dispatch,
  handleDismiss,
  handleClick,
  handleBlock,
  messageData
}) => {
  const wavingFox = "chrome://newtab/content/data/content/assets/waving-fox.svg";
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  const onToggleClick = (0,external_React_namespaceObject.useCallback)(elementId => {
    dispatch({
      type: actionTypes.SHOW_PERSONALIZE
    });
    dispatch(actionCreators.UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
    handleClick(elementId);
  }, [dispatch, handleClick]);
  return /*#__PURE__*/external_React_default().createElement("aside", {
    className: "personalized-card-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "personalized-card-dismiss"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    iconSrc: "chrome://global/skin/icons/close.svg",
    onClick: onDismiss,
    "data-l10n-id": "newtab-toast-dismiss-button"
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "personalized-card-inner"
  }, /*#__PURE__*/external_React_default().createElement("img", {
    src: wavingFox,
    alt: ""
  }), /*#__PURE__*/external_React_default().createElement("h2", null, messageData.content.cardTitle), /*#__PURE__*/external_React_default().createElement("p", null, messageData.content.cardMessage), /*#__PURE__*/external_React_default().createElement("div", {
    className: "personalized-card-cta-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "primary",
    class: "personalized-card-cta",
    onClick: () => onToggleClick("open-personalization-panel")
  }, messageData.content.ctaText), /*#__PURE__*/external_React_default().createElement(SafeAnchor, {
    className: "personalized-card-link",
    dispatch: dispatch,
    url: messageData.content.linkUrl || "https://support.mozilla.org/",
    onLinkClick: () => {
      handleClick("link-click");
    }
  }, messageData.content.linkText))));
};
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/FollowSectionButtonHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */



function FollowSectionButtonHighlight({
  arrowPosition,
  position,
  verticalPosition,
  dispatch,
  handleDismiss,
  handleBlock,
  feature
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "follow-section-button-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    arrowPosition: arrowPosition,
    verticalPosition: verticalPosition,
    feature: feature,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "follow-section-button-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: "chrome://browser/content/asrouter/assets/smiling-fox-icon.svg",
      width: "24",
      height: "24",
      alt: ""
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "follow-section-button-highlight-copy"
    }, /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": "newtab-section-follow-highlight-title"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": "newtab-section-follow-highlight-subtitle"
    }))),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/Weather/LocationSearch.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




function LocationSearch({
  outerClassName
}) {
  // should be the location object from suggestedLocations
  const [selectedLocation, setSelectedLocation] = (0,external_React_namespaceObject.useState)("");
  const suggestedLocations = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Weather.suggestedLocations);
  const locationSearchString = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Weather.locationSearchString);
  const [userInput, setUserInput] = (0,external_React_namespaceObject.useState)(locationSearchString || "");
  const inputRef = (0,external_React_namespaceObject.useRef)(null);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  (0,external_React_namespaceObject.useEffect)(() => {
    if (selectedLocation) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WEATHER_LOCATION_DATA_UPDATE,
        data: {
          city: selectedLocation.localized_name,
          adminName: selectedLocation.administrative_area,
          country: selectedLocation.country
        }
      }));
      dispatch(actionCreators.SetPref("weather.query", selectedLocation.key));
      dispatch(actionCreators.BroadcastToContent({
        type: actionTypes.WEATHER_SEARCH_ACTIVE,
        data: false
      }));
    }
  }, [selectedLocation, dispatch]);

  // when component mounts, set focus to input
  (0,external_React_namespaceObject.useEffect)(() => {
    inputRef?.current?.focus();
  }, [inputRef]);
  function handleChange(event) {
    const {
      value
    } = event.target;
    setUserInput(value);
    // if the user input contains less than three characters and suggestedLocations is not an empty array,
    // reset suggestedLocations to [] so there arent incorrect items in the datalist
    if (value.length < 3 && suggestedLocations.length) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WEATHER_LOCATION_SUGGESTIONS_UPDATE,
        data: []
      }));
    }
    // find match in suggestedLocation array
    const match = suggestedLocations?.find(({
      key
    }) => key === value);
    if (match) {
      setSelectedLocation(match);
      setUserInput(`${match.localized_name}, ${match.administrative_area.localized_name}`);
    } else if (value.length >= 3 && !match) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WEATHER_LOCATION_SEARCH_UPDATE,
        data: value
      }));
    }
  }
  function handleCloseSearch() {
    dispatch(actionCreators.BroadcastToContent({
      type: actionTypes.WEATHER_SEARCH_ACTIVE,
      data: false
    }));
    setUserInput("");
  }
  function handleKeyDown(e) {
    if (e.key === "Escape") {
      handleCloseSearch();
    }
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: `${outerClassName} location-search`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "location-input-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "search-icon"
  }), /*#__PURE__*/external_React_default().createElement("input", {
    ref: inputRef,
    list: "merino-location-list",
    type: "text",
    "data-l10n-id": "newtab-weather-change-location-search-input-placeholder",
    onChange: handleChange,
    value: userInput,
    onKeyDown: handleKeyDown
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    class: "close-icon",
    type: "icon ghost",
    size: "small",
    iconSrc: "chrome://global/skin/icons/close.svg",
    onClick: handleCloseSearch
  }), /*#__PURE__*/external_React_default().createElement("datalist", {
    id: "merino-location-list"
  }, (suggestedLocations || []).map(merinoLcation => /*#__PURE__*/external_React_default().createElement("option", {
    value: merinoLcation.key,
    key: merinoLcation.key
  }, merinoLcation.localized_name, ",", " ", merinoLcation.administrative_area.localized_name)))));
}

;// CONCATENATED MODULE: ./content-src/components/Weather/Weather.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */







const Weather_VISIBLE = "visible";
const Weather_VISIBILITY_CHANGE_EVENT = "visibilitychange";
function WeatherPlaceholder() {
  const [isSeen, setIsSeen] = (0,external_React_namespaceObject.useState)(false);

  // We are setting up a visibility and intersection event
  // so animations don't happen with headless automation.
  // The animations causes tests to fail beause they never stop,
  // and many tests wait until everything has stopped before passing.
  const ref = useIntersectionObserver(() => setIsSeen(true), 1);
  const isSeenClassName = isSeen ? `placeholder-seen` : ``;
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: `weather weather-placeholder ${isSeenClassName}`,
    ref: el => {
      ref.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-image placeholder-fill"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-context"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-header placeholder-fill"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "placeholder-description placeholder-fill"
  })));
}
class _Weather extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      contextMenuKeyboard: false,
      showContextMenu: false,
      url: "https://example.com",
      impressionSeen: false,
      errorSeen: false
    };
    this.setImpressionRef = element => {
      this.impressionElement = element;
    };
    this.setErrorRef = element => {
      this.errorElement = element;
    };
    this.onClick = this.onClick.bind(this);
    this.onKeyDown = this.onKeyDown.bind(this);
    this.onUpdate = this.onUpdate.bind(this);
    this.onProviderClick = this.onProviderClick.bind(this);
  }
  componentDidMount() {
    const {
      props
    } = this;
    if (!props.dispatch) {
      return;
    }
    if (props.document.visibilityState === Weather_VISIBLE) {
      // Setup the impression observer once the page is visible.
      this.setImpressionObservers();
    } else {
      // We should only ever send the latest impression stats ping, so remove any
      // older listeners.
      if (this._onVisibilityChange) {
        props.document.removeEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
      }
      this._onVisibilityChange = () => {
        if (props.document.visibilityState === Weather_VISIBLE) {
          // Setup the impression observer once the page is visible.
          this.setImpressionObservers();
          props.document.removeEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
        }
      };
      props.document.addEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  componentWillUnmount() {
    // Remove observers on unmount
    if (this.observer && this.impressionElement) {
      this.observer.unobserve(this.impressionElement);
    }
    if (this.observer && this.errorElement) {
      this.observer.unobserve(this.errorElement);
    }
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(Weather_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  setImpressionObservers() {
    if (this.impressionElement) {
      this.observer = new IntersectionObserver(this.onImpression.bind(this));
      this.observer.observe(this.impressionElement);
    }
    if (this.errorElement) {
      this.observer = new IntersectionObserver(this.onError.bind(this));
      this.observer.observe(this.errorElement);
    }
  }
  onImpression(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);
      if (entry) {
        if (this.impressionElement) {
          this.observer.unobserve(this.impressionElement);
        }
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WEATHER_IMPRESSION
        }));

        // Stop observing since element has been seen
        this.setState({
          impressionSeen: true
        });
      }
    }
  }
  onError(entries) {
    if (this.state) {
      const entry = entries.find(e => e.isIntersecting);
      if (entry) {
        if (this.errorElement) {
          this.observer.unobserve(this.errorElement);
        }
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WEATHER_LOAD_ERROR
        }));

        // Stop observing since element has been seen
        this.setState({
          errorSeen: true
        });
      }
    }
  }
  openContextMenu(isKeyBoard) {
    if (this.props.onUpdate) {
      this.props.onUpdate(true);
    }
    this.setState({
      showContextMenu: true,
      contextMenuKeyboard: isKeyBoard
    });
  }
  onClick(event) {
    event.preventDefault();
    this.openContextMenu(false, event);
  }
  onKeyDown(event) {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      this.openContextMenu(true, event);
    }
  }
  onUpdate(showContextMenu) {
    if (this.props.onUpdate) {
      this.props.onUpdate(showContextMenu);
    }
    this.setState({
      showContextMenu
    });
  }
  onProviderClick() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.WEATHER_OPEN_PROVIDER_URL,
      data: {
        source: "WEATHER"
      }
    }));
  }
  render() {
    // Check if weather should be rendered
    const isWeatherEnabled = this.props.Prefs.values["system.showWeather"];
    if (!isWeatherEnabled) {
      return false;
    }
    if (this.props.App.isForStartupCache.Weather || !this.props.Weather.initialized) {
      return /*#__PURE__*/external_React_default().createElement(WeatherPlaceholder, null);
    }
    const {
      showContextMenu
    } = this.state;
    const {
      props
    } = this;
    const {
      dispatch,
      Prefs,
      Weather
    } = props;
    const WEATHER_SUGGESTION = Weather.suggestions?.[0];
    const outerClassName = ["weather", Weather.searchActive && "search", props.isInSection && "section-weather"].filter(v => v).join(" ");
    const showDetailedView = Prefs.values["weather.display"] === "detailed";

    // Note: The temperature units/display options will become secondary menu items
    const WEATHER_SOURCE_CONTEXT_MENU_OPTIONS = [...(Prefs.values["weather.locationSearchEnabled"] ? ["ChangeWeatherLocation"] : []), ...(Prefs.values["weather.temperatureUnits"] === "f" ? ["ChangeTempUnitCelsius"] : ["ChangeTempUnitFahrenheit"]), ...(Prefs.values["weather.display"] === "simple" ? ["ChangeWeatherDisplayDetailed"] : ["ChangeWeatherDisplaySimple"]), "HideWeather", "OpenLearnMoreURL"];
    const WEATHER_SOURCE_ERROR_CONTEXT_MENU_OPTIONS = [...(Prefs.values["weather.locationSearchEnabled"] ? ["ChangeWeatherLocation"] : []), "HideWeather", "OpenLearnMoreURL"];
    const contextMenu = contextOpts => /*#__PURE__*/external_React_default().createElement("div", {
      className: "weatherButtonContextMenuWrapper"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      "aria-haspopup": "true",
      onKeyDown: this.onKeyDown,
      onClick: this.onClick,
      "data-l10n-id": "newtab-menu-section-tooltip",
      className: "weatherButtonContextMenu"
    }, showContextMenu ? /*#__PURE__*/external_React_default().createElement(LinkMenu, {
      dispatch: dispatch,
      index: 0,
      source: "WEATHER",
      onUpdate: this.onUpdate,
      options: contextOpts,
      site: {
        url: "https://support.mozilla.org/kb/customize-items-on-firefox-new-tab-page"
      },
      link: "https://support.mozilla.org/kb/customize-items-on-firefox-new-tab-page",
      shouldSendImpressionStats: false
    }) : null));
    if (Weather.searchActive) {
      return /*#__PURE__*/external_React_default().createElement(LocationSearch, {
        outerClassName: outerClassName
      });
    } else if (WEATHER_SUGGESTION) {
      return /*#__PURE__*/external_React_default().createElement("div", {
        ref: this.setImpressionRef,
        className: outerClassName
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherCard"
      }, /*#__PURE__*/external_React_default().createElement("a", {
        "data-l10n-id": "newtab-weather-see-forecast",
        "data-l10n-args": "{\"provider\": \"AccuWeather\xAE\"}",
        href: WEATHER_SUGGESTION.forecast.url,
        className: "weatherInfoLink",
        onClick: this.onProviderClick
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherIconCol"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        className: `weatherIcon iconId${WEATHER_SUGGESTION.current_conditions.icon_id}`
      })), /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherText"
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherForecastRow"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherTemperature"
      }, WEATHER_SUGGESTION.current_conditions.temperature[Prefs.values["weather.temperatureUnits"]], "\xB0", Prefs.values["weather.temperatureUnits"])), /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherCityRow"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherCity"
      }, Weather.locationData.city)), showDetailedView ? /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherDetailedSummaryRow"
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "weatherHighLowTemps"
      }, /*#__PURE__*/external_React_default().createElement("span", null, WEATHER_SUGGESTION.forecast.high[Prefs.values["weather.temperatureUnits"]], "\xB0", Prefs.values["weather.temperatureUnits"]), /*#__PURE__*/external_React_default().createElement("span", null, "\u2022"), /*#__PURE__*/external_React_default().createElement("span", null, WEATHER_SUGGESTION.forecast.low[Prefs.values["weather.temperatureUnits"]], "\xB0", Prefs.values["weather.temperatureUnits"])), /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherTextSummary"
      }, WEATHER_SUGGESTION.current_conditions.summary)) : null)), contextMenu(WEATHER_SOURCE_CONTEXT_MENU_OPTIONS)), /*#__PURE__*/external_React_default().createElement("span", {
        className: "weatherSponsorText"
      }, /*#__PURE__*/external_React_default().createElement("span", {
        "data-l10n-id": "newtab-weather-sponsored",
        "data-l10n-args": "{\"provider\": \"AccuWeather\xAE\"}"
      })));
    }
    return /*#__PURE__*/external_React_default().createElement("div", {
      ref: this.setErrorRef,
      className: outerClassName
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "weatherNotAvailable"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-info-warning"
    }), " ", /*#__PURE__*/external_React_default().createElement("p", {
      "data-l10n-id": "newtab-weather-error-not-available"
    }), contextMenu(WEATHER_SOURCE_ERROR_CONTEXT_MENU_OPTIONS)));
  }
}
const Weather_Weather = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  Weather: state.Weather,
  Prefs: state.Prefs,
  IntersectionObserver: globalThis.IntersectionObserver,
  document: globalThis.document
}))(_Weather);
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/CardSections/CardSections.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */
















// Prefs
const CardSections_PREF_SECTIONS_CARDS_ENABLED = "discoverystream.sections.cards.enabled";
const PREF_SECTIONS_CARDS_THUMBS_UP_DOWN_ENABLED = "discoverystream.sections.cards.thumbsUpDown.enabled";
const PREF_SECTIONS_PERSONALIZATION_ENABLED = "discoverystream.sections.personalization.enabled";
const CardSections_PREF_TOPICS_ENABLED = "discoverystream.topicLabels.enabled";
const CardSections_PREF_TOPICS_SELECTED = "discoverystream.topicSelection.selectedTopics";
const CardSections_PREF_TOPICS_AVAILABLE = "discoverystream.topicSelection.topics";
const CardSections_PREF_THUMBS_UP_DOWN_ENABLED = "discoverystream.thumbsUpDown.enabled";
const PREF_INTEREST_PICKER_ENABLED = "discoverystream.sections.interestPicker.enabled";
const CardSections_PREF_VISIBLE_SECTIONS = "discoverystream.sections.interestPicker.visibleSections";
const CardSections_PREF_BILLBOARD_ENABLED = "newtabAdSize.billboard";
const CardSections_PREF_BILLBOARD_POSITION = "newtabAdSize.billboard.position";
const CardSections_PREF_LEADERBOARD_ENABLED = "newtabAdSize.leaderboard";
const CardSections_PREF_LEADERBOARD_POSITION = "newtabAdSize.leaderboard.position";
const PREF_REFINED_CARDS_ENABLED = "discoverystream.refinedCardsLayout.enabled";
const PREF_INFERRED_PERSONALIZATION_USER = "discoverystream.sections.personalization.inferred.user.enabled";
const CardSections_PREF_TRENDING_SEARCH = "trendingSearch.enabled";
const CardSections_PREF_TRENDING_SEARCH_SYSTEM = "system.trendingSearch.enabled";
const CardSections_PREF_SEARCH_ENGINE = "trendingSearch.defaultSearchEngine";
const CardSections_PREF_TRENDING_SEARCH_VARIANT = "trendingSearch.variant";
const CardSections_PREF_DAILY_BRIEF_SECTIONID = "discoverystream.dailyBrief.sectionId";
function getLayoutData(responsiveLayouts, index, refinedCardsLayout, sectionKey) {
  let layoutData = {
    classNames: [],
    imageSizes: {}
  };
  responsiveLayouts.forEach(layout => {
    layout.tiles.forEach((tile, tileIndex) => {
      if (tile.position === index) {
        // When trending searches should be placed in the `top_stories_section`,
        // we update the layout so that the first item is always a medium card to make
        // room for the trending search widget
        if (sectionKey === "top_stories_section" && tileIndex === 0) {
          layoutData.classNames.push(`col-${layout.columnCount}-medium`);
          layoutData.classNames.push(`col-${layout.columnCount}-position-${tileIndex}`);
          layoutData.imageSizes[layout.columnCount] = "medium";
          layoutData.classNames.push(`col-${layout.columnCount}-hide-excerpt`);
        } else {
          layoutData.classNames.push(`col-${layout.columnCount}-${tile.size}`);
          layoutData.classNames.push(`col-${layout.columnCount}-position-${tileIndex}`);
          layoutData.imageSizes[layout.columnCount] = tile.size;
        }

        // The API tells us whether the tile should show the excerpt or not.
        // Apply extra styles accordingly.
        if (tile.hasExcerpt) {
          if (tile.size === "medium" && refinedCardsLayout) {
            layoutData.classNames.push(`col-${layout.columnCount}-hide-excerpt`);
          } else {
            layoutData.classNames.push(`col-${layout.columnCount}-show-excerpt`);
          }
        } else {
          layoutData.classNames.push(`col-${layout.columnCount}-hide-excerpt`);
        }
      }
    });
  });
  return layoutData;
}

// function to determine amount of tiles shown per section per viewport
function getMaxTiles(responsiveLayouts) {
  return responsiveLayouts.flatMap(responsiveLayout => responsiveLayout).reduce((acc, t) => {
    acc[t.columnCount] = t.tiles.length;

    // Update maxTile if current tile count is greater
    if (!acc.maxTile || t.tiles.length > acc.maxTile) {
      acc.maxTile = t.tiles.length;
    }
    return acc;
  }, {});
}

/**
 * Transforms a comma-separated string in user preferences
 * into a cleaned-up array.
 *
 * @param {string} pref - The comma-separated pref to be converted.
 * @returns {string[]} An array of trimmed strings, excluding empty values.
 */

const prefToArray = (pref = "") => {
  return pref.split(",").map(item => item.trim()).filter(item => item);
};
function shouldShowOMCHighlight(messageData, componentId) {
  if (!messageData || Object.keys(messageData).length === 0) {
    return false;
  }
  return messageData?.content?.messageType === componentId;
}
function CardSection({
  sectionPosition,
  section,
  dispatch,
  type,
  firstVisibleTimestamp,
  ctaButtonVariant,
  ctaButtonSponsors,
  anySectionsFollowed,
  showWeather
}) {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const {
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const showTopics = prefs[CardSections_PREF_TOPICS_ENABLED];
  const mayHaveSectionsCards = prefs[CardSections_PREF_SECTIONS_CARDS_ENABLED];
  const mayHaveSectionsCardsThumbsUpDown = prefs[PREF_SECTIONS_CARDS_THUMBS_UP_DOWN_ENABLED];
  const mayHaveThumbsUpDown = prefs[CardSections_PREF_THUMBS_UP_DOWN_ENABLED];
  const selectedTopics = prefs[CardSections_PREF_TOPICS_SELECTED];
  const availableTopics = prefs[CardSections_PREF_TOPICS_AVAILABLE];
  const refinedCardsLayout = prefs[PREF_REFINED_CARDS_ENABLED];
  const trendingEnabled = prefs[CardSections_PREF_TRENDING_SEARCH] && prefs[CardSections_PREF_TRENDING_SEARCH_SYSTEM] && prefs[CardSections_PREF_SEARCH_ENGINE]?.toLowerCase() === "google";
  const trendingVariant = prefs[CardSections_PREF_TRENDING_SEARCH_VARIANT];
  const shouldShowTrendingSearch = trendingEnabled && trendingVariant === "b";
  const mayHaveSectionsPersonalization = prefs[PREF_SECTIONS_PERSONALIZATION_ENABLED];
  const {
    sectionKey,
    title,
    subtitle
  } = section;
  const {
    responsiveLayouts,
    name: layoutName
  } = section.layout;
  const following = sectionPersonalization[sectionKey]?.isFollowed;
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.CARD_SECTION_IMPRESSION,
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        is_section_followed: following,
        layout_name: layoutName
      }
    }));
  }, [dispatch, sectionKey, sectionPosition, following, layoutName]);

  // Ref to hold the section element
  const sectionRefs = useIntersectionObserver(handleIntersection);

  // Only show thumbs up/down buttons if both default thumbs and sections thumbs prefs are enabled
  const mayHaveCombinedThumbsUpDown = mayHaveSectionsCardsThumbsUpDown && mayHaveThumbsUpDown;
  const onFollowClick = (0,external_React_namespaceObject.useCallback)(() => {
    const updatedSectionData = {
      ...sectionPersonalization,
      [sectionKey]: {
        isFollowed: true,
        isBlocked: false,
        followedAt: new Date().toISOString()
      }
    };
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "FOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        event_source: "MOZ_BUTTON"
      }
    }));
  }, [dispatch, sectionPersonalization, sectionKey, sectionPosition]);
  const onUnfollowClick = (0,external_React_namespaceObject.useCallback)(() => {
    const updatedSectionData = {
      ...sectionPersonalization
    };
    delete updatedSectionData[sectionKey];
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));

    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "UNFOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: sectionPosition,
        event_source: "MOZ_BUTTON"
      }
    }));
  }, [dispatch, sectionPersonalization, sectionKey, sectionPosition]);
  const {
    maxTile
  } = getMaxTiles(responsiveLayouts);
  const displaySections = section.data.slice(0, maxTile);
  const isSectionEmpty = !displaySections?.length;
  const shouldShowLabels = sectionKey === "top_stories_section" && showTopics;
  if (isSectionEmpty) {
    return null;
  }
  const sectionContextWrapper = /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-context-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: following ? "section-follow following" : "section-follow"
  }, !anySectionsFollowed && sectionPosition === 1 && shouldShowOMCHighlight(messageData, "FollowSectionButtonHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
    dispatch: dispatch
  }, /*#__PURE__*/external_React_default().createElement(FollowSectionButtonHighlight, {
    verticalPosition: "inset-block-center",
    position: "arrow-inline-start",
    dispatch: dispatch,
    feature: "FEATURE_FOLLOW_SECTION_BUTTON"
  })), !anySectionsFollowed && sectionPosition === 1 && shouldShowOMCHighlight(messageData, "FollowSectionButtonAltHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
    dispatch: dispatch
  }, /*#__PURE__*/external_React_default().createElement(FollowSectionButtonHighlight, {
    verticalPosition: "inset-block-center",
    position: "arrow-inline-start",
    dispatch: dispatch,
    feature: "FEATURE_ALT_FOLLOW_SECTION_BUTTON"
  })), /*#__PURE__*/external_React_default().createElement("moz-button", {
    onClick: following ? onUnfollowClick : onFollowClick,
    type: "default",
    index: sectionPosition,
    section: sectionKey
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: "section-button-follow-text",
    "data-l10n-id": "newtab-section-follow-button"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "section-button-following-text",
    "data-l10n-id": "newtab-section-following-button"
  }), /*#__PURE__*/external_React_default().createElement("span", {
    className: "section-button-unfollow-text",
    "data-l10n-id": "newtab-section-unfollow-button"
  }))), /*#__PURE__*/external_React_default().createElement(SectionContextMenu, {
    dispatch: dispatch,
    index: sectionPosition,
    following: following,
    sectionPersonalization: sectionPersonalization,
    sectionKey: sectionKey,
    title: title,
    type: type,
    sectionPosition: sectionPosition
  }));
  return /*#__PURE__*/external_React_default().createElement("section", {
    className: "ds-section",
    ref: el => {
      sectionRefs.current[0] = el;
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-heading"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-heading-inline-start"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "section-title-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("h2", {
    className: "section-title"
  }, title), subtitle && /*#__PURE__*/external_React_default().createElement("p", {
    className: "section-subtitle"
  }, subtitle)), showWeather && /*#__PURE__*/external_React_default().createElement(Weather_Weather, {
    isInSection: true
  })), mayHaveSectionsPersonalization ? sectionContextWrapper : null), /*#__PURE__*/external_React_default().createElement("div", {
    className: `ds-section-grid ds-card-grid`
  }, section.data.slice(0, maxTile).map((rec, index) => {
    const layoutData = getLayoutData(responsiveLayouts, index, refinedCardsLayout, shouldShowTrendingSearch && sectionKey);
    const {
      classNames,
      imageSizes
    } = layoutData;
    if (!rec || rec.placeholder) {
      return /*#__PURE__*/external_React_default().createElement(PlaceholderDSCard, {
        key: `dscard-${index}`
      });
    }
    const card = /*#__PURE__*/external_React_default().createElement(DSCard, {
      key: `dscard-${rec.id}`,
      pos: rec.pos,
      flightId: rec.flight_id,
      image_src: rec.image_src,
      raw_image_src: rec.raw_image_src,
      icon_src: rec.icon_src,
      word_count: rec.word_count,
      time_to_read: rec.time_to_read,
      title: rec.title,
      topic: rec.topic,
      features: rec.features,
      excerpt: rec.excerpt,
      url: rec.url,
      id: rec.id,
      shim: rec.shim,
      fetchTimestamp: rec.fetchTimestamp,
      type: type,
      context: rec.context,
      sponsor: rec.sponsor,
      sponsored_by_override: rec.sponsored_by_override,
      dispatch: dispatch,
      source: rec.domain,
      publisher: rec.publisher,
      pocket_id: rec.pocket_id,
      context_type: rec.context_type,
      bookmarkGuid: rec.bookmarkGuid,
      recommendation_id: rec.recommendation_id,
      firstVisibleTimestamp: firstVisibleTimestamp,
      corpus_item_id: rec.corpus_item_id,
      scheduled_corpus_item_id: rec.scheduled_corpus_item_id,
      recommended_at: rec.recommended_at,
      received_rank: rec.received_rank,
      format: rec.format,
      alt_text: rec.alt_text,
      mayHaveThumbsUpDown: mayHaveCombinedThumbsUpDown,
      mayHaveSectionsCards: mayHaveSectionsCards,
      showTopics: shouldShowLabels,
      selectedTopics: selectedTopics,
      availableTopics: availableTopics,
      ctaButtonSponsors: ctaButtonSponsors,
      ctaButtonVariant: ctaButtonVariant,
      sectionsClassNames: classNames.join(" "),
      sectionsCardImageSizes: imageSizes,
      section: sectionKey,
      sectionPosition: sectionPosition,
      sectionFollowed: following,
      sectionLayoutName: layoutName,
      isTimeSensitive: rec.isTimeSensitive
    });
    return index === 0 && shouldShowTrendingSearch && sectionKey === "top_stories_section" ? [card, /*#__PURE__*/external_React_default().createElement(TrendingSearches, {
      key: "trending"
    })] : [card];
  })));
}
function CardSections({
  data,
  feed,
  dispatch,
  type,
  firstVisibleTimestamp,
  ctaButtonVariant,
  ctaButtonSponsors
}) {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    spocs,
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const weatherPlacement = (0,external_ReactRedux_namespaceObject.useSelector)(selectWeatherPlacement);
  const dailyBriefSectionId = prefs.trainhopConfig?.dailyBriefing?.sectionId || prefs[CardSections_PREF_DAILY_BRIEF_SECTIONID];
  const weatherEnabled = prefs.showWeather;
  const personalizationEnabled = prefs[PREF_SECTIONS_PERSONALIZATION_ENABLED];
  const interestPickerEnabled = prefs[PREF_INTEREST_PICKER_ENABLED];

  // Handle a render before feed has been fetched by displaying nothing
  if (!data) {
    return null;
  }
  const visibleSections = prefToArray(prefs[CardSections_PREF_VISIBLE_SECTIONS]);
  const {
    interestPicker
  } = data;

  // Used to determine if we should show FollowSectionButtonHighlight
  const anySectionsFollowed = sectionPersonalization && Object.values(sectionPersonalization).some(section => section?.isFollowed);
  let filteredSections = data.sections.filter(section => !sectionPersonalization[section.sectionKey]?.isBlocked);
  if (interestPickerEnabled && visibleSections.length) {
    filteredSections = visibleSections.reduce((acc, visibleSection) => {
      const found = filteredSections.find(({
        sectionKey
      }) => sectionKey === visibleSection);
      if (found) {
        acc.push(found);
      }
      return acc;
    }, []);
  }
  let sectionsToRender = filteredSections.map((section, sectionPosition) => /*#__PURE__*/external_React_default().createElement(CardSection, {
    key: `section-${section.sectionKey}`,
    sectionPosition: sectionPosition,
    section: section,
    dispatch: dispatch,
    type: type,
    firstVisibleTimestamp: firstVisibleTimestamp,
    ctaButtonVariant: ctaButtonVariant,
    ctaButtonSponsors: ctaButtonSponsors,
    anySectionsFollowed: anySectionsFollowed,
    showWeather: weatherEnabled && weatherPlacement === "section" && sectionPosition === 0 && section.sectionKey === dailyBriefSectionId
  }));

  // Add a billboard/leaderboard IAB ad to the sectionsToRender array (if enabled/possible).
  const billboardEnabled = prefs[CardSections_PREF_BILLBOARD_ENABLED];
  const leaderboardEnabled = prefs[CardSections_PREF_LEADERBOARD_ENABLED];
  if ((billboardEnabled || leaderboardEnabled) && spocs?.data?.newtab_spocs?.items) {
    const spocToRender = spocs.data.newtab_spocs.items.find(({
      format
    }) => format === "leaderboard" && leaderboardEnabled) || spocs.data.newtab_spocs.items.find(({
      format
    }) => format === "billboard" && billboardEnabled);
    if (spocToRender && !spocs.blocked.includes(spocToRender.url)) {
      const row = spocToRender.format === "leaderboard" ? prefs[CardSections_PREF_LEADERBOARD_POSITION] : prefs[CardSections_PREF_BILLBOARD_POSITION];
      sectionsToRender.splice(
      // Math.min is used here to ensure the given row stays within the bounds of the sectionsToRender array.
      Math.min(sectionsToRender.length - 1, row), 0, /*#__PURE__*/external_React_default().createElement(AdBanner, {
        spoc: spocToRender,
        key: `dscard-${spocToRender.id}`,
        dispatch: dispatch,
        type: type,
        firstVisibleTimestamp: firstVisibleTimestamp,
        row: row,
        prefs: prefs
      }));
    }
  }

  // Add the interest picker to the sectionsToRender array (if enabled/possible).
  if (interestPickerEnabled && personalizationEnabled && interestPicker?.sections) {
    const index = interestPicker.receivedFeedRank - 1;
    sectionsToRender.splice(
    // Math.min is used here to ensure the given row stays within the bounds of the sectionsToRender array.
    Math.min(sectionsToRender.length - 1, index), 0, /*#__PURE__*/external_React_default().createElement(InterestPicker, {
      title: interestPicker.title,
      subtitle: interestPicker.subtitle,
      interests: interestPicker.sections || [],
      receivedFeedRank: interestPicker.receivedFeedRank
    }));
  }
  function displayP13nCard() {
    if (messageData && Object.keys(messageData).length >= 1) {
      if (shouldShowOMCHighlight(messageData, "PersonalizedCard") && prefs[PREF_INFERRED_PERSONALIZATION_USER]) {
        const row = messageData.content.position;
        sectionsToRender.splice(row, 0, /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
          dispatch: dispatch,
          onDismiss: () => {}
        }, /*#__PURE__*/external_React_default().createElement(PersonalizedCard, {
          position: row,
          dispatch: dispatch,
          messageData: messageData
        })));
      }
    }
  }
  displayP13nCard();
  const isEmpty = sectionsToRender.length === 0;
  return isEmpty ? /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-card-grid empty"
  }, /*#__PURE__*/external_React_default().createElement(DSEmptyState, {
    status: data.status,
    dispatch: dispatch,
    feed: feed
  })) : /*#__PURE__*/external_React_default().createElement("div", {
    className: "ds-section-wrapper"
  }, sectionsToRender);
}

;// CONCATENATED MODULE: ./content-src/components/Widgets/Lists/Lists.jsx
function Lists_extends() { return Lists_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Lists_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */





const TASK_TYPE = {
  IN_PROGRESS: "tasks",
  COMPLETED: "completed"
};
const USER_ACTION_TYPES = {
  LIST_COPY: "list_copy",
  LIST_CREATE: "list_create",
  LIST_EDIT: "list_edit",
  LIST_DELETE: "list_delete",
  TASK_CREATE: "task_create",
  TASK_EDIT: "task_edit",
  TASK_DELETE: "task_delete",
  TASK_COMPLETE: "task_complete"
};
const PREF_WIDGETS_LISTS_MAX_LISTS = "widgets.lists.maxLists";
const PREF_WIDGETS_LISTS_MAX_LISTITEMS = "widgets.lists.maxListItems";
const PREF_WIDGETS_LISTS_BADGE_ENABLED = "widgets.lists.badge.enabled";
const PREF_WIDGETS_LISTS_BADGE_LABEL = "widgets.lists.badge.label";
function Lists({
  dispatch,
  handleUserInteraction
}) {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    selected,
    lists
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.ListsWidget);
  const [newTask, setNewTask] = (0,external_React_namespaceObject.useState)("");
  const [isEditing, setIsEditing] = (0,external_React_namespaceObject.useState)(false);
  const [pendingNewList, setPendingNewList] = (0,external_React_namespaceObject.useState)(null);
  const selectedList = (0,external_React_namespaceObject.useMemo)(() => lists[selected], [lists, selected]);
  const prevCompletedCount = (0,external_React_namespaceObject.useRef)(selectedList?.completed?.length || 0);
  const inputRef = (0,external_React_namespaceObject.useRef)(null);
  const selectRef = (0,external_React_namespaceObject.useRef)(null);
  const reorderListRef = (0,external_React_namespaceObject.useRef)(null);
  const [canvasRef, fireConfetti] = useConfetti();
  const handleListInteraction = (0,external_React_namespaceObject.useCallback)(() => handleUserInteraction("lists"), [handleUserInteraction]);

  // store selectedList with useMemo so it isnt re-calculated on every re-render
  const isValidUrl = (0,external_React_namespaceObject.useCallback)(str => URL.canParse(str), []);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.WIDGETS_LISTS_USER_IMPRESSION
    }));
  }, [dispatch]);
  const listsRef = useIntersectionObserver(handleIntersection);
  const reorderLists = (0,external_React_namespaceObject.useCallback)((draggedElement, targetElement, before = false) => {
    const draggedIndex = selectedList.tasks.findIndex(({
      id
    }) => id === draggedElement.id);
    const targetIndex = selectedList.tasks.findIndex(({
      id
    }) => id === targetElement.id);

    // return early is index is not found
    if (draggedIndex === -1 || targetIndex === -1 || draggedIndex === targetIndex) {
      return;
    }
    const reordered = [...selectedList.tasks];
    const [removed] = reordered.splice(draggedIndex, 1);
    const insertIndex = before ? targetIndex : targetIndex + 1;
    reordered.splice(insertIndex > draggedIndex ? insertIndex - 1 : insertIndex, 0, removed);
    const updatedLists = {
      ...lists,
      [selected]: {
        ...selectedList,
        tasks: reordered
      }
    };
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.WIDGETS_LISTS_UPDATE,
      data: {
        lists: updatedLists
      }
    }));
    handleListInteraction();
  }, [lists, selected, selectedList, dispatch, handleListInteraction]);
  const moveTask = (0,external_React_namespaceObject.useCallback)((task, direction) => {
    const index = selectedList.tasks.findIndex(({
      id
    }) => id === task.id);

    // guardrail a falsey index
    if (index === -1) {
      return;
    }
    const targetIndex = direction === "up" ? index - 1 : index + 1;
    const before = direction === "up";
    const targetTask = selectedList.tasks[targetIndex];
    if (targetTask) {
      reorderLists(task, targetTask, before);
    }
  }, [selectedList, reorderLists]);
  (0,external_React_namespaceObject.useEffect)(() => {
    const selectNode = selectRef.current;
    const reorderNode = reorderListRef.current;
    if (!selectNode || !reorderNode) {
      return undefined;
    }
    function handleSelectChange(e) {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_CHANGE_SELECTED,
        data: e.target.value
      }));
      handleListInteraction();
    }
    function handleReorder(e) {
      const {
        draggedElement,
        targetElement,
        position
      } = e.detail;
      reorderLists(draggedElement, targetElement, position === -1);
    }
    reorderNode.addEventListener("reorder", handleReorder);
    selectNode.addEventListener("change", handleSelectChange);
    return () => {
      selectNode.removeEventListener("change", handleSelectChange);
      reorderNode.removeEventListener("reorder", handleReorder);
    };
  }, [dispatch, isEditing, reorderLists, handleListInteraction]);

  // effect that enables editing new list name only after store has been hydrated
  (0,external_React_namespaceObject.useEffect)(() => {
    if (selected === pendingNewList) {
      setIsEditing(true);
      setPendingNewList(null);
    }
  }, [selected, pendingNewList]);
  function saveTask() {
    const trimmedTask = newTask.trimEnd();
    // only add new task if it has a length, to avoid creating empty tasks
    if (trimmedTask) {
      const formattedTask = {
        value: trimmedTask,
        completed: false,
        created: Date.now(),
        id: crypto.randomUUID(),
        isUrl: isValidUrl(trimmedTask)
      };
      const updatedLists = {
        ...lists,
        [selected]: {
          ...selectedList,
          tasks: [formattedTask, ...lists[selected].tasks]
        }
      };
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_UPDATE,
          data: {
            lists: updatedLists
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction: USER_ACTION_TYPES.TASK_CREATE
          }
        }));
      });
      setNewTask("");
      handleListInteraction();
    }
  }
  function updateTask(updatedTask, type) {
    const isCompletedType = type === TASK_TYPE.COMPLETED;
    const isNowCompleted = updatedTask.completed;
    let newTasks = selectedList.tasks;
    let newCompleted = selectedList.completed;
    let userAction;

    // If the task is in the completed array and is now unchecked
    const shouldMoveToTasks = isCompletedType && !isNowCompleted;

    // If we're moving the task from tasks  completed (user checked it)
    const shouldMoveToCompleted = !isCompletedType && isNowCompleted;

    //  Move task from completed -> task
    if (shouldMoveToTasks) {
      newCompleted = selectedList.completed.filter(task => task.id !== updatedTask.id);
      newTasks = [...selectedList.tasks, updatedTask];
      // Move task to completed, but also create local version
    } else if (shouldMoveToCompleted) {
      newTasks = selectedList.tasks.filter(task => task.id !== updatedTask.id);
      newCompleted = [...selectedList.completed, updatedTask];
      userAction = USER_ACTION_TYPES.TASK_COMPLETE;
    } else {
      const targetKey = isCompletedType ? "completed" : "tasks";
      const updatedArray = selectedList[targetKey].map(task => task.id === updatedTask.id ? updatedTask : task);
      // In-place update: toggle checkbox (but stay in same array or edit name)
      if (targetKey === "tasks") {
        newTasks = updatedArray;
      } else {
        newCompleted = updatedArray;
      }
      userAction = USER_ACTION_TYPES.TASK_EDIT;
    }
    const updatedLists = {
      ...lists,
      [selected]: {
        ...selectedList,
        tasks: newTasks,
        completed: newCompleted
      }
    };
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_UPDATE,
        data: {
          lists: updatedLists
        }
      }));
      if (userAction) {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction
          }
        }));
      }
    });
    handleListInteraction();
  }
  function deleteTask(task, type) {
    const selectedTasks = lists[selected][type];
    const updatedTasks = selectedTasks.filter(({
      id
    }) => id !== task.id);
    const updatedLists = {
      ...lists,
      [selected]: {
        ...selectedList,
        [type]: updatedTasks
      }
    };
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_UPDATE,
        data: {
          lists: updatedLists
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_LISTS_USER_EVENT,
        data: {
          userAction: USER_ACTION_TYPES.TASK_DELETE
        }
      }));
    });
    handleListInteraction();
  }
  function handleKeyDown(e) {
    if (e.key === "Enter" && document.activeElement === inputRef.current) {
      saveTask();
    } else if (e.key === "Escape" && document.activeElement === inputRef.current) {
      // Clear out the input when esc is pressed
      setNewTask("");
    }
  }
  function handleListNameSave(newLabel) {
    const trimmedLabel = newLabel.trimEnd();
    if (trimmedLabel && trimmedLabel !== selectedList?.label) {
      const updatedLists = {
        ...lists,
        [selected]: {
          ...selectedList,
          label: trimmedLabel
        }
      };
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_UPDATE,
          data: {
            lists: updatedLists
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction: USER_ACTION_TYPES.LIST_EDIT
          }
        }));
      });
      setIsEditing(false);
      handleListInteraction();
    }
  }
  function handleCreateNewList() {
    const id = crypto.randomUUID();
    const newLists = {
      ...lists,
      [id]: {
        label: "",
        tasks: [],
        completed: []
      }
    };
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_UPDATE,
        data: {
          lists: newLists
        }
      }));
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_LISTS_CHANGE_SELECTED,
        data: id
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_LISTS_USER_EVENT,
        data: {
          userAction: USER_ACTION_TYPES.LIST_CREATE
        }
      }));
    });
    setPendingNewList(id);
    handleListInteraction();
  }
  function handleCancelNewList() {
    // If current list is new and has no label/tasks, remove it
    if (!selectedList?.label && selectedList?.tasks?.length === 0) {
      const updatedLists = {
        ...lists
      };
      delete updatedLists[selected];
    }
  }
  function handleDeleteList() {
    let updatedLists = {
      ...lists
    };
    if (updatedLists[selected]) {
      delete updatedLists[selected];

      // if this list was the last one created, add a new list as default
      if (Object.keys(updatedLists)?.length === 0) {
        updatedLists = {
          [crypto.randomUUID()]: {
            label: "",
            tasks: [],
            completed: []
          }
        };
      }
      const listKeys = Object.keys(updatedLists);
      const key = listKeys[listKeys.length - 1];
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_UPDATE,
          data: {
            lists: updatedLists
          }
        }));
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_LISTS_CHANGE_SELECTED,
          data: key
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_LISTS_USER_EVENT,
          data: {
            userAction: USER_ACTION_TYPES.LIST_DELETE
          }
        }));
      });
    }
    handleListInteraction();
  }
  function handleHideLists() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: "widgets.lists.enabled",
        value: false
      }
    }));
    handleListInteraction();
  }
  function handleCopyListToClipboard() {
    const currentList = lists[selected];
    if (!currentList) {
      return;
    }
    const {
      label,
      tasks = [],
      completed = []
    } = currentList;
    const uncompleted = tasks.filter(task => !task.completed);
    const currentCompleted = tasks.filter(task => task.completed);

    // In order in include all items, we need to iterate through both current and completed tasks list and mark format all completed tasks accordingly.
    const formatted = [`List: ${label}`, `---`, ...uncompleted.map(task => `- [ ] ${task.value}`), ...currentCompleted.map(task => `- [x] ${task.value}`), ...completed.map(task => `- [x] ${task.value}`)].join("\n");
    try {
      navigator.clipboard.writeText(formatted);
    } catch (err) {
      console.error("Copy failed", err);
    }
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.WIDGETS_LISTS_USER_EVENT,
      data: {
        userAction: USER_ACTION_TYPES.LIST_COPY
      }
    }));
    handleListInteraction();
  }
  function handleLearnMore() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: {
        url: "https://support.mozilla.org/kb/firefox-new-tab-widgets"
      }
    }));
    handleListInteraction();
  }

  // Reset baseline only when switching lists
  (0,external_React_namespaceObject.useEffect)(() => {
    prevCompletedCount.current = selectedList?.completed?.length || 0;
    // intentionally leaving out selectedList from dependency array
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [selected]);
  (0,external_React_namespaceObject.useEffect)(() => {
    if (selectedList) {
      const doneCount = selectedList.completed?.length || 0;
      const previous = Math.floor(prevCompletedCount.current / 5);
      const current = Math.floor(doneCount / 5);
      if (current > previous) {
        fireConfetti();
      }
      prevCompletedCount.current = doneCount;
    }
  }, [selectedList, fireConfetti, selected]);
  if (!lists) {
    return null;
  }

  // Enforce maximum count limits to lists
  const currentListsCount = Object.keys(lists).length;
  // Ensure a minimum of 1, but allow higher values from prefs
  const maxListsCount = Math.max(1, prefs[PREF_WIDGETS_LISTS_MAX_LISTS]);
  const isAtMaxListsLimit = currentListsCount >= maxListsCount;

  // Enforce maximum count limits to list items
  // The maximum applies to the total number of items (both incomplete and completed items)
  const currentSelectedListItemsCount = selectedList?.tasks.length + selectedList?.completed.length;

  // Ensure a minimum of 1, but allow higher values from prefs
  const maxListItemsCount = Math.max(1, prefs[PREF_WIDGETS_LISTS_MAX_LISTITEMS]);
  const isAtMaxListItemsLimit = currentSelectedListItemsCount >= maxListItemsCount;

  // Figure out if the selected list is the first (default) or a new one.
  // Index 0  use "Task list"; any later index  use "New list".
  // Fallback to 0 if the selected id isnt found.
  const listKeys = Object.keys(lists);
  const selectedIndex = Math.max(0, listKeys.indexOf(selected));
  const listNamePlaceholder = currentListsCount > 1 && selectedIndex !== 0 ? "newtab-widget-lists-name-placeholder-new" : "newtab-widget-lists-name-placeholder-default";
  const nimbusBadgeEnabled = prefs.widgetsConfig?.listsBadgeEnabled;
  const nimbusBadgeLabel = prefs.widgetsConfig?.listsBadgeLabel;
  const nimbusBadgeTrainhopEnabled = prefs.trainhopConfig?.widgets?.listsBadgeEnabled;
  const nimbusBadgeTrainhopLabel = prefs.trainhopConfig?.widgets?.listsBadgeLabel;
  const badgeEnabled = (nimbusBadgeEnabled || nimbusBadgeTrainhopEnabled) ?? prefs[PREF_WIDGETS_LISTS_BADGE_ENABLED] ?? false;
  const badgeLabel = (nimbusBadgeLabel || nimbusBadgeTrainhopLabel) ?? prefs[PREF_WIDGETS_LISTS_BADGE_LABEL] ?? "";
  return /*#__PURE__*/external_React_default().createElement("article", {
    className: "lists",
    ref: el => {
      listsRef.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "select-wrapper"
  }, /*#__PURE__*/external_React_default().createElement(EditableText, {
    value: lists[selected]?.label || "",
    onSave: handleListNameSave,
    isEditing: isEditing,
    setIsEditing: setIsEditing,
    onCancel: handleCancelNewList,
    type: "list",
    maxLength: 30,
    dataL10nId: listNamePlaceholder
  }, /*#__PURE__*/external_React_default().createElement("moz-select", {
    ref: selectRef,
    value: selected
  }, Object.entries(lists).map(([key, list]) => /*#__PURE__*/external_React_default().createElement("moz-option", Lists_extends({
    key: key,
    value: key
    // On the first/initial list, use default name
  }, list.label ? {
    label: list.label
  } : {
    "data-l10n-id": "newtab-widget-lists-name-label-default"
  }))))), !isEditing && badgeEnabled && badgeLabel && /*#__PURE__*/external_React_default().createElement("moz-badge", {
    "data-l10n-id": (() => {
      if (badgeLabel === "New") {
        return "newtab-widget-lists-label-new";
      }
      if (badgeLabel === "Beta") {
        return "newtab-widget-lists-label-beta";
      }
      return "";
    })()
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    className: "lists-panel-button",
    iconSrc: "chrome://global/skin/icons/more.svg",
    menuId: "lists-panel",
    type: "ghost"
  }), /*#__PURE__*/external_React_default().createElement("panel-list", {
    id: "lists-panel"
  }, /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-edit",
    onClick: () => setIsEditing(true)
  }), /*#__PURE__*/external_React_default().createElement("panel-item", Lists_extends({}, isAtMaxListsLimit ? {
    disabled: true
  } : {}, {
    "data-l10n-id": "newtab-widget-lists-menu-create",
    onClick: () => handleCreateNewList(),
    className: "create-list"
  })), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-delete",
    onClick: () => handleDeleteList()
  }), /*#__PURE__*/external_React_default().createElement("hr", null), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-copy",
    onClick: () => handleCopyListToClipboard()
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-menu-hide",
    onClick: () => handleHideLists()
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    className: "learn-more",
    "data-l10n-id": "newtab-widget-lists-menu-learn-more",
    onClick: handleLearnMore
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "add-task-container"
  }, /*#__PURE__*/external_React_default().createElement("span", {
    className: `icon icon-add ${isAtMaxListItemsLimit ? "icon-disabled" : ""}`
  }), /*#__PURE__*/external_React_default().createElement("input", {
    ref: inputRef,
    onBlur: () => saveTask(),
    onChange: e => setNewTask(e.target.value),
    value: newTask,
    "data-l10n-id": "newtab-widget-lists-input-add-an-item",
    className: "add-task-input",
    onKeyDown: handleKeyDown,
    type: "text",
    maxLength: 100,
    disabled: isAtMaxListItemsLimit
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "task-list-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("moz-reorderable-list", {
    ref: reorderListRef,
    itemSelector: "fieldset .task-type-tasks",
    dragSelector: ".checkbox-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("fieldset", null, selectedList?.tasks.length >= 1 && selectedList.tasks.map((task, index) => /*#__PURE__*/external_React_default().createElement(ListItem, {
    type: TASK_TYPE.IN_PROGRESS,
    task: task,
    key: task.id,
    updateTask: updateTask,
    deleteTask: deleteTask,
    moveTask: moveTask,
    isValidUrl: isValidUrl,
    isFirst: index === 0,
    isLast: index === selectedList.tasks.length - 1
  })), selectedList?.completed.length >= 1 && /*#__PURE__*/external_React_default().createElement("details", {
    className: "completed-task-wrapper",
    open: selectedList?.tasks.length < 1
  }, /*#__PURE__*/external_React_default().createElement("summary", null, /*#__PURE__*/external_React_default().createElement("span", {
    "data-l10n-id": "newtab-widget-lists-completed-list",
    "data-l10n-args": JSON.stringify({
      number: lists[selected]?.completed.length
    }),
    className: "completed-title"
  })), selectedList?.completed.map(completedTask => /*#__PURE__*/external_React_default().createElement(ListItem, {
    key: completedTask.id,
    type: TASK_TYPE.COMPLETED,
    task: completedTask,
    deleteTask: deleteTask,
    updateTask: updateTask
  }))))), selectedList?.tasks.length < 1 && selectedList?.completed.length < 1 && /*#__PURE__*/external_React_default().createElement("div", {
    className: "empty-list"
  }, /*#__PURE__*/external_React_default().createElement("picture", null, /*#__PURE__*/external_React_default().createElement("source", {
    srcSet: "chrome://newtab/content/data/content/assets/lists-empty-state-dark.svg",
    media: "(prefers-color-scheme: dark)"
  }), /*#__PURE__*/external_React_default().createElement("source", {
    srcSet: "chrome://newtab/content/data/content/assets/lists-empty-state-light.svg",
    media: "(prefers-color-scheme: light)"
  }), /*#__PURE__*/external_React_default().createElement("img", {
    width: "100",
    height: "100",
    alt: ""
  })), /*#__PURE__*/external_React_default().createElement("p", {
    className: "empty-list-text",
    "data-l10n-id": "newtab-widget-lists-empty-cta"
  }))), /*#__PURE__*/external_React_default().createElement("canvas", {
    className: "confetti-canvas",
    ref: canvasRef
  }));
}
function ListItem({
  task,
  updateTask,
  deleteTask,
  moveTask,
  isValidUrl,
  type,
  isFirst = false,
  isLast = false
}) {
  const [isEditing, setIsEditing] = (0,external_React_namespaceObject.useState)(false);
  const [exiting, setExiting] = (0,external_React_namespaceObject.useState)(false);
  const isCompleted = type === TASK_TYPE.COMPLETED;
  const prefersReducedMotion = typeof window !== "undefined" && typeof window.matchMedia === "function" && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  function handleCheckboxChange(e) {
    const {
      checked
    } = e.target;
    const updatedTask = {
      ...task,
      completed: checked
    };
    if (checked && !prefersReducedMotion) {
      setExiting(true);
    } else {
      updateTask(updatedTask, type);
    }
  }

  // When the CSS transition finishes, dispatch the real completed = true
  function handleTransitionEnd(e) {
    // only fire once for the exit:
    if (e.propertyName === "opacity" && exiting) {
      updateTask({
        ...task,
        completed: true
      }, type);
      setExiting(false);
    }
  }
  function handleSave(newValue) {
    const trimmedTask = newValue.trimEnd();
    if (trimmedTask && trimmedTask !== task.value) {
      updateTask({
        ...task,
        value: newValue,
        isUrl: isValidUrl(trimmedTask)
      }, type);
      setIsEditing(false);
    }
  }
  function handleDelete() {
    deleteTask(task, type);
  }
  const taskLabel = task.isUrl ? /*#__PURE__*/external_React_default().createElement("a", {
    href: task.value,
    rel: "noopener noreferrer",
    target: "_blank",
    className: "task-label",
    title: task.value
  }, task.value) : /*#__PURE__*/external_React_default().createElement("label", {
    className: "task-label",
    title: task.value,
    htmlFor: `task-${task.id}`,
    onClick: () => setIsEditing(true)
  }, task.value);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: `task-item task-type-${type} ${exiting ? " exiting" : ""}`,
    id: task.id,
    key: task.id,
    onTransitionEnd: handleTransitionEnd
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "checkbox-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("input", {
    type: "checkbox",
    onChange: handleCheckboxChange,
    checked: task.completed || exiting,
    id: `task-${task.id}`
  }), isCompleted ? taskLabel : /*#__PURE__*/external_React_default().createElement(EditableText, {
    isEditing: isEditing,
    setIsEditing: setIsEditing,
    value: task.value,
    onSave: handleSave,
    type: "task"
  }, taskLabel)), /*#__PURE__*/external_React_default().createElement("moz-button", {
    iconSrc: "chrome://global/skin/icons/more.svg",
    menuId: `panel-task-${task.id}`,
    type: "ghost"
  }), /*#__PURE__*/external_React_default().createElement("panel-list", {
    id: `panel-task-${task.id}`
  }, !isCompleted && /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, task.isUrl && /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-input-menu-open-link",
    onClick: () => window.open(task.value, "_blank", "noopener")
  }), /*#__PURE__*/external_React_default().createElement("panel-item", Lists_extends({}, isFirst ? {
    disabled: true
  } : {}, {
    onClick: () => moveTask(task, "up"),
    "data-l10n-id": "newtab-widget-lists-input-menu-move-up"
  })), /*#__PURE__*/external_React_default().createElement("panel-item", Lists_extends({}, isLast ? {
    disabled: true
  } : {}, {
    onClick: () => moveTask(task, "down"),
    "data-l10n-id": "newtab-widget-lists-input-menu-move-down"
  })), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-input-menu-edit",
    className: "edit-item",
    onClick: () => setIsEditing(true)
  })), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-lists-input-menu-delete",
    className: "delete-item",
    onClick: handleDelete
  })));
}
function EditableText({
  value,
  isEditing,
  setIsEditing,
  onSave,
  onCancel,
  children,
  type,
  dataL10nId = null,
  maxLength = 100
}) {
  const [tempValue, setTempValue] = (0,external_React_namespaceObject.useState)(value);
  const inputRef = (0,external_React_namespaceObject.useRef)(null);

  // True if tempValue is empty, null/undefined, or only whitespace
  const showPlaceholder = (tempValue ?? "").trim() === "";
  (0,external_React_namespaceObject.useEffect)(() => {
    if (isEditing) {
      inputRef.current?.focus();
    } else {
      setTempValue(value);
    }
  }, [isEditing, value]);
  function handleKeyDown(e) {
    if (e.key === "Enter") {
      onSave(tempValue.trim());
      setIsEditing(false);
    } else if (e.key === "Escape") {
      setIsEditing(false);
      setTempValue(value);
      onCancel?.();
    }
  }
  function handleOnBlur() {
    onSave(tempValue.trim());
    setIsEditing(false);
  }
  return isEditing ? /*#__PURE__*/external_React_default().createElement("input", Lists_extends({
    className: `edit-${type}`,
    ref: inputRef,
    type: "text",
    value: tempValue,
    maxLength: maxLength,
    onChange: event => setTempValue(event.target.value),
    onBlur: handleOnBlur,
    onKeyDown: handleKeyDown
    // Note that if a user has a custom name set, it will override the placeholder
  }, showPlaceholder && dataL10nId ? {
    "data-l10n-id": dataL10nId
  } : {})) : [children];
}

;// CONCATENATED MODULE: ./content-src/components/Widgets/FocusTimer/FocusTimer.jsx
function FocusTimer_extends() { return FocusTimer_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, FocusTimer_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */





const FocusTimer_USER_ACTION_TYPES = {
  TIMER_SET: "timer_set",
  TIMER_PLAY: "timer_play",
  TIMER_PAUSE: "timer_pause",
  TIMER_RESET: "timer_reset",
  TIMER_END: "timer_end",
  TIMER_TOGGLE_FOCUS: "timer_toggle_focus",
  TIMER_TOGGLE_BREAK: "timer_toggle_break"
};

/**
 * Calculates the remaining time (in seconds) by subtracting elapsed time from the original duration
 *
 * @param duration
 * @param start
 * @returns int
 */
const calculateTimeRemaining = (duration, start) => {
  const currentTime = Math.floor(Date.now() / 1000);

  // Subtract the elapsed time from initial duration to get time remaining in the timer
  return Math.max(duration - (currentTime - start), 0);
};

/**
 * Converts a number of seconds into a zero-padded MM:SS time string
 *
 * @param seconds
 * @returns string
 */
const formatTime = seconds => {
  const minutes = Math.floor(seconds / 60).toString().padStart(2, "0");
  const secs = (seconds % 60).toString().padStart(2, "0");
  return `${minutes}:${secs}`;
};

/**
 * Converts a polar coordinate (angle on circle) into a percentage-based [x,y] position for clip-path
 *
 * @param cx
 * @param cy
 * @param radius
 * @param angle
 * @returns string
 */
const polarToPercent = (cx, cy, radius, angle) => {
  const rad = (angle - 90) * Math.PI / 180;
  const x = cx + radius * Math.cos(rad);
  const y = cy + radius * Math.sin(rad);
  return `${x}% ${y}%`;
};

/**
 * Generates a clip-path polygon string that represents a pie slice from 0 degrees
 * to the current progress angle
 *
 * @returns string
 * @param progress
 */
const getClipPath = progress => {
  const cx = 50;
  const cy = 50;
  const radius = 50;
  // Show some progress right at the start - 6 degrees is just enough to paint a dot once the timer is ticking
  const angle = progress > 0 ? Math.max(progress * 360, 6) : 0;
  const points = [`50% 50%`];
  for (let a = 0; a <= angle; a += 2) {
    points.push(polarToPercent(cx, cy, radius, a));
  }
  return `polygon(${points.join(", ")})`;
};
const FocusTimer = ({
  dispatch,
  handleUserInteraction
}) => {
  const [timeLeft, setTimeLeft] = (0,external_React_namespaceObject.useState)(0);
  // calculated value for the progress circle; 1 = 100%
  const [progress, setProgress] = (0,external_React_namespaceObject.useState)(0);
  const activeMinutesRef = (0,external_React_namespaceObject.useRef)(null);
  const activeSecondsRef = (0,external_React_namespaceObject.useRef)(null);
  const arcRef = (0,external_React_namespaceObject.useRef)(null);
  const timerType = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.TimerWidget.timerType);
  const timerData = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.TimerWidget);
  const {
    duration,
    initialDuration,
    startTime,
    isRunning
  } = timerData[timerType];
  const initialTimerDuration = timerData[timerType].initialDuration;
  const handleTimerInteraction = (0,external_React_namespaceObject.useCallback)(() => handleUserInteraction("focusTimer"), [handleUserInteraction]);
  const handleIntersection = (0,external_React_namespaceObject.useCallback)(() => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.WIDGETS_TIMER_USER_IMPRESSION
    }));
  }, [dispatch]);
  const timerRef = useIntersectionObserver(handleIntersection);
  const resetProgressCircle = (0,external_React_namespaceObject.useCallback)(() => {
    if (arcRef?.current) {
      arcRef.current.style.clipPath = "polygon(50% 50%)";
      arcRef.current.style.webkitClipPath = "polygon(50% 50%)";
    }
    setProgress(0);
    handleTimerInteraction();
  }, [arcRef, handleTimerInteraction]);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const showSystemNotifications = prefs["widgets.focusTimer.showSystemNotifications"];
  (0,external_React_namespaceObject.useEffect)(() => {
    // resets default values after timer ends
    let interval;
    if (isRunning && duration > 0) {
      interval = setInterval(() => {
        const remaining = calculateTimeRemaining(duration, startTime);
        if (remaining <= 0) {
          clearInterval(interval);
          (0,external_ReactRedux_namespaceObject.batch)(() => {
            dispatch(actionCreators.AlsoToMain({
              type: actionTypes.WIDGETS_TIMER_END,
              data: {
                timerType,
                duration: initialTimerDuration,
                initialDuration: initialTimerDuration
              }
            }));
            dispatch(actionCreators.OnlyToMain({
              type: actionTypes.WIDGETS_TIMER_USER_EVENT,
              data: {
                userAction: FocusTimer_USER_ACTION_TYPES.TIMER_END
              }
            }));
          });

          // animate the progress circle to turn solid green
          setProgress(1);

          // More transitions after a delay to allow the animation above to complete
          setTimeout(() => {
            // progress circle goes back to default grey
            resetProgressCircle();

            // There's more to see!
            setTimeout(() => {
              // switch over to the other timer type
              // eslint-disable-next-line max-nested-callbacks
              (0,external_ReactRedux_namespaceObject.batch)(() => {
                dispatch(actionCreators.AlsoToMain({
                  type: actionTypes.WIDGETS_TIMER_SET_TYPE,
                  data: {
                    timerType: timerType === "focus" ? "break" : "focus"
                  }
                }));
                dispatch(actionCreators.OnlyToMain({
                  type: actionTypes.WIDGETS_TIMER_USER_EVENT,
                  data: {
                    userAction: timerType === "focus" ? FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_BREAK : FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_FOCUS
                  }
                }));
              });
            }, 1500);
          }, 1500);
        }

        // using setTimeLeft to trigger a re-render of the component to show live countdown each second
        setTimeLeft(remaining);
        setProgress((initialDuration - remaining) / initialDuration);
      }, 1000);
    }

    // Shows the correct live time in the UI whenever the timer state changes
    const newTime = isRunning ? calculateTimeRemaining(duration, startTime) : duration;
    setTimeLeft(newTime);

    // Set progress for paused timers (handles page load and timer type toggling)
    if (!isRunning && duration < initialDuration) {
      // Show previously elapsed time
      setProgress((initialDuration - duration) / initialDuration);
    } else if (!isRunning) {
      // Reset progress for fresh timers
      setProgress(0);
    }
    return () => clearInterval(interval);
  }, [isRunning, startTime, duration, initialDuration, dispatch, resetProgressCircle, timerType, initialTimerDuration]);

  // Update the clip-path of the gradient circle to match the current progress value
  (0,external_React_namespaceObject.useEffect)(() => {
    if (arcRef?.current) {
      // Only set clip-path if current timer has been started or is running
      if (progress > 0 || isRunning) {
        arcRef.current.style.clipPath = getClipPath(progress);
      } else {
        arcRef.current.style.clipPath = "";
      }
    }
  }, [progress, isRunning]);

  // set timer function
  const setTimerDuration = () => {
    const minutesEl = activeMinutesRef.current;
    const secondsEl = activeSecondsRef.current;
    const minutesValue = minutesEl.innerText.trim() || "0";
    const secondsValue = secondsEl.innerText.trim() || "0";
    let minutes = parseInt(minutesValue || "0", 10);
    let seconds = parseInt(secondsValue || "0", 10);

    // Set a limit of 99 minutes
    minutes = Math.min(minutes, 99);
    // Set a limit of 59 seconds
    seconds = Math.min(seconds, 59);
    const totalSeconds = minutes * 60 + seconds;
    if (!Number.isNaN(totalSeconds) && totalSeconds > 0 && totalSeconds !== duration) {
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_SET_DURATION,
          data: {
            timerType,
            duration: totalSeconds
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_SET
          }
        }));
      });
    }
    handleTimerInteraction();
  };

  // Pause timer function
  const toggleTimer = () => {
    if (!isRunning && duration > 0) {
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_PLAY,
          data: {
            timerType
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PLAY
          }
        }));
      });
    } else if (isRunning) {
      // calculated to get the new baseline of the timer when it starts or resumes
      const remaining = calculateTimeRemaining(duration, startTime);
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_PAUSE,
          data: {
            timerType,
            duration: remaining
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PAUSE
          }
        }));
      });
    }
    handleTimerInteraction();
  };

  // reset timer function
  const resetTimer = () => {
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_TIMER_RESET,
        data: {
          timerType,
          duration: initialTimerDuration,
          initialDuration: initialTimerDuration
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_TIMER_USER_EVENT,
        data: {
          userAction: FocusTimer_USER_ACTION_TYPES.TIMER_RESET
        }
      }));
    });

    // Reset progress value and gradient arc on the progress circle
    resetProgressCircle();
    handleTimerInteraction();
  };

  // Toggles between "focus" and "break" timer types
  const toggleType = type => {
    const oldTypeRemaining = calculateTimeRemaining(duration, startTime);
    (0,external_ReactRedux_namespaceObject.batch)(() => {
      // The type we are toggling away from automatically pauses
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_TIMER_PAUSE,
        data: {
          timerType,
          duration: oldTypeRemaining
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_TIMER_USER_EVENT,
        data: {
          userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PAUSE
        }
      }));

      // Sets the current timer type so it persists when opening a new tab
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.WIDGETS_TIMER_SET_TYPE,
        data: {
          timerType: type
        }
      }));
      dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WIDGETS_TIMER_USER_EVENT,
        data: {
          userAction: type === "focus" ? FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_FOCUS : FocusTimer_USER_ACTION_TYPES.TIMER_TOGGLE_BREAK
        }
      }));
    });
    handleTimerInteraction();
  };
  const handleKeyDown = e => {
    if (e.key === "Enter") {
      e.preventDefault();
      setTimerDuration(e);
      handleTimerInteraction();
    }
    if (e.key === "Tab") {
      setTimerDuration(e);
      handleTimerInteraction();
    }
  };
  const handleBeforeInput = e => {
    const input = e.data;
    const values = e.target.innerText.trim();

    // only allow numerical digits 09 for time input
    if (!/^\d+$/.test(input)) {
      e.preventDefault();
    }

    // only allow 2 values each for minutes and seconds
    if (values.length >= 2) {
      e.preventDefault();
    }
    const selection = window.getSelection();
    const selectedText = selection.toString();

    // if entire value is selected, replace it with the new input
    if (selectedText === values) {
      e.preventDefault(); // prevent default typing
      e.target.innerText = input;

      // Places the caret at the end of the content-editable text
      // This is a known problem with content-editable where the caret
      const range = document.createRange();
      range.selectNodeContents(e.target);
      range.collapse(false);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    }
  };
  const handleFocus = e => {
    if (isRunning) {
      // calculated to get the new baseline of the timer when it starts or resumes
      const remaining = calculateTimeRemaining(duration, startTime);
      (0,external_ReactRedux_namespaceObject.batch)(() => {
        dispatch(actionCreators.AlsoToMain({
          type: actionTypes.WIDGETS_TIMER_PAUSE,
          data: {
            timerType,
            duration: remaining
          }
        }));
        dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WIDGETS_TIMER_USER_EVENT,
          data: {
            userAction: FocusTimer_USER_ACTION_TYPES.TIMER_PAUSE
          }
        }));
      });
    }

    // highlight entire text when focused on the time.
    // this makes it easier to input the new time instead of backspacing
    const el = e.target;
    if (document.createRange && window.getSelection) {
      const range = document.createRange();
      range.selectNodeContents(el);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    }
  };
  function handleLearnMore() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.OPEN_LINK,
      data: {
        url: "https://support.mozilla.org/kb/firefox-new-tab-widgets"
      }
    }));
    handleTimerInteraction();
  }
  function handlePrefUpdate(prefName, prefValue) {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.SET_PREF,
      data: {
        name: prefName,
        value: prefValue
      }
    }));
    handleTimerInteraction();
  }
  return timerData ? /*#__PURE__*/external_React_default().createElement("article", {
    className: "focus-timer",
    ref: el => {
      timerRef.current = [el];
    }
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "newtab-widget-timer-notification-title-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("h3", {
    "data-l10n-id": "newtab-widget-timer-notification-title"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "focus-timer-context-menu-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    className: "focus-timer-context-menu-button",
    iconSrc: "chrome://global/skin/icons/more.svg",
    menuId: "focus-timer-context-menu",
    type: "ghost"
  }), /*#__PURE__*/external_React_default().createElement("panel-list", {
    id: "focus-timer-context-menu"
  }, /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": showSystemNotifications ? "newtab-widget-timer-menu-notifications" : "newtab-widget-timer-menu-notifications-on",
    onClick: () => {
      handlePrefUpdate("widgets.focusTimer.showSystemNotifications", !showSystemNotifications);
    }
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-timer-menu-hide",
    onClick: () => {
      handlePrefUpdate("widgets.focusTimer.enabled", false);
    }
  }), /*#__PURE__*/external_React_default().createElement("panel-item", {
    "data-l10n-id": "newtab-widget-timer-menu-learn-more",
    onClick: handleLearnMore
  })))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "focus-timer-tabs"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "focus-timer-tabs-buttons"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: timerType === "focus" ? "default" : "ghost",
    "data-l10n-id": "newtab-widget-timer-mode-focus",
    size: "small",
    onClick: () => toggleType("focus")
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: timerType === "break" ? "default" : "ghost",
    "data-l10n-id": "newtab-widget-timer-mode-break",
    size: "small",
    onClick: () => toggleType("break")
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    role: "progress",
    className: `progress-circle-wrapper ${!showSystemNotifications && !timerData[timerType].isRunning ? "is-small" : ""}`
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle-background${timerType === "break" ? "-break" : ""}`
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle ${timerType === "focus" ? "focus-visible" : "focus-hidden"}`,
    ref: timerType === "focus" ? arcRef : null
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle ${timerType === "break" ? "break-visible" : "break-hidden"}`,
    ref: timerType === "break" ? arcRef : null
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: `progress-circle-complete${progress === 1 ? " visible" : ""}`
  }), /*#__PURE__*/external_React_default().createElement("div", {
    role: "timer",
    className: "progress-circle-label"
  }, /*#__PURE__*/external_React_default().createElement(EditableTimerFields, {
    minutesRef: activeMinutesRef,
    secondsRef: activeSecondsRef,
    onKeyDown: handleKeyDown,
    onBeforeInput: handleBeforeInput,
    onFocus: handleFocus,
    timeLeft: timeLeft,
    onBlur: () => setTimerDuration()
  }))), /*#__PURE__*/external_React_default().createElement("div", {
    className: "set-timer-controls-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: `focus-timer-controls timer-running`
  }, /*#__PURE__*/external_React_default().createElement("moz-button", FocusTimer_extends({}, !isRunning ? {
    type: "primary"
  } : {}, {
    iconsrc: `chrome://global/skin/media/${isRunning ? "pause" : "play"}-fill.svg`,
    "data-l10n-id": isRunning ? "newtab-widget-timer-label-pause" : "newtab-widget-timer-label-play",
    onClick: toggleTimer
  })), isRunning && /*#__PURE__*/external_React_default().createElement("moz-button", {
    type: "icon ghost",
    iconsrc: "chrome://newtab/content/data/content/assets/arrow-clockwise-16.svg",
    "data-l10n-id": "newtab-widget-timer-reset",
    onClick: resetTimer
  }))), !showSystemNotifications && !timerData[timerType].isRunning && /*#__PURE__*/external_React_default().createElement("p", {
    className: "timer-notification-status",
    "data-l10n-id": "newtab-widget-timer-notification-warning"
  })) : null;
};
function EditableTimerFields({
  minutesRef,
  secondsRef,
  tabIndex = 0,
  ...props
}) {
  return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("span", {
    contentEditable: "true",
    ref: minutesRef,
    className: "timer-set-minutes",
    onKeyDown: props.onKeyDown,
    onBeforeInput: props.onBeforeInput,
    onFocus: props.onFocus,
    onBlur: props.onBlur,
    tabIndex: tabIndex
  }, formatTime(props.timeLeft).split(":")[0]), ":", /*#__PURE__*/external_React_default().createElement("span", {
    contentEditable: "true",
    ref: secondsRef,
    className: "timer-set-seconds",
    onKeyDown: props.onKeyDown,
    onBeforeInput: props.onBeforeInput,
    onFocus: props.onFocus,
    onBlur: props.onBlur,
    tabIndex: tabIndex
  }, formatTime(props.timeLeft).split(":")[1]));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/WidgetsFeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */



function WidgetsFeatureHighlight({
  handleDismiss,
  handleBlock,
  dispatch
}) {
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  return /*#__PURE__*/React.createElement(FeatureHighlight, {
    position: "inset-inline-center inset-block-end",
    arrowPosition: "arrow-top-center",
    openedOverride: true,
    showButtonIcon: false,
    feature: messageData?.content?.feature,
    modalClassName: "widget-highlight-wrapper",
    message: /*#__PURE__*/React.createElement("div", {
      className: "widget-highlight"
    }, /*#__PURE__*/React.createElement("img", {
      src: "chrome://newtab/content/data/content/assets/widget-message.png",
      alt: ""
    }), /*#__PURE__*/React.createElement("h3", {
      "data-l10n-id": "newtab-widget-message-title"
    }), /*#__PURE__*/React.createElement("p", {
      "data-l10n-id": "newtab-widget-message-copy"
    })),
    dispatch: dispatch,
    dismissCallback: () => {
      handleDismiss();
      handleBlock();
    },
    outsideClickCallback: handleDismiss
  });
}

;// CONCATENATED MODULE: ./content-src/components/Widgets/Widgets.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */








const PREF_WIDGETS_LISTS_ENABLED = "widgets.lists.enabled";
const PREF_WIDGETS_SYSTEM_LISTS_ENABLED = "widgets.system.lists.enabled";
const PREF_WIDGETS_TIMER_ENABLED = "widgets.focusTimer.enabled";
const PREF_WIDGETS_SYSTEM_TIMER_ENABLED = "widgets.system.focusTimer.enabled";
const PREF_FEEDS_SECTION_TOPSTORIES = "feeds.section.topstories";
function Widgets() {
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const nimbusListsEnabled = prefs.widgetsConfig?.listsEnabled;
  const nimbusTimerEnabled = prefs.widgetsConfig?.timerEnabled;
  const listsEnabled = (nimbusListsEnabled || prefs[PREF_WIDGETS_SYSTEM_LISTS_ENABLED]) && prefs[PREF_WIDGETS_LISTS_ENABLED];
  const timerEnabled = (nimbusTimerEnabled || prefs[PREF_WIDGETS_SYSTEM_TIMER_ENABLED]) && prefs[PREF_WIDGETS_TIMER_ENABLED];
  const recommendedStoriesEnabled = prefs[PREF_FEEDS_SECTION_TOPSTORIES];
  function handleUserInteraction(widgetName) {
    const prefName = `widgets.${widgetName}.interaction`;
    const hasInteracted = prefs[prefName];
    // we want to make sure that the value is a strict false (and that the property exists)
    if (hasInteracted === false) {
      dispatch(actionCreators.SetPref(prefName, true));
    }
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "widgets-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "widgets-container"
  }, listsEnabled && /*#__PURE__*/external_React_default().createElement(Lists, {
    dispatch: dispatch,
    handleUserInteraction: handleUserInteraction
  }), timerEnabled && /*#__PURE__*/external_React_default().createElement(FocusTimer, {
    dispatch: dispatch,
    handleUserInteraction: handleUserInteraction
  })), recommendedStoriesEnabled && /*#__PURE__*/external_React_default().createElement("div", {
    className: "widgets-scroll-message fade-in",
    "aria-live": "polite"
  }, /*#__PURE__*/external_React_default().createElement("p", {
    "data-l10n-id": "newtab-widget-keep-scrolling"
  })), messageData?.content?.messageType === "WidgetMessage" && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
    dispatch: dispatch
  }, /*#__PURE__*/external_React_default().createElement(WidgetsFeatureHighlight, {
    dispatch: dispatch
  })));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamBase/DiscoveryStreamBase.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


















const ALLOWED_CSS_URL_PREFIXES = ["chrome://", "resource://", "https://img-getpocket.cdn.mozilla.net/"];
const DUMMY_CSS_SELECTOR = "DUMMY#CSS.SELECTOR";

/**
 * Validate a CSS declaration. The values are assumed to be normalized by CSSOM.
 */
function isAllowedCSS(property, value) {
  // Bug 1454823: INTERNAL properties, e.g., -moz-context-properties, are
  // exposed but their values aren't resulting in getting nothing. Fortunately,
  // we don't care about validating the values of the current set of properties.
  if (value === undefined) {
    return true;
  }

  // Make sure all urls are of the allowed protocols/prefixes
  const urls = value.match(/url\("[^"]+"\)/g);
  return !urls || urls.every(url => ALLOWED_CSS_URL_PREFIXES.some(prefix => url.slice(5).startsWith(prefix)));
}
class _DiscoveryStreamBase extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onStyleMount = this.onStyleMount.bind(this);
  }
  onStyleMount(style) {
    // Unmounting style gets rid of old styles, so nothing else to do
    if (!style) {
      return;
    }
    const {
      sheet
    } = style;
    const styles = JSON.parse(style.dataset.styles);
    styles.forEach((row, rowIndex) => {
      row.forEach((component, componentIndex) => {
        // Nothing to do without optional styles overrides
        if (!component) {
          return;
        }
        Object.entries(component).forEach(([selectors, declarations]) => {
          // Start with a dummy rule to validate declarations and selectors
          sheet.insertRule(`${DUMMY_CSS_SELECTOR} {}`);
          const [rule] = sheet.cssRules;

          // Validate declarations and remove any offenders. CSSOM silently
          // discards invalid entries, so here we apply extra restrictions.
          rule.style = declarations;
          [...rule.style].forEach(property => {
            const value = rule.style[property];
            if (!isAllowedCSS(property, value)) {
              console.error(`Bad CSS declaration ${property}: ${value}`);
              rule.style.removeProperty(property);
            }
          });

          // Set the actual desired selectors scoped to the component
          const prefix = `.ds-layout > .ds-column:nth-child(${rowIndex + 1}) .ds-column-grid > :nth-child(${componentIndex + 1})`;
          // NB: Splitting on "," doesn't work with strings with commas, but
          // we're okay with not supporting those selectors
          rule.selectorText = selectors.split(",").map(selector => prefix + (
          // Assume :pseudo-classes are for component instead of descendant
          selector[0] === ":" ? "" : " ") + selector).join(",");

          // CSSOM silently ignores bad selectors, so we'll be noisy instead
          if (rule.selectorText === DUMMY_CSS_SELECTOR) {
            console.error(`Bad CSS selector ${selectors}`);
          }
        });
      });
    });
  }
  renderComponent(component) {
    switch (component.type) {
      case "Highlights":
        return /*#__PURE__*/external_React_default().createElement(Highlights, null);
      case "TopSites":
        return /*#__PURE__*/external_React_default().createElement("div", {
          className: "ds-top-sites"
        }, /*#__PURE__*/external_React_default().createElement(TopSites_TopSites, {
          isFixed: true,
          title: component.header?.title
        }));
      case "TextPromo":
        return /*#__PURE__*/external_React_default().createElement(DSTextPromo, {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });
      case "Signup":
        return /*#__PURE__*/external_React_default().createElement(DSSignup, {
          dispatch: this.props.dispatch,
          type: component.type,
          data: component.data
        });
      case "Message":
        return /*#__PURE__*/external_React_default().createElement(DSMessage, {
          title: component.header && component.header.title,
          subtitle: component.header && component.header.subtitle,
          link_text: component.header && component.header.link_text,
          link_url: component.header && component.header.link_url,
          icon: component.header && component.header.icon
        });
      case "SectionTitle":
        return /*#__PURE__*/external_React_default().createElement(SectionTitle, {
          header: component.header
        });
      case "Navigation":
        return /*#__PURE__*/external_React_default().createElement(Navigation, {
          dispatch: this.props.dispatch,
          links: component.properties.links,
          extraLinks: component.properties.extraLinks,
          alignment: component.properties.alignment,
          explore_topics: component.properties.explore_topics,
          header: component.header,
          locale: this.props.App.locale,
          newFooterSection: component.newFooterSection,
          privacyNoticeURL: component.properties.privacyNoticeURL
        });
      case "CardGrid":
        {
          const sectionsEnabled = this.props.Prefs.values["discoverystream.sections.enabled"];
          if (sectionsEnabled) {
            return /*#__PURE__*/external_React_default().createElement(CardSections, {
              feed: component.feed,
              data: component.data,
              dispatch: this.props.dispatch,
              type: component.type,
              firstVisibleTimestamp: this.props.firstVisibleTimestamp,
              ctaButtonSponsors: component.properties.ctaButtonSponsors,
              ctaButtonVariant: component.properties.ctaButtonVariant
            });
          }
          return /*#__PURE__*/external_React_default().createElement(CardGrid, {
            title: component.header && component.header.title,
            data: component.data,
            feed: component.feed,
            widgets: component.widgets,
            type: component.type,
            dispatch: this.props.dispatch,
            items: component.properties.items,
            hybridLayout: component.properties.hybridLayout,
            hideCardBackground: component.properties.hideCardBackground,
            fourCardLayout: component.properties.fourCardLayout,
            compactGrid: component.properties.compactGrid,
            ctaButtonSponsors: component.properties.ctaButtonSponsors,
            ctaButtonVariant: component.properties.ctaButtonVariant,
            hideDescriptions: this.props.DiscoveryStream.hideDescriptions,
            firstVisibleTimestamp: this.props.firstVisibleTimestamp,
            spocPositions: component.spocs?.positions
          });
        }
      case "HorizontalRule":
        return /*#__PURE__*/external_React_default().createElement(HorizontalRule, null);
      case "PrivacyLink":
        return /*#__PURE__*/external_React_default().createElement(PrivacyLink, {
          properties: component.properties
        });
      case "Widgets":
        return /*#__PURE__*/external_React_default().createElement(Widgets, null);
      default:
        return /*#__PURE__*/external_React_default().createElement("div", null, component.type);
    }
  }
  renderStyles(styles) {
    // Use json string as both the key and styles to render so React knows when
    // to unmount and mount a new instance for new styles.
    const json = JSON.stringify(styles);
    return /*#__PURE__*/external_React_default().createElement("style", {
      key: json,
      "data-styles": json,
      ref: this.onStyleMount
    });
  }
  render() {
    const {
      locale
    } = this.props;
    // Bug 1980459 - Note that selectLayoutRender acts as a selector that transforms layout data based on current
    // preferences and experiment flags. It runs after Redux state is populated but before render.
    // Components removed in selectLayoutRender (e.g., Widgets or TopSites) will not appear in the
    // layoutRender result, and therefore will not be rendered here regardless of logic below.

    // Select layout renders data by adding spocs and position to recommendations
    const {
      layoutRender
    } = selectLayoutRender({
      state: this.props.DiscoveryStream,
      prefs: this.props.Prefs.values,
      locale
    });
    const sectionsEnabled = this.props.Prefs.values["discoverystream.sections.enabled"];
    const {
      config
    } = this.props.DiscoveryStream;
    const topicSelectionEnabled = this.props.Prefs.values["discoverystream.topicSelection.enabled"];
    const reportAdsEnabled = this.props.Prefs.values["discoverystream.reportAds.enabled"];
    const spocsEnabled = this.props.Prefs.values["unifiedAds.spocs.enabled"];

    // Allow rendering without extracting special components
    if (!config.collapsible) {
      return this.renderLayout(layoutRender);
    }

    // Find the first component of a type and remove it from layout
    const extractComponent = type => {
      for (const [rowIndex, row] of Object.entries(layoutRender)) {
        for (const [index, component] of Object.entries(row.components)) {
          if (component.type === type) {
            // Remove the row if it was the only component or the single item
            if (row.components.length === 1) {
              layoutRender.splice(rowIndex, 1);
            } else {
              row.components.splice(index, 1);
            }
            return component;
          }
        }
      }
      return null;
    };

    // Get "topstories" Section state for default values
    const topStories = this.props.Sections.find(s => s.id === "topstories");
    if (!topStories) {
      return null;
    }

    // Extract TopSites to render before the rest and Message to use for header
    const topSites = extractComponent("TopSites");

    // There are two ways to enable widgets:
    // Via `widgets.system.*` prefs or Nimbus experiment
    const widgetsNimbusEnabled = this.props.Prefs.values.widgetsConfig?.enabled;
    const widgetsSystemPrefsEnabled = this.props.Prefs.values["widgets.system.enabled"];
    const widgets = widgetsNimbusEnabled || widgetsSystemPrefsEnabled;
    const message = extractComponent("Message") || {
      header: {
        link_text: topStories.learnMore.link.message,
        link_url: topStories.learnMore.link.href,
        title: topStories.title
      }
    };
    const privacyLinkComponent = extractComponent("PrivacyLink");
    let learnMore = {
      link: {
        href: message.header.link_url,
        message: message.header.link_text
      }
    };
    let sectionTitle = message.header.title;
    let subTitle = "";
    const {
      DiscoveryStream
    } = this.props;
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, (reportAdsEnabled && spocsEnabled || sectionsEnabled) && /*#__PURE__*/external_React_default().createElement(ReportContent, {
      spocs: DiscoveryStream.spocs
    }), topSites && this.renderLayout([{
      width: 12,
      components: [topSites],
      sectionType: "topsites"
    }]), widgets && this.renderLayout([{
      width: 12,
      components: [{
        type: "Widgets"
      }],
      sectionType: "widgets"
    }]), !!layoutRender.length && /*#__PURE__*/external_React_default().createElement(CollapsibleSection, {
      className: "ds-layout",
      collapsed: topStories.pref.collapsed,
      dispatch: this.props.dispatch,
      id: topStories.id,
      isFixed: true,
      learnMore: learnMore,
      privacyNoticeURL: topStories.privacyNoticeURL,
      showPrefName: topStories.pref.feed,
      title: sectionTitle,
      subTitle: subTitle,
      mayHaveTopicsSelection: topicSelectionEnabled,
      sectionsEnabled: sectionsEnabled,
      eventSource: "CARDGRID"
    }, this.renderLayout(layoutRender)), this.renderLayout([{
      width: 12,
      components: [{
        type: "Highlights"
      }]
    }]), privacyLinkComponent && this.renderLayout([{
      width: 12,
      components: [privacyLinkComponent]
    }]));
  }
  renderLayout(layoutRender) {
    const styles = [];
    let [data] = layoutRender;
    // Add helper class for topsites
    const sectionClass = data.sectionType ? `ds-layout-${data.sectionType}` : "";
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: `discovery-stream ds-layout ${sectionClass}`
    }, layoutRender.map((row, rowIndex) => /*#__PURE__*/external_React_default().createElement("div", {
      key: `row-${rowIndex}`,
      className: `ds-column ds-column-${row.width}`
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "ds-column-grid"
    }, row.components.map((component, componentIndex) => {
      if (!component) {
        return null;
      }
      styles[rowIndex] = [...(styles[rowIndex] || []), component.styles];
      return /*#__PURE__*/external_React_default().createElement("div", {
        key: `component-${componentIndex}`
      }, this.renderComponent(component, row.width));
    })))), this.renderStyles(styles));
  }
}
const DiscoveryStreamBase = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  DiscoveryStream: state.DiscoveryStream,
  Prefs: state.Prefs,
  Sections: state.Sections,
  document: globalThis.document,
  App: state.App
}))(_DiscoveryStreamBase);
;// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/SectionsMgmtPanel/SectionsMgmtPanel.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




// eslint-disable-next-line no-shadow

function SectionsMgmtPanel({
  exitEventFired
}) {
  const [showPanel, setShowPanel] = (0,external_React_namespaceObject.useState)(false); // State management with useState
  const {
    sectionPersonalization
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream);
  const layoutComponents = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream.layout[0].components);
  const sections = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.DiscoveryStream.feeds.data);
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();

  // TODO: Wrap sectionsFeedName -> sectionsList logic in try...catch?
  let sectionsFeedName;
  const cardGridEntry = layoutComponents.find(item => item.type === "CardGrid");
  if (cardGridEntry) {
    sectionsFeedName = cardGridEntry.feed.url;
  }
  let sectionsList;
  if (sectionsFeedName) {
    sectionsList = sections[sectionsFeedName].data.sections;
  }
  const [sectionsState, setSectionState] = (0,external_React_namespaceObject.useState)(sectionPersonalization); // State management with useState

  let followedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isFollowed);
  let blockedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isBlocked);
  function updateCachedData() {
    // Reset cached followed/blocked list data while panel is open
    setSectionState(sectionPersonalization);
    followedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isFollowed);
    blockedSectionsData = sectionsList.filter(item => sectionsState[item.sectionKey]?.isBlocked);
  }
  const onFollowClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: {
        ...sectionPersonalization,
        [sectionKey]: {
          isFollowed: true,
          isBlocked: false,
          followedAt: new Date().toISOString()
        }
      }
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "FOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);
  const onBlockClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: {
        ...sectionPersonalization,
        [sectionKey]: {
          isFollowed: false,
          isBlocked: true
        }
      }
    }));

    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "BLOCK_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);
  const onUnblockClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    const updatedSectionData = {
      ...sectionPersonalization
    };
    delete updatedSectionData[sectionKey];
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "UNBLOCK_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);
  const onUnfollowClick = (0,external_React_namespaceObject.useCallback)((sectionKey, receivedRank) => {
    const updatedSectionData = {
      ...sectionPersonalization
    };
    delete updatedSectionData[sectionKey];
    dispatch(actionCreators.AlsoToMain({
      type: actionTypes.SECTION_PERSONALIZATION_SET,
      data: updatedSectionData
    }));
    // Telemetry Event Dispatch
    dispatch(actionCreators.OnlyToMain({
      type: "UNFOLLOW_SECTION",
      data: {
        section: sectionKey,
        section_position: receivedRank,
        event_source: "CUSTOMIZE_PANEL"
      }
    }));
  }, [dispatch, sectionPersonalization]);

  // Close followed/blocked topic subpanel when parent menu is closed
  (0,external_React_namespaceObject.useEffect)(() => {
    if (exitEventFired) {
      setShowPanel(false);
    }
  }, [exitEventFired]);
  const togglePanel = () => {
    setShowPanel(prevShowPanel => !prevShowPanel);

    // Fire when the panel is open
    if (!showPanel) {
      updateCachedData();
    }
  };
  const followedSectionsList = followedSectionsData.map(({
    sectionKey,
    title,
    receivedRank
  }) => {
    const following = sectionPersonalization[sectionKey]?.isFollowed;
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: sectionKey
    }, /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: `follow-topic-${sectionKey}`
    }, title), /*#__PURE__*/external_React_default().createElement("div", {
      className: following ? "section-follow following" : "section-follow"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      onClick: () => following ? onUnfollowClick(sectionKey, receivedRank) : onFollowClick(sectionKey, receivedRank),
      type: "default",
      index: receivedRank,
      section: sectionKey,
      id: `follow-topic-${sectionKey}`
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-follow-text",
      "data-l10n-id": "newtab-section-follow-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-following-text",
      "data-l10n-id": "newtab-section-following-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-unfollow-text",
      "data-l10n-id": "newtab-section-unfollow-button"
    }))));
  });
  const blockedSectionsList = blockedSectionsData.map(({
    sectionKey,
    title,
    receivedRank
  }) => {
    const blocked = sectionPersonalization[sectionKey]?.isBlocked;
    return /*#__PURE__*/external_React_default().createElement("li", {
      key: sectionKey
    }, /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: `blocked-topic-${sectionKey}`
    }, title), /*#__PURE__*/external_React_default().createElement("div", {
      className: blocked ? "section-block blocked" : "section-block"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      onClick: () => blocked ? onUnblockClick(sectionKey, receivedRank) : onBlockClick(sectionKey, receivedRank),
      type: "default",
      index: receivedRank,
      section: sectionKey,
      id: `blocked-topic-${sectionKey}`
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-block-text",
      "data-l10n-id": "newtab-section-block-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-blocked-text",
      "data-l10n-id": "newtab-section-blocked-button"
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "section-button-unblock-text",
      "data-l10n-id": "newtab-section-unblock-button"
    }))));
  });
  return /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("moz-box-button", {
    onClick: togglePanel,
    "data-l10n-id": "newtab-section-manage-topics-button-v2"
  }), /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
    in: showPanel,
    timeout: 300,
    classNames: "sections-mgmt-panel",
    unmountOnExit: true
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "sections-mgmt-panel"
  }, /*#__PURE__*/external_React_default().createElement("button", {
    className: "arrow-button",
    onClick: togglePanel
  }, /*#__PURE__*/external_React_default().createElement("h1", {
    "data-l10n-id": "newtab-section-mangage-topics-title"
  })), /*#__PURE__*/external_React_default().createElement("h3", {
    "data-l10n-id": "newtab-section-mangage-topics-followed-topics"
  }), followedSectionsData.length ? /*#__PURE__*/external_React_default().createElement("ul", {
    className: "topic-list"
  }, followedSectionsList) : /*#__PURE__*/external_React_default().createElement("span", {
    className: "topic-list-empty-state",
    "data-l10n-id": "newtab-section-mangage-topics-followed-topics-empty-state"
  }), /*#__PURE__*/external_React_default().createElement("h3", {
    "data-l10n-id": "newtab-section-mangage-topics-blocked-topics"
  }), blockedSectionsData.length ? /*#__PURE__*/external_React_default().createElement("ul", {
    className: "topic-list"
  }, blockedSectionsList) : /*#__PURE__*/external_React_default().createElement("span", {
    className: "topic-list-empty-state",
    "data-l10n-id": "newtab-section-mangage-topics-blocked-topics-empty-state"
  }))));
}

;// CONCATENATED MODULE: ./content-src/components/WallpaperCategories/WallpaperCategories.jsx
function WallpaperCategories_extends() { return WallpaperCategories_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, WallpaperCategories_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




// eslint-disable-next-line no-shadow

const PREF_WALLPAPER_UPLOADED_PREVIOUSLY = "newtabWallpapers.customWallpaper.uploadedPreviously";
const PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE = "newtabWallpapers.customWallpaper.fileSize";
const PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE_ENABLED = "newtabWallpapers.customWallpaper.fileSize.enabled";

// Returns a function will not be continuously triggered when called. The
// function will be triggered if called again after `wait` milliseconds.
function debounce(func, wait) {
  let timer;
  return (...args) => {
    if (timer) {
      return;
    }
    let wakeUp = () => {
      timer = null;
    };
    timer = setTimeout(wakeUp, wait);
    func.apply(this, args);
  };
}
class _WallpaperCategories extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.handleColorInput = this.handleColorInput.bind(this);
    this.debouncedHandleChange = debounce(this.handleChange.bind(this), 999);
    this.handleChange = this.handleChange.bind(this);
    this.handleReset = this.handleReset.bind(this);
    this.handleCategory = this.handleCategory.bind(this);
    this.focusCategory = this.focusCategory.bind(this);
    this.handleUpload = this.handleUpload.bind(this);
    this.handleBack = this.handleBack.bind(this);
    this.getRGBColors = this.getRGBColors.bind(this);
    this.prefersHighContrastQuery = null;
    this.prefersDarkQuery = null;
    this.categoryRef = []; // store references for wallpaper category list
    this.wallpaperRef = []; // store reference for wallpaper selection list
    this.customColorPickerRef = /*#__PURE__*/external_React_default().createRef(); // Used to determine contrast icon color for custom color picker
    this.customColorInput = /*#__PURE__*/external_React_default().createRef(); // Used to determine contrast icon color for custom color picker
    this.state = {
      activeCategory: null,
      activeCategoryFluentID: null,
      showColorPicker: false,
      inputType: "radio",
      activeId: null,
      customWallpaperErrorType: null,
      focusedCategoryIndex: 0
    };
  }
  componentDidMount() {
    this.prefersDarkQuery = globalThis.matchMedia("(prefers-color-scheme: dark)");
  }
  componentDidUpdate(prevProps) {
    // Walllpaper category subpanel should close when parent menu is closed
    if (this.props.exitEventFired && this.props.exitEventFired !== prevProps.exitEventFired) {
      this.handleBack();
    }
  }
  handleColorInput(event) {
    let {
      id
    } = event.target;
    // Set ID to include hex value of custom color
    id = `solid-color-picker-${event.target.value}`;
    const rgbColors = this.getRGBColors(event.target.value);

    // Set background color to custom color
    event.target.style.backgroundColor = `rgb(${rgbColors.toString()})`;
    if (this.customColorPickerRef.current) {
      const colorInputBackground = this.customColorPickerRef.current.children[0].style.backgroundColor;
      this.customColorPickerRef.current.style.backgroundColor = colorInputBackground;
    }

    // Set icon color based on the selected color
    const isColorDark = this.isWallpaperColorDark(rgbColors);
    if (this.customColorPickerRef.current) {
      if (isColorDark) {
        this.customColorPickerRef.current.classList.add("is-dark");
      } else {
        this.customColorPickerRef.current.classList.remove("is-dark");
      }

      // Remove any possible initial classes
      this.customColorPickerRef.current.classList.remove("custom-color-set", "custom-color-dark", "default-color-set");
    }

    // Setting this now so when we remove v1 we don't have to migrate v1 values.
    this.props.setPref("newtabWallpapers.wallpaper", id);
  }

  // Note: There's a separate event (debouncedHandleChange) that fires the handleChange
  // event but is delayed so that it doesn't fire multiple events when a user
  // is selecting a custom color background
  handleChange(event) {
    let {
      id
    } = event.target;

    // Set ID to include hex value of custom color
    if (id === "solid-color-picker") {
      id = `solid-color-picker-${event.target.value}`;
    }
    this.props.setPref("newtabWallpapers.wallpaper", id);
    const uploadedPreviously = this.props.Prefs.values[PREF_WALLPAPER_UPLOADED_PREVIOUSLY];
    this.handleUserEvent(actionTypes.WALLPAPER_CLICK, {
      selected_wallpaper: id,
      had_previous_wallpaper: !!this.props.activeWallpaper,
      had_uploaded_previously: !!uploadedPreviously
    });
  }
  focusCategory(focusIndex) {
    if (!this.categoryRef) {
      return;
    }
    const el = this.categoryRef[focusIndex];
    if (el) {
      el.focus();
    }
  }

  // function implementing arrow navigation for wallpaper category selection
  handleCategoryKeyDown(event, category) {
    const getIndex = this.categoryRef.findIndex(cat => cat.id === category);
    if (getIndex === -1) {
      return; // prevents errors if wallpaper index isn't found when navigating with arrow keys
    }
    const isRTL = document.dir === "rtl"; // returns true if page language is right-to-left
    let eventKey = event.key;
    if (eventKey === "ArrowRight" || eventKey === "ArrowLeft") {
      if (isRTL) {
        eventKey = eventKey === "ArrowRight" ? "ArrowLeft" : "ArrowRight";
      }
    }
    let nextIndex = getIndex;
    if (eventKey === "ArrowRight") {
      nextIndex = getIndex + 1 < this.categoryRef.length ? getIndex + 1 : getIndex;
    } else if (eventKey === "ArrowLeft") {
      nextIndex = getIndex - 1 >= 0 ? getIndex - 1 : getIndex;
    }
    this.setState({
      focusedCategoryIndex: nextIndex
    }, () => this.focusCategory(nextIndex));
  }

  // function implementing arrow navigation for wallpaper selection
  handleWallpaperKeyDown(event, title) {
    if (event.key === "Tab") {
      if (event.shiftKey) {
        event.preventDefault();
        this.backToMenuButton?.focus();
      } else {
        event.preventDefault(); // prevent tabbing within wallpaper selection. We should only be using the Tab key to tab between groups
      }
      return;
    }
    const isRTL = document.dir === "rtl"; // returns true if page language is right-to-left
    let eventKey = event.key;
    if (eventKey === "ArrowRight" || eventKey === "ArrowLeft") {
      if (isRTL) {
        eventKey = eventKey === "ArrowRight" ? "ArrowLeft" : "ArrowRight";
      }
    }
    const getIndex = this.wallpaperRef.findIndex(wallpaper => wallpaper.id === title);
    if (getIndex === -1) {
      return; // prevents errors if wallpaper index isn't found when navigating with arrow keys
    }

    // the set layout of columns per row for the wallpaper selection
    const columnCount = 3;
    let nextIndex = getIndex;
    if (eventKey === "ArrowRight") {
      nextIndex = getIndex + 1 < this.wallpaperRef.length ? getIndex + 1 : getIndex;
    } else if (eventKey === "ArrowLeft") {
      nextIndex = getIndex - 1 >= 0 ? getIndex - 1 : getIndex;
    } else if (eventKey === "ArrowDown") {
      nextIndex = getIndex + columnCount < this.wallpaperRef.length ? getIndex + columnCount : getIndex;
    } else if (eventKey === "ArrowUp") {
      nextIndex = getIndex - columnCount >= 0 ? getIndex - columnCount : getIndex;
    }
    this.wallpaperRef[nextIndex].tabIndex = 0;
    this.wallpaperRef[getIndex].tabIndex = -1;
    this.wallpaperRef[nextIndex].focus();
    this.wallpaperRef[nextIndex].click();
  }
  handleReset() {
    const uploadedPreviously = this.props.Prefs.values[PREF_WALLPAPER_UPLOADED_PREVIOUSLY];
    const selectedWallpaper = this.props.Prefs.values["newtabWallpapers.wallpaper"];

    // If a custom wallpaper is set, remove it
    if (selectedWallpaper === "custom") {
      this.props.dispatch(actionCreators.OnlyToMain({
        type: actionTypes.WALLPAPER_REMOVE_UPLOAD
      }));
    }

    // Reset active wallpaper
    this.props.setPref("newtabWallpapers.wallpaper", "");

    // Fire WALLPAPER_CLICK telemetry event
    this.handleUserEvent(actionTypes.WALLPAPER_CLICK, {
      selected_wallpaper: "none",
      had_previous_wallpaper: !!this.props.activeWallpaper,
      had_uploaded_previously: !!uploadedPreviously
    });
  }
  handleCategory = event => {
    this.setState({
      activeCategory: event.target.id
    });
    this.handleUserEvent(actionTypes.WALLPAPER_CATEGORY_CLICK, event.target.id);
    let fluent_id;
    switch (event.target.id) {
      case "abstracts":
        fluent_id = "newtab-wallpaper-category-title-abstract";
        break;
      case "celestial":
        fluent_id = "newtab-wallpaper-category-title-celestial";
        break;
      case "photographs":
        fluent_id = "newtab-wallpaper-category-title-photographs";
        break;
      case "solid-colors":
        fluent_id = "newtab-wallpaper-category-title-colors";
    }
    this.setState({
      activeCategoryFluentID: fluent_id
    });
  };

  // Custom wallpaper image upload
  async handleUpload() {
    const wallpaperUploadMaxFileSizeEnabled = this.props.Prefs.values[PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE_ENABLED];
    const wallpaperUploadMaxFileSize = this.props.Prefs.values[PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE];
    const uploadedPreviously = this.props.Prefs.values[PREF_WALLPAPER_UPLOADED_PREVIOUSLY];

    // Create a file input since category buttons are radio inputs
    const fileInput = document.createElement("input");
    fileInput.type = "file";
    fileInput.accept = "image/*"; // only allow image files

    // Catch cancel events
    fileInput.oncancel = async () => {
      this.setState({
        customWallpaperErrorType: null
      });
    };

    // Reset error state when user begins file selection
    this.setState({
      customWallpaperErrorType: null
    });

    // Fire when user selects a file
    fileInput.onchange = async event => {
      const [file] = event.target.files;
      if (file) {
        // Validate file type: Only accept files with a valid image MIME type
        const isValidImage = file.type && file.type.startsWith("image/");
        if (!isValidImage) {
          console.error("Invalid file type");
          this.setState({
            customWallpaperErrorType: "fileType"
          });
          return;
        }

        // Limit image uploaded to a maximum file size if enabled
        // Note: The max file size pref (customWallpaper.fileSize) is converted to megabytes (MB)
        // Example: if pref value is 5, max file size is 5 MB
        const maxSize = wallpaperUploadMaxFileSize * 1024 * 1024;
        if (wallpaperUploadMaxFileSizeEnabled && file.size > maxSize) {
          console.error("File size exceeds limit");
          this.setState({
            customWallpaperErrorType: "fileSize"
          });
          return;
        }
        this.props.dispatch(actionCreators.OnlyToMain({
          type: actionTypes.WALLPAPER_UPLOAD,
          data: {
            file
          }
        }));

        // Set active wallpaper ID to "custom"
        this.props.setPref("newtabWallpapers.wallpaper", "custom");

        // Update the uploadedPreviously pref to TRUE
        // Note: this pref used for telemetry. Do not reset to false.
        this.props.setPref(PREF_WALLPAPER_UPLOADED_PREVIOUSLY, true);
        this.handleUserEvent(actionTypes.WALLPAPER_CLICK, {
          selected_wallpaper: "custom",
          had_previous_wallpaper: !!this.props.activeWallpaper,
          had_uploaded_previously: !!uploadedPreviously
        });
      }
    };
    fileInput.click();
  }
  handleBack() {
    this.setState({
      activeCategory: null
    }, () => {
      // Wait for the category grid to be back in the DOM
      requestAnimationFrame(() => {
        this.focusCategory(this.state.focusedCategoryIndex);
      });
    });
  }

  // Record user interaction when changing wallpaper and reseting wallpaper to default
  handleUserEvent(type, data) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type,
      data
    }));
  }
  setActiveId = id => {
    this.setState({
      activeId: id
    }); // Set the active ID
  };
  getRGBColors(input) {
    if (input.length !== 7) {
      return [];
    }
    const r = parseInt(input.substr(1, 2), 16);
    const g = parseInt(input.substr(3, 2), 16);
    const b = parseInt(input.substr(5, 2), 16);
    return [r, g, b];
  }
  isWallpaperColorDark([r, g, b]) {
    return 0.2125 * r + 0.7154 * g + 0.0721 * b <= 110;
  }
  render() {
    const prefs = this.props.Prefs.values;
    const {
      wallpaperList,
      categories
    } = this.props.Wallpapers;
    const {
      activeWallpaper
    } = this.props;
    const {
      activeCategory,
      showColorPicker
    } = this.state;
    const {
      activeCategoryFluentID
    } = this.state;
    let filteredWallpapers = wallpaperList.filter(wallpaper => wallpaper.category === activeCategory);
    const wallpaperUploadMaxFileSize = this.props.Prefs.values[PREF_WALLPAPER_UPLOAD_MAX_FILE_SIZE];
    function reduceColorsToFitCustomColorInput(arr) {
      // Reduce the amount of custom colors to make space for the custom color picker
      while (arr.length % 3 !== 2) {
        arr.pop();
      }
      return arr;
    }
    let wallpaperCustomSolidColorHex = null;
    const selectedWallpaper = prefs["newtabWallpapers.wallpaper"];

    // User has previous selected a custom color
    if (selectedWallpaper.includes("solid-color-picker")) {
      this.setState({
        showColorPicker: true
      });
      const regex = /#([a-fA-F0-9]{6})/;
      [wallpaperCustomSolidColorHex] = selectedWallpaper.match(regex);
    }

    // Enable custom color select if pref'ed on
    this.setState({
      showColorPicker: prefs["newtabWallpapers.customColor.enabled"]
    });

    // Remove last item of solid colors to make space for custom color picker
    if (prefs["newtabWallpapers.customColor.enabled"] && activeCategory === "solid-colors") {
      filteredWallpapers = reduceColorsToFitCustomColorInput(filteredWallpapers);
    }

    // Bug 1953012 - If nothing selected, default to color of customize panel
    // --color-blue-70 : #054096
    // --color-blue-05 : #deeafc
    const starterColorHex = this.prefersDarkQuery?.matches ? "#054096" : "#deeafc";

    // Set initial state of the color picker (depending if the user has already set a custom color)
    let initStateClassname = wallpaperCustomSolidColorHex ? "custom-color-set" : "default-color-set";

    // If a custom color picker is set, make sure the icon has the correct contrast
    if (wallpaperCustomSolidColorHex) {
      const rgbColors = this.getRGBColors(wallpaperCustomSolidColorHex);
      const isColorDark = this.isWallpaperColorDark(rgbColors);
      if (isColorDark) {
        initStateClassname += " custom-color-dark";
      }
    }
    let colorPickerInput = showColorPicker && activeCategory === "solid-colors" ? /*#__PURE__*/external_React_default().createElement("div", {
      className: `theme-custom-color-picker ${initStateClassname}`,
      ref: this.customColorPickerRef
    }, /*#__PURE__*/external_React_default().createElement("input", {
      onInput: this.handleColorInput,
      onChange: this.debouncedHandleChange,
      onClick: () => this.setActiveId("solid-color-picker") //
      ,
      type: "color",
      name: `wallpaper-solid-color-picker`,
      id: "solid-color-picker"
      // aria-checked is not applicable for input[type="color"] elements
      ,
      "aria-current": this.state.activeId === "solid-color-picker",
      value: wallpaperCustomSolidColorHex || starterColorHex,
      className: `wallpaper-input
              ${this.state.activeId === "solid-color-picker" ? "active" : ""}`,
      ref: this.customColorInput
    }), /*#__PURE__*/external_React_default().createElement("label", {
      htmlFor: "solid-color-picker",
      "data-l10n-id": "newtab-wallpaper-custom-color"
    })) : "";
    return /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("div", {
      className: "category-header"
    }, /*#__PURE__*/external_React_default().createElement("h2", {
      "data-l10n-id": "newtab-wallpaper-title"
    }), /*#__PURE__*/external_React_default().createElement("button", {
      className: "wallpapers-reset",
      onClick: this.handleReset,
      "data-l10n-id": "newtab-wallpaper-reset"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      role: "grid",
      "aria-label": "Wallpaper category selection. Use arrow keys to navigate."
    }, /*#__PURE__*/external_React_default().createElement("fieldset", {
      className: "category-list"
    }, categories.map((category, index) => {
      const filteredList = wallpaperList.filter(wallpaper => wallpaper.category === category);
      const activeWallpaperObj = activeWallpaper && filteredList.find(wp => wp.title === activeWallpaper);
      // Detect custom solid color
      const isCustomSolidColor = category === "solid-colors" && activeWallpaper.startsWith("solid-color-picker");
      const thumbnail = activeWallpaperObj || filteredList[0];
      let fluent_id;
      switch (category) {
        case "abstracts":
          fluent_id = "newtab-wallpaper-category-title-abstract";
          break;
        case "celestial":
          fluent_id = "newtab-wallpaper-category-title-celestial";
          break;
        case "custom-wallpaper":
          fluent_id = "newtab-wallpaper-upload-image";
          break;
        case "photographs":
          fluent_id = "newtab-wallpaper-category-title-photographs";
          break;
        case "solid-colors":
          fluent_id = "newtab-wallpaper-category-title-colors";
      }
      let style = {};
      if (thumbnail?.wallpaperUrl) {
        style.backgroundImage = `url(${thumbnail.wallpaperUrl})`;
      } else {
        style.backgroundColor = thumbnail?.solid_color || "";
      }
      // If custom solid color is active, override the thumbnail to the chosen hex
      if (isCustomSolidColor) {
        const hex = activeWallpaper.split("solid-color-picker-")[1] || "";
        style.backgroundColor = hex;
      }
      const isCategorySelected = activeWallpaperObj || isCustomSolidColor;
      return /*#__PURE__*/external_React_default().createElement("div", {
        key: category
      }, /*#__PURE__*/external_React_default().createElement("button", WallpaperCategories_extends({
        ref: el => {
          if (el) {
            this.categoryRef[index] = el;
          }
        },
        id: category,
        style: style,
        onKeyDown: e => this.handleCategoryKeyDown(e, category)
        // Add overrides for custom wallpaper upload UI
        ,
        onClick: event => {
          this.setState({
            focusedCategoryIndex: index
          });
          if (category !== "custom-wallpaper") {
            this.handleCategory(event);
          } else {
            this.handleUpload();
          }
        },
        className: `wallpaper-input
                      ${category === "custom-wallpaper" ? "theme-custom-wallpaper" : ""}
                      ${isCategorySelected ? "selected" : ""}`,
        tabIndex: this.state.focusedCategoryIndex === index ? 0 : -1
      }, category === "custom-wallpaper" ? {
        "aria-errormessage": "customWallpaperError"
      } : {})), /*#__PURE__*/external_React_default().createElement("label", {
        htmlFor: category,
        "data-l10n-id": fluent_id
      }, fluent_id));
    })), this.state.customWallpaperErrorType && /*#__PURE__*/external_React_default().createElement("div", {
      className: "custom-wallpaper-error",
      id: "customWallpaperError"
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "icon icon-info"
    }), (() => {
      switch (this.state.customWallpaperErrorType) {
        case "fileSize":
          return /*#__PURE__*/external_React_default().createElement("span", {
            "data-l10n-id": "newtab-wallpaper-error-max-file-size",
            "data-l10n-args": `{"file_size": ${wallpaperUploadMaxFileSize}}`
          });
        case "fileType":
          return /*#__PURE__*/external_React_default().createElement("span", {
            "data-l10n-id": "newtab-wallpaper-error-upload-file-type"
          });
        default:
          return null;
      }
    })())), /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      in: !!activeCategory,
      timeout: 300,
      classNames: "wallpaper-list",
      unmountOnExit: true
    }, /*#__PURE__*/external_React_default().createElement("section", {
      className: "category wallpaper-list ignore-color-mode"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "arrow-button",
      "data-l10n-id": activeCategoryFluentID,
      onClick: this.handleBack,
      ref: el => {
        this.backToMenuButton = el;
      }
    }), /*#__PURE__*/external_React_default().createElement("div", {
      role: "grid",
      "aria-label": "Wallpaper selection. Use arrow keys to navigate."
    }, /*#__PURE__*/external_React_default().createElement("fieldset", null, filteredWallpapers.map(({
      title,
      theme,
      fluent_id,
      solid_color,
      wallpaperUrl
    }, index) => {
      let style = {};
      if (wallpaperUrl) {
        style.backgroundImage = `url(${wallpaperUrl})`;
      } else {
        style.backgroundColor = solid_color || "";
      }
      return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("input", {
        ref: el => {
          if (el) {
            this.wallpaperRef[index] = el;
          }
        },
        onChange: this.handleChange,
        onKeyDown: e => this.handleWallpaperKeyDown(e, title),
        style: style,
        type: "radio",
        name: `wallpaper-${title}`,
        id: title,
        value: title,
        checked: title === activeWallpaper,
        "aria-checked": title === activeWallpaper,
        className: `wallpaper-input theme-${theme} ${this.state.activeId === title ? "active" : ""}`,
        onClick: () => this.setActiveId(title) //
        ,
        tabIndex: index === 0 ? 0 : -1 //the first wallpaper in the array will have a tabindex of 0 so we can tab into it. The rest will have a tabindex of -1
      }), /*#__PURE__*/external_React_default().createElement("label", {
        htmlFor: title,
        className: "sr-only",
        "data-l10n-id": fluent_id
      }, fluent_id));
    }), colorPickerInput)))));
  }
}
const WallpaperCategories = (0,external_ReactRedux_namespaceObject.connect)(state => {
  return {
    Wallpapers: state.Wallpapers,
    Prefs: state.Prefs
  };
})(_WallpaperCategories);
;// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/ContentSection/ContentSection.jsx
function ContentSection_extends() { return ContentSection_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, ContentSection_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





class ContentSection extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onPreferenceSelect = this.onPreferenceSelect.bind(this);

    // Refs are necessary for dynamically measuring drawer heights for slide animations
    this.topSitesDrawerRef = /*#__PURE__*/external_React_default().createRef();
    this.pocketDrawerRef = /*#__PURE__*/external_React_default().createRef();
  }
  inputUserEvent(eventSource, eventValue) {
    this.props.dispatch(actionCreators.UserEvent({
      event: "PREF_CHANGED",
      source: eventSource,
      value: {
        status: eventValue,
        menu_source: "CUSTOMIZE_MENU"
      }
    }));
  }
  onPreferenceSelect(e) {
    // eventSource: WEATHER | TOP_SITES | TOP_STORIES | WIDGET_LISTS | WIDGET_TIMER | TRENDING_SEARCH
    const {
      preference,
      eventSource
    } = e.target.dataset;
    let value;
    if (e.target.nodeName === "SELECT") {
      value = parseInt(e.target.value, 10);
    } else if (e.target.nodeName === "INPUT") {
      value = e.target.checked;
      if (eventSource) {
        this.inputUserEvent(eventSource, value);
      }
    } else if (e.target.nodeName === "MOZ-TOGGLE") {
      value = e.target.pressed;
      if (eventSource) {
        this.inputUserEvent(eventSource, value);
      }
    }
    this.props.setPref(preference, value);
  }
  componentDidMount() {
    this.setDrawerMargins();
  }
  componentDidUpdate() {
    this.setDrawerMargins();
  }
  setDrawerMargins() {
    this.setDrawerMargin(`TOP_SITES`, this.props.enabledSections.topSitesEnabled);
    this.setDrawerMargin(`TOP_STORIES`, this.props.enabledSections.pocketEnabled);
  }
  setDrawerMargin(drawerID, isOpen) {
    let drawerRef;
    if (drawerID === `TOP_SITES`) {
      drawerRef = this.topSitesDrawerRef.current;
    } else if (drawerID === `TOP_STORIES`) {
      drawerRef = this.pocketDrawerRef.current;
    } else {
      return;
    }
    if (drawerRef) {
      let drawerHeight = parseFloat(window.getComputedStyle(drawerRef)?.height) || 0;
      if (isOpen) {
        drawerRef.style.marginTop = "var(--space-small)";
      } else {
        drawerRef.style.marginTop = `-${drawerHeight + 3}px`;
      }
    }
  }
  render() {
    const {
      enabledSections,
      enabledWidgets,
      pocketRegion,
      mayHaveInferredPersonalization,
      mayHaveWeather,
      mayHaveTrendingSearch,
      mayHaveWidgets,
      mayHaveTimerWidget,
      mayHaveListsWidget,
      openPreferences,
      wallpapersEnabled,
      activeWallpaper,
      setPref,
      mayHaveTopicSections,
      exitEventFired
    } = this.props;
    const {
      topSitesEnabled,
      pocketEnabled,
      weatherEnabled,
      trendingSearchEnabled,
      showInferredPersonalizationEnabled,
      topSitesRowsCount
    } = enabledSections;
    const {
      timerEnabled,
      listsEnabled
    } = enabledWidgets;
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: "home-section"
    }, wallpapersEnabled && /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
      className: "wallpapers-section"
    }, /*#__PURE__*/external_React_default().createElement(WallpaperCategories, {
      setPref: setPref,
      activeWallpaper: activeWallpaper,
      exitEventFired: exitEventFired
    })), !mayHaveWidgets && /*#__PURE__*/external_React_default().createElement("span", {
      className: "divider",
      role: "separator"
    })), mayHaveWidgets && /*#__PURE__*/external_React_default().createElement("div", {
      className: "widgets-section"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "category-header"
    }, /*#__PURE__*/external_React_default().createElement("h2", {
      "data-l10n-id": "newtab-custom-widget-section-title"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      className: "settings-widgets"
    }, mayHaveWeather && /*#__PURE__*/external_React_default().createElement("div", {
      id: "weather-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "weather-toggle",
      pressed: weatherEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "showWeather",
      "data-eventSource": "WEATHER",
      "data-l10n-id": "newtab-custom-widget-weather-toggle"
    })), mayHaveListsWidget && /*#__PURE__*/external_React_default().createElement("div", {
      id: "lists-widget-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "lists-toggle",
      pressed: listsEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "widgets.lists.enabled",
      "data-eventSource": "WIDGET_LISTS",
      "data-l10n-id": "newtab-custom-widget-lists-toggle"
    })), mayHaveTimerWidget && /*#__PURE__*/external_React_default().createElement("div", {
      id: "timer-widget-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "timer-toggle",
      pressed: timerEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "widgets.focusTimer.enabled",
      "data-eventSource": "WIDGET_TIMER",
      "data-l10n-id": "newtab-custom-widget-timer-toggle"
    })), mayHaveTrendingSearch && /*#__PURE__*/external_React_default().createElement("div", {
      id: "trending-search-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "trending-search-toggle",
      pressed: trendingSearchEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "trendingSearch.enabled",
      "data-eventSource": "TRENDING_SEARCH",
      "data-l10n-id": "newtab-custom-widget-trending-search-toggle"
    })), /*#__PURE__*/external_React_default().createElement("span", {
      className: "divider",
      role: "separator"
    }))), /*#__PURE__*/external_React_default().createElement("div", {
      className: "settings-toggles"
    }, !mayHaveWidgets && mayHaveWeather && /*#__PURE__*/external_React_default().createElement("div", {
      id: "weather-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "weather-toggle",
      pressed: weatherEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "showWeather",
      "data-eventSource": "WEATHER",
      "data-l10n-id": "newtab-custom-weather-toggle"
    })), !mayHaveWidgets && mayHaveTrendingSearch && /*#__PURE__*/external_React_default().createElement("div", {
      id: "trending-search-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "trending-search-toggle",
      pressed: trendingSearchEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "trendingSearch.enabled",
      "data-eventSource": "TRENDING_SEARCH",
      "data-l10n-id": "newtab-custom-trending-search-toggle"
    })), /*#__PURE__*/external_React_default().createElement("div", {
      id: "shortcuts-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", {
      id: "shortcuts-toggle",
      pressed: topSitesEnabled || null,
      onToggle: this.onPreferenceSelect,
      "data-preference": "feeds.topsites",
      "data-eventSource": "TOP_SITES",
      "data-l10n-id": "newtab-custom-shortcuts-toggle"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      slot: "nested"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-info-top-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-information",
      ref: this.topSitesDrawerRef
    }, /*#__PURE__*/external_React_default().createElement("select", {
      id: "row-selector",
      className: "selector",
      name: "row-count",
      "data-preference": "topSitesRows",
      value: topSitesRowsCount,
      onChange: this.onPreferenceSelect,
      disabled: !topSitesEnabled,
      "aria-labelledby": "custom-shortcuts-title"
    }, /*#__PURE__*/external_React_default().createElement("option", {
      value: "1",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 1}"
    }), /*#__PURE__*/external_React_default().createElement("option", {
      value: "2",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 2}"
    }), /*#__PURE__*/external_React_default().createElement("option", {
      value: "3",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 3}"
    }), /*#__PURE__*/external_React_default().createElement("option", {
      value: "4",
      "data-l10n-id": "newtab-custom-row-selector",
      "data-l10n-args": "{\"num\": 4}"
    }))))))), pocketRegion && /*#__PURE__*/external_React_default().createElement("div", {
      id: "pocket-section",
      className: "section"
    }, /*#__PURE__*/external_React_default().createElement("moz-toggle", ContentSection_extends({
      id: "pocket-toggle",
      pressed: pocketEnabled || null,
      onToggle: this.onPreferenceSelect,
      "aria-describedby": "custom-pocket-subtitle",
      "data-preference": "feeds.section.topstories",
      "data-eventSource": "TOP_STORIES"
    }, mayHaveInferredPersonalization ? {
      "data-l10n-id": "newtab-custom-stories-personalized-toggle"
    } : {
      "data-l10n-id": "newtab-custom-stories-toggle"
    }), /*#__PURE__*/external_React_default().createElement("div", {
      slot: "nested"
    }, (mayHaveInferredPersonalization || mayHaveTopicSections) && /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-info-pocket-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "more-information",
      ref: this.pocketDrawerRef
    }, mayHaveInferredPersonalization && /*#__PURE__*/external_React_default().createElement("div", {
      className: "check-wrapper",
      role: "presentation"
    }, /*#__PURE__*/external_React_default().createElement("input", {
      id: "inferred-personalization",
      className: "customize-menu-checkbox",
      disabled: !pocketEnabled,
      checked: showInferredPersonalizationEnabled,
      type: "checkbox",
      onChange: this.onPreferenceSelect,
      "data-preference": "discoverystream.sections.personalization.inferred.user.enabled",
      "data-eventSource": "INFERRED_PERSONALIZATION"
    }), /*#__PURE__*/external_React_default().createElement("label", {
      className: "customize-menu-checkbox-label",
      htmlFor: "inferred-personalization",
      "data-l10n-id": "newtab-custom-stories-personalized-checkbox-label"
    })), mayHaveTopicSections && /*#__PURE__*/external_React_default().createElement(SectionsMgmtPanel, {
      exitEventFired: exitEventFired
    }))))))), /*#__PURE__*/external_React_default().createElement("span", {
      className: "divider",
      role: "separator"
    }), /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("button", {
      id: "settings-link",
      className: "external-link",
      onClick: openPreferences,
      "data-l10n-id": "newtab-custom-settings"
    })));
  }
}
;// CONCATENATED MODULE: ./content-src/components/CustomizeMenu/CustomizeMenu.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




// eslint-disable-next-line no-shadow

class _CustomizeMenu extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onEntered = this.onEntered.bind(this);
    this.onExited = this.onExited.bind(this);
    this.state = {
      exitEventFired: false
    };
  }
  onEntered() {
    this.setState({
      exitEventFired: false
    });
    if (this.closeButton) {
      this.closeButton.focus();
    }
  }
  onExited() {
    this.setState({
      exitEventFired: true
    });
    if (this.openButton) {
      this.openButton.focus();
    }
  }
  render() {
    return /*#__PURE__*/external_React_default().createElement("span", null, /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      timeout: 300,
      classNames: "personalize-animate",
      in: !this.props.showing,
      appear: true
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "personalize-button",
      "data-l10n-id": "newtab-customize-panel-icon-button",
      onClick: () => this.props.onOpen(),
      onKeyDown: e => {
        if (e.key === "Enter") {
          this.props.onOpen();
        }
      },
      ref: c => this.openButton = c
    }, /*#__PURE__*/external_React_default().createElement("div", null, /*#__PURE__*/external_React_default().createElement("img", {
      role: "presentation",
      src: "chrome://global/skin/icons/edit-outline.svg"
    })), /*#__PURE__*/external_React_default().createElement("label", {
      "data-l10n-id": "newtab-customize-panel-icon-button-label"
    }))), /*#__PURE__*/external_React_default().createElement(external_ReactTransitionGroup_namespaceObject.CSSTransition, {
      timeout: 250,
      classNames: "customize-animate",
      in: this.props.showing,
      onEntered: this.onEntered,
      onExited: this.onExited,
      appear: true
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "customize-menu",
      role: "dialog",
      "data-l10n-id": "newtab-settings-dialog-label"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "close-button-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      onClick: () => this.props.onClose(),
      id: "close-button",
      type: "icon ghost",
      "data-l10n-id": "newtab-custom-close-menu-button",
      iconsrc: "chrome://global/skin/icons/close.svg",
      ref: c => this.closeButton = c
    })), /*#__PURE__*/external_React_default().createElement(ContentSection, {
      openPreferences: this.props.openPreferences,
      setPref: this.props.setPref,
      enabledSections: this.props.enabledSections,
      enabledWidgets: this.props.enabledWidgets,
      wallpapersEnabled: this.props.wallpapersEnabled,
      activeWallpaper: this.props.activeWallpaper,
      pocketRegion: this.props.pocketRegion,
      mayHaveTopicSections: this.props.mayHaveTopicSections,
      mayHaveInferredPersonalization: this.props.mayHaveInferredPersonalization,
      mayHaveWeather: this.props.mayHaveWeather,
      mayHaveTrendingSearch: this.props.mayHaveTrendingSearch,
      mayHaveWidgets: this.props.mayHaveWidgets,
      mayHaveTimerWidget: this.props.mayHaveTimerWidget,
      mayHaveListsWidget: this.props.mayHaveListsWidget,
      dispatch: this.props.dispatch,
      exitEventFired: this.state.exitEventFired
    }))));
  }
}
const CustomizeMenu = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  DiscoveryStream: state.DiscoveryStream
}))(_CustomizeMenu);
;// CONCATENATED MODULE: ./content-src/lib/constants.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

const IS_NEWTAB =
  globalThis.document && globalThis.document.documentURI === "about:newtab";
const NEWTAB_DARK_THEME = {
  ntp_background: {
    r: 42,
    g: 42,
    b: 46,
    a: 1,
  },
  ntp_card_background: {
    r: 66,
    g: 65,
    b: 77,
    a: 1,
  },
  ntp_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1,
  },
  sidebar: {
    r: 56,
    g: 56,
    b: 61,
    a: 1,
  },
  sidebar_text: {
    r: 249,
    g: 249,
    b: 250,
    a: 1,
  },
};

;// CONCATENATED MODULE: ./content-src/components/Logo/Logo.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function Logo() {
  return /*#__PURE__*/external_React_default().createElement("h1", {
    className: "logo-and-wordmark-wrapper"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "logo-and-wordmark",
    role: "img",
    "data-l10n-id": "newtab-logo-and-wordmark"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "logo"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "wordmark"
  })));
}

;// CONCATENATED MODULE: ./content-src/components/Search/Search.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* globals ContentSearchUIController, ContentSearchHandoffUIController */







class _Search extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.onSearchClick = this.onSearchClick.bind(this);
    this.onSearchHandoffClick = this.onSearchHandoffClick.bind(this);
    this.onSearchHandoffPaste = this.onSearchHandoffPaste.bind(this);
    this.onSearchHandoffDrop = this.onSearchHandoffDrop.bind(this);
    this.onInputMount = this.onInputMount.bind(this);
    this.onInputMountHandoff = this.onInputMountHandoff.bind(this);
    this.onSearchHandoffButtonMount = this.onSearchHandoffButtonMount.bind(this);
  }
  handleEvent(event) {
    // Also track search events with our own telemetry
    if (event.detail.type === "Search") {
      this.props.dispatch(actionCreators.UserEvent({
        event: "SEARCH"
      }));
    }
  }
  onSearchClick(event) {
    window.gContentSearchController.search(event);
  }
  doSearchHandoff(text) {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.HANDOFF_SEARCH_TO_AWESOMEBAR,
      data: {
        text
      }
    }));
    this.props.dispatch({
      type: actionTypes.FAKE_FOCUS_SEARCH
    });
    this.props.dispatch(actionCreators.UserEvent({
      event: "SEARCH_HANDOFF"
    }));
    if (text) {
      this.props.dispatch({
        type: actionTypes.DISABLE_SEARCH
      });
    }
  }
  onSearchHandoffClick(event) {
    // When search hand-off is enabled, we render a big button that is styled to
    // look like a search textbox. If the button is clicked, we style
    // the button as if it was a focused search box and show a fake cursor but
    // really focus the awesomebar without the focus styles ("hidden focus").
    event.preventDefault();
    this.doSearchHandoff();
  }
  onSearchHandoffPaste(event) {
    event.preventDefault();
    this.doSearchHandoff(event.clipboardData.getData("Text"));
  }
  onSearchHandoffDrop(event) {
    event.preventDefault();
    let text = event.dataTransfer.getData("text");
    if (text) {
      this.doSearchHandoff(text);
    }
  }
  componentDidMount() {
    const caret = this.fakeCaret;
    const {
      caretBlinkCount,
      caretBlinkTime
    } = this.props.Prefs.values;
    if (caret) {
      // If caret blink count isn't defined, use the default infinite behavior for animation
      caret.style.setProperty("--caret-blink-count", caretBlinkCount > -1 ? caretBlinkCount : "infinite");

      // Apply custom blink rate if set, else fallback to default (567ms on/off --> 1134ms total)
      caret.style.setProperty("--caret-blink-time", caretBlinkTime > 0 ? `${caretBlinkTime * 2}ms` : `${1134}ms`);
    }
  }
  componentWillUnmount() {
    delete window.gContentSearchController;
  }
  onInputMount(input) {
    if (input) {
      // The "healthReportKey" and needs to be "newtab" or "abouthome" so that
      // BrowserUsageTelemetry.sys.mjs knows to handle events with this name, and
      // can add the appropriate telemetry probes for search. Without the correct
      // name, certain tests like browser_UsageTelemetry_content.js will fail
      // (See github ticket #2348 for more details)
      const healthReportKey = IS_NEWTAB ? "newtab" : "abouthome";

      // gContentSearchController needs to exist as a global so that tests for
      // the existing about:home can find it; and so it allows these tests to pass.
      // In the future, when activity stream is default about:home, this can be renamed
      window.gContentSearchController = new ContentSearchUIController(input, input.parentNode, healthReportKey);
      addEventListener("ContentSearchClient", this);
    } else {
      window.gContentSearchController = null;
      removeEventListener("ContentSearchClient", this);
    }
  }
  onInputMountHandoff(input) {
    if (input) {
      // The handoff UI controller helps us set the search icon and reacts to
      // changes to default engine to keep everything in sync.
      this._handoffSearchController = new ContentSearchHandoffUIController();
    }
  }
  onSearchHandoffButtonMount(button) {
    // Keep a reference to the button for use during "paste" event handling.
    this._searchHandoffButton = button;
  }

  /*
   * Do not change the ID on the input field, as legacy newtab code
   * specifically looks for the id 'newtab-search-text' on input fields
   * in order to execute searches in various tests
   */
  render() {
    const wrapperClassName = ["search-wrapper", this.props.disable && "search-disabled", this.props.fakeFocus && "fake-focus"].filter(v => v).join(" ");
    const prefs = this.props.Prefs.values;
    const trendingSearchEnabled = prefs["trendingSearch.enabled"] && prefs["system.trendingSearch.enabled"] && prefs["trendingSearch.defaultSearchEngine"]?.toLowerCase() === "google";
    const trendingSearchVariant = this.props.Prefs.values["trendingSearch.variant"];
    return /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement("div", {
      className: wrapperClassName
    }, this.props.showLogo && /*#__PURE__*/external_React_default().createElement(Logo, null), !this.props.handoffEnabled && /*#__PURE__*/external_React_default().createElement("div", {
      className: "search-inner-wrapper no-handoff"
    }, /*#__PURE__*/external_React_default().createElement("input", {
      id: "newtab-search-text",
      "data-l10n-id": "newtab-search-box-input",
      maxLength: "256",
      ref: this.onInputMount,
      type: "search"
    }), /*#__PURE__*/external_React_default().createElement("button", {
      id: "searchSubmit",
      className: "search-button",
      "data-l10n-id": "newtab-search-box-search-button",
      onClick: this.onSearchClick
    }), trendingSearchEnabled && (trendingSearchVariant === "a" || trendingSearchVariant === "c") && /*#__PURE__*/external_React_default().createElement(TrendingSearches, null)), this.props.handoffEnabled && /*#__PURE__*/external_React_default().createElement("div", {
      className: "search-inner-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("button", {
      className: "search-handoff-button",
      ref: this.onSearchHandoffButtonMount,
      onClick: this.onSearchHandoffClick,
      tabIndex: "-1"
    }, /*#__PURE__*/external_React_default().createElement("div", {
      className: "fake-textbox"
    }), /*#__PURE__*/external_React_default().createElement("input", {
      type: "search",
      className: "fake-editable",
      tabIndex: "-1",
      "aria-hidden": "true",
      onDrop: this.onSearchHandoffDrop,
      onPaste: this.onSearchHandoffPaste,
      ref: this.onInputMountHandoff
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: "fake-caret",
      ref: el => {
        this.fakeCaret = el;
      }
    })), trendingSearchEnabled && (trendingSearchVariant === "a" || trendingSearchVariant === "c") && /*#__PURE__*/external_React_default().createElement(TrendingSearches, null))));
  }
}
const Search_Search = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  Prefs: state.Prefs
}))(_Search);
;// CONCATENATED MODULE: ./content-src/components/DownloadModalToggle/DownloadModalToggle.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function DownloadModalToggle({
  onClick,
  isActive
}) {
  return /*#__PURE__*/external_React_default().createElement("button", {
    className: `mobile-download-promo ${isActive ? " is-active" : ""}`,
    onClick: onClick
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "icon icon-device-phone"
  }));
}

;// CONCATENATED MODULE: ./content-src/components/Notifications/Toasts/ThumbUpThumbDownToast.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function ThumbUpThumbDownToast({
  onDismissClick,
  onAnimationEnd
}) {
  const mozMessageBarRef = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    const {
      current: mozMessageBarElement
    } = mozMessageBarRef;
    mozMessageBarElement.addEventListener("message-bar:user-dismissed", onDismissClick, {
      once: true
    });
    return () => {
      mozMessageBarElement.removeEventListener("message-bar:user-dismissed", onDismissClick);
    };
  }, [onDismissClick]);
  return /*#__PURE__*/external_React_default().createElement("moz-message-bar", {
    type: "success",
    class: "notification-feed-item",
    dismissable: true,
    "data-l10n-id": "newtab-toast-thumbs-up-or-down2",
    ref: mozMessageBarRef,
    onAnimationEnd: onAnimationEnd
  });
}

;// CONCATENATED MODULE: ./content-src/components/Notifications/Toasts/ReportContentToast.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */


function ReportContentToast({
  onDismissClick,
  onAnimationEnd
}) {
  const mozMessageBarRef = (0,external_React_namespaceObject.useRef)(null);
  (0,external_React_namespaceObject.useEffect)(() => {
    const {
      current: mozMessageBarElement
    } = mozMessageBarRef;
    mozMessageBarElement.addEventListener("message-bar:user-dismissed", onDismissClick, {
      once: true
    });
    return () => {
      mozMessageBarElement.removeEventListener("message-bar:user-dismissed", onDismissClick);
    };
  }, [onDismissClick]);
  return /*#__PURE__*/external_React_default().createElement("moz-message-bar", {
    type: "success",
    class: "notification-feed-item",
    dismissable: true,
    "data-l10n-id": "newtab-toast-thanks-for-reporting",
    ref: mozMessageBarRef,
    onAnimationEnd: onAnimationEnd
  });
}

;// CONCATENATED MODULE: ./content-src/components/Notifications/Notifications.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */






function Notifications_Notifications({
  dispatch
}) {
  const toastQueue = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Notifications.toastQueue);
  const toastCounter = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Notifications.toastCounter);

  /**
   * Syncs {@link toastQueue} array so it can be used to
   * remove the toasts wrapper if there are none after a
   * toast is auto-hidden (animated out) via CSS.
   */
  const syncHiddenToastData = (0,external_React_namespaceObject.useCallback)(() => {
    const toastId = toastQueue[toastQueue.length - 1];
    const queuedToasts = [...toastQueue].slice(1);
    dispatch(actionCreators.OnlyToOneContent({
      type: actionTypes.HIDE_TOAST_MESSAGE,
      data: {
        toastQueue: queuedToasts,
        toastCounter: queuedToasts.length,
        toastId,
        showNotifications: false
      }
    }, "ActivityStream:Content"));
  }, [dispatch, toastQueue]);
  const getToast = (0,external_React_namespaceObject.useCallback)(() => {
    // Note: This architecture could expand to support multiple toast notifications at once
    const latestToastItem = toastQueue[toastQueue.length - 1];
    if (!latestToastItem) {
      throw new Error("No toast found");
    }
    switch (latestToastItem) {
      case "reportSuccessToast":
        return /*#__PURE__*/external_React_default().createElement(ReportContentToast, {
          onDismissClick: syncHiddenToastData,
          onAnimationEnd: syncHiddenToastData,
          key: toastCounter
        });
      case "thumbsUpToast":
      case "thumbsDownToast":
        return /*#__PURE__*/external_React_default().createElement(ThumbUpThumbDownToast, {
          onDismissClick: syncHiddenToastData,
          onAnimationEnd: syncHiddenToastData,
          key: toastCounter
        });
      default:
        throw new Error(`Unexpected toast type: ${latestToastItem}`);
    }
  }, [syncHiddenToastData, toastCounter, toastQueue]);
  (0,external_React_namespaceObject.useEffect)(() => {
    getToast();
  }, [toastQueue, getToast]);
  return toastQueue.length ? /*#__PURE__*/external_React_default().createElement("div", {
    className: "notification-wrapper"
  }, getToast()) : "";
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/TopicSelection/TopicSelection.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const EMOJI_LABELS = {
  business: "",
  arts: "",
  food: "",
  health: "",
  finance: "",
  government: "",
  sports: "",
  tech: "",
  travel: "",
  "education-science": "",
  society: ""
};
function TopicSelection({
  supportUrl
}) {
  const dispatch = (0,external_ReactRedux_namespaceObject.useDispatch)();
  const inputRef = (0,external_React_namespaceObject.useRef)(null);
  const modalRef = (0,external_React_namespaceObject.useRef)(null);
  const checkboxWrapperRef = (0,external_React_namespaceObject.useRef)(null);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const topics = prefs["discoverystream.topicSelection.topics"].split(", ");
  const selectedTopics = prefs["discoverystream.topicSelection.selectedTopics"];
  const suggestedTopics = prefs["discoverystream.topicSelection.suggestedTopics"]?.split(", ");
  const displayCount = prefs["discoverystream.topicSelection.onboarding.displayCount"];
  const topicsHaveBeenPreviouslySet = prefs["discoverystream.topicSelection.hasBeenUpdatedPreviously"];
  const [isFirstRun] = (0,external_React_namespaceObject.useState)(displayCount === 0);
  const displayCountRef = (0,external_React_namespaceObject.useRef)(displayCount);
  const preselectedTopics = () => {
    if (selectedTopics) {
      return selectedTopics.split(", ");
    }
    return isFirstRun ? suggestedTopics : [];
  };
  const [topicsToSelect, setTopicsToSelect] = (0,external_React_namespaceObject.useState)(preselectedTopics);
  function isFirstSave() {
    // Only return true if the user has not previous set prefs
    // and the selected topics pref is empty
    if (selectedTopics === "" && !topicsHaveBeenPreviouslySet) {
      return true;
    }
    return false;
  }
  function handleModalClose() {
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.TOPIC_SELECTION_USER_DISMISS
    }));
    dispatch(actionCreators.BroadcastToContent({
      type: actionTypes.TOPIC_SELECTION_SPOTLIGHT_CLOSE
    }));
  }
  function handleUserClose(e) {
    const id = e?.target?.id;
    if (id === "first-run") {
      dispatch(actionCreators.AlsoToMain({
        type: actionTypes.TOPIC_SELECTION_MAYBE_LATER
      }));
      dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", true));
    } else {
      dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
    }
    handleModalClose();
  }

  // By doing this, the useEffect that sets up the IntersectionObserver
  // will not re-run every time displayCount changes,
  // but the observer callback will always have access
  // to the latest displayCount value through the ref.
  (0,external_React_namespaceObject.useEffect)(() => {
    displayCountRef.current = displayCount;
  }, [displayCount]);
  (0,external_React_namespaceObject.useEffect)(() => {
    const {
      current
    } = modalRef;
    let observer;
    if (current) {
      observer = new IntersectionObserver(([entry]) => {
        if (entry.isIntersecting) {
          // if the user has seen the modal more than 3 times,
          // automatically remove them from onboarding
          if (displayCountRef.current > 3) {
            dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
          }
          observer.unobserve(modalRef.current);
          dispatch(actionCreators.AlsoToMain({
            type: actionTypes.TOPIC_SELECTION_IMPRESSION
          }));
        }
      });
      observer.observe(current);
    }
    return () => {
      if (current) {
        observer.unobserve(current);
      }
    };
  }, [modalRef, dispatch]);

  // when component mounts, set focus to input
  (0,external_React_namespaceObject.useEffect)(() => {
    inputRef?.current?.focus();
  }, [inputRef]);
  const handleFocus = (0,external_React_namespaceObject.useCallback)(e => {
    // this list will have to be updated with other reusable components that get used inside of this modal
    const tabbableElements = modalRef.current.querySelectorAll('a[href], button, moz-button, input[tabindex="0"]');
    const [firstTabableEl] = tabbableElements;
    const lastTabbableEl = tabbableElements[tabbableElements.length - 1];
    let isTabPressed = e.key === "Tab" || e.keyCode === 9;
    let isArrowPressed = e.key === "ArrowUp" || e.key === "ArrowDown";
    if (isTabPressed) {
      if (e.shiftKey) {
        if (document.activeElement === firstTabableEl) {
          lastTabbableEl.focus();
          e.preventDefault();
        }
      } else if (document.activeElement === lastTabbableEl) {
        firstTabableEl.focus();
        e.preventDefault();
      }
    } else if (isArrowPressed && checkboxWrapperRef.current.contains(document.activeElement)) {
      const checkboxElements = checkboxWrapperRef.current.querySelectorAll("input");
      const [firstInput] = checkboxElements;
      const lastInput = checkboxElements[checkboxElements.length - 1];
      const inputArr = Array.from(checkboxElements);
      const currentIndex = inputArr.indexOf(document.activeElement);
      let nextEl;
      if (e.key === "ArrowUp") {
        nextEl = document.activeElement === firstInput ? lastInput : checkboxElements[currentIndex - 1];
      } else if (e.key === "ArrowDown") {
        nextEl = document.activeElement === lastInput ? firstInput : checkboxElements[currentIndex + 1];
      }
      nextEl.tabIndex = 0;
      document.activeElement.tabIndex = -1;
      nextEl.focus();
    }
  }, []);
  (0,external_React_namespaceObject.useEffect)(() => {
    const ref = modalRef.current;
    ref.addEventListener("keydown", handleFocus);
    inputRef.current.tabIndex = 0;
    return () => {
      ref.removeEventListener("keydown", handleFocus);
    };
  }, [handleFocus]);
  function handleChange(e) {
    const topic = e.target.name;
    const isChecked = e.target.checked;
    if (isChecked) {
      setTopicsToSelect([...topicsToSelect, topic]);
    } else {
      const updatedTopics = topicsToSelect.filter(t => t !== topic);
      setTopicsToSelect(updatedTopics);
    }
  }
  function handleSubmit() {
    const topicsString = topicsToSelect.join(", ");
    dispatch(actionCreators.SetPref("discoverystream.topicSelection.selectedTopics", topicsString));
    dispatch(actionCreators.SetPref("discoverystream.topicSelection.onboarding.maybeDisplay", false));
    if (!topicsHaveBeenPreviouslySet) {
      dispatch(actionCreators.SetPref("discoverystream.topicSelection.hasBeenUpdatedPreviously", true));
    }
    dispatch(actionCreators.OnlyToMain({
      type: actionTypes.TOPIC_SELECTION_USER_SAVE,
      data: {
        topics: topicsString,
        previous_topics: selectedTopics,
        first_save: isFirstSave()
      }
    }));
    handleModalClose();
  }
  return /*#__PURE__*/external_React_default().createElement(ModalOverlayWrapper, {
    onClose: handleUserClose,
    innerClassName: "topic-selection-container"
  }, /*#__PURE__*/external_React_default().createElement("div", {
    className: "topic-selection-form",
    ref: modalRef
  }, /*#__PURE__*/external_React_default().createElement("button", {
    className: "dismiss-button",
    title: "dismiss",
    onClick: handleUserClose
  }), /*#__PURE__*/external_React_default().createElement("h1", {
    className: "title",
    "data-l10n-id": "newtab-topic-selection-title"
  }), /*#__PURE__*/external_React_default().createElement("p", {
    className: "subtitle",
    "data-l10n-id": "newtab-topic-selection-subtitle"
  }), /*#__PURE__*/external_React_default().createElement("div", {
    className: "topic-list",
    ref: checkboxWrapperRef
  }, topics.map((topic, i) => {
    const checked = topicsToSelect.includes(topic);
    return /*#__PURE__*/external_React_default().createElement("label", {
      className: `topic-item`,
      key: topic
    }, /*#__PURE__*/external_React_default().createElement("input", {
      type: "checkbox",
      id: topic,
      name: topic,
      ref: i === 0 ? inputRef : null,
      onChange: handleChange,
      checked: checked,
      "aria-checked": checked,
      tabIndex: -1
    }), /*#__PURE__*/external_React_default().createElement("div", {
      className: `topic-custom-checkbox`
    }, /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-icon"
    }, EMOJI_LABELS[`${topic}`]), /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-checked"
    })), /*#__PURE__*/external_React_default().createElement("span", {
      className: "topic-item-label",
      "data-l10n-id": `newtab-topic-label-${topic}`
    }));
  })), /*#__PURE__*/external_React_default().createElement("div", {
    className: "modal-footer"
  }, /*#__PURE__*/external_React_default().createElement("a", {
    href: supportUrl,
    "data-l10n-id": "newtab-topic-selection-privacy-link"
  }), /*#__PURE__*/external_React_default().createElement("moz-button-group", {
    className: "button-group"
  }, /*#__PURE__*/external_React_default().createElement("moz-button", {
    id: isFirstRun ? "first-run" : "",
    "data-l10n-id": isFirstRun ? "newtab-topic-selection-button-maybe-later" : "newtab-topic-selection-cancel-button",
    onClick: handleUserClose
  }), /*#__PURE__*/external_React_default().createElement("moz-button", {
    "data-l10n-id": "newtab-topic-selection-save-button",
    type: "primary",
    onClick: handleSubmit
  })))));
}

;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/DownloadMobilePromoHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





const PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_A = "mobileDownloadModal.variant-a";
const PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_B = "mobileDownloadModal.variant-b";
const PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_C = "mobileDownloadModal.variant-c";
const FEATURE_ID = "FEATURE_DOWNLOAD_MOBILE_PROMO";
function DownloadMobilePromoHighlight({
  position,
  dispatch,
  handleDismiss,
  handleBlock,
  isIntersecting
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    // This event is emitted manually because the feature may be triggered outside the OMC flow,
    // and may not be captured by the messaging-systems automatic reporting.
    dispatch(actionCreators.DiscoveryStreamUserEvent({
      event: "FEATURE_HIGHLIGHT_DISMISS",
      source: "FEATURE_HIGHLIGHT",
      value: {
        feature: FEATURE_ID
      }
    }));
    handleDismiss();
    handleBlock();
  }, [dispatch, handleDismiss, handleBlock]);
  (0,external_React_namespaceObject.useEffect)(() => {
    if (isIntersecting) {
      // This event is emitted manually because the feature may be triggered outside the OMC flow,
      // and may not be captured by the messaging-systems automatic reporting.
      dispatch(actionCreators.DiscoveryStreamUserEvent({
        event: "FEATURE_HIGHLIGHT_IMPRESSION",
        source: "FEATURE_HIGHLIGHT",
        value: {
          feature: FEATURE_ID
        }
      }));
    }
  }, [dispatch, isIntersecting]);
  const prefs = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Prefs.values);
  const mobileDownloadPromoVarA = prefs[PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_A];
  const mobileDownloadPromoVarB = prefs[PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_B];
  const mobileDownloadPromoVarC = prefs[PREF_MOBILE_DOWNLOAD_HIGHLIGHT_VARIANT_C];
  function getActiveVariant() {
    if (mobileDownloadPromoVarA) {
      return "A";
    }
    if (mobileDownloadPromoVarB) {
      return "B";
    }
    if (mobileDownloadPromoVarC) {
      return "C";
    }
    return null;
  }
  function getVariantQRCodeImg() {
    const variant = getActiveVariant();
    switch (variant) {
      case "A":
        return "chrome://newtab/content/data/content/assets/download-qr-code-var-a.png";
      case "B":
        return "chrome://newtab/content/data/content/assets/download-qr-code-var-b.png";
      case "C":
        return "chrome://newtab/content/data/content/assets/download-qr-code-var-c.png";
      default:
        return null;
    }
  }
  function getVariantCopy() {
    const variant = getActiveVariant();
    switch (variant) {
      case "A":
        return "newtab-download-mobile-highlight-body-variant-a";
      case "B":
        return "newtab-download-mobile-highlight-body-variant-b";
      case "C":
        return "newtab-download-mobile-highlight-body-variant-c";
      default:
        return null;
    }
  }
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "download-firefox-feature-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    feature: FEATURE_ID,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "download-firefox-feature-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: getVariantQRCodeImg(),
      "data-l10n-id": "newtab-download-mobile-highlight-image",
      width: "120",
      height: "191",
      alt: ""
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": "newtab-download-mobile-highlight-title"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": getVariantCopy()
    })),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/DiscoveryStreamComponents/FeatureHighlight/WallpaperFeatureHighlight.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */





function WallpaperFeatureHighlight({
  position,
  dispatch,
  handleDismiss,
  handleClick,
  handleBlock
}) {
  const onDismiss = (0,external_React_namespaceObject.useCallback)(() => {
    handleDismiss();
    handleBlock();
  }, [handleDismiss, handleBlock]);
  const onToggleClick = (0,external_React_namespaceObject.useCallback)(elementId => {
    dispatch({
      type: actionTypes.SHOW_PERSONALIZE
    });
    dispatch(actionCreators.UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
    handleClick(elementId);
    onDismiss();
  }, [dispatch, onDismiss, handleClick]);

  // Extract the strings and feature ID from OMC
  const {
    messageData
  } = (0,external_ReactRedux_namespaceObject.useSelector)(state => state.Messages);
  return /*#__PURE__*/external_React_default().createElement("div", {
    className: "wallpaper-feature-highlight"
  }, /*#__PURE__*/external_React_default().createElement(FeatureHighlight, {
    position: position,
    "data-l10n-id": "feature-highlight-wallpaper",
    feature: messageData.content.feature,
    dispatch: dispatch,
    message: /*#__PURE__*/external_React_default().createElement("div", {
      className: "wallpaper-feature-highlight-content"
    }, /*#__PURE__*/external_React_default().createElement("img", {
      src: "chrome://newtab/content/data/content/assets/custom-wp-highlight.png",
      alt: "",
      width: "320",
      height: "195"
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "title",
      "data-l10n-id": messageData.content.title
    }), /*#__PURE__*/external_React_default().createElement("p", {
      className: "subtitle",
      "data-l10n-id": messageData.content.subtitle
    }), /*#__PURE__*/external_React_default().createElement("span", {
      className: "button-wrapper"
    }, /*#__PURE__*/external_React_default().createElement("moz-button", {
      type: "default",
      onClick: () => onToggleClick("open-customize-menu"),
      "data-l10n-id": messageData.content.cta
    }))),
    toggle: /*#__PURE__*/external_React_default().createElement("div", {
      className: "icon icon-help"
    }),
    openedOverride: true,
    showButtonIcon: false,
    dismissCallback: onDismiss,
    outsideClickCallback: handleDismiss
  }));
}
;// CONCATENATED MODULE: ./content-src/components/Base/Base.jsx
function Base_extends() { return Base_extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, Base_extends.apply(null, arguments); }
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




















const Base_VISIBLE = "visible";
const Base_VISIBILITY_CHANGE_EVENT = "visibilitychange";
const PREF_INFERRED_PERSONALIZATION_SYSTEM = "discoverystream.sections.personalization.inferred.enabled";
const Base_PREF_INFERRED_PERSONALIZATION_USER = "discoverystream.sections.personalization.inferred.user.enabled";

// Returns a function will not be continuously triggered when called. The
// function will be triggered if called again after `wait` milliseconds.
function Base_debounce(func, wait) {
  let timer;
  return (...args) => {
    if (timer) {
      return;
    }
    let wakeUp = () => {
      timer = null;
    };
    timer = setTimeout(wakeUp, wait);
    func.apply(this, args);
  };
}
class _Base extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.state = {
      message: {}
    };
    this.notifyContent = this.notifyContent.bind(this);
  }
  notifyContent(state) {
    this.setState(state);
  }
  render() {
    const {
      props
    } = this;
    const {
      App
    } = props;
    const isDevtoolsEnabled = props.Prefs.values["asrouter.devtoolsEnabled"];
    if (!App.initialized) {
      return null;
    }
    return /*#__PURE__*/external_React_default().createElement(ErrorBoundary, {
      className: "base-content-fallback"
    }, /*#__PURE__*/external_React_default().createElement((external_React_default()).Fragment, null, /*#__PURE__*/external_React_default().createElement(BaseContent, Base_extends({}, this.props, {
      adminContent: this.state
    })), isDevtoolsEnabled ? /*#__PURE__*/external_React_default().createElement(DiscoveryStreamAdmin, {
      notifyContent: this.notifyContent
    }) : null));
  }
}
class BaseContent extends (external_React_default()).PureComponent {
  constructor(props) {
    super(props);
    this.openPreferences = this.openPreferences.bind(this);
    this.openCustomizationMenu = this.openCustomizationMenu.bind(this);
    this.closeCustomizationMenu = this.closeCustomizationMenu.bind(this);
    this.handleOnKeyDown = this.handleOnKeyDown.bind(this);
    this.onWindowScroll = Base_debounce(this.onWindowScroll.bind(this), 5);
    this.setPref = this.setPref.bind(this);
    this.shouldShowOMCHighlight = this.shouldShowOMCHighlight.bind(this);
    this.updateWallpaper = this.updateWallpaper.bind(this);
    this.prefersDarkQuery = null;
    this.handleColorModeChange = this.handleColorModeChange.bind(this);
    this.shouldDisplayTopicSelectionModal = this.shouldDisplayTopicSelectionModal.bind(this);
    this.toggleDownloadHighlight = this.toggleDownloadHighlight.bind(this);
    this.handleDismissDownloadHighlight = this.handleDismissDownloadHighlight.bind(this);
    this.applyBodyClasses = this.applyBodyClasses.bind(this);
    this.state = {
      fixedSearch: false,
      firstVisibleTimestamp: null,
      colorMode: "",
      fixedNavStyle: {},
      wallpaperTheme: "",
      showDownloadHighlightOverride: null
    };
  }
  setFirstVisibleTimestamp() {
    if (!this.state.firstVisibleTimestamp) {
      this.setState({
        firstVisibleTimestamp: Date.now()
      });
    }
  }
  componentDidMount() {
    this.applyBodyClasses();
    __webpack_require__.g.addEventListener("scroll", this.onWindowScroll);
    __webpack_require__.g.addEventListener("keydown", this.handleOnKeyDown);
    const prefs = this.props.Prefs.values;
    const wallpapersEnabled = prefs["newtabWallpapers.enabled"];
    if (this.props.document.visibilityState === Base_VISIBLE) {
      this.setFirstVisibleTimestamp();
      this.shouldDisplayTopicSelectionModal();
    } else {
      this._onVisibilityChange = () => {
        if (this.props.document.visibilityState === Base_VISIBLE) {
          this.setFirstVisibleTimestamp();
          this.shouldDisplayTopicSelectionModal();
          this.props.document.removeEventListener(Base_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
          this._onVisibilityChange = null;
        }
      };
      this.props.document.addEventListener(Base_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
    // track change event to dark/light mode
    this.prefersDarkQuery = globalThis.matchMedia("(prefers-color-scheme: dark)");
    this.prefersDarkQuery.addEventListener("change", this.handleColorModeChange);
    this.handleColorModeChange();
    if (wallpapersEnabled) {
      this.updateWallpaper();
    }
  }
  componentDidUpdate(prevProps) {
    this.applyBodyClasses();
    const prefs = this.props.Prefs.values;
    const wallpapersEnabled = prefs["newtabWallpapers.enabled"];
    if (wallpapersEnabled) {
      // destructure current and previous props with fallbacks
      // (preventing undefined errors)
      const {
        Wallpapers: {
          uploadedWallpaper = null,
          wallpaperList = null
        } = {}
      } = this.props;
      const {
        Wallpapers: {
          uploadedWallpaper: prevUploadedWallpaper = null,
          wallpaperList: prevWallpaperList = null
        } = {},
        Prefs: {
          values: prevPrefs = {}
        } = {}
      } = prevProps;
      const selectedWallpaper = prefs["newtabWallpapers.wallpaper"];
      const prevSelectedWallpaper = prevPrefs["newtabWallpapers.wallpaper"];
      const uploadedWallpaperTheme = prefs["newtabWallpapers.customWallpaper.theme"];
      const prevUploadedWallpaperTheme = prevPrefs["newtabWallpapers.customWallpaper.theme"];

      // don't update wallpaper unless the wallpaper is being changed.
      if (selectedWallpaper !== prevSelectedWallpaper ||
      // selecting a new wallpaper
      uploadedWallpaper !== prevUploadedWallpaper ||
      // uploading a new wallpaper
      wallpaperList !== prevWallpaperList ||
      // remote settings wallpaper list updates
      this.props.App.isForStartupCache.Wallpaper !== prevProps.App.isForStartupCache.Wallpaper ||
      // Startup cached page wallpaper is updating
      uploadedWallpaperTheme !== prevUploadedWallpaperTheme) {
        this.updateWallpaper();
      }
    }
  }
  handleColorModeChange() {
    const colorMode = this.prefersDarkQuery?.matches ? "dark" : "light";
    if (colorMode !== this.state.colorMode) {
      this.setState({
        colorMode
      });
      this.updateWallpaper();
    }
  }
  componentWillUnmount() {
    this.prefersDarkQuery?.removeEventListener("change", this.handleColorModeChange);
    __webpack_require__.g.removeEventListener("scroll", this.onWindowScroll);
    __webpack_require__.g.removeEventListener("keydown", this.handleOnKeyDown);
    if (this._onVisibilityChange) {
      this.props.document.removeEventListener(Base_VISIBILITY_CHANGE_EVENT, this._onVisibilityChange);
    }
  }
  onWindowScroll() {
    if (window.innerHeight <= 700) {
      // Bug 1937296: Only apply fixed-search logic
      // if the page is tall enough to support it.
      return;
    }
    const prefs = this.props.Prefs.values;
    const {
      showSearch
    } = prefs;
    if (!showSearch) {
      // Bug 1944718: Only apply fixed-search logic
      // if search is visible.
      return;
    }
    const logoAlwaysVisible = prefs["logowordmark.alwaysVisible"];

    /* Bug 1917937: The logic presented below is fragile but accurate to the pixel. As new tab experiments with layouts, we have a tech debt of competing styles and classes the slightly modify where the search bar sits on the page. The larger solution for this is to replace everything with an intersection observer, but would require a larger refactor of this file. In the interim, we can programmatically calculate when to fire the fixed-scroll event and account for the moved elements so that topsites/etc stays in the same place. The CSS this references has been flagged to reference this logic so (hopefully) keep them in sync. */

    let SCROLL_THRESHOLD = 0; // When the fixed-scroll event fires
    let MAIN_OFFSET_PADDING = 0; // The padding to compensate for the moved elements

    const CSS_VAR_SPACE_XXLARGE = 32.04; // Custom Acorn themed variable (8 * 0.267rem);

    let layout = {
      outerWrapperPaddingTop: 24,
      searchWrapperPaddingTop: 16,
      searchWrapperPaddingBottom: CSS_VAR_SPACE_XXLARGE,
      searchWrapperFixedScrollPaddingTop: 27,
      searchWrapperFixedScrollPaddingBottom: 27,
      searchInnerWrapperMinHeight: 52,
      logoAndWordmarkWrapperHeight: 0,
      logoAndWordmarkWrapperMarginBottom: 0
    };

    // Logo visibility applies to all layouts
    if (!logoAlwaysVisible) {
      layout.logoAndWordmarkWrapperHeight = 0;
      layout.logoAndWordmarkWrapperMarginBottom = 0;
    }
    SCROLL_THRESHOLD = layout.outerWrapperPaddingTop + layout.searchWrapperPaddingTop + layout.logoAndWordmarkWrapperHeight + layout.logoAndWordmarkWrapperMarginBottom - layout.searchWrapperFixedScrollPaddingTop;
    MAIN_OFFSET_PADDING = layout.searchWrapperPaddingTop + layout.searchWrapperPaddingBottom + layout.searchInnerWrapperMinHeight + layout.logoAndWordmarkWrapperHeight + layout.logoAndWordmarkWrapperMarginBottom;

    // Edge case if logo and thums are turned off, but Var A is enabled
    if (SCROLL_THRESHOLD < 1) {
      SCROLL_THRESHOLD = 1;
    }
    if (__webpack_require__.g.scrollY > SCROLL_THRESHOLD && !this.state.fixedSearch) {
      this.setState({
        fixedSearch: true,
        fixedNavStyle: {
          paddingBlockStart: `${MAIN_OFFSET_PADDING}px`
        }
      });
    } else if (__webpack_require__.g.scrollY <= SCROLL_THRESHOLD && this.state.fixedSearch) {
      this.setState({
        fixedSearch: false,
        fixedNavStyle: {}
      });
    }
  }
  openPreferences() {
    this.props.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.SETTINGS_OPEN
    }));
    this.props.dispatch(actionCreators.UserEvent({
      event: "OPEN_NEWTAB_PREFS"
    }));
  }
  openCustomizationMenu() {
    this.props.dispatch({
      type: actionTypes.SHOW_PERSONALIZE
    });
    this.props.dispatch(actionCreators.UserEvent({
      event: "SHOW_PERSONALIZE"
    }));
  }
  closeCustomizationMenu() {
    if (this.props.App.customizeMenuVisible) {
      this.props.dispatch({
        type: actionTypes.HIDE_PERSONALIZE
      });
      this.props.dispatch(actionCreators.UserEvent({
        event: "HIDE_PERSONALIZE"
      }));
    }
  }
  handleOnKeyDown(e) {
    if (e.key === "Escape") {
      this.closeCustomizationMenu();
    }
  }
  setPref(pref, value) {
    this.props.dispatch(actionCreators.SetPref(pref, value));
  }
  applyBodyClasses() {
    const {
      body,
      documentElement
    } = this.props.document;
    if (!body) {
      return;
    }
    if (!body.classList.contains("activity-stream")) {
      body.classList.add("activity-stream");
    }

    // Apply smart-window-active class to root html element based on Redux state
    if (documentElement) {
      if (this.props.SmartWindow?.active) {
        documentElement.classList.add("smart-window-active");
      } else {
        documentElement.classList.remove("smart-window-active");
      }
    }
  }
  renderWallpaperAttribution() {
    const {
      wallpaperList
    } = this.props.Wallpapers;
    const activeWallpaper = this.props.Prefs.values[`newtabWallpapers.wallpaper`];
    const selected = wallpaperList.find(wp => wp.title === activeWallpaper);
    // make sure a wallpaper is selected and that the attribution also exists
    if (!selected?.attribution) {
      return null;
    }
    const {
      name: authorDetails,
      webpage
    } = selected.attribution;
    if (activeWallpaper && wallpaperList && authorDetails.url) {
      return /*#__PURE__*/external_React_default().createElement("p", {
        className: `wallpaper-attribution`,
        key: authorDetails.string,
        "data-l10n-id": "newtab-wallpaper-attribution",
        "data-l10n-args": JSON.stringify({
          author_string: authorDetails.string,
          author_url: authorDetails.url,
          webpage_string: webpage.string,
          webpage_url: webpage.url
        })
      }, /*#__PURE__*/external_React_default().createElement("a", {
        "data-l10n-name": "name-link",
        href: authorDetails.url
      }, authorDetails.string), /*#__PURE__*/external_React_default().createElement("a", {
        "data-l10n-name": "webpage-link",
        href: webpage.url
      }, webpage.string));
    }
    return null;
  }
  async updateWallpaper() {
    const prefs = this.props.Prefs.values;
    const selectedWallpaper = prefs["newtabWallpapers.wallpaper"];
    const {
      wallpaperList,
      uploadedWallpaper: uploadedWallpaperUrl
    } = this.props.Wallpapers;
    const uploadedWallpaperTheme = prefs["newtabWallpapers.customWallpaper.theme"];
    // Uuse this.prefersDarkQuery since this.state.colorMode can be undefined when this is called
    const colorMode = this.prefersDarkQuery?.matches ? "dark" : "light";
    let url = "";
    let color = "transparent";
    let newTheme = colorMode;

    // if no selected wallpaper fallback to browser/theme styles
    if (!selectedWallpaper) {
      __webpack_require__.g.document?.body.style.removeProperty("--newtab-wallpaper");
      __webpack_require__.g.document?.body.style.removeProperty("--newtab-wallpaper-color");
      __webpack_require__.g.document?.body.classList.remove("lightWallpaper", "darkWallpaper");
      return;
    }

    // uploaded wallpaper
    if (selectedWallpaper === "custom" && uploadedWallpaperUrl) {
      url = uploadedWallpaperUrl;
      color = "transparent";
      newTheme = uploadedWallpaperTheme || colorMode;
    } else if (wallpaperList) {
      const wallpaper = wallpaperList.find(wp => wp.title === selectedWallpaper);
      // solid color picker
      if (selectedWallpaper.includes("solid-color-picker")) {
        const regexRGB = /#([a-fA-F0-9]{6})/;
        const hex = selectedWallpaper.match(regexRGB)?.[0];
        url = "";
        color = hex;
        const rgbColors = this.getRGBColors(hex);
        newTheme = this.isWallpaperColorDark(rgbColors) ? "dark" : "light";
        // standard wallpaper & solid colors
      } else if (selectedWallpaper) {
        url = wallpaper?.wallpaperUrl || "";
        color = wallpaper?.solid_color || "transparent";
        newTheme = wallpaper?.theme || colorMode;
        // if a solid color, determine if dark or light
        if (wallpaper?.solid_color) {
          const rgbColors = this.getRGBColors(wallpaper.solid_color);
          const isColorDark = this.isWallpaperColorDark(rgbColors);
          newTheme = isColorDark ? "dark" : "light";
        }
      }
    }
    __webpack_require__.g.document?.body.style.setProperty("--newtab-wallpaper", `url(${url})`);
    __webpack_require__.g.document?.body.style.setProperty("--newtab-wallpaper-color", color || "transparent");
    __webpack_require__.g.document?.body.classList.remove("lightWallpaper", "darkWallpaper");
    __webpack_require__.g.document?.body.classList.add(newTheme === "dark" ? "darkWallpaper" : "lightWallpaper");
  }
  shouldShowOMCHighlight(componentId) {
    const messageData = this.props.Messages?.messageData;
    if (!messageData || Object.keys(messageData).length === 0) {
      return false;
    }
    return messageData?.content?.messageType === componentId;
  }
  toggleDownloadHighlight() {
    this.setState(prevState => {
      const override = !(prevState.showDownloadHighlightOverride ?? this.shouldShowOMCHighlight("DownloadMobilePromoHighlight"));
      if (override) {
        // Emit an open event manually since OMC isn't handling it
        this.props.dispatch(actionCreators.DiscoveryStreamUserEvent({
          event: "FEATURE_HIGHLIGHT_OPEN",
          source: "FEATURE_HIGHLIGHT",
          value: {
            feature: "FEATURE_DOWNLOAD_MOBILE_PROMO"
          }
        }));
      }
      return {
        showDownloadHighlightOverride: override
      };
    });
  }
  handleDismissDownloadHighlight() {
    this.setState({
      showDownloadHighlightOverride: false
    });
  }
  getRGBColors(input) {
    if (input.length !== 7) {
      return [];
    }
    const r = parseInt(input.substr(1, 2), 16);
    const g = parseInt(input.substr(3, 2), 16);
    const b = parseInt(input.substr(5, 2), 16);
    return [r, g, b];
  }
  isWallpaperColorDark([r, g, b]) {
    return 0.2125 * r + 0.7154 * g + 0.0721 * b <= 110;
  }
  shouldDisplayTopicSelectionModal() {
    const prefs = this.props.Prefs.values;
    const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
    const topicSelectionOnboardingEnabled = prefs["discoverystream.topicSelection.onboarding.enabled"] && pocketEnabled;
    const maybeShowModal = prefs["discoverystream.topicSelection.onboarding.maybeDisplay"];
    const displayTimeout = prefs["discoverystream.topicSelection.onboarding.displayTimeout"];
    const lastDisplayed = prefs["discoverystream.topicSelection.onboarding.lastDisplayed"];
    const displayCount = prefs["discoverystream.topicSelection.onboarding.displayCount"];
    if (!maybeShowModal || !prefs["discoverystream.topicSelection.enabled"] || !topicSelectionOnboardingEnabled) {
      return;
    }
    const day = 24 * 60 * 60 * 1000;
    const now = new Date().getTime();
    const timeoutOccured = now - parseFloat(lastDisplayed) > displayTimeout;
    if (displayCount < 3) {
      if (displayCount === 0 || timeoutOccured) {
        this.props.dispatch(actionCreators.BroadcastToContent({
          type: actionTypes.TOPIC_SELECTION_SPOTLIGHT_OPEN
        }));
        this.setPref("discoverystream.topicSelection.onboarding.displayTimeout", day);
      }
    }
  }

  // eslint-disable-next-line max-statements, complexity
  render() {
    const {
      props
    } = this;
    const {
      App,
      DiscoveryStream
    } = props;
    const {
      initialized,
      customizeMenuVisible
    } = App;
    const prefs = props.Prefs.values;

    // If Smart Window is active, only render the search component
    if (props.SmartWindow?.active && prefs.showSearch) {
      const searchHandoffEnabled = prefs["improvesearch.handoffToAwesomebar"];
      const noSectionsEnabled = true; // Show logo in smart window mode

      return /*#__PURE__*/external_React_default().createElement("div", {
        className: "smart-window-search-only"
      }, /*#__PURE__*/external_React_default().createElement("main", {
        className: "newtab-main"
      }, /*#__PURE__*/external_React_default().createElement("div", {
        className: "non-collapsible-section"
      }, /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(Search_Search, Base_extends({
        showLogo: noSectionsEnabled || prefs["logowordmark.alwaysVisible"],
        handoffEnabled: searchHandoffEnabled
      }, props.Search))))));
    }
    const activeWallpaper = prefs[`newtabWallpapers.wallpaper`];
    const wallpapersEnabled = prefs["newtabWallpapers.enabled"];
    const weatherEnabled = prefs.showWeather;
    const {
      showTopicSelection
    } = DiscoveryStream;
    const mayShowTopicSelection = showTopicSelection && prefs["discoverystream.topicSelection.enabled"];
    const isDiscoveryStream = props.DiscoveryStream.config && props.DiscoveryStream.config.enabled;
    let filteredSections = props.Sections.filter(section => section.id !== "topstories");
    const pocketEnabled = prefs["feeds.section.topstories"] && prefs["feeds.system.topstories"];
    const noSectionsEnabled = !prefs["feeds.topsites"] && !pocketEnabled && filteredSections.filter(section => section.enabled).length === 0;
    const searchHandoffEnabled = prefs["improvesearch.handoffToAwesomebar"];
    const enabledSections = {
      topSitesEnabled: prefs["feeds.topsites"],
      pocketEnabled: prefs["feeds.section.topstories"],
      showInferredPersonalizationEnabled: prefs[Base_PREF_INFERRED_PERSONALIZATION_USER],
      topSitesRowsCount: prefs.topSitesRows,
      weatherEnabled: prefs.showWeather,
      trendingSearchEnabled: prefs["trendingSearch.enabled"]
    };
    const pocketRegion = prefs["feeds.system.topstories"];
    const mayHaveInferredPersonalization = prefs[PREF_INFERRED_PERSONALIZATION_SYSTEM];
    const mayHaveWeather = prefs["system.showWeather"];
    const supportUrl = prefs["support.url"];

    // Weather can be enabled and not rendered in the top right corner
    const shouldDisplayWeather = prefs.showWeather && this.props.weatherPlacement === "header";

    // Widgets experiment pref check
    const nimbusWidgetsEnabled = prefs.widgetsConfig?.enabled;
    const nimbusListsEnabled = prefs.widgetsConfig?.listsEnabled;
    const nimbusTimerEnabled = prefs.widgetsConfig?.timerEnabled;
    const mayHaveWidgets = prefs["widgets.system.enabled"] || nimbusWidgetsEnabled;
    const mayHaveListsWidget = prefs["widgets.system.lists.enabled"] || nimbusListsEnabled;
    const mayHaveTimerWidget = prefs["widgets.system.focusTimer.enabled"] || nimbusTimerEnabled;

    // These prefs set the initial values on the Customize panel toggle switches
    const enabledWidgets = {
      listsEnabled: prefs["widgets.lists.enabled"],
      timerEnabled: prefs["widgets.focusTimer.enabled"],
      trendingSearchEnabled: prefs["trendingSearch.enabled"],
      weatherEnabled: prefs.showWeather
    };

    // Trending Searches experiment pref check
    const mayHaveTrendingSearch = prefs["system.trendingSearch.enabled"] && prefs["trendingSearch.defaultSearchEngine"].toLowerCase() === "google";

    // Mobile Download Promo Pref Checks
    const mobileDownloadPromoEnabled = prefs["mobileDownloadModal.enabled"];
    const mobileDownloadPromoVariantAEnabled = prefs["mobileDownloadModal.variant-a"];
    const mobileDownloadPromoVariantBEnabled = prefs["mobileDownloadModal.variant-b"];
    const mobileDownloadPromoVariantCEnabled = prefs["mobileDownloadModal.variant-c"];
    const mobileDownloadPromoVariantABorC = mobileDownloadPromoVariantAEnabled || mobileDownloadPromoVariantBEnabled || mobileDownloadPromoVariantCEnabled;
    const mobileDownloadPromoWrapperHeightModifier = prefs["weather.display"] === "detailed" && weatherEnabled && shouldDisplayWeather && mayHaveWeather ? "is-tall" : "";
    const hasThumbsUpDownLayout = prefs["discoverystream.thumbsUpDown.searchTopsitesCompact"];
    const hasThumbsUpDown = prefs["discoverystream.thumbsUpDown.enabled"];
    const sectionsEnabled = prefs["discoverystream.sections.enabled"];
    const topicLabelsEnabled = prefs["discoverystream.topicLabels.enabled"];
    const sectionsCustomizeMenuPanelEnabled = prefs["discoverystream.sections.customizeMenuPanel.enabled"];
    const sectionsPersonalizationEnabled = prefs["discoverystream.sections.personalization.enabled"];

    // Logic to show follow/block topic mgmt panel in Customize panel
    const mayHavePersonalizedTopicSections = sectionsPersonalizationEnabled && topicLabelsEnabled && sectionsEnabled && sectionsCustomizeMenuPanelEnabled && DiscoveryStream.feeds.loaded;
    const featureClassName = [mobileDownloadPromoEnabled && mobileDownloadPromoVariantABorC && "has-mobile-download-promo",
    // Mobile download promo modal is enabled/visible
    weatherEnabled && mayHaveWeather && shouldDisplayWeather && "has-weather",
    // Weather widget is enabled/visible
    prefs.showSearch ? "has-search" : "no-search",
    // layoutsVariantAEnabled ? "layout-variant-a" : "", // Layout experiment variant A
    // layoutsVariantBEnabled ? "layout-variant-b" : "", // Layout experiment variant B
    pocketEnabled ? "has-recommended-stories" : "no-recommended-stories", sectionsEnabled ? "has-sections-grid" : ""].filter(v => v).join(" ");
    const outerClassName = ["outer-wrapper", isDiscoveryStream && pocketEnabled && "ds-outer-wrapper-search-alignment", isDiscoveryStream && "ds-outer-wrapper-breakpoint-override", prefs.showSearch && this.state.fixedSearch && !noSectionsEnabled && "fixed-search", prefs.showSearch && noSectionsEnabled && "only-search", prefs["feeds.topsites"] && !pocketEnabled && !prefs.showSearch && "only-topsites", noSectionsEnabled && "no-sections", prefs["logowordmark.alwaysVisible"] && "visible-logo", hasThumbsUpDownLayout && hasThumbsUpDown && "thumbs-ui-compact"].filter(v => v).join(" ");

    // If state.showDownloadHighlightOverride has value, let it override the logic
    // Otherwise, defer to OMC message display logic
    const shouldShowDownloadHighlight = this.state.showDownloadHighlightOverride ?? this.shouldShowOMCHighlight("DownloadMobilePromoHighlight");
    return /*#__PURE__*/external_React_default().createElement("div", {
      className: featureClassName
    }, /*#__PURE__*/external_React_default().createElement("menu", {
      className: "personalizeButtonWrapper"
    }, /*#__PURE__*/external_React_default().createElement(CustomizeMenu, {
      onClose: this.closeCustomizationMenu,
      onOpen: this.openCustomizationMenu,
      openPreferences: this.openPreferences,
      setPref: this.setPref,
      enabledSections: enabledSections,
      enabledWidgets: enabledWidgets,
      wallpapersEnabled: wallpapersEnabled,
      activeWallpaper: activeWallpaper,
      pocketRegion: pocketRegion,
      mayHaveTopicSections: mayHavePersonalizedTopicSections,
      mayHaveInferredPersonalization: mayHaveInferredPersonalization,
      mayHaveWeather: mayHaveWeather,
      mayHaveTrendingSearch: mayHaveTrendingSearch,
      mayHaveWidgets: mayHaveWidgets,
      mayHaveTimerWidget: mayHaveTimerWidget,
      mayHaveListsWidget: mayHaveListsWidget,
      showing: customizeMenuVisible
    }), this.shouldShowOMCHighlight("CustomWallpaperHighlight") && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
      dispatch: this.props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(WallpaperFeatureHighlight, {
      position: "inset-block-start inset-inline-start",
      dispatch: this.props.dispatch
    }))), /*#__PURE__*/external_React_default().createElement("div", {
      className: "weatherWrapper"
    }, shouldDisplayWeather && /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(Weather_Weather, null))), /*#__PURE__*/external_React_default().createElement("div", {
      className: `mobileDownloadPromoWrapper ${mobileDownloadPromoWrapperHeightModifier}`
    }, mobileDownloadPromoEnabled && mobileDownloadPromoVariantABorC && /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(DownloadModalToggle, {
      isActive: shouldShowDownloadHighlight,
      onClick: this.toggleDownloadHighlight
    }), shouldShowDownloadHighlight && /*#__PURE__*/external_React_default().createElement(MessageWrapper, {
      hiddenOverride: shouldShowDownloadHighlight,
      onDismiss: this.handleDismissDownloadHighlight,
      dispatch: this.props.dispatch
    }, /*#__PURE__*/external_React_default().createElement(DownloadMobilePromoHighlight, {
      position: `inset-inline-start inset-block-end`,
      dispatch: this.props.dispatch
    })))), /*#__PURE__*/external_React_default().createElement("div", {
      className: outerClassName,
      onClick: this.closeCustomizationMenu
    }, /*#__PURE__*/external_React_default().createElement("main", {
      className: "newtab-main",
      style: this.state.fixedNavStyle
    }, prefs.showSearch && /*#__PURE__*/external_React_default().createElement("div", {
      className: "non-collapsible-section"
    }, /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(Search_Search, Base_extends({
      showLogo: noSectionsEnabled || prefs["logowordmark.alwaysVisible"],
      handoffEnabled: searchHandoffEnabled
    }, props.Search)))), !prefs.showSearch && !noSectionsEnabled && /*#__PURE__*/external_React_default().createElement(Logo, null), /*#__PURE__*/external_React_default().createElement("div", {
      className: `body-wrapper${initialized ? " on" : ""}`
    }, isDiscoveryStream ? /*#__PURE__*/external_React_default().createElement(ErrorBoundary, {
      className: "borderless-error"
    }, /*#__PURE__*/external_React_default().createElement(DiscoveryStreamBase, {
      locale: props.App.locale,
      firstVisibleTimestamp: this.state.firstVisibleTimestamp
    })) : /*#__PURE__*/external_React_default().createElement(Sections_Sections, null)), /*#__PURE__*/external_React_default().createElement(ConfirmDialog, null), wallpapersEnabled && this.renderWallpaperAttribution()), /*#__PURE__*/external_React_default().createElement("aside", null, this.props.Notifications?.showNotifications && /*#__PURE__*/external_React_default().createElement(ErrorBoundary, null, /*#__PURE__*/external_React_default().createElement(Notifications_Notifications, {
      dispatch: this.props.dispatch
    }))), mayShowTopicSelection && pocketEnabled && /*#__PURE__*/external_React_default().createElement(TopicSelection, {
      supportUrl: supportUrl
    })));
  }
}
BaseContent.defaultProps = {
  document: __webpack_require__.g.document
};
const Base = (0,external_ReactRedux_namespaceObject.connect)(state => ({
  App: state.App,
  Prefs: state.Prefs,
  Sections: state.Sections,
  DiscoveryStream: state.DiscoveryStream,
  Messages: state.Messages,
  Notifications: state.Notifications,
  Search: state.Search,
  Wallpapers: state.Wallpapers,
  Weather: state.Weather,
  SmartWindow: state.SmartWindow,
  weatherPlacement: selectWeatherPlacement(state)
}))(_Base);
;// CONCATENATED MODULE: ./content-src/lib/detect-user-session-start.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */




const detect_user_session_start_VISIBLE = "visible";
const detect_user_session_start_VISIBILITY_CHANGE_EVENT = "visibilitychange";

class DetectUserSessionStart {
  constructor(store, options = {}) {
    this._store = store;
    // Overrides for testing
    this.document = options.document || globalThis.document;
    this._perfService = options.perfService || perfService;
    this._onVisibilityChange = this._onVisibilityChange.bind(this);
  }

  /**
   * sendEventOrAddListener - Notify immediately if the page is already visible,
   *                    or else set up a listener for when visibility changes.
   *                    This is needed for accurate session tracking for telemetry,
   *                    because tabs are pre-loaded.
   */
  sendEventOrAddListener() {
    if (this.document.visibilityState === detect_user_session_start_VISIBLE) {
      // If the document is already visible, to the user, send a notification
      // immediately that a session has started.
      this._sendEvent();
    } else {
      // If the document is not visible, listen for when it does become visible.
      this.document.addEventListener(
        detect_user_session_start_VISIBILITY_CHANGE_EVENT,
        this._onVisibilityChange
      );
    }
  }

  /**
   * _sendEvent - Sends a message to the main process to indicate the current
   *              tab is now visible to the user, includes the
   *              visibility_event_rcvd_ts time in ms from the UNIX epoch.
   */
  _sendEvent() {
    this._perfService.mark("visibility_event_rcvd_ts");

    try {
      let visibility_event_rcvd_ts =
        this._perfService.getMostRecentAbsMarkStartByName(
          "visibility_event_rcvd_ts"
        );

      this._store.dispatch(
        actionCreators.AlsoToMain({
          type: actionTypes.SAVE_SESSION_PERF_DATA,
          data: {
            visibility_event_rcvd_ts,
            window_inner_width: window.innerWidth,
            window_inner_height: window.innerHeight,
          },
        })
      );
    } catch (ex) {
      // If this failed, it's likely because the `privacy.resistFingerprinting`
      // pref is true.  We should at least not blow up.
    }
  }

  /**
   * _onVisibilityChange - If the visibility has changed to visible, sends a notification
   *                      and removes the event listener. This should only be called once per tab.
   */
  _onVisibilityChange() {
    if (this.document.visibilityState === detect_user_session_start_VISIBLE) {
      this._sendEvent();
      this.document.removeEventListener(
        detect_user_session_start_VISIBILITY_CHANGE_EVENT,
        this._onVisibilityChange
      );
    }
  }
}

;// CONCATENATED MODULE: external "Redux"
const external_Redux_namespaceObject = Redux;
;// CONCATENATED MODULE: ./content-src/lib/init-store.mjs
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */

/* eslint-env mozilla/remote-page */


// We disable import checking here as redux is installed via the npm packages
// at the newtab level, rather than in the top-level package.json.
// eslint-disable-next-line import/no-unresolved


const MERGE_STORE_ACTION = "NEW_TAB_INITIAL_STATE";
const OUTGOING_MESSAGE_NAME = "ActivityStream:ContentToMain";
const INCOMING_MESSAGE_NAME = "ActivityStream:MainToContent";

/**
 * A higher-order function which returns a reducer that, on MERGE_STORE action,
 * will return the action.data object merged into the previous state.
 *
 * For all other actions, it merely calls mainReducer.
 *
 * Because we want this to merge the entire state object, it's written as a
 * higher order function which takes the main reducer (itself often a call to
 * combineReducers) as a parameter.
 *
 * @param  {function} mainReducer reducer to call if action != MERGE_STORE_ACTION
 * @return {function}             a reducer that, on MERGE_STORE_ACTION action,
 *                                will return the action.data object merged
 *                                into the previous state, and the result
 *                                of calling mainReducer otherwise.
 */
function mergeStateReducer(mainReducer) {
  return (prevState, action) => {
    if (action.type === MERGE_STORE_ACTION) {
      return { ...prevState, ...action.data };
    }

    return mainReducer(prevState, action);
  };
}

/**
 * messageMiddleware - Middleware that looks for SentToMain type actions, and sends them if necessary
 */
const messageMiddleware = () => next => action => {
  const skipLocal = action.meta && action.meta.skipLocal;
  if (actionUtils.isSendToMain(action)) {
    RPMSendAsyncMessage(OUTGOING_MESSAGE_NAME, action);
  }
  if (!skipLocal) {
    next(action);
  }
};

const rehydrationMiddleware = ({ getState }) => {
  // NB: The parameter here is MiddlewareAPI which looks like a Store and shares
  // the same getState, so attached properties are accessible from the store.
  getState.didRehydrate = false;
  getState.didRequestInitialState = false;
  return next => action => {
    if (getState.didRehydrate || window.__FROM_STARTUP_CACHE__) {
      // Startup messages can be safely ignored by the about:home document
      // stored in the startup cache.
      if (
        window.__FROM_STARTUP_CACHE__ &&
        action.meta &&
        action.meta.isStartup
      ) {
        return null;
      }
      return next(action);
    }

    const isMergeStoreAction = action.type === MERGE_STORE_ACTION;
    const isRehydrationRequest = action.type === actionTypes.NEW_TAB_STATE_REQUEST;

    if (isRehydrationRequest) {
      getState.didRequestInitialState = true;
      return next(action);
    }

    if (isMergeStoreAction) {
      getState.didRehydrate = true;
      return next(action);
    }

    // If init happened after our request was made, we need to re-request
    if (getState.didRequestInitialState && action.type === actionTypes.INIT) {
      return next(actionCreators.AlsoToMain({ type: actionTypes.NEW_TAB_STATE_REQUEST }));
    }

    if (
      actionUtils.isBroadcastToContent(action) ||
      actionUtils.isSendToOneContent(action) ||
      actionUtils.isSendToPreloaded(action)
    ) {
      // Note that actions received before didRehydrate will not be dispatched
      // because this could negatively affect preloading and the the state
      // will be replaced by rehydration anyway.
      return null;
    }

    return next(action);
  };
};

/**
 * initStore - Create a store and listen for incoming actions
 *
 * @param  {object} reducers An object containing Redux reducers
 * @param  {object} intialState (optional) The initial state of the store, if desired
 * @return {object}          A redux store
 */
function initStore(reducers, initialState) {
  const store = (0,external_Redux_namespaceObject.createStore)(
    mergeStateReducer((0,external_Redux_namespaceObject.combineReducers)(reducers)),
    initialState,
    globalThis.RPMAddMessageListener &&
      (0,external_Redux_namespaceObject.applyMiddleware)(rehydrationMiddleware, messageMiddleware)
  );

  if (globalThis.RPMAddMessageListener) {
    globalThis.RPMAddMessageListener(INCOMING_MESSAGE_NAME, msg => {
      try {
        store.dispatch(msg.data);
      } catch (ex) {
        console.error("Content msg:", msg, "Dispatch error: ", ex);
        dump(
          `Content msg: ${JSON.stringify(msg)}\nDispatch error: ${ex}\n${
            ex.stack
          }`
        );
      }
    });
  }

  return store;
}

;// CONCATENATED MODULE: external "ReactDOM"
const external_ReactDOM_namespaceObject = ReactDOM;
var external_ReactDOM_default = /*#__PURE__*/__webpack_require__.n(external_ReactDOM_namespaceObject);
;// CONCATENATED MODULE: ./content-src/activity-stream.jsx
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this file,
 * You can obtain one at http://mozilla.org/MPL/2.0/. */









const NewTab = ({
  store
}) => /*#__PURE__*/external_React_default().createElement(external_ReactRedux_namespaceObject.Provider, {
  store: store
}, /*#__PURE__*/external_React_default().createElement(Base, null));
function doRequestWhenReady() {
  // If this document has already gone into the background by the time we've reached
  // here, we can deprioritize the request until the event loop
  // frees up. If, however, the visibility changes, we then send the request.
  const doRequestPromise = new Promise(resolve => {
    let didRequest = false;
    let requestIdleCallbackId = 0;
    function doRequest() {
      if (!didRequest) {
        if (requestIdleCallbackId) {
          cancelIdleCallback(requestIdleCallbackId);
        }
        didRequest = true;
        resolve();
      }
    }
    if (document.hidden) {
      requestIdleCallbackId = requestIdleCallback(doRequest);
      addEventListener("visibilitychange", doRequest, {
        once: true
      });
    } else {
      resolve();
    }
  });
  return doRequestPromise;
}
function renderWithoutState() {
  const store = initStore(reducers);
  new DetectUserSessionStart(store).sendEventOrAddListener();
  doRequestWhenReady().then(() => {
    // If state events happened before we got here, we can request state again.
    store.dispatch(actionCreators.AlsoToMain({
      type: actionTypes.NEW_TAB_STATE_REQUEST
    }));
    // If we rendered without state, we don't need the startup cache.
    store.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.NEW_TAB_STATE_REQUEST_WITHOUT_STARTUPCACHE
    }));
  });
  external_ReactDOM_default().hydrate(/*#__PURE__*/external_React_default().createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}
function renderCache(initialState) {
  if (initialState) {
    initialState.App.isForStartupCache.App = false;
  }
  const store = initStore(reducers, initialState);
  new DetectUserSessionStart(store).sendEventOrAddListener();
  doRequestWhenReady().then(() => {
    // If state events happened before we got here,
    // we can notify main that we need updates.
    // The individual feeds know what state is not cached.
    store.dispatch(actionCreators.OnlyToMain({
      type: actionTypes.NEW_TAB_STATE_REQUEST_STARTUPCACHE
    }));
  });
  external_ReactDOM_default().hydrate(/*#__PURE__*/external_React_default().createElement(NewTab, {
    store: store
  }), document.getElementById("root"));
}
NewtabRenderUtils = __webpack_exports__;
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aXZpdHktc3RyZWFtLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7O1VBQUE7VUFDQTs7Ozs7V0NEQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsaUNBQWlDLFdBQVc7V0FDNUM7V0FDQSxFOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0EsRTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLEdBQUc7V0FDSDtXQUNBO1dBQ0EsQ0FBQyxJOzs7OztXQ1BELHdGOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RCxFOzs7Ozs7Ozs7Ozs7Ozs7O0FDTkE7QUFDQTtBQUNBOztBQUVBOztBQUVPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLFFBQVE7QUFDcEIsWUFBWSxNQUFNO0FBQ2xCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxRQUFRO0FBQ3BCLFlBQVksS0FBSztBQUNqQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGVBQWU7QUFDeEIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBLFNBQVMsV0FBRTtBQUNYLGVBQWU7QUFDZixTQUFTLFdBQUU7QUFDWCxlQUFlO0FBQ2YsU0FBUyxXQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsV0FBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxXQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUyxXQUFFO0FBQ1gsZUFBZTtBQUNmLFNBQVMsV0FBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxXQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUyxXQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTLFdBQUU7QUFDWDtBQUNBO0FBQ0E7QUFD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QUFFQTtFQUFNLENBQUUsQ0FBQyxFQUFFejdELFFBQVEsQ0FBQ3E4RCxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0UsQyIsInNvdXJjZXMiOlsid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbW1vbi9BY3Rpb25zLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCB2YXIgXCJSZWFjdFJlZHV4XCIiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvZXh0ZXJuYWwgdmFyIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQWRtaW4vU2ltcGxlSGFzaFJvdXRlci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUFkbWluL0Rpc2NvdmVyeVN0cmVhbUFkbWluLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29uZmlybURpYWxvZy9Db25maXJtRGlhbG9nLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0ltYWdlL0RTSW1hZ2UuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnMubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0xpbmtNZW51L0RTTGlua01lbnUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL3V0aWxzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZXNDb25zdGFudHMubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9TYWZlQW5jaG9yL1NhZmVBbmNob3IuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9DYXJkL3R5cGVzLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCB2YXIgXCJSZWFjdFRyYW5zaXRpb25Hcm91cFwiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9GbHVlbnRPclRleHQvRmx1ZW50T3JUZXh0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0NvbnRleHRGb290ZXIvRFNDb250ZXh0Rm9vdGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU1RodW1ic1VwRG93bkJ1dHRvbnMvRFNUaHVtYnNVcERvd25CdXR0b25zLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0NhcmQvRFNDYXJkLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU0VtcHR5U3RhdGUvRFNFbXB0eVN0YXRlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ub3BpY3NXaWRnZXQvVG9waWNzV2lkZ2V0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9MaXN0RmVlZC9MaXN0RmVlZC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvQWRCYW5uZXJDb250ZXh0TWVudS9BZEJhbm5lckNvbnRleHRNZW51LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Qcm9tb0NhcmQvUHJvbW9DYXJkLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9BZEJhbm5lci9BZEJhbm5lci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvVHJlbmRpbmdTZWFyY2hlcy9UcmVuZGluZ1NlYXJjaGVzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9DYXJkR3JpZC9DYXJkR3JpZC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0ExMXlMaW5rQnV0dG9uL0ExMXlMaW5rQnV0dG9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRXJyb3JCb3VuZGFyeS9FcnJvckJvdW5kYXJ5LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29sbGFwc2libGVTZWN0aW9uL0NvbGxhcHNpYmxlU2VjdGlvbi5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNNZXNzYWdlL0RTTWVzc2FnZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvUmVwb3J0Q29udGVudC9SZXBvcnRDb250ZW50LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU1NpZ251cC9EU1NpZ251cC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNEaXNtaXNzL0RTRGlzbWlzcy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNUZXh0UHJvbW8vRFNUZXh0UHJvbW8uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL3NjcmVlbnNob3QtdXRpbHMubWpzIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9DYXJkL0NhcmQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL3BlcmYtc2VydmljZS5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0NvbXBvbmVudFBlcmZUaW1lci9Db21wb25lbnRQZXJmVGltZXIuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Nb3JlUmVjb21tZW5kYXRpb25zL01vcmVSZWNvbW1lbmRhdGlvbnMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Nb2RhbE92ZXJsYXkvTW9kYWxPdmVybGF5LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvU2VhcmNoU2hvcnRjdXRzRm9ybS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi4vLi4vbW9kdWxlcy9EZWR1cGUuc3lzLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uLi8uLi9jb21wb25lbnRzL3RvcHNpdGVzL2NvbnN0YW50cy5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb21tb24vUmVkdWNlcnMuc3lzLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZUZvcm1JbnB1dC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVJbXByZXNzaW9uV3JhcHBlci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL01lc3NhZ2VXcmFwcGVyL01lc3NhZ2VXcmFwcGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L0ZlYXR1cmVIaWdobGlnaHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvU2hvcnRjdXRGZWF0dXJlSGlnaGxpZ2h0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVGb3JtLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvVG9wU2l0ZXMvVG9wU2l0ZXMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9ucy9TZWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvSGlnaGxpZ2h0cy9IaWdobGlnaHRzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ib3Jpem9udGFsUnVsZS9Ib3Jpem9udGFsUnVsZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvTmF2aWdhdGlvbi9OYXZpZ2F0aW9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Qcml2YWN5TGluay9Qcml2YWN5TGluay5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvU2VjdGlvblRpdGxlL1NlY3Rpb25UaXRsZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvc2VsZWN0TGF5b3V0UmVuZGVyLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9TZWN0aW9uQ29udGV4dE1lbnUvU2VjdGlvbkNvbnRleHRNZW51LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9JbnRlcmVzdFBpY2tlci9JbnRlcmVzdFBpY2tlci5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvUGVyc29uYWxpemVkQ2FyZC9QZXJzb25hbGl6ZWRDYXJkLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L0ZvbGxvd1NlY3Rpb25CdXR0b25IaWdobGlnaHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9XZWF0aGVyL0xvY2F0aW9uU2VhcmNoLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2VhdGhlci9XZWF0aGVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9DYXJkU2VjdGlvbnMvQ2FyZFNlY3Rpb25zLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2lkZ2V0cy9MaXN0cy9MaXN0cy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1dpZGdldHMvRm9jdXNUaW1lci9Gb2N1c1RpbWVyLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L1dpZGdldHNGZWF0dXJlSGlnaGxpZ2h0LmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2lkZ2V0cy9XaWRnZXRzLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQmFzZS9EaXNjb3ZlcnlTdHJlYW1CYXNlLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9TZWN0aW9uc01nbXRQYW5lbC9TZWN0aW9uc01nbXRQYW5lbC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1dhbGxwYXBlckNhdGVnb3JpZXMvV2FsbHBhcGVyQ2F0ZWdvcmllcy5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0N1c3RvbWl6ZU1lbnUvQ29udGVudFNlY3Rpb24vQ29udGVudFNlY3Rpb24uanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9DdXN0b21pemVNZW51L0N1c3RvbWl6ZU1lbnUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvbGliL2NvbnN0YW50cy5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0xvZ28vTG9nby5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2guanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Eb3dubG9hZE1vZGFsVG9nZ2xlL0Rvd25sb2FkTW9kYWxUb2dnbGUuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25zL1RvYXN0cy9UaHVtYlVwVGh1bWJEb3duVG9hc3QuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25zL1RvYXN0cy9SZXBvcnRDb250ZW50VG9hc3QuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25zL05vdGlmaWNhdGlvbnMuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1RvcGljU2VsZWN0aW9uL1RvcGljU2VsZWN0aW9uLmpzeCIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L0Rvd25sb2FkTW9iaWxlUHJvbW9IaWdobGlnaHQuanN4Iiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvV2FsbHBhcGVyRmVhdHVyZUhpZ2hsaWdodC5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9jb21wb25lbnRzL0Jhc2UvQmFzZS5qc3giLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvLi9jb250ZW50LXNyYy9saWIvZGV0ZWN0LXVzZXItc2Vzc2lvbi1zdGFydC5tanMiLCJ3ZWJwYWNrOi8vTmV3dGFiUmVuZGVyVXRpbHMvZXh0ZXJuYWwgdmFyIFwiUmVkdXhcIiIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy8uL2NvbnRlbnQtc3JjL2xpYi9pbml0LXN0b3JlLm1qcyIsIndlYnBhY2s6Ly9OZXd0YWJSZW5kZXJVdGlscy9leHRlcm5hbCB2YXIgXCJSZWFjdERPTVwiIiwid2VicGFjazovL05ld3RhYlJlbmRlclV0aWxzLy4vY29udGVudC1zcmMvYWN0aXZpdHktc3RyZWFtLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vLyBUaGlzIGZpbGUgaXMgYWNjZXNzZWQgZnJvbSBib3RoIGNvbnRlbnQgYW5kIHN5c3RlbSBzY29wZXMuXG5cbmV4cG9ydCBjb25zdCBNQUlOX01FU1NBR0VfVFlQRSA9IFwiQWN0aXZpdHlTdHJlYW06TWFpblwiO1xuZXhwb3J0IGNvbnN0IENPTlRFTlRfTUVTU0FHRV9UWVBFID0gXCJBY3Rpdml0eVN0cmVhbTpDb250ZW50XCI7XG5leHBvcnQgY29uc3QgUFJFTE9BRF9NRVNTQUdFX1RZUEUgPSBcIkFjdGl2aXR5U3RyZWFtOlByZWxvYWRlZEJyb3dzZXJcIjtcbmV4cG9ydCBjb25zdCBVSV9DT0RFID0gMTtcbmV4cG9ydCBjb25zdCBCQUNLR1JPVU5EX1BST0NFU1MgPSAyO1xuXG4vKipcbiAqIGdsb2JhbEltcG9ydENvbnRleHQgLSBBcmUgd2UgaW4gVUkgY29kZSAoaS5lLiByZWFjdCwgYSBkb20pIG9yIHNvbWUga2luZCBvZiBiYWNrZ3JvdW5kIHByb2Nlc3M/XG4gKiAgICAgICAgICAgICAgICAgICAgICAgVXNlIHRoaXMgaW4gYWN0aW9uIGNyZWF0b3JzIGlmIHlvdSBuZWVkIGRpZmZlcmVudCBsb2dpY1xuICogICAgICAgICAgICAgICAgICAgICAgIGZvciB1aS9iYWNrZ3JvdW5kIHByb2Nlc3Nlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdsb2JhbEltcG9ydENvbnRleHQgPVxuICB0eXBlb2YgV2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gQkFDS0dST1VORF9QUk9DRVNTIDogVUlfQ09ERTtcblxuLy8gQ3JlYXRlIGFuIG9iamVjdCB0aGF0IGF2b2lkcyBhY2NpZGVudGFsIGRpZmZlcmluZyBrZXkvdmFsdWUgcGFpcnM6XG4vLyB7XG4vLyAgIElOSVQ6IFwiSU5JVFwiLFxuLy8gICBVTklOSVQ6IFwiVU5JTklUXCJcbi8vIH1cbmV4cG9ydCBjb25zdCBhY3Rpb25UeXBlcyA9IHt9O1xuXG5mb3IgKGNvbnN0IHR5cGUgb2YgW1xuICBcIkFCT1VUX1NQT05TT1JFRF9UT1BfU0lURVNcIixcbiAgXCJBRERPTlNfSU5GT19SRVFVRVNUXCIsXG4gIFwiQURET05TX0lORk9fUkVTUE9OU0VcIixcbiAgXCJBRFNfRkVFRF9VUERBVEVcIixcbiAgXCJBRFNfSU5JVFwiLFxuICBcIkFEU19SRVNFVFwiLFxuICBcIkFEU19VUERBVEVfU1BPQ1NcIixcbiAgXCJBRFNfVVBEQVRFX1RJTEVTXCIsXG4gIFwiQkxPQ0tfU0VDVElPTlwiLFxuICBcIkJMT0NLX1VSTFwiLFxuICBcIkJPT0tNQVJLX1VSTFwiLFxuICBcIkNBUkRfU0VDVElPTl9JTVBSRVNTSU9OXCIsXG4gIFwiQ0xFQVJfUFJFRlwiLFxuICBcIkNPUFlfRE9XTkxPQURfTElOS1wiLFxuICBcIkRFTEVURV9CT09LTUFSS19CWV9JRFwiLFxuICBcIkRFTEVURV9ISVNUT1JZX1VSTFwiLFxuICBcIkRJQUxPR19DQU5DRUxcIixcbiAgXCJESUFMT0dfQ0xPU0VcIixcbiAgXCJESUFMT0dfT1BFTlwiLFxuICBcIkRJU0FCTEVfU0VBUkNIXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfQ0hBTkdFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfUkVTRVRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVF9ERUZBVUxUU1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVFVQXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfU0VUX1ZBTFVFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfQkxPQ0tTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfQkxPQ0tTX1JFU0VUXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfRVhQSVJFX0NBQ0hFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfSURMRV9EQUlMWVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fREVWX0lNUFJFU1NJT05TXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU0hPV19QTEFDRUhPTERFUlwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fREVWX1NZTkNfUlNcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0RFVl9TWVNURU1fVElDS1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fRVhQRVJJTUVOVF9EQVRBXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9GRUVEU19VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9JTVBSRVNTSU9OX1NUQVRTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9MQVlPVVRfUkVTRVRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9VUERBVEVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX0xJTktfQkxPQ0tFRFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fTE9BREVEX0NPTlRFTlRcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9JTklUXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fTEFTVF9VUERBVEVEXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fT1ZFUlJJREVcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BFUlNPTkFMSVpBVElPTl9SRVNFVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX1RPR0dMRVwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX1VQREFURURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1BSRUZTX1NFVFVQXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9SRVRSWV9GRUVEXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19DQVBTXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DU19FTkRQT0lOVFwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfUExBQ0VNRU5UU1wiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfVVBEQVRFXCIsXG4gIFwiRElTQ09WRVJZX1NUUkVBTV9TUE9DX0JMT0NLRURcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1NQT0NfSU1QUkVTU0lPTlwiLFxuICBcIkRJU0NPVkVSWV9TVFJFQU1fVE9QSUNTX0xPQURJTkdcIixcbiAgXCJESVNDT1ZFUllfU1RSRUFNX1VTRVJfRVZFTlRcIixcbiAgXCJET1dOTE9BRF9DSEFOR0VEXCIsXG4gIFwiRkFLRVNQT1RfQ1RBX0NMSUNLXCIsXG4gIFwiRkFLRVNQT1RfRElTTUlTU1wiLFxuICBcIkZBS0VfRk9DVVNfU0VBUkNIXCIsXG4gIFwiRklMTF9TRUFSQ0hfVEVSTVwiLFxuICBcIkZPTExPV19TRUNUSU9OXCIsXG4gIFwiSEFORE9GRl9TRUFSQ0hfVE9fQVdFU09NRUJBUlwiLFxuICBcIkhJREVfUEVSU09OQUxJWkVcIixcbiAgXCJISURFX1RPQVNUX01FU1NBR0VcIixcbiAgXCJJTkZFUlJFRF9QRVJTT05BTElaQVRJT05fTU9ERUxfVVBEQVRFXCIsXG4gIFwiSU5GRVJSRURfUEVSU09OQUxJWkFUSU9OX1JFRlJFU0hcIixcbiAgXCJJTkZFUlJFRF9QRVJTT05BTElaQVRJT05fUkVTRVRcIixcbiAgXCJJTkZFUlJFRF9QRVJTT05BTElaQVRJT05fVVBEQVRFXCIsXG4gIFwiSU5JVFwiLFxuICBcIklOTElORV9TRUxFQ1RJT05fQ0xJQ0tcIixcbiAgXCJJTkxJTkVfU0VMRUNUSU9OX0lNUFJFU1NJT05cIixcbiAgXCJNRVNTQUdFX0JMT0NLXCIsXG4gIFwiTUVTU0FHRV9DTElDS1wiLFxuICBcIk1FU1NBR0VfRElTTUlTU1wiLFxuICBcIk1FU1NBR0VfSU1QUkVTU0lPTlwiLFxuICBcIk1FU1NBR0VfTk9USUZZX1ZJU0lCSUxJVFlcIixcbiAgXCJNRVNTQUdFX1NFVFwiLFxuICBcIk1FU1NBR0VfVE9HR0xFX1ZJU0lCSUxJVFlcIixcbiAgXCJORVdfVEFCX0lOSVRcIixcbiAgXCJORVdfVEFCX0lOSVRJQUxfU1RBVEVcIixcbiAgXCJORVdfVEFCX0xPQURcIixcbiAgXCJORVdfVEFCX1JFSFlEUkFURURcIixcbiAgXCJORVdfVEFCX1NUQVRFX1JFUVVFU1RcIixcbiAgXCJORVdfVEFCX1NUQVRFX1JFUVVFU1RfU1RBUlRVUENBQ0hFXCIsXG4gIFwiTkVXX1RBQl9TVEFURV9SRVFVRVNUX1dJVEhPVVRfU1RBUlRVUENBQ0hFXCIsXG4gIFwiTkVXX1RBQl9VTkxPQURcIixcbiAgXCJPUEVOX0FCT1VUX0ZBS0VTUE9UXCIsXG4gIFwiT1BFTl9ET1dOTE9BRF9GSUxFXCIsXG4gIFwiT1BFTl9MSU5LXCIsXG4gIFwiT1BFTl9ORVdfV0lORE9XXCIsXG4gIFwiT1BFTl9QUklWQVRFX1dJTkRPV1wiLFxuICBcIk9QRU5fV0VCRVhUX1NFVFRJTkdTXCIsXG4gIFwiUEFSVE5FUl9MSU5LX0FUVFJJQlVUSU9OXCIsXG4gIFwiUExBQ0VTX0JPT0tNQVJLU19SRU1PVkVEXCIsXG4gIFwiUExBQ0VTX0JPT0tNQVJLX0FEREVEXCIsXG4gIFwiUExBQ0VTX0hJU1RPUllfQ0xFQVJFRFwiLFxuICBcIlBMQUNFU19MSU5LU19DSEFOR0VEXCIsXG4gIFwiUExBQ0VTX0xJTktTX0RFTEVURURcIixcbiAgXCJQTEFDRVNfTElOS19CTE9DS0VEXCIsXG4gIFwiUE9DS0VUX0NUQVwiLFxuICBcIlBPQ0tFVF9USFVNQlNfRE9XTlwiLFxuICBcIlBPQ0tFVF9USFVNQlNfVVBcIixcbiAgXCJQT0NLRVRfV0FJVElOR19GT1JfU1BPQ1wiLFxuICBcIlBSRUZTX0lOSVRJQUxfVkFMVUVTXCIsXG4gIFwiUFJFRl9DSEFOR0VEXCIsXG4gIFwiUFJFVklFV19SRVFVRVNUXCIsXG4gIFwiUFJFVklFV19SRVFVRVNUX0NBTkNFTFwiLFxuICBcIlBSRVZJRVdfUkVTUE9OU0VcIixcbiAgXCJQUk9NT19DQVJEX0NMSUNLXCIsXG4gIFwiUFJPTU9fQ0FSRF9ESVNNSVNTXCIsXG4gIFwiUFJPTU9fQ0FSRF9JTVBSRVNTSU9OXCIsXG4gIFwiUkVNT1ZFX0RPV05MT0FEX0ZJTEVcIixcbiAgXCJSRVBPUlRfQURfT1BFTlwiLFxuICBcIlJFUE9SVF9BRF9TVUJNSVRcIixcbiAgXCJSRVBPUlRfQ0xPU0VcIixcbiAgXCJSRVBPUlRfQ09OVEVOVF9PUEVOXCIsXG4gIFwiUkVQT1JUX0NPTlRFTlRfU1VCTUlUXCIsXG4gIFwiUklDSF9JQ09OX01JU1NJTkdcIixcbiAgXCJTQVZFX1NFU1NJT05fUEVSRl9EQVRBXCIsXG4gIFwiU0NSRUVOU0hPVF9VUERBVEVEXCIsXG4gIFwiU0VDVElPTl9ERVJFR0lTVEVSXCIsXG4gIFwiU0VDVElPTl9ESVNBQkxFXCIsXG4gIFwiU0VDVElPTl9FTkFCTEVcIixcbiAgXCJTRUNUSU9OX09QVElPTlNfQ0hBTkdFRFwiLFxuICBcIlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVFwiLFxuICBcIlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1VQREFURVwiLFxuICBcIlNFQ1RJT05fUkVHSVNURVJcIixcbiAgXCJTRUNUSU9OX1VQREFURVwiLFxuICBcIlNFQ1RJT05fVVBEQVRFX0NBUkRcIixcbiAgXCJTRVRUSU5HU19DTE9TRVwiLFxuICBcIlNFVFRJTkdTX09QRU5cIixcbiAgXCJTRVRfUFJFRlwiLFxuICBcIlNIT1dfRE9XTkxPQURfRklMRVwiLFxuICBcIlNIT1dfRklSRUZPWF9BQ0NPVU5UU1wiLFxuICBcIlNIT1dfUEVSU09OQUxJWkVcIixcbiAgXCJTSE9XX1BSSVZBQ1lfSU5GT1wiLFxuICBcIlNIT1dfU0VBUkNIXCIsXG4gIFwiU0hPV19UT0FTVF9NRVNTQUdFXCIsXG4gIFwiU0tJUFBFRF9TSUdOSU5cIixcbiAgXCJTT1ZfVVBEQVRFRFwiLFxuICBcIlNVQk1JVF9FTUFJTFwiLFxuICBcIlNVQk1JVF9TSUdOSU5cIixcbiAgXCJTWVNURU1fVElDS1wiLFxuICBcIlRFTEVNRVRSWV9JTVBSRVNTSU9OX1NUQVRTXCIsXG4gIFwiVEVMRU1FVFJZX1VTRVJfRVZFTlRcIixcbiAgXCJUT1BJQ19TRUxFQ1RJT05fSU1QUkVTU0lPTlwiLFxuICBcIlRPUElDX1NFTEVDVElPTl9NQVlCRV9MQVRFUlwiLFxuICBcIlRPUElDX1NFTEVDVElPTl9TUE9UTElHSFRfQ0xPU0VcIixcbiAgXCJUT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX09QRU5cIixcbiAgXCJUT1BJQ19TRUxFQ1RJT05fVVNFUl9ESVNNSVNTXCIsXG4gIFwiVE9QSUNfU0VMRUNUSU9OX1VTRVJfT1BFTlwiLFxuICBcIlRPUElDX1NFTEVDVElPTl9VU0VSX1NBVkVcIixcbiAgXCJUT1BfU0lURVNfQUREXCIsXG4gIFwiVE9QX1NJVEVTX0NBTkNFTF9FRElUXCIsXG4gIFwiVE9QX1NJVEVTX0NMT1NFX1NFQVJDSF9TSE9SVENVVFNfTU9EQUxcIixcbiAgXCJUT1BfU0lURVNfRURJVFwiLFxuICBcIlRPUF9TSVRFU19JTlNFUlRcIixcbiAgXCJUT1BfU0lURVNfT1BFTl9TRUFSQ0hfU0hPUlRDVVRTX01PREFMXCIsXG4gIFwiVE9QX1NJVEVTX09SR0FOSUNfSU1QUkVTU0lPTl9TVEFUU1wiLFxuICBcIlRPUF9TSVRFU19QSU5cIixcbiAgXCJUT1BfU0lURVNfUFJFRlNfVVBEQVRFRFwiLFxuICBcIlRPUF9TSVRFU19TUE9OU09SRURfSU1QUkVTU0lPTl9TVEFUU1wiLFxuICBcIlRPUF9TSVRFU19VTlBJTlwiLFxuICBcIlRPUF9TSVRFU19VUERBVEVEXCIsXG4gIFwiVE9UQUxfQk9PS01BUktTX1JFUVVFU1RcIixcbiAgXCJUT1RBTF9CT09LTUFSS1NfUkVTUE9OU0VcIixcbiAgXCJUUkVORElOR19TRUFSQ0hfSU1QUkVTU0lPTlwiLFxuICBcIlRSRU5ESU5HX1NFQVJDSF9TVUdHRVNUSU9OX09QRU5cIixcbiAgXCJUUkVORElOR19TRUFSQ0hfVE9HR0xFX0NPTExBUFNFXCIsXG4gIFwiVFJFTkRJTkdfU0VBUkNIX1VQREFURVwiLFxuICBcIlVOQkxPQ0tfU0VDVElPTlwiLFxuICBcIlVORk9MTE9XX1NFQ1RJT05cIixcbiAgXCJVTklOSVRcIixcbiAgXCJVUERBVEVfUElOTkVEX1NFQVJDSF9TSE9SVENVVFNcIixcbiAgXCJVUERBVEVfU0VBUkNIX1NIT1JUQ1VUU1wiLFxuICBcIldBTExQQVBFUlNfQ0FURUdPUllfU0VUXCIsXG4gIFwiV0FMTFBBUEVSU19DVVNUT01fU0VUXCIsXG4gIFwiV0FMTFBBUEVSU19GRUFUVVJFX0hJR0hMSUdIVF9DT1VOVEVSX0lOQ1JFTUVOVFwiLFxuICBcIldBTExQQVBFUlNfRkVBVFVSRV9ISUdITElHSFRfQ1RBX0NMSUNLRURcIixcbiAgXCJXQUxMUEFQRVJTX0ZFQVRVUkVfSElHSExJR0hUX0RJU01JU1NFRFwiLFxuICBcIldBTExQQVBFUlNfRkVBVFVSRV9ISUdITElHSFRfU0VFTlwiLFxuICBcIldBTExQQVBFUlNfU0VUXCIsXG4gIFwiV0FMTFBBUEVSX0NBVEVHT1JZX0NMSUNLXCIsXG4gIFwiV0FMTFBBUEVSX0NMSUNLXCIsXG4gIFwiV0FMTFBBUEVSX1JFTU9WRV9VUExPQURcIixcbiAgXCJXQUxMUEFQRVJfVVBMT0FEXCIsXG4gIFwiV0VBVEhFUl9JTVBSRVNTSU9OXCIsXG4gIFwiV0VBVEhFUl9MT0FEX0VSUk9SXCIsXG4gIFwiV0VBVEhFUl9MT0NBVElPTl9EQVRBX1VQREFURVwiLFxuICBcIldFQVRIRVJfTE9DQVRJT05fU0VBUkNIX1VQREFURVwiLFxuICBcIldFQVRIRVJfTE9DQVRJT05fU1VHR0VTVElPTlNfVVBEQVRFXCIsXG4gIFwiV0VBVEhFUl9PUEVOX1BST1ZJREVSX1VSTFwiLFxuICBcIldFQVRIRVJfUVVFUllfVVBEQVRFXCIsXG4gIFwiV0VBVEhFUl9TRUFSQ0hfQUNUSVZFXCIsXG4gIFwiV0VBVEhFUl9VUERBVEVcIixcbiAgXCJXRUJFWFRfQ0xJQ0tcIixcbiAgXCJXRUJFWFRfRElTTUlTU1wiLFxuICBcIldJREdFVFNfTElTVFNfQ0hBTkdFX1NFTEVDVEVEXCIsXG4gIFwiV0lER0VUU19MSVNUU19TRVRcIixcbiAgXCJXSURHRVRTX0xJU1RTX1NFVF9TRUxFQ1RFRFwiLFxuICBcIldJREdFVFNfTElTVFNfVVBEQVRFXCIsXG4gIFwiV0lER0VUU19MSVNUU19VU0VSX0VWRU5UXCIsXG4gIFwiV0lER0VUU19MSVNUU19VU0VSX0lNUFJFU1NJT05cIixcbiAgXCJXSURHRVRTX1RJTUVSX0VORFwiLFxuICBcIldJREdFVFNfVElNRVJfUEFVU0VcIixcbiAgXCJXSURHRVRTX1RJTUVSX1BMQVlcIixcbiAgXCJXSURHRVRTX1RJTUVSX1JFU0VUXCIsXG4gIFwiV0lER0VUU19USU1FUl9TRVRcIixcbiAgXCJXSURHRVRTX1RJTUVSX1NFVF9EVVJBVElPTlwiLFxuICBcIldJREdFVFNfVElNRVJfU0VUX1RZUEVcIixcbiAgXCJXSURHRVRTX1RJTUVSX1VTRVJfRVZFTlRcIixcbiAgXCJXSURHRVRTX1RJTUVSX1VTRVJfSU1QUkVTU0lPTlwiLFxuXSkge1xuICBhY3Rpb25UeXBlc1t0eXBlXSA9IHR5cGU7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgcm91dGVkIGFjdGlvbnMgYmV0d2VlbiBjb250ZW50IGFuZCBtYWluXG4vLyBOb3QgaW50ZW5kZWQgdG8gYmUgdXNlZCBieSBjb25zdW1lcnNcbmZ1bmN0aW9uIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCBvcHRpb25zKSB7XG4gIGNvbnN0IG1ldGEgPSBhY3Rpb24ubWV0YSA/IHsgLi4uYWN0aW9uLm1ldGEgfSA6IHt9O1xuICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMuZnJvbSB8fCAhb3B0aW9ucy50bykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiUm91dGVkIE1lc3NhZ2VzIG11c3QgaGF2ZSBvcHRpb25zIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyLCBhbmQgbXVzdCBhdCBsZWFzdCBpbmNsdWRlIGEgLmZyb20gYW5kIC50byBwcm9wZXJ0eS5cIlxuICAgICk7XG4gIH1cbiAgLy8gRm9yIGVhY2ggb2YgdGhlc2UgZmllbGRzLCBpZiB0aGV5IGFyZSBwYXNzZWQgYXMgYW4gb3B0aW9uLFxuICAvLyBhZGQgdGhlbSB0byB0aGUgYWN0aW9uLiBJZiB0aGV5IGFyZSBub3QgZGVmaW5lZCwgcmVtb3ZlIHRoZW0uXG4gIFtcImZyb21cIiwgXCJ0b1wiLCBcInRvVGFyZ2V0XCIsIFwiZnJvbVRhcmdldFwiLCBcInNraXBNYWluXCIsIFwic2tpcExvY2FsXCJdLmZvckVhY2goXG4gICAgbyA9PiB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnNbb10gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgbWV0YVtvXSA9IG9wdGlvbnNbb107XG4gICAgICB9IGVsc2UgaWYgKG1ldGFbb10pIHtcbiAgICAgICAgZGVsZXRlIG1ldGFbb107XG4gICAgICB9XG4gICAgfVxuICApO1xuICByZXR1cm4geyAuLi5hY3Rpb24sIG1ldGEgfTtcbn1cblxuLyoqXG4gKiBBbHNvVG9NYWluIC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIGRpc3BhdGNoZWQgbG9jYWxseSBhbmQgYWxzbyBzZW50IHRvIHRoZSBNYWluIHByb2Nlc3MuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBhY3Rpb24gQW55IHJlZHV4IGFjdGlvbiAocmVxdWlyZWQpXG4gKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSAge2Jvb2x9ICAgc2tpcExvY2FsIFVzZWQgYnkgT25seVRvTWFpbiB0byBza2lwIHRoZSBtYWluIHJlZHVjZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gZnJvbVRhcmdldCBUaGUgaWQgb2YgdGhlIGNvbnRlbnQgcG9ydCBmcm9tIHdoaWNoIHRoZSBhY3Rpb24gb3JpZ2luYXRlZC4gKG9wdGlvbmFsKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24gd2l0aCBhZGRlZCAubWV0YSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIEFsc29Ub01haW4oYWN0aW9uLCBmcm9tVGFyZ2V0LCBza2lwTG9jYWwpIHtcbiAgcmV0dXJuIF9Sb3V0ZU1lc3NhZ2UoYWN0aW9uLCB7XG4gICAgZnJvbTogQ09OVEVOVF9NRVNTQUdFX1RZUEUsXG4gICAgdG86IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIGZyb21UYXJnZXQsXG4gICAgc2tpcExvY2FsLFxuICB9KTtcbn1cblxuLyoqXG4gKiBPbmx5VG9NYWluIC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCB3aWxsIGJlIHNlbnQgdG8gdGhlIE1haW4gcHJvY2VzcyBhbmQgc2tpcCB0aGUgbG9jYWwgcmVkdWNlci5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtICB7c3RyaW5nfSBmcm9tVGFyZ2V0IFRoZSBpZCBvZiB0aGUgY29udGVudCBwb3J0IGZyb20gd2hpY2ggdGhlIGFjdGlvbiBvcmlnaW5hdGVkLiAob3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gT25seVRvTWFpbihhY3Rpb24sIGZyb21UYXJnZXQpIHtcbiAgcmV0dXJuIEFsc29Ub01haW4oYWN0aW9uLCBmcm9tVGFyZ2V0LCB0cnVlKTtcbn1cblxuLyoqXG4gKiBCcm9hZGNhc3RUb0NvbnRlbnQgLSBDcmVhdGVzIGEgbWVzc2FnZSB0aGF0IHdpbGwgYmUgZGlzcGF0Y2hlZCB0byBtYWluIGFuZCBzZW50IHRvIEFMTCBjb250ZW50IHByb2Nlc3Nlcy5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyAob3B0aW9uYWwpXG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gQnJvYWRjYXN0VG9Db250ZW50KGFjdGlvbiwgb3B0aW9ucykge1xuICByZXR1cm4gX1JvdXRlTWVzc2FnZShhY3Rpb24sIHtcbiAgICBmcm9tOiBNQUlOX01FU1NBR0VfVFlQRSxcbiAgICB0bzogQ09OVEVOVF9NRVNTQUdFX1RZUEUsXG4gICAgLi4ub3B0aW9ucyxcbiAgfSk7XG59XG5cbi8qKlxuICogQWxzb1RvT25lQ29udGVudCAtIENyZWF0ZXMgYSBtZXNzYWdlIHRoYXQgd2lsbCBiZSB3aWxsIGJlIGRpc3BhdGNoZWQgdG8gdGhlIG1haW4gc3RvcmVcbiAqICAgICAgICAgICAgICAgICAgICBhbmQgYWxzbyBzZW50IHRvIGEgcGFydGljdWxhciBDb250ZW50IHByb2Nlc3MuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBhY3Rpb24gQW55IHJlZHV4IGFjdGlvbiAocmVxdWlyZWQpXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHRhcmdldCBUaGUgaWQgb2YgYSBjb250ZW50IHBvcnRcbiAqIEBwYXJhbSAge2Jvb2x9IHNraXBNYWluIFVzZWQgYnkgT25seVRvT25lQ29udGVudCB0byBza2lwIHRoZSBtYWluIHByb2Nlc3NcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBBbHNvVG9PbmVDb250ZW50KGFjdGlvbiwgdGFyZ2V0LCBza2lwTWFpbikge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIHRhcmdldCBJRCBhcyB0aGUgc2Vjb25kIHBhcmFtZXRlciBvZiBBbHNvVG9PbmVDb250ZW50LiBJZiB5b3Ugd2FudCB0byBzZW5kIHRvIGFsbCBjb250ZW50IHByb2Nlc3NlcywgdXNlIEJyb2FkY2FzdFRvQ29udGVudFwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gX1JvdXRlTWVzc2FnZShhY3Rpb24sIHtcbiAgICBmcm9tOiBNQUlOX01FU1NBR0VfVFlQRSxcbiAgICB0bzogQ09OVEVOVF9NRVNTQUdFX1RZUEUsXG4gICAgdG9UYXJnZXQ6IHRhcmdldCxcbiAgICBza2lwTWFpbixcbiAgfSk7XG59XG5cbi8qKlxuICogT25seVRvT25lQ29udGVudCAtIENyZWF0ZXMgYSBtZXNzYWdlIHRoYXQgd2lsbCBiZSBzZW50IHRvIGEgcGFydGljdWxhciBDb250ZW50IHByb2Nlc3NcbiAqICAgICAgICAgICAgICAgICAgICBhbmQgc2tpcCB0aGUgbWFpbiByZWR1Y2VyLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gYWN0aW9uIEFueSByZWR1eCBhY3Rpb24gKHJlcXVpcmVkKVxuICogQHBhcmFtICB7c3RyaW5nfSB0YXJnZXQgVGhlIGlkIG9mIGEgY29udGVudCBwb3J0XG4gKiBAcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbiB3aXRoIGFkZGVkIC5tZXRhIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gT25seVRvT25lQ29udGVudChhY3Rpb24sIHRhcmdldCkge1xuICByZXR1cm4gQWxzb1RvT25lQ29udGVudChhY3Rpb24sIHRhcmdldCwgdHJ1ZSk7XG59XG5cbi8qKlxuICogQWxzb1RvUHJlbG9hZGVkIC0gQ3JlYXRlcyBhIG1lc3NhZ2UgdGhhdCBkaXNwYXRjaGVkIHRvIHRoZSBtYWluIHJlZHVjZXIgYW5kIGFsc28gc2VudCB0byB0aGUgcHJlbG9hZGVkIHRhYi5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFjdGlvbiBBbnkgcmVkdXggYWN0aW9uIChyZXF1aXJlZClcbiAqIEByZXR1cm4ge29iamVjdH0gQW4gYWN0aW9uIHdpdGggYWRkZWQgLm1ldGEgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBBbHNvVG9QcmVsb2FkZWQoYWN0aW9uKSB7XG4gIHJldHVybiBfUm91dGVNZXNzYWdlKGFjdGlvbiwge1xuICAgIGZyb206IE1BSU5fTUVTU0FHRV9UWVBFLFxuICAgIHRvOiBQUkVMT0FEX01FU1NBR0VfVFlQRSxcbiAgfSk7XG59XG5cbi8qKlxuICogVXNlckV2ZW50IC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGEgdXNlciBhY3Rpb24uIFRoaXMgc2hvdWxkIG9ubHlcbiAqICAgICAgICAgICAgICAgICAgIGJlIHNlbnQgZnJvbSB0aGUgVUkgZHVyaW5nIGEgdXNlciBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZyAoc291cmNlLCBldGMuKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBBbHNvVG9NYWluIGFjdGlvblxuICovXG5mdW5jdGlvbiBVc2VyRXZlbnQoZGF0YSkge1xuICByZXR1cm4gQWxzb1RvTWFpbih7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuVEVMRU1FVFJZX1VTRVJfRVZFTlQsXG4gICAgZGF0YSxcbiAgfSk7XG59XG5cbi8qKlxuICogRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50IC0gQSB0ZWxlbWV0cnkgcGluZyBpbmRpY2F0aW5nIGEgdXNlciBhY3Rpb24gZnJvbSBEaXNjb3ZlcnkgU3RyZWFtLiBUaGlzIHNob3VsZCBvbmx5XG4gKiAgICAgICAgICAgICAgICAgICAgIGJlIHNlbnQgZnJvbSB0aGUgVUkgZHVyaW5nIGEgdXNlciBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZyAoc291cmNlLCBldGMuKVxuICogQHJldHVybiB7b2JqZWN0fSBBbiBBbHNvVG9NYWluIGFjdGlvblxuICovXG5mdW5jdGlvbiBEaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoZGF0YSkge1xuICByZXR1cm4gQWxzb1RvTWFpbih7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuRElTQ09WRVJZX1NUUkVBTV9VU0VSX0VWRU5ULFxuICAgIGRhdGEsXG4gIH0pO1xufVxuXG4vKipcbiAqIEltcHJlc3Npb25TdGF0cyAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhbiBpbXByZXNzaW9uIHN0YXRzLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBGaWVsZHMgdG8gaW5jbHVkZSBpbiB0aGUgcGluZ1xuICogQHBhcmFtICB7aW50fSBpbXBvcnRDb250ZXh0IChGb3IgdGVzdGluZykgT3ZlcnJpZGUgdGhlIGltcG9ydCBjb250ZXh0IGZvciB0ZXN0aW5nLlxuICogI3JldHVybiB7b2JqZWN0fSBBbiBhY3Rpb24uIEZvciBVSSBjb2RlLCBhIEFsc29Ub01haW4gYWN0aW9uLlxuICovXG5mdW5jdGlvbiBJbXByZXNzaW9uU3RhdHMoZGF0YSwgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHQpIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIHR5cGU6IGFjdGlvblR5cGVzLlRFTEVNRVRSWV9JTVBSRVNTSU9OX1NUQVRTLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyAtIEEgdGVsZW1ldHJ5IHBpbmcgaW5kaWNhdGluZyBhbiBpbXByZXNzaW9uIHN0YXRzIGluIERpc2NvdmVyeSBTdHJlYW0uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyhcbiAgZGF0YSxcbiAgaW1wb3J0Q29udGV4dCA9IGdsb2JhbEltcG9ydENvbnRleHRcbikge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuRElTQ09WRVJZX1NUUkVBTV9JTVBSRVNTSU9OX1NUQVRTLFxuICAgIGRhdGEsXG4gIH07XG4gIHJldHVybiBpbXBvcnRDb250ZXh0ID09PSBVSV9DT0RFID8gQWxzb1RvTWFpbihhY3Rpb24pIDogYWN0aW9uO1xufVxuXG4vKipcbiAqIERpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQgLSBBIHRlbGVtZXRyeSBwaW5nIGluZGljYXRpbmcgYSBjb250ZW50IGdldHMgbG9hZGVkIGluIERpc2NvdmVyeSBTdHJlYW0uXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBkYXRhIEZpZWxkcyB0byBpbmNsdWRlIGluIHRoZSBwaW5nXG4gKiBAcGFyYW0gIHtpbnR9IGltcG9ydENvbnRleHQgKEZvciB0ZXN0aW5nKSBPdmVycmlkZSB0aGUgaW1wb3J0IGNvbnRleHQgZm9yIHRlc3RpbmcuXG4gKiAjcmV0dXJuIHtvYmplY3R9IEFuIGFjdGlvbi4gRm9yIFVJIGNvZGUsIGEgQWxzb1RvTWFpbiBhY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQoXG4gIGRhdGEsXG4gIGltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0XG4pIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIHR5cGU6IGFjdGlvblR5cGVzLkRJU0NPVkVSWV9TVFJFQU1fTE9BREVEX0NPTlRFTlQsXG4gICAgZGF0YSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbmZ1bmN0aW9uIFNldFByZWYocHJlZk5hbWUsIHZhbHVlLCBpbXBvcnRDb250ZXh0ID0gZ2xvYmFsSW1wb3J0Q29udGV4dCkge1xuICBjb25zdCBhY3Rpb24gPSB7XG4gICAgdHlwZTogYWN0aW9uVHlwZXMuU0VUX1BSRUYsXG4gICAgZGF0YTogeyBuYW1lOiBwcmVmTmFtZSwgdmFsdWUgfSxcbiAgfTtcbiAgcmV0dXJuIGltcG9ydENvbnRleHQgPT09IFVJX0NPREUgPyBBbHNvVG9NYWluKGFjdGlvbikgOiBhY3Rpb247XG59XG5cbmZ1bmN0aW9uIFdlYkV4dEV2ZW50KHR5cGUsIGRhdGEsIGltcG9ydENvbnRleHQgPSBnbG9iYWxJbXBvcnRDb250ZXh0KSB7XG4gIGlmICghZGF0YSB8fCAhZGF0YS5zb3VyY2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnV2ViRXh0RXZlbnQgYWN0aW9ucyBzaG91bGQgaW5jbHVkZSBhIHByb3BlcnR5IFwic291cmNlXCIsIHRoZSBpZCBvZiB0aGUgd2ViZXh0ZW5zaW9uIHRoYXQgc2hvdWxkIHJlY2VpdmUgdGhlIGV2ZW50LidcbiAgICApO1xuICB9XG4gIGNvbnN0IGFjdGlvbiA9IHsgdHlwZSwgZGF0YSB9O1xuICByZXR1cm4gaW1wb3J0Q29udGV4dCA9PT0gVUlfQ09ERSA/IEFsc29Ub01haW4oYWN0aW9uKSA6IGFjdGlvbjtcbn1cblxuZXhwb3J0IGNvbnN0IGFjdGlvbkNyZWF0b3JzID0ge1xuICBCcm9hZGNhc3RUb0NvbnRlbnQsXG4gIFVzZXJFdmVudCxcbiAgRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50LFxuICBJbXByZXNzaW9uU3RhdHMsXG4gIEFsc29Ub09uZUNvbnRlbnQsXG4gIE9ubHlUb09uZUNvbnRlbnQsXG4gIEFsc29Ub01haW4sXG4gIE9ubHlUb01haW4sXG4gIEFsc29Ub1ByZWxvYWRlZCxcbiAgU2V0UHJlZixcbiAgV2ViRXh0RXZlbnQsXG4gIERpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyxcbiAgRGlzY292ZXJ5U3RyZWFtTG9hZGVkQ29udGVudCxcbn07XG5cbi8vIFRoZXNlIGFyZSBoZWxwZXJzIHRvIHRlc3QgZm9yIGNlcnRhaW4ga2luZHMgb2YgYWN0aW9uc1xuZXhwb3J0IGNvbnN0IGFjdGlvblV0aWxzID0ge1xuICBpc1NlbmRUb01haW4oYWN0aW9uKSB7XG4gICAgaWYgKCFhY3Rpb24ubWV0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aW9uLm1ldGEudG8gPT09IE1BSU5fTUVTU0FHRV9UWVBFICYmXG4gICAgICBhY3Rpb24ubWV0YS5mcm9tID09PSBDT05URU5UX01FU1NBR0VfVFlQRVxuICAgICk7XG4gIH0sXG4gIGlzQnJvYWRjYXN0VG9Db250ZW50KGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFjdGlvbi5tZXRhLnRvID09PSBDT05URU5UX01FU1NBR0VfVFlQRSAmJiAhYWN0aW9uLm1ldGEudG9UYXJnZXQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2VuZFRvT25lQ29udGVudChhY3Rpb24pIHtcbiAgICBpZiAoIWFjdGlvbi5tZXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhY3Rpb24ubWV0YS50byA9PT0gQ09OVEVOVF9NRVNTQUdFX1RZUEUgJiYgYWN0aW9uLm1ldGEudG9UYXJnZXQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2VuZFRvUHJlbG9hZGVkKGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGFjdGlvbi5tZXRhLnRvID09PSBQUkVMT0FEX01FU1NBR0VfVFlQRSAmJlxuICAgICAgYWN0aW9uLm1ldGEuZnJvbSA9PT0gTUFJTl9NRVNTQUdFX1RZUEVcbiAgICApO1xuICB9LFxuICBpc0Zyb21NYWluKGFjdGlvbikge1xuICAgIGlmICghYWN0aW9uLm1ldGEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIGFjdGlvbi5tZXRhLmZyb20gPT09IE1BSU5fTUVTU0FHRV9UWVBFICYmXG4gICAgICBhY3Rpb24ubWV0YS50byA9PT0gQ09OVEVOVF9NRVNTQUdFX1RZUEVcbiAgICApO1xuICB9LFxuICBnZXRQb3J0SWRPZlNlbmRlcihhY3Rpb24pIHtcbiAgICByZXR1cm4gKGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLmZyb21UYXJnZXQpIHx8IG51bGw7XG4gIH0sXG4gIF9Sb3V0ZU1lc3NhZ2UsXG59O1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFJlYWN0UmVkdXg7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFJlYWN0OyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNpbXBsZUhhc2hSb3V0ZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkhhc2hDaGFuZ2UgPSB0aGlzLm9uSGFzaENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGhhc2g6IGdsb2JhbFRoaXMubG9jYXRpb24uaGFzaCB9O1xuICB9XG5cbiAgb25IYXNoQ2hhbmdlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBoYXNoOiBnbG9iYWxUaGlzLmxvY2F0aW9uLmhhc2ggfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCB0aGlzLm9uSGFzaENoYW5nZSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsIHRoaXMub25IYXNoQ2hhbmdlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBbLCAuLi5yb3V0ZXNdID0gdGhpcy5zdGF0ZS5oYXNoLnNwbGl0KFwiLVwiKTtcbiAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4sIHtcbiAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIGhhc2g6IHRoaXMuc3RhdGUuaGFzaCxcbiAgICAgICAgcm91dGVzLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2ltcGxlSGFzaFJvdXRlciB9IGZyb20gXCIuL1NpbXBsZUhhc2hSb3V0ZXJcIjtcblxuLy8gUHJlZiBDb25zdGFudHNcbmNvbnN0IFBSRUZfQURfU0laRV9NRURJVU1fUkVDVEFOR0xFID0gXCJuZXd0YWJBZFNpemUubWVkaXVtUmVjdGFuZ2xlXCI7XG5jb25zdCBQUkVGX0FEX1NJWkVfQklMTEJPQVJEID0gXCJuZXd0YWJBZFNpemUuYmlsbGJvYXJkXCI7XG5jb25zdCBQUkVGX0FEX1NJWkVfTEVBREVSQk9BUkQgPSBcIm5ld3RhYkFkU2l6ZS5sZWFkZXJib2FyZFwiO1xuY29uc3QgUFJFRl9DT05URVhUVUFMX0NPTlRFTlRfU0VMRUNURURfRkVFRCA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLmNvbnRleHR1YWxDb250ZW50LnNlbGVjdGVkRmVlZFwiO1xuY29uc3QgUFJFRl9DT05URVhUVUFMX0NPTlRFTlRfRkVFRFMgPSBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5mZWVkc1wiO1xuY29uc3QgUFJFRl9TRUNUSU9OU19FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9TUE9DX1BMQUNFTUVOVFMgPSBcImRpc2NvdmVyeXN0cmVhbS5wbGFjZW1lbnRzLnNwb2NzXCI7XG5jb25zdCBQUkVGX1NQT0NfQ09VTlRTID0gXCJkaXNjb3ZlcnlzdHJlYW0ucGxhY2VtZW50cy5zcG9jcy5jb3VudHNcIjtcbmNvbnN0IFBSRUZfQ09OVEVYVFVBTF9BRFNfRU5BQkxFRCA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmNvbnRleHR1YWxBZHMuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9DT05URVhUVUFMX0JBTk5FUl9QTEFDRU1FTlRTID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0ucGxhY2VtZW50cy5jb250ZXh0dWFsQmFubmVyc1wiO1xuY29uc3QgUFJFRl9DT05URVhUVUFMX0JBTk5FUl9DT1VOVFMgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5wbGFjZW1lbnRzLmNvbnRleHR1YWxCYW5uZXJzLmNvdW50c1wiO1xuXG5jb25zdCBSb3cgPSBwcm9wcyA9PiAoXG4gIDx0ciBjbGFzc05hbWU9XCJtZXNzYWdlLWl0ZW1cIiB7Li4ucHJvcHN9PlxuICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgPC90cj5cbik7XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZSh0aW1lc3RhbXApIHtcbiAgaWYgKCF0aW1lc3RhbXApIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRpbWVzdGFtcCkgLyAxMDAwKTtcbiAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSB0aW1lc3RhbXApIC8gNjAwMDApO1xuICBpZiAoc2Vjb25kcyA8IDIpIHtcbiAgICByZXR1cm4gXCJqdXN0IG5vd1wiO1xuICB9IGVsc2UgaWYgKHNlY29uZHMgPCA2MCkge1xuICAgIHJldHVybiBgJHtzZWNvbmRzfSBzZWNvbmRzIGFnb2A7XG4gIH0gZWxzZSBpZiAobWludXRlcyA9PT0gMSkge1xuICAgIHJldHVybiBcIjEgbWludXRlIGFnb1wiO1xuICB9IGVsc2UgaWYgKG1pbnV0ZXMgPCA2MDApIHtcbiAgICByZXR1cm4gYCR7bWludXRlc30gbWludXRlcyBhZ29gO1xuICB9XG4gIHJldHVybiBuZXcgRGF0ZSh0aW1lc3RhbXApLnRvTG9jYWxlU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVTdG9yeUJ1dHRvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgdGhpcy5wcm9wcy5vbkNsaWNrKHRoaXMucHJvcHMuc3RvcnkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PmNvbGxhcHNlL29wZW48L2J1dHRvbj47XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvZ2dsZVByZWZDaGVja2JveCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHRoaXMucHJvcHMucHJlZiwgZXZlbnQudGFyZ2V0LmNoZWNrZWQpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIGNoZWNrZWQ9e3RoaXMucHJvcHMuY2hlY2tlZH1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZX1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgLz57XCIgXCJ9XG4gICAgICAgIHt0aGlzLnByb3BzLnByZWZ9e1wiIFwifVxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGVyc29uYWxpemF0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMudG9nZ2xlUGVyc29uYWxpemF0aW9uID0gdGhpcy50b2dnbGVQZXJzb25hbGl6YXRpb24uYmluZCh0aGlzKTtcbiAgfVxuXG4gIHRvZ2dsZVBlcnNvbmFsaXphdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX1RPR0dMRSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxhc3RVcGRhdGVkLCBpbml0aWFsaXplZCB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5QZXJzb25hbGl6YXRpb247XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPVwiMlwiPlxuICAgICAgICAgICAgICAgIDxUb2dnbGVQcmVmQ2hlY2tib3hcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMucHJvcHMucGVyc29uYWxpemVkfVxuICAgICAgICAgICAgICAgICAgcHJlZj1cInBlcnNvbmFsaXplZFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy50b2dnbGVQZXJzb25hbGl6YXRpb259XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPlBlcnNvbmFsaXphdGlvbiBMYXN0IFVwZGF0ZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e3JlbGF0aXZlVGltZShsYXN0VXBkYXRlZCkgfHwgXCIobm8gZGF0YSlcIn08L3RkPlxuICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWluXCI+UGVyc29uYWxpemF0aW9uIEluaXRpYWxpemVkPC90ZD5cbiAgICAgICAgICAgICAgPHRkPntpbml0aWFsaXplZCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifTwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaXNjb3ZlcnlTdHJlYW1BZG1pblVJIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMucmVzdG9yZVByZWZEZWZhdWx0cyA9IHRoaXMucmVzdG9yZVByZWZEZWZhdWx0cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0Q29uZmlnVmFsdWUgPSB0aGlzLnNldENvbmZpZ1ZhbHVlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5leHBpcmVDYWNoZSA9IHRoaXMuZXhwaXJlQ2FjaGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZnJlc2hDYWNoZSA9IHRoaXMucmVmcmVzaENhY2hlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zaG93UGxhY2Vob2xkZXIgPSB0aGlzLnNob3dQbGFjZWhvbGRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaWRsZURhaWx5ID0gdGhpcy5pZGxlRGFpbHkuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN5c3RlbVRpY2sgPSB0aGlzLnN5c3RlbVRpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnN5bmNSZW1vdGVTZXR0aW5ncyA9IHRoaXMuc3luY1JlbW90ZVNldHRpbmdzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblN0b3J5VG9nZ2xlID0gdGhpcy5vblN0b3J5VG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVXZWF0aGVyU3VibWl0ID0gdGhpcy5oYW5kbGVXZWF0aGVyU3VibWl0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVXZWF0aGVyVXBkYXRlID0gdGhpcy5oYW5kbGVXZWF0aGVyVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldEJsb2NrcyA9IHRoaXMucmVzZXRCbG9ja3MuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZnJlc2hJbmZlcnJlZFBlcnNvbmFsaXphdGlvbiA9XG4gICAgICB0aGlzLnJlZnJlc2hJbmZlcnJlZFBlcnNvbmFsaXphdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmcmVzaFRvcGljU2VsZWN0aW9uQ2FjaGUgPVxuICAgICAgdGhpcy5yZWZyZXNoVG9waWNTZWxlY3Rpb25DYWNoZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudG9nZ2xlVEJSRmVlZCA9IHRoaXMudG9nZ2xlVEJSRmVlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlU2VjdGlvbnNUb2dnbGUgPSB0aGlzLmhhbmRsZVNlY3Rpb25zVG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVJQUJCYW5uZXJzID0gdGhpcy50b2dnbGVJQUJCYW5uZXJzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHRvZ2dsZWRTdG9yaWVzOiB7fSxcbiAgICAgIHdlYXRoZXJRdWVyeTogXCJcIixcbiAgICB9O1xuICB9XG5cbiAgc2V0Q29uZmlnVmFsdWUoY29uZmlnTmFtZSwgY29uZmlnVmFsdWUpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVF9WQUxVRSxcbiAgICAgICAgZGF0YTogeyBuYW1lOiBjb25maWdOYW1lLCB2YWx1ZTogY29uZmlnVmFsdWUgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlc3RvcmVQcmVmRGVmYXVsdHMoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19SRVNFVF9ERUZBVUxUUyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlZnJlc2hDYWNoZSgpIHtcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0UsXG4gICAgICAgIGRhdGE6IGNvbmZpZyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJlZnJlc2hJbmZlcnJlZFBlcnNvbmFsaXphdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LklORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9SRUZSRVNILFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVmcmVzaFRvcGljU2VsZWN0aW9uQ2FjaGUoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlNldFByZWYoXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24ub25ib2FyZGluZy5kaXNwbGF5Q291bnRcIiwgMClcbiAgICApO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5TZXRQcmVmKFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcubWF5YmVEaXNwbGF5XCIsIHRydWUpXG4gICAgKTtcbiAgfVxuXG4gIGRpc3BhdGNoU2ltcGxlQWN0aW9uKHR5cGUpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGUsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZXNldEJsb2NrcygpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fREVWX0JMT0NLU19SRVNFVCxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHN5c3RlbVRpY2soKSB7XG4gICAgdGhpcy5kaXNwYXRjaFNpbXBsZUFjdGlvbihhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9TWVNURU1fVElDSyk7XG4gIH1cblxuICBleHBpcmVDYWNoZSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoU2ltcGxlQWN0aW9uKGF0LkRJU0NPVkVSWV9TVFJFQU1fREVWX0VYUElSRV9DQUNIRSk7XG4gIH1cblxuICBzaG93UGxhY2Vob2xkZXIoKSB7XG4gICAgdGhpcy5kaXNwYXRjaFNpbXBsZUFjdGlvbihhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9TSE9XX1BMQUNFSE9MREVSKTtcbiAgfVxuXG4gIHRvZ2dsZVRCUkZlZWQoZSkge1xuICAgIGNvbnN0IGZlZWQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBjb25zdCBzZWxlY3RlZEZlZWQgPSBQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9TRUxFQ1RFRF9GRUVEO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihzZWxlY3RlZEZlZWQsIGZlZWQpKTtcbiAgfVxuXG4gIGlkbGVEYWlseSgpIHtcbiAgICB0aGlzLmRpc3BhdGNoU2ltcGxlQWN0aW9uKGF0LkRJU0NPVkVSWV9TVFJFQU1fREVWX0lETEVfREFJTFkpO1xuICB9XG5cbiAgc3luY1JlbW90ZVNldHRpbmdzKCkge1xuICAgIHRoaXMuZGlzcGF0Y2hTaW1wbGVBY3Rpb24oYXQuRElTQ09WRVJZX1NUUkVBTV9ERVZfU1lOQ19SUyk7XG4gIH1cblxuICBoYW5kbGVXZWF0aGVyVXBkYXRlKGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgd2VhdGhlclF1ZXJ5OiBlLnRhcmdldC52YWx1ZSB8fCBcIlwiIH0pO1xuICB9XG5cbiAgaGFuZGxlV2VhdGhlclN1Ym1pdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHsgd2VhdGhlclF1ZXJ5IH0gPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihcIndlYXRoZXIucXVlcnlcIiwgd2VhdGhlclF1ZXJ5KSk7XG4gIH1cblxuICB0b2dnbGVJQUJCYW5uZXJzKGUpIHtcbiAgICBjb25zdCB7IHByZXNzZWQsIGlkIH0gPSBlLnRhcmdldDtcblxuICAgIC8vIFNldCB0aGUgYWN0aXZlIHByZWYgdG8gdHJ1ZS9mYWxzZVxuICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgIGNhc2UgXCJuZXd0YWJfYmlsbGJvYXJkXCI6XG4gICAgICAgIC8vIFVwZGF0ZSBib29sZWFuIHByZWYgZm9yIGJpbGxib2FyZCBhZCBzaXplXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX0FEX1NJWkVfQklMTEJPQVJELCBwcmVzc2VkKSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibmV3dGFiX2xlYWRlcmJvYXJkXCI6XG4gICAgICAgIC8vIFVwZGF0ZSBib29sZWFuIHByZWYgZm9yIGJpbGxib2FyZCBhZCBzaXplXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX0FEX1NJWkVfTEVBREVSQk9BUkQsIHByZXNzZWQpKTtcblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJuZXd0YWJfcmVjdGFuZ2xlXCI6XG4gICAgICAgIC8vIFVwZGF0ZSBib29sZWFuIHByZWYgZm9yIG1lZGl1bVJlY3RhbmdsZSAoTVJFQykgYWQgc2l6ZVxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9BRF9TSVpFX01FRElVTV9SRUNUQU5HTEUsIHByZXNzZWQpKTtcblxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBOb3RlOiBUaGUgY291bnRzIGFycmF5IGlzIHBhc3NpdmVseSB1cGRhdGVkIHdoZW5ldmVyIHRoZSBwbGFjZW1lbnRzIGFycmF5IGlzIHVwZGF0ZWQuXG4gICAgLy8gVGhlIGRlZmF1bHQgcHJlZiB2YWx1ZXMgZm9yIGVhY2ggYXJlOlxuICAgIC8vIFBSRUZfU1BPQ19QTEFDRU1FTlRTOiBcIm5ld3RhYl9zcG9jc1wiXG4gICAgLy8gUFJFRl9TUE9DX0NPVU5UUzogXCI2XCJcbiAgICBjb25zdCBnZW5lcmF0ZVNwb2NQcmVmVmFsdWVzID0gKCkgPT4ge1xuICAgICAgY29uc3QgcGxhY2VtZW50cyA9XG4gICAgICAgIHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX1NQT0NfUExBQ0VNRU5UU10/LnNwbGl0KFwiLFwiKVxuICAgICAgICAgIC5tYXAoaXRlbSA9PiBpdGVtLnRyaW0oKSlcbiAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbSkgfHwgW107XG5cbiAgICAgIGNvbnN0IGNvdW50cyA9XG4gICAgICAgIHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX1NQT0NfQ09VTlRTXT8uc3BsaXQoXCIsXCIpXG4gICAgICAgICAgLm1hcChpdGVtID0+IGl0ZW0udHJpbSgpKVxuICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtKSB8fCBbXTtcblxuICAgICAgLy8gQ29uZmlybSB0aGF0IHRoZSBJQUIgdHlwZSB3aWxsIGhhdmUgYSBjb3VudCB2YWx1ZSBvZiBcIjFcIlxuICAgICAgY29uc3Qgc3VwcG9ydElBQkFkVHlwZXMgPSBbXG4gICAgICAgIFwibmV3dGFiX2xlYWRlcmJvYXJkXCIsXG4gICAgICAgIFwibmV3dGFiX3JlY3RhbmdsZVwiLFxuICAgICAgICBcIm5ld3RhYl9iaWxsYm9hcmRcIixcbiAgICAgIF07XG4gICAgICBsZXQgY291bnRWYWx1ZTtcbiAgICAgIGlmIChzdXBwb3J0SUFCQWRUeXBlcy5pbmNsdWRlcyhpZCkpIHtcbiAgICAgICAgY291bnRWYWx1ZSA9IFwiMVwiOyAvLyBEZWZhdWx0IGNvdW50IHZhbHVlIGZvciBhbGwgSUFCIGFkIHR5cGVzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJQUIgYWQgdHlwZSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJlc3NlZCkge1xuICAgICAgICAvLyBJZiBwcmVzc2VkIGlzIHRydWUsIGFkZCB0aGUgaWQgdG8gdGhlIHBsYWNlbWVudHMgYXJyYXlcbiAgICAgICAgaWYgKCFwbGFjZW1lbnRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgIHBsYWNlbWVudHMucHVzaChpZCk7XG4gICAgICAgICAgY291bnRzLnB1c2goY291bnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHByZXNzZWQgaXMgZmFsc2UsIHJlbW92ZSB0aGUgaWQgZnJvbSB0aGUgcGxhY2VtZW50cyBhcnJheVxuICAgICAgICBjb25zdCBpbmRleCA9IHBsYWNlbWVudHMuaW5kZXhPZihpZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBwbGFjZW1lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgY291bnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGxhY2VtZW50czogcGxhY2VtZW50cy5qb2luKFwiLCBcIiksXG4gICAgICAgIGNvdW50czogY291bnRzLmpvaW4oXCIsIFwiKSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHsgcGxhY2VtZW50cywgY291bnRzIH0gPSBnZW5lcmF0ZVNwb2NQcmVmVmFsdWVzKCk7XG5cbiAgICAvLyBVcGRhdGUgcHJlZnMgd2l0aCBuZXcgdmFsdWVzXG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFBSRUZfU1BPQ19QTEFDRU1FTlRTLCBwbGFjZW1lbnRzKSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFBSRUZfU1BPQ19DT1VOVFMsIGNvdW50cykpO1xuXG4gICAgLy8gSWYgY29udGV4dHVhbCBhZHMsIHNlY3Rpb25zLCBhbmQgb25lIG9mIHRoZSBiYW5uZXJzIGFyZSBlbmFibGVkXG4gICAgLy8gdXBkYXRlIHRoZSBjb250ZXh0dWFsQmFubmVyIHByZWZzIHRvIGluY2x1ZGUgdGhlIGJhbm5lciB2YWx1ZSBhbmQgY291bnRcbiAgICAvLyBFbHNlLCBjbGVhciB0aGUgcHJlZnNcbiAgICBpZiAoUFJFRl9DT05URVhUVUFMX0FEU19FTkFCTEVEICYmIFBSRUZfU0VDVElPTlNfRU5BQkxFRCkge1xuICAgICAgaWYgKFBSRUZfQURfU0laRV9CSUxMQk9BUkQgJiYgcGxhY2VtZW50cy5pbmNsdWRlcyhcIm5ld3RhYl9iaWxsYm9hcmRcIikpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5TZXRQcmVmKFBSRUZfQ09OVEVYVFVBTF9CQU5ORVJfUExBQ0VNRU5UUywgXCJuZXd0YWJfYmlsbGJvYXJkXCIpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX0NPTlRFWFRVQUxfQkFOTkVSX0NPVU5UUywgXCIxXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIFBSRUZfQURfU0laRV9MRUFERVJCT0FSRCAmJlxuICAgICAgICBwbGFjZW1lbnRzLmluY2x1ZGVzKFwibmV3dGFiX2xlYWRlcmJvYXJkXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5TZXRQcmVmKFBSRUZfQ09OVEVYVFVBTF9CQU5ORVJfUExBQ0VNRU5UUywgXCJuZXd0YWJfbGVhZGVyYm9hcmRcIilcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFBSRUZfQ09OVEVYVFVBTF9CQU5ORVJfQ09VTlRTLCBcIjFcIikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKFBSRUZfQ09OVEVYVFVBTF9CQU5ORVJfUExBQ0VNRU5UUywgXCJcIikpO1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9DT05URVhUVUFMX0JBTk5FUl9DT1VOVFMsIFwiXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYW5kbGVTZWN0aW9uc1RvZ2dsZShlKSB7XG4gICAgY29uc3QgeyBwcmVzc2VkIH0gPSBlLnRhcmdldDtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9TRUNUSU9OU19FTkFCTEVELCBwcmVzc2VkKSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlNldFByZWYoXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuY2FyZHMuZW5hYmxlZFwiLCBwcmVzc2VkKVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlNldFByZWYoXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuY2FyZHMudGh1bWJzVXBEb3duLmVuYWJsZWRcIiwgcHJlc3NlZClcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyQ29tcG9uZW50KHdpZHRoLCBjb21wb25lbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHRhYmxlPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5UeXBlPC90ZD5cbiAgICAgICAgICAgIDx0ZD57Y29tcG9uZW50LnR5cGV9PC90ZD5cbiAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPldpZHRoPC90ZD5cbiAgICAgICAgICAgIDx0ZD57d2lkdGh9PC90ZD5cbiAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICB7Y29tcG9uZW50LmZlZWQgJiYgdGhpcy5yZW5kZXJGZWVkKGNvbXBvbmVudC5mZWVkKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcldlYXRoZXJEYXRhKCkge1xuICAgIGNvbnN0IHsgc3VnZ2VzdGlvbnMgfSA9IHRoaXMucHJvcHMuc3RhdGUuV2VhdGhlcjtcbiAgICBsZXQgd2VhdGhlclRhYmxlO1xuICAgIGlmIChzdWdnZXN0aW9ucykge1xuICAgICAgd2VhdGhlclRhYmxlID0gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYXRoZXItc2VjdGlvblwiPlxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVdlYXRoZXJTdWJtaXR9PlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ3ZWF0aGVyLXF1ZXJ5XCI+V2VhdGhlciBxdWVyeTwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBtaW49XCIzXCJcbiAgICAgICAgICAgICAgbWF4PVwiMTBcIlxuICAgICAgICAgICAgICBpZD1cIndlYXRoZXItcXVlcnlcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVXZWF0aGVyVXBkYXRlfVxuICAgICAgICAgICAgICB2YWx1ZT17dGhpcy53ZWF0aGVyUXVlcnl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+U3VibWl0PC9idXR0b24+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAge3N1Z2dlc3Rpb25zLm1hcChzdWdnZXN0aW9uID0+IChcbiAgICAgICAgICAgICAgICA8dHIgY2xhc3NOYW1lPVwibWVzc2FnZS1pdGVtXCIga2V5PXtzdWdnZXN0aW9uLmNpdHlfbmFtZX0+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7c3VnZ2VzdGlvbi5jaXR5X25hbWV9IDxiciAvPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1lc3NhZ2Utc3VtbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICA8cHJlPntKU09OLnN0cmluZ2lmeShzdWdnZXN0aW9uLCBudWxsLCAyKX08L3ByZT5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHdlYXRoZXJUYWJsZTtcbiAgfVxuXG4gIHJlbmRlclBlcnNvbmFsaXphdGlvbkRhdGEoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaW5mZXJyZWRJbnRlcmVzdHMsXG4gICAgICBjb2Fyc2VJbmZlcnJlZEludGVyZXN0cyxcbiAgICAgIGNvYXJzZVByaXZhdGVJbmZlcnJlZEludGVyZXN0cyxcbiAgICB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5JbmZlcnJlZFBlcnNvbmFsaXphdGlvbjtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAge1wiIFwifVxuICAgICAgICBJbmZlcnJlZCBJbnRlcmVzdHM6XG4gICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KGluZmVycmVkSW50ZXJlc3RzLCBudWxsLCAyKX08L3ByZT4gQ29hcnNlIEluZmVycmVkXG4gICAgICAgIEludGVyZXN0czpcbiAgICAgICAgPHByZT57SlNPTi5zdHJpbmdpZnkoY29hcnNlSW5mZXJyZWRJbnRlcmVzdHMsIG51bGwsIDIpfTwvcHJlPiBDb2Fyc2VcbiAgICAgICAgSW5mZXJyZWQgSW50ZXJlc3RzIFdpdGggRGlmZmVyZW50aWFsIFByaXZhY3k6XG4gICAgICAgIDxwcmU+e0pTT04uc3RyaW5naWZ5KGNvYXJzZVByaXZhdGVJbmZlcnJlZEludGVyZXN0cywgbnVsbCwgMil9PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyRmVlZERhdGEodXJsKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgY29uc3QgZmVlZCA9IGZlZWRzLmRhdGFbdXJsXS5kYXRhO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxoND5GZWVkIHVybDoge3VybH08L2g0PlxuICAgICAgICA8dGFibGU+XG4gICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAge2ZlZWQucmVjb21tZW5kYXRpb25zPy5tYXAoc3RvcnkgPT4gdGhpcy5yZW5kZXJTdG9yeURhdGEoc3RvcnkpKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyRmVlZHNEYXRhKCkge1xuICAgIGNvbnN0IHsgZmVlZHMgfSA9IHRoaXMucHJvcHMuc3RhdGUuRGlzY292ZXJ5U3RyZWFtO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIHtPYmplY3Qua2V5cyhmZWVkcy5kYXRhKS5tYXAodXJsID0+IHRoaXMucmVuZGVyRmVlZERhdGEodXJsKSl9XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJJbXByZXNzaW9uc0RhdGEoKSB7XG4gICAgY29uc3QgeyBpbXByZXNzaW9ucyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxoND5GZWVkIEltcHJlc3Npb25zPC9oND5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtPYmplY3Qua2V5cyhpbXByZXNzaW9ucy5mZWVkKS5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8Um93IGtleT17a2V5fT5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj57a2V5fTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+e3JlbGF0aXZlVGltZShpbXByZXNzaW9ucy5mZWVkW2tleV0pIHx8IFwiKG5vIGRhdGEpXCJ9PC90ZD5cbiAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyQmxvY2tzRGF0YSgpIHtcbiAgICBjb25zdCB7IGJsb2NrcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxoND5CbG9ja3M8L2g0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucmVzZXRCbG9ja3N9PlxuICAgICAgICAgIFJlc2V0IEJsb2Nrc1xuICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7T2JqZWN0LmtleXMoYmxvY2tzKS5tYXAoa2V5ID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8Um93IGtleT17a2V5fT5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj57a2V5fTwvdGQ+XG4gICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNwb2NzKCkge1xuICAgIGNvbnN0IHsgc3BvY3MgfSA9IHRoaXMucHJvcHMuc3RhdGUuRGlzY292ZXJ5U3RyZWFtO1xuXG4gICAgY29uc3QgdW5pZmllZEFkc1Nwb2NzRW5hYmxlZCA9XG4gICAgICB0aGlzLnByb3BzLm90aGVyUHJlZnNbXCJ1bmlmaWVkQWRzLnNwb2NzLmVuYWJsZWRcIl07XG5cbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggbWVjaGFuaXNtIGlzIHF1ZXJ5aW5nIHRoZSBVQVBJIGFkcyBzZXJ2ZXJcbiAgICBjb25zdCBQUkVGX1VOSUZJRURfQURTX0FEU0ZFRURfRU5BQkxFRCA9IFwidW5pZmllZEFkcy5hZHNGZWVkLmVuYWJsZWRcIjtcbiAgICBjb25zdCBhZHNGZWVkRW5hYmxlZCA9XG4gICAgICB0aGlzLnByb3BzLm90aGVyUHJlZnNbUFJFRl9VTklGSUVEX0FEU19BRFNGRUVEX0VOQUJMRURdO1xuXG4gICAgY29uc3QgdW5pZmllZEFkc0VuZHBvaW50ID0gdGhpcy5wcm9wcy5vdGhlclByZWZzW1widW5pZmllZEFkcy5lbmRwb2ludFwiXTtcblxuICAgIGxldCBzcG9jc0RhdGEgPSBbXTtcblxuICAgIGlmIChcbiAgICAgIHNwb2NzLmRhdGEgJiZcbiAgICAgIHNwb2NzLmRhdGEubmV3dGFiX3Nwb2NzICYmXG4gICAgICBzcG9jcy5kYXRhLm5ld3RhYl9zcG9jcy5pdGVtc1xuICAgICkge1xuICAgICAgc3BvY3NEYXRhID0gc3BvY3MuZGF0YS5uZXd0YWJfc3BvY3MuaXRlbXMgfHwgW107XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5hZHNmZWVkIGVuYWJsZWQ8L3RkPlxuICAgICAgICAgICAgICA8dGQ+e2Fkc0ZlZWRFbmFibGVkID8gXCJ0cnVlXCIgOiBcImZhbHNlXCJ9PC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPnNwb2NzX2VuZHBvaW50PC90ZD5cbiAgICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgIHt1bmlmaWVkQWRzU3BvY3NFbmFibGVkXG4gICAgICAgICAgICAgICAgICA/IHVuaWZpZWRBZHNFbmRwb2ludFxuICAgICAgICAgICAgICAgICAgOiBzcG9jcy5zcG9jc19lbmRwb2ludH1cbiAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkRhdGEgbGFzdCBmZXRjaGVkPC90ZD5cbiAgICAgICAgICAgICAgPHRkPntyZWxhdGl2ZVRpbWUoc3BvY3MubGFzdFVwZGF0ZWQpfTwvdGQ+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDQ+U3BvYyBkYXRhPC9oND5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT57c3BvY3NEYXRhLm1hcChzcG9jID0+IHRoaXMucmVuZGVyU3RvcnlEYXRhKHNwb2MpKX08L3Rib2R5PlxuICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8aDQ+U3BvYyBmcmVxdWVuY3kgY2FwczwvaDQ+XG4gICAgICAgIDx0YWJsZT5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7c3BvY3MuZnJlcXVlbmN5X2NhcHMubWFwKHNwb2MgPT4gdGhpcy5yZW5kZXJTdG9yeURhdGEoc3BvYykpfVxuICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgIDwvdGFibGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICBvblN0b3J5VG9nZ2xlKHN0b3J5KSB7XG4gICAgY29uc3QgeyB0b2dnbGVkU3RvcmllcyB9ID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHRvZ2dsZWRTdG9yaWVzOiB7XG4gICAgICAgIC4uLnRvZ2dsZWRTdG9yaWVzLFxuICAgICAgICBbc3RvcnkuaWRdOiAhdG9nZ2xlZFN0b3JpZXNbc3RvcnkuaWRdLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclN0b3J5RGF0YShzdG9yeSkge1xuICAgIGxldCBzdG9yeURhdGEgPSBcIlwiO1xuICAgIGlmICh0aGlzLnN0YXRlLnRvZ2dsZWRTdG9yaWVzW3N0b3J5LmlkXSkge1xuICAgICAgc3RvcnlEYXRhID0gSlNPTi5zdHJpbmdpZnkoc3RvcnksIG51bGwsIDIpO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGNsYXNzTmFtZT1cIm1lc3NhZ2UtaXRlbVwiIGtleT17c3RvcnkuaWR9PlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1pZFwiPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge3N0b3J5LmlkfSA8YnIgLz5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPFRvZ2dsZVN0b3J5QnV0dG9uIHN0b3J5PXtzdG9yeX0gb25DbGljaz17dGhpcy5vblN0b3J5VG9nZ2xlfSAvPlxuICAgICAgICA8L3RkPlxuICAgICAgICA8dGQgY2xhc3NOYW1lPVwibWVzc2FnZS1zdW1tYXJ5XCI+XG4gICAgICAgICAgPHByZT57c3RvcnlEYXRhfTwvcHJlPlxuICAgICAgICA8L3RkPlxuICAgICAgPC90cj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyRmVlZChmZWVkKSB7XG4gICAgY29uc3QgeyBmZWVkcyB9ID0gdGhpcy5wcm9wcy5zdGF0ZS5EaXNjb3ZlcnlTdHJlYW07XG4gICAgaWYgKCFmZWVkLnVybCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxSb3c+XG4gICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm1pblwiPkZlZWQgdXJsPC90ZD5cbiAgICAgICAgICA8dGQ+e2ZlZWQudXJsfTwvdGQ+XG4gICAgICAgIDwvUm93PlxuICAgICAgICA8Um93PlxuICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJtaW5cIj5EYXRhIGxhc3QgZmV0Y2hlZDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAge3JlbGF0aXZlVGltZShcbiAgICAgICAgICAgICAgZmVlZHMuZGF0YVtmZWVkLnVybF0gPyBmZWVkcy5kYXRhW2ZlZWQudXJsXS5sYXN0VXBkYXRlZCA6IG51bGxcbiAgICAgICAgICAgICkgfHwgXCIobm8gZGF0YSlcIn1cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L1Jvdz5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBwcmVmVG9nZ2xlcyA9IFwiZW5hYmxlZCBjb2xsYXBzaWJsZVwiLnNwbGl0KFwiIFwiKTtcbiAgICBjb25zdCB7IGNvbmZpZywgbGF5b3V0IH0gPSB0aGlzLnByb3BzLnN0YXRlLkRpc2NvdmVyeVN0cmVhbTtcbiAgICBjb25zdCBwZXJzb25hbGl6ZWQgPVxuICAgICAgdGhpcy5wcm9wcy5vdGhlclByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnBlcnNvbmFsaXphdGlvbi5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHNlbGVjdGVkRmVlZCA9XG4gICAgICB0aGlzLnByb3BzLm90aGVyUHJlZnNbUFJFRl9DT05URVhUVUFMX0NPTlRFTlRfU0VMRUNURURfRkVFRF07XG4gICAgY29uc3Qgc2VjdGlvbnNFbmFibGVkID0gdGhpcy5wcm9wcy5vdGhlclByZWZzW1BSRUZfU0VDVElPTlNfRU5BQkxFRF07XG4gICAgY29uc3QgVEJSRmVlZHMgPSB0aGlzLnByb3BzLm90aGVyUHJlZnNbUFJFRl9DT05URVhUVUFMX0NPTlRFTlRfRkVFRFNdLnNwbGl0KFxuICAgICAgXCIsXCJcbiAgICApXG4gICAgICAubWFwKHMgPT4gcy50cmltKCkpXG4gICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbSk7XG5cbiAgICAvLyBQcmVmcyBmb3IgSUFCIEJhbm5lcnNcbiAgICBjb25zdCBtZWRpdW1SZWN0YW5nbGVFbmFibGVkID1cbiAgICAgIHRoaXMucHJvcHMub3RoZXJQcmVmc1tQUkVGX0FEX1NJWkVfTUVESVVNX1JFQ1RBTkdMRV07XG4gICAgY29uc3QgYmlsbGJvYXJkc0VuYWJsZWQgPSB0aGlzLnByb3BzLm90aGVyUHJlZnNbUFJFRl9BRF9TSVpFX0JJTExCT0FSRF07XG4gICAgY29uc3QgbGVhZGVyYm9hcmRFbmFibGVkID0gdGhpcy5wcm9wcy5vdGhlclByZWZzW1BSRUZfQURfU0laRV9MRUFERVJCT0FSRF07XG4gICAgY29uc3Qgc3BvY1BsYWNlbWVudHMgPSB0aGlzLnByb3BzLm90aGVyUHJlZnNbUFJFRl9TUE9DX1BMQUNFTUVOVFNdO1xuICAgIGNvbnN0IG1lZGl1bVJlY3RhbmdsZUVuYWJsZWRQcmVzc2VkID1cbiAgICAgIG1lZGl1bVJlY3RhbmdsZUVuYWJsZWQgJiYgc3BvY1BsYWNlbWVudHMuaW5jbHVkZXMoXCJuZXd0YWJfcmVjdGFuZ2xlXCIpO1xuICAgIGNvbnN0IGJpbGxib2FyZFByZXNzZWQgPVxuICAgICAgYmlsbGJvYXJkc0VuYWJsZWQgJiYgc3BvY1BsYWNlbWVudHMuaW5jbHVkZXMoXCJuZXd0YWJfYmlsbGJvYXJkXCIpO1xuICAgIGNvbnN0IGxlYWRlcmJvYXJkUHJlc3NlZCA9XG4gICAgICBsZWFkZXJib2FyZEVuYWJsZWQgJiYgc3BvY1BsYWNlbWVudHMuaW5jbHVkZXMoXCJuZXd0YWJfbGVhZGVyYm9hcmRcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnJlc3RvcmVQcmVmRGVmYXVsdHN9PlxuICAgICAgICAgIFJlc3RvcmUgUHJlZiBEZWZhdWx0c1xuICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5yZWZyZXNoQ2FjaGV9PlxuICAgICAgICAgIFJlZnJlc2ggQ2FjaGVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxiciAvPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuZXhwaXJlQ2FjaGV9PlxuICAgICAgICAgIEV4cGlyZSBDYWNoZVxuICAgICAgICA8L2J1dHRvbj57XCIgXCJ9XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zeXN0ZW1UaWNrfT5cbiAgICAgICAgICBUcmlnZ2VyIFN5c3RlbSBUaWNrXG4gICAgICAgIDwvYnV0dG9uPntcIiBcIn1cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLmlkbGVEYWlseX0+XG4gICAgICAgICAgVHJpZ2dlciBJZGxlIERhaWx5XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImJ1dHRvblwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5yZWZyZXNoSW5mZXJyZWRQZXJzb25hbGl6YXRpb259XG4gICAgICAgID5cbiAgICAgICAgICBSZWZyZXNoIEluZmVycmVkIFBlcnNvbmFsaXphdGlvblxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zeW5jUmVtb3RlU2V0dGluZ3N9PlxuICAgICAgICAgIFN5bmMgUmVtb3RlIFNldHRpbmdzXG4gICAgICAgIDwvYnV0dG9uPntcIiBcIn1cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidXR0b25cIiBvbkNsaWNrPXt0aGlzLnJlZnJlc2hUb3BpY1NlbGVjdGlvbkNhY2hlfT5cbiAgICAgICAgICBSZWZyZXNoIFRvcGljIHNlbGVjdGlvbiBjb3VudFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnV0dG9uXCIgb25DbGljaz17dGhpcy5zaG93UGxhY2Vob2xkZXJ9PlxuICAgICAgICAgIFNob3cgUGxhY2Vob2xkZXIgQ2FyZHNcbiAgICAgICAgPC9idXR0b24+e1wiIFwifVxuICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgY2xhc3NOYW1lPVwiYnV0dG9uXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy50b2dnbGVUQlJGZWVkfVxuICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZEZlZWR9XG4gICAgICAgID5cbiAgICAgICAgICB7VEJSRmVlZHMubWFwKGZlZWQgPT4gKFxuICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2ZlZWR9IHZhbHVlPXtmZWVkfT5cbiAgICAgICAgICAgICAge2ZlZWR9XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9nZ2xlLXdyYXBwZXJcIj5cbiAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgaWQ9XCJzZWN0aW9ucy10b2dnbGVcIlxuICAgICAgICAgICAgcHJlc3NlZD17c2VjdGlvbnNFbmFibGVkIHx8IG51bGx9XG4gICAgICAgICAgICBvblRvZ2dsZT17dGhpcy5oYW5kbGVTZWN0aW9uc1RvZ2dsZX1cbiAgICAgICAgICAgIGxhYmVsPVwiVG9nZ2xlIERTIFNlY3Rpb25zXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgey8qIENvbGxhcHNpYmxlIFNlY3Rpb25zIGZvciBleHBlcmltZW50cyBmb3IgZWFzeSBvbi9vZmYgKi99XG4gICAgICAgIDxkZXRhaWxzIGNsYXNzTmFtZT1cImRldGFpbHMtc2VjdGlvblwiPlxuICAgICAgICAgIDxzdW1tYXJ5PklBQiBCYW5uZXIgQWQgU2l6ZXM8L3N1bW1hcnk+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b2dnbGUtd3JhcHBlclwiPlxuICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgaWQ9XCJuZXd0YWJfbGVhZGVyYm9hcmRcIlxuICAgICAgICAgICAgICBwcmVzc2VkPXtsZWFkZXJib2FyZFByZXNzZWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgb25Ub2dnbGU9e3RoaXMudG9nZ2xlSUFCQmFubmVyc31cbiAgICAgICAgICAgICAgbGFiZWw9XCJFbmFibGUgSUFCIExlYWRlcmJvYXJkXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b2dnbGUtd3JhcHBlclwiPlxuICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgaWQ9XCJuZXd0YWJfYmlsbGJvYXJkXCJcbiAgICAgICAgICAgICAgcHJlc3NlZD17YmlsbGJvYXJkUHJlc3NlZCB8fCBudWxsfVxuICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy50b2dnbGVJQUJCYW5uZXJzfVxuICAgICAgICAgICAgICBsYWJlbD1cIkVuYWJsZSBJQUIgQmlsbGJvYXJkXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b2dnbGUtd3JhcHBlclwiPlxuICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgaWQ9XCJuZXd0YWJfcmVjdGFuZ2xlXCJcbiAgICAgICAgICAgICAgcHJlc3NlZD17bWVkaXVtUmVjdGFuZ2xlRW5hYmxlZFByZXNzZWQgfHwgbnVsbH1cbiAgICAgICAgICAgICAgb25Ub2dnbGU9e3RoaXMudG9nZ2xlSUFCQmFubmVyc31cbiAgICAgICAgICAgICAgbGFiZWw9XCJFbmFibGUgSUFCIE1lZGl1bSBSZWN0YW5nbGUgKE1SRUMpXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGV0YWlscz5cbiAgICAgICAgPHRhYmxlPlxuICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgIHtwcmVmVG9nZ2xlcy5tYXAocHJlZiA9PiAoXG4gICAgICAgICAgICAgIDxSb3cga2V5PXtwcmVmfT5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICA8VG9nZ2xlUHJlZkNoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NvbmZpZ1twcmVmXX1cbiAgICAgICAgICAgICAgICAgICAgcHJlZj17cHJlZn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2V0Q29uZmlnVmFsdWV9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPGgzPkxheW91dDwvaDM+XG4gICAgICAgIHtsYXlvdXQubWFwKChyb3csIHJvd0luZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e2Byb3ctJHtyb3dJbmRleH1gfT5cbiAgICAgICAgICAgIHtyb3cuY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudCwgY29tcG9uZW50SW5kZXgpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2Bjb21wb25lbnQtJHtjb21wb25lbnRJbmRleH1gfSBjbGFzc05hbWU9XCJkcy1jb21wb25lbnRcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDb21wb25lbnQocm93LndpZHRoLCBjb21wb25lbnQpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAgPGgzPlBlcnNvbmFsaXphdGlvbjwvaDM+XG4gICAgICAgIDxQZXJzb25hbGl6YXRpb25cbiAgICAgICAgICBwZXJzb25hbGl6ZWQ9e3BlcnNvbmFsaXplZH1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgUGVyc29uYWxpemF0aW9uOiB0aGlzLnByb3BzLnN0YXRlLlBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICA8aDM+U3BvY3M8L2gzPlxuICAgICAgICB7dGhpcy5yZW5kZXJTcG9jcygpfVxuICAgICAgICA8aDM+RmVlZHMgRGF0YTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGFyZ2UtZGF0YS1jb250YWluZXJcIj57dGhpcy5yZW5kZXJGZWVkc0RhdGEoKX08L2Rpdj5cbiAgICAgICAgPGgzPkltcHJlc3Npb25zIERhdGE8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhcmdlLWRhdGEtY29udGFpbmVyXCI+XG4gICAgICAgICAge3RoaXMucmVuZGVySW1wcmVzc2lvbnNEYXRhKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8aDM+QmxvY2tlZCBEYXRhPC9oMz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYXJnZS1kYXRhLWNvbnRhaW5lclwiPnt0aGlzLnJlbmRlckJsb2Nrc0RhdGEoKX08L2Rpdj5cbiAgICAgICAgPGgzPldlYXRoZXIgRGF0YTwvaDM+XG4gICAgICAgIHt0aGlzLnJlbmRlcldlYXRoZXJEYXRhKCl9XG4gICAgICAgIDxoMz5QZXJzb25hbGl6YXRpb24gRGF0YTwvaDM+XG4gICAgICAgIHt0aGlzLnJlbmRlclBlcnNvbmFsaXphdGlvbkRhdGEoKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERpc2NvdmVyeVN0cmVhbUFkbWluSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zZXRTdGF0ZSA9IHRoaXMuc2V0U3RhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BkaXNjb3ZlcnlzdHJlYW0tYWRtaW4gJHtcbiAgICAgICAgICB0aGlzLnByb3BzLmNvbGxhcHNlZCA/IFwiY29sbGFwc2VkXCIgOiBcImV4cGFuZGVkXCJcbiAgICAgICAgfWB9XG4gICAgICA+XG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1haW4tcGFuZWxcIj5cbiAgICAgICAgICA8aDE+RGlzY292ZXJ5IFN0cmVhbSBBZG1pbjwvaDE+XG5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJoZWxwTGlua1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNtYWxsLXNwYWNlciBpY29uLWluZm9cIiAvPntcIiBcIn1cbiAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICBOZWVkIHRvIGFjY2VzcyB0aGUgQVNSb3V0ZXIgQWRtaW4gZGV2IHRvb2xzP3tcIiBcIn1cbiAgICAgICAgICAgICAgPGEgdGFyZ2V0PVwiYmxhbmtcIiBocmVmPVwiYWJvdXQ6YXNyb3V0ZXJcIj5cbiAgICAgICAgICAgICAgICBDbGljayBoZXJlXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICA8RGlzY292ZXJ5U3RyZWFtQWRtaW5VSVxuICAgICAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgICAgIERpc2NvdmVyeVN0cmVhbTogdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW0sXG4gICAgICAgICAgICAgICAgUGVyc29uYWxpemF0aW9uOiB0aGlzLnByb3BzLlBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICAgICAgICBXZWF0aGVyOiB0aGlzLnByb3BzLldlYXRoZXIsXG4gICAgICAgICAgICAgICAgSW5mZXJyZWRQZXJzb25hbGl6YXRpb246IHRoaXMucHJvcHMuSW5mZXJyZWRQZXJzb25hbGl6YXRpb24sXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG90aGVyUHJlZnM9e3RoaXMucHJvcHMuUHJlZnMudmFsdWVzfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPC9tYWluPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sbGFwc2VUb2dnbGUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNvbGxhcHNlVG9nZ2xlID0gdGhpcy5vbkNvbGxhcHNlVG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgY29sbGFwc2VkOiBmYWxzZSB9O1xuICB9XG5cbiAgZ2V0IHJlbmRlckFkbWluKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgcmV0dXJuIHByb3BzLmxvY2F0aW9uLmhhc2ggJiYgcHJvcHMubG9jYXRpb24uaGFzaC5zdGFydHNXaXRoKFwiI2RldnRvb2xzXCIpO1xuICB9XG5cbiAgb25Db2xsYXBzZVRvZ2dsZShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHsgY29sbGFwc2VkOiAhc3RhdGUuY29sbGFwc2VkIH0pKTtcbiAgfVxuXG4gIHNldEJvZHlDbGFzcygpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJBZG1pbiAmJiAhdGhpcy5zdGF0ZS5jb2xsYXBzZWQpIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwibm8tc2Nyb2xsXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm5vLXNjcm9sbFwiKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnNldEJvZHlDbGFzcygpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuc2V0Qm9keUNsYXNzKCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm5vLXNjcm9sbFwiKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgcmVuZGVyQWRtaW4gfSA9IHRoaXM7XG4gICAgY29uc3QgaXNDb2xsYXBzZWQgPSB0aGlzLnN0YXRlLmNvbGxhcHNlZCB8fCAhcmVuZGVyQWRtaW47XG4gICAgY29uc3QgbGFiZWwgPSBgJHtpc0NvbGxhcHNlZCA/IFwiRXhwYW5kXCIgOiBcIkNvbGxhcHNlXCJ9IGRldnRvb2xzYDtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9XCIjZGV2dG9vbHNcIlxuICAgICAgICAgIHRpdGxlPXtsYWJlbH1cbiAgICAgICAgICBhcmlhLWxhYmVsPXtsYWJlbH1cbiAgICAgICAgICBjbGFzc05hbWU9e2BkaXNjb3ZlcnlzdHJlYW0tYWRtaW4tdG9nZ2xlICR7XG4gICAgICAgICAgICBpc0NvbGxhcHNlZCA/IFwiY29sbGFwc2VkXCIgOiBcImV4cGFuZGVkXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlbmRlckFkbWluID8gdGhpcy5vbkNvbGxhcHNlVG9nZ2xlIDogbnVsbH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1kZXZ0b29sc1wiIC8+XG4gICAgICAgIDwvYT5cbiAgICAgICAge3JlbmRlckFkbWluID8gKFxuICAgICAgICAgIDxEaXNjb3ZlcnlTdHJlYW1BZG1pbklubmVyXG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICBjb2xsYXBzZWQ9e3RoaXMuc3RhdGUuY29sbGFwc2VkfVxuICAgICAgICAgIC8+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IF9EaXNjb3ZlcnlTdHJlYW1BZG1pbiA9IHByb3BzID0+IChcbiAgPFNpbXBsZUhhc2hSb3V0ZXI+XG4gICAgPENvbGxhcHNlVG9nZ2xlIHsuLi5wcm9wc30gLz5cbiAgPC9TaW1wbGVIYXNoUm91dGVyPlxuKTtcblxuZXhwb3J0IGNvbnN0IERpc2NvdmVyeVN0cmVhbUFkbWluID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxuICBQZXJzb25hbGl6YXRpb246IHN0YXRlLlBlcnNvbmFsaXphdGlvbixcbiAgSW5mZXJyZWRQZXJzb25hbGl6YXRpb246IHN0YXRlLkluZmVycmVkUGVyc29uYWxpemF0aW9uLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIFdlYXRoZXI6IHN0YXRlLldlYXRoZXIsXG59KSkoX0Rpc2NvdmVyeVN0cmVhbUFkbWluKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLyoqXG4gKiBDb25maXJtRGlhbG9nIGNvbXBvbmVudC5cbiAqIE9uZSBwcmltYXJ5IGFjdGlvbiBidXR0b24sIG9uZSBjYW5jZWwgYnV0dG9uLlxuICpcbiAqIENvbnRlbnQgZGlzcGxheWVkIGlzIGNvbnRyb2xsZWQgYnkgYGRhdGFgIHByb3AgdGhlIGNvbXBvbmVudCByZWNlaXZlcy5cbiAqIEV4YW1wbGU6XG4gKiBkYXRhOiB7XG4gKiAgIC8vIEFueSBzb3J0IG9mIGRhdGEgbmVlZGVkIHRvIGJlIHBhc3NlZCBhcm91bmQgYnkgYWN0aW9ucy5cbiAqICAgcGF5bG9hZDogc2l0ZS51cmwsXG4gKiAgIC8vIFByaW1hcnkgYnV0dG9uIEFsc29Ub01haW4gYWN0aW9uLlxuICogICBhY3Rpb246IFwiREVMRVRFX0hJU1RPUllfVVJMXCIsXG4gKiAgIC8vIFByaW1hcnkgYnV0dG9uIFVTZXJFdmVudCBhY3Rpb24uXG4gKiAgIHVzZXJFdmVudDogXCJERUxFVEVcIixcbiAqICAgLy8gQXJyYXkgb2YgbG9jYWxlIGlkcyB0byBkaXNwbGF5LlxuICogICBtZXNzYWdlX2JvZHk6IFtcImNvbmZpcm1faGlzdG9yeV9kZWxldGVfcDFcIiwgXCJjb25maXJtX2hpc3RvcnlfZGVsZXRlX25vdGljZV9wMlwiXSxcbiAqICAgLy8gVGV4dCBmb3IgcHJpbWFyeSBidXR0b24uXG4gKiAgIGNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZDogXCJtZW51X2FjdGlvbl9kZWxldGVcIlxuICogfSxcbiAqL1xuZXhwb3J0IGNsYXNzIF9Db25maXJtRGlhbG9nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX2hhbmRsZUNhbmNlbEJ0biA9IHRoaXMuX2hhbmRsZUNhbmNlbEJ0bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm1CdG4gPSB0aGlzLl9oYW5kbGVDb25maXJtQnRuLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlQ2FuY2VsQnRuKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25UeXBlcy5ESUFMT0dfQ0FOQ0VMIH0pO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBldmVudDogYWN0aW9uVHlwZXMuRElBTE9HX0NBTkNFTCxcbiAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmRhdGEuZXZlbnRTb3VyY2UsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBfaGFuZGxlQ29uZmlybUJ0bigpIHtcbiAgICB0aGlzLnByb3BzLmRhdGEub25Db25maXJtLmZvckVhY2godGhpcy5wcm9wcy5kaXNwYXRjaCk7XG4gIH1cblxuICBfcmVuZGVyTW9kYWxNZXNzYWdlKCkge1xuICAgIGNvbnN0IG1lc3NhZ2VfYm9keSA9IHRoaXMucHJvcHMuZGF0YS5ib2R5X3N0cmluZ19pZDtcblxuICAgIGlmICghbWVzc2FnZV9ib2R5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4+XG4gICAgICAgIHttZXNzYWdlX2JvZHkubWFwKG1zZyA9PiAoXG4gICAgICAgICAgPHAga2V5PXttc2d9IGRhdGEtbDEwbi1pZD17bXNnfSAvPlxuICAgICAgICApKX1cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb25maXJtYXRpb24tZGlhbG9nXCI+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJtb2RhbC1vdmVybGF5XCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLl9oYW5kbGVDYW5jZWxCdG59XG4gICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWxcIj5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJtb2RhbC1tZXNzYWdlXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5kYXRhLmljb24gJiYgKFxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGljb24gaWNvbi1zcGFjZXIgaWNvbi0ke3RoaXMucHJvcHMuZGF0YS5pY29ufWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3RoaXMuX3JlbmRlck1vZGFsTWVzc2FnZSgpfVxuICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNhbmNlbEJ0bn1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLmRhdGEuY2FuY2VsX2J1dHRvbl9zdHJpbmdfaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5faGFuZGxlQ29uZmlybUJ0bn1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLmRhdGEuY29uZmlybV9idXR0b25fc3RyaW5nX2lkfVxuICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz17SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhLmNvbmZpcm1fYnV0dG9uX3N0cmluZ19hcmdzXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBDb25maXJtRGlhbG9nID0gY29ubmVjdChzdGF0ZSA9PiBzdGF0ZS5EaWFsb2cpKF9Db25maXJtRGlhbG9nKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgUExBQ0VIT0xERVJfSU1BR0VfREFUQV9BUlJBWSA9IFtcbiAge1xuICAgIHJvdGF0aW9uOiBcIjBkZWdcIixcbiAgICBvZmZzZXR4OiBcIjIwcHhcIixcbiAgICBvZmZzZXR5OiBcIjhweFwiLFxuICAgIHNjYWxlOiBcIjQ1JVwiLFxuICB9LFxuICB7XG4gICAgcm90YXRpb246IFwiNTRkZWdcIixcbiAgICBvZmZzZXR4OiBcIi0yNnB4XCIsXG4gICAgb2Zmc2V0eTogXCI2MnB4XCIsXG4gICAgc2NhbGU6IFwiNTUlXCIsXG4gIH0sXG4gIHtcbiAgICByb3RhdGlvbjogXCItMzBkZWdcIixcbiAgICBvZmZzZXR4OiBcIjc4cHhcIixcbiAgICBvZmZzZXR5OiBcIjMwcHhcIixcbiAgICBzY2FsZTogXCI2OCVcIixcbiAgfSxcbiAge1xuICAgIHJvdGF0aW9uOiBcIi0yMmRlZ1wiLFxuICAgIG9mZnNldHg6IFwiMFwiLFxuICAgIG9mZnNldHk6IFwiOTJweFwiLFxuICAgIHNjYWxlOiBcIjYwJVwiLFxuICB9LFxuICB7XG4gICAgcm90YXRpb246IFwiLTY1ZGVnXCIsXG4gICAgb2Zmc2V0eDogXCI2NnB4XCIsXG4gICAgb2Zmc2V0eTogXCIyOHB4XCIsXG4gICAgc2NhbGU6IFwiNjAlXCIsXG4gIH0sXG4gIHtcbiAgICByb3RhdGlvbjogXCIyMmRlZ1wiLFxuICAgIG9mZnNldHg6IFwiLTM1cHhcIixcbiAgICBvZmZzZXR5OiBcIjYycHhcIixcbiAgICBzY2FsZTogXCI1MiVcIixcbiAgfSxcbiAge1xuICAgIHJvdGF0aW9uOiBcIi0yNWRlZ1wiLFxuICAgIG9mZnNldHg6IFwiODZweFwiLFxuICAgIG9mZnNldHk6IFwiLTE1cHhcIixcbiAgICBzY2FsZTogXCI2OCVcIixcbiAgfSxcbl07XG5cbmNvbnN0IFBMQUNFSE9MREVSX0lNQUdFX0NPTE9SU19BUlJBWSA9XG4gIFwiIzAwOTBFRCAjRkY0RjVGICMyQUMzQTIgI0ZGNzEzOSAjQTE3MkZGICNGRkE0MzcgI0ZGMkE4QVwiLnNwbGl0KFwiIFwiKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVJbmRleCh7IGtleUNvZGUsIG1heCB9KSB7XG4gIGlmICgha2V5Q29kZSkge1xuICAgIC8vIEp1c3QgZ3JhYiBhIHJhbmRvbSBpbmRleCBpZiB3ZSBjYW5ub3QgZ2VuZXJhdGUgYW4gaW5kZXggZnJvbSBhIGtleS5cbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KTtcbiAgfVxuXG4gIGNvbnN0IGhhc2hTdHIgPSBzdHIgPT4ge1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoICs9IGNoYXJDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbiAgfTtcblxuICBjb25zdCBoYXNoID0gaGFzaFN0cihrZXlDb2RlKTtcbiAgcmV0dXJuIGhhc2ggJSBtYXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQbGFjZWhvbGRlckltYWdlKHsgdXJsS2V5LCB0aXRsZUtleSB9KSB7XG4gIGNvbnN0IGRhdGFJbmRleCA9IGdlbmVyYXRlSW5kZXgoe1xuICAgIGtleUNvZGU6IHVybEtleSxcbiAgICBtYXg6IFBMQUNFSE9MREVSX0lNQUdFX0RBVEFfQVJSQVkubGVuZ3RoLFxuICB9KTtcbiAgY29uc3QgY29sb3JJbmRleCA9IGdlbmVyYXRlSW5kZXgoe1xuICAgIGtleUNvZGU6IHRpdGxlS2V5LFxuICAgIG1heDogUExBQ0VIT0xERVJfSU1BR0VfQ09MT1JTX0FSUkFZLmxlbmd0aCxcbiAgfSk7XG4gIGNvbnN0IHsgcm90YXRpb24sIG9mZnNldHgsIG9mZnNldHksIHNjYWxlIH0gPVxuICAgIFBMQUNFSE9MREVSX0lNQUdFX0RBVEFfQVJSQVlbZGF0YUluZGV4XTtcbiAgY29uc3QgY29sb3IgPSBQTEFDRUhPTERFUl9JTUFHRV9DT0xPUlNfQVJSQVlbY29sb3JJbmRleF07XG4gIGNvbnN0IHN0eWxlID0ge1xuICAgIFwiLS1wbGFjZWhvbGRlckJhY2tncm91bmRDb2xvclwiOiBjb2xvcixcbiAgICBcIi0tcGxhY2Vob2xkZXJCYWNrZ3JvdW5kUm90YXRpb25cIjogcm90YXRpb24sXG4gICAgXCItLXBsYWNlaG9sZGVyQmFja2dyb3VuZE9mZnNldHhcIjogb2Zmc2V0eCxcbiAgICBcIi0tcGxhY2Vob2xkZXJCYWNrZ3JvdW5kT2Zmc2V0eVwiOiBvZmZzZXR5LFxuICAgIFwiLS1wbGFjZWhvbGRlckJhY2tncm91bmRTY2FsZVwiOiBzY2FsZSxcbiAgfTtcblxuICByZXR1cm4gPGRpdiBzdHlsZT17c3R5bGV9IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWltYWdlXCIgLz47XG59XG5cbmV4cG9ydCBjbGFzcyBEU0ltYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5vbk9wdGltaXplZEltYWdlRXJyb3IgPSB0aGlzLm9uT3B0aW1pemVkSW1hZ2VFcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yID0gdGhpcy5vbk5vbk9wdGltaXplZEltYWdlRXJyb3IuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTG9hZCA9IHRoaXMub25Mb2FkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNMb2FkZWQ6IGZhbHNlLFxuICAgICAgb3B0aW1pemVkSW1hZ2VGYWlsZWQ6IGZhbHNlLFxuICAgICAgdXNlVHJhbnNpdGlvbjogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIG9uSWRsZUNhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc0xvYWRlZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHVzZVRyYW5zaXRpb246IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBXcmFwcyB0aGUgaW1hZ2UgdXJsIHdpdGggdGhlIFBvY2tldCBwcm94eSB0byBib3RoIHJlc2l6ZSBhbmQgY3JvcCB0aGUgaW1hZ2UuXG4gIHJlZm9ybWF0SW1hZ2VVUkwodXJsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3Qgc21hcnQgPSB0aGlzLnByb3BzLnNtYXJ0Q3JvcCA/IFwic21hcnQvXCIgOiBcIlwiO1xuICAgIC8vIENoYW5nZSB0aGUgaW1hZ2UgVVJMIHRvIHJlcXVlc3QgYSBzaXplIHRhaWxvcmVkIGZvciB0aGUgcGFyZW50IGNvbnRhaW5lciB3aWR0aFxuICAgIC8vIEFsc286IGZvcmNlIEpQRUcsIHF1YWxpdHkgNjAsIG5vIHVwc2NhbGluZywgbm8gRVhJRiBkYXRhXG4gICAgLy8gVXNlcyBUaHVtYm9yOiBodHRwczovL3RodW1ib3IucmVhZHRoZWRvY3MuaW8vZW4vbGF0ZXN0L3VzYWdlLmh0bWxcbiAgICBjb25zdCBmb3JtYXR0ZWRVcmwgPSBgaHR0cHM6Ly9pbWctZ2V0cG9ja2V0LmNkbi5tb3ppbGxhLm5ldC8ke3dpZHRofXgke2hlaWdodH0vJHtzbWFydH1maWx0ZXJzOmZvcm1hdChqcGVnKTpxdWFsaXR5KDYwKTpub191cHNjYWxlKCk6c3RyaXBfZXhpZigpLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgdXJsXG4gICAgKX1gO1xuICAgIHJldHVybiB0aGlzLnNlY3VyZUltYWdlVVJMKGZvcm1hdHRlZFVybCk7XG4gIH1cblxuICAvLyBXcmFwcyB0aGUgaW1hZ2UgVVJMIHdpdGggdGhlIG1vei1jYWNoZWQtb2h0dHA6Ly8gcHJvdG9jb2wuXG4gIC8vIFRoaXMgZW5hYmxlcyBGaXJlZm94IHRvIGxvYWQgcmVzb3VyY2VzIG92ZXIgT2JsaXZpb3VzIEhUVFAgKE9IVFRQKSxcbiAgLy8gcHJvdmlkaW5nIHByaXZhY3ktcHJlc2VydmluZyByZXNvdXJjZSBsb2FkaW5nLlxuICAvLyBBcHBsaWVkIG9ubHkgd2hlbiBpbmZlcnJlZCBwZXJzb25hbGl6YXRpb24gaXMgZW5hYmxlZC5cbiAgLy8gU2VlOiBodHRwczovL2ZpcmVmb3gtc291cmNlLWRvY3MubW96aWxsYS5vcmcvYnJvd3Nlci9jb21wb25lbnRzL21vemNhY2hlZG9odHRwL2RvY3MvaW5kZXguaHRtbFxuICBzZWN1cmVJbWFnZVVSTCh1cmwpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuc2VjdXJlSW1hZ2UpIHtcbiAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIHJldHVybiBgbW96LWNhY2hlZC1vaHR0cDovL25ld3RhYi1pbWFnZS8/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHVybCl9YDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuaWRsZUNhbGxiYWNrSWQgPSB0aGlzLnByb3BzLndpbmRvd09iai5yZXF1ZXN0SWRsZUNhbGxiYWNrKFxuICAgICAgdGhpcy5vbklkbGVDYWxsYmFjay5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLmlkbGVDYWxsYmFja0lkKSB7XG4gICAgICB0aGlzLnByb3BzLndpbmRvd09iai5jYW5jZWxJZGxlQ2FsbGJhY2sodGhpcy5pZGxlQ2FsbGJhY2tJZCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBjbGFzc05hbWVzID0gYGRzLWltYWdlXG4gICAgICAke3RoaXMucHJvcHMuZXh0cmFDbGFzc05hbWVzID8gYCAke3RoaXMucHJvcHMuZXh0cmFDbGFzc05hbWVzfWAgOiBgYH1cbiAgICAgICR7dGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLnVzZVRyYW5zaXRpb24gPyBgIHVzZS10cmFuc2l0aW9uYCA6IGBgfVxuICAgICAgJHt0aGlzLnN0YXRlICYmIHRoaXMuc3RhdGUuaXNMb2FkZWQgPyBgIGxvYWRlZGAgOiBgYH1cbiAgICBgO1xuXG4gICAgbGV0IGltZztcblxuICAgIGlmICh0aGlzLnN0YXRlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW1pemUgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5yYXdTb3VyY2UgJiZcbiAgICAgICAgIXRoaXMuc3RhdGUub3B0aW1pemVkSW1hZ2VGYWlsZWRcbiAgICAgICkge1xuICAgICAgICBjb25zdCBiYXNlU291cmNlID0gdGhpcy5wcm9wcy5yYXdTb3VyY2U7XG5cbiAgICAgICAgLy8gV2UgZG9uJ3QgY2FyZSBhYm91dCBzZWN1cmluZyB0aGlzLnByb3BzLnNvdXJjZSwgYXMgdGhpcyBleGNsdXNpdmx5XG4gICAgICAgIC8vIGNvbWVzIGZyb20gYW4gb2xkZXIgc2VydmljZSB0aGF0IGlzIG5vdCBwZXJzb25hbGl6ZWQuXG4gICAgICAgIC8vIFRoaXMgY2FuIGFsc28gcmV0dXJuIGEgbm9uIHNlY3VyZSB1cmwgaWYgdGhpcyBmdW5jdGlvbmFsaXR5IGlzIG5vdCBlbmFibGVkLlxuICAgICAgICBjb25zdCBzZWN1cmVkU291cmNlID0gdGhpcy5zZWN1cmVJbWFnZVVSTChiYXNlU291cmNlKTtcblxuICAgICAgICBsZXQgc2l6ZVJ1bGVzID0gW107XG4gICAgICAgIGxldCBzcmNTZXRSdWxlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHJ1bGUgb2YgdGhpcy5wcm9wcy5zaXplcykge1xuICAgICAgICAgIGxldCB7IG1lZGlhTWF0Y2hlciwgd2lkdGgsIGhlaWdodCB9ID0gcnVsZTtcbiAgICAgICAgICBsZXQgc2l6ZVJ1bGUgPSBgJHttZWRpYU1hdGNoZXJ9ICR7d2lkdGh9cHhgO1xuICAgICAgICAgIHNpemVSdWxlcy5wdXNoKHNpemVSdWxlKTtcbiAgICAgICAgICBsZXQgc3JjU2V0UnVsZSA9IGAke3RoaXMucmVmb3JtYXRJbWFnZVVSTChcbiAgICAgICAgICAgIGJhc2VTb3VyY2UsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgICl9ICR7d2lkdGh9d2A7XG4gICAgICAgICAgbGV0IHNyY1NldFJ1bGUyeCA9IGAke3RoaXMucmVmb3JtYXRJbWFnZVVSTChcbiAgICAgICAgICAgIGJhc2VTb3VyY2UsXG4gICAgICAgICAgICB3aWR0aCAqIDIsXG4gICAgICAgICAgICBoZWlnaHQgKiAyXG4gICAgICAgICAgKX0gJHt3aWR0aCAqIDJ9d2A7XG4gICAgICAgICAgc3JjU2V0UnVsZXMucHVzaChzcmNTZXRSdWxlKTtcbiAgICAgICAgICBzcmNTZXRSdWxlcy5wdXNoKHNyY1NldFJ1bGUyeCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaXplcy5sZW5ndGgpIHtcbiAgICAgICAgICAvLyBXZSBoYXZlIHRvIHN1cHBseSBhIGZhbGxiYWNrIGluIHRoZSB2ZXJ5IHVubGlrZWx5IGV2ZW50IHRoYXQgbm9uZSBvZlxuICAgICAgICAgIC8vIHRoZSBtZWRpYSBxdWVyaWVzIG1hdGNoLiBUaGUgc21hbGxlc3QgZGltZW5zaW9uIHdhcyBjaG9zZW4gYXJiaXRyYXJpbHkuXG4gICAgICAgICAgc2l6ZVJ1bGVzLnB1c2goXG4gICAgICAgICAgICBgJHt0aGlzLnByb3BzLnNpemVzW3RoaXMucHJvcHMuc2l6ZXMubGVuZ3RoIC0gMV0ud2lkdGh9cHhgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGltZyA9IChcbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICBhbHQ9e3RoaXMucHJvcHMuYWx0X3RleHR9XG4gICAgICAgICAgICBjcm9zc09yaWdpbj1cImFub255bW91c1wiXG4gICAgICAgICAgICBvbkxvYWQ9e3RoaXMub25Mb2FkfVxuICAgICAgICAgICAgb25FcnJvcj17dGhpcy5vbk9wdGltaXplZEltYWdlRXJyb3J9XG4gICAgICAgICAgICBzaXplcz17c2l6ZVJ1bGVzLmpvaW4oXCIsXCIpfVxuICAgICAgICAgICAgc3JjPXtzZWN1cmVkU291cmNlfVxuICAgICAgICAgICAgc3JjU2V0PXtzcmNTZXRSdWxlcy5qb2luKFwiLFwiKX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnNvdXJjZSAmJiAhdGhpcy5zdGF0ZS5ub25PcHRpbWl6ZWRJbWFnZUZhaWxlZCkge1xuICAgICAgICBpbWcgPSAoXG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgYWx0PXt0aGlzLnByb3BzLmFsdF90ZXh0fVxuICAgICAgICAgICAgY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIlxuICAgICAgICAgICAgb25Mb2FkPXt0aGlzLm9uTG9hZH1cbiAgICAgICAgICAgIG9uRXJyb3I9e3RoaXMub25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yfVxuICAgICAgICAgICAgc3JjPXt0aGlzLnByb3BzLnNvdXJjZX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UgY29uc2lkZXIgYSBmYWlsZWQgdG8gbG9hZCBpbWcgb3Igc291cmNlIHdpdGhvdXQgYW4gaW1hZ2UgYXMgbG9hZGVkLlxuICAgICAgICBjbGFzc05hbWVzID0gYCR7Y2xhc3NOYW1lc30gbG9hZGVkYDtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBpbWcgZWxlbWVudCBpZiB3ZSBoYXZlIG5vIHNvdXJjZS4gUmVuZGVyIGEgcGxhY2Vob2xkZXIgaW5zdGVhZC5cbiAgICAgICAgLy8gVGhpcyBvbmx5IGhhcHBlbnMgZm9yIHJlY2VudCBzYXZlcyB3aXRob3V0IGEgc291cmNlLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5wcm9wcy5pc1JlY2VudFNhdmUgJiZcbiAgICAgICAgICAhdGhpcy5wcm9wcy5yYXdTb3VyY2UgJiZcbiAgICAgICAgICAhdGhpcy5wcm9wcy5zb3VyY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgaW1nID0gKFxuICAgICAgICAgICAgPFBsYWNlaG9sZGVySW1hZ2VcbiAgICAgICAgICAgICAgdXJsS2V5PXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgICAgICAgdGl0bGVLZXk9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW1nID0gPGRpdiBjbGFzc05hbWU9XCJicm9rZW4taW1hZ2VcIiAvPjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiA8cGljdHVyZSBjbGFzc05hbWU9e2NsYXNzTmFtZXN9PntpbWd9PC9waWN0dXJlPjtcbiAgfVxuXG4gIG9uT3B0aW1pemVkSW1hZ2VFcnJvcigpIHtcbiAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciBhIHJlLXJlbmRlciBhbmQgdGhlIHVub3B0aW1pemVkIDQ1MHB4IGltYWdlIHdpbGwgYmUgdXNlZCBhcyBhIGZhbGxiYWNrXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcHRpbWl6ZWRJbWFnZUZhaWxlZDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uTm9uT3B0aW1pemVkSW1hZ2VFcnJvcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5vbk9wdGltaXplZEltYWdlRmFpbGVkOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgb25Mb2FkKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNMb2FkZWQ6IHRydWUsXG4gICAgfSk7XG4gIH1cbn1cblxuRFNJbWFnZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHNvdXJjZTogbnVsbCwgLy8gVGhlIGN1cnJlbnQgc291cmNlIHN0eWxlIGZyb20gUG9ja2V0IEFQSSAoYWx3YXlzIDQ1MHB4KVxuICByYXdTb3VyY2U6IG51bGwsIC8vIFVuYWR1bHRlcmF0ZWQgaW1hZ2UgVVJMIHRvIGZpbHRlciB0aHJvdWdoIFRodW1ib3JcbiAgZXh0cmFDbGFzc05hbWVzOiBudWxsLCAvLyBBZGRpdGlvbmFsIGNsYXNzbmFtZXMgdG8gYXBwZW5kIHRvIGNvbXBvbmVudFxuICBvcHRpbWl6ZTogdHJ1ZSwgLy8gTWVhc3VyZSBwYXJlbnQgY29udGFpbmVyIHRvIHJlcXVlc3QgZXhhY3Qgc2l6ZXNcbiAgYWx0X3RleHQ6IG51bGwsXG4gIHdpbmRvd09iajogd2luZG93LCAvLyBBZGRlZCB0byBzdXBwb3J0IHVuaXQgdGVzdHNcbiAgc2l6ZXM6IFtdLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGlkZUNvbnRleHQgPSB0aGlzLmhpZGVDb250ZXh0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNob3cgPSB0aGlzLm9uU2hvdy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGlkZUNvbnRleHQoKSB7XG4gICAgdGhpcy5wcm9wcy5vblVwZGF0ZShmYWxzZSk7XG4gIH1cblxuICBvblNob3coKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25TaG93KSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMub25TaG93KCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBnbG9iYWxUaGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVDb250ZXh0KTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGdsb2JhbFRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGlkZUNvbnRleHQpO1xuICB9XG5cbiAgb25DbGljayhldmVudCkge1xuICAgIC8vIEVhdCBhbGwgY2xpY2tzIG9uIHRoZSBjb250ZXh0IG1lbnUgc28gdGhleSBkb24ndCBidWJibGUgdXAgdG8gd2luZG93LlxuICAgIC8vIFRoaXMgcHJldmVudHMgdGhlIGNvbnRleHQgbWVudSBmcm9tIGNsb3Npbmcgd2hlbiBjbGlja2luZyBkaXNhYmxlZCBpdGVtc1xuICAgIC8vIG9yIHRoZSBzZXBhcmF0b3JzLlxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIERpc2FibGluZyBmb2N1cyBvbiB0aGUgbWVudSBzcGFuIGFsbG93cyB0aGUgZmlyc3QgdGFiIHRvIGZvY3VzIG9uIHRoZSBmaXJzdCBtZW51IGl0ZW0gaW5zdGVhZCBvZiB0aGUgd3JhcHBlci5cbiAgICByZXR1cm4gKFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2ludGVyYWN0aXZlLXN1cHBvcnRzLWZvY3VzXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnVcIj5cbiAgICAgICAgPHVsXG4gICAgICAgICAgcm9sZT1cIm1lbnVcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbGlja31cbiAgICAgICAgICBvbktleURvd249e3RoaXMub25DbGlja31cbiAgICAgICAgICBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtbGlzdFwiXG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5vcHRpb25zLm1hcCgob3B0aW9uLCBpKSA9PlxuICAgICAgICAgICAgb3B0aW9uLnR5cGUgPT09IFwic2VwYXJhdG9yXCIgPyAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e2l9IGNsYXNzTmFtZT1cInNlcGFyYXRvclwiIHJvbGU9XCJzZXBhcmF0b3JcIiAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgb3B0aW9uLnR5cGUgIT09IFwiZW1wdHlcIiAmJiAoXG4gICAgICAgICAgICAgICAgPENvbnRleHRNZW51SXRlbVxuICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgb3B0aW9uPXtvcHRpb259XG4gICAgICAgICAgICAgICAgICBoaWRlQ29udGV4dD17dGhpcy5oaWRlQ29udGV4dH1cbiAgICAgICAgICAgICAgICAgIGtleWJvYXJkQWNjZXNzPXt0aGlzLnByb3BzLmtleWJvYXJkQWNjZXNzfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIF9Db250ZXh0TWVudUl0ZW0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlVcCA9IHRoaXMub25LZXlVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZm9jdXNGaXJzdCA9IHRoaXMuZm9jdXNGaXJzdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25DbGljayhldmVudCkge1xuICAgIHRoaXMucHJvcHMuaGlkZUNvbnRleHQoKTtcbiAgICB0aGlzLnByb3BzLm9wdGlvbi5vbkNsaWNrKGV2ZW50KTtcbiAgfVxuXG4gIC8vIEZvY3VzIHRoZSBmaXJzdCBtZW51IGl0ZW0gaWYgdGhlIG1lbnUgd2FzIGFjY2Vzc2VkIHZpYSB0aGUga2V5Ym9hcmQuXG4gIGZvY3VzRmlyc3QoYnV0dG9uKSB7XG4gICAgaWYgKHRoaXMucHJvcHMua2V5Ym9hcmRBY2Nlc3MgJiYgYnV0dG9uKSB7XG4gICAgICBidXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGlzIHNlbGVjdHMgdGhlIGNvcnJlY3Qgbm9kZSBiYXNlZCBvbiB0aGUga2V5IHByZXNzZWRcbiAgZm9jdXNTaWJsaW5nKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgeyBwYXJlbnROb2RlIH0gPSB0YXJnZXQ7XG4gICAgY29uc3QgY2xvc2VzdFNpYmxpbmdTZWxlY3RvciA9XG4gICAgICBrZXkgPT09IFwiQXJyb3dVcFwiID8gXCJwcmV2aW91c1NpYmxpbmdcIiA6IFwibmV4dFNpYmxpbmdcIjtcbiAgICBpZiAoIXBhcmVudE5vZGVbY2xvc2VzdFNpYmxpbmdTZWxlY3Rvcl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmVudE5vZGVbY2xvc2VzdFNpYmxpbmdTZWxlY3Rvcl0uZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgIHBhcmVudE5vZGVbY2xvc2VzdFNpYmxpbmdTZWxlY3Rvcl0uZmlyc3RFbGVtZW50Q2hpbGQuZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50Tm9kZVtjbG9zZXN0U2libGluZ1NlbGVjdG9yXVtcbiAgICAgICAgY2xvc2VzdFNpYmxpbmdTZWxlY3RvclxuICAgICAgXS5maXJzdEVsZW1lbnRDaGlsZC5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGNvbnN0IHsgb3B0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIFwiVGFiXCI6XG4gICAgICAgIC8vIHRhYiBnb2VzIGRvd24gaW4gY29udGV4dCBtZW51LCBzaGlmdCArIHRhYiBnb2VzIHVwIGluIGNvbnRleHQgbWVudVxuICAgICAgICAvLyBpZiB3ZSdyZSBvbiB0aGUgbGFzdCBpdGVtLCBvbmUgbW9yZSB0YWIgd2lsbCBjbG9zZSB0aGUgY29udGV4dCBtZW51XG4gICAgICAgIC8vIHNpbWlsYXJseSwgaWYgd2UncmUgb24gdGhlIGZpcnN0IGl0ZW0sIG9uZSBtb3JlIHNoaWZ0ICsgdGFiIHdpbGwgY2xvc2UgaXRcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChldmVudC5zaGlmdEtleSAmJiBvcHRpb24uZmlyc3QpIHx8XG4gICAgICAgICAgKCFldmVudC5zaGlmdEtleSAmJiBvcHRpb24ubGFzdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5mb2N1c1NpYmxpbmcoZXZlbnQudGFyZ2V0LCBldmVudC5rZXkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFbnRlclwiOlxuICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgICAgICBvcHRpb24ub25DbGljaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJFc2NhcGVcIjpcbiAgICAgICAgdGhpcy5wcm9wcy5oaWRlQ29udGV4dCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBQcmV2ZW50cyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiBzcGFjZWJhclxuICAvLyBzY3JvbGxpbmcgdGhlIHBhZ2UgJiBhdXRvLXRyaWdnZXJpbmcgYnV0dG9ucy5cbiAgb25LZXlVcChldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG9wdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBjbGFzc05hbWUgPSBbb3B0aW9uLmRpc2FibGVkID8gXCJkaXNhYmxlZFwiIDogXCJcIl0uam9pbihcIiBcIik7XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSByb2xlPVwicHJlc2VudGF0aW9uXCIgY2xhc3NOYW1lPVwiY29udGV4dC1tZW51LWl0ZW1cIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHJvbGU9XCJtZW51aXRlbVwiXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgb25LZXlVcD17dGhpcy5vbktleVVwfVxuICAgICAgICAgIHJlZj17b3B0aW9uLmZpcnN0ID8gdGhpcy5mb2N1c0ZpcnN0IDogbnVsbH1cbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPXtcbiAgICAgICAgICAgIG9wdGlvbi5pZCA9PT0gXCJuZXd0YWItbWVudS1lZGl0LXRvcHNpdGVzXCIgPyBcImRpYWxvZ1wiIDogbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGRhdGEtbDEwbi1pZD17b3B0aW9uLnN0cmluZ19pZCB8fCBvcHRpb24uaWR9IC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBDb250ZXh0TWVudUl0ZW0gPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfQ29udGV4dE1lbnVJdGVtKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7XG4gIGFjdGlvbkNyZWF0b3JzIGFzIGFjLFxuICBhY3Rpb25UeXBlcyBhcyBhdCxcbn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9BY3Rpb25zLm1qc1wiO1xuXG5jb25zdCBfT3BlbkluUHJpdmF0ZVdpbmRvdyA9IHNpdGUgPT4gKHtcbiAgaWQ6IFwibmV3dGFiLW1lbnUtb3Blbi1uZXctcHJpdmF0ZS13aW5kb3dcIixcbiAgaWNvbjogXCJuZXctd2luZG93LXByaXZhdGVcIixcbiAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICB0eXBlOiBhdC5PUEVOX1BSSVZBVEVfV0lORE9XLFxuICAgIGRhdGE6IHtcbiAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICByZWZlcnJlcjogc2l0ZS5yZWZlcnJlcixcbiAgICAgIGV2ZW50X3NvdXJjZTogXCJDT05URVhUX01FTlVcIixcbiAgICB9LFxuICB9KSxcbiAgdXNlckV2ZW50OiBcIk9QRU5fUFJJVkFURV9XSU5ET1dcIixcbn0pO1xuXG4vKipcbiAqIExpc3Qgb2YgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGl0ZW1zIHRoYXQgY2FuIGJlIGluY2x1ZGVkIGFzIG1lbnUgb3B0aW9ucyBpbiBhXG4gKiBMaW5rTWVudS4gQWxsIGZ1bmN0aW9ucyB0YWtlIHRoZSBzaXRlIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIsIGFuZCBvcHRpb25hbGx5XG4gKiB0aGUgaW5kZXggb2YgdGhlIHNpdGUuXG4gKi9cbmV4cG9ydCBjb25zdCBMaW5rTWVudU9wdGlvbnMgPSB7XG4gIFNlcGFyYXRvcjogKCkgPT4gKHsgdHlwZTogXCJzZXBhcmF0b3JcIiB9KSxcbiAgRW1wdHlJdGVtOiAoKSA9PiAoeyB0eXBlOiBcImVtcHR5XCIgfSksXG4gIFNob3dQcml2YWN5SW5mbzogKCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zaG93LXByaXZhY3ktaW5mb1wiLFxuICAgIGljb246IFwiaW5mb1wiLFxuICAgIGFjdGlvbjoge1xuICAgICAgdHlwZTogYXQuU0hPV19QUklWQUNZX0lORk8sXG4gICAgfSxcbiAgICB1c2VyRXZlbnQ6IFwiU0hPV19QUklWQUNZX0lORk9cIixcbiAgfSksXG4gIEFib3V0U3BvbnNvcmVkOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtc2hvdy1wcml2YWN5LWluZm9cIixcbiAgICBpY29uOiBcImluZm9cIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuQUJPVVRfU1BPTlNPUkVEX1RPUF9TSVRFUyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWR2ZXJ0aXNlcl9uYW1lOiAoc2l0ZS5sYWJlbCB8fCBzaXRlLmhvc3RuYW1lKS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICBwb3NpdGlvbjogc2l0ZS5zcG9uc29yZWRfcG9zaXRpb24sXG4gICAgICAgIHRpbGVfaWQ6IHNpdGUuc3BvbnNvcmVkX3RpbGVfaWQsXG4gICAgICAgIGJsb2NrX2tleTogc2l0ZS5ibG9ja19rZXksXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJUT1BTSVRFX1NQT05TT1JfSU5GT1wiLFxuICB9KSxcbiAgUmVtb3ZlQm9va21hcms6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1yZW1vdmUtYm9va21hcmtcIixcbiAgICBpY29uOiBcImJvb2ttYXJrLWFkZGVkXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkRFTEVURV9CT09LTUFSS19CWV9JRCxcbiAgICAgIGRhdGE6IHNpdGUuYm9va21hcmtHdWlkLFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJCT09LTUFSS19ERUxFVEVcIixcbiAgfSksXG4gIEFkZEJvb2ttYXJrOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtYm9va21hcmtcIixcbiAgICBpY29uOiBcImJvb2ttYXJrLWhvbGxvd1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5CT09LTUFSS19VUkwsXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwsIHRpdGxlOiBzaXRlLnRpdGxlLCB0eXBlOiBzaXRlLnR5cGUgfSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiQk9PS01BUktfQUREXCIsXG4gIH0pLFxuICBPcGVuSW5OZXdXaW5kb3c6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1vcGVuLW5ldy13aW5kb3dcIixcbiAgICBpY29uOiBcIm5ldy13aW5kb3dcIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9ORVdfV0lORE9XLFxuICAgICAgZGF0YToge1xuICAgICAgICBjYXJkX3R5cGU6IHNpdGUuY2FyZF90eXBlLFxuICAgICAgICByZWZlcnJlcjogc2l0ZS5yZWZlcnJlcixcbiAgICAgICAgdHlwZWRCb251czogc2l0ZS50eXBlZEJvbnVzLFxuICAgICAgICB1cmw6IHNpdGUudXJsLFxuICAgICAgICBpc19zcG9uc29yZWQ6ICEhc2l0ZS5zcG9uc29yZWRfdGlsZV9pZCxcbiAgICAgICAgZXZlbnRfc291cmNlOiBcIkNPTlRFWFRfTUVOVVwiLFxuICAgICAgICB0b3BpYzogc2l0ZS50b3BpYyxcbiAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wOiBzaXRlLmZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgICAgICAgdGlsZV9pZDogc2l0ZS50aWxlX2lkLFxuICAgICAgICByZWNvbW1lbmRhdGlvbl9pZDogc2l0ZS5yZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiBzaXRlLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHNpdGUuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgIHJlY2VpdmVkX3Jhbms6IHNpdGUucmVjZWl2ZWRfcmFuayxcbiAgICAgICAgcmVjb21tZW5kZWRfYXQ6IHNpdGUucmVjb21tZW5kZWRfYXQsXG4gICAgICAgIGZvcm1hdDogc2l0ZS5mb3JtYXQsXG4gICAgICAgIC4uLihzaXRlLmZsaWdodF9pZCA/IHsgZmxpZ2h0X2lkOiBzaXRlLmZsaWdodF9pZCB9IDoge30pLFxuICAgICAgICBpc19wb2NrZXRfY2FyZDogc2l0ZS50eXBlID09PSBcIkNhcmRHcmlkXCIsXG4gICAgICAgIGlzX2xpc3RfY2FyZDogc2l0ZS5pc19saXN0X2NhcmQsXG4gICAgICAgIC4uLihzaXRlLnNlY3Rpb25cbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgc2VjdGlvbjogc2l0ZS5zZWN0aW9uLFxuICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBzaXRlLnNlY3Rpb25fcG9zaXRpb24sXG4gICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ6IHNpdGUuaXNfc2VjdGlvbl9mb2xsb3dlZCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHt9KSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIk9QRU5fTkVXX1dJTkRPV1wiLFxuICB9KSxcblxuICAvLyBUaGlzIGJsb2NrcyB0aGUgdXJsIGZvciByZWd1bGFyIHN0b3JpZXMsXG4gIC8vIGJ1dCBhbHNvIHNlbmRzIGEgbWVzc2FnZSB0byBEaXNjb3ZlcnlTdHJlYW0gd2l0aCBmbGlnaHRfaWQuXG4gIC8vIElmIERpc2NvdmVyeVN0cmVhbSBzZWVzIHRoaXMgbWVzc2FnZSBmb3IgYSBmbGlnaHRfaWRcbiAgLy8gaXQgYWxzbyBibG9ja3MgaXQgb24gdGhlIGZsaWdodF9pZC5cbiAgQmxvY2tVcmw6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UpID0+IHtcbiAgICByZXR1cm4gTGlua01lbnVPcHRpb25zLkJsb2NrVXJscyhbc2l0ZV0sIGluZGV4LCBldmVudFNvdXJjZSk7XG4gIH0sXG4gIC8vIFNhbWUgYXMgQmxvY2tVcmwsIGV4Y2VwdCBjYW4gd29yayBvbiBhbiBhcnJheSBvZiBzaXRlcy5cbiAgQmxvY2tVcmxzOiAodGlsZXMsIHBvcywgZXZlbnRTb3VyY2UpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZGlzbWlzc1wiLFxuICAgIGljb246IFwiZGlzbWlzc1wiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5CTE9DS19VUkwsXG4gICAgICBzb3VyY2U6IGV2ZW50U291cmNlLFxuICAgICAgZGF0YTogdGlsZXMubWFwKHNpdGUgPT4gKHtcbiAgICAgICAgdXJsOiBzaXRlLm9yaWdpbmFsX3VybCB8fCBzaXRlLm9wZW5fdXJsIHx8IHNpdGUudXJsLFxuICAgICAgICAvLyBwb2NrZXRfaWQgaXMgb25seSBmb3IgcG9ja2V0IHN0b3JpZXMgYmVpbmcgaW4gaGlnaGxpZ2h0cywgYW5kIHRoZW4gZGlzbWlzc2VkLlxuICAgICAgICBwb2NrZXRfaWQ6IHNpdGUucG9ja2V0X2lkLFxuICAgICAgICB0aWxlX2lkOiBzaXRlLnRpbGVfaWQsXG4gICAgICAgIC4uLihzaXRlLmJsb2NrX2tleSA/IHsgYmxvY2tfa2V5OiBzaXRlLmJsb2NrX2tleSB9IDoge30pLFxuICAgICAgICByZWNvbW1lbmRhdGlvbl9pZDogc2l0ZS5yZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiBzaXRlLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHNpdGUuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgIHJlY2VpdmVkX3Jhbms6IHNpdGUucmVjZWl2ZWRfcmFuayxcbiAgICAgICAgcmVjb21tZW5kZWRfYXQ6IHNpdGUucmVjb21tZW5kZWRfYXQsXG4gICAgICAgIC8vIHVzZWQgYnkgUGxhY2VzRmVlZCBhbmQgVG9wU2l0ZXNGZWVkIGZvciBzcG9uc29yZWQgdG9wIHNpdGVzIGJsb2NraW5nLlxuICAgICAgICBpc1Nwb25zb3JlZFRvcFNpdGU6IHNpdGUuc3BvbnNvcmVkX3Bvc2l0aW9uLFxuICAgICAgICB0eXBlOiBzaXRlLnR5cGUsXG4gICAgICAgIGNhcmRfdHlwZTogc2l0ZS5jYXJkX3R5cGUsXG4gICAgICAgIC4uLihzaXRlLnNoaW0gJiYgc2l0ZS5zaGltLmRlbGV0ZSA/IHsgc2hpbTogc2l0ZS5zaGltLmRlbGV0ZSB9IDoge30pLFxuICAgICAgICAuLi4oc2l0ZS5mbGlnaHRfaWQgPyB7IGZsaWdodF9pZDogc2l0ZS5mbGlnaHRfaWQgfSA6IHt9KSxcbiAgICAgICAgLy8gSWYgbm90IHNwb25zb3JlZCwgaG9zdG5hbWUgY291bGQgYmUgYW55dGhpbmcgKENhdDMgRGF0YSEpLlxuICAgICAgICAvLyBTbyBvbmx5IHB1dCBpbiBhZHZlcnRpc2VyX25hbWUgZm9yIHNwb25zb3JlZCB0b3BzaXRlcy5cbiAgICAgICAgLi4uKHNpdGUuc3BvbnNvcmVkX3Bvc2l0aW9uXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGFkdmVydGlzZXJfbmFtZTogKFxuICAgICAgICAgICAgICAgIHNpdGUubGFiZWwgfHwgc2l0ZS5ob3N0bmFtZVxuICAgICAgICAgICAgICApPy50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDoge30pLFxuICAgICAgICBwb3NpdGlvbjogcG9zLFxuICAgICAgICAuLi4oc2l0ZS5zcG9uc29yZWRfdGlsZV9pZCA/IHsgdGlsZV9pZDogc2l0ZS5zcG9uc29yZWRfdGlsZV9pZCB9IDoge30pLFxuICAgICAgICBpc19wb2NrZXRfY2FyZDogc2l0ZS50eXBlID09PSBcIkNhcmRHcmlkXCIsXG4gICAgICAgIGlzX2xpc3RfY2FyZDogc2l0ZS5pc19saXN0X2NhcmQsXG4gICAgICAgIC4uLihzaXRlLmZvcm1hdCA/IHsgZm9ybWF0OiBzaXRlLmZvcm1hdCB9IDoge30pLFxuICAgICAgICAuLi4oc2l0ZS5zZWN0aW9uXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHNlY3Rpb246IHNpdGUuc2VjdGlvbixcbiAgICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogc2l0ZS5zZWN0aW9uX3Bvc2l0aW9uLFxuICAgICAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkOiBzaXRlLmlzX3NlY3Rpb25fZm9sbG93ZWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7fSksXG4gICAgICB9KSksXG4gICAgfSksXG4gICAgaW1wcmVzc2lvbjogYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICBibG9jazogMCxcbiAgICAgIHRpbGVzOiB0aWxlcy5tYXAoKHNpdGUsIGluZGV4KSA9PiAoe1xuICAgICAgICBpZDogc2l0ZS5ndWlkLFxuICAgICAgICBwb3M6IHBvcyArIGluZGV4LFxuICAgICAgICAuLi4oc2l0ZS5zaGltICYmIHNpdGUuc2hpbS5kZWxldGUgPyB7IHNoaW06IHNpdGUuc2hpbS5kZWxldGUgfSA6IHt9KSxcbiAgICAgIH0pKSxcbiAgICB9KSxcbiAgICB1c2VyRXZlbnQ6IFwiQkxPQ0tcIixcbiAgfSksXG5cbiAgLy8gVGhpcyBpcyB0aGUgXCJEaXNtaXNzXCIgYWN0aW9uIGZvciBsZWFkZXJib2FyZC9iaWxsYm9hcmQgYWRzLlxuICBCbG9ja0FkVXJsOiAoc2l0ZSwgcG9zLCBldmVudFNvdXJjZSkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1kaXNtaXNzXCIsXG4gICAgaWNvbjogXCJkaXNtaXNzXCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkJMT0NLX1VSTCxcbiAgICAgIGRhdGE6IFtzaXRlXSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgc291cmNlOiBldmVudFNvdXJjZSxcbiAgICAgIGJsb2NrOiAwLFxuICAgICAgdGlsZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBzaXRlLmd1aWQsXG4gICAgICAgICAgcG9zLFxuICAgICAgICAgIC4uLihzaXRlLnNoaW0gJiYgc2l0ZS5zaGltLnNhdmUgPyB7IHNoaW06IHNpdGUuc2hpbS5zYXZlIH0gOiB7fSksXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJCTE9DS1wiLFxuICB9KSxcblxuICAvLyBUaGlzIGlzIGFuIG9wdGlvbiBmb3Igd2ViIGV4dGVudGlvbnMgd2hpY2ggd2lsbCByZXN1bHQgaW4gcmVtb3ZlIGl0ZW1zIGZyb21cbiAgLy8gbWVtb3J5IGFuZCBub3RpZnkgdGhlIHdlYiBleHRlbmlvbiwgcmF0aGVyIHRoYW4gdXNpbmcgdGhlIGJ1aWx0LWluIGJsb2NrIGxpc3QuXG4gIFdlYkV4dERpc21pc3M6IChzaXRlLCBpbmRleCwgZXZlbnRTb3VyY2UpID0+ICh7XG4gICAgaWQ6IFwibWVudV9hY3Rpb25fd2ViZXh0X2Rpc21pc3NcIixcbiAgICBzdHJpbmdfaWQ6IFwibmV3dGFiLW1lbnUtZGlzbWlzc1wiLFxuICAgIGljb246IFwiZGlzbWlzc1wiLFxuICAgIGFjdGlvbjogYWMuV2ViRXh0RXZlbnQoYXQuV0VCRVhUX0RJU01JU1MsIHtcbiAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICB1cmw6IHNpdGUudXJsLFxuICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICB9KSxcbiAgfSksXG4gIERlbGV0ZVVybDogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSwgaXNFbmFibGVkLCBzaXRlSW5mbykgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1kZWxldGUtaGlzdG9yeVwiLFxuICAgIGljb246IFwiZGVsZXRlXCIsXG4gICAgYWN0aW9uOiB7XG4gICAgICB0eXBlOiBhdC5ESUFMT0dfT1BFTixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgb25Db25maXJtOiBbXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5ERUxFVEVfSElTVE9SWV9VUkwsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICAgICAgICAgIHBvY2tldF9pZDogc2l0ZS5wb2NrZXRfaWQsXG4gICAgICAgICAgICAgIGZvcmNlQmxvY2s6IHNpdGUuYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICB7IGV2ZW50OiBcIkRFTEVURVwiLCBzb3VyY2U6IGV2ZW50U291cmNlLCBhY3Rpb25fcG9zaXRpb246IGluZGV4IH0sXG4gICAgICAgICAgICAgIHNpdGVJbmZvXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICAvLyBBbHNvIGJyb2FkY2FzdCB0aGF0IHRoaXMgdXJsIGhhcyBiZWVuIGRlbGV0ZWQgc28gdGhhdFxuICAgICAgICAgIC8vIHRoZSBjb25maXJtYXRpb24gZGlhbG9nIGtub3dzIGl0IG5lZWRzIHRvIGRpc2FwcGVhciBub3cuXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5ESUFMT0dfQ0xPU0UsXG4gICAgICAgICAgfSksXG4gICAgICAgIF0sXG4gICAgICAgIGV2ZW50U291cmNlLFxuICAgICAgICBib2R5X3N0cmluZ19pZDogW1xuICAgICAgICAgIFwibmV3dGFiLWNvbmZpcm0tZGVsZXRlLWhpc3RvcnktcDFcIixcbiAgICAgICAgICBcIm5ld3RhYi1jb25maXJtLWRlbGV0ZS1oaXN0b3J5LXAyXCIsXG4gICAgICAgIF0sXG4gICAgICAgIGNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZDogXCJuZXd0YWItdG9wc2l0ZXMtZGVsZXRlLWhpc3RvcnktYnV0dG9uXCIsXG4gICAgICAgIGNhbmNlbF9idXR0b25fc3RyaW5nX2lkOiBcIm5ld3RhYi10b3BzaXRlcy1jYW5jZWwtYnV0dG9uXCIsXG4gICAgICAgIGljb246IFwibW9kYWwtZGVsZXRlXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgdXNlckV2ZW50OiBcIkRJQUxPR19PUEVOXCIsXG4gIH0pLFxuICBTaG93RmlsZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXNob3ctZmlsZVwiLFxuICAgIGljb246IFwic2VhcmNoXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNIT1dfRE9XTkxPQURfRklMRSxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICB9KSxcbiAgT3BlbkZpbGU6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1vcGVuLWZpbGVcIixcbiAgICBpY29uOiBcIm9wZW4tZmlsZVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX0RPV05MT0FEX0ZJTEUsXG4gICAgICBkYXRhOiB7IHVybDogc2l0ZS51cmwgfSxcbiAgICB9KSxcbiAgfSksXG4gIENvcHlEb3dubG9hZExpbms6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1jb3B5LWRvd25sb2FkLWxpbmtcIixcbiAgICBpY29uOiBcImNvcHlcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuQ09QWV9ET1dOTE9BRF9MSU5LLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBHb1RvRG93bmxvYWRQYWdlOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtZ28tdG8tZG93bmxvYWQtcGFnZVwiLFxuICAgIGljb246IFwiZG93bmxvYWRcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUucmVmZXJyZXIgfSxcbiAgICB9KSxcbiAgICBkaXNhYmxlZDogIXNpdGUucmVmZXJyZXIsXG4gIH0pLFxuICBSZW1vdmVEb3dubG9hZDogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXJlbW92ZS1kb3dubG9hZFwiLFxuICAgIGljb246IFwiZGVsZXRlXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlJFTU9WRV9ET1dOTE9BRF9GSUxFLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gIH0pLFxuICBQaW5Ub3BTaXRlOiAoc2l0ZSwgaW5kZXgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtcGluXCIsXG4gICAgaWNvbjogXCJwaW5cIixcbiAgICBhY3Rpb246IGFjLkFsc29Ub01haW4oe1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX1BJTixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc2l0ZSxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHVzZXJFdmVudDogXCJQSU5cIixcbiAgfSksXG4gIFVucGluVG9wU2l0ZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LXVucGluXCIsXG4gICAgaWNvbjogXCJ1bnBpblwiLFxuICAgIGFjdGlvbjogYWMuQWxzb1RvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UT1BfU0lURVNfVU5QSU4sXG4gICAgICBkYXRhOiB7IHNpdGU6IHsgdXJsOiBzaXRlLnVybCB9IH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIlVOUElOXCIsXG4gIH0pLFxuICBFZGl0VG9wU2l0ZTogKHNpdGUsIGluZGV4KSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWVkaXQtdG9wc2l0ZXNcIixcbiAgICBpY29uOiBcImVkaXRcIixcbiAgICBhY3Rpb246IHtcbiAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19FRElULFxuICAgICAgZGF0YTogeyBpbmRleCB9LFxuICAgIH0sXG4gIH0pLFxuICBDaGVja0Jvb2ttYXJrOiBzaXRlID0+XG4gICAgc2l0ZS5ib29rbWFya0d1aWRcbiAgICAgID8gTGlua01lbnVPcHRpb25zLlJlbW92ZUJvb2ttYXJrKHNpdGUpXG4gICAgICA6IExpbmtNZW51T3B0aW9ucy5BZGRCb29rbWFyayhzaXRlKSxcbiAgQ2hlY2tQaW5Ub3BTaXRlOiAoc2l0ZSwgaW5kZXgpID0+XG4gICAgc2l0ZS5pc1Bpbm5lZFxuICAgICAgPyBMaW5rTWVudU9wdGlvbnMuVW5waW5Ub3BTaXRlKHNpdGUpXG4gICAgICA6IExpbmtNZW51T3B0aW9ucy5QaW5Ub3BTaXRlKHNpdGUsIGluZGV4KSxcbiAgT3BlbkluUHJpdmF0ZVdpbmRvdzogKHNpdGUsIGluZGV4LCBldmVudFNvdXJjZSwgaXNFbmFibGVkKSA9PlxuICAgIGlzRW5hYmxlZCA/IF9PcGVuSW5Qcml2YXRlV2luZG93KHNpdGUpIDogTGlua01lbnVPcHRpb25zLkVtcHR5SXRlbSgpLFxuICBDaGFuZ2VXZWF0aGVyTG9jYXRpb246ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXdlYXRoZXItbWVudS1jaGFuZ2UtbG9jYXRpb25cIixcbiAgICBhY3Rpb246IGFjLkJyb2FkY2FzdFRvQ29udGVudCh7XG4gICAgICB0eXBlOiBhdC5XRUFUSEVSX1NFQVJDSF9BQ1RJVkUsXG4gICAgICBkYXRhOiB0cnVlLFxuICAgIH0pLFxuICB9KSxcbiAgQ2hhbmdlV2VhdGhlckRpc3BsYXlTaW1wbGU6ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXdlYXRoZXItbWVudS1jaGFuZ2Utd2VhdGhlci1kaXNwbGF5LXNpbXBsZVwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TRVRfUFJFRixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogXCJ3ZWF0aGVyLmRpc3BsYXlcIixcbiAgICAgICAgdmFsdWU6IFwic2ltcGxlXCIsXG4gICAgICB9LFxuICAgIH0pLFxuICB9KSxcbiAgQ2hhbmdlV2VhdGhlckRpc3BsYXlEZXRhaWxlZDogKCkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItd2VhdGhlci1tZW51LWNoYW5nZS13ZWF0aGVyLWRpc3BsYXktZGV0YWlsZWRcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuU0VUX1BSRUYsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5hbWU6IFwid2VhdGhlci5kaXNwbGF5XCIsXG4gICAgICAgIHZhbHVlOiBcImRldGFpbGVkXCIsXG4gICAgICB9LFxuICAgIH0pLFxuICB9KSxcbiAgQ2hhbmdlVGVtcFVuaXRGYWhyZW5oZWl0OiAoKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi13ZWF0aGVyLW1lbnUtY2hhbmdlLXRlbXBlcmF0dXJlLXVuaXRzLWZhaHJlbmhlaXRcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuU0VUX1BSRUYsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5hbWU6IFwid2VhdGhlci50ZW1wZXJhdHVyZVVuaXRzXCIsXG4gICAgICAgIHZhbHVlOiBcImZcIixcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pLFxuICBDaGFuZ2VUZW1wVW5pdENlbHNpdXM6ICgpID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXdlYXRoZXItbWVudS1jaGFuZ2UtdGVtcGVyYXR1cmUtdW5pdHMtY2Vsc2l1c1wiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TRVRfUFJFRixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIixcbiAgICAgICAgdmFsdWU6IFwiY1wiLFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSksXG4gIEhpZGVXZWF0aGVyOiAoKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi13ZWF0aGVyLW1lbnUtaGlkZS13ZWF0aGVyXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNFVF9QUkVGLFxuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lOiBcInNob3dXZWF0aGVyXCIsXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pLFxuICBPcGVuTGVhcm5Nb3JlVVJMOiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLXdlYXRoZXItbWVudS1sZWFybi1tb3JlXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICB9KSxcbiAgRmFrZXNwb3REaXNtaXNzOiAoKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LWRpc21pc3NcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuU0VUX1BSRUYsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIG5hbWU6IFwiZGlzY292ZXJ5c3RyZWFtLmNvbnRleHR1YWxDb250ZW50LmZha2VzcG90LmVuYWJsZWRcIixcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICBpbXByZXNzaW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LkZBS0VTUE9UX0RJU01JU1MsXG4gICAgfSksXG4gIH0pLFxuICBBYm91dEZha2VzcG90OiBzaXRlID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtYWJvdXQtZmFrZXNwb3RcIixcbiAgICBhY3Rpb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgZGF0YTogeyB1cmw6IHNpdGUudXJsIH0sXG4gICAgfSksXG4gICAgaW1wcmVzc2lvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5PUEVOX0FCT1VUX0ZBS0VTUE9ULFxuICAgIH0pLFxuICB9KSxcbiAgU2VjdGlvbkJsb2NrOiAoe1xuICAgIHNlY3Rpb25QZXJzb25hbGl6YXRpb24sXG4gICAgc2VjdGlvbktleSxcbiAgICBzZWN0aW9uUG9zaXRpb24sXG4gICAgdGl0bGUsXG4gIH0pID0+ICh7XG4gICAgaWQ6IFwibmV3dGFiLW1lbnUtc2VjdGlvbi1ibG9ja1wiLFxuICAgIGljb246IFwiZGVsZXRlXCIsXG4gICAgYWN0aW9uOiB7XG4gICAgICAvLyBPcGVuIHRoZSBjb25maXJtYXRpb24gZGlhbG9nIHRvIGJsb2NrIGEgc2VjdGlvbi5cbiAgICAgIHR5cGU6IGF0LkRJQUxPR19PUEVOLFxuICAgICAgZGF0YToge1xuICAgICAgICBvbkNvbmZpcm06IFtcbiAgICAgICAgICAvLyBPbmNlIHRoZSB1c2VyIGNvbmZpcm1lZCB0aGVpciBpbnRlbnRpb24gdG8gYmxvY2sgdGhpcyBzZWN0aW9uLFxuICAgICAgICAgIC8vIHVwZGF0ZSB0aGVpciBwcmVmZXJlbmNlcy5cbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4uc2VjdGlvblBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICAgICAgW3NlY3Rpb25LZXldOiB7XG4gICAgICAgICAgICAgICAgaXNCbG9ja2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlzRm9sbG93ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAvLyBUZWxlbWV0cnlcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LkJMT0NLX1NFQ1RJT04sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHNlY3Rpb25Qb3NpdGlvbixcbiAgICAgICAgICAgICAgZXZlbnRfc291cmNlOiBcIkNPTlRFWFRfTUVOVVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAvLyBBbHNvIGJyb2FkY2FzdCB0aGF0IHRoaXMgc2VjdGlvbiBoYXMgYmVlbiBibG9ja2VkIHNvIHRoYXRcbiAgICAgICAgICAvLyB0aGUgY29uZmlybWF0aW9uIGRpYWxvZyBrbm93cyBpdCBuZWVkcyB0byBkaXNhcHBlYXIgbm93LlxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuRElBTE9HX0NMT1NFLFxuICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgICAgICAvLyBQYXNzIEZsdWVudCBzdHJpbmdzIHRvIENvbmZpcm1EaWFsb2cgY29tcG9uZW50IGZvciB0aGUgY29weVxuICAgICAgICAvLyBvZiB0aGUgcHJvbXB0IHRvIGJsb2NrIHNlY3Rpb25zLlxuICAgICAgICBib2R5X3N0cmluZ19pZDogW1xuICAgICAgICAgIFwibmV3dGFiLXNlY3Rpb24tY29uZmlybS1ibG9jay10b3BpYy1wMVwiLFxuICAgICAgICAgIFwibmV3dGFiLXNlY3Rpb24tY29uZmlybS1ibG9jay10b3BpYy1wMlwiLFxuICAgICAgICBdLFxuICAgICAgICBjb25maXJtX2J1dHRvbl9zdHJpbmdfaWQ6IFwibmV3dGFiLXNlY3Rpb24tYmxvY2stdG9waWMtYnV0dG9uXCIsXG4gICAgICAgIGNvbmZpcm1fYnV0dG9uX3N0cmluZ19hcmdzOiB7IHRvcGljOiB0aXRsZSB9LFxuICAgICAgICBjYW5jZWxfYnV0dG9uX3N0cmluZ19pZDogXCJuZXd0YWItc2VjdGlvbi1jYW5jZWwtYnV0dG9uXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgdXNlckV2ZW50OiBcIkRJQUxPR19PUEVOXCIsXG4gIH0pLFxuICBTZWN0aW9uVW5mb2xsb3c6ICh7XG4gICAgc2VjdGlvblBlcnNvbmFsaXphdGlvbixcbiAgICBzZWN0aW9uS2V5LFxuICAgIHNlY3Rpb25Qb3NpdGlvbixcbiAgfSkgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItbWVudS1zZWN0aW9uLXVuZm9sbG93XCIsXG4gICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgIHR5cGU6IGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVCxcbiAgICAgIGRhdGE6ICgoeyBzZWN0aW9uS2V5OiBfc2VjdGlvbktleSwgLi4ucmVtYWluaW5nIH0pID0+IHJlbWFpbmluZykoXG4gICAgICAgIHNlY3Rpb25QZXJzb25hbGl6YXRpb25cbiAgICAgICksXG4gICAgfSksXG4gICAgaW1wcmVzc2lvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5VTkZPTExPV19TRUNUSU9OLFxuICAgICAgZGF0YToge1xuICAgICAgICBzZWN0aW9uOiBzZWN0aW9uS2V5LFxuICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBzZWN0aW9uUG9zaXRpb24sXG4gICAgICAgIGV2ZW50X3NvdXJjZTogXCJDT05URVhUX01FTlVcIixcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pLFxuICBNYW5hZ2VTcG9uc29yZWRDb250ZW50OiAoKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LW1hbmFnZS1zcG9uc29yZWQtY29udGVudFwiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7IHR5cGU6IGF0LlNFVFRJTkdTX09QRU4gfSksXG4gICAgdXNlckV2ZW50OiBcIk9QRU5fTkVXVEFCX1BSRUZTXCIsXG4gIH0pLFxuICBPdXJTcG9uc29yc0FuZFlvdXJQcml2YWN5OiAoKSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi1tZW51LW91ci1zcG9uc29ycy1hbmQteW91ci1wcml2YWN5XCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy9rYi9wb2NrZXQtc3BvbnNvcmVkLXN0b3JpZXMtbmV3LXRhYnNcIixcbiAgICAgIH0sXG4gICAgfSksXG4gICAgdXNlckV2ZW50OiBcIkNMSUNLX1BSSVZBQ1lfSU5GT1wiLFxuICB9KSxcbiAgUmVwb3J0QWQ6IHNpdGUgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogXCJuZXd0YWItbWVudS1yZXBvcnQtdGhpcy1hZFwiLFxuICAgICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuUkVQT1JUX0FEX09QRU4sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjYXJkX3R5cGU6IHNpdGUuY2FyZF90eXBlLFxuICAgICAgICAgIHBvc2l0aW9uOiBzaXRlLnBvc2l0aW9uLFxuICAgICAgICAgIHJlcG9ydGluZ191cmw6IHNpdGUuc2hpbS5yZXBvcnQsXG4gICAgICAgICAgdXJsOiBzaXRlLnVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH07XG4gIH0sXG5cbiAgUmVwb3J0Q29udGVudDogc2l0ZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBcIm5ld3RhYi1tZW51LXJlcG9ydFwiLFxuICAgICAgYWN0aW9uOiBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuUkVQT1JUX0NPTlRFTlRfT1BFTixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNhcmRfdHlwZTogc2l0ZS5jYXJkX3R5cGUsXG4gICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHNpdGUuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiBzaXRlLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBzaXRlLnNlY3Rpb25fcG9zaXRpb24sXG4gICAgICAgICAgc2VjdGlvbjogc2l0ZS5zZWN0aW9uLFxuICAgICAgICAgIHRpdGxlOiBzaXRlLnRpdGxlLFxuICAgICAgICAgIHRvcGljOiBzaXRlLnRvcGljLFxuICAgICAgICAgIHVybDogc2l0ZS51cmwsXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICB9O1xuICB9LFxuICBUcmVuZGluZ1NlYXJjaExlYXJuTW9yZTogc2l0ZSA9PiAoe1xuICAgIGlkOiBcIm5ld3RhYi10cmVuZGluZy1zZWFyY2hlcy1sZWFybi1tb3JlXCIsXG4gICAgYWN0aW9uOiBhYy5Pbmx5VG9NYWluKHtcbiAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgIGRhdGE6IHsgdXJsOiBzaXRlLnVybCB9LFxuICAgIH0pLFxuICAgIGltcHJlc3Npb246IGFjLk9ubHlUb01haW4oe1xuICAgICAgdHlwZTogYXQuVFJFTkRJTkdfU0VBUkNIX0xFQVJOX01PUkUsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHZhcmlhbnQ6IHNpdGUudmFyaWFudCxcbiAgICAgIH0sXG4gICAgfSksXG4gIH0pLFxuICBUcmVuZGluZ1NlYXJjaERpc21pc3M6IHNpdGUgPT4gKHtcbiAgICBpZDogXCJuZXd0YWItdHJlbmRpbmctc2VhcmNoZXMtZGlzbWlzc1wiLFxuICAgIGFjdGlvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5TRVRfUFJFRixcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbmFtZTogXCJ0cmVuZGluZ1NlYXJjaC5lbmFibGVkXCIsXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSksXG4gICAgaW1wcmVzc2lvbjogYWMuT25seVRvTWFpbih7XG4gICAgICB0eXBlOiBhdC5UUkVORElOR19TRUFSQ0hfRElTTUlTUyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdmFyaWFudDogc2l0ZS52YXJpYW50LFxuICAgICAgfSxcbiAgICB9KSxcbiAgfSksXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51XCI7XG5pbXBvcnQgeyBMaW5rTWVudU9wdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2xpbmstbWVudS1vcHRpb25zXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IERFRkFVTFRfU0lURV9NRU5VX09QVElPTlMgPSBbXG4gIFwiQ2hlY2tQaW5Ub3BTaXRlXCIsXG4gIFwiRWRpdFRvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbl07XG5cbmV4cG9ydCBjbGFzcyBfTGlua01lbnUgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgZ2V0T3B0aW9ucygpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHtcbiAgICAgIHNpdGUsXG4gICAgICBpbmRleCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIGlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZCxcbiAgICAgIHNpdGVJbmZvLFxuICAgICAgcGxhdGZvcm0sXG4gICAgICBkaXNwYXRjaCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzLFxuICAgICAgdXNlckV2ZW50ID0gYWMuVXNlckV2ZW50LFxuICAgIH0gPSBwcm9wcztcblxuICAgIC8vIEhhbmRsZSBzcGVjaWFsIGNhc2Ugb2YgZGVmYXVsdCBzaXRlXG4gICAgY29uc3QgcHJvcE9wdGlvbnMgPVxuICAgICAgc2l0ZS5pc0RlZmF1bHQgJiYgIXNpdGUuc2VhcmNoVG9wU2l0ZSAmJiAhc2l0ZS5zcG9uc29yZWRfcG9zaXRpb25cbiAgICAgICAgPyBERUZBVUxUX1NJVEVfTUVOVV9PUFRJT05TXG4gICAgICAgIDogb3B0aW9ucztcblxuICAgIGNvbnN0IGxpbmtNZW51T3B0aW9ucyA9IHByb3BPcHRpb25zXG4gICAgICAubWFwKG8gPT5cbiAgICAgICAgTGlua01lbnVPcHRpb25zW29dKFxuICAgICAgICAgIHNpdGUsXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGlzUHJpdmF0ZUJyb3dzaW5nRW5hYmxlZCxcbiAgICAgICAgICBzaXRlSW5mbyxcbiAgICAgICAgICBwbGF0Zm9ybVxuICAgICAgICApXG4gICAgICApXG4gICAgICAubWFwKG9wdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHsgYWN0aW9uLCBpbXByZXNzaW9uLCBpZCwgdHlwZSwgdXNlckV2ZW50OiBldmVudE5hbWUgfSA9IG9wdGlvbjtcbiAgICAgICAgaWYgKCF0eXBlICYmIGlkKSB7XG4gICAgICAgICAgb3B0aW9uLm9uQ2xpY2sgPSAoZXZlbnQgPSB7fSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSwgYnV0dG9uIH0gPSBldmVudDtcbiAgICAgICAgICAgIC8vIE9ubHkgc2VuZCBhbG9uZyBldmVudCBpbmZvIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIG5vbi1kZWZhdWx0IHRvIHNlbmRcbiAgICAgICAgICAgIGlmIChjdHJsS2V5IHx8IG1ldGFLZXkgfHwgc2hpZnRLZXkgfHwgYnV0dG9uID09PSAxKSB7XG4gICAgICAgICAgICAgIGFjdGlvbi5kYXRhID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBldmVudDogeyBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSwgYnV0dG9uIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhY3Rpb24uZGF0YVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgICAgICAvLyBCdWcgMTk1ODEzNTogUGFzcyBhZGRpdGlvbmFsIGluZm8gdG8gYWMuT1BFTl9ORVdfV0lORE9XIGV2ZW50XG4gICAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJPUEVOX05FV19XSU5ET1dcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgIGNhcmRfdHlwZSxcbiAgICAgICAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgICAgICAgZXZlbnRfc291cmNlLFxuICAgICAgICAgICAgICAgICAgZmV0Y2hUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgICAgICAgICBpc19saXN0X2NhcmQsXG4gICAgICAgICAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkLFxuICAgICAgICAgICAgICAgICAgcmVjZWl2ZWRfcmFuayxcbiAgICAgICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQsXG4gICAgICAgICAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3RvcGljcyxcbiAgICAgICAgICAgICAgICAgIHRpbGVfaWQsXG4gICAgICAgICAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICAgICAgICB9ID0gYWN0aW9uLmRhdGE7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgIGNhcmRfdHlwZSxcbiAgICAgICAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgICAgICAgZXZlbnRfc291cmNlLFxuICAgICAgICAgICAgICAgICAgZmV0Y2hUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgICAgICAgICBpc19saXN0X2NhcmQsXG4gICAgICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rLFxuICAgICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQsXG4gICAgICAgICAgICAgICAgICByZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgICAgIC4uLihzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgID8geyBpc19zZWN0aW9uX2ZvbGxvd2VkLCBzZWN0aW9uX3Bvc2l0aW9uLCBzZWN0aW9uIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZF90b3BpY3M6IHNlbGVjdGVkX3RvcGljcyA/IHNlbGVjdGVkX3RvcGljcyA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICB0aWxlX2lkLFxuICAgICAgICAgICAgICAgICAgdG9waWMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHsgY2FyZF90eXBlOiBzaXRlLmZsaWdodF9pZCA/IFwic3BvY1wiIDogXCJvcmdhbmljXCIgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCB1c2VyRXZlbnREYXRhID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBldmVudDogZXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2l0ZUluZm9cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZGlzcGF0Y2godXNlckV2ZW50KHVzZXJFdmVudERhdGEpKTtcbiAgICAgICAgICAgICAgaWYgKGltcHJlc3Npb24gJiYgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cykge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKGltcHJlc3Npb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgfSk7XG5cbiAgICAvLyBUaGlzIGlzIGZvciBhY2Nlc3NpYmlsaXR5IHRvIHN1cHBvcnQgbWFraW5nIGVhY2ggaXRlbSB0YWJiYWJsZS5cbiAgICAvLyBXZSB3YW50IHRvIGtub3cgd2hpY2ggaXRlbSBpcyB0aGUgZmlyc3QgYW5kIHdoaWNoIGl0ZW1cbiAgICAvLyBpcyB0aGUgbGFzdCwgc28gd2UgY2FuIGNsb3NlIHRoZSBjb250ZXh0IG1lbnUgYWNjb3JkaW5nbHkuXG4gICAgbGlua01lbnVPcHRpb25zWzBdLmZpcnN0ID0gdHJ1ZTtcbiAgICBsaW5rTWVudU9wdGlvbnNbbGlua01lbnVPcHRpb25zLmxlbmd0aCAtIDFdLmxhc3QgPSB0cnVlO1xuICAgIHJldHVybiBsaW5rTWVudU9wdGlvbnM7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxDb250ZXh0TWVudVxuICAgICAgICBvblVwZGF0ZT17dGhpcy5wcm9wcy5vblVwZGF0ZX1cbiAgICAgICAgb25TaG93PXt0aGlzLnByb3BzLm9uU2hvd31cbiAgICAgICAgb3B0aW9ucz17dGhpcy5nZXRPcHRpb25zKCl9XG4gICAgICAgIGtleWJvYXJkQWNjZXNzPXt0aGlzLnByb3BzLmtleWJvYXJkQWNjZXNzfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IGdldFN0YXRlID0gc3RhdGUgPT4gKHtcbiAgaXNQcml2YXRlQnJvd3NpbmdFbmFibGVkOiBzdGF0ZS5QcmVmcy52YWx1ZXMuaXNQcml2YXRlQnJvd3NpbmdFbmFibGVkLFxuICBwbGF0Zm9ybTogc3RhdGUuUHJlZnMudmFsdWVzLnBsYXRmb3JtLFxufSk7XG5leHBvcnQgY29uc3QgTGlua01lbnUgPSBjb25uZWN0KGdldFN0YXRlKShfTGlua01lbnUpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVCdXR0b24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dDb250ZXh0TWVudTogZmFsc2UsXG4gICAgICBjb250ZXh0TWVudUtleWJvYXJkOiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlEb3duID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbkNvbnRleHRNZW51KGlzS2V5Qm9hcmQpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblVwZGF0ZSkge1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZSh0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93Q29udGV4dE1lbnU6IHRydWUsXG4gICAgICBjb250ZXh0TWVudUtleWJvYXJkOiBpc0tleUJvYXJkLFxuICAgIH0pO1xuICB9XG5cbiAgb25DbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5vcGVuQ29udGV4dE1lbnUoZmFsc2UsIGV2ZW50KTtcbiAgfVxuXG4gIG9uS2V5RG93bihldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIiB8fCBldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vcGVuQ29udGV4dE1lbnUodHJ1ZSwgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uVXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHNob3dDb250ZXh0TWVudSk7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93Q29udGV4dE1lbnUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0b29sdGlwQXJncywgdG9vbHRpcCwgY2hpbGRyZW4sIHJlZkZ1bmN0aW9uIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgc2hvd0NvbnRleHRNZW51LCBjb250ZXh0TWVudUtleWJvYXJkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9e3Rvb2x0aXB9XG4gICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9e3Rvb2x0aXBBcmdzID8gSlNPTi5zdHJpbmdpZnkodG9vbHRpcEFyZ3MpIDogbnVsbH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtYnV0dG9uIGljb25cIlxuICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vbktleURvd259XG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgIHJlZj17cmVmRnVuY3Rpb259XG4gICAgICAgICAgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXggfHwgMH1cbiAgICAgICAgICBvbkZvY3VzPXt0aGlzLnByb3BzLm9uRm9jdXN9XG4gICAgICAgIC8+XG4gICAgICAgIHtzaG93Q29udGV4dE1lbnVcbiAgICAgICAgICA/IFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgICBrZXlib2FyZEFjY2VzczogY29udGV4dE1lbnVLZXlib2FyZCxcbiAgICAgICAgICAgICAgb25VcGRhdGU6IHRoaXMub25VcGRhdGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbH1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5cbmV4cG9ydCBjbGFzcyBfRFNMaW5rTWVudSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpbmRleCwgZGlzcGF0Y2ggfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IFRPUF9TVE9SSUVTX0NPTlRFWFRfTUVOVV9PUFRJT05TO1xuICAgIGNvbnN0IFBSRUZfUkVQT1JUX0FEU19FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0ucmVwb3J0QWRzLmVuYWJsZWRcIjtcbiAgICBjb25zdCBwcmVmcyA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIGNvbnN0IHNob3dBZHNSZXBvcnRpbmcgPSBwcmVmc1tQUkVGX1JFUE9SVF9BRFNfRU5BQkxFRF07XG4gICAgY29uc3QgaXNTcG9jID0gdGhpcy5wcm9wcy5jYXJkX3R5cGUgPT09IFwic3BvY1wiO1xuXG4gICAgaWYgKGlzU3BvYykge1xuICAgICAgVE9QX1NUT1JJRVNfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gICAgICAgIFwiQmxvY2tVcmxcIixcbiAgICAgICAgLi4uKHNob3dBZHNSZXBvcnRpbmcgPyBbXCJSZXBvcnRBZFwiXSA6IFtdKSxcbiAgICAgICAgXCJNYW5hZ2VTcG9uc29yZWRDb250ZW50XCIsXG4gICAgICAgIFwiT3VyU3BvbnNvcnNBbmRZb3VyUHJpdmFjeVwiLFxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgVE9QX1NUT1JJRVNfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gICAgICAgIFwiQ2hlY2tCb29rbWFya1wiLFxuICAgICAgICBcIlNlcGFyYXRvclwiLFxuICAgICAgICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICAgICAgICBcIk9wZW5JblByaXZhdGVXaW5kb3dcIixcbiAgICAgICAgXCJTZXBhcmF0b3JcIixcbiAgICAgICAgXCJCbG9ja1VybFwiLFxuICAgICAgICAuLi4odGhpcy5wcm9wcy5zZWN0aW9uID8gW1wiUmVwb3J0Q29udGVudFwiXSA6IFtdKSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgY29uc3QgdHlwZSA9IHRoaXMucHJvcHMudHlwZSB8fCBcIkRJU0NPVkVSWV9TVFJFQU1cIjtcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMucHJvcHMudGl0bGUgfHwgdGhpcy5wcm9wcy5zb3VyY2U7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtcG9zaXRpb24tY29udGFpbmVyXCI+XG4gICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgIHRvb2x0aXA9e1wibmV3dGFiLW1lbnUtY29udGVudC10b29sdGlwXCJ9XG4gICAgICAgICAgdG9vbHRpcEFyZ3M9e3sgdGl0bGUgfX1cbiAgICAgICAgICBvblVwZGF0ZT17dGhpcy5wcm9wcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgID5cbiAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgIHNvdXJjZT17dHlwZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgb25TaG93PXt0aGlzLnByb3BzLm9uTWVudVNob3d9XG4gICAgICAgICAgICBvcHRpb25zPXtUT1BfU1RPUklFU19DT05URVhUX01FTlVfT1BUSU9OU31cbiAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgICB1c2VyRXZlbnQ9e2FjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudH1cbiAgICAgICAgICAgIHNpdGU9e3tcbiAgICAgICAgICAgICAgcmVmZXJyZXI6IFwiaHR0cHM6Ly9nZXRwb2NrZXQuY29tL3JlY29tbWVuZGF0aW9uc1wiLFxuICAgICAgICAgICAgICB0aXRsZTogdGhpcy5wcm9wcy50aXRsZSxcbiAgICAgICAgICAgICAgdHlwZTogdGhpcy5wcm9wcy50eXBlLFxuICAgICAgICAgICAgICB1cmw6IHRoaXMucHJvcHMudXJsLFxuICAgICAgICAgICAgICBndWlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICBwb2NrZXRfaWQ6IHRoaXMucHJvcHMucG9ja2V0X2lkLFxuICAgICAgICAgICAgICBjYXJkX3R5cGU6IHRoaXMucHJvcHMuY2FyZF90eXBlLFxuICAgICAgICAgICAgICBzaGltOiB0aGlzLnByb3BzLnNoaW0sXG4gICAgICAgICAgICAgIGJvb2ttYXJrR3VpZDogdGhpcy5wcm9wcy5ib29rbWFya0d1aWQsXG4gICAgICAgICAgICAgIGZsaWdodF9pZDogdGhpcy5wcm9wcy5mbGlnaHRJZCxcbiAgICAgICAgICAgICAgdGlsZV9pZDogdGhpcy5wcm9wcy50aWxlX2lkLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbl9pZDogdGhpcy5wcm9wcy5yZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcDogdGhpcy5wcm9wcy5maXJzdFZpc2libGVUaW1lc3RhbXAsXG4gICAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0OiB0aGlzLnByb3BzLnJlY29tbWVuZGVkX2F0LFxuICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rOiB0aGlzLnByb3BzLnJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgICAgIHRvcGljOiB0aGlzLnByb3BzLnRvcGljLFxuICAgICAgICAgICAgICBpc19saXN0X2NhcmQ6IHRoaXMucHJvcHMuaXNfbGlzdF9jYXJkLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogaW5kZXgsXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLmZvcm1hdCA/IHsgZm9ybWF0OiB0aGlzLnByb3BzLmZvcm1hdCB9IDoge30pLFxuICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zZWN0aW9uXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb246IHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uX3Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkOiB0aGlzLnByb3BzLmlzX3NlY3Rpb25fZm9sbG93ZWQsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBEU0xpbmtNZW51ID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX0RTTGlua01lbnUpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHBzOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgUFJFRl9XRUFUSEVSX1BMQUNFTUVOVCA9IFwid2VhdGhlci5wbGFjZW1lbnRcIjtcbmNvbnN0IFBSRUZfREFJTFlfQlJJRUZfU0VDVElPTklEID0gXCJkaXNjb3ZlcnlzdHJlYW0uZGFpbHlCcmllZi5zZWN0aW9uSWRcIjtcbmNvbnN0IFBSRUZfREFJTFlfQlJJRUZfRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLmRhaWx5QnJpZWYuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9TVE9SSUVTX0VOQUJMRUQgPSBcImZlZWRzLnNlY3Rpb24udG9wc3Rvcmllc1wiO1xuY29uc3QgUFJFRl9TWVNURU1fU1RPUklFU19FTkFCTEVEID0gXCJmZWVkcy5zeXN0ZW0udG9wc3Rvcmllc1wiO1xuXG4vKipcbiAqIEEgY3VzdG9tIHJlYWN0IGhvb2sgdGhhdCBzZXRzIHVwIGFuIEludGVyc2VjdGlvbk9ic2VydmVyIHRvIG9ic2VydmUgYSBzaW5nbGVcbiAqIG9yIGxpc3Qgb2YgZWxlbWVudHMgYW5kIHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgZWxlbWVudCBjb21lcyBpbnRvIHRoZSB2aWV3cG9ydFxuICogTm90ZTogVGhlIHJlZnMgdXNlZCBzaG91bGQgYmUgYW4gYXJyYXkgdHlwZVxuICogQGZ1bmN0aW9uIHVzZUludGVyc2VjdGlvbk9ic2VydmVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gZWxlbWVudCBjb21lcyBpbnRvIHRoZSB2aWV3cG9ydFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIG9iamVjdCBwYXNzZWQgdG8gSW50ZXJzZWN0aW9uIE9ic2VydmVyOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0ludGVyc2VjdGlvbk9ic2VydmVyL0ludGVyc2VjdGlvbk9ic2VydmVyI29wdGlvbnNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzU2luZ2xlID0gZmFsc2VdIEJvb2xlYW4gaWYgdGhlIGVsZW1lbnRzIGFyZSBhbiBhcnJheSBvciBzaW5nbGUgZWxlbWVudFxuICpcbiAqIEByZXR1cm5zIHtSZWFjdC5NdXRhYmxlUmVmT2JqZWN0fSBhIHJlZiBjb250YWluaW5nIGFuIGFycmF5IG9mIGVsZW1lbnRzIG9yIHNpbmdsZSBlbGVtZW50XG4gKlxuICpcbiAqXG4gKi9cbmZ1bmN0aW9uIHVzZUludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCB0aHJlc2hvbGQgPSAwLjMpIHtcbiAgY29uc3QgZWxlbWVudHNSZWYgPSB1c2VSZWYoW10pO1xuICBjb25zdCB0cmlnZ2VyZWRFbGVtZW50cyA9IHVzZVJlZihuZXcgV2Vha1NldCgpKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIGVudHJpZXMgPT4ge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmXG4gICAgICAgICAgICAhdHJpZ2dlcmVkRWxlbWVudHMuY3VycmVudC5oYXMoZW50cnkudGFyZ2V0KVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdHJpZ2dlcmVkRWxlbWVudHMuY3VycmVudC5hZGQoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVudHJ5LnRhcmdldCk7XG4gICAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHsgdGhyZXNob2xkIH1cbiAgICApO1xuXG4gICAgZWxlbWVudHNSZWYuY3VycmVudC5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGlmIChlbCAmJiAhdHJpZ2dlcmVkRWxlbWVudHMuY3VycmVudC5oYXMoZWwpKSB7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiB0byBkaXNjb25uZWN0IG9ic2VydmVyIG9uIHVubW91bnRcbiAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9LCBbY2FsbGJhY2ssIHRocmVzaG9sZF0pO1xuXG4gIHJldHVybiBlbGVtZW50c1JlZjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBhY3RpdmUgY2FyZCBzaXplIChcInNtYWxsXCIsIFwibWVkaXVtXCIsIG9yIFwibGFyZ2VcIikgYmFzZWQgb24gdGhlIHNjcmVlbiB3aWR0aFxuICogYW5kIGNsYXNzIG5hbWVzIGFwcGxpZWQgdG8gdGhlIGNhcmQgZWxlbWVudCBhdCB0aGUgdGltZSBvZiBhbiBldmVudCAoZXhhbXBsZTogY2xpY2spXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIGN1cnJlbnQgd2luZG93IHdpZHRoIChpbiBwaXhlbHMpLlxuICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gY2xhc3NOYW1lcyAtIEEgc3RyaW5nIG9yIGFycmF5IG9mIGNsYXNzIG5hbWVzIGFwcGxpZWQgdG8gdGhlIHNlY3Rpb25zIGNhcmQuXG4gKiBAcGFyYW0ge2Jvb2xlYW5bXX0gc2VjdGlvbnNFbmFibGVkIC0gSWYgc2VjdGlvbnMgaXMgbm90IGVuYWJsZWQsIGFsbCBjYXJkcyBhcmUgYG1lZGl1bS1jYXJkYFxuICogQHBhcmFtIHtudW1iZXJ9IGZsaWdodElkIC0gRXJyb3IgZWdlIGNhc2U6IFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSBjYWxsZWQgb24gc3BvY3MsIHdoaWNoIGhhdmUgZmxpZ2h0SWRcbiAqIEByZXR1cm5zIHtcInNtYWxsLWNhcmRcIiB8IFwibWVkaXVtLWNhcmRcIiB8IFwibGFyZ2UtY2FyZFwiIHwgbnVsbH0gVGhlIGFjdGl2ZSBjYXJkIHR5cGUsIG9yIG51bGwgaWYgbm9uZSBpcyBtYXRjaGVkLlxuICovXG5mdW5jdGlvbiBnZXRBY3RpdmVDYXJkU2l6ZShzY3JlZW5XaWR0aCwgY2xhc3NOYW1lcywgc2VjdGlvbnNFbmFibGVkLCBmbGlnaHRJZCkge1xuICAvLyBPbmx5IGFwcGxpZXMgdG8gc3BvbnNvcmVkIGNvbnRlbnRcbiAgaWYgKGZsaWdodElkKSB7XG4gICAgcmV0dXJuIFwic3BvY1wiO1xuICB9XG5cbiAgLy8gRGVmYXVsdCBsYXlvdXQgb25seSBzdXBwb3J0cyBgbWVkaXVtLWNhcmRgXG4gIGlmICghc2VjdGlvbnNFbmFibGVkKSB7XG4gICAgLy8gTWlzc2luZyBhcmd1bWVudHNcbiAgICByZXR1cm4gXCJtZWRpdW0tY2FyZFwiO1xuICB9XG5cbiAgLy8gUmV0dXJuIG51bGwgaWYgbm8gdmFsdWVzIGFyZSBhdmFpbGFibGVcbiAgaWYgKCFzY3JlZW5XaWR0aCB8fCAhY2xhc3NOYW1lcykge1xuICAgIC8vIE1pc3NpbmcgYXJndW1lbnRzXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBjbGFzc0xpc3QgPSBjbGFzc05hbWVzLnNwbGl0KFwiIFwiKTtcblxuICAvLyBFYWNoIGJyZWFrcG9pbnQgY29ycmVzcG9uZHMgdG8gYSBtaW5pbXVtIHNjcmVlbiB3aWR0aCBhbmQgaXRzIGFzc29jaWF0ZWQgY29sdW1uIGNsYXNzXG4gIGNvbnN0IGJyZWFrcG9pbnRzID0gW1xuICAgIHsgbWluOiAxMzc0LCBjb2x1bW46IFwiY29sLTRcIiB9LCAvLyAkYnJlYWstcG9pbnQtc2VjdGlvbnMtdmFyaWFudFxuICAgIHsgbWluOiAxMTIyLCBjb2x1bW46IFwiY29sLTNcIiB9LCAvLyAkYnJlYWstcG9pbnQtd2lkZXN0XG4gICAgeyBtaW46IDcyNCwgY29sdW1uOiBcImNvbC0yXCIgfSwgLy8gJGJyZWFrLXBvaW50LWxheW91dC12YXJpYW50XG4gICAgeyBtaW46IDAsIGNvbHVtbjogXCJjb2wtMVwiIH0sIC8vIChkZWZhdWx0IGxheW91dClcbiAgXTtcblxuICBjb25zdCBjYXJkVHlwZXMgPSBbXCJzbWFsbFwiLCBcIm1lZGl1bVwiLCBcImxhcmdlXCJdO1xuXG4gIC8vIERldGVybWluZSB3aGljaCBjb2x1bW4gaXMgYWN0aXZlIGJhc2VkIG9uIHRoZSBjdXJyZW50IHNjcmVlbiB3aWR0aFxuICBjb25zdCBjdXJyQ29sdW1uQ291bnQgPSBicmVha3BvaW50cy5maW5kKGJwID0+IHNjcmVlbldpZHRoID49IGJwLm1pbikuY29sdW1uO1xuXG4gIC8vIE1hdGNoIHRoZSBjYXJkIHR5cGUgZm9yIHRoYXQgY29sdW1uIGNvdW50XG4gIGZvciAobGV0IHR5cGUgb2YgY2FyZFR5cGVzKSB7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gYCR7Y3VyckNvbHVtbkNvdW50fS0ke3R5cGV9YDtcbiAgICBpZiAoY2xhc3NMaXN0LmluY2x1ZGVzKGNsYXNzTmFtZSkpIHtcbiAgICAgIC8vIFNwZWNpYWwgY2FzZTogYmVsb3cgJGJyZWFrLXBvaW50LW1lZGl1bSAoNjEwcHgpLCByZXBvcnQgYGNvbC0xLXNtYWxsYCBhcyBtZWRpdW1cbiAgICAgIGlmIChcbiAgICAgICAgc2NyZWVuV2lkdGggPCA2MTAgJiZcbiAgICAgICAgY3VyckNvbHVtbkNvdW50ID09PSBcImNvbC0xXCIgJiZcbiAgICAgICAgdHlwZSA9PT0gXCJzbWFsbFwiXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIFwibWVkaXVtLWNhcmRcIjtcbiAgICAgIH1cbiAgICAgIC8vIFdpbGwgYmUgZWl0aGVyIFwic21hbGwtY2FyZFwiLCBcIm1lZGl1bS1jYXJkXCIsIG9yIFwibGFyZ2UtY2FyZFwiXG4gICAgICByZXR1cm4gYCR7dHlwZX0tY2FyZGA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IENPTkZFVFRJX1ZBUlMgPSBbXG4gIFwiLS1jb2xvci1yZWQtNDBcIixcbiAgXCItLWNvbG9yLXllbGxvdy00MFwiLFxuICBcIi0tY29sb3ItcHVycGxlLTQwXCIsXG4gIFwiLS1jb2xvci1ibHVlLTQwXCIsXG4gIFwiLS1jb2xvci1ncmVlbi00MFwiLFxuXTtcblxuLyoqXG4gKiBDdXN0b20gaG9vayB0byBhbmltYXRlIGEgY29uZmV0dGkgYnVyc3QuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGNvdW50ICAgTnVtYmVyIG9mIHBhcnRpY2xlc1xuICogQHBhcmFtIHtudW1iZXJ9IHNwcmVhZCAgc3ByZWFkIG9mIGNvbmZldHRpXG4gKiBAcmV0dXJucyB7W1JlYWN0LlJlZk9iamVjdDxIVE1MQ2FudmFzRWxlbWVudD4sICgpID0+IHZvaWRdfVxuICovXG5mdW5jdGlvbiB1c2VDb25mZXR0aShjb3VudCA9IDgwLCBzcHJlYWQgPSBNYXRoLlBJIC8gMykge1xuICAvLyBhdm9pZCBlcnJvcnMgZnJvbSBhYm91dDpob21lIGNhY2hlXG4gIGNvbnN0IHByZWZlcnNSZWR1Y2VkTW90aW9uID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHdpbmRvdy5tYXRjaE1lZGlhID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIpLm1hdGNoZXM7XG5cbiAgbGV0IGNvbG9ycztcbiAgLy8gaWYgaW4gYWJvdXRob21lIGNhY2hlLCBnZXRDb21wdXRlZFN0eWxlIHdpbGwgbm90IGJlIGF2YWlsYWJsZVxuICBpZiAodHlwZW9mIGdldENvbXB1dGVkU3R5bGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnN0IHN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICBjb2xvcnMgPSBDT05GRVRUSV9WQVJTLm1hcCh2YXJpYWJsZSA9PlxuICAgICAgc3R5bGVzLmdldFByb3BlcnR5VmFsdWUodmFyaWFibGUpLnRyaW0oKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29sb3JzID0gW1wiI2ZhNWU3NVwiLCBcIiNkZTk2MDBcIiwgXCIjYzY3MWViXCIsIFwiIzNmOTRmZlwiLCBcIiMzN2I4NDdcIl07XG4gIH1cblxuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHBhcnRpY2xlc1JlZiA9IHVzZVJlZihbXSk7XG4gIGNvbnN0IGFuaW1hdGlvbkZyYW1lUmVmID0gdXNlUmVmKDApO1xuXG4gIC8vIGluaXRpYWxpemUvcmVzZXQgcG9vbFxuICBjb25zdCBpbml0aWFsaXplQ29uZmV0dGkgPSB1c2VDYWxsYmFjayhcbiAgICAod2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICAgIGNvbnN0IGNlbnRlclkgPSBoZWlnaHQ7XG4gICAgICBjb25zdCBwb29sID0gcGFydGljbGVzUmVmLmN1cnJlbnQ7XG5cbiAgICAgIC8vIENyZWF0ZSBvciBvdmVyd3JpdGUgZWFjaCBwYXJ0aWNsZeKAmXMgaW5pdGlhbCBzdGF0ZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5QSSAvIDIgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiBzcHJlYWQ7XG4gICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBjb2xvciA9IGNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKV07XG5cbiAgICAgICAgcG9vbFtpXSA9IHtcbiAgICAgICAgICB4OiBjZW50ZXJYICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNDAsXG4gICAgICAgICAgeTogY2VudGVyWSxcbiAgICAgICAgICBjb3MsXG4gICAgICAgICAgc2luLFxuICAgICAgICAgIHZlbG9jaXR5OiBNYXRoLnJhbmRvbSgpICogNiArIDYsXG4gICAgICAgICAgZ3Jhdml0eTogMC4zLFxuICAgICAgICAgIGRlY2F5OiAwLjk2LFxuICAgICAgICAgIHNpemU6IDgsXG4gICAgICAgICAgY29sb3IsXG4gICAgICAgICAgbGlmZTogMCxcbiAgICAgICAgICBtYXhMaWZlOiAxMDAsXG4gICAgICAgICAgdGlsdDogTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyLFxuICAgICAgICAgIHRpbHRTcGVlZDogTWF0aC5yYW5kb20oKSAqIDAuMiArIDAuMDUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBbY291bnQsIHNwcmVhZCwgY29sb3JzXVxuICApO1xuXG4gIC8vIENvcmUgYW5pbWF0aW9uIGxvb3Ag4oCUIHVwZGF0ZXMgcGh5c2ljcyAmIHJlbmRlcnMgZWFjaCBmcmFtZVxuICBjb25zdCBhbmltYXRlUGFydGljbGVzID0gdXNlQ2FsbGJhY2soY2FudmFzID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNhbnZhcztcbiAgICBjb25zdCBwb29sID0gcGFydGljbGVzUmVmLmN1cnJlbnQ7XG5cbiAgICAvLyBDbGVhciB0aGUgZW50aXJlIGNhbnZhcyBlYWNoIGZyYW1lXG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBsZXQgYW55QWxpdmUgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBwYXJ0aWNsZSBvZiBwb29sKSB7XG4gICAgICBpZiAocGFydGljbGUubGlmZSA8IHBhcnRpY2xlLm1heExpZmUpIHtcbiAgICAgICAgYW55QWxpdmUgPSB0cnVlO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBlYWNoIHBhcnRpY2xlcyBwaHlzaWNzOiBwb3NpdGlvbiwgdmVsb2NpdHkgZGVjYXksIGdyYXZpdHksIHRpbHQsIGxpZmVzcGFuXG4gICAgICAgIHBhcnRpY2xlLnZlbG9jaXR5ICo9IHBhcnRpY2xlLmRlY2F5O1xuICAgICAgICBwYXJ0aWNsZS54ICs9IHBhcnRpY2xlLmNvcyAqIHBhcnRpY2xlLnZlbG9jaXR5O1xuICAgICAgICBwYXJ0aWNsZS55IC09IHBhcnRpY2xlLnNpbiAqIHBhcnRpY2xlLnZlbG9jaXR5O1xuICAgICAgICBwYXJ0aWNsZS55ICs9IHBhcnRpY2xlLmdyYXZpdHk7XG4gICAgICAgIHBhcnRpY2xlLnRpbHQgKz0gcGFydGljbGUudGlsdFNwZWVkO1xuICAgICAgICBwYXJ0aWNsZS5saWZlICs9IDE7XG4gICAgICB9XG5cbiAgICAgIC8vIERyYXc6IGFwcGx5IGFscGhhLCB0cmFuc2Zvcm0gJiBkcmF3IGEgcm90YXRlZCwgc2NhbGVkIHNxdWFyZVxuICAgICAgY29uc3QgYWxwaGFWYWx1ZSA9IDEgLSBwYXJ0aWNsZS5saWZlIC8gcGFydGljbGUubWF4TGlmZTtcbiAgICAgIGNvbnN0IHNjYWxlWSA9IE1hdGguc2luKHBhcnRpY2xlLnRpbHQpO1xuXG4gICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gYWxwaGFWYWx1ZTtcbiAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIHBhcnRpY2xlLngsIHBhcnRpY2xlLnkpO1xuICAgICAgY29udGV4dC5yb3RhdGUoTWF0aC5QSSAvIDQpO1xuICAgICAgY29udGV4dC5zY2FsZSgxLCBzY2FsZVkpO1xuXG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHBhcnRpY2xlLmNvbG9yO1xuICAgICAgY29udGV4dC5maWxsUmVjdChcbiAgICAgICAgLXBhcnRpY2xlLnNpemUgLyAyLFxuICAgICAgICAtcGFydGljbGUuc2l6ZSAvIDIsXG4gICAgICAgIHBhcnRpY2xlLnNpemUsXG4gICAgICAgIHBhcnRpY2xlLnNpemVcbiAgICAgICk7XG5cbiAgICAgIC8vIHJlc2V0IGVhY2ggcGFydGljbGVcbiAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgfVxuXG4gICAgaWYgKGFueUFsaXZlKSB7XG4gICAgICAvLyBjb250aW51ZSB0aGUgYW5pbWF0aW9uXG4gICAgICBhbmltYXRpb25GcmFtZVJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgYW5pbWF0ZVBhcnRpY2xlcyhjYW52YXMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gUmVzZXRzIGFuZCBzdGFydHMgYSBuZXcgY29uZmV0dGkgYW5pbWF0aW9uXG4gIGNvbnN0IGZpcmVDb25mZXR0aSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAocHJlZmVyc1JlZHVjZWRNb3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmPy5jdXJyZW50O1xuICAgIGlmIChjYW52YXMpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpO1xuICAgICAgaW5pdGlhbGl6ZUNvbmZldHRpKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICBhbmltYXRlUGFydGljbGVzKGNhbnZhcyk7XG4gICAgfVxuICB9LCBbaW5pdGlhbGl6ZUNvbmZldHRpLCBhbmltYXRlUGFydGljbGVzLCBwcmVmZXJzUmVkdWNlZE1vdGlvbl0pO1xuXG4gIHJldHVybiBbY2FudmFzUmVmLCBmaXJlQ29uZmV0dGldO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RXZWF0aGVyUGxhY2VtZW50KHN0YXRlKSB7XG4gIGNvbnN0IHByZWZzID0gc3RhdGUuUHJlZnMudmFsdWVzIHx8IHt9O1xuXG4gIC8vIEludGVudDogb25seSBwbGFjZWQgaW4gc2VjdGlvbiBpZiBleHBsaWNpdGx5IHJlcXVlc3RlZFxuICBjb25zdCBwbGFjZW1lbnRQcmVmID1cbiAgICBwcmVmcy50cmFpbmhvcENvbmZpZz8uZGFpbHlCcmllZmluZz8ucGxhY2VtZW50IHx8XG4gICAgcHJlZnNbUFJFRl9XRUFUSEVSX1BMQUNFTUVOVF07XG5cbiAgaWYgKHBsYWNlbWVudFByZWYgPT09IFwiaGVhZGVyXCIgfHwgIXBsYWNlbWVudFByZWYpIHtcbiAgICByZXR1cm4gXCJoZWFkZXJcIjtcbiAgfVxuXG4gIGNvbnN0IHNlY3Rpb25zID1cbiAgICBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0uZmVlZHMuZGF0YVtcbiAgICAgIFwiaHR0cHM6Ly9tZXJpbm8uc2VydmljZXMubW96aWxsYS5jb20vYXBpL3YxL2N1cmF0ZWQtcmVjb21tZW5kYXRpb25zXCJcbiAgICBdPy5kYXRhLnNlY3Rpb25zID8/IFtdO1xuICAvLyBjaGVjayB0aGUgZm9sbG93aW5nIHByZWZzIHRvIG1ha2Ugc3VyZSB3ZWF0aGVyIGlzIGVsbGlnaWJsZSB0byBiZSBwbGFjZWQgaW4gc2VjdGlvbnNcbiAgLy8gMS4gVGhlIGRhaWx5IGJyaWVpZm5nIHNlY3Rpb24gbXVzdCBiZSBhdmFpbGlibGUgYW5kIGluIHRoZSB0b3AgcG9zaXRpb25cbiAgLy8gMi4gVGhhdCB0aGUgZGFpbHkgYnJpZWZpbmcgc2VjdGlvbiBoYXMgbm90IGJlZW4gYmxvY2tlZFxuICAvLyAzLiBUaGF0IHJlY2NvbWVuZGVkIHN0b3JpZXMgYXJlIHRydW5lZCBvblxuICAvLyBPdGhlcndpc2UgaXQgc2hvdWxkIGJlIHBsYWNlZCBpbiB0aGUgaGVhZGVyXG4gIGNvbnN0IHBvY2tldEVuYWJsZWQgPVxuICAgIHByZWZzW1BSRUZfU1RPUklFU19FTkFCTEVEXSAmJiBwcmVmc1tQUkVGX1NZU1RFTV9TVE9SSUVTX0VOQUJMRURdO1xuICBjb25zdCBzZWN0aW9uUGVyc29uYWxpemF0aW9uID1cbiAgICBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0/LnNlY3Rpb25QZXJzb25hbGl6YXRpb24gfHwge307XG4gIGNvbnN0IGRhaWx5QnJpZWZFbmFibGVkID1cbiAgICBwcmVmcy50cmFpbmhvcENvbmZpZz8uZGFpbHlCcmllZmluZz8uZW5hYmxlZCB8fFxuICAgIHByZWZzW1BSRUZfREFJTFlfQlJJRUZfRU5BQkxFRF07XG4gIGNvbnN0IHNlY3Rpb25JZCA9XG4gICAgcHJlZnMudHJhaW5ob3BDb25maWc/LmRhaWx5QnJpZWZpbmc/LnNlY3Rpb25JZCB8fFxuICAgIHByZWZzW1BSRUZfREFJTFlfQlJJRUZfU0VDVElPTklEXTtcbiAgY29uc3Qgbm90QmxvY2tlZCA9IHNlY3Rpb25JZCAmJiAhc2VjdGlvblBlcnNvbmFsaXphdGlvbltzZWN0aW9uSWRdPy5pc0Jsb2NrZWQ7XG4gIGxldCBmaWx0ZXJlZFNlY3Rpb25zID0gc2VjdGlvbnMuZmlsdGVyKFxuICAgIHNlY3Rpb24gPT4gIXNlY3Rpb25QZXJzb25hbGl6YXRpb25bc2VjdGlvbi5zZWN0aW9uS2V5XT8uaXNCbG9ja2VkXG4gICk7XG4gIGNvbnN0IGZvdW5kU2VjdGlvbiA9IGZpbHRlcmVkU2VjdGlvbnMuZmluZChcbiAgICBzZWN0aW9uID0+IHNlY3Rpb24uc2VjdGlvbktleSA9PT0gc2VjdGlvbklkXG4gICk7XG4gIGNvbnN0IGlzVG9wU2VjdGlvbiA9XG4gICAgZm91bmRTZWN0aW9uPy5yZWNlaXZlZFJhbmsgPT09IDAgfHxcbiAgICBmaWx0ZXJlZFNlY3Rpb25zLmluZGV4T2YoZm91bmRTZWN0aW9uKSA9PT0gMDtcblxuICBjb25zdCBlbGlnaWJsZSA9XG4gICAgcG9ja2V0RW5hYmxlZCAmJlxuICAgIGRhaWx5QnJpZWZFbmFibGVkICYmXG4gICAgc2VjdGlvbklkICYmXG4gICAgbm90QmxvY2tlZCAmJlxuICAgIGlzVG9wU2VjdGlvbjtcbiAgcmV0dXJuIGVsaWdpYmxlID8gXCJzZWN0aW9uXCIgOiBcImhlYWRlclwiO1xufVxuXG5leHBvcnQge1xuICB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcixcbiAgZ2V0QWN0aXZlQ2FyZFNpemUsXG4gIHVzZUNvbmZldHRpLFxuICBzZWxlY3RXZWF0aGVyUGxhY2VtZW50LFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfU09VUkNFID0gXCJUT1BfU0lURVNcIjtcbmV4cG9ydCBjb25zdCBUT1BfU0lURVNfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiQ2hlY2tQaW5Ub3BTaXRlXCIsXG4gIFwiRWRpdFRvcFNpdGVcIixcbiAgXCJTZXBhcmF0b3JcIixcbiAgXCJPcGVuSW5OZXdXaW5kb3dcIixcbiAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gIFwiU2VwYXJhdG9yXCIsXG4gIFwiQmxvY2tVcmxcIixcbiAgXCJEZWxldGVVcmxcIixcbl07XG5leHBvcnQgY29uc3QgVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiT3BlbkluTmV3V2luZG93XCIsXG4gIFwiT3BlbkluUHJpdmF0ZVdpbmRvd1wiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG4gIFwiU2hvd1ByaXZhY3lJbmZvXCIsXG5dO1xuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19TUE9OU09SRURfUE9TSVRJT05fQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gIFwiT3BlbkluTmV3V2luZG93XCIsXG4gIFwiT3BlbkluUHJpdmF0ZVdpbmRvd1wiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG4gIFwiQWJvdXRTcG9uc29yZWRcIixcbl07XG4vLyB0aGUgc3BlY2lhbCB0b3Agc2l0ZSBmb3Igc2VhcmNoIHNob3J0Y3V0IGV4cGVyaW1lbnQgY2FuIG9ubHkgaGF2ZSB0aGUgb3B0aW9uIHRvIHVucGluICh3aGljaCByZW1vdmVzKSB0aGUgdG9wc2l0ZVxuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICBcIkNoZWNrUGluVG9wU2l0ZVwiLFxuICBcIlNlcGFyYXRvclwiLFxuICBcIkJsb2NrVXJsXCIsXG5dO1xuLy8gbWluaW11bSBzaXplIG5lY2Vzc2FyeSB0byBzaG93IGEgcmljaCBpY29uIGluc3RlYWQgb2YgYSBzY3JlZW5zaG90XG5leHBvcnQgY29uc3QgTUlOX1JJQ0hfRkFWSUNPTl9TSVpFID0gOTY7XG4vLyBtaW5pbXVtIHNpemUgbmVjZXNzYXJ5IHRvIHNob3cgYW55IGljb25cbmV4cG9ydCBjb25zdCBNSU5fU01BTExfRkFWSUNPTl9TSVpFID0gMTY7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBnZXRBY3RpdmVDYXJkU2l6ZSB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHNcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19TT1VSQ0UgfSBmcm9tIFwiLi4vVG9wU2l0ZXMvVG9wU2l0ZXNDb25zdGFudHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgVklTSUJMRSA9IFwidmlzaWJsZVwiO1xuY29uc3QgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcblxuLy8gUGVyIGFuYWx5dGljYWwgcmVxdWlyZW1lbnQsIHdlIHNldCB0aGUgbWluaW1hbCBpbnRlcnNlY3Rpb24gcmF0aW8gdG9cbi8vIDAuNSwgYW5kIGFuIGltcHJlc3Npb24gaXMgaWRlbnRpZmllZCB3aGVuIHRoZSB3cmFwcGVkIGl0ZW0gaGFzIGF0IGxlYXN0XG4vLyA1MCUgdmlzaWJpbGl0eS5cbi8vXG4vLyBUaGlzIGNvbnN0YW50IGlzIGV4cG9ydGVkIGZvciB1bml0IHRlc3RcbmV4cG9ydCBjb25zdCBJTlRFUlNFQ1RJT05fUkFUSU8gPSAwLjU7XG5cbi8qKlxuICogSW1wcmVzc2lvbiB3cmFwcGVyIGZvciBEaXNjb3ZlcnkgU3RyZWFtIHJlbGF0ZWQgUmVhY3QgY29tcG9uZW50cy5cbiAqXG4gKiBJdCBtYWtlcyB1c2Ugb2YgdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgdG8gZGV0ZWN0IHRoZSB2aXNpYmlsaXR5LFxuICogYW5kIHJlbGllcyBvbiBwYWdlIHZpc2liaWxpdHkgdG8gZW5zdXJlIHRoZSBpbXByZXNzaW9uIGlzIHJlcG9ydGVkXG4gKiBvbmx5IHdoZW4gdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlIG9uIHRoZSBwYWdlLlxuICpcbiAqIE5vdGU6XG4gKiAgICogVGhpcyB3cmFwcGVyIHVzZWQgdG8gYmUgdXNlZCBlaXRoZXIgYXQgdGhlIGluZGl2aWR1YWwgY2FyZCBsZXZlbCxcbiAqICAgICBvciBieSB0aGUgY2FyZCBjb250YWluZXIgY29tcG9uZW50cy5cbiAqICAgICBJdCBpcyBub3cgb25seSB1c2VkIGZvciBpbmRpdmlkdWFsIGNhcmQgbGV2ZWwuXG4gKiAgICogRWFjaCBpbXByZXNzaW9uIHdpbGwgYmUgc2VudCBvbmx5IG9uY2UgYXMgc29vbiBhcyB0aGUgZGVzaXJlZFxuICogICAgIHZpc2liaWxpdHkgaXMgZGV0ZWN0ZWRcbiAqICAgKiBCYXRjaGluZyBpcyBub3QgeWV0IGltcGxlbWVudGVkLCBoZW5jZSBpdCBtaWdodCBzZW5kIG11bHRpcGxlXG4gKiAgICAgaW1wcmVzc2lvbiBwaW5ncyBzZXBhcmF0ZWx5XG4gKi9cbmV4cG9ydCBjbGFzcyBJbXByZXNzaW9uU3RhdHMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgLy8gVGhpcyBjaGVja3MgaWYgdGhlIGdpdmVuIGNhcmRzIGFyZSB0aGUgc2FtZSBhcyB0aG9zZSBpbiB0aGUgbGFzdCBpbXByZXNzaW9uIHBpbmcuXG4gIC8vIElmIHNvLCBpdCBzaG91bGQgbm90IHNlbmQgdGhlIHNhbWUgaW1wcmVzc2lvbiBwaW5nIGFnYWluLlxuICBfbmVlZHNJbXByZXNzaW9uU3RhdHMoY2FyZHMpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzIHx8XG4gICAgICB0aGlzLmltcHJlc3Npb25DYXJkR3VpZHMubGVuZ3RoICE9PSBjYXJkcy5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYXJkc1tpXS5pZCAhPT0gdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgaXNGYWtlc3BvdCB9ID0gcHJvcHM7XG4gICAgY29uc3QgY2FyZHMgPSBwcm9wcy5yb3dzO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuZmxpZ2h0SWQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LkRJU0NPVkVSWV9TVFJFQU1fU1BPQ19JTVBSRVNTSU9OLFxuICAgICAgICAgIGRhdGE6IHsgZmxpZ2h0SWQ6IHRoaXMucHJvcHMuZmxpZ2h0SWQgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIFJlY29yZCBzcG9uc29yZWQgdG9wc2l0ZXMgaW1wcmVzc2lvbnMgaWYgdGhlIHNvdXJjZSBpcyBgVE9QX1NJVEVTX1NPVVJDRWAuXG4gICAgICBpZiAodGhpcy5wcm9wcy5zb3VyY2UgPT09IFRPUF9TSVRFU19TT1VSQ0UpIHtcbiAgICAgICAgZm9yIChjb25zdCBjYXJkIG9mIGNhcmRzKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgICB0eXBlOiBhdC5UT1BfU0lURVNfU1BPTlNPUkVEX0lNUFJFU1NJT05fU1RBVFMsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImltcHJlc3Npb25cIixcbiAgICAgICAgICAgICAgICB0aWxlX2lkOiBjYXJkLmlkLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogXCJuZXd0YWJcIixcbiAgICAgICAgICAgICAgICBhZHZlcnRpc2VyOiBjYXJkLmFkdmVydGlzZXIsXG4gICAgICAgICAgICAgICAgLy8gS2VlcCB0aGUgMC1iYXNlZCBwb3NpdGlvbiwgY2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICAvLyBzZW5kZXIgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBjYXJkLnBvcyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykpIHtcbiAgICAgIGlmIChpc0Zha2VzcG90KSB7XG4gICAgICAgIHByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgICBzb3VyY2U6IHByb3BzLnNvdXJjZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgd2luZG93X2lubmVyX3dpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgIHdpbmRvd19pbm5lcl9oZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICAgIHRpbGVzOiBjYXJkcy5tYXAobGluayA9PiAoe1xuICAgICAgICAgICAgICBpZDogbGluay5pZCxcbiAgICAgICAgICAgICAgdHlwZTogXCJmYWtlc3BvdFwiLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogbGluay5jYXRlZ29yeSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICAgIHNvdXJjZTogcHJvcHMuc291cmNlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICB3aW5kb3dfaW5uZXJfd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgd2luZG93X2lubmVyX2hlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7XG4gICAgICAgICAgICAgIGlkOiBsaW5rLmlkLFxuICAgICAgICAgICAgICBwb3M6IGxpbmsucG9zLFxuICAgICAgICAgICAgICB0eXBlOiBwcm9wcy5mbGlnaHRJZCA/IFwic3BvY1wiIDogXCJvcmdhbmljXCIsXG4gICAgICAgICAgICAgIC4uLihsaW5rLnNoaW0gPyB7IHNoaW06IGxpbmsuc2hpbSB9IDoge30pLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbl9pZDogbGluay5yZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgICAgICAgZmV0Y2hUaW1lc3RhbXA6IGxpbmsuZmV0Y2hUaW1lc3RhbXAsXG4gICAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkOiBsaW5rLmNvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgICBzY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQ6IGxpbmsuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgICByZWNvbW1lbmRlZF9hdDogbGluay5yZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgICAgICAgcmVjZWl2ZWRfcmFuazogbGluay5yZWNlaXZlZF9yYW5rLFxuICAgICAgICAgICAgICB0b3BpYzogbGluay50b3BpYyxcbiAgICAgICAgICAgICAgZmVhdHVyZXM6IGxpbmsuZmVhdHVyZXMsXG4gICAgICAgICAgICAgIGlzX2xpc3RfY2FyZDogbGluay5pc19saXN0X2NhcmQsXG4gICAgICAgICAgICAgIC4uLihsaW5rLmZvcm1hdFxuICAgICAgICAgICAgICAgID8geyBmb3JtYXQ6IGxpbmsuZm9ybWF0IH1cbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBnZXRBY3RpdmVDYXJkU2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNsYXNzX25hbWVzLFxuICAgICAgICAgICAgICAgICAgICAgIGxpbmsuc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBsaW5rLmZsaWdodElkXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgLi4uKGxpbmsuc2VjdGlvblxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uOiBsaW5rLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IGxpbmsuc2VjdGlvbl9wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaXNfc2VjdGlvbl9mb2xsb3dlZDogbGluay5pc19zZWN0aW9uX2ZvbGxvd2VkLFxuICAgICAgICAgICAgICAgICAgICBsYXlvdXRfbmFtZTogbGluay5zZWN0aW9uTGF5b3V0TmFtZSxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcDogcHJvcHMuZmlyc3RWaXNpYmxlVGltZXN0YW1wLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcyA9IGNhcmRzLm1hcChsaW5rID0+IGxpbmsuaWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgY2hlY2tzIGlmIHRoZSBnaXZlbiBjYXJkcyBhcmUgdGhlIHNhbWUgYXMgdGhvc2UgaW4gdGhlIGxhc3QgbG9hZGVkIGNvbnRlbnQgcGluZy5cbiAgLy8gSWYgc28sIGl0IHNob3VsZCBub3Qgc2VuZCB0aGUgc2FtZSBsb2FkZWQgY29udGVudCBwaW5nIGFnYWluLlxuICBfbmVlZHNMb2FkZWRDb250ZW50KGNhcmRzKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMubG9hZGVkQ29udGVudEd1aWRzIHx8XG4gICAgICB0aGlzLmxvYWRlZENvbnRlbnRHdWlkcy5sZW5ndGggIT09IGNhcmRzLmxlbmd0aFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNhcmRzW2ldLmlkICE9PSB0aGlzLmxvYWRlZENvbnRlbnRHdWlkc1tpXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBfZGlzcGF0Y2hMb2FkZWRDb250ZW50KCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgY2FyZHMgPSBwcm9wcy5yb3dzO1xuXG4gICAgaWYgKHRoaXMuX25lZWRzTG9hZGVkQ29udGVudChjYXJkcykpIHtcbiAgICAgIHByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Mb2FkZWRDb250ZW50KHtcbiAgICAgICAgICBzb3VyY2U6IHByb3BzLnNvdXJjZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgIHRpbGVzOiBjYXJkcy5tYXAobGluayA9PiAoeyBpZDogbGluay5pZCwgcG9zOiBsaW5rLnBvcyB9KSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgdGhpcy5sb2FkZWRDb250ZW50R3VpZHMgPSBjYXJkcy5tYXAobGluayA9PiBsaW5rLmlkKTtcbiAgICB9XG4gIH1cblxuICBzZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXByb3BzLmRpc3BhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgLy8gU2VuZCB0aGUgbG9hZGVkIGNvbnRlbnQgcGluZyBvbmNlIHRoZSBwYWdlIGlzIHZpc2libGUuXG4gICAgICB0aGlzLl9kaXNwYXRjaExvYWRlZENvbnRlbnQoKTtcbiAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIHNob3VsZCBvbmx5IGV2ZXIgc2VuZCB0aGUgbGF0ZXN0IGltcHJlc3Npb24gc3RhdHMgcGluZywgc28gcmVtb3ZlIGFueVxuICAgICAgLy8gb2xkZXIgbGlzdGVuZXJzLlxuICAgICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgICBwcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICAvLyBTZW5kIHRoZSBsb2FkZWQgY29udGVudCBwaW5nIG9uY2UgdGhlIHBhZ2UgaXMgdmlzaWJsZS5cbiAgICAgICAgICB0aGlzLl9kaXNwYXRjaExvYWRlZENvbnRlbnQoKTtcbiAgICAgICAgICB0aGlzLnNldEltcHJlc3Npb25PYnNlcnZlcigpO1xuICAgICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYW4gaW1wcmVzc2lvbiBvYnNlcnZlciBmb3IgdGhlIHdyYXBwZWQgY29tcG9uZW50LiBJdCBtYWtlcyB1c2Ugb2ZcbiAgICogdGhlIEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgdG8gZGV0ZWN0IGlmIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBpc1xuICAgKiB2aXNpYmxlIHdpdGggYSBkZXNpcmVkIHJhdGlvLCBhbmQgb25seSBzZW5kcyBpbXByZXNzaW9uIGlmIHRoYXQncyB0aGUgY2FzZS5cbiAgICpcbiAgICogU2VlIG1vcmUgZGV0YWlscyBhYm91dCBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgQVBJIGF0OlxuICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW50ZXJzZWN0aW9uX09ic2VydmVyX0FQSVxuICAgKi9cbiAgc2V0SW1wcmVzc2lvbk9ic2VydmVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXByb3BzLnJvd3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faGFuZGxlSW50ZXJzZWN0ID0gZW50cmllcyA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGVudHJpZXMuc29tZShcbiAgICAgICAgICBlbnRyeSA9PlxuICAgICAgICAgICAgZW50cnkuaXNJbnRlcnNlY3RpbmcgJiZcbiAgICAgICAgICAgIGVudHJ5LmludGVyc2VjdGlvblJhdGlvID49IElOVEVSU0VDVElPTl9SQVRJT1xuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKTtcbiAgICAgICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucmVmcy5pbXByZXNzaW9uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgdGhyZXNob2xkOiBJTlRFUlNFQ1RJT05fUkFUSU8gfTtcbiAgICB0aGlzLmltcHJlc3Npb25PYnNlcnZlciA9IG5ldyBwcm9wcy5JbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIHRoaXMuX2hhbmRsZUludGVyc2VjdCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLm9ic2VydmUodGhpcy5yZWZzLmltcHJlc3Npb24pO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm93cy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9oYW5kbGVJbnRlcnNlY3QgJiYgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnJlZnMuaW1wcmVzc2lvbik7XG4gICAgfVxuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgcmVmPXtcImltcHJlc3Npb25cIn0gY2xhc3NOYW1lPVwiaW1wcmVzc2lvbi1vYnNlcnZlclwiPlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuSW1wcmVzc2lvblN0YXRzLmRlZmF1bHRQcm9wcyA9IHtcbiAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6IGdsb2JhbFRoaXMuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsXG4gIGRvY3VtZW50OiBnbG9iYWxUaGlzLmRvY3VtZW50LFxuICByb3dzOiBbXSxcbiAgc291cmNlOiBcIlwiLFxufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIFNhZmVBbmNob3IgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgLy8gVXNlIGRpc3BhdGNoIGluc3RlYWQgb2Ygbm9ybWFsIGxpbmsgY2xpY2sgYmVoYXZpb3IgdG8gaW5jbHVkZSByZWZlcnJlclxuICAgIGlmICh0aGlzLnByb3BzLmRpc3BhdGNoKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSA9IGV2ZW50O1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGV2ZW50OiB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9LFxuICAgICAgICAgICAgcmVmZXJyZXI6XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMucmVmZXJyZXIgfHwgXCJodHRwczovL2dldHBvY2tldC5jb20vcmVjb21tZW5kYXRpb25zXCIsXG4gICAgICAgICAgICAvLyBVc2UgdGhlIGFuY2hvcidzIHVybCwgd2hpY2ggY291bGQgaGF2ZSBiZWVuIGNsZWFuZWQgdXBcbiAgICAgICAgICAgIHVybDogZXZlbnQuY3VycmVudFRhcmdldC5ocmVmLFxuICAgICAgICAgICAgaXNfc3BvbnNvcmVkOiB0aGlzLnByb3BzLmlzU3BvbnNvcmVkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFByb3BhZ2F0ZSBldmVudCBpZiB0aGVyZSdzIGEgaGFuZGxlclxuICAgIGlmICh0aGlzLnByb3BzLm9uTGlua0NsaWNrKSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGlua0NsaWNrKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICBzYWZlVVJJKHVybCkge1xuICAgIGxldCBwcm90b2NvbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHByb3RvY29sID0gbmV3IFVSTCh1cmwpLnByb3RvY29sO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIGNvbnN0IGlzQWxsb3dlZCA9IFtcImh0dHA6XCIsIFwiaHR0cHM6XCJdLmluY2x1ZGVzKHByb3RvY29sKTtcbiAgICBpZiAoIWlzQWxsb3dlZCkge1xuICAgICAgY29uc29sZS53YXJuKGAke3VybH0gaXMgbm90IGFsbG93ZWQgZm9yIGFuY2hvciB0YXJnZXRzLmApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdXJsLCBjbGFzc05hbWUsIHRpdGxlLCBpc1Nwb25zb3JlZCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGxldCBhbmNob3IgPSAoXG4gICAgICA8YVxuICAgICAgICBocmVmPXt0aGlzLnNhZmVVUkkodXJsKX1cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICBkYXRhLWlzLXNwb25zb3JlZC1saW5rPXshIWlzU3BvbnNvcmVkfVxuICAgICAgICB7Li4uKHRoaXMucHJvcHMudGFiSW5kZXggPT09IDAgfHwgdGhpcy5wcm9wcy50YWJJbmRleFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICByZWY6IHRoaXMucHJvcHMuc2V0UmVmLFxuICAgICAgICAgICAgICB0YWJJbmRleDogdGhpcy5wcm9wcy50YWJJbmRleCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHt9KX1cbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICA8L2E+XG4gICAgKTtcblxuICAgIHJldHVybiBhbmNob3I7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBjYXJkQ29udGV4dFR5cGVzID0ge1xuICBoaXN0b3J5OiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLXZpc2l0ZWRcIixcbiAgICBpY29uOiBcImhpc3RvcnktaXRlbVwiLFxuICB9LFxuICByZW1vdmVkQm9va21hcms6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtcmVtb3ZlZC1ib29rbWFya1wiLFxuICAgIGljb246IFwiYm9va21hcmstcmVtb3ZlZFwiLFxuICB9LFxuICBib29rbWFyazoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1ib29rbWFya2VkXCIsXG4gICAgaWNvbjogXCJib29rbWFyay1hZGRlZFwiLFxuICB9LFxuICB0cmVuZGluZzoge1xuICAgIGZsdWVudElEOiBcIm5ld3RhYi1sYWJlbC1yZWNvbW1lbmRlZFwiLFxuICAgIGljb246IFwidHJlbmRpbmdcIixcbiAgfSxcbiAgcG9ja2V0OiB7XG4gICAgZmx1ZW50SUQ6IFwibmV3dGFiLWxhYmVsLXNhdmVkXCIsXG4gICAgaWNvbjogXCJwb2NrZXRcIixcbiAgfSxcbiAgZG93bmxvYWQ6IHtcbiAgICBmbHVlbnRJRDogXCJuZXd0YWItbGFiZWwtZG93bmxvYWRcIixcbiAgICBpY29uOiBcImRvd25sb2FkXCIsXG4gIH0sXG59O1xuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFJlYWN0VHJhbnNpdGlvbkdyb3VwOyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLyoqXG4gKiBTZXQgdGV4dCBvbiBhIGNoaWxkIGVsZW1lbnQvY29tcG9uZW50IGRlcGVuZGluZyBvbiBpZiB0aGUgbWVzc2FnZSBpcyBhbHJlYWR5XG4gKiB0cmFuc2xhdGVkIHBsYWluIHRleHQgb3IgYSBmbHVlbnQgaWQgd2l0aCBvcHRpb25hbCBhcmdzLlxuICovXG5leHBvcnQgY2xhc3MgRmx1ZW50T3JUZXh0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICAvLyBFbnN1cmUgd2UgaGF2ZSBhIHNpbmdsZSBjaGlsZCB0byBhdHRhY2ggYXR0cmlidXRlc1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIG1lc3NhZ2UgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbiA/IFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pIDogPHNwYW4gLz47XG5cbiAgICAvLyBGb3IgYSBzdHJpbmcgbWVzc2FnZSwganVzdCB1c2UgaXQgYXMgdGhlIGNoaWxkJ3MgdGV4dFxuICAgIGxldCBncmFuZENoaWxkcmVuID0gbWVzc2FnZTtcbiAgICBsZXQgZXh0cmFQcm9wcztcblxuICAgIC8vIENvbnZlcnQgYSBtZXNzYWdlIG9iamVjdCB0byBzZXQgZGVzaXJlZCBmbHVlbnQtZG9tIGF0dHJpYnV0ZXNcbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGFyZ3MgPSBtZXNzYWdlLmFyZ3MgfHwgbWVzc2FnZS52YWx1ZXM7XG4gICAgICBleHRyYVByb3BzID0ge1xuICAgICAgICBcImRhdGEtbDEwbi1hcmdzXCI6IGFyZ3MgJiYgSlNPTi5zdHJpbmdpZnkoYXJncyksXG4gICAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IG1lc3NhZ2UuaWQgfHwgbWVzc2FnZS5zdHJpbmdfaWQsXG4gICAgICB9O1xuXG4gICAgICAvLyBVc2Ugb3JpZ2luYWwgY2hpbGRyZW4gcG90ZW50aWFsbHkgd2l0aCBkYXRhLWwxMG4tbmFtZSBhdHRyaWJ1dGVzXG4gICAgICBncmFuZENoaWxkcmVuID0gY2hpbGQucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBtZXNzYWdlIHRvIHRoZSBjaGlsZCB2aWEgZmx1ZW50IGF0dHJpYnV0ZXMgb3IgdGV4dCBub2RlXG4gICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwgZXh0cmFQcm9wcywgZ3JhbmRDaGlsZHJlbik7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGNhcmRDb250ZXh0VHlwZXMgfSBmcm9tIFwiLi4vLi4vQ2FyZC90eXBlcy5tanNcIjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbmltcG9ydCB7IENTU1RyYW5zaXRpb24sIFRyYW5zaXRpb25Hcm91cCB9IGZyb20gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiLi4vLi4vRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dC5qc3hcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLy8gQW5pbWF0aW9uIHRpbWUgaXMgbWlycm9yZWQgaW4gRFNDb250ZXh0Rm9vdGVyLnNjc3NcbmNvbnN0IEFOSU1BVElPTl9EVVJBVElPTiA9IDMwMDA7XG5cbmV4cG9ydCBjb25zdCBEU01lc3NhZ2VMYWJlbCA9IHByb3BzID0+IHtcbiAgY29uc3QgeyBjb250ZXh0LCBjb250ZXh0X3R5cGUsIG1heUhhdmVTZWN0aW9uc0NhcmRzIH0gPSBwcm9wcztcbiAgY29uc3QgeyBpY29uLCBmbHVlbnRJRCB9ID0gY2FyZENvbnRleHRUeXBlc1tjb250ZXh0X3R5cGVdIHx8IHt9O1xuXG4gIGlmICghY29udGV4dCAmJiBjb250ZXh0X3R5cGUgJiYgIW1heUhhdmVTZWN0aW9uc0NhcmRzKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUcmFuc2l0aW9uR3JvdXAgY29tcG9uZW50PXtudWxsfT5cbiAgICAgICAgPENTU1RyYW5zaXRpb25cbiAgICAgICAgICBrZXk9e2ZsdWVudElEfVxuICAgICAgICAgIHRpbWVvdXQ9e0FOSU1BVElPTl9EVVJBVElPTn1cbiAgICAgICAgICBjbGFzc05hbWVzPVwic3RvcnktYW5pbWF0ZVwiXG4gICAgICAgID5cbiAgICAgICAgICA8U3RhdHVzTWVzc2FnZSBpY29uPXtpY29ufSBmbHVlbnRJRD17Zmx1ZW50SUR9IC8+XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAgICAgIDwvVHJhbnNpdGlvbkdyb3VwPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBTdGF0dXNNZXNzYWdlID0gKHsgaWNvbiwgZmx1ZW50SUQgfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cInN0YXR1cy1tZXNzYWdlXCI+XG4gICAgPHNwYW5cbiAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcbiAgICAgIGNsYXNzTmFtZT17YHN0b3J5LWJhZGdlLWljb24gaWNvbiBpY29uLSR7aWNvbn1gfVxuICAgIC8+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1jb250ZXh0LWxhYmVsXCIgZGF0YS1sMTBuLWlkPXtmbHVlbnRJRH0gLz5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgY29uc3QgU3BvbnNvckxhYmVsID0gKHtcbiAgc3BvbnNvcmVkX2J5X292ZXJyaWRlLFxuICBzcG9uc29yLFxuICBjb250ZXh0LFxuICBuZXdTcG9uc29yZWRMYWJlbCxcbn0pID0+IHtcbiAgY29uc3QgY2xhc3NMaXN0ID0gYHN0b3J5LXNwb25zb3JlZC1sYWJlbCAke25ld1Nwb25zb3JlZExhYmVsIHx8IFwiXCJ9IGNsYW1wYDtcbiAgLy8gSWYgb3ZlcnJpZGUgaXMgbm90IGZhbHNlIG9yIGFuIGVtcHR5IHN0cmluZy5cbiAgaWYgKHNwb25zb3JlZF9ieV9vdmVycmlkZSkge1xuICAgIHJldHVybiA8cCBjbGFzc05hbWU9e2NsYXNzTGlzdH0+e3Nwb25zb3JlZF9ieV9vdmVycmlkZX08L3A+O1xuICB9IGVsc2UgaWYgKHNwb25zb3JlZF9ieV9vdmVycmlkZSA9PT0gXCJcIikge1xuICAgIC8vIFdlIHNwZWNpZmljYWxseSB3YW50IHRvIGRpc3BsYXkgbm90aGluZyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgIC8vIFNvIHRoZSBzZXJ2ZXIgY2FuIHR1cm4gb2ZmIHRoZSBsYWJlbC5cbiAgICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgdGhlIHVzZSBjYXNlcyB3aGVyZSB0aGUgc3BvbnNvcmVkIGNvbnRleHQgaXMgZGlzcGxheWVkIGVsc2V3aGVyZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChzcG9uc29yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT17Y2xhc3NMaXN0fT5cbiAgICAgICAgPEZsdWVudE9yVGV4dFxuICAgICAgICAgIG1lc3NhZ2U9e3tcbiAgICAgICAgICAgIGlkOiBgbmV3dGFiLWxhYmVsLXNwb25zb3JlZC1ieWAsXG4gICAgICAgICAgICB2YWx1ZXM6IHsgc3BvbnNvciB9LFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfSBlbHNlIGlmIChjb250ZXh0KSB7XG4gICAgcmV0dXJuIDxwIGNsYXNzTmFtZT17Y2xhc3NMaXN0fT57Y29udGV4dH08L3A+O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIERTQ29udGV4dEZvb3RlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY29udGV4dCxcbiAgICAgIGNvbnRleHRfdHlwZSxcbiAgICAgIHNwb25zb3IsXG4gICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGUsXG4gICAgICBjdGFfYnV0dG9uX3ZhcmlhbnQsXG4gICAgICBzb3VyY2UsXG4gICAgICBtYXlIYXZlU2VjdGlvbnNDYXJkcyxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHNwb25zb3JMYWJlbCA9IFNwb25zb3JMYWJlbCh7XG4gICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGUsXG4gICAgICBzcG9uc29yLFxuICAgICAgY29udGV4dCxcbiAgICB9KTtcbiAgICBjb25zdCBkc01lc3NhZ2VMYWJlbCA9IERTTWVzc2FnZUxhYmVsKHtcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb250ZXh0X3R5cGUsXG4gICAgICBtYXlIYXZlU2VjdGlvbnNDYXJkcyxcbiAgICB9KTtcblxuICAgIGlmIChjdGFfYnV0dG9uX3ZhcmlhbnQgPT09IFwidmFyaWFudC1hXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RvcnktZm9vdGVyXCI+XG4gICAgICAgICAgey8qIHRoaXMgYnV0dG9uIGlzIGRlY29yYXRpdmUgb25seSAqL31cbiAgICAgICAgICA8YnV0dG9uIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzTmFtZT1cInN0b3J5LWN0YS1idXR0b25cIj5cbiAgICAgICAgICAgIFNob3AgTm93XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAge3Nwb25zb3JMYWJlbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjdGFfYnV0dG9uX3ZhcmlhbnQgPT09IFwidmFyaWFudC1iXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RvcnktZm9vdGVyXCI+XG4gICAgICAgICAge3Nwb25zb3JMYWJlbH1cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzb3VyY2UgY2xhbXAgY3RhLWZvb3Rlci1zb3VyY2VcIj57c291cmNlfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChzcG9uc29yTGFiZWwgfHwgKGRzTWVzc2FnZUxhYmVsICYmIGNvbnRleHRfdHlwZSAhPT0gXCJwb2NrZXRcIikpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RvcnktZm9vdGVyXCI+XG4gICAgICAgICAge3Nwb25zb3JMYWJlbH1cbiAgICAgICAgICB7ZHNNZXNzYWdlTGFiZWx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRFNNZXNzYWdlRm9vdGVyID0gcHJvcHMgPT4ge1xuICBjb25zdCB7IGNvbnRleHQsIGNvbnRleHRfdHlwZSB9ID0gcHJvcHM7XG5cbiAgY29uc3QgZHNNZXNzYWdlTGFiZWwgPSBEU01lc3NhZ2VMYWJlbCh7XG4gICAgY29udGV4dCxcbiAgICBjb250ZXh0X3R5cGUsXG4gIH0pO1xuXG4gIC8vIFRoaXMgY2FzZSBpcyBzcGVjaWZpYyBhbmQgYWxyZWFkeSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIgZWxzZXdoZXJlLlxuICBpZiAoIWRzTWVzc2FnZUxhYmVsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJzdG9yeS1mb290ZXJcIj57ZHNNZXNzYWdlTGFiZWx9PC9kaXY+O1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gRFNUaHVtYnNVcERvd25CdXR0b25zKHtcbiAgc3BvbnNvcixcbiAgb25UaHVtYnNVcENsaWNrLFxuICBvblRodW1ic0Rvd25DbGljayxcbiAgaXNUaHVtYnNVcEFjdGl2ZSxcbiAgaXNUaHVtYnNEb3duQWN0aXZlLFxuICByZWZpbmVkQ2FyZHNMYXlvdXQsXG59KSB7XG4gIGxldCB0aHVtYnNCdXR0b25zID0gKFxuICAgIDw+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e29uVGh1bWJzVXBDbGlja31cbiAgICAgICAgY2xhc3NOYW1lPXtgY2FyZC1zdHAtdGh1bWJzLWJ1dHRvbiBpY29uIGljb24tdGh1bWJzLXVwICR7XG4gICAgICAgICAgaXNUaHVtYnNVcEFjdGl2ZSA/IFwiaXMtYWN0aXZlXCIgOiBudWxsXG4gICAgICAgIH1gfVxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LXRodW1icy11cC10b29sdGlwXCJcbiAgICAgID48L2J1dHRvbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17b25UaHVtYnNEb3duQ2xpY2t9XG4gICAgICAgIGNsYXNzTmFtZT17YGNhcmQtc3RwLXRodW1icy1idXR0b24gaWNvbiBpY29uLXRodW1icy1kb3duICR7XG4gICAgICAgICAgaXNUaHVtYnNEb3duQWN0aXZlID8gXCJpcy1hY3RpdmVcIiA6IG51bGxcbiAgICAgICAgfWB9XG4gICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtdGh1bWJzLWRvd24tdG9vbHRpcFwiXG4gICAgICA+PC9idXR0b24+XG4gICAgPC8+XG4gICk7XG5cbiAgaWYgKHJlZmluZWRDYXJkc0xheW91dCkge1xuICAgIHRodW1ic0J1dHRvbnMgPSAoXG4gICAgICA8PlxuICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgIGljb25zcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy90aHVtYnMtdXAtMjAuc3ZnXCJcbiAgICAgICAgICBvbkNsaWNrPXtvblRodW1ic1VwQ2xpY2t9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgY2FyZC1zdHAtdGh1bWJzLWJ1dHRvbiBpY29uIGljb24tdGh1bWJzLXVwIHJlZmluZWQtbGF5b3V0ICR7XG4gICAgICAgICAgICBpc1RodW1ic1VwQWN0aXZlID8gXCJpcy1hY3RpdmVcIiA6IG51bGxcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LXRodW1icy11cC10b29sdGlwXCJcbiAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgID48L21vei1idXR0b24+XG4gICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL3RodW1icy1kb3duLTIwLnN2Z1wiXG4gICAgICAgICAgb25DbGljaz17b25UaHVtYnNEb3duQ2xpY2t9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgY2FyZC1zdHAtdGh1bWJzLWJ1dHRvbiBpY29uIGljb24tdGh1bWJzLWRvd24gJHtcbiAgICAgICAgICAgIGlzVGh1bWJzRG93bkFjdGl2ZSA/IFwiaXMtYWN0aXZlXCIgOiBudWxsXG4gICAgICAgICAgfWB9XG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXBvY2tldC10aHVtYnMtZG93bi10b29sdGlwXCJcbiAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgID48L21vei1idXR0b24+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXN0cC10aHVtYnMtYnV0dG9ucy13cmFwcGVyXCI+XG4gICAgICB7LyogT25seSBzaG93IHRvIG5vbi1zcG9uc29yZWQgY29udGVudCAqL31cbiAgICAgIHshc3BvbnNvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1zdHAtdGh1bWJzLWJ1dHRvbnNcIj57dGh1bWJzQnV0dG9uc308L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCB7IERTVGh1bWJzVXBEb3duQnV0dG9ucyB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgRFNJbWFnZSB9IGZyb20gXCIuLi9EU0ltYWdlL0RTSW1hZ2UuanN4XCI7XG5pbXBvcnQgeyBEU0xpbmtNZW51IH0gZnJvbSBcIi4uL0RTTGlua01lbnUvRFNMaW5rTWVudVwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCB7IGdldEFjdGl2ZUNhcmRTaXplIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi91dGlsc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7XG4gIERTQ29udGV4dEZvb3RlcixcbiAgU3BvbnNvckxhYmVsLFxuICBEU01lc3NhZ2VGb290ZXIsXG59IGZyb20gXCIuLi9EU0NvbnRleHRGb290ZXIvRFNDb250ZXh0Rm9vdGVyLmpzeFwiO1xuaW1wb3J0IHsgRFNUaHVtYnNVcERvd25CdXR0b25zIH0gZnJvbSBcIi4uL0RTVGh1bWJzVXBEb3duQnV0dG9ucy9EU1RodW1ic1VwRG93bkJ1dHRvbnMuanN4XCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiLi4vLi4vRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dC5qc3hcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IExpbmtNZW51T3B0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnNcIjtcbmNvbnN0IFJFQURJTkdfV1BNID0gMjIwO1xuY29uc3QgUFJFRl9PSFRUUF9NRVJJTk8gPSBcImRpc2NvdmVyeXN0cmVhbS5tZXJpbm8tcHJvdmlkZXIub2h0dHAuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9PSFRUUF9VTklGSUVEX0FEUyA9IFwidW5pZmllZEFkcy5vaHR0cC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1NFQ1RJT05TX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX0ZBVklDT05TX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5wdWJsaXNoZXJGYXZpY29uLmVuYWJsZWRcIjtcblxuLyoqXG4gKiBSRUFEIFRJTUUgRlJPTSBXT1JEIENPVU5UXG4gKiBAcGFyYW0ge2ludH0gd29yZENvdW50IG51bWJlciBvZiB3b3JkcyBpbiBhbiBhcnRpY2xlXG4gKiBAcmV0dXJucyB7aW50fSBudW1iZXIgb2Ygd29yZHMgcGVyIG1pbnV0ZSBpbiBtaW51dGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkVGltZUZyb21Xb3JkQ291bnQod29yZENvdW50KSB7XG4gIGlmICghd29yZENvdW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBNYXRoLmNlaWwocGFyc2VJbnQod29yZENvdW50LCAxMCkgLyBSRUFESU5HX1dQTSk7XG59XG5cbmV4cG9ydCBjb25zdCBEU1NvdXJjZSA9ICh7XG4gIHNvdXJjZSxcbiAgdGltZVRvUmVhZCxcbiAgbmV3U3BvbnNvcmVkTGFiZWwsXG4gIGNvbnRleHQsXG4gIHNwb25zb3IsXG4gIHNwb25zb3JlZF9ieV9vdmVycmlkZSxcbiAgaWNvbl9zcmMsXG4gIHJlZmluZWRDYXJkc0xheW91dCxcbn0pID0+IHtcbiAgLy8gcmVmaW5lZENhcmQgc3R5bGVzIHdpbGwgaGF2ZSBhIGxhcmdlciBmYXZpY29uIHNpemVcbiAgY29uc3QgZmF2aWNvblNpemUgPSByZWZpbmVkQ2FyZHNMYXlvdXQgPyAyMCA6IDE2O1xuXG4gIC8vIEZpcnN0IHRyeSB0byBkaXNwbGF5IHNwb25zb3JlZCBsYWJlbCBvciB0aW1lIHRvIHJlYWQgaGVyZS5cbiAgaWYgKG5ld1Nwb25zb3JlZExhYmVsKSB7XG4gICAgLy8gSWYgd2UgY2FuIGRpc3BsYXkgc29tZXRoaW5nIGZvciBzcG9jcywgZG8gc28uXG4gICAgaWYgKHNwb25zb3JlZF9ieV9vdmVycmlkZSB8fCBzcG9uc29yIHx8IGNvbnRleHQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTcG9uc29yTGFiZWxcbiAgICAgICAgICBjb250ZXh0PXtjb250ZXh0fVxuICAgICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgICAgc3BvbnNvcmVkX2J5X292ZXJyaWRlPXtzcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgbmV3U3BvbnNvcmVkTGFiZWw9XCJuZXctc3BvbnNvcmVkLWxhYmVsXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgd2UgYXJlIG5vdCBhIHNwb2MsIGFuZCBjYW4gZGlzcGxheSBhIHRpbWUgdG8gcmVhZCB2YWx1ZS5cbiAgaWYgKHNvdXJjZSAmJiB0aW1lVG9SZWFkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxwIGNsYXNzTmFtZT1cInNvdXJjZSBjbGFtcCB0aW1lLXRvLXJlYWRcIj5cbiAgICAgICAgPEZsdWVudE9yVGV4dFxuICAgICAgICAgIG1lc3NhZ2U9e3tcbiAgICAgICAgICAgIGlkOiBgbmV3dGFiLWxhYmVsLXNvdXJjZS1yZWFkLXRpbWVgLFxuICAgICAgICAgICAgdmFsdWVzOiB7IHNvdXJjZSwgdGltZVRvUmVhZCB9LFxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICA8L3A+XG4gICAgKTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSBkaXNwbGF5IGEgZGVmYXVsdCBzb3VyY2UuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzb3VyY2Utd3JhcHBlclwiPlxuICAgICAge2ljb25fc3JjICYmIChcbiAgICAgICAgPGltZyBzcmM9e2ljb25fc3JjfSBoZWlnaHQ9e2Zhdmljb25TaXplfSB3aWR0aD17ZmF2aWNvblNpemV9IGFsdD1cIlwiIC8+XG4gICAgICApfVxuICAgICAgPHAgY2xhc3NOYW1lPVwic291cmNlIGNsYW1wXCI+e3NvdXJjZX08L3A+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgRGVmYXVsdE1ldGEgPSAoe1xuICBzb3VyY2UsXG4gIHRpdGxlLFxuICBleGNlcnB0LFxuICB0aW1lVG9SZWFkLFxuICBuZXdTcG9uc29yZWRMYWJlbCxcbiAgY29udGV4dCxcbiAgY29udGV4dF90eXBlLFxuICBzcG9uc29yLFxuICBzcG9uc29yZWRfYnlfb3ZlcnJpZGUsXG4gIGN0YUJ1dHRvblZhcmlhbnQsXG4gIGRpc3BhdGNoLFxuICBtYXlIYXZlU2VjdGlvbnNDYXJkcyxcbiAgbWF5SGF2ZVRodW1ic1VwRG93bixcbiAgb25UaHVtYnNVcENsaWNrLFxuICBvblRodW1ic0Rvd25DbGljayxcbiAgaXNMaXN0Q2FyZCxcbiAgc3RhdGUsXG4gIGZvcm1hdCxcbiAgdG9waWMsXG4gIGlzU2VjdGlvbnNDYXJkLFxuICBzaG93VG9waWNzLFxuICBpY29uX3NyYyxcbiAgcmVmaW5lZENhcmRzTGF5b3V0LFxufSkgPT4ge1xuICBjb25zdCBzaG91bGRIYXZlVGh1bWJzID1cbiAgICAhaXNMaXN0Q2FyZCAmJlxuICAgIGZvcm1hdCAhPT0gXCJyZWN0YW5nbGVcIiAmJlxuICAgIG1heUhhdmVTZWN0aW9uc0NhcmRzICYmXG4gICAgbWF5SGF2ZVRodW1ic1VwRG93bjtcbiAgY29uc3Qgc2hvdWxkSGF2ZUZvb3RlclNlY3Rpb24gPVxuICAgIGlzU2VjdGlvbnNDYXJkICYmIChzaG91bGRIYXZlVGh1bWJzIHx8IHNob3dUb3BpY3MpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtZXRhXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8td3JhcFwiPlxuICAgICAgICB7Y3RhQnV0dG9uVmFyaWFudCAhPT0gXCJ2YXJpYW50LWJcIiAmJlxuICAgICAgICAgIGZvcm1hdCAhPT0gXCJyZWN0YW5nbGVcIiAmJlxuICAgICAgICAgICFyZWZpbmVkQ2FyZHNMYXlvdXQgJiYgKFxuICAgICAgICAgICAgPERTU291cmNlXG4gICAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgICAgICB0aW1lVG9SZWFkPXt0aW1lVG9SZWFkfVxuICAgICAgICAgICAgICBuZXdTcG9uc29yZWRMYWJlbD17bmV3U3BvbnNvcmVkTGFiZWx9XG4gICAgICAgICAgICAgIGNvbnRleHQ9e2NvbnRleHR9XG4gICAgICAgICAgICAgIHNwb25zb3I9e3Nwb25zb3J9XG4gICAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17c3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgICAgICBpY29uX3NyYz17aWNvbl9zcmN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0aXRsZSBjbGFtcFwiPlxuICAgICAgICAgIHtmb3JtYXQgPT09IFwicmVjdGFuZ2xlXCIgPyBcIlNwb25zb3JlZFwiIDogdGl0bGV9XG4gICAgICAgIDwvaDM+XG4gICAgICAgIHtmb3JtYXQgPT09IFwicmVjdGFuZ2xlXCIgPyAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZXhjZXJwdCBjbGFtcFwiPlxuICAgICAgICAgICAgU3BvbnNvcmVkIGNvbnRlbnQgc3VwcG9ydHMgb3VyIG1pc3Npb24gdG8gYnVpbGQgYSBiZXR0ZXIgd2ViLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICBleGNlcnB0ICYmIDxwIGNsYXNzTmFtZT1cImV4Y2VycHQgY2xhbXBcIj57ZXhjZXJwdH08L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHshaXNMaXN0Q2FyZCAmJlxuICAgICAgICBmb3JtYXQgIT09IFwicmVjdGFuZ2xlXCIgJiZcbiAgICAgICAgIW1heUhhdmVTZWN0aW9uc0NhcmRzICYmXG4gICAgICAgIG1heUhhdmVUaHVtYnNVcERvd24gJiZcbiAgICAgICAgIXJlZmluZWRDYXJkc0xheW91dCAmJiAoXG4gICAgICAgICAgPERTVGh1bWJzVXBEb3duQnV0dG9uc1xuICAgICAgICAgICAgb25UaHVtYnNEb3duQ2xpY2s9e29uVGh1bWJzRG93bkNsaWNrfVxuICAgICAgICAgICAgb25UaHVtYnNVcENsaWNrPXtvblRodW1ic1VwQ2xpY2t9XG4gICAgICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICAgICAgaXNUaHVtYnNEb3duQWN0aXZlPXtzdGF0ZS5pc1RodW1ic0Rvd25BY3RpdmV9XG4gICAgICAgICAgICBpc1RodW1ic1VwQWN0aXZlPXtzdGF0ZS5pc1RodW1ic1VwQWN0aXZlfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICB7KHNob3VsZEhhdmVGb290ZXJTZWN0aW9uIHx8IHJlZmluZWRDYXJkc0xheW91dCkgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25zLWNhcmQtZm9vdGVyXCI+XG4gICAgICAgICAge3JlZmluZWRDYXJkc0xheW91dCAmJlxuICAgICAgICAgICAgZm9ybWF0ICE9PSBcInJlY3RhbmdsZVwiICYmXG4gICAgICAgICAgICBmb3JtYXQgIT09IFwic3BvY1wiICYmIChcbiAgICAgICAgICAgICAgPERTU291cmNlXG4gICAgICAgICAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgICAgICAgICAgdGltZVRvUmVhZD17dGltZVRvUmVhZH1cbiAgICAgICAgICAgICAgICBuZXdTcG9uc29yZWRMYWJlbD17bmV3U3BvbnNvcmVkTGFiZWx9XG4gICAgICAgICAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17c3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgICAgICAgIGljb25fc3JjPXtpY29uX3NyY31cbiAgICAgICAgICAgICAgICByZWZpbmVkQ2FyZHNMYXlvdXQ9e3JlZmluZWRDYXJkc0xheW91dH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgeyhzaG91bGRIYXZlVGh1bWJzIHx8IHJlZmluZWRDYXJkc0xheW91dCkgJiYgKFxuICAgICAgICAgICAgPERTVGh1bWJzVXBEb3duQnV0dG9uc1xuICAgICAgICAgICAgICBvblRodW1ic0Rvd25DbGljaz17b25UaHVtYnNEb3duQ2xpY2t9XG4gICAgICAgICAgICAgIG9uVGh1bWJzVXBDbGljaz17b25UaHVtYnNVcENsaWNrfVxuICAgICAgICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICAgICAgICBpc1RodW1ic0Rvd25BY3RpdmU9e3N0YXRlLmlzVGh1bWJzRG93bkFjdGl2ZX1cbiAgICAgICAgICAgICAgaXNUaHVtYnNVcEFjdGl2ZT17c3RhdGUuaXNUaHVtYnNVcEFjdGl2ZX1cbiAgICAgICAgICAgICAgcmVmaW5lZENhcmRzTGF5b3V0PXtyZWZpbmVkQ2FyZHNMYXlvdXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3Nob3dUb3BpY3MgJiYgKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHMtY2FyZC10b3BpY1wiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17YG5ld3RhYi10b3BpYy1sYWJlbC0ke3RvcGljfWB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHshbmV3U3BvbnNvcmVkTGFiZWwgJiYgKFxuICAgICAgICA8RFNDb250ZXh0Rm9vdGVyXG4gICAgICAgICAgY29udGV4dF90eXBlPXtjb250ZXh0X3R5cGV9XG4gICAgICAgICAgY29udGV4dD17Y29udGV4dH1cbiAgICAgICAgICBzcG9uc29yPXtzcG9uc29yfVxuICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17c3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgIGN0YV9idXR0b25fdmFyaWFudD17Y3RhQnV0dG9uVmFyaWFudH1cbiAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgbWF5SGF2ZVNlY3Rpb25zQ2FyZHM9e21heUhhdmVTZWN0aW9uc0NhcmRzfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHsvKiBTcG9uc29yZWQgbGFiZWwgaXMgbm9ybWFsbHkgaW4gdGhlIHdheSBvZiBhbnkgbWVzc2FnZS5cbiAgICAgICAgICBuZXdTcG9uc29yZWRMYWJlbCBjYXJkcyBzcG9uc29yZWQgbGFiZWwgaXMgbW92ZWQgdG8ganVzdCB1bmRlciB0aGUgdGh1bWJuYWlsLFxuICAgICAgICAgIHNvIHdlIGNhbiBkaXNwbGF5IGJvdGgsIHNvIHdlIHNwZWNpZmljYWxseSBkb24ndCBwYXNzIGluIGNvbnRleHQuICovfVxuICAgICAge25ld1Nwb25zb3JlZExhYmVsICYmIChcbiAgICAgICAgPERTTWVzc2FnZUZvb3RlciBjb250ZXh0X3R5cGU9e2NvbnRleHRfdHlwZX0gY29udGV4dD17bnVsbH0gLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgY2xhc3MgX0RTQ2FyZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kb2VzTGlua1RvcGljTWF0Y2hTZWxlY3RlZFRvcGljID1cbiAgICAgIHRoaXMuZG9lc0xpbmtUb3BpY01hdGNoU2VsZWN0ZWRUb3BpYy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51VXBkYXRlID0gdGhpcy5vbk1lbnVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVNob3cgPSB0aGlzLm9uTWVudVNob3cuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uVGh1bWJzVXBDbGljayA9IHRoaXMub25UaHVtYnNVcENsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblRodW1ic0Rvd25DbGljayA9IHRoaXMub25UaHVtYnNEb3duQ2xpY2suYmluZCh0aGlzKTtcbiAgICBjb25zdCByZWZpbmVkQ2FyZHNMYXlvdXQgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXCJkaXNjb3ZlcnlzdHJlYW0ucmVmaW5lZENhcmRzTGF5b3V0LmVuYWJsZWRcIl07XG5cbiAgICB0aGlzLnNldENvbnRleHRNZW51QnV0dG9uSG9zdFJlZiA9IGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5jb250ZXh0TWVudUJ1dHRvbkhvc3RFbGVtZW50ID0gZWxlbWVudDtcbiAgICB9O1xuICAgIHRoaXMuc2V0UGxhY2Vob2xkZXJSZWYgPSBlbGVtZW50ID0+IHtcbiAgICAgIHRoaXMucGxhY2Vob2xkZXJFbGVtZW50ID0gZWxlbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzU2VlbjogZmFsc2UsXG4gICAgICBpc1RodW1ic1VwQWN0aXZlOiBmYWxzZSxcbiAgICAgIGlzVGh1bWJzRG93bkFjdGl2ZTogZmFsc2UsXG4gICAgfTtcblxuICAgIC8vIElmIHRoaXMgaXMgZm9yIHRoZSBhYm91dDpob21lIHN0YXJ0dXAgY2FjaGUsIHRoZW4gd2UgYWx3YXlzIHdhbnRcbiAgICAvLyB0byByZW5kZXIgdGhlIERTQ2FyZCwgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIG9yIG5vdCBpdHMgYmVlbiBzZWVuLlxuICAgIGlmIChwcm9wcy5BcHAuaXNGb3JTdGFydHVwQ2FjaGUuQXBwKSB7XG4gICAgICB0aGlzLnN0YXRlLmlzU2VlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gV2Ugd2FudCB0byBjaG9vc2UgdGhlIG9wdGltYWwgdGh1bWJuYWlsIGZvciB0aGUgdW5kZXJseWluZyBEU0ltYWdlLCBidXRcbiAgICAvLyB3YW50IHRvIGRvIGl0IGluIGEgcGVyZm9ybWFudCB3YXkuIFRoZSBicmVha3BvaW50cyB1c2VkIGluIHRoZVxuICAgIC8vIENTUyBvZiB0aGUgcGFnZSBhcmUsIHVuZm9ydHVudGVseSwgbm90IGVhc3kgdG8gcmV0cmlldmUgd2l0aG91dFxuICAgIC8vIGNhdXNpbmcgYSBzdHlsZSBmbHVzaC4gVG8gYXZvaWQgdGhhdCwgd2UgaGFyZGNvZGUgdGhlbSBoZXJlLlxuICAgIC8vXG4gICAgLy8gVGhlIHZhbHVlcyBjaG9zZW4gaGVyZSB3ZXJlIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBjYXJkIHRodW1ibmFpbHMgYXNcbiAgICAvLyBjb21wdXRlZCBieSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBmb3IgZWFjaCB0eXBlIG9mIHZpZXdwb3J0IHdpZHRoXG4gICAgLy8gYWNyb3NzIGJvdGggaGlnaC1kZW5zaXR5IGFuZCBub3JtYWwtZGVuc2l0eSBkaXNwbGF5cy5cbiAgICB0aGlzLnN0YW5kYXJkQ2FyZEltYWdlU2l6ZXMgPSBbXG4gICAgICB7XG4gICAgICAgIG1lZGlhTWF0Y2hlcjogXCJkZWZhdWx0XCIsXG4gICAgICAgIHdpZHRoOiAyOTYsXG4gICAgICAgIGhlaWdodDogMTQ4LFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5saXN0Q2FyZEltYWdlU2l6ZXMgPSBbXG4gICAgICB7XG4gICAgICAgIG1lZGlhTWF0Y2hlcjogXCIobWluLXdpZHRoOiAxMTIycHgpXCIsXG4gICAgICAgIHdpZHRoOiA3NSxcbiAgICAgICAgaGVpZ2h0OiA3NSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG1lZGlhTWF0Y2hlcjogXCJkZWZhdWx0XCIsXG4gICAgICAgIHdpZHRoOiA1MCxcbiAgICAgICAgaGVpZ2h0OiA1MCxcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuc2VjdGlvbnNDYXJkSW1hZ2VzU2l6ZXMgPSB7XG4gICAgICBzbWFsbDoge1xuICAgICAgICB3aWR0aDogMTEwLFxuICAgICAgICBoZWlnaHQ6IDExNyxcbiAgICAgIH0sXG4gICAgICBtZWRpdW06IHtcbiAgICAgICAgd2lkdGg6IDMwMCxcbiAgICAgICAgaGVpZ2h0OiByZWZpbmVkQ2FyZHNMYXlvdXQgPyAxNjAgOiAxNTAsXG4gICAgICB9LFxuICAgICAgbGFyZ2U6IHtcbiAgICAgICAgd2lkdGg6IDE5MCxcbiAgICAgICAgaGVpZ2h0OiAyNTAsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLnNlY3Rpb25zQ29sdW1uTWVkaWFNYXRjaGVyID0ge1xuICAgICAgMTogXCJkZWZhdWx0XCIsXG4gICAgICAyOiBcIihtaW4td2lkdGg6IDcyNHB4KVwiLFxuICAgICAgMzogXCIobWluLXdpZHRoOiAxMTIycHgpXCIsXG4gICAgICA0OiBcIihtaW4td2lkdGg6IDEzOTBweClcIixcbiAgICB9O1xuICB9XG5cbiAgZ2V0U2VjdGlvbkltYWdlU2l6ZShjb2x1bW4sIHNpemUpIHtcbiAgICBjb25zdCBjYXJkSW1hZ2VTaXplID0ge1xuICAgICAgbWVkaWFNYXRjaGVyOiB0aGlzLnNlY3Rpb25zQ29sdW1uTWVkaWFNYXRjaGVyW2NvbHVtbl0sXG4gICAgICB3aWR0aDogdGhpcy5zZWN0aW9uc0NhcmRJbWFnZXNTaXplc1tzaXplXS53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5zZWN0aW9uc0NhcmRJbWFnZXNTaXplc1tzaXplXS5oZWlnaHQsXG4gICAgfTtcbiAgICByZXR1cm4gY2FyZEltYWdlU2l6ZTtcbiAgfVxuXG4gIGRvZXNMaW5rVG9waWNNYXRjaFNlbGVjdGVkVG9waWMoKSB7XG4gICAgLy8gRWRnZSBjYXNlIGZvciBjbGlja2luZyBvbiBhIGNhcmQgd2hlbiB0b3BpYyBzZWxlY3Rpb25zIGhhdmUgbm90IGJlIHNldFxuICAgIGlmICghdGhpcy5wcm9wcy5zZWxlY3RlZFRvcGljcykge1xuICAgICAgcmV0dXJuIFwibm90LXNldFwiO1xuICAgIH1cblxuICAgIC8vIEVkZ2UgY2FzZSB0aGUgdG9waWMgb2YgdGhlIGNhcmQgaXMgbm90IG9uZSBvZiB0aGUgYXZhaWxhYmxlIHRvcGljc1xuICAgIGlmICghdGhpcy5wcm9wcy5hdmFpbGFibGVUb3BpY3MuaW5jbHVkZXModGhpcy5wcm9wcy50b3BpYykpIHtcbiAgICAgIHJldHVybiBcInRvcGljLW5vdC1zZWxlY3RhYmxlXCI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0ZWRUb3BpY3MuaW5jbHVkZXModGhpcy5wcm9wcy50b3BpYykpIHtcbiAgICAgIHJldHVybiBcInRydWVcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJmYWxzZVwiO1xuICB9XG5cbiAgb25MaW5rQ2xpY2soKSB7XG4gICAgY29uc3QgbWF0Y2hlc1NlbGVjdGVkVG9waWMgPSB0aGlzLmRvZXNMaW5rVG9waWNNYXRjaFNlbGVjdGVkVG9waWMoKTtcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNGYWtlc3BvdCkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgICAgICBldmVudDogXCJGQUtFU1BPVF9DTElDS1wiLFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgcHJvZHVjdF9pZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMucHJvcHMuY2F0ZWdvcnkgfHwgXCJcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgICBzb3VyY2U6IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgIGV2ZW50X3NvdXJjZTogXCJjYXJkXCIsXG4gICAgICAgICAgICAgIGNhcmRfdHlwZTogdGhpcy5wcm9wcy5mbGlnaHRJZCA/IFwic3BvY1wiIDogXCJvcmdhbmljXCIsXG4gICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiB0aGlzLnByb3BzLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICAgICAgICB0aWxlX2lkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zaGltICYmIHRoaXMucHJvcHMuc2hpbS5jbGlja1xuICAgICAgICAgICAgICAgID8geyBzaGltOiB0aGlzLnByb3BzLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcDogdGhpcy5wcm9wcy5mZXRjaFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wOiB0aGlzLnByb3BzLmZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0OiB0aGlzLnByb3BzLnJlY29tbWVuZGVkX2F0LFxuICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rOiB0aGlzLnByb3BzLnJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgICAgIHRvcGljOiB0aGlzLnByb3BzLnRvcGljLFxuICAgICAgICAgICAgICBmZWF0dXJlczogdGhpcy5wcm9wcy5mZWF0dXJlcyxcbiAgICAgICAgICAgICAgbWF0Y2hlc19zZWxlY3RlZF90b3BpYzogbWF0Y2hlc1NlbGVjdGVkVG9waWMsXG4gICAgICAgICAgICAgIHNlbGVjdGVkX3RvcGljczogdGhpcy5wcm9wcy5zZWxlY3RlZFRvcGljcyxcbiAgICAgICAgICAgICAgaXNfbGlzdF9jYXJkOiB0aGlzLnByb3BzLmlzTGlzdENhcmQsXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLmZvcm1hdFxuICAgICAgICAgICAgICAgID8geyBmb3JtYXQ6IHRoaXMucHJvcHMuZm9ybWF0IH1cbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBnZXRBY3RpdmVDYXJkU2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb25zQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5mbGlnaHRJZFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNlY3Rpb25cbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb25Qb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaXNfc2VjdGlvbl9mb2xsb3dlZDogdGhpcy5wcm9wcy5zZWN0aW9uRm9sbG93ZWQsXG4gICAgICAgICAgICAgICAgICAgIGxheW91dF9uYW1lOiB0aGlzLnByb3BzLnNlY3Rpb25MYXlvdXROYW1lLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgICBjbGljazogMCxcbiAgICAgICAgICAgIHdpbmRvd19pbm5lcl93aWR0aDogdGhpcy5wcm9wcy53aW5kb3dPYmouaW5uZXJXaWR0aCxcbiAgICAgICAgICAgIHdpbmRvd19pbm5lcl9oZWlnaHQ6IHRoaXMucHJvcHMud2luZG93T2JqLmlubmVySGVpZ2h0LFxuICAgICAgICAgICAgdGlsZXM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICAgICAgICAgIHBvczogdGhpcy5wcm9wcy5wb3MsXG4gICAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2hpbSAmJiB0aGlzLnByb3BzLnNoaW0uY2xpY2tcbiAgICAgICAgICAgICAgICAgID8geyBzaGltOiB0aGlzLnByb3BzLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy5wcm9wcy5mbGlnaHRJZCA/IFwic3BvY1wiIDogXCJvcmdhbmljXCIsXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQ6IHRoaXMucHJvcHMucmVjb21tZW5kYXRpb25faWQsXG4gICAgICAgICAgICAgICAgdG9waWM6IHRoaXMucHJvcHMudG9waWMsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRfdG9waWNzOiB0aGlzLnByb3BzLnNlbGVjdGVkVG9waWNzLFxuICAgICAgICAgICAgICAgIGlzX2xpc3RfY2FyZDogdGhpcy5wcm9wcy5pc0xpc3RDYXJkLFxuICAgICAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLmZvcm1hdFxuICAgICAgICAgICAgICAgICAgPyB7IGZvcm1hdDogdGhpcy5wcm9wcy5mb3JtYXQgfVxuICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBnZXRBY3RpdmVDYXJkU2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWN0aW9uc0NsYXNzTmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZsaWdodElkXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2VjdGlvblxuICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ6IHRoaXMucHJvcHMuc2VjdGlvbkZvbGxvd2VkLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblRodW1ic1VwQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgLy8gVG9nZ2xlIGFjdGl2ZSBzdGF0ZSBmb3IgdGh1bWJzIHVwIGJ1dHRvbiB0byBzaG93IENTUyBhbmltYXRpb25cbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB0aGlzLnN0YXRlLmlzVGh1bWJzVXBBY3RpdmU7XG5cbiAgICAvLyBJZiB0aHVtYnMgdXAgaGFzIGJlZW4gY2xpY2tlZCBhbHJlYWR5LCBkbyBub3RoaW5nLlxuICAgIGlmIChjdXJyZW50U3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHsgaXNUaHVtYnNVcEFjdGl2ZTogIWN1cnJlbnRTdGF0ZSB9KTtcblxuICAgIC8vIFJlY29yZCB0aHVtYnMgdXAgdGVsZW1ldHJ5IGV2ZW50XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiBcIlBPQ0tFVF9USFVNQlNfVVBcIixcbiAgICAgICAgc291cmNlOiBcIlRIVU1CU19VSVwiLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiB0aGlzLnByb3BzLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICAgIHRpbGVfaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiB0aGlzLnByb3BzLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICByZWNvbW1lbmRlZF9hdDogdGhpcy5wcm9wcy5yZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgICByZWNlaXZlZF9yYW5rOiB0aGlzLnByb3BzLnJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgdGh1bWJzX3VwOiB0cnVlLFxuICAgICAgICAgIHRodW1ic19kb3duOiBmYWxzZSxcbiAgICAgICAgICB0b3BpYzogdGhpcy5wcm9wcy50b3BpYyxcbiAgICAgICAgICBmb3JtYXQ6IGdldEFjdGl2ZUNhcmRTaXplKFxuICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb25zQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgIGZhbHNlIC8vICh0aHVtYnMgdXAvZG93biBvbmx5IGV4aXN0IG9uIG9yZ2FuaWMgY29udGVudClcbiAgICAgICAgICApLFxuICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNlY3Rpb25cbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHNlY3Rpb246IHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb25Qb3NpdGlvbixcbiAgICAgICAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkOiB0aGlzLnByb3BzLnNlY3Rpb25Gb2xsb3dlZCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBTaG93IFRvYXN0XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb09uZUNvbnRlbnQoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBhdC5TSE9XX1RPQVNUX01FU1NBR0UsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICB0b2FzdElkOiBcInRodW1ic1VwVG9hc3RcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRcIlxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBvblRodW1ic0Rvd25DbGljayhldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBUb2dnbGUgYWN0aXZlIHN0YXRlIGZvciB0aHVtYnMgZG93biBidXR0b24gdG8gc2hvdyBDU1MgYW5pbWF0aW9uXG4gICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5zdGF0ZS5pc1RodW1ic0Rvd25BY3RpdmU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzVGh1bWJzRG93bkFjdGl2ZTogIWN1cnJlbnRTdGF0ZSB9KTtcblxuICAgIC8vIFJ1biBkaXNtaXNzIGV2ZW50IGFmdGVyIDAuNSBzZWNvbmQgZGVsYXlcbiAgICBpZiAoXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoICYmXG4gICAgICB0aGlzLnByb3BzLnR5cGUgJiZcbiAgICAgIHRoaXMucHJvcHMuaWQgJiZcbiAgICAgIHRoaXMucHJvcHMudXJsXG4gICAgKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMucHJvcHMucG9zO1xuICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5wcm9wcy50eXBlLnRvVXBwZXJDYXNlKCk7XG4gICAgICBjb25zdCBzcG9jRGF0YSA9IHtcbiAgICAgICAgdXJsOiB0aGlzLnByb3BzLnVybCxcbiAgICAgICAgZ3VpZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgdHlwZTogXCJDYXJkR3JpZFwiLFxuICAgICAgICBjYXJkX3R5cGU6IFwib3JnYW5pY1wiLFxuICAgICAgICByZWNvbW1lbmRhdGlvbl9pZDogdGhpcy5wcm9wcy5yZWNvbW1lbmRhdGlvbl9pZCxcbiAgICAgICAgdGlsZV9pZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZDogdGhpcy5wcm9wcy5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWQsXG4gICAgICAgIHJlY29tbWVuZGVkX2F0OiB0aGlzLnByb3BzLnJlY29tbWVuZGVkX2F0LFxuICAgICAgICByZWNlaXZlZF9yYW5rOiB0aGlzLnByb3BzLnJlY2VpdmVkX3JhbmssXG4gICAgICB9O1xuICAgICAgY29uc3QgYmxvY2tVcmxPcHRpb24gPSBMaW5rTWVudU9wdGlvbnMuQmxvY2tVcmwoc3BvY0RhdGEsIGluZGV4LCBzb3VyY2UpO1xuXG4gICAgICBjb25zdCB7IGFjdGlvbiwgaW1wcmVzc2lvbiwgdXNlckV2ZW50IH0gPSBibG9ja1VybE9wdGlvbjtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWN0aW9uKTtcblxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgICAgICBldmVudDogdXNlckV2ZW50LFxuICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSwgNTAwKTtcblxuICAgICAgaWYgKGltcHJlc3Npb24pIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChpbXByZXNzaW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVjb3JkIHRodW1icyBkb3duIHRlbGVtZXRyeSBldmVudFxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJQT0NLRVRfVEhVTUJTX0RPV05cIixcbiAgICAgICAgICBzb3VyY2U6IFwiVEhVTUJTX1VJXCIsXG4gICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkOiB0aGlzLnByb3BzLnJlY29tbWVuZGF0aW9uX2lkLFxuICAgICAgICAgICAgdGlsZV9pZDogdGhpcy5wcm9wcy5pZCxcbiAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkOiB0aGlzLnByb3BzLmNvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiB0aGlzLnByb3BzLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0OiB0aGlzLnByb3BzLnJlY29tbWVuZGVkX2F0LFxuICAgICAgICAgICAgcmVjZWl2ZWRfcmFuazogdGhpcy5wcm9wcy5yZWNlaXZlZF9yYW5rLFxuICAgICAgICAgICAgdGh1bWJzX3VwOiBmYWxzZSxcbiAgICAgICAgICAgIHRodW1ic19kb3duOiB0cnVlLFxuICAgICAgICAgICAgdG9waWM6IHRoaXMucHJvcHMudG9waWMsXG4gICAgICAgICAgICBmb3JtYXQ6IGdldEFjdGl2ZUNhcmRTaXplKFxuICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWN0aW9uc0NsYXNzTmFtZXMsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VjdGlvbixcbiAgICAgICAgICAgICAgZmFsc2UgLy8gKHRodW1icyB1cC9kb3duIG9ubHkgZXhpc3Qgb24gb3JnYW5pYyBjb250ZW50KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC4uLih0aGlzLnByb3BzLnNlY3Rpb25cbiAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICBzZWN0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiB0aGlzLnByb3BzLnNlY3Rpb25Qb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ6IHRoaXMucHJvcHMuc2VjdGlvbkZvbGxvd2VkLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIFNob3cgVG9hc3RcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb09uZUNvbnRlbnQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogYXQuU0hPV19UT0FTVF9NRVNTQUdFLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgdG9hc3RJZDogXCJ0aHVtYnNEb3duVG9hc3RcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRcIlxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uTWVudVVwZGF0ZShzaG93Q29udGV4dE1lbnUpIHtcbiAgICBpZiAoIXNob3dDb250ZXh0TWVudSkge1xuICAgICAgY29uc3QgZHNMaW5rTWVudUhvc3REaXYgPSB0aGlzLmNvbnRleHRNZW51QnV0dG9uSG9zdEVsZW1lbnQ7XG4gICAgICBpZiAoZHNMaW5rTWVudUhvc3REaXYpIHtcbiAgICAgICAgZHNMaW5rTWVudUhvc3REaXYuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiLCBcImxhc3QtaXRlbVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBvbk1lbnVTaG93KCkge1xuICAgIGNvbnN0IGRzTGlua01lbnVIb3N0RGl2ID0gdGhpcy5jb250ZXh0TWVudUJ1dHRvbkhvc3RFbGVtZW50O1xuICAgIGlmIChkc0xpbmtNZW51SG9zdERpdikge1xuICAgICAgLy8gRm9yY2UgdHJhbnNsYXRpb24gc28gd2UgY2FuIGJlIHN1cmUgaXQncyByZWFkeSBiZWZvcmUgbWVhc3VyaW5nLlxuICAgICAgYXdhaXQgdGhpcy5wcm9wcy53aW5kb3dPYmouZG9jdW1lbnQubDEwbi50cmFuc2xhdGVGcmFnbWVudChcbiAgICAgICAgZHNMaW5rTWVudUhvc3REaXZcbiAgICAgICk7XG4gICAgICBpZiAodGhpcy5wcm9wcy53aW5kb3dPYmouc2Nyb2xsTWF4WCA+IDApIHtcbiAgICAgICAgZHNMaW5rTWVudUhvc3REaXYuY2xhc3NMaXN0LmFkZChcImxhc3QtaXRlbVwiKTtcbiAgICAgIH1cbiAgICAgIGRzTGlua01lbnVIb3N0RGl2LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgfVxuICB9XG5cbiAgb25TZWVuKGVudHJpZXMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkge1xuICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzLmZpbmQoZSA9PiBlLmlzSW50ZXJzZWN0aW5nKTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3Agb2JzZXJ2aW5nIHNpbmNlIGVsZW1lbnQgaGFzIGJlZW4gc2VlblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1NlZW46IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uSWRsZUNhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5pc1NlZW4pIHtcbiAgICAgIC8vIFRvIGltcHJvdmUgcmVzcG9uc2l2ZW5lc3Mgd2l0aG91dCBpbXBhY3RpbmcgcGVyZm9ybWFuY2UsXG4gICAgICAvLyB3ZSBzdGFydCByZW5kZXJpbmcgc3RvcmllcyBvbiBpZGxlLlxuICAgICAgLy8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2YgcmVxdWVzdHMgZm9yIHNlY3VyZSBPSFRUUCBpbWFnZXMsXG4gICAgICAvLyB3ZSBza2lwIGlkbGUtdGltZSBsb2FkaW5nLlxuICAgICAgaWYgKCF0aGlzLnNlY3VyZUltYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVyICYmIHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5wbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTZWVuOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmlkbGVDYWxsYmFja0lkID0gdGhpcy5wcm9wcy53aW5kb3dPYmoucmVxdWVzdElkbGVDYWxsYmFjayhcbiAgICAgIHRoaXMub25JZGxlQ2FsbGJhY2suYmluZCh0aGlzKVxuICAgICk7XG4gICAgaWYgKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMub25TZWVuLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAvLyBSZW1vdmUgb2JzZXJ2ZXIgb24gdW5tb3VudFxuICAgIGlmICh0aGlzLm9ic2VydmVyICYmIHRoaXMucGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICB0aGlzLm9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnBsYWNlaG9sZGVyRWxlbWVudCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlkbGVDYWxsYmFja0lkKSB7XG4gICAgICB0aGlzLnByb3BzLndpbmRvd09iai5jYW5jZWxJZGxlQ2FsbGJhY2sodGhpcy5pZGxlQ2FsbGJhY2tJZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gV3JhcHMgdGhlIGltYWdlIFVSTCB3aXRoIHRoZSBtb3otY2FjaGVkLW9odHRwOi8vIHByb3RvY29sLlxuICAvLyBUaGlzIGVuYWJsZXMgRmlyZWZveCB0byBsb2FkIHJlc291cmNlcyBvdmVyIE9ibGl2aW91cyBIVFRQIChPSFRUUCksXG4gIC8vIHByb3ZpZGluZyBwcml2YWN5LXByZXNlcnZpbmcgcmVzb3VyY2UgbG9hZGluZy5cbiAgLy8gQXBwbGllZCBvbmx5IHdoZW4gaW5mZXJyZWQgcGVyc29uYWxpemF0aW9uIGlzIGVuYWJsZWQuXG4gIC8vIFNlZTogaHR0cHM6Ly9maXJlZm94LXNvdXJjZS1kb2NzLm1vemlsbGEub3JnL2Jyb3dzZXIvY29tcG9uZW50cy9tb3pjYWNoZWRvaHR0cC9kb2NzL2luZGV4Lmh0bWxcbiAgc2VjdXJlSW1hZ2VVUkwodXJsKSB7XG4gICAgcmV0dXJuIGBtb3otY2FjaGVkLW9odHRwOi8vbmV3dGFiLWltYWdlLz91cmw9JHtlbmNvZGVVUklDb21wb25lbnQodXJsKX1gO1xuICB9XG5cbiAgZ2V0UmF3SW1hZ2VTcmMoKSB7XG4gICAgbGV0IHJhd0ltYWdlU3JjID0gXCJcIjtcbiAgICAvLyBUaGVyZSBpcyBubyBwb2ludCBpbiBmZXRjaGluZyBpbWFnZXMgZm9yIHN0YXJ0dXAgY2FjaGUuXG4gICAgaWYgKCF0aGlzLnByb3BzLkFwcC5pc0ZvclN0YXJ0dXBDYWNoZS5BcHApIHtcbiAgICAgIHJhd0ltYWdlU3JjID0gdGhpcy5wcm9wcy5yYXdfaW1hZ2Vfc3JjO1xuICAgIH1cbiAgICByZXR1cm4gcmF3SW1hZ2VTcmM7XG4gIH1cblxuICBnZXRGYXZpY29uU3JjKCkge1xuICAgIGxldCBmYXZpY29uU3JjID0gXCJcIjtcbiAgICBjb25zdCBmYXZpY29uRW5hYmxlZCA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1BSRUZfRkFWSUNPTlNfRU5BQkxFRF07XG4gICAgLy8gVGhlcmUgaXMgbm8gcG9pbnQgaW4gZmV0Y2hpbmcgZmF2aWNvbnMgZm9yIHN0YXJ0dXAgY2FjaGUuXG4gICAgaWYgKFxuICAgICAgIXRoaXMucHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlLkFwcCAmJlxuICAgICAgZmF2aWNvbkVuYWJsZWQgJiZcbiAgICAgIHRoaXMucHJvcHMuaWNvbl9zcmNcbiAgICApIHtcbiAgICAgIGZhdmljb25TcmMgPSB0aGlzLnByb3BzLmljb25fc3JjO1xuICAgICAgaWYgKHRoaXMuc2VjdXJlSW1hZ2UpIHtcbiAgICAgICAgZmF2aWNvblNyYyA9IHRoaXMuc2VjdXJlSW1hZ2VVUkwodGhpcy5wcm9wcy5pY29uX3NyYyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYXZpY29uU3JjO1xuICB9XG5cbiAgZ2V0IHNlY3VyZUltYWdlKCkge1xuICAgIGNvbnN0IHsgUHJlZnMsIGZsaWdodElkIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgbGV0IG9odHRwRW5hYmxlZCA9IGZhbHNlO1xuICAgIGlmIChmbGlnaHRJZCkge1xuICAgICAgb2h0dHBFbmFibGVkID0gUHJlZnMudmFsdWVzW1BSRUZfT0hUVFBfVU5JRklFRF9BRFNdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvaHR0cEVuYWJsZWQgPSBQcmVmcy52YWx1ZXNbUFJFRl9PSFRUUF9NRVJJTk9dO1xuICAgIH1cblxuICAgIGNvbnN0IG9odHRwSW1hZ2VzRW5hYmxlZCA9IFByZWZzLnZhbHVlcy5vaHR0cEltYWdlc0NvbmZpZz8uZW5hYmxlZDtcbiAgICBjb25zdCBpbmNsdWRlVG9wU3Rvcmllc1NlY3Rpb24gPVxuICAgICAgUHJlZnMudmFsdWVzLm9odHRwSW1hZ2VzQ29uZmlnPy5pbmNsdWRlVG9wU3Rvcmllc1NlY3Rpb247XG5cbiAgICBjb25zdCBub25QZXJzb25hbGl6ZWRTZWN0aW9ucyA9IFtcInRvcF9zdG9yaWVzX3NlY3Rpb25cIl07XG4gICAgY29uc3Qgc2VjdGlvblBlcnNvbmFsaXplZCA9XG4gICAgICAhbm9uUGVyc29uYWxpemVkU2VjdGlvbnMuaW5jbHVkZXModGhpcy5wcm9wcy5zZWN0aW9uKSB8fFxuICAgICAgaW5jbHVkZVRvcFN0b3JpZXNTZWN0aW9uO1xuXG4gICAgY29uc3Qgc2VjdXJlSW1hZ2UgPVxuICAgICAgb2h0dHBJbWFnZXNFbmFibGVkICYmIG9odHRwRW5hYmxlZCAmJiBzZWN0aW9uUGVyc29uYWxpemVkO1xuXG4gICAgcmV0dXJuIHNlY3VyZUltYWdlO1xuICB9XG5cbiAgcmVuZGVySW1hZ2UoeyBzaXplcyA9IFtdLCBjbGFzc05hbWVzID0gXCJcIiB9ID0ge30pIHtcbiAgICBjb25zdCB7IFByZWZzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgcmF3SW1hZ2VTcmMgPSB0aGlzLmdldFJhd0ltYWdlU3JjKCk7XG4gICAgY29uc3Qgc21hcnRDcm9wID0gUHJlZnMudmFsdWVzW1wiaW1hZ2VzLnNtYXJ0XCJdO1xuICAgIHJldHVybiAoXG4gICAgICA8RFNJbWFnZVxuICAgICAgICBleHRyYUNsYXNzTmFtZXM9e2BpbWcgJHtjbGFzc05hbWVzfWB9XG4gICAgICAgIHNvdXJjZT17dGhpcy5wcm9wcy5pbWFnZV9zcmN9XG4gICAgICAgIHJhd1NvdXJjZT17cmF3SW1hZ2VTcmN9XG4gICAgICAgIHNpemVzPXtzaXplc31cbiAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudGl0bGV9XG4gICAgICAgIGlzUmVjZW50U2F2ZT17dGhpcy5wcm9wcy5pc1JlY2VudFNhdmV9XG4gICAgICAgIGFsdF90ZXh0PXt0aGlzLnByb3BzLmFsdF90ZXh0fVxuICAgICAgICBzbWFydENyb3A9e3NtYXJ0Q3JvcH1cbiAgICAgICAgc2VjdXJlSW1hZ2U9e3RoaXMuc2VjdXJlSW1hZ2V9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJTZWN0aW9uQ2FyZEltYWdlcygpIHtcbiAgICBjb25zdCB7IHNlY3Rpb25zQ2FyZEltYWdlU2l6ZXMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBjb2x1bW5zID0gW1wiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiXTtcbiAgICBjb25zdCBpbWFnZXMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgY29sdW1uIG9mIGNvbHVtbnMpIHtcbiAgICAgIGNvbnN0IHNpemUgPSBzZWN0aW9uc0NhcmRJbWFnZVNpemVzW2NvbHVtbl07XG4gICAgICBjb25zdCBzaXplcyA9IFt0aGlzLmdldFNlY3Rpb25JbWFnZVNpemUoY29sdW1uLCBzaXplKV07XG4gICAgICBjb25zdCBpbWFnZSA9IHRoaXMucmVuZGVySW1hZ2UoeyBzaXplcywgY2xhc3NOYW1lczogYGltYWdlLSR7Y29sdW1ufWAgfSk7XG4gICAgICBpbWFnZXMucHVzaChpbWFnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDw+e2ltYWdlc308Lz47XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaXNSZWNlbnRTYXZlLFxuICAgICAgRGlzY292ZXJ5U3RyZWFtLFxuICAgICAgUHJlZnMsXG4gICAgICBpc0xpc3RDYXJkLFxuICAgICAgaXNGYWtlc3BvdCxcbiAgICAgIG1heUhhdmVTZWN0aW9uc0NhcmRzLFxuICAgICAgZm9ybWF0LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgcmVmaW5lZENhcmRzTGF5b3V0ID1cbiAgICAgIFByZWZzLnZhbHVlc1tcImRpc2NvdmVyeXN0cmVhbS5yZWZpbmVkQ2FyZHNMYXlvdXQuZW5hYmxlZFwiXTtcbiAgICBjb25zdCByZWZpbmVkQ2FyZHNDbGFzc05hbWUgPSByZWZpbmVkQ2FyZHNMYXlvdXQgPyBgcmVmaW5lZC1jYXJkc2AgOiBgYDtcblxuICAgIGlmICh0aGlzLnByb3BzLnBsYWNlaG9sZGVyIHx8ICF0aGlzLnN0YXRlLmlzU2Vlbikge1xuICAgICAgLy8gcGxhY2Vob2xkZXItc2VlbiBpcyB1c2VkIHRvIGVuc3VyZSB0aGUgbG9hZGluZyBhbmltYXRpb24gaXMgb25seSB1c2VkIGlmIHRoZSBjYXJkIGlzIHZpc2libGUuXG4gICAgICBjb25zdCBwbGFjZWhvbGRlckNsYXNzTmFtZSA9IHRoaXMuc3RhdGUuaXNTZWVuID8gYHBsYWNlaG9sZGVyLXNlZW5gIDogYGA7XG4gICAgICBsZXQgcGxhY2Vob2xkZXJFbGVtZW50cyA9IChcbiAgICAgICAgPD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWltYWdlIHBsYWNlaG9sZGVyLWZpbGxcIiAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItbGFiZWwgcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGFjZWhvbGRlci1oZWFkZXIgcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGFjZWhvbGRlci1kZXNjcmlwdGlvbiBwbGFjZWhvbGRlci1maWxsXCIgLz5cbiAgICAgICAgPC8+XG4gICAgICApO1xuXG4gICAgICBpZiAocmVmaW5lZENhcmRzTGF5b3V0KSB7XG4gICAgICAgIHBsYWNlaG9sZGVyRWxlbWVudHMgPSAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItaW1hZ2UgcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWRlc2NyaXB0aW9uIHBsYWNlaG9sZGVyLWZpbGxcIiAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGFjZWhvbGRlci1oZWFkZXIgcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICAgICAgPC8+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZHMtY2FyZCBwbGFjZWhvbGRlciAke3BsYWNlaG9sZGVyQ2xhc3NOYW1lfSAke1xuICAgICAgICAgICAgaXNMaXN0Q2FyZCA/IFwibGlzdC1jYXJkLXBsYWNlaG9sZGVyXCIgOiBcIlwiXG4gICAgICAgICAgfSAke3JlZmluZWRDYXJkc0NsYXNzTmFtZX1gfVxuICAgICAgICAgIHJlZj17dGhpcy5zZXRQbGFjZWhvbGRlclJlZn1cbiAgICAgICAgPlxuICAgICAgICAgIHtwbGFjZWhvbGRlckVsZW1lbnRzfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IHNvdXJjZSA9IHRoaXMucHJvcHMuc291cmNlIHx8IHRoaXMucHJvcHMucHVibGlzaGVyO1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzb3VyY2UgPSBuZXcgVVJMKHRoaXMucHJvcHMudXJsKS5ob3N0bmFtZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgaGlkZURlc2NyaXB0aW9ucyxcbiAgICAgIGNvbXBhY3RJbWFnZXMsXG4gICAgICBpbWFnZUdyYWRpZW50LFxuICAgICAgbmV3U3BvbnNvcmVkTGFiZWwsXG4gICAgICB0aXRsZUxpbmVzID0gMyxcbiAgICAgIGRlc2NMaW5lcyA9IDMsXG4gICAgICByZWFkVGltZTogZGlzcGxheVJlYWRUaW1lLFxuICAgIH0gPSBEaXNjb3ZlcnlTdHJlYW07XG5cbiAgICBjb25zdCBzZWN0aW9uc0VuYWJsZWQgPSBQcmVmcy52YWx1ZXNbUFJFRl9TRUNUSU9OU19FTkFCTEVEXTtcbiAgICAvLyBSZWZpbmVkIGNhcmRzIGhhdmUgdGhlaXIgb3duIGV4Y2VycHQgaGlkaW5nIGxvZ2ljLlxuICAgIC8vIFdlIGNhbiBpZ25vcmUgaGlkZURlc2NyaXB0aW9ucyBpZiB3ZSBhcmUgaW4gc2VjdGlvbnMgYW5kIHJlZmluZWQgY2FyZHMuXG4gICAgY29uc3QgZXhjZXJwdCA9XG4gICAgICAhaGlkZURlc2NyaXB0aW9ucyB8fCAoc2VjdGlvbnNFbmFibGVkICYmIHJlZmluZWRDYXJkc0xheW91dClcbiAgICAgICAgPyB0aGlzLnByb3BzLmV4Y2VycHRcbiAgICAgICAgOiBcIlwiO1xuXG4gICAgbGV0IHRpbWVUb1JlYWQ7XG4gICAgaWYgKGRpc3BsYXlSZWFkVGltZSkge1xuICAgICAgdGltZVRvUmVhZCA9XG4gICAgICAgIHRoaXMucHJvcHMudGltZV90b19yZWFkIHx8IHJlYWRUaW1lRnJvbVdvcmRDb3VudCh0aGlzLnByb3BzLndvcmRfY291bnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGN0YUJ1dHRvbkVuYWJsZWQgPSB0aGlzLnByb3BzLmN0YUJ1dHRvblNwb25zb3JzPy5pbmNsdWRlcyhcbiAgICAgIHRoaXMucHJvcHMuc3BvbnNvcj8udG9Mb3dlckNhc2UoKVxuICAgICk7XG4gICAgbGV0IGN0YUJ1dHRvblZhcmlhbnQgPSBcIlwiO1xuICAgIGlmIChjdGFCdXR0b25FbmFibGVkKSB7XG4gICAgICBjdGFCdXR0b25WYXJpYW50ID0gdGhpcy5wcm9wcy5jdGFCdXR0b25WYXJpYW50O1xuICAgIH1cbiAgICBsZXQgY3RhQnV0dG9uVmFyaWFudENsYXNzTmFtZSA9IGN0YUJ1dHRvblZhcmlhbnQ7XG5cbiAgICBjb25zdCBjdGFCdXR0b25DbGFzc05hbWUgPSBjdGFCdXR0b25FbmFibGVkID8gYGRzLWNhcmQtY3RhLWJ1dHRvbmAgOiBgYDtcbiAgICBjb25zdCBjb21wYWN0SW1hZ2VzQ2xhc3NOYW1lID0gY29tcGFjdEltYWdlcyA/IGBkcy1jYXJkLWNvbXBhY3QtaW1hZ2VgIDogYGA7XG4gICAgY29uc3QgaW1hZ2VHcmFkaWVudENsYXNzTmFtZSA9IGltYWdlR3JhZGllbnRcbiAgICAgID8gYGRzLWNhcmQtaW1hZ2UtZ3JhZGllbnRgXG4gICAgICA6IGBgO1xuICAgIGNvbnN0IGxpc3RDYXJkQ2xhc3NOYW1lID0gaXNMaXN0Q2FyZCA/IGBsaXN0LWZlZWQtY2FyZGAgOiBgYDtcbiAgICBjb25zdCBmYWtlc3BvdENsYXNzTmFtZSA9IGlzRmFrZXNwb3QgPyBgZmFrZXNwb3RgIDogYGA7XG4gICAgY29uc3Qgc2VjdGlvbnNDYXJkc0NsYXNzTmFtZSA9IFtcbiAgICAgIG1heUhhdmVTZWN0aW9uc0NhcmRzID8gYHNlY3Rpb25zLWNhcmQtdWlgIDogYGAsXG4gICAgICB0aGlzLnByb3BzLnNlY3Rpb25zQ2xhc3NOYW1lcyxcbiAgICBdLmpvaW4oXCIgXCIpO1xuICAgIGNvbnN0IHRpdGxlTGluZXNOYW1lID0gYGRzLWNhcmQtdGl0bGUtbGluZXMtJHt0aXRsZUxpbmVzfWA7XG4gICAgY29uc3QgZGVzY0xpbmVzQ2xhc3NOYW1lID0gYGRzLWNhcmQtZGVzYy1saW5lcy0ke2Rlc2NMaW5lc31gO1xuICAgIGNvbnN0IGlzTWVkaXVtUmVjdGFuZ2xlID0gZm9ybWF0ID09PSBcInJlY3RhbmdsZVwiO1xuICAgIGNvbnN0IHNwb2NGb3JtYXRDbGFzc05hbWUgPSBpc01lZGl1bVJlY3RhbmdsZSA/IGBkcy1zcG9jLXJlY3RhbmdsZWAgOiBgYDtcbiAgICBjb25zdCBmYXZpY29uU3JjID0gdGhpcy5nZXRGYXZpY29uU3JjKCk7XG5cbiAgICBsZXQgaW1hZ2VzID0gdGhpcy5yZW5kZXJJbWFnZSh7IHNpemVzOiB0aGlzLnN0YW5kYXJkQ2FyZEltYWdlU2l6ZXMgfSk7XG4gICAgaWYgKGlzTWVkaXVtUmVjdGFuZ2xlKSB7XG4gICAgICBpbWFnZXMgPSB0aGlzLnJlbmRlckltYWdlKCk7XG4gICAgfSBlbHNlIGlmIChpc0xpc3RDYXJkKSB7XG4gICAgICBpbWFnZXMgPSB0aGlzLnJlbmRlckltYWdlKHsgc2l6ZXM6IHRoaXMubGlzdENhcmRJbWFnZVNpemVzIH0pO1xuICAgIH0gZWxzZSBpZiAoc2VjdGlvbnNFbmFibGVkKSB7XG4gICAgICBpbWFnZXMgPSB0aGlzLnJlbmRlclNlY3Rpb25DYXJkSW1hZ2VzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxhcnRpY2xlXG4gICAgICAgIGNsYXNzTmFtZT17YGRzLWNhcmQgJHtsaXN0Q2FyZENsYXNzTmFtZX0gJHtmYWtlc3BvdENsYXNzTmFtZX0gJHtzZWN0aW9uc0NhcmRzQ2xhc3NOYW1lfSAke2NvbXBhY3RJbWFnZXNDbGFzc05hbWV9ICR7aW1hZ2VHcmFkaWVudENsYXNzTmFtZX0gJHt0aXRsZUxpbmVzTmFtZX0gJHtkZXNjTGluZXNDbGFzc05hbWV9ICR7c3BvY0Zvcm1hdENsYXNzTmFtZX0gJHtjdGFCdXR0b25DbGFzc05hbWV9ICR7Y3RhQnV0dG9uVmFyaWFudENsYXNzTmFtZX0gJHtyZWZpbmVkQ2FyZHNDbGFzc05hbWV9YH1cbiAgICAgICAgcmVmPXt0aGlzLnNldENvbnRleHRNZW51QnV0dG9uSG9zdFJlZn1cbiAgICAgICAgZGF0YS1wb3NpdGlvbi1vbmU9e3RoaXMucHJvcHNbXCJkYXRhLXBvc2l0aW9uLW9uZVwiXX1cbiAgICAgICAgZGF0YS1wb3NpdGlvbi10d289e3RoaXMucHJvcHNbXCJkYXRhLXBvc2l0aW9uLW9uZVwiXX1cbiAgICAgICAgZGF0YS1wb3NpdGlvbi10aHJlZT17dGhpcy5wcm9wc1tcImRhdGEtcG9zaXRpb24tb25lXCJdfVxuICAgICAgICBkYXRhLXBvc2l0aW9uLWZvdXI9e3RoaXMucHJvcHNbXCJkYXRhLXBvc2l0aW9uLW9uZVwiXX1cbiAgICAgID5cbiAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jYXJkLWxpbmtcIlxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIG9uTGlua0NsaWNrPXshdGhpcy5wcm9wcy5wbGFjZWhvbGRlciA/IHRoaXMub25MaW5rQ2xpY2sgOiB1bmRlZmluZWR9XG4gICAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgICBpc1Nwb25zb3JlZD17ISF0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMucHJvcHMuc2hvd1RvcGljcyAmJlxuICAgICAgICAgICAgIXRoaXMucHJvcHMubWF5SGF2ZVNlY3Rpb25zQ2FyZHMgJiZcbiAgICAgICAgICAgIHRoaXMucHJvcHMudG9waWMgJiZcbiAgICAgICAgICAgICFpc0xpc3RDYXJkICYmXG4gICAgICAgICAgICAhcmVmaW5lZENhcmRzTGF5b3V0ICYmIChcbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jYXJkLXRvcGljXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e2BuZXd0YWItdG9waWMtbGFiZWwtJHt0aGlzLnByb3BzLnRvcGljfWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1nLXdyYXBwZXJcIj57aW1hZ2VzfTwvZGl2PlxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXt0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXG4gICAgICAgICAgICAgICAgcG9zOiB0aGlzLnByb3BzLnBvcyxcbiAgICAgICAgICAgICAgICAuLi4odGhpcy5wcm9wcy5zaGltICYmIHRoaXMucHJvcHMuc2hpbS5pbXByZXNzaW9uXG4gICAgICAgICAgICAgICAgICA/IHsgc2hpbTogdGhpcy5wcm9wcy5zaGltLmltcHJlc3Npb24gfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQ6IHRoaXMucHJvcHMucmVjb21tZW5kYXRpb25faWQsXG4gICAgICAgICAgICAgICAgZmV0Y2hUaW1lc3RhbXA6IHRoaXMucHJvcHMuZmV0Y2hUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQ6IHRoaXMucHJvcHMuY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiB0aGlzLnByb3BzLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRlZF9hdDogdGhpcy5wcm9wcy5yZWNvbW1lbmRlZF9hdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rOiB0aGlzLnByb3BzLnJlY2VpdmVkX3JhbmssXG4gICAgICAgICAgICAgICAgdG9waWM6IHRoaXMucHJvcHMudG9waWMsXG4gICAgICAgICAgICAgICAgZmVhdHVyZXM6IHRoaXMucHJvcHMuZmVhdHVyZXMsXG4gICAgICAgICAgICAgICAgaXNfbGlzdF9jYXJkOiBpc0xpc3RDYXJkLFxuICAgICAgICAgICAgICAgIC4uLihmb3JtYXQgPyB7IGZvcm1hdCB9IDoge30pLFxuICAgICAgICAgICAgICAgIGlzRmFrZXNwb3QsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMucHJvcHMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgLi4uKHRoaXMucHJvcHMuc2VjdGlvblxuICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbjogdGhpcy5wcm9wcy5zZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuc2VjdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGlzX3NlY3Rpb25fZm9sbG93ZWQ6IHRoaXMucHJvcHMuc2VjdGlvbkZvbGxvd2VkLFxuICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25MYXlvdXROYW1lOiB0aGlzLnByb3BzLnNlY3Rpb25MYXlvdXROYW1lLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAuLi4oIWZvcm1hdCAmJiB0aGlzLnByb3BzLnNlY3Rpb25cbiAgICAgICAgICAgICAgICAgID8gLy8gTm90ZTogc2VjdGlvbnNDYXJkc0NsYXNzTmFtZSBpcyBwYXNzZWQgdG8gSW1wcmVzc2lvblN0YXRzLmpzeCBpbiBvcmRlciB0byBjYWxjdWxhdGUgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgIHsgY2xhc3NfbmFtZXM6IHNlY3Rpb25zQ2FyZHNDbGFzc05hbWUgfVxuICAgICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBpc0Zha2VzcG90PXtpc0Zha2VzcG90fVxuICAgICAgICAgICAgc291cmNlPXt0aGlzLnByb3BzLnR5cGV9XG4gICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA9e3RoaXMucHJvcHMuZmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICB7Y3RhQnV0dG9uVmFyaWFudCA9PT0gXCJ2YXJpYW50LWJcIiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN0YS1oZWFkZXJcIj5TaG9wIE5vdzwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2lzRmFrZXNwb3QgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXdyYXBcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGl0bGUgY2xhbXBcIj57dGhpcy5wcm9wcy50aXRsZX08L2gzPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8RGVmYXVsdE1ldGFcbiAgICAgICAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRpdGxlfVxuICAgICAgICAgICAgICBleGNlcnB0PXtleGNlcnB0fVxuICAgICAgICAgICAgICBuZXdTcG9uc29yZWRMYWJlbD17bmV3U3BvbnNvcmVkTGFiZWx9XG4gICAgICAgICAgICAgIHRpbWVUb1JlYWQ9e3RpbWVUb1JlYWR9XG4gICAgICAgICAgICAgIGNvbnRleHQ9e3RoaXMucHJvcHMuY29udGV4dH1cbiAgICAgICAgICAgICAgY29udGV4dF90eXBlPXt0aGlzLnByb3BzLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgICAgc3BvbnNvcj17dGhpcy5wcm9wcy5zcG9uc29yfVxuICAgICAgICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3RoaXMucHJvcHMuc3BvbnNvcmVkX2J5X292ZXJyaWRlfVxuICAgICAgICAgICAgICBjdGFCdXR0b25WYXJpYW50PXtjdGFCdXR0b25WYXJpYW50fVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgbWF5SGF2ZVRodW1ic1VwRG93bj17dGhpcy5wcm9wcy5tYXlIYXZlVGh1bWJzVXBEb3dufVxuICAgICAgICAgICAgICBtYXlIYXZlU2VjdGlvbnNDYXJkcz17dGhpcy5wcm9wcy5tYXlIYXZlU2VjdGlvbnNDYXJkc31cbiAgICAgICAgICAgICAgb25UaHVtYnNVcENsaWNrPXt0aGlzLm9uVGh1bWJzVXBDbGlja31cbiAgICAgICAgICAgICAgb25UaHVtYnNEb3duQ2xpY2s9e3RoaXMub25UaHVtYnNEb3duQ2xpY2t9XG4gICAgICAgICAgICAgIHN0YXRlPXt0aGlzLnN0YXRlfVxuICAgICAgICAgICAgICBpc0xpc3RDYXJkPXtpc0xpc3RDYXJkfVxuICAgICAgICAgICAgICBzaG93VG9waWNzPXshcmVmaW5lZENhcmRzTGF5b3V0ICYmIHRoaXMucHJvcHMuc2hvd1RvcGljc31cbiAgICAgICAgICAgICAgaXNTZWN0aW9uc0NhcmQ9e1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubWF5SGF2ZVNlY3Rpb25zQ2FyZHMgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvcGljICYmXG4gICAgICAgICAgICAgICAgIWlzTGlzdENhcmRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmb3JtYXQ9e2Zvcm1hdH1cbiAgICAgICAgICAgICAgdG9waWM9e3RoaXMucHJvcHMudG9waWN9XG4gICAgICAgICAgICAgIGljb25fc3JjPXtmYXZpY29uU3JjfVxuICAgICAgICAgICAgICByZWZpbmVkQ2FyZHNMYXlvdXQ9e3JlZmluZWRDYXJkc0xheW91dH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtc3RwLWJ1dHRvbi1ob3Zlci1iYWNrZ3JvdW5kXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXN0cC1idXR0b24tcG9zaXRpb24td3JhcHBlclwiPlxuICAgICAgICAgICAgeyFpc0Zha2VzcG90ICYmIChcbiAgICAgICAgICAgICAgPERTTGlua01lbnVcbiAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICAgICAgICBpbmRleD17dGhpcy5wcm9wcy5wb3N9XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgdXJsPXt0aGlzLnByb3BzLnVybH1cbiAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy50aXRsZX1cbiAgICAgICAgICAgICAgICBzb3VyY2U9e3NvdXJjZX1cbiAgICAgICAgICAgICAgICB0eXBlPXt0aGlzLnByb3BzLnR5cGV9XG4gICAgICAgICAgICAgICAgY2FyZF90eXBlPXt0aGlzLnByb3BzLmZsaWdodElkID8gXCJzcG9jXCIgOiBcIm9yZ2FuaWNcIn1cbiAgICAgICAgICAgICAgICBwb2NrZXRfaWQ9e3RoaXMucHJvcHMucG9ja2V0X2lkfVxuICAgICAgICAgICAgICAgIHNoaW09e3RoaXMucHJvcHMuc2hpbX1cbiAgICAgICAgICAgICAgICBib29rbWFya0d1aWQ9e3RoaXMucHJvcHMuYm9va21hcmtHdWlkfVxuICAgICAgICAgICAgICAgIGZsaWdodElkPXt0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICAgICAgICAgIHNob3dQcml2YWN5SW5mbz17ISF0aGlzLnByb3BzLmZsaWdodElkfVxuICAgICAgICAgICAgICAgIG9uTWVudVVwZGF0ZT17dGhpcy5vbk1lbnVVcGRhdGV9XG4gICAgICAgICAgICAgICAgb25NZW51U2hvdz17dGhpcy5vbk1lbnVTaG93fVxuICAgICAgICAgICAgICAgIGlzUmVjZW50U2F2ZT17aXNSZWNlbnRTYXZlfVxuICAgICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uX2lkPXt0aGlzLnByb3BzLnJlY29tbWVuZGF0aW9uX2lkfVxuICAgICAgICAgICAgICAgIHRpbGVfaWQ9e3RoaXMucHJvcHMuaWR9XG4gICAgICAgICAgICAgICAgYmxvY2tfa2V5PXt0aGlzLnByb3BzLmlkfVxuICAgICAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkPXt0aGlzLnByb3BzLmNvcnB1c19pdGVtX2lkfVxuICAgICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZD17dGhpcy5wcm9wcy5zY2hlZHVsZWRfY29ycHVzX2l0ZW1faWR9XG4gICAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ9e3RoaXMucHJvcHMucmVjb21tZW5kZWRfYXR9XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRfcmFuaz17dGhpcy5wcm9wcy5yZWNlaXZlZF9yYW5rfVxuICAgICAgICAgICAgICAgIGlzX2xpc3RfY2FyZD17dGhpcy5wcm9wcy5pc0xpc3RDYXJkfVxuICAgICAgICAgICAgICAgIHNlY3Rpb249e3RoaXMucHJvcHMuc2VjdGlvbn1cbiAgICAgICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uPXt0aGlzLnByb3BzLnNlY3Rpb25Qb3NpdGlvbn1cbiAgICAgICAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkPXt0aGlzLnByb3BzLnNlY3Rpb25Gb2xsb3dlZH1cbiAgICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcD17dGhpcy5wcm9wcy5mZXRjaFRpbWVzdGFtcH1cbiAgICAgICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA9e3RoaXMucHJvcHMuZmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgICAgICAgIGZvcm1hdD17XG4gICAgICAgICAgICAgICAgICBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgPyBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgOiBnZXRBY3RpdmVDYXJkU2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWN0aW9uc0NsYXNzTmFtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZsaWdodElkXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc1NlY3Rpb25zQ2FyZD17dGhpcy5wcm9wcy5tYXlIYXZlU2VjdGlvbnNDYXJkc31cbiAgICAgICAgICAgICAgICB0b3BpYz17dGhpcy5wcm9wcy50b3BpY31cbiAgICAgICAgICAgICAgICBzZWxlY3RlZF90b3BpY3M9e3RoaXMucHJvcHMuc2VsZWN0ZWRfdG9waWNzfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2FydGljbGU+XG4gICAgKTtcbiAgfVxufVxuXG5fRFNDYXJkLmRlZmF1bHRQcm9wcyA9IHtcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xufTtcblxuZXhwb3J0IGNvbnN0IERTQ2FyZCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgQXBwOiBzdGF0ZS5BcHAsXG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG59KSkoX0RTQ2FyZCk7XG5cbmV4cG9ydCBjb25zdCBQbGFjZWhvbGRlckRTQ2FyZCA9ICgpID0+IDxEU0NhcmQgcGxhY2Vob2xkZXI9e3RydWV9IC8+O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgRFNFbXB0eVN0YXRlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMub25SZXNldCA9IHRoaXMub25SZXNldC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIG9uUmVzZXQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgdGhpcy5wcm9wcy5mZWVkKSB7XG4gICAgICBjb25zdCB7IGZlZWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB7IHVybCB9ID0gZmVlZDtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBhdC5ESVNDT1ZFUllfU1RSRUFNX0ZFRURfVVBEQVRFLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZmVlZDoge1xuICAgICAgICAgICAgLi4uZmVlZCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgLi4uZmVlZC5kYXRhLFxuICAgICAgICAgICAgICBzdGF0dXM6IFwid2FpdGluZ1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHsgd2FpdGluZzogdHJ1ZSB9KTtcbiAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICB3YWl0aW5nOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICB9LCAzMDApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHsgdHlwZTogYXQuRElTQ09WRVJZX1NUUkVBTV9SRVRSWV9GRUVELCBkYXRhOiB7IGZlZWQgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJCdXR0b24oKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuc3RhdHVzID09PSBcIndhaXRpbmdcIiB8fCB0aGlzLnN0YXRlLndhaXRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uIHdhaXRpbmdcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWxvYWRpbmdcIlxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17dGhpcy5vblJlc2V0fVxuICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzY292ZXJ5LWVtcHR5LXNlY3Rpb24tdG9wc3Rvcmllcy10cnktYWdhaW4tYnV0dG9uXCJcbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclN0YXRlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnN0YXR1cyA9PT0gXCJ3YWl0aW5nXCIgfHwgdGhpcy5wcm9wcy5zdGF0dXMgPT09IFwiZmFpbGVkXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICA8aDIgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRpc2NvdmVyeS1lbXB0eS1zZWN0aW9uLXRvcHN0b3JpZXMtdGltZWQtb3V0XCIgLz5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJCdXR0b24oKX1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGgyIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWhlYWRlclwiIC8+XG4gICAgICAgIDxwIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kaXNjb3ZlcnktZW1wdHktc2VjdGlvbi10b3BzdG9yaWVzLWNvbnRlbnRcIiAvPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tZW1wdHktc3RhdGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZS1tZXNzYWdlXCI+e3RoaXMucmVuZGVyU3RhdGUoKX08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IEltcHJlc3Npb25TdGF0cyB9IGZyb20gXCIuLi8uLi9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBfVG9waWNzV2lkZ2V0KHByb3BzKSB7XG4gIGNvbnN0IHsgaWQsIHNvdXJjZSwgcG9zaXRpb24sIERpc2NvdmVyeVN0cmVhbSwgZGlzcGF0Y2ggfSA9IHByb3BzO1xuXG4gIGNvbnN0IHsgdXRtQ2FtcGFpZ24sIHV0bUNvbnRlbnQsIHV0bVNvdXJjZSB9ID0gRGlzY292ZXJ5U3RyZWFtLmV4cGVyaW1lbnREYXRhO1xuXG4gIGxldCBxdWVyeVBhcmFtcyA9IGA/dXRtX3NvdXJjZT0ke3V0bVNvdXJjZX1gO1xuICBpZiAodXRtQ2FtcGFpZ24gJiYgdXRtQ29udGVudCkge1xuICAgIHF1ZXJ5UGFyYW1zICs9IGAmdXRtX2NvbnRlbnQ9JHt1dG1Db250ZW50fSZ1dG1fY2FtcGFpZ249JHt1dG1DYW1wYWlnbn1gO1xuICB9XG5cbiAgY29uc3QgdG9waWNzID0gW1xuICAgIHsgbGFiZWw6IFwiVGVjaG5vbG9neVwiLCBuYW1lOiBcInRlY2hub2xvZ3lcIiB9LFxuICAgIHsgbGFiZWw6IFwiU2NpZW5jZVwiLCBuYW1lOiBcInNjaWVuY2VcIiB9LFxuICAgIHsgbGFiZWw6IFwiU2VsZi1JbXByb3ZlbWVudFwiLCBuYW1lOiBcInNlbGYtaW1wcm92ZW1lbnRcIiB9LFxuICAgIHsgbGFiZWw6IFwiVHJhdmVsXCIsIG5hbWU6IFwidHJhdmVsXCIgfSxcbiAgICB7IGxhYmVsOiBcIkNhcmVlclwiLCBuYW1lOiBcImNhcmVlclwiIH0sXG4gICAgeyBsYWJlbDogXCJFbnRlcnRhaW5tZW50XCIsIG5hbWU6IFwiZW50ZXJ0YWlubWVudFwiIH0sXG4gICAgeyBsYWJlbDogXCJGb29kXCIsIG5hbWU6IFwiZm9vZFwiIH0sXG4gICAgeyBsYWJlbDogXCJIZWFsdGhcIiwgbmFtZTogXCJoZWFsdGhcIiB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiBcIk11c3QtUmVhZHNcIixcbiAgICAgIG5hbWU6IFwibXVzdC1yZWFkc1wiLFxuICAgICAgdXJsOiBgaHR0cHM6Ly9nZXRwb2NrZXQuY29tL2NvbGxlY3Rpb25zJHtxdWVyeVBhcmFtc31gLFxuICAgIH0sXG4gIF07XG5cbiAgZnVuY3Rpb24gb25MaW5rQ2xpY2sodG9waWMsIHBvc2l0aW9uSW5DYXJkKSB7XG4gICAgaWYgKGRpc3BhdGNoKSB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBjYXJkX3R5cGU6IFwidG9waWNzX3dpZGdldFwiLFxuICAgICAgICAgICAgdG9waWMsXG4gICAgICAgICAgICAuLi4ocG9zaXRpb25JbkNhcmQgfHwgcG9zaXRpb25JbkNhcmQgPT09IDBcbiAgICAgICAgICAgICAgPyB7IHBvc2l0aW9uX2luX2NhcmQ6IHBvc2l0aW9uSW5DYXJkIH1cbiAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBjbGljazogMCxcbiAgICAgICAgICB3aW5kb3dfaW5uZXJfd2lkdGg6IHByb3BzLndpbmRvd09iai5pbm5lcldpZHRoLFxuICAgICAgICAgIHdpbmRvd19pbm5lcl9oZWlnaHQ6IHByb3BzLndpbmRvd09iai5pbm5lckhlaWdodCxcbiAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgcG9zOiBwb3NpdGlvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFwVG9waWNJdGVtKHRvcGljLCBpbmRleCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bGlcbiAgICAgICAga2V5PXt0b3BpYy5uYW1lfVxuICAgICAgICBjbGFzc05hbWU9e3RvcGljLm92ZXJmbG93ID8gXCJkcy10b3BpY3Mtd2lkZ2V0LWxpc3Qtb3ZlcmZsb3ctaXRlbVwiIDogXCJcIn1cbiAgICAgID5cbiAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICB1cmw9e1xuICAgICAgICAgICAgdG9waWMudXJsIHx8XG4gICAgICAgICAgICBgaHR0cHM6Ly9nZXRwb2NrZXQuY29tL2V4cGxvcmUvJHt0b3BpYy5uYW1lfSR7cXVlcnlQYXJhbXN9YFxuICAgICAgICAgIH1cbiAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgb25MaW5rQ2xpY2s9eygpID0+IG9uTGlua0NsaWNrKHRvcGljLm5hbWUsIGluZGV4KX1cbiAgICAgICAgPlxuICAgICAgICAgIHt0b3BpYy5sYWJlbH1cbiAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXRvcGljcy13aWRnZXRcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZHMtdG9waWNzLXdpZGdldC1oZWFkZXJcIj5Qb3B1bGFyIFRvcGljczwvaGVhZGVyPlxuICAgICAgPGhyIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXRvcGljcy13aWRnZXQtbGlzdC1jb250YWluZXJcIj5cbiAgICAgICAgPHVsPnt0b3BpY3MubWFwKG1hcFRvcGljSXRlbSl9PC91bD5cbiAgICAgIDwvZGl2PlxuICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgY2xhc3NOYW1lPVwiZHMtdG9waWNzLXdpZGdldC1idXR0b24gYnV0dG9uIHByaW1hcnlcIlxuICAgICAgICB1cmw9e2BodHRwczovL2dldHBvY2tldC5jb20vJHtxdWVyeVBhcmFtc31gfVxuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIG9uTGlua0NsaWNrPXsoKSA9PiBvbkxpbmtDbGljayhcIm1vcmUtdG9waWNzXCIpfVxuICAgICAgPlxuICAgICAgICBNb3JlIFRvcGljc1xuICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgPEltcHJlc3Npb25TdGF0c1xuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIHJvd3M9e1tcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHBvczogcG9zaXRpb24sXG4gICAgICAgICAgfSxcbiAgICAgICAgXX1cbiAgICAgICAgc291cmNlPXtzb3VyY2V9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5fVG9waWNzV2lkZ2V0LmRlZmF1bHRQcm9wcyA9IHtcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xufTtcblxuZXhwb3J0IGNvbnN0IFRvcGljc1dpZGdldCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG59KSkoX1RvcGljc1dpZGdldCk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBEU0NhcmQgfSBmcm9tIFwiLi4vRFNDYXJkL0RTQ2FyZFwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db250ZXh0TWVudS9Db250ZXh0TWVudUJ1dHRvblwiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuY29uc3QgUFJFRl9MSVNURkVFRF9USVRMRSA9IFwiZGlzY292ZXJ5c3RyZWFtLmNvbnRleHR1YWxDb250ZW50Lmxpc3RGZWVkVGl0bGVcIjtcbmNvbnN0IFBSRUZfRkFLRVNQT1RfQ0FURUdST1kgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5mYWtlc3BvdC5kZWZhdWx0Q2F0ZWdvcnlUaXRsZVwiO1xuY29uc3QgUFJFRl9GQUtFU1BPVF9GT09URVIgPVxuICBcImRpc2NvdmVyeXN0cmVhbS5jb250ZXh0dWFsQ29udGVudC5mYWtlc3BvdC5mb290ZXJDb3B5XCI7XG5jb25zdCBQUkVGX0ZBS0VTUE9UX0NUQV9DT1BZID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuZmFrZXNwb3QuY3RhQ29weVwiO1xuY29uc3QgUFJFRl9GQUtFU1BPVF9DVEFfVVJMID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuZmFrZXNwb3QuY3RhVXJsXCI7XG5jb25zdCBQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9TRUxFQ1RFRF9GRUVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuc2VsZWN0ZWRGZWVkXCI7XG5cbmZ1bmN0aW9uIExpc3RGZWVkKHsgdHlwZSwgZmlyc3RWaXNpYmxlVGltZXN0YW1wLCByZWNzLCBjYXRlZ29yaWVzLCBkaXNwYXRjaCB9KSB7XG4gIGNvbnN0IFtzZWxlY3RlZEZha2VzcG90RmVlZCwgc2V0U2VsZWN0ZWRGYWtlc3BvdEZlZWRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IHByZWZzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuUHJlZnMudmFsdWVzKTtcbiAgY29uc3QgbGlzdEZlZWRUaXRsZSA9IHByZWZzW1BSRUZfTElTVEZFRURfVElUTEVdO1xuICBjb25zdCBjYXRlZ29yeVRpdGxlID0gcHJlZnNbUFJFRl9GQUtFU1BPVF9DQVRFR1JPWV07XG4gIGNvbnN0IGZvb3RlckNvcHkgPSBwcmVmc1tQUkVGX0ZBS0VTUE9UX0ZPT1RFUl07XG4gIGNvbnN0IGN0YUNvcHkgPSBwcmVmc1tQUkVGX0ZBS0VTUE9UX0NUQV9DT1BZXTtcbiAgY29uc3QgY3RhVXJsID0gcHJlZnNbUFJFRl9GQUtFU1BPVF9DVEFfVVJMXTtcblxuICBjb25zdCBpc0Zha2VzcG90ID1cbiAgICBwcmVmc1tQUkVGX0NPTlRFWFRVQUxfQ09OVEVOVF9TRUxFQ1RFRF9GRUVEXSA9PT0gXCJmYWtlc3BvdFwiO1xuICAvLyBUb2RvOiBuZWVkIHRvIHJlbW92ZSBhZHMgd2hpbGUgdXNpbmcgZGVmYXVsdCByZWNvbW1lbmRhdGlvbnMsIHJlbW92ZSB0aGlzIGxpbmUgb25jZSBBUEkgaGFzIGJlZW4gdXBkYXRlZC5cbiAgbGV0IGxpc3RGZWVkUmVjcyA9IHNlbGVjdGVkRmFrZXNwb3RGZWVkXG4gICAgPyByZWNzLmZpbHRlcihyZWMgPT4gcmVjLmNhdGVnb3J5ID09PSBzZWxlY3RlZEZha2VzcG90RmVlZClcbiAgICA6IHJlY3M7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ3RhQ2xpY2soKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogXCJGQUtFU1BPVF9DVEFfQ0xJQ0tcIixcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZShlKSB7XG4gICAgc2V0U2VsZWN0ZWRGYWtlc3BvdEZlZWQoZS50YXJnZXQudmFsdWUpO1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiRkFLRVNQT1RfQ0FURUdPUllcIixcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBjYXRlZ29yeTogZS50YXJnZXQudmFsdWUgfHwgXCJcIixcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IGNvbnRleHRNZW51T3B0aW9ucyA9IFtcIkZha2VzcG90RGlzbWlzc1wiLCBcIkFib3V0RmFrZXNwb3RcIl07XG5cbiAgY29uc3QgeyBsZW5ndGg6IGxpc3RMZW5ndGggfSA9IGxpc3RGZWVkUmVjcztcbiAgLy8gZGV0ZXJtaW5lIGlmIHRoZSBsaXN0IHNob3VsZCB0YWtlIHVwIGFsbCBhdmFpbGlibGUgaGVpZ2h0IG9yIG5vdFxuICBjb25zdCBmdWxsTGlzdCA9IGxpc3RMZW5ndGggPj0gNTtcbiAgcmV0dXJuIChcbiAgICBsaXN0TGVuZ3RoID4gMCAmJiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGxpc3QtZmVlZCAke2Z1bGxMaXN0ID8gXCJmdWxsLWhlaWdodFwiIDogXCJcIn0gJHtcbiAgICAgICAgICBsaXN0TGVuZ3RoID4gMiA/IFwic3Bhbi0yXCIgOiBcInNwYW4tMVwiXG4gICAgICAgIH1gfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtZmVlZC1pbm5lci13cmFwcGVyXCI+XG4gICAgICAgICAge2lzRmFrZXNwb3QgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZha2VzcG90LWhlYWRpbmdcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcm9wZG93bi13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmFrZXNwb3QtZHJvcGRvd25cIlxuICAgICAgICAgICAgICAgICAgbmFtZT1cImZha2VzcG90LWNhdGVnb3JpZXNcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkRmFrZXNwb3RGZWVkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeVRpdGxlIHx8IFwiSG9saWRheSBHaWZ0IEd1aWRlXCJ9XG4gICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtjYXRlZ29yeX0gdmFsdWU9e2NhdGVnb3J5fT5cbiAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZXh0LW1lbnUtd3JhcHBlclwiPlxuICAgICAgICAgICAgICAgICAgPENvbnRleHRNZW51QnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8TGlua01lbnVcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17Y29udGV4dE1lbnVPcHRpb25zfVxuICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgc2l0ZT17eyB1cmw6IFwiaHR0cHM6Ly93d3cuZmFrZXNwb3QuY29tXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmYWtlc3BvdC1kZXNjXCI+e2xpc3RGZWVkVGl0bGV9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJsaXN0LWZlZWQtdGl0bGVcIiBpZD1cImxpc3QtZmVlZC10aXRsZVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tbmV3c2ZlZWRcIj48L3NwYW4+XG4gICAgICAgICAgICAgIHtsaXN0RmVlZFRpdGxlfVxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZmVlZC1jb250ZW50XCJcbiAgICAgICAgICAgIHJvbGU9XCJtZW51XCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cImxpc3QtZmVlZC10aXRsZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xpc3RGZWVkUmVjcy5zbGljZSgwLCA1KS5tYXAoKHJlYywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFyZWMgfHwgcmVjLnBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxEU0NhcmRcbiAgICAgICAgICAgICAgICAgICAga2V5PXtgbGlzdC1jYXJkLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIGlzTGlzdENhcmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8RFNDYXJkXG4gICAgICAgICAgICAgICAgICBrZXk9e2BsaXN0LWNhcmQtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgcG9zPXtpbmRleH1cbiAgICAgICAgICAgICAgICAgIGZsaWdodElkPXtyZWMuZmxpZ2h0X2lkfVxuICAgICAgICAgICAgICAgICAgaW1hZ2Vfc3JjPXtyZWMuaW1hZ2Vfc3JjfVxuICAgICAgICAgICAgICAgICAgcmF3X2ltYWdlX3NyYz17cmVjLnJhd19pbWFnZV9zcmN9XG4gICAgICAgICAgICAgICAgICB3b3JkX2NvdW50PXtyZWMud29yZF9jb3VudH1cbiAgICAgICAgICAgICAgICAgIHRpbWVfdG9fcmVhZD17cmVjLnRpbWVfdG9fcmVhZH1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtyZWMudGl0bGV9XG4gICAgICAgICAgICAgICAgICB0b3BpYz17cmVjLnRvcGljfVxuICAgICAgICAgICAgICAgICAgZXhjZXJwdD17cmVjLmV4Y2VycHR9XG4gICAgICAgICAgICAgICAgICB1cmw9e3JlYy51cmx9XG4gICAgICAgICAgICAgICAgICBpZD17cmVjLmlkfVxuICAgICAgICAgICAgICAgICAgc2hpbT17cmVjLnNoaW19XG4gICAgICAgICAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgICAgICAgICAgY29udGV4dD17cmVjLmNvbnRleHR9XG4gICAgICAgICAgICAgICAgICBzcG9uc29yPXtyZWMuc3BvbnNvcn1cbiAgICAgICAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17cmVjLnNwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIHNvdXJjZT17cmVjLmRvbWFpbn1cbiAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlcj17cmVjLnB1Ymxpc2hlcn1cbiAgICAgICAgICAgICAgICAgIHBvY2tldF9pZD17cmVjLnBvY2tldF9pZH1cbiAgICAgICAgICAgICAgICAgIGNvbnRleHRfdHlwZT17cmVjLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17cmVjLmJvb2ttYXJrR3VpZH1cbiAgICAgICAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17Zmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgICAgICAgICAgY29ycHVzX2l0ZW1faWQ9e3JlYy5jb3JwdXNfaXRlbV9pZH1cbiAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZD17cmVjLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZH1cbiAgICAgICAgICAgICAgICAgIHJlY29tbWVuZGVkX2F0PXtyZWMucmVjb21tZW5kZWRfYXR9XG4gICAgICAgICAgICAgICAgICByZWNlaXZlZF9yYW5rPXtyZWMucmVjZWl2ZWRfcmFua31cbiAgICAgICAgICAgICAgICAgIGlzTGlzdENhcmQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICBpc0Zha2VzcG90PXtpc0Zha2VzcG90fVxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk9e3JlYy5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICB7aXNGYWtlc3BvdCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmFrZXNwb3QtZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgPHA+e2Zvb3RlckNvcHl9PC9wPlxuICAgICAgICAgICAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmYWtlc3BvdC1jdGFcIlxuICAgICAgICAgICAgICAgICAgdXJsPXtjdGFVcmx9XG4gICAgICAgICAgICAgICAgICByZWZlcnJlcj17XCJcIn1cbiAgICAgICAgICAgICAgICAgIG9uTGlua0NsaWNrPXtoYW5kbGVDdGFDbGlja31cbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7Y3RhQ29weX1cbiAgICAgICAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gICk7XG59XG5cbmV4cG9ydCB7IExpc3RGZWVkIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcIi4uLy4uL0xpbmtNZW51L0xpbmtNZW51XCI7XG5cbi8qKlxuICogQSBjb250ZXh0IG1lbnUgZm9yIElBQiBiYW5uZXJzIChlLmcuIGJpbGxib2FyZCwgbGVhZGVyYm9hcmQpLlxuICpcbiAqIE5vdGU6IE1SRUMgYWQgZm9ybWF0cyBhbmQgc3BvbnNvcmVkIHN0b3JpZXMgc2hhcmUgdGhlIGNvbnRleHQgbWVudSB3aXRoXG4gKiBvdGhlciBjYXJkczogbWFrZSBzdXJlIHlvdSBhbHNvIGxvb2sgYXQgRFNMaW5rTWVudSBjb21wb25lbnRcbiAqIHRvIGtlZXAgYW55IHVwZGF0ZXMgdG8gYWQtcmVsYXRlZCBjb250ZXh0IG1lbnUgaXRlbXMgaW4gc3luYy5cbiAqXG4gKiBAcGFyYW0gZGlzcGF0Y2hcbiAqIEBwYXJhbSBzcG9jXG4gKiBAcGFyYW0gcG9zaXRpb25cbiAqIEBwYXJhbSB0eXBlXG4gKiBAcGFyYW0gc2hvd0FkUmVwb3J0aW5nXG4gKiBAcmV0dXJucyB7RWxlbWVudH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRCYW5uZXJDb250ZXh0TWVudSh7XG4gIGRpc3BhdGNoLFxuICBzcG9jLFxuICBwb3NpdGlvbixcbiAgdHlwZSxcbiAgc2hvd0FkUmVwb3J0aW5nLFxuICB0b2dnbGVBY3RpdmUgPSAoKSA9PiB7fSxcbn0pIHtcbiAgY29uc3QgQURCQU5ORVJfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gICAgXCJCbG9ja0FkVXJsXCIsXG4gICAgLi4uKHNob3dBZFJlcG9ydGluZyA/IFtcIlJlcG9ydEFkXCJdIDogW10pLFxuICAgIFwiTWFuYWdlU3BvbnNvcmVkQ29udGVudFwiLFxuICAgIFwiT3VyU3BvbnNvcnNBbmRZb3VyUHJpdmFjeVwiLFxuICBdO1xuXG4gIGNvbnN0IFtzaG93Q29udGV4dE1lbnUsIHNldFNob3dDb250ZXh0TWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb250ZXh0TWVudUNsYXNzTmFtZXMsIHNldENvbnRleHRNZW51Q2xhc3NOYW1lc10gPVxuICAgIHVzZVN0YXRlKFwiYWRzLWNvbnRleHQtbWVudVwiKTtcblxuICAvLyBUaGUga2V5Ym9hcmQgYWNjZXNzIHBhcmFtZXRlciBpcyBwYXNzZWQgZG93biB0byBMaW5rTWVudSBjb21wb25lbnRcbiAgLy8gdGhhdCB1c2VzIGl0IHRvIGZvY3VzIG9uIHRoZSBmaXJzdCBjb250ZXh0IG1lbnUgb3B0aW9uIGZvciBhY2Nlc3NpYmlsaXR5LlxuICBjb25zdCBbaXNLZXlib2FyZEFjY2Vzcywgc2V0SXNLZXlib2FyZEFjY2Vzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIHN0eWxlIGZpeCBmb3IgY29udGV4dCBtZW51IGhvdmVyL2FjdGl2ZSBzdHlsZXMuXG4gICAqIFRoaXMgYWxsb3dzIHVzIHRvIGhhdmUgdW5vYnRydXNpdmUsIHRyYW5zcGFyZW50IGJ1dHRvbiBiYWNrZ3JvdW5kIGJ5IGRlZmF1bHQsXG4gICAqIHlldCBmbGlwIGl0IG92ZXIgdG8gc2VtaS10cmFuc3BhcmVudCBncmV5IHdoZW4gdGhlIG1lbnUgaXMgdmlzaWJsZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRleHRNZW51T3BlblxuICAgKi9cbiAgY29uc3QgdG9nZ2xlQ29udGV4dE1lbnVTdHlsZVN3aXRjaCA9IGNvbnRleHRNZW51T3BlbiA9PiB7XG4gICAgaWYgKGNvbnRleHRNZW51T3Blbikge1xuICAgICAgc2V0Q29udGV4dE1lbnVDbGFzc05hbWVzKFwiYWRzLWNvbnRleHQtbWVudSBjb250ZXh0LW1lbnUtb3BlblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0Q29udGV4dE1lbnVDbGFzc05hbWVzKFwiYWRzLWNvbnRleHQtbWVudVwiKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIGNvbnRleHQgbWVudSB0byBvcGVuIG9yIGNsb3NlLiBTZXRzIHN0YXRlIGRlcGVuZGluZyBvbiB3aGV0aGVyXG4gICAqIHRoZSBjb250ZXh0IG1lbnUgaXMgYWNjZXNzZWQgYnkgbW91c2Ugb3Iga2V5Ym9hcmQuXG4gICAqXG4gICAqIEBwYXJhbSBpc0tleUJvYXJkXG4gICAqL1xuICBjb25zdCB0b2dnbGVDb250ZXh0TWVudSA9IGlzS2V5Qm9hcmQgPT4ge1xuICAgIHRvZ2dsZUNvbnRleHRNZW51U3R5bGVTd2l0Y2goIXNob3dDb250ZXh0TWVudSk7XG4gICAgdG9nZ2xlQWN0aXZlKCFzaG93Q29udGV4dE1lbnUpO1xuICAgIHNldFNob3dDb250ZXh0TWVudSghc2hvd0NvbnRleHRNZW51KTtcbiAgICBzZXRJc0tleWJvYXJkQWNjZXNzKGlzS2V5Qm9hcmQpO1xuICB9O1xuXG4gIGNvbnN0IG9uQ2xpY2sgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdG9nZ2xlQ29udGV4dE1lbnUoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IG9uS2V5RG93biA9IGUgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiIHx8IGUua2V5ID09PSBcIiBcIikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdG9nZ2xlQ29udGV4dE1lbnUodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uVXBkYXRlID0gKCkgPT4ge1xuICAgIHRvZ2dsZUNvbnRleHRNZW51U3R5bGVTd2l0Y2goIXNob3dDb250ZXh0TWVudSk7XG4gICAgdG9nZ2xlQWN0aXZlKCFzaG93Q29udGV4dE1lbnUpO1xuICAgIHNldFNob3dDb250ZXh0TWVudSghc2hvd0NvbnRleHRNZW51KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRzLWNvbnRleHQtbWVudS13cmFwcGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29udGV4dE1lbnVDbGFzc05hbWVzfT5cbiAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICB0eXBlPVwiaWNvblwiXG4gICAgICAgICAgc2l6ZT1cImRlZmF1bHRcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LWNvbnRlbnQtdG9vbHRpcFwiXG4gICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9e0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHRpdGxlOiBzcG9jLnRpdGxlIHx8IHNwb2Muc3BvbnNvciB8fCBzcG9jLmFsdF90ZXh0LFxuICAgICAgICAgIH0pfVxuICAgICAgICAgIGljb25zcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9tb3JlLnN2Z1wiXG4gICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICBvbktleURvd249e29uS2V5RG93bn1cbiAgICAgICAgLz5cbiAgICAgICAge3Nob3dDb250ZXh0TWVudSAmJiAoXG4gICAgICAgICAgPExpbmtNZW51XG4gICAgICAgICAgICBvblVwZGF0ZT17b25VcGRhdGV9XG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBrZXlib2FyZEFjY2Vzcz17aXNLZXlib2FyZEFjY2Vzc31cbiAgICAgICAgICAgIG9wdGlvbnM9e0FEQkFOTkVSX0NPTlRFWFRfTUVOVV9PUFRJT05TfVxuICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17dHJ1ZX1cbiAgICAgICAgICAgIHVzZXJFdmVudD17YWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50fVxuICAgICAgICAgICAgc2l0ZT17e1xuICAgICAgICAgICAgICAvLyBQcm9wcyB3ZSB3YW50IHRvIHBhc3Mgb24gZm9yIG5ldyBhZCB0eXBlcyB0aGF0IGNvbWUgZnJvbSBVbmlmaWVkIEFkcyBBUElcbiAgICAgICAgICAgICAgYmxvY2tfa2V5OiBzcG9jLmJsb2NrX2tleSxcbiAgICAgICAgICAgICAgZmV0Y2hUaW1lc3RhbXA6IHNwb2MuZmV0Y2hUaW1lc3RhbXAsXG4gICAgICAgICAgICAgIGZsaWdodF9pZDogc3BvYy5mbGlnaHRfaWQsXG4gICAgICAgICAgICAgIGZvcm1hdDogc3BvYy5mb3JtYXQsXG4gICAgICAgICAgICAgIGlkOiBzcG9jLmlkLFxuICAgICAgICAgICAgICBndWlkOiBzcG9jLmd1aWQsXG4gICAgICAgICAgICAgIGNhcmRfdHlwZTogXCJzcG9jXCIsXG4gICAgICAgICAgICAgIC8vIHJlcXVpcmVkIHRvIHJlY29yZCB0ZWxlbWV0cnkgZm9yIGFuIGFjdGlvbiwgc2VlIGhhbmRsZUJsb2NrVXJsIGluIFRlbGVtZXRyeUZlZWQuc3lzLm1qc1xuICAgICAgICAgICAgICBpc19wb2NrZXRfY2FyZDogdHJ1ZSxcbiAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgIHNwb25zb3I6IHNwb2Muc3BvbnNvcixcbiAgICAgICAgICAgICAgdGl0bGU6IHNwb2MudGl0bGUsXG4gICAgICAgICAgICAgIHVybDogc3BvYy51cmwgfHwgc3BvYy5zaGltLnVybCxcbiAgICAgICAgICAgICAgcGVyc29uYWxpemF0aW9uX21vZGVsczogc3BvYy5wZXJzb25hbGl6YXRpb25fbW9kZWxzLFxuICAgICAgICAgICAgICBwcmlvcml0eTogc3BvYy5wcmlvcml0eSxcbiAgICAgICAgICAgICAgc2NvcmU6IHNwb2Muc2NvcmUsXG4gICAgICAgICAgICAgIGFsdF90ZXh0OiBzcG9jLmFsdF90ZXh0LFxuICAgICAgICAgICAgICBzaGltOiBzcG9jLnNoaW0sXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgaW5kZXg9e3Bvc2l0aW9ufVxuICAgICAgICAgICAgc291cmNlPXt0eXBlLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCI7XG5cbmNvbnN0IFBSRUZfUFJPTU9fQ0FSRF9ESVNNSVNTRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5wcm9tb0NhcmQudmlzaWJsZVwiO1xuXG4vKipcbiAqIFRoZSBQcm9tb0NhcmQgY29tcG9uZW50IGRpc3BsYXlzIGEgcHJvbW90aW9uYWwgbWVzc2FnZS5cbiAqIEl0IGlzIHVzZWQgbmV4dCB0byB0aGUgQWRCYW5uZXIgY29tcG9uZW50IGluIGEgZm91ci1jb2x1bW4gbGF5b3V0LlxuICovXG5cbmNvbnN0IFByb21vQ2FyZCA9ICgpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuXG4gIGNvbnN0IG9uQ3RhQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuUFJPTU9fQ0FSRF9DTElDSyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgY29uc3Qgb25EaXNtaXNzQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuUFJPTU9fQ0FSRF9ESVNNSVNTLFxuICAgICAgfSlcbiAgICApO1xuICAgIGRpc3BhdGNoKGFjLlNldFByZWYoUFJFRl9QUk9NT19DQVJEX0RJU01JU1NFRCwgZmFsc2UpKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgY29uc3QgaGFuZGxlSW50ZXJzZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlBST01PX0NBUkRfSU1QUkVTU0lPTixcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgY29uc3QgcmVmID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cInByb21vLWNhcmQtd3JhcHBlclwiXG4gICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBbZWxdO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInByb21vLWNhcmQtZGlzbWlzcy1idXR0b25cIj5cbiAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcHJvbW8tY2FyZC1kaXNtaXNzLWJ1dHRvblwiXG4gICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL2Nsb3NlLnN2Z1wiXG4gICAgICAgICAgb25DbGljaz17b25EaXNtaXNzQ2xpY2t9XG4gICAgICAgICAgb25LZXlEb3duPXtvbkRpc21pc3NDbGlja31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcm9tby1jYXJkLWlubmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1nLXdyYXBwZXJcIj5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9XCJjaHJvbWU6Ly9uZXd0YWIvY29udGVudC9kYXRhL2NvbnRlbnQvYXNzZXRzL3B1enpsZS1mb3guc3ZnXCJcbiAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwicHJvbW8tY2FyZC10aXRsZVwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByb21vLWNhcmQtdGl0bGVcIlxuICAgICAgICAvPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT1cInByb21vLWNhcmQtYm9keVwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByb21vLWNhcmQtYm9keVwiXG4gICAgICAgIC8+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInByb21vLWNhcmQtY3RhLXdyYXBwZXJcIj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy9rYi9zcG9uc29yLXByaXZhY3lcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXByb21vLWNhcmQtY3RhXCJcbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ3RhQ2xpY2t9XG4gICAgICAgICAgPjwvYT5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgeyBQcm9tb0NhcmQgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IEltcHJlc3Npb25TdGF0cyB9IGZyb20gXCIuLi8uLi9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzXCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IEFkQmFubmVyQ29udGV4dE1lbnUgfSBmcm9tIFwiLi4vQWRCYW5uZXJDb250ZXh0TWVudS9BZEJhbm5lckNvbnRleHRNZW51XCI7XG5pbXBvcnQgeyBQcm9tb0NhcmQgfSBmcm9tIFwiLi4vUHJvbW9DYXJkL1Byb21vQ2FyZC5qc3hcIjtcblxuY29uc3QgUFJFRl9TRUNUSU9OU19FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9PSFRUUF9VTklGSUVEX0FEUyA9IFwidW5pZmllZEFkcy5vaHR0cC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1JFUE9SVF9BRFNfRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnJlcG9ydEFkcy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1BST01PQ0FSRF9FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0ucHJvbW9DYXJkLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfUFJPTU9DQVJEX1ZJU0lCTEUgPSBcImRpc2NvdmVyeXN0cmVhbS5wcm9tb0NhcmQudmlzaWJsZVwiO1xuXG4vKipcbiAqIEEgbmV3IGJhbm5lciBhZCB0aGF0IGFwcGVhcnMgYmV0d2VlbiByb3dzIG9mIHN0b3JpZXM6IGxlYWRlcmJvYXJkIG9yIGJpbGxib2FyZCBzaXplLlxuICpcbiAqIEBwYXJhbSBzcG9jXG4gKiBAcGFyYW0gZGlzcGF0Y2hcbiAqIEBwYXJhbSBmaXJzdFZpc2libGVUaW1lc3RhbXBcbiAqIEBwYXJhbSByb3dcbiAqIEBwYXJhbSB0eXBlXG4gKiBAcGFyYW0gcHJlZnNcbiAqIEByZXR1cm5zIHtFbGVtZW50fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBBZEJhbm5lciA9ICh7XG4gIHNwb2MsXG4gIGRpc3BhdGNoLFxuICBmaXJzdFZpc2libGVUaW1lc3RhbXAsXG4gIHJvdyxcbiAgdHlwZSxcbiAgcHJlZnMsXG59KSA9PiB7XG4gIGNvbnN0IGdldERpbWVuc2lvbnMgPSBmb3JtYXQgPT4ge1xuICAgIHN3aXRjaCAoZm9ybWF0KSB7XG4gICAgICBjYXNlIFwibGVhZGVyYm9hcmRcIjpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogXCI3MjhcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiOTBcIixcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgXCJiaWxsYm9hcmRcIjpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogXCI5NzBcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMjUwXCIsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAvLyBpbWFnZSB3aWxsIHN0aWxsIHJlbmRlciB3aXRoIGRlZmF1bHQgdmFsdWVzXG4gICAgICB3aWR0aDogdW5kZWZpbmVkLFxuICAgICAgaGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgcHJvbW9DYXJkRW5hYmxlZCA9XG4gICAgc3BvYy5mb3JtYXQgPT09IFwiYmlsbGJvYXJkXCIgJiZcbiAgICBwcmVmc1tQUkVGX1BST01PQ0FSRF9FTkFCTEVEXSAmJlxuICAgIHByZWZzW1BSRUZfUFJPTU9DQVJEX1ZJU0lCTEVdO1xuXG4gIGNvbnN0IHNlY3Rpb25zRW5hYmxlZCA9IHByZWZzW1BSRUZfU0VDVElPTlNfRU5BQkxFRF07XG4gIGNvbnN0IG9odHRwRW5hYmxlZCA9IHByZWZzW1BSRUZfT0hUVFBfVU5JRklFRF9BRFNdO1xuICBjb25zdCBzaG93QWRSZXBvcnRpbmcgPSBwcmVmc1tQUkVGX1JFUE9SVF9BRFNfRU5BQkxFRF07XG4gIGNvbnN0IG9odHRwSW1hZ2VzRW5hYmxlZCA9IHByZWZzLm9odHRwSW1hZ2VzQ29uZmlnPy5lbmFibGVkO1xuICBjb25zdCBbbWVudUFjdGl2ZSwgc2V0TWVudUFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGFkQmFubmVyV3JhcHBlckNsYXNzTmFtZSA9IGBhZC1iYW5uZXItd3JhcHBlciAke21lbnVBY3RpdmUgPyBcImFjdGl2ZVwiIDogXCJcIn0gJHtwcm9tb0NhcmRFbmFibGVkID8gXCJwcm9tby1jYXJkXCIgOiBcIlwifWA7XG5cbiAgY29uc3QgeyB3aWR0aDogaW1nV2lkdGgsIGhlaWdodDogaW1nSGVpZ2h0IH0gPSBnZXREaW1lbnNpb25zKHNwb2MuZm9ybWF0KTtcblxuICBjb25zdCBvbkxpbmtDbGljayA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgIHNvdXJjZTogdHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgICAvLyBCYW5uZXIgYWRzIGRvbid0IGhhdmUgYSBwb3NpdGlvbiwgYnV0IGEgcm93IG51bWJlclxuICAgICAgICBhY3Rpb25fcG9zaXRpb246IHBhcnNlSW50KHJvdywgMTApLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGNhcmRfdHlwZTogXCJzcG9jXCIsXG4gICAgICAgICAgdGlsZV9pZDogc3BvYy5pZCxcbiAgICAgICAgICAuLi4oc3BvYy5zaGltPy5jbGljayA/IHsgc2hpbTogc3BvYy5zaGltLmNsaWNrIH0gOiB7fSksXG4gICAgICAgICAgZmV0Y2hUaW1lc3RhbXA6IHNwb2MuZmV0Y2hUaW1lc3RhbXAsXG4gICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wLFxuICAgICAgICAgIGZvcm1hdDogc3BvYy5mb3JtYXQsXG4gICAgICAgICAgLi4uKHNlY3Rpb25zRW5hYmxlZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbjogc3BvYy5mb3JtYXQsXG4gICAgICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogcGFyc2VJbnQocm93LCAxMCksXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge30pLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUFjdGl2ZSA9IGFjdGl2ZSA9PiB7XG4gICAgc2V0TWVudUFjdGl2ZShhY3RpdmUpO1xuICB9O1xuXG4gIC8vIGluIHRoZSBkZWZhdWx0IGNhcmQgZ3JpZCAxIHdvdWxkIGNvbWUgYmVmb3JlIHRoZSAxc3Qgcm93IG9mIGNhcmRzIGFuZCA5IGNvbWVzIGFmdGVyIHRoZSBsYXN0IHJvd1xuICAvLyB1c2luZyBjbGFtcCB0byBtYWtlIHN1cmUgaXRzIGJldHdlZW4gdmFsaWQgdmFsdWVzICgxLTkpXG4gIGNvbnN0IGNsYW1wZWRSb3cgPSBNYXRoLm1heCgxLCBNYXRoLm1pbig5LCByb3cpKTtcblxuICBjb25zdCBzZWN1cmVJbWFnZSA9IG9odHRwSW1hZ2VzRW5hYmxlZCAmJiBvaHR0cEVuYWJsZWQ7XG5cbiAgbGV0IHJhd0ltYWdlU3JjID0gc3BvYy5yYXdfaW1hZ2Vfc3JjO1xuXG4gIC8vIFdyYXBzIHRoZSBpbWFnZSBVUkwgd2l0aCB0aGUgbW96LWNhY2hlZC1vaHR0cDovLyBwcm90b2NvbC5cbiAgLy8gVGhpcyBlbmFibGVzIEZpcmVmb3ggdG8gbG9hZCByZXNvdXJjZXMgb3ZlciBPYmxpdmlvdXMgSFRUUCAoT0hUVFApLFxuICAvLyBwcm92aWRpbmcgcHJpdmFjeS1wcmVzZXJ2aW5nIHJlc291cmNlIGxvYWRpbmcuXG4gIC8vIEFwcGxpZWQgb25seSB3aGVuIGluZmVycmVkIHBlcnNvbmFsaXphdGlvbiBpcyBlbmFibGVkLlxuICAvLyBTZWU6IGh0dHBzOi8vZmlyZWZveC1zb3VyY2UtZG9jcy5tb3ppbGxhLm9yZy9icm93c2VyL2NvbXBvbmVudHMvbW96Y2FjaGVkb2h0dHAvZG9jcy9pbmRleC5odG1sXG4gIGlmIChzZWN1cmVJbWFnZSkge1xuICAgIHJhd0ltYWdlU3JjID0gYG1vei1jYWNoZWQtb2h0dHA6Ly9uZXd0YWItaW1hZ2UvP3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChzcG9jLnJhd19pbWFnZV9zcmMpfWA7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxhc2lkZSBjbGFzc05hbWU9e2FkQmFubmVyV3JhcHBlckNsYXNzTmFtZX0gc3R5bGU9e3sgZ3JpZFJvdzogY2xhbXBlZFJvdyB9fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWQtYmFubmVyLWlubmVyICR7c3BvYy5mb3JtYXR9YH0+XG4gICAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWQtYmFubmVyLWxpbmtcIlxuICAgICAgICAgIHVybD17c3BvYy51cmx9XG4gICAgICAgICAgdGl0bGU9e3Nwb2MudGl0bGUgfHwgc3BvYy5zcG9uc29yIHx8IHNwb2MuYWx0X3RleHR9XG4gICAgICAgICAgb25MaW5rQ2xpY2s9e29uTGlua0NsaWNrfVxuICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICBpc1Nwb25zb3JlZD17dHJ1ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXtzcG9jLmZsaWdodF9pZH1cbiAgICAgICAgICAgIHJvd3M9e1tcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiBzcG9jLmlkLFxuICAgICAgICAgICAgICAgIGNhcmRfdHlwZTogXCJzcG9jXCIsXG4gICAgICAgICAgICAgICAgcG9zOiByb3csXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ6IHNwb2MucmVjb21tZW5kZWRfYXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRfcmFuazogc3BvYy5yZWNlaXZlZF9yYW5rLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogc3BvYy5mb3JtYXQsXG4gICAgICAgICAgICAgICAgLi4uKHNwb2Muc2hpbT8uaW1wcmVzc2lvblxuICAgICAgICAgICAgICAgICAgPyB7IHNoaW06IHNwb2Muc2hpbS5pbXByZXNzaW9uIH1cbiAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17Zmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZC1iYW5uZXItY29udGVudFwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9e3Jhd0ltYWdlU3JjfVxuICAgICAgICAgICAgICBhbHQ9e3Nwb2MuYWx0X3RleHR9XG4gICAgICAgICAgICAgIGxvYWRpbmc9XCJlYWdlclwiXG4gICAgICAgICAgICAgIHdpZHRoPXtpbWdXaWR0aH1cbiAgICAgICAgICAgICAgaGVpZ2h0PXtpbWdIZWlnaHR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWQtYmFubmVyLXNwb25zb3JlZFwiPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWQtYmFubmVyLXNwb25zb3JlZC1sYWJlbFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1sYWJlbC1zcG9uc29yZWQtZml4ZWRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkLWJhbm5lci1ob3Zlci1iYWNrZ3JvdW5kXCI+XG4gICAgICAgICAgPEFkQmFubmVyQ29udGV4dE1lbnVcbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIHNwb2M9e3Nwb2N9XG4gICAgICAgICAgICBwb3NpdGlvbj17cm93fVxuICAgICAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgICAgIHNob3dBZFJlcG9ydGluZz17c2hvd0FkUmVwb3J0aW5nfVxuICAgICAgICAgICAgdG9nZ2xlQWN0aXZlPXt0b2dnbGVBY3RpdmV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtwcm9tb0NhcmRFbmFibGVkICYmIDxQcm9tb0NhcmQgLz59XG4gICAgPC9hc2lkZT5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCIuLi8uLi9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vLi4vbGliL3V0aWxzXCI7XG5cbmNvbnN0IFBSRUZfVFJFTkRJTkdfVkFSSUFOVCA9IFwidHJlbmRpbmdTZWFyY2gudmFyaWFudFwiO1xuY29uc3QgUFJFRl9SRUZJTkVEX0NBUkRTX0xBWU9VVCA9IFwiZGlzY292ZXJ5c3RyZWFtLnJlZmluZWRDYXJkc0xheW91dC5lbmFibGVkXCI7XG5cbmZ1bmN0aW9uIFRyZW5kaW5nU2VhcmNoZXMoKSB7XG4gIGNvbnN0IFtzaG93Q29udGV4dE1lbnUsIHNldFNob3dDb250ZXh0TWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vIFRoZSBrZXlib2FyZCBhY2Nlc3MgcGFyYW1ldGVyIGlzIHBhc3NlZCBkb3duIHRvIExpbmtNZW51IGNvbXBvbmVudFxuICAvLyB0aGF0IHVzZXMgaXQgdG8gZm9jdXMgb24gdGhlIGZpcnN0IGNvbnRleHQgbWVudSBvcHRpb24gZm9yIGFjY2Vzc2liaWxpdHkuXG4gIGNvbnN0IFtpc0tleWJvYXJkQWNjZXNzLCBzZXRJc0tleWJvYXJkQWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCB7IFRyZW5kaW5nU2VhcmNoLCBQcmVmcyB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUpO1xuICBjb25zdCB7IHZhbHVlczogcHJlZnMgfSA9IFByZWZzO1xuICBjb25zdCB7IHN1Z2dlc3Rpb25zLCBjb2xsYXBzZWQgfSA9IFRyZW5kaW5nU2VhcmNoO1xuICBjb25zdCB2YXJpYW50ID0gcHJlZnNbUFJFRl9UUkVORElOR19WQVJJQU5UXTtcbiAgY29uc3QgcmVmaW5lZENhcmRzID0gcHJlZnNbUFJFRl9SRUZJTkVEX0NBUkRTX0xBWU9VVF07XG4gIGxldCByZXN1bHRSZWYgPSB1c2VSZWYoW10pO1xuICBsZXQgY29udGV4dE1lbnVIb3N0ID0gdXNlUmVmKG51bGwpO1xuXG4gIGNvbnN0IFRSRU5ESU5HX1NFQVJDSF9DT05URVhUX01FTlVfT1BUSU9OUyA9IFtcbiAgICBcIlRyZW5kaW5nU2VhcmNoRGlzbWlzc1wiLFxuICAgIFwiVHJlbmRpbmdTZWFyY2hMZWFybk1vcmVcIixcbiAgXTtcblxuICBmdW5jdGlvbiBvbkFycm93Q2xpY2soKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuVFJFTkRJTkdfU0VBUkNIX1RPR0dMRV9DT0xMQVBTRSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNvbGxhcHNlZDogIWNvbGxhcHNlZCxcbiAgICAgICAgICB2YXJpYW50LFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTGlua09wZW4oKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuVFJFTkRJTkdfU0VBUkNIX1NVR0dFU1RJT05fT1BFTixcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHZhcmlhbnQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvLyBJZiB0aGUgd2luZG93IGlzIHNtYWxsLCB0aGUgY29udGV4dCBtZW51IGluIHZhcmlhbnQgQiB3aWxsIG1vdmUgY2xvc2VyIHRvIHRoZSBjYXJkXG4gIC8vIHNvIHRoYXQgaXQgZG9lc24ndCBjdXQgb2ZmXG4gIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51U2hvdyA9ICgpID0+IHtcbiAgICBjb25zdCBob3N0ID0gY29udGV4dE1lbnVIb3N0LmN1cnJlbnQ7XG4gICAgY29uc3QgaXNSVEwgPSBkb2N1bWVudC5kaXIgPT09IFwicnRsXCI7IC8vIHJldHVybnMgdHJ1ZSBpZiBwYWdlIGxhbmd1YWdlIGlzIHJpZ2h0LXRvLWxlZnRcbiAgICBjb25zdCBjaGVja1JlY3QgPSBob3N0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IG1heEJvdW5kcyA9IDIwMDtcblxuICAgIC8vIEFkZHMgdGhlIGNsYXNzIG9mIFwibGFzdC1pdGVtXCIgaWYgdGhlIGNhcmQgaXMgbmVhciB0aGUgZWRnZSBvZiB0aGUgd2luZG93XG4gICAgY29uc3QgY2hlY2tCb3VuZHMgPSBpc1JUTFxuICAgICAgPyBjaGVja1JlY3QubGVmdCA8PSBtYXhCb3VuZHNcbiAgICAgIDogd2luZG93LmlubmVyV2lkdGggLSBjaGVja1JlY3QucmlnaHQgPD0gbWF4Qm91bmRzO1xuXG4gICAgaWYgKGNoZWNrQm91bmRzKSB7XG4gICAgICBob3N0LmNsYXNzTGlzdC5hZGQoXCJsYXN0LWl0ZW1cIik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51VXBkYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGhvc3QgPSBjb250ZXh0TWVudUhvc3QuY3VycmVudDtcbiAgICBpZiAoIWhvc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBob3N0LmNsYXNzTGlzdC5yZW1vdmUoXCJsYXN0LWl0ZW1cIik7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlQ29udGV4dE1lbnUgPSBpc0tleUJvYXJkID0+IHtcbiAgICBzZXRTaG93Q29udGV4dE1lbnUoIXNob3dDb250ZXh0TWVudSk7XG4gICAgc2V0SXNLZXlib2FyZEFjY2Vzcyhpc0tleUJvYXJkKTtcblxuICAgIGlmICghc2hvd0NvbnRleHRNZW51KSB7XG4gICAgICBoYW5kbGVDb250ZXh0TWVudVNob3coKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlQ29udGV4dE1lbnVVcGRhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gb25Db250ZXh0TWVudUNsaWNrKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdG9nZ2xlQ29udGV4dE1lbnUoZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Db250ZXh0TWVudUtleURvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiIHx8IGUua2V5ID09PSBcIiBcIikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdG9nZ2xlQ29udGV4dE1lbnUodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25VcGRhdGUoKSB7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KCFzaG93Q29udGV4dE1lbnUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0S2V5RG93bihldmVudCwgaW5kZXgpIHtcbiAgICBjb25zdCBtYXhSZXN1bHRzID0gc3VnZ2VzdGlvbnMubGVuZ3RoO1xuICAgIGxldCBuZXh0SW5kZXggPSBpbmRleDtcblxuICAgIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaW5kZXggPCBtYXhSZXN1bHRzIC0gMSkge1xuICAgICAgICBuZXh0SW5kZXggPSBpbmRleCArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBuZXh0SW5kZXggPSBpbmRleCAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVzdWx0UmVmLmN1cnJlbnRbaW5kZXhdLnRhYkluZGV4ID0gLTE7XG4gICAgcmVzdWx0UmVmLmN1cnJlbnRbbmV4dEluZGV4XS50YWJJbmRleCA9IDA7XG4gICAgcmVzdWx0UmVmLmN1cnJlbnRbbmV4dEluZGV4XS5mb2N1cygpO1xuICB9XG5cbiAgY29uc3QgaGFuZGxlSW50ZXJzZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlRSRU5ESU5HX1NFQVJDSF9JTVBSRVNTSU9OLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdmFyaWFudCxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoLCB2YXJpYW50XSk7XG5cbiAgY29uc3QgcmVmID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uKTtcbiAgaWYgKCFzdWdnZXN0aW9ucz8ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAodmFyaWFudCA9PT0gXCJhXCIgfHwgdmFyaWFudCA9PT0gXCJjXCIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNlY3Rpb25cbiAgICAgICAgcmVmPXtlbCA9PiB7XG4gICAgICAgICAgcmVmLmN1cnJlbnQgPSBbZWxdO1xuICAgICAgICB9fVxuICAgICAgICAvLyBWYXJpYW50IEMgbWF0Y2hlcyB0aGUgZGVzaWduIG9mIHZhcmlhbnQgQSBidXQgc2hvdWxkIG9ubHlcbiAgICAgICAgLy8gYXBwZWFyIG9uIGhvdmVyXG4gICAgICAgIGNsYXNzTmFtZT17YHRyZW5kaW5nLXNlYXJjaGVzLXBpbGwtd3JhcHBlciAke3ZhcmlhbnQgPT09IFwiY1wiID8gXCJob3Zlci1vbmx5XCIgOiBcIlwifWB9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtdGl0bGUtd3JhcHBlclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRyZW5kaW5nLXNlYXJjaGVzLWljb24gaWNvbiBpY29uLWFycm93LXRyZW5kaW5nXCI+PC9zcGFuPlxuICAgICAgICAgIDxoMlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtdGl0bGVcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRyZW5kaW5nLXNlYXJjaGVzLXRpdGxlXCJcbiAgICAgICAgICA+PC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsb3NlLW9wZW4tdHJlbmRpbmctc2VhcmNoZXNcIj5cbiAgICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICAgIGljb25zcmM9e2BjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9hcnJvdy0ke2NvbGxhcHNlZCA/IFwiZG93blwiIDogXCJ1cFwifS5zdmdgfVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkFycm93Q2xpY2t9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGljb24gaWNvbi1hcnJvd2hlYWQtdXBgfVxuICAgICAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17YG5ld3RhYi10cmVuZGluZy1zZWFyY2hlcy0ke2NvbGxhcHNlZCA/IFwic2hvd1wiIDogXCJoaWRlXCJ9LXRyZW5kaW5nYH1cbiAgICAgICAgICAgID48L21vei1idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7IWNvbGxhcHNlZCAmJiAoXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRyZW5kaW5nLXNlYXJjaGVzLWxpc3RcIj5cbiAgICAgICAgICAgIHtzdWdnZXN0aW9ucy5tYXAoKHJlc3VsdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgIGtleT17cmVzdWx0LnN1Z2dlc3Rpb259XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0cmVuZGluZy1zZWFyY2gtaXRlbVwiXG4gICAgICAgICAgICAgICAgICBvbktleURvd249e2UgPT4gaGFuZGxlUmVzdWx0S2V5RG93bihlLCBpbmRleCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICAgICAgICAgICAgdXJsPXtyZXN1bHQuc2VhcmNoVXJsfVxuICAgICAgICAgICAgICAgICAgICBvbkxpbmtDbGljaz17aGFuZGxlTGlua09wZW59XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXtyZXN1bHQuc3VnZ2VzdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVmPXtpdGVtID0+IChyZXN1bHRSZWYuY3VycmVudFtpbmRleF0gPSBpdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9e2luZGV4ID09PSAwID8gMCA6IC0xfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7cmVzdWx0Lmxvd2VyQ2FzZVN1Z2dlc3Rpb259XG4gICAgICAgICAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICl9XG4gICAgICA8L3NlY3Rpb24+XG4gICAgKTtcbiAgfSBlbHNlIGlmICh2YXJpYW50ID09PSBcImJcIikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICAgIHJlZi5jdXJyZW50ID0gW2VsXTtcbiAgICAgICAgICBjb250ZXh0TWVudUhvc3QuY3VycmVudCA9IGVsO1xuICAgICAgICB9fVxuICAgICAgICBjbGFzc05hbWU9XCJ0cmVuZGluZy1zZWFyY2hlcy1saXN0LXZpZXdcIlxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyZW5kaW5nLXNlYXJjaGVzLWxpc3Qtdmlldy1oZWFkZXJcIj5cbiAgICAgICAgICA8aDMgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRyZW5kaW5nLXNlYXJjaGVzLXRpdGxlXCI+PC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyZW5kaW5nLXNlYXJjaGVzLWNvbnRleHQtbWVudS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRyZW5kaW5nLXNlYXJjaGVzLWNvbnRleHQtbWVudSAke3Nob3dDb250ZXh0TWVudSA/IFwiY29udGV4dC1tZW51LW9wZW5cIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LXNlY3Rpb24tdG9vbHRpcFwiXG4gICAgICAgICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL21vcmUuc3ZnXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNvbnRleHRNZW51Q2xpY2t9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXtvbkNvbnRleHRNZW51S2V5RG93bn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge3Nob3dDb250ZXh0TWVudSAmJiAoXG4gICAgICAgICAgICAgICAgPExpbmtNZW51XG4gICAgICAgICAgICAgICAgICBvblVwZGF0ZT17b25VcGRhdGV9XG4gICAgICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgICAgICBrZXlib2FyZEFjY2Vzcz17aXNLZXlib2FyZEFjY2Vzc31cbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e1RSRU5ESU5HX1NFQVJDSF9DT05URVhUX01FTlVfT1BUSU9OU31cbiAgICAgICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgICAgICAgICBzaXRlPXt7XG4gICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL3N1cHBvcnQubW96aWxsYS5vcmcvMS9maXJlZm94LyVWRVJTSU9OJS8lT1MlLyVMT0NBTEUlL3RyZW5kaW5nLXNlYXJjaGVzLW5ldy10YWJcIixcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudCxcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRyZW5kaW5nLXNlYXJjaGVzLWxpc3QtaXRlbXNcIj5cbiAgICAgICAgICB7c3VnZ2VzdGlvbnMuc2xpY2UoMCwgNikubWFwKChyZXN1bHQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICBrZXk9e3Jlc3VsdC5zdWdnZXN0aW9ufVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRyZW5kaW5nLXNlYXJjaGVzLWxpc3QtaXRlbSAke3JlZmluZWRDYXJkcyA/IFwiY29tcGFjdFwiIDogXCJcIn1gfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiBoYW5kbGVSZXN1bHRLZXlEb3duKGUsIGluZGV4KX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgICAgICAgICAgICB1cmw9e3Jlc3VsdC5zZWFyY2hVcmx9XG4gICAgICAgICAgICAgICAgICBvbkxpbmtDbGljaz17aGFuZGxlTGlua09wZW59XG4gICAgICAgICAgICAgICAgICB0aXRsZT17cmVzdWx0LnN1Z2dlc3Rpb259XG4gICAgICAgICAgICAgICAgICBzZXRSZWY9e2l0ZW0gPT4gKHJlc3VsdFJlZi5jdXJyZW50W2luZGV4XSA9IGl0ZW0pfVxuICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9e2luZGV4ID09PSAwID8gMCA6IC0xfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtyZXN1bHQuaWNvbiA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmVuZGluZy1pY29uLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17cmVzdWx0Lmljb259IGFsdD1cIlwiIGNsYXNzTmFtZT1cInRyZW5kaW5nLWljb25cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJlbmRpbmctaW5mby13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVzdWx0Lmxvd2VyQ2FzZVN1Z2dlc3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+e3Jlc3VsdC5kZXNjcmlwdGlvbn08L3NtYWxsPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJlbmRpbmctc2VhcmNoZXMtaWNvbiBpY29uIGljb24tYXJyb3ctdHJlbmRpbmdcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge3Jlc3VsdC5sb3dlckNhc2VTdWdnZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHsgVHJlbmRpbmdTZWFyY2hlcyB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgRFNDYXJkLCBQbGFjZWhvbGRlckRTQ2FyZCB9IGZyb20gXCIuLi9EU0NhcmQvRFNDYXJkLmpzeFwiO1xuaW1wb3J0IHsgRFNFbXB0eVN0YXRlIH0gZnJvbSBcIi4uL0RTRW1wdHlTdGF0ZS9EU0VtcHR5U3RhdGUuanN4XCI7XG5pbXBvcnQgeyBUb3BpY3NXaWRnZXQgfSBmcm9tIFwiLi4vVG9waWNzV2lkZ2V0L1RvcGljc1dpZGdldC5qc3hcIjtcbmltcG9ydCB7IExpc3RGZWVkIH0gZnJvbSBcIi4uL0xpc3RGZWVkL0xpc3RGZWVkLmpzeFwiO1xuaW1wb3J0IHsgQWRCYW5uZXIgfSBmcm9tIFwiLi4vQWRCYW5uZXIvQWRCYW5uZXIuanN4XCI7XG5pbXBvcnQgeyBGbHVlbnRPclRleHQgfSBmcm9tIFwiLi4vLi4vRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dC5qc3hcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgVHJlbmRpbmdTZWFyY2hlcyB9IGZyb20gXCIuLi9UcmVuZGluZ1NlYXJjaGVzL1RyZW5kaW5nU2VhcmNoZXMuanN4XCI7XG5jb25zdCBQUkVGX1NFQ1RJT05TX0NBUkRTX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5jYXJkcy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1RIVU1CU19VUF9ET1dOX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS50aHVtYnNVcERvd24uZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9UT1BJQ1NfRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljTGFiZWxzLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfVE9QSUNTX1NFTEVDVEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24uc2VsZWN0ZWRUb3BpY3NcIjtcbmNvbnN0IFBSRUZfVE9QSUNTX0FWQUlMQUJMRSA9IFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLnRvcGljc1wiO1xuY29uc3QgUFJFRl9TUE9DU19TVEFSVFVQQ0FDSEVfRU5BQkxFRCA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNwb2NzLnN0YXJ0dXBDYWNoZS5lbmFibGVkXCI7XG5jb25zdCBQUkVGX0xJU1RfRkVFRF9FTkFCTEVEID0gXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9MSVNUX0ZFRURfU0VMRUNURURfRkVFRCA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLmNvbnRleHR1YWxDb250ZW50LnNlbGVjdGVkRmVlZFwiO1xuY29uc3QgUFJFRl9GQUtFU1BPVF9FTkFCTEVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uY29udGV4dHVhbENvbnRlbnQuZmFrZXNwb3QuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9CSUxMQk9BUkRfRU5BQkxFRCA9IFwibmV3dGFiQWRTaXplLmJpbGxib2FyZFwiO1xuY29uc3QgUFJFRl9CSUxMQk9BUkRfUE9TSVRJT04gPSBcIm5ld3RhYkFkU2l6ZS5iaWxsYm9hcmQucG9zaXRpb25cIjtcbmNvbnN0IFBSRUZfTEVBREVSQk9BUkRfRU5BQkxFRCA9IFwibmV3dGFiQWRTaXplLmxlYWRlcmJvYXJkXCI7XG5jb25zdCBQUkVGX0xFQURFUkJPQVJEX1BPU0lUSU9OID0gXCJuZXd0YWJBZFNpemUubGVhZGVyYm9hcmQucG9zaXRpb25cIjtcbmNvbnN0IFBSRUZfVFJFTkRJTkdfU0VBUkNIID0gXCJ0cmVuZGluZ1NlYXJjaC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1RSRU5ESU5HX1NFQVJDSF9TWVNURU0gPSBcInN5c3RlbS50cmVuZGluZ1NlYXJjaC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1NFQVJDSF9FTkdJTkUgPSBcInRyZW5kaW5nU2VhcmNoLmRlZmF1bHRTZWFyY2hFbmdpbmVcIjtcbmNvbnN0IFBSRUZfVFJFTkRJTkdfU0VBUkNIX1ZBUklBTlQgPSBcInRyZW5kaW5nU2VhcmNoLnZhcmlhbnRcIjtcbmNvbnN0IFdJREdFVF9JRFMgPSB7XG4gIFRPUElDUzogMSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBEU1N1YkhlYWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdG9wLWJhciBkcy1zdWItaGVhZGVyXCI+XG4gICAgICA8aDMgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZS1jb250YWluZXJcIj57Y2hpbGRyZW59PC9oMz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuZXhwb3J0IGZ1bmN0aW9uIEludGVyc2VjdGlvbk9ic2VydmVyKHtcbiAgY2hpbGRyZW4sXG4gIHdpbmRvd09iaiA9IHdpbmRvdyxcbiAgb25JbnRlcnNlY3RpbmcsXG59KSB7XG4gIGNvbnN0IGludGVyc2VjdGlvbkVsZW1lbnQgPSB1c2VSZWYobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgb2JzZXJ2ZXI7XG4gICAgaWYgKCFvYnNlcnZlciAmJiBvbkludGVyc2VjdGluZyAmJiBpbnRlcnNlY3Rpb25FbGVtZW50LmN1cnJlbnQpIHtcbiAgICAgIG9ic2VydmVyID0gbmV3IHdpbmRvd09iai5JbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzLmZpbmQoZSA9PiBlLmlzSW50ZXJzZWN0aW5nKTtcblxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAvLyBTdG9wIG9ic2VydmluZyBzaW5jZSBlbGVtZW50IGhhcyBiZWVuIHNlZW5cbiAgICAgICAgICBpZiAob2JzZXJ2ZXIgJiYgaW50ZXJzZWN0aW9uRWxlbWVudC5jdXJyZW50KSB7XG4gICAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoaW50ZXJzZWN0aW9uRWxlbWVudC5jdXJyZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvbkludGVyc2VjdGluZygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoaW50ZXJzZWN0aW9uRWxlbWVudC5jdXJyZW50KTtcbiAgICB9XG4gICAgLy8gQ2xlYW51cFxuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICB9LCBbd2luZG93T2JqLCBvbkludGVyc2VjdGluZ10pO1xuXG4gIHJldHVybiA8ZGl2IHJlZj17aW50ZXJzZWN0aW9uRWxlbWVudH0+e2NoaWxkcmVufTwvZGl2Pjtcbn1cblxuZXhwb3J0IGNsYXNzIF9DYXJkR3JpZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHNcbiAgcmVuZGVyQ2FyZHMoKSB7XG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICBjb25zdCB7XG4gICAgICBpdGVtcyxcbiAgICAgIGN0YUJ1dHRvblNwb25zb3JzLFxuICAgICAgY3RhQnV0dG9uVmFyaWFudCxcbiAgICAgIHdpZGdldHMsXG4gICAgICBEaXNjb3ZlcnlTdHJlYW0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCB7IHRvcGljc0xvYWRpbmcgfSA9IERpc2NvdmVyeVN0cmVhbTtcbiAgICBjb25zdCBtYXlIYXZlU2VjdGlvbnNDYXJkcyA9IHByZWZzW1BSRUZfU0VDVElPTlNfQ0FSRFNfRU5BQkxFRF07XG4gICAgY29uc3QgbWF5SGF2ZVRodW1ic1VwRG93biA9IHByZWZzW1BSRUZfVEhVTUJTX1VQX0RPV05fRU5BQkxFRF07XG4gICAgY29uc3Qgc2hvd1RvcGljcyA9IHByZWZzW1BSRUZfVE9QSUNTX0VOQUJMRURdO1xuICAgIGNvbnN0IHNlbGVjdGVkVG9waWNzID0gcHJlZnNbUFJFRl9UT1BJQ1NfU0VMRUNURURdO1xuICAgIGNvbnN0IGF2YWlsYWJsZVRvcGljcyA9IHByZWZzW1BSRUZfVE9QSUNTX0FWQUlMQUJMRV07XG4gICAgY29uc3Qgc3BvY3NTdGFydHVwQ2FjaGVFbmFibGVkID0gcHJlZnNbUFJFRl9TUE9DU19TVEFSVFVQQ0FDSEVfRU5BQkxFRF07XG4gICAgY29uc3QgbGlzdEZlZWRFbmFibGVkID0gcHJlZnNbUFJFRl9MSVNUX0ZFRURfRU5BQkxFRF07XG4gICAgY29uc3QgbGlzdEZlZWRTZWxlY3RlZEZlZWQgPSBwcmVmc1tQUkVGX0xJU1RfRkVFRF9TRUxFQ1RFRF9GRUVEXTtcbiAgICBjb25zdCBiaWxsYm9hcmRFbmFibGVkID0gcHJlZnNbUFJFRl9CSUxMQk9BUkRfRU5BQkxFRF07XG4gICAgY29uc3QgbGVhZGVyYm9hcmRFbmFibGVkID0gcHJlZnNbUFJFRl9MRUFERVJCT0FSRF9FTkFCTEVEXTtcbiAgICBjb25zdCB0cmVuZGluZ0VuYWJsZWQgPVxuICAgICAgcHJlZnNbUFJFRl9UUkVORElOR19TRUFSQ0hdICYmXG4gICAgICBwcmVmc1tQUkVGX1RSRU5ESU5HX1NFQVJDSF9TWVNURU1dICYmXG4gICAgICBwcmVmc1tQUkVGX1NFQVJDSF9FTkdJTkVdPy50b0xvd2VyQ2FzZSgpID09PSBcImdvb2dsZVwiO1xuICAgIGNvbnN0IHRyZW5kaW5nVmFyaWFudCA9IHByZWZzW1BSRUZfVFJFTkRJTkdfU0VBUkNIX1ZBUklBTlRdO1xuXG4gICAgLy8gZmlsdGVyIG91dCByZWNzIHRoYXQgc2hvdWxkIGJlIGluIExpc3RGZWVkXG4gICAgY29uc3QgcmVjcyA9IHRoaXMucHJvcHMuZGF0YS5yZWNvbW1lbmRhdGlvbnNcbiAgICAgIC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5mZWVkTmFtZSlcbiAgICAgIC5zbGljZSgwLCBpdGVtcyk7XG4gICAgY29uc3QgY2FyZHMgPSBbXTtcblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpdGVtczsgaW5kZXgrKykge1xuICAgICAgY29uc3QgcmVjID0gcmVjc1tpbmRleF07XG4gICAgICBjYXJkcy5wdXNoKFxuICAgICAgICB0b3BpY3NMb2FkaW5nIHx8XG4gICAgICAgICAgIXJlYyB8fFxuICAgICAgICAgIHJlYy5wbGFjZWhvbGRlciB8fFxuICAgICAgICAgIChyZWMuZmxpZ2h0X2lkICYmXG4gICAgICAgICAgICAhc3BvY3NTdGFydHVwQ2FjaGVFbmFibGVkICYmXG4gICAgICAgICAgICB0aGlzLnByb3BzLkFwcC5pc0ZvclN0YXJ0dXBDYWNoZS5EaXNjb3ZlcnlTdHJlYW0pID8gKFxuICAgICAgICAgIDxQbGFjZWhvbGRlckRTQ2FyZCBrZXk9e2Bkc2NhcmQtJHtpbmRleH1gfSAvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxEU0NhcmRcbiAgICAgICAgICAgIGtleT17YGRzY2FyZC0ke3JlYy5pZH1gfVxuICAgICAgICAgICAgcG9zPXtyZWMucG9zfVxuICAgICAgICAgICAgZmxpZ2h0SWQ9e3JlYy5mbGlnaHRfaWR9XG4gICAgICAgICAgICBpbWFnZV9zcmM9e3JlYy5pbWFnZV9zcmN9XG4gICAgICAgICAgICByYXdfaW1hZ2Vfc3JjPXtyZWMucmF3X2ltYWdlX3NyY31cbiAgICAgICAgICAgIGljb25fc3JjPXtyZWMuaWNvbl9zcmN9XG4gICAgICAgICAgICB3b3JkX2NvdW50PXtyZWMud29yZF9jb3VudH1cbiAgICAgICAgICAgIHRpbWVfdG9fcmVhZD17cmVjLnRpbWVfdG9fcmVhZH1cbiAgICAgICAgICAgIHRpdGxlPXtyZWMudGl0bGV9XG4gICAgICAgICAgICB0b3BpYz17cmVjLnRvcGljfVxuICAgICAgICAgICAgZmVhdHVyZXM9e3JlYy5mZWF0dXJlc31cbiAgICAgICAgICAgIHNob3dUb3BpY3M9e3Nob3dUb3BpY3N9XG4gICAgICAgICAgICBzZWxlY3RlZFRvcGljcz17c2VsZWN0ZWRUb3BpY3N9XG4gICAgICAgICAgICBleGNlcnB0PXtyZWMuZXhjZXJwdH1cbiAgICAgICAgICAgIGF2YWlsYWJsZVRvcGljcz17YXZhaWxhYmxlVG9waWNzfVxuICAgICAgICAgICAgdXJsPXtyZWMudXJsfVxuICAgICAgICAgICAgaWQ9e3JlYy5pZH1cbiAgICAgICAgICAgIHNoaW09e3JlYy5zaGltfVxuICAgICAgICAgICAgZmV0Y2hUaW1lc3RhbXA9e3JlYy5mZXRjaFRpbWVzdGFtcH1cbiAgICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgIGNvbnRleHQ9e3JlYy5jb250ZXh0fVxuICAgICAgICAgICAgc3BvbnNvcj17cmVjLnNwb25zb3J9XG4gICAgICAgICAgICBzcG9uc29yZWRfYnlfb3ZlcnJpZGU9e3JlYy5zcG9uc29yZWRfYnlfb3ZlcnJpZGV9XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHNvdXJjZT17cmVjLmRvbWFpbn1cbiAgICAgICAgICAgIHB1Ymxpc2hlcj17cmVjLnB1Ymxpc2hlcn1cbiAgICAgICAgICAgIHBvY2tldF9pZD17cmVjLnBvY2tldF9pZH1cbiAgICAgICAgICAgIGNvbnRleHRfdHlwZT17cmVjLmNvbnRleHRfdHlwZX1cbiAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17cmVjLmJvb2ttYXJrR3VpZH1cbiAgICAgICAgICAgIGN0YUJ1dHRvblNwb25zb3JzPXtjdGFCdXR0b25TcG9uc29yc31cbiAgICAgICAgICAgIGN0YUJ1dHRvblZhcmlhbnQ9e2N0YUJ1dHRvblZhcmlhbnR9XG4gICAgICAgICAgICByZWNvbW1lbmRhdGlvbl9pZD17cmVjLnJlY29tbWVuZGF0aW9uX2lkfVxuICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXt0aGlzLnByb3BzLmZpcnN0VmlzaWJsZVRpbWVzdGFtcH1cbiAgICAgICAgICAgIG1heUhhdmVUaHVtYnNVcERvd249e21heUhhdmVUaHVtYnNVcERvd259XG4gICAgICAgICAgICBtYXlIYXZlU2VjdGlvbnNDYXJkcz17bWF5SGF2ZVNlY3Rpb25zQ2FyZHN9XG4gICAgICAgICAgICBjb3JwdXNfaXRlbV9pZD17cmVjLmNvcnB1c19pdGVtX2lkfVxuICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkPXtyZWMuc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkfVxuICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ9e3JlYy5yZWNvbW1lbmRlZF9hdH1cbiAgICAgICAgICAgIHJlY2VpdmVkX3Jhbms9e3JlYy5yZWNlaXZlZF9yYW5rfVxuICAgICAgICAgICAgZm9ybWF0PXtyZWMuZm9ybWF0fVxuICAgICAgICAgICAgYWx0X3RleHQ9e3JlYy5hbHRfdGV4dH1cbiAgICAgICAgICAgIGlzVGltZVNlbnNpdGl2ZT17cmVjLmlzVGltZVNlbnNpdGl2ZX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh3aWRnZXRzPy5wb3NpdGlvbnM/Lmxlbmd0aCAmJiB3aWRnZXRzPy5kYXRhPy5sZW5ndGgpIHtcbiAgICAgIGxldCBwb3NpdGlvbkluZGV4ID0gMDtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IFwiQ0FSREdSSURfV0lER0VUXCI7XG5cbiAgICAgIGZvciAoY29uc3Qgd2lkZ2V0IG9mIHdpZGdldHMuZGF0YSkge1xuICAgICAgICBsZXQgd2lkZ2V0Q29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB3aWRnZXRzLnBvc2l0aW9uc1twb3NpdGlvbkluZGV4XTtcblxuICAgICAgICAvLyBTdG9wIGlmIHdlIHJ1biBvdXQgb2YgcG9zaXRpb25zIHRvIHBsYWNlIHdpZGdldHMuXG4gICAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAod2lkZ2V0Py50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcIlRvcGljc1dpZGdldFwiOlxuICAgICAgICAgICAgd2lkZ2V0Q29tcG9uZW50ID0gKFxuICAgICAgICAgICAgICA8VG9waWNzV2lkZ2V0XG4gICAgICAgICAgICAgICAgcG9zaXRpb249e3Bvc2l0aW9uLmluZGV4fVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgIHNvdXJjZT17c291cmNlfVxuICAgICAgICAgICAgICAgIGlkPXtXSURHRVRfSURTLlRPUElDU31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWRnZXRDb21wb25lbnQpIHtcbiAgICAgICAgICAvLyBXZSBmb3VuZCBhIHdpZGdldCwgc28gdXAgdGhlIHBvc2l0aW9uIGZvciBuZXh0IHRyeS5cbiAgICAgICAgICBwb3NpdGlvbkluZGV4Kys7XG4gICAgICAgICAgLy8gV2UgcmVwbGFjZSBhbiBleGlzdGluZyBjYXJkIHdpdGggdGhlIHdpZGdldC5cbiAgICAgICAgICBjYXJkcy5zcGxpY2UocG9zaXRpb24uaW5kZXgsIDEsIHdpZGdldENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxpc3RGZWVkRW5hYmxlZCkge1xuICAgICAgY29uc3QgaXNGYWtlc3BvdCA9IGxpc3RGZWVkU2VsZWN0ZWRGZWVkID09PSBcImZha2VzcG90XCI7XG4gICAgICBjb25zdCBmYWtlc3BvdEVuYWJsZWQgPSBwcmVmc1tQUkVGX0ZBS0VTUE9UX0VOQUJMRURdO1xuICAgICAgaWYgKCFpc0Zha2VzcG90IHx8IChpc0Zha2VzcG90ICYmIGZha2VzcG90RW5hYmxlZCkpIHtcbiAgICAgICAgLy8gUGxhY2UgdGhlIGxpc3QgZmVlZCBhcyB0aGUgM3JkIGVsZW1lbnQgaW4gdGhlIGNhcmQgZ3JpZFxuICAgICAgICBjYXJkcy5zcGxpY2UoXG4gICAgICAgICAgMixcbiAgICAgICAgICAxLFxuICAgICAgICAgIHRoaXMucmVuZGVyTGlzdEZlZWQoXG4gICAgICAgICAgICB0aGlzLnByb3BzLmRhdGEucmVjb21tZW5kYXRpb25zLFxuICAgICAgICAgICAgbGlzdEZlZWRTZWxlY3RlZEZlZWRcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0cmVuZGluZ0VuYWJsZWQgJiYgdHJlbmRpbmdWYXJpYW50ID09PSBcImJcIikge1xuICAgICAgY29uc3QgZmlyc3RTcG9jUG9zaXRpb24gPSB0aGlzLnByb3BzLnNwb2NQb3NpdGlvbnNbMF0/LmluZGV4O1xuICAgICAgLy8gZG91YmxlIGNoZWNrIHRoYXQgYSBzcG9jL21yZWMgaXMgYWN0dWFsbHkgaW4gdGhlIGluZGV4IGl0IHNob3VsZCBiZSBpblxuICAgICAgY29uc3QgZm9ybWF0ID0gY2FyZHNbZmlyc3RTcG9jUG9zaXRpb25dPy5wcm9wcz8uZm9ybWF0O1xuICAgICAgY29uc3QgaXNTcG9jID0gZm9ybWF0ID09PSBcInNwb2NcIiB8fCBmb3JtYXQgPT09IFwicmVjdGFuZ2xlXCI7XG4gICAgICAvLyBpZiB0aGUgc3BvYyBpcyBub3QgaW4gaXRzIHBvc2l0aW9uLCBwbGFjZSBUcmVuZGluZ1NlYXJjaGVzIGluIHRoZSAzcmQgcG9zaXRpb25cbiAgICAgIGNhcmRzLnNwbGljZShpc1Nwb2MgPyBmaXJzdFNwb2NQb3NpdGlvbiArIDEgOiAyLCAxLCA8VHJlbmRpbmdTZWFyY2hlcyAvPik7XG4gICAgfVxuXG4gICAgLy8gaWYgYSBiYW5uZXIgYWQgaXMgZW5hYmxlZCBhbmQgd2UgaGF2ZSBhbnkgYXZhaWxhYmxlLCBwbGFjZSB0aGVtIGluIHRoZSBncmlkXG4gICAgY29uc3QgeyBzcG9jcyB9ID0gdGhpcy5wcm9wcy5EaXNjb3ZlcnlTdHJlYW07XG5cbiAgICBpZiAoXG4gICAgICAoYmlsbGJvYXJkRW5hYmxlZCB8fCBsZWFkZXJib2FyZEVuYWJsZWQpICYmXG4gICAgICBzcG9jcz8uZGF0YT8ubmV3dGFiX3Nwb2NzPy5pdGVtc1xuICAgICkge1xuICAgICAgLy8gT25seSByZW5kZXIgb25lIEFkQmFubmVyIGluIHRoZSBncmlkIC1cbiAgICAgIC8vIFByaW9yaXRpemUgcmVuZGVyaW5nIGEgbGVhZGVyYm9hcmQgaWYgaXQgZXhpc3RzLFxuICAgICAgLy8gb3RoZXJ3aXNlIHJlbmRlciBhIGJpbGxib2FyZFxuICAgICAgY29uc3Qgc3BvY1RvUmVuZGVyID1cbiAgICAgICAgc3BvY3MuZGF0YS5uZXd0YWJfc3BvY3MuaXRlbXMuZmluZChcbiAgICAgICAgICAoeyBmb3JtYXQgfSkgPT4gZm9ybWF0ID09PSBcImxlYWRlcmJvYXJkXCIgJiYgbGVhZGVyYm9hcmRFbmFibGVkXG4gICAgICAgICkgfHxcbiAgICAgICAgc3BvY3MuZGF0YS5uZXd0YWJfc3BvY3MuaXRlbXMuZmluZChcbiAgICAgICAgICAoeyBmb3JtYXQgfSkgPT4gZm9ybWF0ID09PSBcImJpbGxib2FyZFwiICYmIGJpbGxib2FyZEVuYWJsZWRcbiAgICAgICAgKTtcblxuICAgICAgaWYgKHNwb2NUb1JlbmRlciAmJiAhc3BvY3MuYmxvY2tlZC5pbmNsdWRlcyhzcG9jVG9SZW5kZXIudXJsKSkge1xuICAgICAgICBjb25zdCByb3cgPVxuICAgICAgICAgIHNwb2NUb1JlbmRlci5mb3JtYXQgPT09IFwibGVhZGVyYm9hcmRcIlxuICAgICAgICAgICAgPyBwcmVmc1tQUkVGX0xFQURFUkJPQVJEX1BPU0lUSU9OXVxuICAgICAgICAgICAgOiBwcmVmc1tQUkVGX0JJTExCT0FSRF9QT1NJVElPTl07XG5cbiAgICAgICAgZnVuY3Rpb24gZGlzcGxheUNhcmRzUGVyUm93KCkge1xuICAgICAgICAgIC8vIERldGVybWluZXMgdGhlIG51bWJlciBvZiBjYXJkcyBwZXIgcm93IGJhc2VkIG9uIHRoZSB3aW5kb3cgd2lkdGg6XG4gICAgICAgICAgLy8gd2lkdGggPD0gMTEyMnB4OiAyIGNhcmRzIHBlciByb3dcbiAgICAgICAgICAvLyB3aWR0aCAxMTIzcHggdG8gMTY5N3B4OiAzIGNhcmRzIHBlciByb3dcbiAgICAgICAgICAvLyB3aWR0aCA+PSAxNjk4cHg6IDQgY2FyZHMgcGVyIHJvd1xuICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSAxMTIyKSB7XG4gICAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gMTEyMiAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IDE2OTgpIHtcbiAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluamVjdEFkQmFubmVyID0gYmFubmVySW5kZXggPT4ge1xuICAgICAgICAgIC8vIC5zcGxpY2UoKSBpbnNlcnRzIHRoZSBBZEJhbm5lciBhdCB0aGUgZGVzaXJlZCBpbmRleCwgZW5zdXJpbmcgY29ycmVjdCBET00gb3JkZXIgZm9yIGFjY2Vzc2liaWxpdHkgYW5kIGtleWJvYXJkIG5hdmlnYXRpb24uXG4gICAgICAgICAgLy8gLnB1c2goKSB3b3VsZCBwbGFjZSBpdCBhdCB0aGUgZW5kLCB3aGljaCBpcyB2aXN1YWxseSBpbmNvcnJlY3QgZXZlbiBpZiBhZGp1c3RlZCB3aXRoIENTUy5cbiAgICAgICAgICBjYXJkcy5zcGxpY2UoXG4gICAgICAgICAgICBiYW5uZXJJbmRleCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICA8QWRCYW5uZXJcbiAgICAgICAgICAgICAgc3BvYz17c3BvY1RvUmVuZGVyfVxuICAgICAgICAgICAgICBrZXk9e2Bkc2NhcmQtJHtzcG9jVG9SZW5kZXIuaWR9YH1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXt0aGlzLnByb3BzLmZpcnN0VmlzaWJsZVRpbWVzdGFtcH1cbiAgICAgICAgICAgICAgcm93PXtyb3d9XG4gICAgICAgICAgICAgIHByZWZzPXtwcmVmc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBnZXRCYW5uZXJJbmRleCA9ICgpID0+IHtcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGluZGV4IGZvciB3aGVyZSB0aGUgQWRCYW5uZXIgc2hvdWxkIGJlIGFkZGVkLCBkZXBlbmRpbmcgb24gbnVtYmVyIG9mIGNhcmRzIHBlciByb3cgb24gdGhlIGdyaWRcbiAgICAgICAgICBjb25zdCBjYXJkc1BlclJvdyA9IGRpc3BsYXlDYXJkc1BlclJvdygpO1xuICAgICAgICAgIGxldCBiYW5uZXJJbmRleCA9IChyb3cgLSAxKSAqIGNhcmRzUGVyUm93O1xuICAgICAgICAgIHJldHVybiBiYW5uZXJJbmRleDtcbiAgICAgICAgfTtcblxuICAgICAgICBpbmplY3RBZEJhbm5lcihnZXRCYW5uZXJJbmRleCgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBncmlkQ2xhc3NOYW1lID0gdGhpcy5yZW5kZXJHcmlkQ2xhc3NOYW1lKCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD57Y2FyZHM/Lmxlbmd0aCA+IDAgJiYgPGRpdiBjbGFzc05hbWU9e2dyaWRDbGFzc05hbWV9PntjYXJkc308L2Rpdj59PC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckxpc3RGZWVkKHJlY29tbWVuZGF0aW9ucywgc2VsZWN0ZWRGZWVkKSB7XG4gICAgY29uc3QgcmVjcyA9IHJlY29tbWVuZGF0aW9ucy5maWx0ZXIoaXRlbSA9PiBpdGVtLmZlZWROYW1lID09PSBzZWxlY3RlZEZlZWQpO1xuICAgIGNvbnN0IGlzRmFrZXNwb3QgPSBzZWxlY3RlZEZlZWQgPT09IFwiZmFrZXNwb3RcIjtcbiAgICAvLyByZW1vdmUgZHVwbGljYXRlcyBmcm9tIGNhdGVnb3J5IGxpc3RcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gWy4uLm5ldyBTZXQocmVjcy5tYXAoKHsgY2F0ZWdvcnkgfSkgPT4gY2F0ZWdvcnkpKV07XG4gICAgY29uc3QgbGlzdEZlZWQgPSAoXG4gICAgICA8TGlzdEZlZWRcbiAgICAgICAgLy8gb25seSBkaXNwbGF5IHJlY3MgdGhhdCBtYXRjaCBzZWxlY3RlZEZlZWQgZm9yIExpc3RGZWVkXG4gICAgICAgIHJlY3M9e3JlY3N9XG4gICAgICAgIGNhdGVnb3JpZXM9e2lzRmFrZXNwb3QgPyBjYXRlZ29yaWVzIDogW119XG4gICAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17dGhpcy5wcm9wcy5maXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAvPlxuICAgICk7XG4gICAgcmV0dXJuIGxpc3RGZWVkO1xuICB9XG5cbiAgcmVuZGVyR3JpZENsYXNzTmFtZSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBoeWJyaWRMYXlvdXQsXG4gICAgICBoaWRlQ2FyZEJhY2tncm91bmQsXG4gICAgICBmb3VyQ2FyZExheW91dCxcbiAgICAgIGNvbXBhY3RHcmlkLFxuICAgICAgaGlkZURlc2NyaXB0aW9ucyxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGhpZGVDYXJkQmFja2dyb3VuZENsYXNzID0gaGlkZUNhcmRCYWNrZ3JvdW5kXG4gICAgICA/IGBkcy1jYXJkLWdyaWQtaGlkZS1iYWNrZ3JvdW5kYFxuICAgICAgOiBgYDtcbiAgICBjb25zdCBmb3VyQ2FyZExheW91dENsYXNzID0gZm91ckNhcmRMYXlvdXRcbiAgICAgID8gYGRzLWNhcmQtZ3JpZC1mb3VyLWNhcmQtdmFyaWFudGBcbiAgICAgIDogYGA7XG4gICAgY29uc3QgaGlkZURlc2NyaXB0aW9uc0NsYXNzTmFtZSA9ICFoaWRlRGVzY3JpcHRpb25zXG4gICAgICA/IGBkcy1jYXJkLWdyaWQtaW5jbHVkZS1kZXNjcmlwdGlvbnNgXG4gICAgICA6IGBgO1xuICAgIGNvbnN0IGNvbXBhY3RHcmlkQ2xhc3NOYW1lID0gY29tcGFjdEdyaWQgPyBgZHMtY2FyZC1ncmlkLWNvbXBhY3RgIDogYGA7XG4gICAgY29uc3QgaHlicmlkTGF5b3V0Q2xhc3NOYW1lID0gaHlicmlkTGF5b3V0XG4gICAgICA/IGBkcy1jYXJkLWdyaWQtaHlicmlkLWxheW91dGBcbiAgICAgIDogYGA7XG5cbiAgICBjb25zdCBncmlkQ2xhc3NOYW1lID0gYGRzLWNhcmQtZ3JpZCAke2h5YnJpZExheW91dENsYXNzTmFtZX0gJHtoaWRlQ2FyZEJhY2tncm91bmRDbGFzc30gJHtmb3VyQ2FyZExheW91dENsYXNzfSAke2hpZGVEZXNjcmlwdGlvbnNDbGFzc05hbWV9ICR7Y29tcGFjdEdyaWRDbGFzc05hbWV9YDtcbiAgICByZXR1cm4gZ3JpZENsYXNzTmFtZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAvLyBIYW5kbGUgYSByZW5kZXIgYmVmb3JlIGZlZWQgaGFzIGJlZW4gZmV0Y2hlZCBieSBkaXNwbGF5aW5nIG5vdGhpbmdcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBhIHVzZXIgaGFzIGRpc21pc3NlZCBhbGwgcmVjb21tZW5kYXRpb25zXG4gICAgY29uc3QgaXNFbXB0eSA9IGRhdGEucmVjb21tZW5kYXRpb25zLmxlbmd0aCA9PT0gMDtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICB7dGhpcy5wcm9wcy50aXRsZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj57dGhpcy5wcm9wcy50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RoaXMucHJvcHMuY29udGV4dH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1jb250ZXh0XCIgLz5cbiAgICAgICAgICAgICAgPC9GbHVlbnRPclRleHQ+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7aXNFbXB0eSA/IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNhcmQtZ3JpZCBlbXB0eVwiPlxuICAgICAgICAgICAgPERTRW1wdHlTdGF0ZVxuICAgICAgICAgICAgICBzdGF0dXM9e2RhdGEuc3RhdHVzfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgZmVlZD17dGhpcy5wcm9wcy5mZWVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICB0aGlzLnJlbmRlckNhcmRzKClcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuX0NhcmRHcmlkLmRlZmF1bHRQcm9wcyA9IHtcbiAgaXRlbXM6IDQsIC8vIE51bWJlciBvZiBzdG9yaWVzIHRvIGRpc3BsYXlcbn07XG5cbmV4cG9ydCBjb25zdCBDYXJkR3JpZCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBBcHA6IHN0YXRlLkFwcCxcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG59KSkoX0NhcmRHcmlkKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEExMXlMaW5rQnV0dG9uKHByb3BzKSB7XG4gIC8vIGZ1bmN0aW9uIGZvciBtZXJnaW5nIGNsYXNzZXMsIGlmIG5lY2Vzc2FyeVxuICBsZXQgY2xhc3NOYW1lID0gXCJhMTF5LWxpbmstYnV0dG9uXCI7XG4gIGlmIChwcm9wcy5jbGFzc05hbWUpIHtcbiAgICBjbGFzc05hbWUgKz0gYCAke3Byb3BzLmNsYXNzTmFtZX1gO1xuICB9XG4gIHJldHVybiAoXG4gICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgey4uLnByb3BzfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBBMTF5TGlua0J1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ExMXlMaW5rQnV0dG9uL0ExMXlMaW5rQnV0dG9uXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjbGFzcyBFcnJvckJvdW5kYXJ5RmFsbGJhY2sgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy53aW5kb3dPYmogPSB0aGlzLnByb3BzLndpbmRvd09iaiB8fCB3aW5kb3c7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogU2luY2Ugd2Ugb25seSBnZXQgaGVyZSBpZiBwYXJ0IG9mIHRoZSBwYWdlIGhhcyBjcmFzaGVkLCBkbyBhXG4gICAqIGZvcmNlZCByZWxvYWQgdG8gZ2l2ZSB1cyB0aGUgYmVzdCBjaGFuY2UgYXQgcmVjb3ZlcmluZy5cbiAgICovXG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy53aW5kb3dPYmoubG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGRlZmF1bHRDbGFzcyA9IFwiYXMtZXJyb3ItZmFsbGJhY2tcIjtcbiAgICBsZXQgY2xhc3NOYW1lO1xuICAgIGlmIChcImNsYXNzTmFtZVwiIGluIHRoaXMucHJvcHMpIHtcbiAgICAgIGNsYXNzTmFtZSA9IGAke3RoaXMucHJvcHMuY2xhc3NOYW1lfSAke2RlZmF1bHRDbGFzc31gO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgPSBkZWZhdWx0Q2xhc3M7XG4gICAgfVxuXG4gICAgLy8gXCJBMTF5TGlua0J1dHRvblwiIHRvIGZvcmNlIG5vcm1hbCBsaW5rIHN0eWxpbmcgc3R1ZmYgKGVnIGN1cnNvciBvbiBob3ZlcilcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWVycm9yLWZhbGxiYWNrLWluZm9cIiAvPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8QTExeUxpbmtCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbG9hZC1idXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWVycm9yLWZhbGxiYWNrLXJlZnJlc2gtbGlua1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuRXJyb3JCb3VuZGFyeUZhbGxiYWNrLmRlZmF1bHRQcm9wcyA9IHsgY2xhc3NOYW1lOiBcImFzLWVycm9yLWZhbGxiYWNrXCIgfTtcblxuZXhwb3J0IGNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaGFzRXJyb3I6IGZhbHNlIH07XG4gIH1cblxuICBjb21wb25lbnREaWRDYXRjaCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IHRydWUgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICByZXR1cm4gPHRoaXMucHJvcHMuRmFsbGJhY2tDb21wb25lbnQgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gLz47XG4gIH1cbn1cblxuRXJyb3JCb3VuZGFyeS5kZWZhdWx0UHJvcHMgPSB7IEZhbGxiYWNrQ29tcG9uZW50OiBFcnJvckJvdW5kYXJ5RmFsbGJhY2sgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5L0Vycm9yQm91bmRhcnlcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBBIHNlY3Rpb24gdGhhdCBjYW4gY29sbGFwc2UuIEFzIG9mIGJ1ZyAxNzEwOTM3LCBpdCBjYW4gbm8gbG9uZ2VyIGNvbGxhcHNlLlxuICogU2VlIGJ1ZyAxNzI3MzY1IGZvciBmb2xsb3ctdXAgd29yayB0byBzaW1wbGlmeSB0aGlzIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIF9Db2xsYXBzaWJsZVNlY3Rpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkJvZHlNb3VudCA9IHRoaXMub25Cb2R5TW91bnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlRW50ZXIgPSB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlRW50ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlTGVhdmUgPSB0aGlzLm9uTWVudUJ1dHRvbk1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVVwZGF0ZSA9IHRoaXMub25NZW51VXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXRDb250ZXh0TWVudUJ1dHRvblJlZiA9IHRoaXMuc2V0Q29udGV4dE1lbnVCdXR0b25SZWYuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVRvcGljU2VsZWN0aW9uQnV0dG9uQ2xpY2sgPVxuICAgICAgdGhpcy5oYW5kbGVUb3BpY1NlbGVjdGlvbkJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG1lbnVCdXR0b25Ib3ZlcjogZmFsc2UsXG4gICAgICBzaG93Q29udGV4dE1lbnU6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBzZXRDb250ZXh0TWVudUJ1dHRvblJlZihlbGVtZW50KSB7XG4gICAgdGhpcy5jb250ZXh0TWVudUJ1dHRvblJlZiA9IGVsZW1lbnQ7XG4gIH1cblxuICBvbkJvZHlNb3VudChub2RlKSB7XG4gICAgdGhpcy5zZWN0aW9uQm9keSA9IG5vZGU7XG4gIH1cblxuICBvbk1lbnVCdXR0b25Nb3VzZUVudGVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtZW51QnV0dG9uSG92ZXI6IHRydWUgfSk7XG4gIH1cblxuICBvbk1lbnVCdXR0b25Nb3VzZUxlYXZlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBtZW51QnV0dG9uSG92ZXI6IGZhbHNlIH0pO1xuICB9XG5cbiAgb25NZW51VXBkYXRlKHNob3dDb250ZXh0TWVudSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93Q29udGV4dE1lbnUgfSk7XG4gIH1cblxuICBoYW5kbGVUb3BpY1NlbGVjdGlvbkJ1dHRvbkNsaWNrKCkge1xuICAgIGNvbnN0IG1heWJlRGlzcGxheSA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcbiAgICAgICAgXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24ub25ib2FyZGluZy5tYXliZURpc3BsYXlcIlxuICAgICAgXTtcblxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuT25seVRvTWFpbih7IHR5cGU6IGF0LlRPUElDX1NFTEVDVElPTl9VU0VSX09QRU4gfSkpO1xuXG4gICAgaWYgKG1heWJlRGlzcGxheSkge1xuICAgICAgLy8gaWYgc3RpbGwgcGFydCBvZiBvbmJvYXJkaW5nLCByZW1vdmUgdXNlciBmcm9tIG9uYm9hcmRpbmcgZmxvd1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuU2V0UHJlZihcbiAgICAgICAgICBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLm1heWJlRGlzcGxheVwiLFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Ccm9hZGNhc3RUb0NvbnRlbnQoeyB0eXBlOiBhdC5UT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX09QRU4gfSlcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaXNBbmltYXRpbmcsIG1heEhlaWdodCwgbWVudUJ1dHRvbkhvdmVyLCBzaG93Q29udGV4dE1lbnUgfSA9XG4gICAgICB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgY29sbGFwc2VkLFxuICAgICAgdGl0bGUsXG4gICAgICBzdWJUaXRsZSxcbiAgICAgIG1heUhhdmVUb3BpY3NTZWxlY3Rpb24sXG4gICAgICBzZWN0aW9uc0VuYWJsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYWN0aXZlID0gbWVudUJ1dHRvbkhvdmVyIHx8IHNob3dDb250ZXh0TWVudTtcbiAgICBsZXQgYm9keVN0eWxlO1xuICAgIGlmIChpc0FuaW1hdGluZyAmJiAhY29sbGFwc2VkKSB7XG4gICAgICBib2R5U3R5bGUgPSB7IG1heEhlaWdodCB9O1xuICAgIH0gZWxzZSBpZiAoIWlzQW5pbWF0aW5nICYmIGNvbGxhcHNlZCkge1xuICAgICAgYm9keVN0eWxlID0geyBkaXNwbGF5OiBcIm5vbmVcIiB9O1xuICAgIH1cbiAgICBsZXQgdGl0bGVTdHlsZTtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRlVGl0bGUpIHtcbiAgICAgIHRpdGxlU3R5bGUgPSB7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfTtcbiAgICB9XG4gICAgY29uc3QgaGFzU3VidGl0bGVDbGFzc05hbWUgPSBzdWJUaXRsZSA/IGBoYXMtc3VidGl0bGVgIDogYGA7XG4gICAgY29uc3QgaGFzQmVlblVwZGF0ZWRQcmV2aW91c2x5ID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1xuICAgICAgICBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5oYXNCZWVuVXBkYXRlZFByZXZpb3VzbHlcIlxuICAgICAgXTtcbiAgICBjb25zdCBzZWxlY3RlZFRvcGljcyA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5zZWxlY3RlZFRvcGljc1wiXTtcbiAgICBjb25zdCB0b3BpY3NIYXZlQmVlblByZXZpb3VzbHlTZXQgPVxuICAgICAgaGFzQmVlblVwZGF0ZWRQcmV2aW91c2x5IHx8IHNlbGVjdGVkVG9waWNzO1xuICAgIHJldHVybiAoXG4gICAgICA8c2VjdGlvblxuICAgICAgICBjbGFzc05hbWU9e2Bjb2xsYXBzaWJsZS1zZWN0aW9uICR7dGhpcy5wcm9wcy5jbGFzc05hbWV9JHtcbiAgICAgICAgICBhY3RpdmUgPyBcIiBhY3RpdmVcIiA6IFwiXCJcbiAgICAgICAgfWB9XG4gICAgICAgIC8vIE5vdGU6IGRhdGEtc2VjdGlvbi1pZCBpcyB1c2VkIGZvciB3ZWIgZXh0ZW5zaW9uIGFwaSB0ZXN0cyBpbiBtb3ppbGxhIGNlbnRyYWxcbiAgICAgICAgZGF0YS1zZWN0aW9uLWlkPXtpZH1cbiAgICAgID5cbiAgICAgICAgeyFzZWN0aW9uc0VuYWJsZWQgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi10b3AtYmFyXCI+XG4gICAgICAgICAgICA8aDJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc2VjdGlvbi10aXRsZS1jb250YWluZXIgJHtoYXNTdWJ0aXRsZUNsYXNzTmFtZX1gfVxuICAgICAgICAgICAgICBzdHlsZT17dGl0bGVTdHlsZX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPlxuICAgICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGl0bGV9IC8+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge3N1YlRpdGxlICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXN1Yi10aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXtzdWJUaXRsZX0gLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAge21heUhhdmVUb3BpY3NTZWxlY3Rpb24gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi10b3BpYy1zZWxlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtcbiAgICAgICAgICAgICAgICAgICAgdG9waWNzSGF2ZUJlZW5QcmV2aW91c2x5U2V0XG4gICAgICAgICAgICAgICAgICAgICAgPyBcIm5ld3RhYi10b3BpYy1zZWxlY3Rpb24tYnV0dG9uLXVwZGF0ZS1pbnRlcmVzdHNcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCJuZXd0YWItdG9waWMtc2VsZWN0aW9uLWJ1dHRvbi1waWNrLWludGVyZXN0c1wiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB0eXBlPXt0b3BpY3NIYXZlQmVlblByZXZpb3VzbHlTZXQgPyBcImRlZmF1bHRcIiA6IFwicHJpbWFyeVwifVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVUb3BpY1NlbGVjdGlvbkJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPEVycm9yQm91bmRhcnkgY2xhc3NOYW1lPVwic2VjdGlvbi1ib2R5LWZhbGxiYWNrXCI+XG4gICAgICAgICAgPGRpdiByZWY9e3RoaXMub25Cb2R5TW91bnR9IHN0eWxlPXtib2R5U3R5bGV9PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xuICB9XG59XG5cbl9Db2xsYXBzaWJsZVNlY3Rpb24uZGVmYXVsdFByb3BzID0ge1xuICBkb2N1bWVudDogZ2xvYmFsVGhpcy5kb2N1bWVudCB8fCB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgdmlzaWJpbGl0eVN0YXRlOiBcImhpZGRlblwiLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IENvbGxhcHNpYmxlU2VjdGlvbiA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxufSkpKF9Db2xsYXBzaWJsZVNlY3Rpb24pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcblxuZXhwb3J0IGNsYXNzIERTTWVzc2FnZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtbWVzc2FnZVwiPlxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuaWNvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdseXBoXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGhpcy5wcm9wcy5pY29ufSlgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3RoaXMucHJvcHMudGl0bGUgJiYgKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGl0bGUtdGV4dFwiPlxuICAgICAgICAgICAgICA8Rmx1ZW50T3JUZXh0IG1lc3NhZ2U9e3RoaXMucHJvcHMudGl0bGV9IC8+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5saW5rX3RleHQgJiYgdGhpcy5wcm9wcy5saW5rX3VybCAmJiAoXG4gICAgICAgICAgICA8U2FmZUFuY2hvciBjbGFzc05hbWU9XCJsaW5rXCIgdXJsPXt0aGlzLnByb3BzLmxpbmtfdXJsfT5cbiAgICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXt0aGlzLnByb3BzLmxpbmtfdGV4dH0gLz5cbiAgICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2hlYWRlcj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwczovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uVHlwZXMgYXMgYXQsIGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuXG5leHBvcnQgY29uc3QgUmVwb3J0Q29udGVudCA9IHNwb2NzID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBtb2RhbCA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgcmFkaW9Hcm91cFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgc3VibWl0QnV0dG9uUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCByZXBvcnQgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0ucmVwb3J0KTtcbiAgY29uc3QgW3ZhbHVlU2VsZWN0ZWQsIHNldFZhbHVlU2VsZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRSZWFzb24sIHNldFNlbGVjdGVkUmVhc29uXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBzcG9jRGF0YSA9IHNwb2NzLnNwb2NzLmRhdGE7XG5cbiAgLy8gU2VuZHMgYSBkaXNwYXRjaCB0byB1cGRhdGUgdGhlIHJlZHV4IHN0b3JlIHdoZW4gbW9kYWwgaXMgY2FuY2VsbGVkXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5SRVBPUlRfQ0xPU0UsXG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhcmRfdHlwZSxcbiAgICAgIGNvcnB1c19pdGVtX2lkLFxuICAgICAgcG9zaXRpb24sXG4gICAgICByZXBvcnRpbmdfdXJsLFxuICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgc2VjdGlvbl9wb3NpdGlvbixcbiAgICAgIHNlY3Rpb24sXG4gICAgICB0aXRsZSxcbiAgICAgIHRvcGljLFxuICAgICAgdXJsLFxuICAgIH0gPSByZXBvcnQ7XG5cbiAgICBpZiAoY2FyZF90eXBlID09PSBcIm9yZ2FuaWNcIikge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlJFUE9SVF9DT05URU5UX1NVQk1JVCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBjYXJkX3R5cGUsXG4gICAgICAgICAgICBjb3JwdXNfaXRlbV9pZCxcbiAgICAgICAgICAgIHJlcG9ydF9yZWFzb246IHNlbGVjdGVkUmVhc29uLFxuICAgICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbixcbiAgICAgICAgICAgIHNlY3Rpb24sXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIHRvcGljLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoY2FyZF90eXBlID09PSBcInNwb2NcIikge1xuICAgICAgLy8gUmV0cmlldmUgcGxhY2VtZW50X2lkIGJ5IGNvbXBhcmluZyBzcG9jRGF0YSB3aXRoIHRoZSBhZCB0aGF0IHdhcyByZXBvcnRlZFxuICAgICAgY29uc3QgZ2V0UGxhY2VtZW50SWQgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3BvY0RhdGEgfHwgIXJlcG9ydC51cmwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgW3BsYWNlbWVudElkLCBzcG9jTGlzdF0gb2YgT2JqZWN0LmVudHJpZXMoc3BvY0RhdGEpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBzcG9jIG9mIE9iamVjdC52YWx1ZXMoc3BvY0xpc3QpKSB7XG4gICAgICAgICAgICBpZiAoc3BvYz8udXJsID09PSByZXBvcnQudXJsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwbGFjZW1lbnRJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwbGFjZW1lbnRfaWQgPSBnZXRQbGFjZW1lbnRJZCgpO1xuXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuUkVQT1JUX0FEX1NVQk1JVCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICByZXBvcnRfcmVhc29uOiBzZWxlY3RlZFJlYXNvbixcbiAgICAgICAgICAgIHBsYWNlbWVudF9pZCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgcmVwb3J0aW5nX3VybCxcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5CTE9DS19VUkwsXG4gICAgICAgIGRhdGE6IFt7IC4uLnJlcG9ydCB9XSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvT25lQ29udGVudChcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IGF0LlNIT1dfVE9BU1RfTUVTU0FHRSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0b2FzdElkOiBcInJlcG9ydFN1Y2Nlc3NUb2FzdFwiLFxuICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgXCJBY3Rpdml0eVN0cmVhbTpDb250ZW50XCJcbiAgICAgIClcbiAgICApO1xuICB9LCBbZGlzcGF0Y2gsIHNlbGVjdGVkUmVhc29uLCByZXBvcnQsIHNwb2NEYXRhXSk7XG5cbiAgLy8gT3BlbnMgYW5kIGNsb3NlcyB0aGUgbW9kYWwgYmFzZWQgb24gdXNlciBpbnRlcmFjdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZXBvcnQudmlzaWJsZSAmJiBtb2RhbD8uY3VycmVudCkge1xuICAgICAgbW9kYWwuY3VycmVudC5zaG93TW9kYWwoKTtcblxuICAgICAgLy8gQ2xlYXIgYW55IHByZXZpb3VzbHkgc2VsZWN0ZWQgcmFkaW8gYnV0dG9uXG4gICAgICBjb25zdCByYWRpb0dyb3VwID0gcmFkaW9Hcm91cFJlZi5jdXJyZW50O1xuICAgICAgaWYgKHJhZGlvR3JvdXApIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRSYWRpb0J1dHRvbiA9XG4gICAgICAgICAgcmFkaW9Hcm91cC5xdWVyeVNlbGVjdG9yKFwibW96LXJhZGlvW2NoZWNrZWRdXCIpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRSYWRpb0J1dHRvbikge1xuICAgICAgICAgIHNlbGVjdGVkUmFkaW9CdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciBvdXQgdGhlIHN0YXRlc1xuICAgICAgc2V0VmFsdWVTZWxlY3RlZChmYWxzZSk7XG4gICAgICBzZXRTZWxlY3RlZFJlYXNvbihudWxsKTtcbiAgICB9IGVsc2UgaWYgKCFyZXBvcnQudmlzaWJsZSAmJiBtb2RhbD8uY3VycmVudD8ub3Blbikge1xuICAgICAgbW9kYWwuY3VycmVudC5jbG9zZSgpO1xuICAgIH1cbiAgfSwgW3JlcG9ydC52aXNpYmxlXSk7XG5cbiAgLy8gVXBkYXRlcyB0aGUgc3VibWl0IGJ1dHRvbidzIHN0YXRlIGJhc2VkIG9uIGlmIGEgdmFsdWUgaXMgc2VsZWN0ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByYWRpb0dyb3VwID0gcmFkaW9Hcm91cFJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHN1Ym1pdEJ1dHRvblJlZi5jdXJyZW50O1xuXG4gICAgY29uc3QgaGFuZGxlUmFkaW9DaGFuZ2UgPSBlID0+IHtcbiAgICAgIGNvbnN0IHJlYXNvblZhbHVlID0gZT8udGFyZ2V0Py52YWx1ZTtcblxuICAgICAgaWYgKHJlYXNvblZhbHVlKSB7XG4gICAgICAgIHNldFZhbHVlU2VsZWN0ZWQodHJ1ZSk7XG4gICAgICAgIHNldFNlbGVjdGVkUmVhc29uKHJlYXNvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHJhZGlvR3JvdXApIHtcbiAgICAgIHJhZGlvR3JvdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVSYWRpb0NoYW5nZSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHN1Ym1pdCBidXR0b24gc3RhdGUgb24gdmFsdWVTZWxlY3RlZCBjaGFuZ2VcbiAgICBjb25zdCB1cGRhdGVTdWJtaXRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICh2YWx1ZVNlbGVjdGVkKSB7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBkYXRlU3VibWl0U3RhdGUoKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocmFkaW9Hcm91cCkge1xuICAgICAgICByYWRpb0dyb3VwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlUmFkaW9DaGFuZ2UpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFt2YWx1ZVNlbGVjdGVkLCBzZWxlY3RlZFJlYXNvbl0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpYWxvZ1xuICAgICAgY2xhc3NOYW1lPVwicmVwb3J0LWNvbnRlbnQtZm9ybVwiXG4gICAgICBpZD1cImRpYWxvZy1yZXBvcnRcIlxuICAgICAgcmVmPXttb2RhbH1cbiAgICAgIG9uQ2xvc2U9eygpID0+IGRpc3BhdGNoKHsgdHlwZTogYXQuUkVQT1JUX0NMT1NFIH0pfVxuICAgID5cbiAgICAgIDxmb3JtIGFjdGlvbj1cIlwiPlxuICAgICAgICB7Lyogc3BvY3MgYW5kIHN0b3JpZXMgYXJlIGdvaW5nIHRvIGhhdmUgZGlmZmVyZW50IHJlcG9ydGluZ1xuICAgICAgICAgIG9wdGlvbnMsIHNvIHBsYWNlZCBhIGNvbmRpdGlvbmFsIHRvIHJlbmRlciB0aGUgZGlmZmVyZW50IHJlYXNvbnMgKi99XG4gICAgICAgIHtyZXBvcnQuY2FyZF90eXBlID09PSBcInNwb2NcIiA/IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPG1vei1yYWRpby1ncm91cFxuICAgICAgICAgICAgICBuYW1lPVwicmVwb3J0XCJcbiAgICAgICAgICAgICAgcmVmPXtyYWRpb0dyb3VwUmVmfVxuICAgICAgICAgICAgICBpZD1cInJlcG9ydC1ncm91cFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtYWRzLXdoeS1yZXBvcnRpbmdcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXBvcnQtYWRzLW9wdGlvbnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bW96LXJhZGlvXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1hZHMtcmVhc29uLW5vdC1pbnRlcmVzdGVkXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIm5vdF9pbnRlcmVzdGVkXCJcbiAgICAgICAgICAgICAgPjwvbW96LXJhZGlvPlxuICAgICAgICAgICAgICA8bW96LXJhZGlvXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXJlcG9ydC1hZHMtcmVhc29uLWluYXBwcm9wcmlhdGVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPVwiaW5hcHByb3ByaWF0ZVwiXG4gICAgICAgICAgICAgID48L21vei1yYWRpbz5cbiAgICAgICAgICAgICAgPG1vei1yYWRpb1xuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtYWRzLXJlYXNvbi1zZWVuLWl0LXRvby1tYW55LXRpbWVzXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT1cInNlZW5fdG9vX21hbnlfdGltZXNcIlxuICAgICAgICAgICAgICA+PC9tb3otcmFkaW8+XG4gICAgICAgICAgICA8L21vei1yYWRpby1ncm91cD5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPG1vei1yYWRpby1ncm91cFxuICAgICAgICAgICAgICBuYW1lPVwicmVwb3J0XCJcbiAgICAgICAgICAgICAgcmVmPXtyYWRpb0dyb3VwUmVmfVxuICAgICAgICAgICAgICBpZD1cInJlcG9ydC1ncm91cFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtY29udGVudC13aHktcmVwb3J0aW5nLXRoaXNcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXBvcnQtY29udGVudC1vcHRpb25zXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG1vei1yYWRpb1xuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtY29udGVudC13cm9uZy1jYXRlZ29yeVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9XCJ3cm9uZ19jYXRlZ29yeVwiXG4gICAgICAgICAgICAgID48L21vei1yYWRpbz5cbiAgICAgICAgICAgICAgPG1vei1yYWRpb1xuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtY29udGVudC1vdXRkYXRlZFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9XCJvdXRkYXRlZFwiXG4gICAgICAgICAgICAgID48L21vei1yYWRpbz5cbiAgICAgICAgICAgICAgPG1vei1yYWRpb1xuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtY29udGVudC1pbmFwcHJvcHJpYXRlLW9mZmVuc2l2ZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9XCJpbmFwcHJvcHJpYXRlX29yX29mZmVuc2l2ZVwiXG4gICAgICAgICAgICAgID48L21vei1yYWRpbz5cbiAgICAgICAgICAgICAgPG1vei1yYWRpb1xuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtY29udGVudC1zcGFtLW1pc2xlYWRpbmdcIlxuICAgICAgICAgICAgICAgIHZhbHVlPVwic3BhbV9vcl9taXNsZWFkaW5nXCJcbiAgICAgICAgICAgICAgPjwvbW96LXJhZGlvPlxuICAgICAgICAgICAgPC9tb3otcmFkaW8tZ3JvdXA+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgPG1vei1idXR0b24tZ3JvdXA+XG4gICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtY2FuY2VsXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbmNlbH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbmNlbC1yZXBvcnQtYnRuXCJcbiAgICAgICAgICA+PC9tb3otYnV0dG9uPlxuXG4gICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1yZXBvcnQtc3VibWl0XCJcbiAgICAgICAgICAgIHJlZj17c3VibWl0QnV0dG9uUmVmfVxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VibWl0LXJlcG9ydC1idG5cIlxuICAgICAgICAgID48L21vei1idXR0b24+XG4gICAgICAgIDwvbW96LWJ1dHRvbi1ncm91cD5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2RpYWxvZz5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IExpbmtNZW51IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTGlua01lbnUvTGlua01lbnVcIjtcbmltcG9ydCB7IENvbnRleHRNZW51QnV0dG9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29udGV4dE1lbnUvQ29udGV4dE1lbnVCdXR0b25cIjtcbmltcG9ydCB7IEltcHJlc3Npb25TdGF0cyB9IGZyb20gXCIuLi8uLi9EaXNjb3ZlcnlTdHJlYW1JbXByZXNzaW9uU3RhdHMvSW1wcmVzc2lvblN0YXRzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTYWZlQW5jaG9yIH0gZnJvbSBcIi4uL1NhZmVBbmNob3IvU2FmZUFuY2hvclwiO1xuXG5leHBvcnQgY2xhc3MgRFNTaWdudXAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICBsYXN0SXRlbTogZmFsc2UsXG4gICAgfTtcbiAgICB0aGlzLm9uTWVudUJ1dHRvblVwZGF0ZSA9IHRoaXMub25NZW51QnV0dG9uVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVudVNob3cgPSB0aGlzLm9uTWVudVNob3cuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uTWVudUJ1dHRvblVwZGF0ZShzaG93Q29udGV4dE1lbnUpIHtcbiAgICBpZiAoIXNob3dDb250ZXh0TWVudSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIGxhc3RJdGVtOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG5leHRBbmltYXRpb25GcmFtZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PlxuICAgICAgdGhpcy5wcm9wcy53aW5kb3dPYmoucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlc29sdmUpXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIG9uTWVudVNob3coKSB7XG4gICAgbGV0IHsgbGFzdEl0ZW0gfSA9IHRoaXMuc3RhdGU7XG4gICAgLy8gV2FpdCBmb3IgbmV4dCBmcmFtZSBiZWZvcmUgY29tcHV0aW5nIHNjcm9sbE1heFggdG8gYWxsb3cgZmx1ZW50IG1lbnUgc3RyaW5ncyB0byBiZSB2aXNpYmxlXG4gICAgYXdhaXQgdGhpcy5uZXh0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICBpZiAodGhpcy5wcm9wcy53aW5kb3dPYmouc2Nyb2xsTWF4WCA+IDApIHtcbiAgICAgIGxhc3RJdGVtID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgICBsYXN0SXRlbSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKCkge1xuICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAodGhpcy5wcm9wcy5kaXNwYXRjaCAmJiBkYXRhICYmIGRhdGEuc3BvY3MgJiYgZGF0YS5zcG9jcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMucHJvcHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgLy8gR3JhYiB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgYXJyYXkgYXMgd2Ugb25seSBoYXZlIDEgc3BvYyBwb3NpdGlvbi5cbiAgICAgIGNvbnN0IFtzcG9jXSA9IGRhdGEuc3BvY3M7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkNMSUNLXCIsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogMCxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkltcHJlc3Npb25TdGF0cyh7XG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgIHRpbGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiBzcG9jLmlkLFxuICAgICAgICAgICAgICBwb3M6IDAsXG4gICAgICAgICAgICAgIC4uLihzcG9jLnNoaW0gJiYgc3BvYy5zaGltLmNsaWNrXG4gICAgICAgICAgICAgICAgPyB7IHNoaW06IHNwb2Muc2hpbS5jbGljayB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGRhdGEsIGRpc3BhdGNoLCB0eXBlIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghZGF0YSB8fCAhZGF0YS5zcG9jcyB8fCAhZGF0YS5zcG9jc1swXSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgY29uc3QgW3Nwb2NdID0gZGF0YS5zcG9jcztcbiAgICBjb25zdCB7IHRpdGxlLCB1cmwsIGV4Y2VycHQsIGZsaWdodF9pZCwgaWQsIHNoaW0gfSA9IHNwb2M7XG5cbiAgICBjb25zdCBTSUdOVVBfQ09OVEVYVF9NRU5VX09QVElPTlMgPSBbXG4gICAgICBcIk9wZW5Jbk5ld1dpbmRvd1wiLFxuICAgICAgXCJPcGVuSW5Qcml2YXRlV2luZG93XCIsXG4gICAgICBcIlNlcGFyYXRvclwiLFxuICAgICAgXCJCbG9ja1VybFwiLFxuICAgICAgLi4uKGZsaWdodF9pZCA/IFtcIlNob3dQcml2YWN5SW5mb1wiXSA6IFtdKSxcbiAgICBdO1xuXG4gICAgY29uc3Qgb3V0ZXJDbGFzc05hbWUgPSBbXG4gICAgICBcImRzLXNpZ251cFwiLFxuICAgICAgdGhpcy5zdGF0ZS5hY3RpdmUgJiYgXCJhY3RpdmVcIixcbiAgICAgIHRoaXMuc3RhdGUubGFzdEl0ZW0gJiYgXCJsYXN0LWl0ZW1cIixcbiAgICBdXG4gICAgICAuZmlsdGVyKHYgPT4gdilcbiAgICAgIC5qb2luKFwiIFwiKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17b3V0ZXJDbGFzc05hbWV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXNpZ251cC1jb250ZW50XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLXNtYWxsLXNwYWNlciBpY29uLW1haWxcIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICB7dGl0bGV9e1wiIFwifVxuICAgICAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHMtY2hldnJvbi1saW5rXCJcbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICBvbkxpbmtDbGljaz17dGhpcy5vbkxpbmtDbGlja31cbiAgICAgICAgICAgICAgdXJsPXt1cmx9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtleGNlcnB0fVxuICAgICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8SW1wcmVzc2lvblN0YXRzXG4gICAgICAgICAgICBmbGlnaHRJZD17ZmxpZ2h0X2lkfVxuICAgICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgcG9zOiAwLFxuICAgICAgICAgICAgICAgIHNoaW06IHNoaW0gJiYgc2hpbS5pbXByZXNzaW9uLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIHNvdXJjZT17dHlwZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPENvbnRleHRNZW51QnV0dG9uXG4gICAgICAgICAgdG9vbHRpcD17XCJuZXd0YWItbWVudS1jb250ZW50LXRvb2x0aXBcIn1cbiAgICAgICAgICB0b29sdGlwQXJncz17eyB0aXRsZSB9fVxuICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLm9uTWVudUJ1dHRvblVwZGF0ZX1cbiAgICAgICAgPlxuICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgaW5kZXg9ezB9XG4gICAgICAgICAgICBzb3VyY2U9e3R5cGUudG9VcHBlckNhc2UoKX1cbiAgICAgICAgICAgIG9uU2hvdz17dGhpcy5vbk1lbnVTaG93fVxuICAgICAgICAgICAgb3B0aW9ucz17U0lHTlVQX0NPTlRFWFRfTUVOVV9PUFRJT05TfVxuICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17dHJ1ZX1cbiAgICAgICAgICAgIHVzZXJFdmVudD17YWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50fVxuICAgICAgICAgICAgc2l0ZT17e1xuICAgICAgICAgICAgICByZWZlcnJlcjogXCJodHRwczovL2dldHBvY2tldC5jb20vcmVjb21tZW5kYXRpb25zXCIsXG4gICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgIGd1aWQ6IGlkLFxuICAgICAgICAgICAgICBzaGltLFxuICAgICAgICAgICAgICBmbGlnaHRfaWQsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQ29udGV4dE1lbnVCdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkRTU2lnbnVwLmRlZmF1bHRQcm9wcyA9IHtcbiAgd2luZG93T2JqOiB3aW5kb3csIC8vIEFkZGVkIHRvIHN1cHBvcnQgdW5pdCB0ZXN0c1xufTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIERTRGlzbWlzcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uRGlzbWlzc0NsaWNrID0gdGhpcy5vbkRpc21pc3NDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Ib3ZlciA9IHRoaXMub25Ib3Zlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub2ZmSG92ZXIgPSB0aGlzLm9mZkhvdmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhvdmVyaW5nOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25EaXNtaXNzQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25EaXNtaXNzQ2xpY2spIHtcbiAgICAgIHRoaXMucHJvcHMub25EaXNtaXNzQ2xpY2soKTtcbiAgICB9XG4gIH1cblxuICBvbkhvdmVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaG92ZXJpbmc6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvZmZIb3ZlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhvdmVyaW5nOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY2xhc3NOYW1lID0gYGRzLWRpc21pc3NcbiAgICAgICR7dGhpcy5zdGF0ZS5ob3ZlcmluZyA/IGAgaG92ZXJpbmdgIDogYGB9XG4gICAgICAke3RoaXMucHJvcHMuZXh0cmFDbGFzc2VzID8gYCAke3RoaXMucHJvcHMuZXh0cmFDbGFzc2VzfWAgOiBgYH1gO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWRpc21pc3MtYnV0dG9uXCJcbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItZGlzbWlzcy1idXR0b24tdG9vbHRpcFwiXG4gICAgICAgICAgb25DbGljaz17dGhpcy5vbkRpc21pc3NDbGlja31cbiAgICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMub25Ib3Zlcn1cbiAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMub2ZmSG92ZXJ9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpY29uIGljb24tZGlzbWlzc1wiIC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBEU0Rpc21pc3MgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0RTRGlzbWlzcy9EU0Rpc21pc3NcIjtcbmltcG9ydCB7IERTSW1hZ2UgfSBmcm9tIFwiLi4vRFNJbWFnZS9EU0ltYWdlLmpzeFwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uLy4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCB7IExpbmtNZW51T3B0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvbGluay1tZW51LW9wdGlvbnNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBEU1RleHRQcm9tbyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25EaXNtaXNzQ2xpY2sgPSB0aGlzLm9uRGlzbWlzc0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxpbmtDbGljaygpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgZGF0YSAmJiBkYXRhLnNwb2NzICYmIGRhdGEuc3BvY3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IDAsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBjbGljazogMCxcbiAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogc3BvYy5pZCxcbiAgICAgICAgICAgICAgcG9zOiAwLFxuICAgICAgICAgICAgICAuLi4oc3BvYy5zaGltICYmIHNwb2Muc2hpbS5jbGlja1xuICAgICAgICAgICAgICAgID8geyBzaGltOiBzcG9jLnNoaW0uY2xpY2sgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbkRpc21pc3NDbGljaygpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2ggJiYgZGF0YSAmJiBkYXRhLnNwb2NzICYmIGRhdGEuc3BvY3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCBpbmRleCA9IDA7XG4gICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnByb3BzLnR5cGUudG9VcHBlckNhc2UoKTtcbiAgICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgICBjb25zdCBbc3BvY10gPSBkYXRhLnNwb2NzO1xuICAgICAgY29uc3Qgc3BvY0RhdGEgPSB7XG4gICAgICAgIHVybDogc3BvYy51cmwsXG4gICAgICAgIGd1aWQ6IHNwb2MuaWQsXG4gICAgICAgIHNoaW06IHNwb2Muc2hpbSxcbiAgICAgIH07XG4gICAgICBjb25zdCBibG9ja1VybE9wdGlvbiA9IExpbmtNZW51T3B0aW9ucy5CbG9ja1VybChzcG9jRGF0YSwgaW5kZXgsIHNvdXJjZSk7XG5cbiAgICAgIGNvbnN0IHsgYWN0aW9uLCBpbXByZXNzaW9uLCB1c2VyRXZlbnQgfSA9IGJsb2NrVXJsT3B0aW9uO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiB1c2VyRXZlbnQsXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgaWYgKGltcHJlc3Npb24pIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChpbXByZXNzaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghZGF0YSB8fCAhZGF0YS5zcG9jcyB8fCAhZGF0YS5zcG9jc1swXSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEdyYWIgdGhlIGZpcnN0IGl0ZW0gaW4gdGhlIGFycmF5IGFzIHdlIG9ubHkgaGF2ZSAxIHNwb2MgcG9zaXRpb24uXG4gICAgY29uc3QgW3Nwb2NdID0gZGF0YS5zcG9jcztcbiAgICBjb25zdCB7XG4gICAgICBpbWFnZV9zcmMsXG4gICAgICByYXdfaW1hZ2Vfc3JjLFxuICAgICAgYWx0X3RleHQsXG4gICAgICB0aXRsZSxcbiAgICAgIHVybCxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjdGEsXG4gICAgICBmbGlnaHRfaWQsXG4gICAgICBpZCxcbiAgICAgIHNoaW0sXG4gICAgfSA9IHNwb2M7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPERTRGlzbWlzc1xuICAgICAgICBvbkRpc21pc3NDbGljaz17dGhpcy5vbkRpc21pc3NDbGlja31cbiAgICAgICAgZXh0cmFDbGFzc2VzPXtgZHMtZGlzbWlzcy1kcy10ZXh0LXByb21vYH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy10ZXh0LXByb21vXCI+XG4gICAgICAgICAgPERTSW1hZ2VcbiAgICAgICAgICAgIGFsdF90ZXh0PXthbHRfdGV4dH1cbiAgICAgICAgICAgIHNvdXJjZT17aW1hZ2Vfc3JjfVxuICAgICAgICAgICAgcmF3U291cmNlPXtyYXdfaW1hZ2Vfc3JjfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0XCI+XG4gICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgIHtgJHt0aXRsZX1cXHUyMDAzYH1cbiAgICAgICAgICAgICAgPFNhZmVBbmNob3JcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkcy1jaGV2cm9uLWxpbmtcIlxuICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgIG9uTGlua0NsaWNrPXt0aGlzLm9uTGlua0NsaWNrfVxuICAgICAgICAgICAgICAgIHVybD17dXJsfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2N0YX1cbiAgICAgICAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInN1YnRpdGxlXCI+e2NvbnRleHR9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxJbXByZXNzaW9uU3RhdHNcbiAgICAgICAgICAgIGZsaWdodElkPXtmbGlnaHRfaWR9XG4gICAgICAgICAgICByb3dzPXtbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBwb3M6IDAsXG4gICAgICAgICAgICAgICAgc2hpbTogc2hpbSAmJiBzaGltLmltcHJlc3Npb24sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICBzb3VyY2U9e3RoaXMucHJvcHMudHlwZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvRFNEaXNtaXNzPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbi8qKlxuICogTGlzdCBvZiBoZWxwZXIgZnVuY3Rpb25zIGZvciBzY3JlZW5zaG90LWJhc2VkIGltYWdlcy5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIGtpbmRzIG9mIGltYWdlczpcbiAqIDEuIFJlbW90ZSBJbWFnZTogVGhpcyBpcyB0aGUgaW1hZ2UgZnJvbSB0aGUgbWFpbiBwcm9jZXNzIGFuZCBpdCByZWZlcnMgdG9cbiAqICAgIHRoZSBpbWFnZSBpbiB0aGUgUmVhY3QgcHJvcHMuIFRoaXMgY2FuIGVpdGhlciBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgYGRhdGFgXG4gKiAgICBhbmQgYHBhdGhgIHByb3BlcnRpZXMsIGlmIGl0IGlzIGEgYmxvYiwgb3IgYSBzdHJpbmcsIGlmIGl0IGlzIGEgbm9ybWFsIGltYWdlLlxuICogMi4gTG9jYWwgSW1hZ2U6IFRoaXMgaXMgdGhlIGltYWdlIG9iamVjdCBpbiB0aGUgY29udGVudCBwcm9jZXNzIGFuZCBpdCByZWZlcnNcbiAqICAgIHRvIHRoZSBpbWFnZSAqb2JqZWN0KiBpbiB0aGUgUmVhY3QgY29tcG9uZW50J3Mgc3RhdGUuIEFsbCBsb2NhbCBpbWFnZVxuICogICAgb2JqZWN0cyBoYXZlIHRoZSBgdXJsYCBwcm9wZXJ0eSwgYW5kIGFuIGFkZGl0aW9uYWwgcHJvcGVydHkgYHBhdGhgLCBpZiB0aGV5XG4gKiAgICBhcmUgYmxvYnMuXG4gKi9cbmV4cG9ydCBjb25zdCBTY3JlZW5zaG90VXRpbHMgPSB7XG4gIGlzQmxvYihpc0xvY2FsLCBpbWFnZSkge1xuICAgIHJldHVybiAhIShcbiAgICAgIGltYWdlICYmXG4gICAgICBpbWFnZS5wYXRoICYmXG4gICAgICAoKCFpc0xvY2FsICYmIGltYWdlLmRhdGEpIHx8IChpc0xvY2FsICYmIGltYWdlLnVybCkpXG4gICAgKTtcbiAgfSxcblxuICAvLyBUaGlzIHNob3VsZCBhbHdheXMgYmUgY2FsbGVkIHdpdGggYSByZW1vdGUgaW1hZ2UgYW5kIG5vdCBhIGxvY2FsIGltYWdlLlxuICBjcmVhdGVMb2NhbEltYWdlT2JqZWN0KHJlbW90ZUltYWdlKSB7XG4gICAgaWYgKCFyZW1vdGVJbWFnZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzQmxvYihmYWxzZSwgcmVtb3RlSW1hZ2UpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1cmw6IGdsb2JhbFRoaXMuVVJMLmNyZWF0ZU9iamVjdFVSTChyZW1vdGVJbWFnZS5kYXRhKSxcbiAgICAgICAgcGF0aDogcmVtb3RlSW1hZ2UucGF0aCxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IHVybDogcmVtb3RlSW1hZ2UgfTtcbiAgfSxcblxuICAvLyBSZXZva2VzIHRoZSBvYmplY3QgVVJMIG9mIHRoZSBpbWFnZSBpZiB0aGUgbG9jYWwgaW1hZ2UgaXMgYSBibG9iLlxuICAvLyBUaGlzIHNob3VsZCBhbHdheXMgYmUgY2FsbGVkIHdpdGggYSBsb2NhbCBpbWFnZSBhbmQgbm90IGEgcmVtb3RlIGltYWdlLlxuICBtYXliZVJldm9rZUJsb2JPYmplY3RVUkwobG9jYWxJbWFnZSkge1xuICAgIGlmICh0aGlzLmlzQmxvYih0cnVlLCBsb2NhbEltYWdlKSkge1xuICAgICAgZ2xvYmFsVGhpcy5VUkwucmV2b2tlT2JqZWN0VVJMKGxvY2FsSW1hZ2UudXJsKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQ2hlY2tzIGlmIHJlbW90ZUltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSB0aGUgc2FtZS5cbiAgaXNSZW1vdGVJbWFnZUxvY2FsKGxvY2FsSW1hZ2UsIHJlbW90ZUltYWdlKSB7XG4gICAgLy8gQm90aCByZW1vdGVJbWFnZSBhbmQgbG9jYWxJbWFnZSBhcmUgcHJlc2VudC5cbiAgICBpZiAocmVtb3RlSW1hZ2UgJiYgbG9jYWxJbWFnZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNCbG9iKGZhbHNlLCByZW1vdGVJbWFnZSlcbiAgICAgICAgPyBsb2NhbEltYWdlLnBhdGggPT09IHJlbW90ZUltYWdlLnBhdGhcbiAgICAgICAgOiBsb2NhbEltYWdlLnVybCA9PT0gcmVtb3RlSW1hZ2U7XG4gICAgfVxuXG4gICAgLy8gVGhpcyB3aWxsIG9ubHkgaGFuZGxlIHRoZSByZW1haW5pbmcgdGhyZWUgcG9zc2libGUgb3V0Y29tZXMuXG4gICAgLy8gKGkuZS4gZXZlcnl0aGluZyBleGNlcHQgd2hlbiBib3RoIGltYWdlIGFuZCBsb2NhbEltYWdlIGFyZSBwcmVzZW50KVxuICAgIHJldHVybiAhcmVtb3RlSW1hZ2UgJiYgIWxvY2FsSW1hZ2U7XG4gIH0sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgY2FyZENvbnRleHRUeXBlcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uXCI7XG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xpbmtNZW51L0xpbmtNZW51XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTY3JlZW5zaG90VXRpbHMgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL3NjcmVlbnNob3QtdXRpbHNcIjtcblxuLy8gS2VlcCB0cmFjayBvZiBwZW5kaW5nIGltYWdlIGxvYWRzIHRvIG9ubHkgcmVxdWVzdCBvbmNlXG5jb25zdCBnSW1hZ2VMb2FkaW5nID0gbmV3IE1hcCgpO1xuXG4vKipcbiAqIENhcmQgY29tcG9uZW50LlxuICogQ2FyZHMgYXJlIGZvdW5kIHdpdGhpbiBhIFNlY3Rpb24gY29tcG9uZW50IGFuZCBjb250YWluIGluZm9ybWF0aW9uIGFib3V0IGEgbGluayBzdWNoXG4gKiBhcyBwcmV2aWV3IGltYWdlLCBwYWdlIHRpdGxlLCBwYWdlIGRlc2NyaXB0aW9uLCBhbmQgc29tZSBjb250ZXh0IGFib3V0IGlmIHRoZSBwYWdlXG4gKiB3YXMgdmlzaXRlZCwgYm9va21hcmtlZCwgdHJlbmRpbmcgZXRjLi4uXG4gKiBFYWNoIFNlY3Rpb24gY2FuIG1ha2UgYW4gdW5vcmRlcmVkIGxpc3Qgb2YgQ2FyZHMgd2hpY2ggd2lsbCBjcmVhdGUgb25lIGluc3RhbmUgb2ZcbiAqIHRoaXMgY2xhc3MuIEVhY2ggY2FyZCB3aWxsIHRoZW4gZ2V0IGEgY29udGV4dCBtZW51IHdoaWNoIHJlZmxlY3RzIHRoZSBhY3Rpb25zIHRoYXRcbiAqIGNhbiBiZSBkb25lIG9uIHRoaXMgQ2FyZC5cbiAqL1xuZXhwb3J0IGNsYXNzIF9DYXJkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVDYXJkOiBudWxsLFxuICAgICAgaW1hZ2VMb2FkZWQ6IGZhbHNlLFxuICAgICAgY2FyZEltYWdlOiBudWxsLFxuICAgIH07XG4gICAgdGhpcy5vbk1lbnVCdXR0b25VcGRhdGUgPSB0aGlzLm9uTWVudUJ1dHRvblVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25MaW5rQ2xpY2sgPSB0aGlzLm9uTGlua0NsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIGNvbmRpdGlvbmFsbHkgbG9hZCBhbiBpbWFnZSBhbmQgdXBkYXRlIHN0YXRlIHdoZW4gaXQgbG9hZHMuXG4gICAqL1xuICBhc3luYyBtYXliZUxvYWRJbWFnZSgpIHtcbiAgICAvLyBObyBuZWVkIHRvIGxvYWQgaWYgaXQncyBhbHJlYWR5IGxvYWRlZCBvciBubyBpbWFnZVxuICAgIGNvbnN0IHsgY2FyZEltYWdlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmICghY2FyZEltYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW1hZ2VVcmwgPSBjYXJkSW1hZ2UudXJsO1xuICAgIGlmICghdGhpcy5zdGF0ZS5pbWFnZUxvYWRlZCkge1xuICAgICAgLy8gSW5pdGlhbGl6ZSBhIHByb21pc2UgdG8gc2hhcmUgYSBsb2FkIGFjcm9zcyBtdWx0aXBsZSBjYXJkIHVwZGF0ZXNcbiAgICAgIGlmICghZ0ltYWdlTG9hZGluZy5oYXMoaW1hZ2VVcmwpKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlclByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgbG9hZGVyID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHJlc29sdmUpO1xuICAgICAgICAgIGxvYWRlci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgcmVqZWN0KTtcbiAgICAgICAgICBsb2FkZXIuc3JjID0gaW1hZ2VVcmw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNhdmUgYW5kIHJlbW92ZSB0aGUgcHJvbWlzZSBvbmx5IHdoaWxlIGl0J3MgcGVuZGluZ1xuICAgICAgICBnSW1hZ2VMb2FkaW5nLnNldChpbWFnZVVybCwgbG9hZGVyUHJvbWlzZSk7XG4gICAgICAgIGxvYWRlclByb21pc2VcbiAgICAgICAgICAuY2F0Y2goZXggPT4gZXgpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gZ0ltYWdlTG9hZGluZy5kZWxldGUoaW1hZ2VVcmwpKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2FpdCBmb3IgdGhlIGltYWdlIHdoZXRoZXIganVzdCBzdGFydGVkIGxvYWRpbmcgb3IgcmV1c2VkIHByb21pc2VcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGdJbWFnZUxvYWRpbmcuZ2V0KGltYWdlVXJsKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmFpbGVkIGltYWdlIHdpdGhvdXQgY2hhbmdpbmcgc3RhdGVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmx5IHVwZGF0ZSBzdGF0ZSBpZiB3ZSdyZSBzdGlsbCB3YWl0aW5nIHRvIGxvYWQgdGhlIG9yaWdpbmFsIGltYWdlXG4gICAgICBpZiAoXG4gICAgICAgIFNjcmVlbnNob3RVdGlscy5pc1JlbW90ZUltYWdlTG9jYWwoXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYXJkSW1hZ2UsXG4gICAgICAgICAgdGhpcy5wcm9wcy5saW5rLmltYWdlXG4gICAgICAgICkgJiZcbiAgICAgICAgIXRoaXMuc3RhdGUuaW1hZ2VMb2FkZWRcbiAgICAgICkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW1hZ2VMb2FkZWQ6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBvYnRhaW4gdGhlIG5leHQgc3RhdGUgYmFzZWQgb24gbmV4dFByb3BzIGFuZCBwcmV2U3RhdGUuXG4gICAqXG4gICAqIE5PVEU6IFJlbmFtZSB0aGlzIG1ldGhvZCB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgd2hlbiB3ZSB1cGRhdGUgUmVhY3RcbiAgICogICAgICAgdG8gPj0gMTYuMy4gV2Ugd2lsbCBuZWVkIHRvIHVwZGF0ZSB0ZXN0cyBhcyB3ZWxsLiBXZSBjYW5ub3QgcmVuYW1lIHRoaXNcbiAgICogICAgICAgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBub3cgYmVjYXVzZSB0aGVyZSBpcyBhIG1pc21hdGNoIGluXG4gICAqICAgICAgIHRoZSBSZWFjdCB2ZXJzaW9uIHRoYXQgd2UgYXJlIHVzaW5nIGZvciBib3RoIHRlc3RpbmcgYW5kIHByb2R1Y3Rpb24uXG4gICAqICAgICAgIChpLmUuIHJlYWN0LXRlc3QtcmVuZGVyID0+IFwiMTYuMy4yXCIsIHJlYWN0ID0+IFwiMTYuMi4wXCIpLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FpcmJuYi9lbnp5bWUvYmxvYi9tYXN0ZXIvcGFja2FnZXMvZW56eW1lLWFkYXB0ZXItcmVhY3QtMTYvcGFja2FnZS5qc29uI0w0My5cbiAgICovXG4gIHN0YXRpYyBnZXROZXh0U3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBjb25zdCB7IGltYWdlIH0gPSBuZXh0UHJvcHMubGluaztcbiAgICBjb25zdCBpbWFnZUluU3RhdGUgPSBTY3JlZW5zaG90VXRpbHMuaXNSZW1vdGVJbWFnZUxvY2FsKFxuICAgICAgcHJldlN0YXRlLmNhcmRJbWFnZSxcbiAgICAgIGltYWdlXG4gICAgKTtcbiAgICBsZXQgbmV4dFN0YXRlID0gbnVsbDtcblxuICAgIC8vIEltYWdlIGlzIHVwZGF0aW5nLlxuICAgIGlmICghaW1hZ2VJblN0YXRlICYmIG5leHRQcm9wcy5saW5rKSB7XG4gICAgICBuZXh0U3RhdGUgPSB7IGltYWdlTG9hZGVkOiBmYWxzZSB9O1xuICAgIH1cblxuICAgIGlmIChpbWFnZUluU3RhdGUpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfVxuXG4gICAgLy8gU2luY2UgaW1hZ2Ugd2FzIHVwZGF0ZWQsIGF0dGVtcHQgdG8gcmV2b2tlIG9sZCBpbWFnZSBibG9iIFVSTCwgaWYgaXQgZXhpc3RzLlxuICAgIFNjcmVlbnNob3RVdGlscy5tYXliZVJldm9rZUJsb2JPYmplY3RVUkwocHJldlN0YXRlLmNhcmRJbWFnZSk7XG5cbiAgICBuZXh0U3RhdGUgPSBuZXh0U3RhdGUgfHwge307XG4gICAgbmV4dFN0YXRlLmNhcmRJbWFnZSA9IFNjcmVlbnNob3RVdGlscy5jcmVhdGVMb2NhbEltYWdlT2JqZWN0KGltYWdlKTtcblxuICAgIHJldHVybiBuZXh0U3RhdGU7XG4gIH1cblxuICBvbk1lbnVCdXR0b25VcGRhdGUoaXNPcGVuKSB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUNhcmQ6IHRoaXMucHJvcHMuaW5kZXggfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVDYXJkOiBudWxsIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnQgdG8gdGVsZW1ldHJ5IGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGl0ZW0uXG4gICAqL1xuICBfZ2V0VGVsZW1ldHJ5SW5mbygpIHtcbiAgICAvLyBGaWx0ZXIgb3V0IFwiaGlzdG9yeVwiIHR5cGUgZm9yIGJlaW5nIHRoZSBkZWZhdWx0XG4gICAgaWYgKHRoaXMucHJvcHMubGluay50eXBlICE9PSBcImhpc3RvcnlcIikge1xuICAgICAgcmV0dXJuIHsgdmFsdWU6IHsgY2FyZF90eXBlOiB0aGlzLnByb3BzLmxpbmsudHlwZSB9IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBvbkxpbmtDbGljayhldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgeyBhbHRLZXksIGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSA9IGV2ZW50O1xuICAgIGlmICh0aGlzLnByb3BzLmxpbmsudHlwZSA9PT0gXCJkb3dubG9hZFwiKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5PUEVOX0RPV05MT0FEX0ZJTEUsXG4gICAgICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLmxpbmssIHtcbiAgICAgICAgICAgIGV2ZW50OiB7IGJ1dHRvbiwgY3RybEtleSwgbWV0YUtleSwgc2hpZnRLZXkgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk9QRU5fTElOSyxcbiAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHRoaXMucHJvcHMubGluaywge1xuICAgICAgICAgICAgZXZlbnQ6IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5pc1dlYkV4dGVuc2lvbikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuV2ViRXh0RXZlbnQoYXQuV0VCRVhUX0NMSUNLLCB7XG4gICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgIHVybDogdGhpcy5wcm9wcy5saW5rLnVybCxcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICAgICAgc291cmNlOiB0aGlzLnByb3BzLmV2ZW50U291cmNlLFxuICAgICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5zaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuSW1wcmVzc2lvblN0YXRzKHtcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5wcm9wcy5ldmVudFNvdXJjZSxcbiAgICAgICAgICAgIGNsaWNrOiAwLFxuICAgICAgICAgICAgdGlsZXM6IFt7IGlkOiB0aGlzLnByb3BzLmxpbmsuZ3VpZCwgcG9zOiB0aGlzLnByb3BzLmluZGV4IH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5tYXliZUxvYWRJbWFnZSgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMubWF5YmVMb2FkSW1hZ2UoKTtcbiAgfVxuXG4gIC8vIE5PVEU6IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIHdoZW4gd2UgdXBkYXRlIFJlYWN0IHRvID49IDE2LjMgc2luY2UgUmVhY3Qgd2lsbFxuICAvLyAgICAgICBjYWxsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBhdXRvbWF0aWNhbGx5LiBXZSB3aWxsIGFsc28gbmVlZCB0b1xuICAvLyAgICAgICByZW5hbWUgZ2V0TmV4dFN0YXRlRnJvbVByb3BzIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IF9DYXJkLmdldE5leHRTdGF0ZUZyb21Qcm9wcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcbiAgICBpZiAobmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gTk9URTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gd2hlbiB3ZSB1cGRhdGUgUmVhY3QgdG8gPj0gMTYuMyBzaW5jZSBSZWFjdCB3aWxsXG4gIC8vICAgICAgIGNhbGwgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIGF1dG9tYXRpY2FsbHkuIFdlIHdpbGwgYWxzbyBuZWVkIHRvXG4gIC8vICAgICAgIHJlbmFtZSBnZXROZXh0U3RhdGVGcm9tUHJvcHMgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IF9DYXJkLmdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHRoaXMuc3RhdGUpO1xuICAgIGlmIChuZXh0U3RhdGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBTY3JlZW5zaG90VXRpbHMubWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMKHRoaXMuc3RhdGUuY2FyZEltYWdlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbmRleCxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGxpbmssXG4gICAgICBkaXNwYXRjaCxcbiAgICAgIGNvbnRleHRNZW51T3B0aW9ucyxcbiAgICAgIGV2ZW50U291cmNlLFxuICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRpdGxlID0gbGluay50aXRsZSB8fCBsaW5rLmhvc3RuYW1lO1xuICAgIGNvbnN0IGlzQ29udGV4dE1lbnVPcGVuID0gdGhpcy5zdGF0ZS5hY3RpdmVDYXJkID09PSBpbmRleDtcbiAgICAvLyBEaXNwbGF5IFwibm93XCIgYXMgXCJ0cmVuZGluZ1wiIHVudGlsIHdlIGhhdmUgbmV3IHN0cmluZ3MgIzM0MDJcbiAgICBjb25zdCB7IGljb24sIGZsdWVudElEIH0gPVxuICAgICAgY2FyZENvbnRleHRUeXBlc1tsaW5rLnR5cGUgPT09IFwibm93XCIgPyBcInRyZW5kaW5nXCIgOiBsaW5rLnR5cGVdIHx8IHt9O1xuICAgIGNvbnN0IGhhc0ltYWdlID0gdGhpcy5zdGF0ZS5jYXJkSW1hZ2UgfHwgbGluay5oYXNJbWFnZTtcbiAgICBjb25zdCBpbWFnZVN0eWxlID0ge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiB0aGlzLnN0YXRlLmNhcmRJbWFnZVxuICAgICAgICA/IGB1cmwoJHt0aGlzLnN0YXRlLmNhcmRJbWFnZS51cmx9KWBcbiAgICAgICAgOiBcIm5vbmVcIixcbiAgICB9O1xuICAgIGNvbnN0IG91dGVyQ2xhc3NOYW1lID0gW1xuICAgICAgXCJjYXJkLW91dGVyXCIsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBpc0NvbnRleHRNZW51T3BlbiAmJiBcImFjdGl2ZVwiLFxuICAgICAgcHJvcHMucGxhY2Vob2xkZXIgJiYgXCJwbGFjZWhvbGRlclwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXtsaW5rLnR5cGUgPT09IFwicG9ja2V0XCIgPyBsaW5rLm9wZW5fdXJsIDogbGluay51cmx9XG4gICAgICAgICAgb25DbGljaz17IXByb3BzLnBsYWNlaG9sZGVyID8gdGhpcy5vbkxpbmtDbGljayA6IHVuZGVmaW5lZH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLXByZXZpZXctaW1hZ2Utb3V0ZXJcIj5cbiAgICAgICAgICAgICAge2hhc0ltYWdlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLXByZXZpZXctaW1hZ2Uke1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlTG9hZGVkID8gXCIgbG9hZGVkXCIgOiBcIlwiXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXtpbWFnZVN0eWxlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1kZXRhaWxzXCI+XG4gICAgICAgICAgICAgIHtsaW5rLnR5cGUgPT09IFwiZG93bmxvYWRcIiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FyZC1ob3N0LW5hbWUgYWx0ZXJuYXRlXCJcbiAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1tZW51LW9wZW4tZmlsZVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2xpbmsuaG9zdG5hbWUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ob3N0LW5hbWVcIj5cbiAgICAgICAgICAgICAgICAgIHtsaW5rLmhvc3RuYW1lLnNsaWNlKDAsIDEwMCl9XG4gICAgICAgICAgICAgICAgICB7bGluay50eXBlID09PSBcImRvd25sb2FkXCIgJiYgYCAgXFx1MjAxNCAke2xpbmsuZGVzY3JpcHRpb259YH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17W1xuICAgICAgICAgICAgICAgICAgXCJjYXJkLXRleHRcIixcbiAgICAgICAgICAgICAgICAgIGljb24gPyBcIlwiIDogXCJuby1jb250ZXh0XCIsXG4gICAgICAgICAgICAgICAgICBsaW5rLmRlc2NyaXB0aW9uID8gXCJcIiA6IFwibm8tZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgICAgIGxpbmsuaG9zdG5hbWUgPyBcIlwiIDogXCJuby1ob3N0LW5hbWVcIixcbiAgICAgICAgICAgICAgICBdLmpvaW4oXCIgXCIpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIiBkaXI9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgICB7bGluay50aXRsZX1cbiAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImNhcmQtZGVzY3JpcHRpb25cIiBkaXI9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgICB7bGluay5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtY29udGV4dFwiPlxuICAgICAgICAgICAgICAgIHtpY29uICYmICFsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BjYXJkLWNvbnRleHQtaWNvbiBpY29uIGljb24tJHtpY29ufWB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2xpbmsuaWNvbiAmJiBsaW5rLmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjYXJkLWNvbnRleHQtaWNvbiBpY29uXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKCcke2xpbmsuaWNvbn0nKWAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7Zmx1ZW50SUQgJiYgIWxpbmsuY29udGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtY29udGV4dC1sYWJlbFwiIGRhdGEtbDEwbi1pZD17Zmx1ZW50SUR9IC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7bGluay5jb250ZXh0ICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZXh0LWxhYmVsXCI+e2xpbmsuY29udGV4dH08L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2E+XG4gICAgICAgIHshcHJvcHMucGxhY2Vob2xkZXIgJiYgKFxuICAgICAgICAgIDxDb250ZXh0TWVudUJ1dHRvblxuICAgICAgICAgICAgdG9vbHRpcD1cIm5ld3RhYi1tZW51LWNvbnRlbnQtdG9vbHRpcFwiXG4gICAgICAgICAgICB0b29sdGlwQXJncz17eyB0aXRsZSB9fVxuICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51QnV0dG9uVXBkYXRlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgc291cmNlPXtldmVudFNvdXJjZX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17bGluay5jb250ZXh0TWVudU9wdGlvbnMgfHwgY29udGV4dE1lbnVPcHRpb25zfVxuICAgICAgICAgICAgICBzaXRlPXtsaW5rfVxuICAgICAgICAgICAgICBzaXRlSW5mbz17dGhpcy5fZ2V0VGVsZW1ldHJ5SW5mbygpfVxuICAgICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXtzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0NvbnRleHRNZW51QnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59XG5fQ2FyZC5kZWZhdWx0UHJvcHMgPSB7IGxpbms6IHt9IH07XG5leHBvcnQgY29uc3QgQ2FyZCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgcGxhdGZvcm06IHN0YXRlLlByZWZzLnZhbHVlcy5wbGF0Zm9ybSxcbn0pKShfQ2FyZCk7XG5leHBvcnQgY29uc3QgUGxhY2Vob2xkZXJDYXJkID0gcHJvcHMgPT4gKFxuICA8Q2FyZCBwbGFjZWhvbGRlcj17dHJ1ZX0gY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9IC8+XG4pO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxubGV0IHVzYWJsZVBlcmZPYmogPSB3aW5kb3cucGVyZm9ybWFuY2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBfUGVyZlNlcnZpY2Uob3B0aW9ucykge1xuICAvLyBGb3IgdGVzdGluZywgc28gdGhhdCB3ZSBjYW4gdXNlIGEgZmFrZSBXaW5kb3cucGVyZm9ybWFuY2Ugb2JqZWN0IHdpdGhcbiAgLy8ga25vd24gc3RhdGUuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMucGVyZm9ybWFuY2VPYmopIHtcbiAgICB0aGlzLl9wZXJmID0gb3B0aW9ucy5wZXJmb3JtYW5jZU9iajtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9wZXJmID0gdXNhYmxlUGVyZk9iajtcbiAgfVxufVxuXG5fUGVyZlNlcnZpY2UucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogQ2FsbHMgdGhlIHVuZGVybHlpbmcgbWFyaygpIG1ldGhvZCBvbiB0aGUgYXBwcm9wcmlhdGUgV2luZG93LnBlcmZvcm1hbmNlXG4gICAqIG9iamVjdCB0byBhZGQgYSBtYXJrIHdpdGggdGhlIGdpdmVuIG5hbWUgdG8gdGhlIGFwcHJvcHJpYXRlIHBlcmZvcm1hbmNlXG4gICAqIHRpbWVsaW5lLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgIHRoZSBuYW1lIHRvIGdpdmUgdGhlIGN1cnJlbnQgbWFya1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbWFyazogZnVuY3Rpb24gbWFyayhzdHIpIHtcbiAgICB0aGlzLl9wZXJmLm1hcmsoc3RyKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2FsbHMgdGhlIHVuZGVybHlpbmcgZ2V0RW50cmllc0J5TmFtZSBvbiB0aGUgYXBwcm9wcmlhdGUgV2luZG93LnBlcmZvcm1hbmNlXG4gICAqIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZSBlZyBcIm1hcmtcIlxuICAgKiBAcmV0dXJuIHtBcnJheX0gICAgICAgUGVyZm9ybWFuY2UqIG9iamVjdHNcbiAgICovXG4gIGdldEVudHJpZXNCeU5hbWU6IGZ1bmN0aW9uIGdldEVudHJpZXNCeU5hbWUoZW50cnlOYW1lLCB0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlcmYuZ2V0RW50cmllc0J5TmFtZShlbnRyeU5hbWUsIHR5cGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgdGltZU9yaWdpbiBwcm9wZXJ0eSBmcm9tIHRoZSBhcHByb3ByaWF0ZSBwZXJmb3JtYW5jZSBvYmplY3QuXG4gICAqIFVzZWQgdG8gZW5zdXJlIHRoYXQgdGltZXN0YW1wcyBmcm9tIHRoZSBhZGQtb24gY29kZSBhbmQgdGhlIGNvbnRlbnQgY29kZVxuICAgKiBhcmUgY29tcGFyYWJsZS5cbiAgICpcbiAgICogQG5vdGUgSWYgdGhpcyBpcyBjYWxsZWQgZnJvbSBhIGNvbnRleHQgd2l0aG91dCBhIHdpbmRvd1xuICAgKiAoZWcgYSBKU00gaW4gY2hyb21lKSwgaXQgd2lsbCByZXR1cm4gdGhlIHRpbWVPcmlnaW4gb2YgdGhlIFhVTCBoaWRkZW5cbiAgICogd2luZG93LCB3aGljaCBhcHBlYXJzIHRvIGJlIHRoZSBmaXJzdCBjcmVhdGVkIHdpbmRvdyAoYW5kIHRodXNcbiAgICogdGltZU9yaWdpbikgaW4gdGhlIGJyb3dzZXIuICBOb3RlIGFsc28sIGhvd2V2ZXIsIHRoZXJlIGlzIGFsc28gYSBwcml2YXRlXG4gICAqIGhpZGRlbiB3aW5kb3csIHByZXN1bWFibHkgZm9yIHByaXZhdGUgYnJvd3NpbmcsIHdoaWNoIGFwcGVhcnMgdG8gYmVcbiAgICogY3JlYXRlZCBkeW5hbWljYWxseSBsYXRlci4gIEV4YWN0bHkgaG93L3doZW4gdGhhdCBzaG93cyB1cCBuZWVkcyB0byBiZVxuICAgKiBpbnZlc3RpZ2F0ZWQuXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gQSBkb3VibGUgb2YgbWlsbGlzZWNvbmRzIHdpdGggYSBwcmVjaXNpb24gb2YgMC41dXMuXG4gICAqL1xuICBnZXQgdGltZU9yaWdpbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcGVyZi50aW1lT3JpZ2luO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBcImFic29sdXRlXCIgdmVyc2lvbiBvZiBwZXJmb3JtYW5jZS5ub3coKSwgaS5lLiBvbmUgdGhhdFxuICAgKiBzaG91bGQgKFtidWcgMTQwMTQwNl0oaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQwMTQwNilcbiAgICogYmUgY29tcGFyYWJsZSBhY3Jvc3MgYm90aCBjaHJvbWUgYW5kIGNvbnRlbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGFic05vdzogZnVuY3Rpb24gYWJzTm93KCkge1xuICAgIHJldHVybiB0aGlzLnRpbWVPcmlnaW4gKyB0aGlzLl9wZXJmLm5vdygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIHJldHVybnMgdGhlIGFic29sdXRlIHN0YXJ0VGltZSBmcm9tIHRoZSBtb3N0IHJlY2VudCBwZXJmb3JtYW5jZS5tYXJrKClcbiAgICogd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICB0aGUgbmFtZSB0byBsb29rdXAgdGhlIHN0YXJ0IHRpbWUgZm9yXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgdGhlIHJldHVybmVkIHN0YXJ0IHRpbWUsIGFzIGEgRE9NSGlnaFJlc1RpbWVTdGFtcFxuICAgKlxuICAgKiBAdGhyb3dzIHtFcnJvcn0gICAgICAgIFwiTm8gTWFya3Mgd2l0aCB0aGUgbmFtZSAuLi5cIiBpZiBub25lIGFyZSBhdmFpbGFibGVcbiAgICpcbiAgICogQG5vdGUgQWx3YXlzIHN1cnJvdW5kIGNhbGxzIHRvIHRoaXMgYnkgdHJ5L2NhdGNoLiAgT3RoZXJ3aXNlIHlvdXIgY29kZVxuICAgKiBtYXkgZmFpbCB3aGVuIHRoZSBgcHJpdmFjeS5yZXNpc3RGaW5nZXJwcmludGluZ2AgcHJlZiBpcyB0cnVlLiAgV2hlblxuICAgKiB0aGlzIHByZWYgaXMgc2V0LCBhbGwgYXR0ZW1wdHMgdG8gZ2V0IG1hcmtzIHdpbGwgbGlrZWx5IGZhaWwsIHdoaWNoIHdpbGxcbiAgICogY2F1c2UgdGhpcyBtZXRob2QgdG8gdGhyb3cuXG4gICAqXG4gICAqIFNlZSBbYnVnIDEzNjkzMDNdKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjkzMDMpXG4gICAqIGZvciBtb3JlIGluZm8uXG4gICAqL1xuICBnZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lKGVudHJ5TmFtZSkge1xuICAgIGxldCBlbnRyaWVzID0gdGhpcy5nZXRFbnRyaWVzQnlOYW1lKGVudHJ5TmFtZSwgXCJtYXJrXCIpO1xuXG4gICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBtYXJrcyB3aXRoIHRoZSBuYW1lICR7ZW50cnlOYW1lfWApO1xuICAgIH1cblxuICAgIGxldCBtb3N0UmVjZW50RW50cnkgPSBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHRoaXMuX3BlcmYudGltZU9yaWdpbiArIG1vc3RSZWNlbnRFbnRyeS5zdGFydFRpbWU7XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgcGVyZlNlcnZpY2UgPSBuZXcgX1BlcmZTZXJ2aWNlKCk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBwZXJmU2VydmljZSBhcyBwZXJmU3ZjIH0gZnJvbSBcImNvbnRlbnQtc3JjL2xpYi9wZXJmLXNlcnZpY2VcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuLy8gQ3VycmVudGx5IHJlY29yZCBvbmx5IGEgZml4ZWQgc2V0IG9mIHNlY3Rpb25zLiBUaGlzIHdpbGwgcHJldmVudCBkYXRhXG4vLyBmcm9tIGN1c3RvbSBzZWN0aW9ucyBmcm9tIHNob3dpbmcgdXAgb3IgZnJvbSB0b3BzdG9yaWVzLlxuY29uc3QgUkVDT1JERURfU0VDVElPTlMgPSBbXCJoaWdobGlnaHRzXCIsIFwidG9wc2l0ZXNcIl07XG5cbmV4cG9ydCBjbGFzcyBDb21wb25lbnRQZXJmVGltZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICAvLyBKdXN0IGZvciB0ZXN0IGRlcGVuZGVuY3kgaW5qZWN0aW9uOlxuICAgIHRoaXMucGVyZlN2YyA9IHRoaXMucHJvcHMucGVyZlN2YyB8fCBwZXJmU3ZjO1xuXG4gICAgdGhpcy5fc2VuZEJhZFN0YXRlRXZlbnQgPSB0aGlzLl9zZW5kQmFkU3RhdGVFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3NlbmRQYWludGVkRXZlbnQgPSB0aGlzLl9zZW5kUGFpbnRlZEV2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcmVwb3J0TWlzc2luZ0RhdGEgPSBmYWxzZTtcbiAgICB0aGlzLl90aW1lc3RhbXBIYW5kbGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVjb3JkZWRGaXJzdFJlbmRlciA9IGZhbHNlO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCFSRUNPUkRFRF9TRUNUSU9OUy5pbmNsdWRlcyh0aGlzLnByb3BzLmlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX21heWJlU2VuZFBhaW50ZWRFdmVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICghUkVDT1JERURfU0VDVElPTlMuaW5jbHVkZXModGhpcy5wcm9wcy5pZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXliZVNlbmRQYWludGVkRXZlbnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoZSBnaXZlbiBjYWxsYmFjayBhZnRlciB0aGUgdXBjb21pbmcgZnJhbWUgcGFpbnRzLlxuICAgKlxuICAgKiBAbm90ZSBCb3RoIHNldFRpbWVvdXQgYW5kIHJlcXVlc3RBbmltYXRpb25GcmFtZSBhcmUgdGhyb3R0bGVkIHdoZW4gdGhlIHBhZ2VcbiAgICogaXMgaGlkZGVuLCBzbyB0aGlzIGNhbGxiYWNrIG1heSBnZXQgY2FsbGVkIHVwIHRvIGEgc2Vjb25kIG9yIHNvIGFmdGVyIHRoZVxuICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgXCJwYWludFwiIGZvciBoaWRkZW4gdGFicy5cbiAgICpcbiAgICogTmV3dGFicyBoaWRkZW4gd2hpbGUgbG9hZGluZyB3aWxsIHByZXN1bWFibHkgYmUgZmFpcmx5IHJhcmUgKG90aGVyIHRoYW5cbiAgICogcHJlbG9hZGVkIHRhYnMsIHdoaWNoIHdlIHdpbGwgYmUgZmlsdGVyaW5nIG91dCBvbiB0aGUgc2VydmVyIHNpZGUpLCBzbyBzdWNoXG4gICAqIGNhc2VzIHNob3VsZCBnZXQgbG9zdCBpbiB0aGUgbm9pc2UuXG4gICAqXG4gICAqIElmIHdlIGRlY2lkZSB0aGF0IGl0J3MgaW1wb3J0YW50IHRvIGZpbmQgb3V0IHdoZW4gc29tZXRoaW5nIHRoYXQncyBoaWRkZW5cbiAgICogaGFzIFwicGFpbnRlZFwiLCBob3dldmVyLCBhbm90aGVyIG9wdGlvbiBpcyB0byBwb3N0IGEgbWVzc2FnZSB0byB0aGlzIHdpbmRvdy5cbiAgICogVGhhdCBzaG91bGQgaGFwcGVuIGV2ZW4gZmFzdGVyIHRoYW4gc2V0VGltZW91dCwgYW5kLCBhdCBsZWFzdCBhcyBvZiB0aGlzXG4gICAqIHdyaXRpbmcsIGl0J3Mgbm90IHRocm90dGxlZCBpbiBoaWRkZW4gd2luZG93cyBpbiBGaXJlZm94LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKlxuICAgKiBAcmV0dXJucyB2b2lkXG4gICAqL1xuICBfYWZ0ZXJGcmFtZVBhaW50KGNhbGxiYWNrKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHNldFRpbWVvdXQoY2FsbGJhY2ssIDApKTtcbiAgfVxuXG4gIF9tYXliZVNlbmRCYWRTdGF0ZUV2ZW50KCkge1xuICAgIC8vIEZvbGxvdyB1cCBidWdzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2FjdGl2aXR5LXN0cmVhbS9pc3N1ZXMvMzY5MVxuICAgIGlmICghdGhpcy5wcm9wcy5pbml0aWFsaXplZCkge1xuICAgICAgLy8gUmVtZW1iZXIgdG8gcmVwb3J0IGJhY2sgd2hlbiBkYXRhIGlzIGF2YWlsYWJsZS5cbiAgICAgIHRoaXMuX3JlcG9ydE1pc3NpbmdEYXRhID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3JlcG9ydE1pc3NpbmdEYXRhKSB7XG4gICAgICB0aGlzLl9yZXBvcnRNaXNzaW5nRGF0YSA9IGZhbHNlO1xuICAgICAgLy8gUmVwb3J0IGhvdyBsb25nIGl0IHRvb2sgZm9yIGNvbXBvbmVudCB0byBiZWNvbWUgaW5pdGlhbGl6ZWQuXG4gICAgICB0aGlzLl9zZW5kQmFkU3RhdGVFdmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIF9tYXliZVNlbmRQYWludGVkRXZlbnQoKSB7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBoYW5kbGVkIGEgdGltZXN0YW1wLCBkb24ndCBkbyBpdCBhZ2Fpbi5cbiAgICBpZiAodGhpcy5fdGltZXN0YW1wSGFuZGxlZCB8fCAhdGhpcy5wcm9wcy5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFuZCBpZiB3ZSBoYXZlbid0LCB3ZSdyZSBkb2luZyBzbyBub3csIHNvIHJlbWVtYmVyIHRoYXQuIEV2ZW4gaWZcbiAgICAvLyBzb21ldGhpbmcgZ29lcyB3cm9uZyBpbiB0aGUgY2FsbGJhY2ssIHdlIGNhbid0IHRyeSBhZ2FpbiwgYXMgd2UnZCBiZVxuICAgIC8vIHNlbmRpbmcgYmFjayB0aGUgd3JvbmcgZGF0YSwgYW5kIHdlIGhhdmUgdG8gZG8gaXQgaGVyZSwgc28gdGhhdCBvdGhlclxuICAgIC8vIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdoaWxlIHdhaXRpbmcgZm9yIHRoZSBuZXh0IGZyYW1lIHdvbid0IGFsc28gdHJ5IHRvXG4gICAgLy8gaGFuZGxlIGl0LlxuICAgIHRoaXMuX3RpbWVzdGFtcEhhbmRsZWQgPSB0cnVlO1xuICAgIHRoaXMuX2FmdGVyRnJhbWVQYWludCh0aGlzLl9zZW5kUGFpbnRlZEV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyZWQgYnkgY2FsbCB0byByZW5kZXIuIE9ubHkgZmlyc3QgY2FsbCBnb2VzIHRocm91Z2ggZHVlIHRvXG4gICAqIGBfcmVjb3JkZWRGaXJzdFJlbmRlcmAuXG4gICAqL1xuICBfZW5zdXJlRmlyc3RSZW5kZXJUc1JlY29yZGVkKCkge1xuICAgIC8vIFVzZWQgYXMgdDAgZm9yIHJlY29yZGluZyBob3cgbG9uZyBjb21wb25lbnQgdG9vayB0byBpbml0aWFsaXplLlxuICAgIGlmICghdGhpcy5fcmVjb3JkZWRGaXJzdFJlbmRlcikge1xuICAgICAgdGhpcy5fcmVjb3JkZWRGaXJzdFJlbmRlciA9IHRydWU7XG4gICAgICAvLyB0b3BzaXRlc19maXJzdF9yZW5kZXJfdHMsIGhpZ2hsaWdodHNfZmlyc3RfcmVuZGVyX3RzLlxuICAgICAgY29uc3Qga2V5ID0gYCR7dGhpcy5wcm9wcy5pZH1fZmlyc3RfcmVuZGVyX3RzYDtcbiAgICAgIHRoaXMucGVyZlN2Yy5tYXJrKGtleSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYFNBVkVfU0VTU0lPTl9QRVJGX0RBVEFgIHdpdGggdGltZXN0YW1wIGluIG1zXG4gICAqIG9mIGhvdyBtdWNoIGxvbmdlciB0aGUgZGF0YSB0b29rIHRvIGJlIHJlYWR5IGZvciBkaXNwbGF5IHRoYW4gaXQgd291bGRcbiAgICogaGF2ZSBiZWVuIHRoZSBpZGVhbCBjYXNlLlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9waW5nLWNlbnRyZS9pc3N1ZXMvOThcbiAgICovXG4gIF9zZW5kQmFkU3RhdGVFdmVudCgpIHtcbiAgICAvLyBoaWdobGlnaHRzX2RhdGFfcmVhZHlfdHMsIHRvcHNpdGVzX2RhdGFfcmVhZHlfdHMuXG4gICAgY29uc3QgZGF0YVJlYWR5S2V5ID0gYCR7dGhpcy5wcm9wcy5pZH1fZGF0YV9yZWFkeV90c2A7XG4gICAgdGhpcy5wZXJmU3ZjLm1hcmsoZGF0YVJlYWR5S2V5KTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaXJzdFJlbmRlcktleSA9IGAke3RoaXMucHJvcHMuaWR9X2ZpcnN0X3JlbmRlcl90c2A7XG4gICAgICAvLyB2YWx1ZSBoYXMgdG8gYmUgSW50MzIuXG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KFxuICAgICAgICB0aGlzLnBlcmZTdmMuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShkYXRhUmVhZHlLZXkpIC1cbiAgICAgICAgICB0aGlzLnBlcmZTdmMuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShmaXJzdFJlbmRlcktleSksXG4gICAgICAgIDEwXG4gICAgICApO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgICAvLyBoaWdobGlnaHRzX2RhdGFfbGF0ZV9ieV9tcywgdG9wc2l0ZXNfZGF0YV9sYXRlX2J5X21zLlxuICAgICAgICAgIGRhdGE6IHsgW2Ake3RoaXMucHJvcHMuaWR9X2RhdGFfbGF0ZV9ieV9tc2BdOiB2YWx1ZSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gSWYgdGhpcyBmYWlsZWQsIGl0J3MgbGlrZWx5IGJlY2F1c2UgdGhlIGBwcml2YWN5LnJlc2lzdEZpbmdlcnByaW50aW5nYFxuICAgICAgLy8gcHJlZiBpcyB0cnVlLlxuICAgIH1cbiAgfVxuXG4gIF9zZW5kUGFpbnRlZEV2ZW50KCkge1xuICAgIC8vIFJlY29yZCBmaXJzdF9wYWludGVkIGV2ZW50IGJ1dCBvbmx5IHNlbmQgaWYgdG9wc2l0ZXMuXG4gICAgaWYgKHRoaXMucHJvcHMuaWQgIT09IFwidG9wc2l0ZXNcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHRvcHNpdGVzX2ZpcnN0X3BhaW50ZWRfdHMuXG4gICAgY29uc3Qga2V5ID0gYCR7dGhpcy5wcm9wcy5pZH1fZmlyc3RfcGFpbnRlZF90c2A7XG4gICAgdGhpcy5wZXJmU3ZjLm1hcmsoa2V5KTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICBkYXRhW2tleV0gPSB0aGlzLnBlcmZTdmMuZ2V0TW9zdFJlY2VudEFic01hcmtTdGFydEJ5TmFtZShrZXkpO1xuXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5TQVZFX1NFU1NJT05fUEVSRl9EQVRBLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAvLyBJZiB0aGlzIGZhaWxlZCwgaXQncyBsaWtlbHkgYmVjYXVzZSB0aGUgYHByaXZhY3kucmVzaXN0RmluZ2VycHJpbnRpbmdgXG4gICAgICAvLyBwcmVmIGlzIHRydWUuICBXZSBzaG91bGQgYXQgbGVhc3Qgbm90IGJsb3cgdXAsIGFuZCBzaG91bGQgY29udGludWVcbiAgICAgIC8vIHRvIHNldCB0aGlzLl90aW1lc3RhbXBIYW5kbGVkIHRvIGF2b2lkIGdvaW5nIHRocm91Z2ggdGhpcyBhZ2Fpbi5cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKFJFQ09SREVEX1NFQ1RJT05TLmluY2x1ZGVzKHRoaXMucHJvcHMuaWQpKSB7XG4gICAgICB0aGlzLl9lbnN1cmVGaXJzdFJlbmRlclRzUmVjb3JkZWQoKTtcbiAgICAgIHRoaXMuX21heWJlU2VuZEJhZFN0YXRlRXZlbnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIE1vcmVSZWNvbW1lbmRhdGlvbnMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcmVhZF9tb3JlX2VuZHBvaW50IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChyZWFkX21vcmVfZW5kcG9pbnQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxhXG4gICAgICAgICAgY2xhc3NOYW1lPVwibW9yZS1yZWNvbW1lbmRhdGlvbnNcIlxuICAgICAgICAgIGhyZWY9e3JlYWRfbW9yZV9lbmRwb2ludH1cbiAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItcG9ja2V0LW1vcmUtcmVjb21tZW5kYXRpb25zXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5cbmZ1bmN0aW9uIE1vZGFsT3ZlcmxheVdyYXBwZXIoe1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gIGRvY3VtZW50ID0gZ2xvYmFsVGhpcy5kb2N1bWVudCxcbiAgdW5zdHlsZWQsXG4gIGlubmVyQ2xhc3NOYW1lLFxuICBvbkNsb3NlLFxuICBjaGlsZHJlbixcbiAgaGVhZGVySWQsXG4gIGlkLFxufSkge1xuICBjb25zdCBtb2RhbFJlZiA9IHVzZVJlZihudWxsKTtcblxuICBsZXQgY2xhc3NOYW1lID0gdW5zdHlsZWQgPyBcIlwiIDogXCJtb2RhbE92ZXJsYXlJbm5lciBhY3RpdmVcIjtcbiAgaWYgKGlubmVyQ2xhc3NOYW1lKSB7XG4gICAgY2xhc3NOYW1lICs9IGAgJHtpbm5lckNsYXNzTmFtZX1gO1xuICB9XG5cbiAgLy8gVGhlIGludGVuZGVkIGJlaGF2aW91ciBpcyB0byBsaXN0ZW4gZm9yIGFuIGVzY2FwZSBrZXlcbiAgLy8gYnV0IG5vdCBmb3IgYSBjbGljazsgc2VlIEJ1ZyAxNTgyMjQyXG4gIGNvbnN0IG9uS2V5RG93biA9IHVzZUNhbGxiYWNrKFxuICAgIGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgb25DbG9zZShldmVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbb25DbG9zZV1cbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwibW9kYWwtb3BlblwiKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWwtb3BlblwiKTtcbiAgICB9O1xuICB9LCBbZG9jdW1lbnQsIG9uS2V5RG93bl0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwibW9kYWxPdmVybGF5T3V0ZXIgYWN0aXZlXCJcbiAgICAgIG9uS2V5RG93bj17b25LZXlEb3dufVxuICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PXtoZWFkZXJJZH1cbiAgICAgICAgaWQ9e2lkfVxuICAgICAgICByb2xlPVwiZGlhbG9nXCJcbiAgICAgICAgcmVmPXttb2RhbFJlZn1cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCB7IE1vZGFsT3ZlcmxheVdyYXBwZXIgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRPUF9TSVRFU19TT1VSQ0UgfSBmcm9tIFwiLi9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0YWJsZVNlYXJjaFNob3J0Y3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHNob3J0Y3V0LCBzZWxlY3RlZCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpbWFnZVN0eWxlID0geyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCIke3Nob3J0Y3V0LnRpcHB5VG9wSWNvbn1cIilgIH07XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXNpdGUtb3V0ZXIgc2VhcmNoLXNob3J0Y3V0XCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgaWQ9e3Nob3J0Y3V0LmtleXdvcmR9XG4gICAgICAgICAgbmFtZT17c2hvcnRjdXQua2V5d29yZH1cbiAgICAgICAgICBjaGVja2VkPXtzZWxlY3RlZH1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgICAgPGxhYmVsIGh0bWxGb3I9e3Nob3J0Y3V0LmtleXdvcmR9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXNpdGUtaW5uZXJcIj5cbiAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpbGVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17aW1hZ2VTdHlsZX1cbiAgICAgICAgICAgICAgICAgIGRhdGEtZmFsbGJhY2s9XCJAXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXNpdGUtaWNvbiBzZWFyY2gtdG9wc2l0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gZGlyPVwiYXV0b1wiPntzaG9ydGN1dC5rZXl3b3JkfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZWFyY2hTaG9ydGN1dHNGb3JtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2sgPSB0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2F2ZUJ1dHRvbkNsaWNrID0gdGhpcy5vblNhdmVCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuXG4gICAgLy8gY2xvbmUgdGhlIHNob3J0Y3V0cyBhbmQgYWRkIHRoZW0gdG8gdGhlIHN0YXRlIHNvIHdlIGNhbiBhZGQgaXNTZWxlY3RlZCBwcm9wZXJ0eVxuICAgIGNvbnN0IHNob3J0Y3V0cyA9IFtdO1xuICAgIGNvbnN0IHsgcm93cywgc2VhcmNoU2hvcnRjdXRzIH0gPSBwcm9wcy5Ub3BTaXRlcztcbiAgICBzZWFyY2hTaG9ydGN1dHMuZm9yRWFjaChzaG9ydGN1dCA9PiB7XG4gICAgICBzaG9ydGN1dHMucHVzaCh7XG4gICAgICAgIC4uLnNob3J0Y3V0LFxuICAgICAgICBpc1NlbGVjdGVkOiAhIXJvd3MuZmluZChcbiAgICAgICAgICByb3cgPT5cbiAgICAgICAgICAgIHJvdyAmJlxuICAgICAgICAgICAgcm93LmlzUGlubmVkICYmXG4gICAgICAgICAgICByb3cuc2VhcmNoVG9wU2l0ZSAmJlxuICAgICAgICAgICAgcm93LmxhYmVsID09PSBzaG9ydGN1dC5rZXl3b3JkXG4gICAgICAgICksXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLnN0YXRlID0geyBzaG9ydGN1dHMgfTtcbiAgfVxuXG4gIGhhbmRsZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBldmVudDtcbiAgICBjb25zdCB7IG5hbWU6IHRhcmdldE5hbWUsIGNoZWNrZWQgfSA9IHRhcmdldDtcbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiB7XG4gICAgICBjb25zdCBzaG9ydGN1dHMgPSBwcmV2U3RhdGUuc2hvcnRjdXRzLnNsaWNlKCk7XG4gICAgICBsZXQgc2hvcnRjdXQgPSBzaG9ydGN1dHMuZmluZCgoeyBrZXl3b3JkIH0pID0+IGtleXdvcmQgPT09IHRhcmdldE5hbWUpO1xuICAgICAgc2hvcnRjdXQuaXNTZWxlY3RlZCA9IGNoZWNrZWQ7XG4gICAgICByZXR1cm4geyBzaG9ydGN1dHMgfTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2FuY2VsQnV0dG9uQ2xpY2soZXYpIHtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICB9XG5cbiAgb25TYXZlQnV0dG9uQ2xpY2soZXYpIHtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgd2VyZSBhbnkgY2hhbmdlcyBhbmQgYWN0IGFjY29yZGluZ2x5XG4gICAgY29uc3QgeyByb3dzIH0gPSB0aGlzLnByb3BzLlRvcFNpdGVzO1xuICAgIGNvbnN0IHBpblF1ZXVlID0gW107XG4gICAgY29uc3QgdW5waW5RdWV1ZSA9IFtdO1xuICAgIHRoaXMuc3RhdGUuc2hvcnRjdXRzLmZvckVhY2goc2hvcnRjdXQgPT4ge1xuICAgICAgY29uc3QgYWxyZWFkeVBpbm5lZCA9IHJvd3MuZmluZChcbiAgICAgICAgcm93ID0+XG4gICAgICAgICAgcm93ICYmXG4gICAgICAgICAgcm93LmlzUGlubmVkICYmXG4gICAgICAgICAgcm93LnNlYXJjaFRvcFNpdGUgJiZcbiAgICAgICAgICByb3cubGFiZWwgPT09IHNob3J0Y3V0LmtleXdvcmRcbiAgICAgICk7XG4gICAgICBpZiAoc2hvcnRjdXQuaXNTZWxlY3RlZCAmJiAhYWxyZWFkeVBpbm5lZCkge1xuICAgICAgICBwaW5RdWV1ZS5wdXNoKHRoaXMuX3NlYXJjaFRvcFNpdGUoc2hvcnRjdXQpKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNob3J0Y3V0LmlzU2VsZWN0ZWQgJiYgYWxyZWFkeVBpbm5lZCkge1xuICAgICAgICB1bnBpblF1ZXVlLnB1c2goe1xuICAgICAgICAgIHVybDogYWxyZWFkeVBpbm5lZC51cmwsXG4gICAgICAgICAgc2VhcmNoVmVuZG9yOiBzaG9ydGN1dC5zaG9ydFVSTCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBUZWxsIHRoZSBmZWVkIHRvIGRvIHRoZSB3b3JrLlxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuVVBEQVRFX1BJTk5FRF9TRUFSQ0hfU0hPUlRDVVRTLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYWRkZWRTaG9ydGN1dHM6IHBpblF1ZXVlLFxuICAgICAgICAgIGRlbGV0ZWRTaG9ydGN1dHM6IHVucGluUXVldWUsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICAvLyBTZW5kIHRoZSBUZWxlbWV0cnkgcGluZ3MuXG4gICAgcGluUXVldWUuZm9yRWFjaChzaG9ydGN1dCA9PiB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICBldmVudDogXCJTRUFSQ0hfRURJVF9BRERcIixcbiAgICAgICAgICB2YWx1ZTogeyBzZWFyY2hfdmVuZG9yOiBzaG9ydGN1dC5zZWFyY2hWZW5kb3IgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdW5waW5RdWV1ZS5mb3JFYWNoKHNob3J0Y3V0ID0+IHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgIGV2ZW50OiBcIlNFQVJDSF9FRElUX0RFTEVURVwiLFxuICAgICAgICAgIHZhbHVlOiB7IHNlYXJjaF92ZW5kb3I6IHNob3J0Y3V0LnNlYXJjaFZlbmRvciB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICB9XG5cbiAgX3NlYXJjaFRvcFNpdGUoc2hvcnRjdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiBzaG9ydGN1dC51cmwsXG4gICAgICBzZWFyY2hUb3BTaXRlOiB0cnVlLFxuICAgICAgbGFiZWw6IHNob3J0Y3V0LmtleXdvcmQsXG4gICAgICBzZWFyY2hWZW5kb3I6IHNob3J0Y3V0LnNob3J0VVJMLFxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIGNsYXNzTmFtZT1cInRvcHNpdGUtZm9ybVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1zaG9ydGN1dHMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgzXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlIGdyZXktdGl0bGVcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLWFkZC1zZWFyY2gtZW5naW5lLWhlYWRlclwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAge3RoaXMuc3RhdGUuc2hvcnRjdXRzLm1hcChzaG9ydGN1dCA9PiAoXG4gICAgICAgICAgICAgIDxTZWxlY3RhYmxlU2VhcmNoU2hvcnRjdXRcbiAgICAgICAgICAgICAgICBrZXk9e3Nob3J0Y3V0LmtleXdvcmR9XG4gICAgICAgICAgICAgICAgc2hvcnRjdXQ9e3Nob3J0Y3V0fVxuICAgICAgICAgICAgICAgIHNlbGVjdGVkPXtzaG9ydGN1dC5pc1NlbGVjdGVkfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiYWN0aW9uc1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhbmNlbFwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DYW5jZWxCdXR0b25DbGlja31cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BzaXRlcy1jYW5jZWwtYnV0dG9uXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbmVcIlxuICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uU2F2ZUJ1dHRvbkNsaWNrfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLXNhdmUtYnV0dG9uXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNsYXNzIERlZHVwZSB7XG4gIGNvbnN0cnVjdG9yKGNyZWF0ZUtleSkge1xuICAgIHRoaXMuY3JlYXRlS2V5ID0gY3JlYXRlS2V5IHx8IHRoaXMuZGVmYXVsdENyZWF0ZUtleTtcbiAgfVxuXG4gIGRlZmF1bHRDcmVhdGVLZXkoaXRlbSkge1xuICAgIHJldHVybiBpdGVtO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZHVwZSBhbnkgbnVtYmVyIG9mIGdyb3VwZWQgZWxlbWVudHMgZmF2b3JpbmcgdGhvc2UgZnJvbSBlYXJsaWVyIGdyb3Vwcy5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gZ3JvdXBzIENvbnRhaW5zIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgYXJyYXlzIG9mIGVsZW1lbnRzLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEEgbWF0Y2hpbmcgYXJyYXkgb2YgZWFjaCBwcm92aWRlZCBncm91cCBkZWR1cGVkLlxuICAgKi9cbiAgZ3JvdXAoLi4uZ3JvdXBzKSB7XG4gICAgY29uc3QgZ2xvYmFsS2V5cyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlcyBvZiBncm91cHMpIHtcbiAgICAgIGNvbnN0IHZhbHVlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5jcmVhdGVLZXkodmFsdWUpO1xuICAgICAgICBpZiAoIWdsb2JhbEtleXMuaGFzKGtleSkgJiYgIXZhbHVlTWFwLmhhcyhrZXkpKSB7XG4gICAgICAgICAgdmFsdWVNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaCh2YWx1ZU1hcCk7XG4gICAgICB2YWx1ZU1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiBnbG9iYWxLZXlzLmFkZChrZXkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5tYXAobSA9PiBBcnJheS5mcm9tKG0udmFsdWVzKCkpKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpc1xuICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19ERUZBVUxUX1JPV1MgPSAxO1xuZXhwb3J0IGNvbnN0IFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyA9IDg7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJyZXNvdXJjZTovL25ld3RhYi9jb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IERlZHVwZSB9IGZyb20gXCJyZXNvdXJjZTovLy9tb2R1bGVzL0RlZHVwZS5zeXMubWpzXCI7XG5cbmV4cG9ydCB7XG4gIFRPUF9TSVRFU19ERUZBVUxUX1JPV1MsXG4gIFRPUF9TSVRFU19NQVhfU0lURVNfUEVSX1JPVyxcbn0gZnJvbSBcInJlc291cmNlOi8vL21vZHVsZXMvdG9wc2l0ZXMvY29uc3RhbnRzLm1qc1wiO1xuXG5jb25zdCBkZWR1cGUgPSBuZXcgRGVkdXBlKHNpdGUgPT4gc2l0ZSAmJiBzaXRlLnVybCk7XG5cbmV4cG9ydCBjb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBBcHA6IHtcbiAgICAvLyBIYXZlIHdlIHJlY2VpdmVkIHJlYWwgZGF0YSBmcm9tIHRoZSBhcHAgeWV0P1xuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICBsb2NhbGU6IFwiXCIsXG4gICAgaXNGb3JTdGFydHVwQ2FjaGU6IHtcbiAgICAgIEFwcDogZmFsc2UsXG4gICAgICBUb3BTaXRlczogZmFsc2UsXG4gICAgICBEaXNjb3ZlcnlTdHJlYW06IGZhbHNlLFxuICAgICAgV2VhdGhlcjogZmFsc2UsXG4gICAgICBXYWxscGFwZXI6IGZhbHNlLFxuICAgIH0sXG4gICAgY3VzdG9taXplTWVudVZpc2libGU6IGZhbHNlLFxuICB9LFxuICBBZHM6IHtcbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgdGlsZXM6IHt9LFxuICAgIHNwb2NzOiB7fSxcbiAgICBzcG9jUGxhY2VtZW50czoge30sXG4gIH0sXG4gIFRvcFNpdGVzOiB7XG4gICAgLy8gSGF2ZSB3ZSByZWNlaXZlZCByZWFsIGRhdGEgZnJvbSBoaXN0b3J5IHlldD9cbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgLy8gVGhlIGhpc3RvcnkgKGFuZCBwb3NzaWJseSBkZWZhdWx0KSBsaW5rc1xuICAgIHJvd3M6IFtdLFxuICAgIC8vIFVzZWQgaW4gY29udGVudCBvbmx5IHRvIGRpc3BhdGNoIGFjdGlvbiB0byBUb3BTaXRlRm9ybS5cbiAgICBlZGl0Rm9ybTogbnVsbCxcbiAgICAvLyBVc2VkIGluIGNvbnRlbnQgb25seSB0byBvcGVuIHRoZSBTZWFyY2hTaG9ydGN1dHNGb3JtIG1vZGFsLlxuICAgIHNob3dTZWFyY2hTaG9ydGN1dHNGb3JtOiBmYWxzZSxcbiAgICAvLyBUaGUgbGlzdCBvZiBhdmFpbGFibGUgc2VhcmNoIHNob3J0Y3V0cy5cbiAgICBzZWFyY2hTaG9ydGN1dHM6IFtdLFxuICAgIC8vIFRoZSBcIlNoYXJlLW9mLVZvaWNlXCIgYWxsb2NhdGlvbnMgZ2VuZXJhdGVkIGJ5IFRvcFNpdGVzRmVlZFxuICAgIHNvdjoge1xuICAgICAgcmVhZHk6IGZhbHNlLFxuICAgICAgcG9zaXRpb25zOiBbXG4gICAgICAgIC8vIHtwb3NpdGlvbjogMCwgYXNzaWduZWRQYXJ0bmVyOiBcImFtcFwifSxcbiAgICAgICAgLy8ge3Bvc2l0aW9uOiAxLCBhc3NpZ25lZFBhcnRuZXI6IFwibW96LXNhbGVzXCJ9LFxuICAgICAgXSxcbiAgICB9LFxuICB9LFxuICBQcmVmczoge1xuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgICB2YWx1ZXM6IHsgZmVhdHVyZUNvbmZpZzoge30gfSxcbiAgfSxcbiAgRGlhbG9nOiB7XG4gICAgdmlzaWJsZTogZmFsc2UsXG4gICAgZGF0YToge30sXG4gIH0sXG4gIFNlY3Rpb25zOiBbXSxcbiAgUG9ja2V0OiB7XG4gICAgcG9ja2V0Q3RhOiB7fSxcbiAgICB3YWl0aW5nRm9yU3BvYzogdHJ1ZSxcbiAgfSxcbiAgLy8gVGhpcyBpcyB0aGUgbmV3IHBvY2tldCBjb25maWd1cmFibGUgbGF5b3V0IHN0YXRlLlxuICBEaXNjb3ZlcnlTdHJlYW06IHtcbiAgICAvLyBUaGlzIGlzIGEgSlNPTi1wYXJzZWQgY29weSBvZiB0aGUgZGlzY292ZXJ5c3RyZWFtLmNvbmZpZyBwcmVmIHZhbHVlLlxuICAgIGNvbmZpZzogeyBlbmFibGVkOiBmYWxzZSB9LFxuICAgIGxheW91dDogW10sXG4gICAgdG9waWNzTG9hZGluZzogZmFsc2UsXG4gICAgZmVlZHM6IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgLy8gXCJodHRwczovL2Zvby5jb20vZmVlZDFcIjoge2xhc3RVcGRhdGVkOiAxMjMsIGRhdGE6IFtdLCBwZXJzb25hbGl6ZWQ6IGZhbHNlfVxuICAgICAgfSxcbiAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgfSxcbiAgICAvLyBVc2VkIHRvIHNob3cgaW1wcmVzc2lvbnMgaW4gbmV3dGFiIGRldnRvb2xzLlxuICAgIGltcHJlc3Npb25zOiB7XG4gICAgICBmZWVkOiB7fSxcbiAgICB9LFxuICAgIC8vIFVzZWQgdG8gc2hvdyBibG9ja3MgaW4gbmV3dGFiIGRldnRvb2xzLlxuICAgIGJsb2Nrczoge30sXG4gICAgc3BvY3M6IHtcbiAgICAgIHNwb2NzX2VuZHBvaW50OiBcIlwiLFxuICAgICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIC8vIFwic3BvY3NcIjoge3RpdGxlOiBcIlwiLCBjb250ZXh0OiBcIlwiLCBpdGVtczogW10sIHBlcnNvbmFsaXplZDogZmFsc2V9LFxuICAgICAgICAvLyBcInBsYWNlbWVudDFcIjoge3RpdGxlOiBcIlwiLCBjb250ZXh0OiBcIlwiLCBpdGVtczogW10sIHBlcnNvbmFsaXplZDogZmFsc2V9LFxuICAgICAgfSxcbiAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICBmcmVxdWVuY3lfY2FwczogW10sXG4gICAgICBibG9ja2VkOiBbXSxcbiAgICAgIHBsYWNlbWVudHM6IFtdLFxuICAgIH0sXG4gICAgZXhwZXJpbWVudERhdGE6IHtcbiAgICAgIHV0bVNvdXJjZTogXCJwb2NrZXQtbmV3dGFiXCIsXG4gICAgICB1dG1DYW1wYWlnbjogdW5kZWZpbmVkLFxuICAgICAgdXRtQ29udGVudDogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgc2hvd1RvcGljU2VsZWN0aW9uOiBmYWxzZSxcbiAgICByZXBvcnQ6IHtcbiAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgZGF0YToge30sXG4gICAgfSxcbiAgICBzZWN0aW9uUGVyc29uYWxpemF0aW9uOiB7fSxcbiAgfSxcbiAgLy8gTWVzc2FnZXMgcmVjZWl2ZWQgZnJvbSBBU1JvdXRlciB0byByZW5kZXIgaW4gbmV3dGFiXG4gIE1lc3NhZ2VzOiB7XG4gICAgLy8gbWVzc2FnZXMgcmVjZWl2ZWQgZnJvbSBBU1JvdXRlciBhcmUgaW5pdGlhbGx5IHZpc2libGVcbiAgICBpc1Zpc2libGU6IHRydWUsXG4gICAgLy8gcG9ydElEIGZvciB0aGF0IHRhYiB0aGF0IHdhcyBzZW50IHRoZSBtZXNzYWdlXG4gICAgcG9ydElEOiBcIlwiLFxuICAgIC8vIFJFQURPTkxZIE1lc3NhZ2UgZGF0YSByZWNlaXZlZCBmcm9tIEFTUm91dGVyXG4gICAgbWVzc2FnZURhdGE6IHt9LFxuICB9LFxuICBOb3RpZmljYXRpb25zOiB7XG4gICAgc2hvd05vdGlmaWNhdGlvbnM6IGZhbHNlLFxuICAgIHRvYXN0Q291bnRlcjogMCxcbiAgICB0b2FzdElkOiBcIlwiLFxuICAgIC8vIFRoaXMgcXVldWUgaXMgcmVzZXQgZWFjaCB0aW1lIFNIT1dfVE9BU1RfTUVTU0FHRSBpcyByYW4uXG4gICAgLy8gRm9yIGNhbiBiZSBhIHF1ZXVlIGluIHRoZSBmdXR1cmUsIGJ1dCBmb3Igbm93IGlzIG9uZSBpdGVtXG4gICAgdG9hc3RRdWV1ZTogW10sXG4gIH0sXG4gIFBlcnNvbmFsaXphdGlvbjoge1xuICAgIGxhc3RVcGRhdGVkOiBudWxsLFxuICAgIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgfSxcbiAgSW5mZXJyZWRQZXJzb25hbGl6YXRpb246IHtcbiAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgbGFzdFVwZGF0ZWQ6IG51bGwsXG4gICAgaW5mZXJyZWRJbnRyZXN0czoge30sXG4gICAgY29hcnNlSW5mZXJyZWRJbnRlcmVzdHM6IHt9LFxuICAgIGNvYXJzZVByaXZhdGVJbmZlcnJlZEludGVyZXN0czoge30sXG4gIH0sXG4gIFNlYXJjaDoge1xuICAgIC8vIFdoZW4gc2VhcmNoIGhhbmQtb2ZmIGlzIGVuYWJsZWQsIHdlIHJlbmRlciBhIGJpZyBidXR0b24gdGhhdCBpcyBzdHlsZWQgdG9cbiAgICAvLyBsb29rIGxpa2UgYSBzZWFyY2ggdGV4dGJveC4gSWYgdGhlIGJ1dHRvbiBpcyBjbGlja2VkLCB3ZSBzdHlsZVxuICAgIC8vIHRoZSBidXR0b24gYXMgaWYgaXQgd2FzIGEgZm9jdXNlZCBzZWFyY2ggYm94IGFuZCBzaG93IGEgZmFrZSBjdXJzb3IgYnV0XG4gICAgLy8gcmVhbGx5IGZvY3VzIHRoZSBhd2Vzb21lYmFyIHdpdGhvdXQgdGhlIGZvY3VzIHN0eWxlcyAoXCJoaWRkZW4gZm9jdXNcIikuXG4gICAgZmFrZUZvY3VzOiBmYWxzZSxcbiAgICAvLyBIaWRlIHRoZSBzZWFyY2ggYm94IGFmdGVyIGhhbmRpbmcgb2ZmIHRvIEF3ZXNvbWVCYXIgYW5kIHVzZXIgc3RhcnRzIHR5cGluZy5cbiAgICBoaWRlOiBmYWxzZSxcbiAgfSxcbiAgV2FsbHBhcGVyczoge1xuICAgIHdhbGxwYXBlckxpc3Q6IFtdLFxuICAgIGhpZ2hsaWdodFNlZW5Db3VudGVyOiAwLFxuICAgIGNhdGVnb3JpZXM6IFtdLFxuICAgIHVwbG9hZGVkV2FsbHBhcGVyOiBcIlwiLFxuICB9LFxuICBXZWF0aGVyOiB7XG4gICAgaW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgIGxhc3RVcGRhdGVkOiBudWxsLFxuICAgIHF1ZXJ5OiBcIlwiLFxuICAgIHN1Z2dlc3Rpb25zOiBbXSxcbiAgICBsb2NhdGlvbkRhdGE6IHtcbiAgICAgIGNpdHk6IFwiXCIsXG4gICAgICBhZG1pbkFyZWE6IFwiXCIsXG4gICAgICBjb3VudHJ5OiBcIlwiLFxuICAgIH0sXG4gICAgLy8gRGlzcGxheSBzZWFyY2ggaW5wdXQgaW4gV2VhdGhlciB3aWRnZXRcbiAgICBzZWFyY2hBY3RpdmU6IGZhbHNlLFxuICAgIGxvY2F0aW9uU2VhcmNoU3RyaW5nOiBcIlwiLFxuICAgIHN1Z2dlc3RlZExvY2F0aW9uczogW10sXG4gIH0sXG4gIFRyZW5kaW5nU2VhcmNoOiB7XG4gICAgc3VnZ2VzdGlvbnM6IFtdLFxuICAgIGNvbGxhcHNlZDogZmFsc2UsXG4gIH0sXG4gIC8vIFdpZGdldHNcbiAgTGlzdHNXaWRnZXQ6IHtcbiAgICAvLyB2YWx1ZSBwb2ludGluZyB0byBsYXN0IHNlbGVjdGxlZCBsaXN0XG4gICAgc2VsZWN0ZWQ6IFwidGFza0xpc3RcIixcbiAgICAvLyBEZWZhdWx0IHN0YXRlIG9mIGFuIGVtcHR5IHRhc2sgbGlzdFxuICAgIGxpc3RzOiB7XG4gICAgICB0YXNrTGlzdDoge1xuICAgICAgICBsYWJlbDogXCJcIixcbiAgICAgICAgdGFza3M6IFtdLFxuICAgICAgICBjb21wbGV0ZWQ6IFtdLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICAvLyBTbWFydCBXaW5kb3cgc3RhdGVcbiAgU21hcnRXaW5kb3c6IHtcbiAgICBhY3RpdmU6IGZhbHNlLFxuICB9LFxuICBUaW1lcldpZGdldDoge1xuICAgIC8vIFRoZSB0aW1lciB3aWxsIGhhdmUgMiB0eXBlcyBvZiBzdGF0ZXMsIGZvY3VzIGFuZCBicmVhay5cbiAgICAvLyBGb2N1cyB3aWxsIHRoZSBkZWZhdWx0IHN0YXRlXG4gICAgdGltZXJUeXBlOiBcImZvY3VzXCIsXG4gICAgZm9jdXM6IHtcbiAgICAgIC8vIFRpbWVyIGR1cmF0aW9uIHNldCBieSB1c2VyOyAyNSBtaW5zIGJ5IGRlZmF1bHRcbiAgICAgIGR1cmF0aW9uOiAyNSAqIDYwLFxuICAgICAgLy8gSW5pdGlhbCBkdXJhdGlvbiAtIGFsc28gc2V0IGJ5IHRoZSB1c2VyOyBkb2VzIG5vdCB1cGRhdGUgdW50aWwgdGltZXIgZW5kcyBvciB1c2VyIHJlc2V0cyB0aW1lclxuICAgICAgaW5pdGlhbER1cmF0aW9uOiAyNSAqIDYwLFxuICAgICAgLy8gdGhlIERhdGUubm93KCkgdmFsdWUgd2hlbiBhIHVzZXIgc3RhcnRzL3Jlc3VtZXMgYSB0aW1lclxuICAgICAgc3RhcnRUaW1lOiBudWxsLFxuICAgICAgLy8gQm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRpbWVyIGlzIGN1cnJlbnRseSBydW5uaW5nXG4gICAgICBpc1J1bm5pbmc6IGZhbHNlLFxuICAgIH0sXG4gICAgYnJlYWs6IHtcbiAgICAgIGR1cmF0aW9uOiA1ICogNjAsXG4gICAgICBpbml0aWFsRHVyYXRpb246IDUgKiA2MCxcbiAgICAgIHN0YXJ0VGltZTogbnVsbCxcbiAgICAgIGlzUnVubmluZzogZmFsc2UsXG4gICAgfSxcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIEFwcChwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkFwcCwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LklOSVQ6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCBhY3Rpb24uZGF0YSB8fCB7fSwge1xuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuVE9QX1NJVEVTX1VQREFURUQ6XG4gICAgICAvLyBUb2dnbGUgYGlzRm9yU3RhcnR1cENhY2hlLlRvcFNpdGVzYCB3aGVuIHJlY2VpdmluZyB0aGUgYFRPUF9TSVRFU19VUERBVEVgIGFjdGlvblxuICAgICAgLy8gc28gdGhhdCBzcG9uc29yZWQgdGlsZXMgY2FuIGJlIHJlbmRlcmVkIGFzIHVzdWFsLiBTZWUgQnVnIDE4MjYzNjAuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGlzRm9yU3RhcnR1cENhY2hlOiB7IC4uLnByZXZTdGF0ZS5pc0ZvclN0YXJ0dXBDYWNoZSwgVG9wU2l0ZXM6IGZhbHNlIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19VUERBVEU6XG4gICAgICAvLyBUb2dnbGUgYGlzRm9yU3RhcnR1cENhY2hlLkRpc2NvdmVyeVN0cmVhbWAgd2hlbiByZWNlaXZpbmcgdGhlIGBESVNDT1ZFUllfU1RSRUFNX1NQT0NTX1VQREFURWAgYWN0aW9uXG4gICAgICAvLyBzbyB0aGF0IHNwb2MgY2FyZHMgY2FuIGJlIHJlbmRlcmVkIGFzIHVzdWFsLlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBpc0ZvclN0YXJ0dXBDYWNoZToge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5pc0ZvclN0YXJ0dXBDYWNoZSxcbiAgICAgICAgICBEaXNjb3ZlcnlTdHJlYW06IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LldFQVRIRVJfVVBEQVRFOlxuICAgICAgLy8gVG9nZ2xlIGBpc0ZvclN0YXJ0dXBDYWNoZS5XZWF0aGVyYCB3aGVuIHJlY2VpdmluZyB0aGUgYFdFQVRIRVJfVVBEQVRFYCBhY3Rpb25cbiAgICAgIC8vIHNvIHRoYXQgd2VhdGhlciBjYW4gYmUgcmVuZGVyZWQgYXMgdXN1YWwuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGlzRm9yU3RhcnR1cENhY2hlOiB7IC4uLnByZXZTdGF0ZS5pc0ZvclN0YXJ0dXBDYWNoZSwgV2VhdGhlcjogZmFsc2UgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5XQUxMUEFQRVJTX0NVU1RPTV9TRVQ6XG4gICAgICAvLyBUb2dnbGUgYGlzRm9yU3RhcnR1cENhY2hlLldhbGxwYXBlcmAgd2hlbiByZWNlaXZpbmcgdGhlIGBXQUxMUEFQRVJTX0NVU1RPTV9TRVRgIGFjdGlvblxuICAgICAgLy8gc28gdGhhdCBjdXN0b20gd2FsbHBhcGVyIGNhbiBiZSByZW5kZXJlZCBhcyB1c3VhbC5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaXNGb3JTdGFydHVwQ2FjaGU6IHsgLi4ucHJldlN0YXRlLmlzRm9yU3RhcnR1cENhY2hlLCBXYWxscGFwZXI6IGZhbHNlIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuU0hPV19QRVJTT05BTElaRTpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgY3VzdG9taXplTWVudVZpc2libGU6IHRydWUsXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LkhJREVfUEVSU09OQUxJWkU6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLCB7XG4gICAgICAgIGN1c3RvbWl6ZU1lbnVWaXNpYmxlOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRvcFNpdGVzKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuVG9wU2l0ZXMsIGFjdGlvbikge1xuICBsZXQgaGFzTWF0Y2g7XG4gIGxldCBuZXdSb3dzO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfVVBEQVRFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEgfHwgIWFjdGlvbi5kYXRhLmxpbmtzKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIHByZXZTdGF0ZSxcbiAgICAgICAgeyBpbml0aWFsaXplZDogdHJ1ZSwgcm93czogYWN0aW9uLmRhdGEubGlua3MgfSxcbiAgICAgICAgYWN0aW9uLmRhdGEucHJlZiA/IHsgcHJlZjogYWN0aW9uLmRhdGEucHJlZiB9IDoge31cbiAgICAgICk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfUFJFRlNfVVBEQVRFRDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgcHJlZjogYWN0aW9uLmRhdGEucHJlZiB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19FRElUOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBhY3Rpb24uZGF0YS5pbmRleCxcbiAgICAgICAgICBwcmV2aWV3UmVzcG9uc2U6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19DQU5DRUxfRURJVDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgZWRpdEZvcm06IG51bGwgfSk7XG4gICAgY2FzZSBhdC5UT1BfU0lURVNfT1BFTl9TRUFSQ0hfU0hPUlRDVVRTX01PREFMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBzaG93U2VhcmNoU2hvcnRjdXRzRm9ybTogdHJ1ZSB9KTtcbiAgICBjYXNlIGF0LlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyBzaG93U2VhcmNoU2hvcnRjdXRzRm9ybTogZmFsc2UgfSk7XG4gICAgY2FzZSBhdC5QUkVWSUVXX1JFU1BPTlNFOlxuICAgICAgaWYgKFxuICAgICAgICAhcHJldlN0YXRlLmVkaXRGb3JtIHx8XG4gICAgICAgIGFjdGlvbi5kYXRhLnVybCAhPT0gcHJldlN0YXRlLmVkaXRGb3JtLnByZXZpZXdVcmxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBwcmV2U3RhdGUuZWRpdEZvcm0uaW5kZXgsXG4gICAgICAgICAgcHJldmlld1Jlc3BvbnNlOiBhY3Rpb24uZGF0YS5wcmV2aWV3LFxuICAgICAgICAgIHByZXZpZXdVcmw6IGFjdGlvbi5kYXRhLnVybCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuUFJFVklFV19SRVFVRVNUOlxuICAgICAgaWYgKCFwcmV2U3RhdGUuZWRpdEZvcm0pIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHtcbiAgICAgICAgZWRpdEZvcm06IHtcbiAgICAgICAgICBpbmRleDogcHJldlN0YXRlLmVkaXRGb3JtLmluZGV4LFxuICAgICAgICAgIHByZXZpZXdSZXNwb25zZTogbnVsbCxcbiAgICAgICAgICBwcmV2aWV3VXJsOiBhY3Rpb24uZGF0YS51cmwsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICBjYXNlIGF0LlBSRVZJRVdfUkVRVUVTVF9DQU5DRUw6XG4gICAgICBpZiAoIXByZXZTdGF0ZS5lZGl0Rm9ybSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBlZGl0Rm9ybToge1xuICAgICAgICAgIGluZGV4OiBwcmV2U3RhdGUuZWRpdEZvcm0uaW5kZXgsXG4gICAgICAgICAgcHJldmlld1Jlc3BvbnNlOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgY2FzZSBhdC5TQ1JFRU5TSE9UX1VQREFURUQ6XG4gICAgICBuZXdSb3dzID0gcHJldlN0YXRlLnJvd3MubWFwKHJvdyA9PiB7XG4gICAgICAgIGlmIChyb3cgJiYgcm93LnVybCA9PT0gYWN0aW9uLmRhdGEudXJsKSB7XG4gICAgICAgICAgaGFzTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCByb3csIHsgc2NyZWVuc2hvdDogYWN0aW9uLmRhdGEuc2NyZWVuc2hvdCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaGFzTWF0Y2hcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgcm93czogbmV3Um93cyB9KVxuICAgICAgICA6IHByZXZTdGF0ZTtcbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS19BRERFRDpcbiAgICAgIGlmICghYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgIH1cbiAgICAgIG5ld1Jvd3MgPSBwcmV2U3RhdGUucm93cy5tYXAoc2l0ZSA9PiB7XG4gICAgICAgIGlmIChzaXRlICYmIHNpdGUudXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICBjb25zdCB7IGJvb2ttYXJrR3VpZCwgYm9va21hcmtUaXRsZSwgZGF0ZUFkZGVkIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2l0ZSwge1xuICAgICAgICAgICAgYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgYm9va21hcmtUaXRsZSxcbiAgICAgICAgICAgIGJvb2ttYXJrRGF0ZUNyZWF0ZWQ6IGRhdGVBZGRlZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l0ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLU19SRU1PVkVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgbmV3Um93cyA9IHByZXZTdGF0ZS5yb3dzLm1hcChzaXRlID0+IHtcbiAgICAgICAgaWYgKHNpdGUgJiYgYWN0aW9uLmRhdGEudXJscy5pbmNsdWRlcyhzaXRlLnVybCkpIHtcbiAgICAgICAgICBjb25zdCBuZXdTaXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc2l0ZSk7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtHdWlkO1xuICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrVGl0bGU7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtEYXRlQ3JlYXRlZDtcbiAgICAgICAgICByZXR1cm4gbmV3U2l0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l0ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgIGNhc2UgYXQuUExBQ0VTX0xJTktTX0RFTEVURUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICBuZXdSb3dzID0gcHJldlN0YXRlLnJvd3MuZmlsdGVyKFxuICAgICAgICBzaXRlID0+ICFhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKHNpdGUudXJsKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgcm93czogbmV3Um93cyB9KTtcbiAgICBjYXNlIGF0LlVQREFURV9TRUFSQ0hfU0hPUlRDVVRTOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBzZWFyY2hTaG9ydGN1dHM6IGFjdGlvbi5kYXRhLnNlYXJjaFNob3J0Y3V0cyB9O1xuICAgIGNhc2UgYXQuU09WX1VQREFURUQ6IHtcbiAgICAgIGNvbnN0IHNvdiA9IHtcbiAgICAgICAgcmVhZHk6IGFjdGlvbi5kYXRhLnJlYWR5LFxuICAgICAgICBwb3NpdGlvbnM6IGFjdGlvbi5kYXRhLnBvc2l0aW9ucyxcbiAgICAgIH07XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIHNvdiB9O1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBEaWFsb2cocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5EaWFsb2csIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5ESUFMT0dfT1BFTjpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgdmlzaWJsZTogdHJ1ZSwgZGF0YTogYWN0aW9uLmRhdGEgfSk7XG4gICAgY2FzZSBhdC5ESUFMT0dfQ0FOQ0VMOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwgeyB2aXNpYmxlOiBmYWxzZSB9KTtcbiAgICBjYXNlIGF0LkRJQUxPR19DTE9TRTpcbiAgICAgIC8vIFJlc2V0IGFuZCBoaWRlIHRoZSBjb25maXJtYXRpb24gZGlhbG9nIG9uY2UgdGhlIGFjdGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBJTklUSUFMX1NUQVRFLkRpYWxvZyk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gUHJlZnMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5QcmVmcywgYWN0aW9uKSB7XG4gIGxldCBuZXdWYWx1ZXM7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlBSRUZTX0lOSVRJQUxfVkFMVUVTOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZTdGF0ZSwge1xuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgdmFsdWVzOiBhY3Rpb24uZGF0YSxcbiAgICAgIH0pO1xuICAgIGNhc2UgYXQuUFJFRl9DSEFOR0VEOlxuICAgICAgbmV3VmFsdWVzID0gT2JqZWN0LmFzc2lnbih7fSwgcHJldlN0YXRlLnZhbHVlcyk7XG4gICAgICBuZXdWYWx1ZXNbYWN0aW9uLmRhdGEubmFtZV0gPSBhY3Rpb24uZGF0YS52YWx1ZTtcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcmV2U3RhdGUsIHsgdmFsdWVzOiBuZXdWYWx1ZXMgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gU2VjdGlvbnMocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5TZWN0aW9ucywgYWN0aW9uKSB7XG4gIGxldCBoYXNNYXRjaDtcbiAgbGV0IG5ld1N0YXRlO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5TRUNUSU9OX0RFUkVHSVNURVI6XG4gICAgICByZXR1cm4gcHJldlN0YXRlLmZpbHRlcihzZWN0aW9uID0+IHNlY3Rpb24uaWQgIT09IGFjdGlvbi5kYXRhKTtcbiAgICBjYXNlIGF0LlNFQ1RJT05fUkVHSVNURVI6XG4gICAgICAvLyBJZiBzZWN0aW9uIGV4aXN0cyBpbiBwcmV2U3RhdGUsIHVwZGF0ZSBpdFxuICAgICAgbmV3U3RhdGUgPSBwcmV2U3RhdGUubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgICBpZiAoc2VjdGlvbiAmJiBzZWN0aW9uLmlkID09PSBhY3Rpb24uZGF0YS5pZCkge1xuICAgICAgICAgIGhhc01hdGNoID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwgYWN0aW9uLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgfSk7XG4gICAgICAvLyBPdGhlcndpc2UsIGFwcGVuZCBpdFxuICAgICAgaWYgKCFoYXNNYXRjaCkge1xuICAgICAgICBjb25zdCBpbml0aWFsaXplZCA9ICEhKGFjdGlvbi5kYXRhLnJvd3MgJiYgISFhY3Rpb24uZGF0YS5yb3dzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHsgdGl0bGU6IFwiXCIsIHJvd3M6IFtdLCBlbmFibGVkOiBmYWxzZSB9LFxuICAgICAgICAgIGFjdGlvbi5kYXRhLFxuICAgICAgICAgIHsgaW5pdGlhbGl6ZWQgfVxuICAgICAgICApO1xuICAgICAgICBuZXdTdGF0ZS5wdXNoKHNlY3Rpb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIGNhc2UgYXQuU0VDVElPTl9VUERBVEU6XG4gICAgICBuZXdTdGF0ZSA9IHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PiB7XG4gICAgICAgIGlmIChzZWN0aW9uICYmIHNlY3Rpb24uaWQgPT09IGFjdGlvbi5kYXRhLmlkKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGFjdGlvbiBpcyB1cGRhdGluZyByb3dzLCB3ZSBzaG91bGQgY29uc2lkZXIgaW5pdGlhbGl6ZWQgdG8gYmUgdHJ1ZS5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBvdmVycmlkZGVuIGlmIGluaXRpYWxpemVkIGlzIGRlZmluZWQgaW4gdGhlIGFjdGlvbi5kYXRhXG4gICAgICAgICAgY29uc3QgaW5pdGlhbGl6ZWQgPSBhY3Rpb24uZGF0YS5yb3dzID8geyBpbml0aWFsaXplZDogdHJ1ZSB9IDoge307XG5cbiAgICAgICAgICAvLyBNYWtlIHN1cmUgcGlubmVkIGNhcmRzIHN0YXkgYXQgdGhlaXIgY3VycmVudCBwb3NpdGlvbiB3aGVuIHJvd3MgYXJlIHVwZGF0ZWQuXG4gICAgICAgICAgLy8gRGlzYWJsaW5nIGEgc2VjdGlvbiAoU0VDVElPTl9VUERBVEUgd2l0aCBlbXB0eSByb3dzKSBkb2VzIG5vdCByZXRhaW4gcGlubmVkIGNhcmRzLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGFjdGlvbi5kYXRhLnJvd3MgJiZcbiAgICAgICAgICAgICEhYWN0aW9uLmRhdGEucm93cy5sZW5ndGggJiZcbiAgICAgICAgICAgIHNlY3Rpb24ucm93cy5maW5kKGNhcmQgPT4gY2FyZC5waW5uZWQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCByb3dzID0gQXJyYXkuZnJvbShhY3Rpb24uZGF0YS5yb3dzKTtcbiAgICAgICAgICAgIHNlY3Rpb24ucm93cy5mb3JFYWNoKChjYXJkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoY2FyZC5waW5uZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGFkZCBpdCBpZiBpdCdzIG5vdCBhbHJlYWR5IHRoZXJlLlxuICAgICAgICAgICAgICAgIGlmIChyb3dzW2luZGV4XS5ndWlkICE9PSBjYXJkLmd1aWQpIHtcbiAgICAgICAgICAgICAgICAgIHJvd3Muc3BsaWNlKGluZGV4LCAwLCBjYXJkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICBzZWN0aW9uLFxuICAgICAgICAgICAgICBpbml0aWFsaXplZCxcbiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLmRhdGEsIHsgcm93cyB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwgaW5pdGlhbGl6ZWQsIGFjdGlvbi5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWFjdGlvbi5kYXRhLmRlZHVwZUNvbmZpZ3VyYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgIH1cblxuICAgICAgYWN0aW9uLmRhdGEuZGVkdXBlQ29uZmlndXJhdGlvbnMuZm9yRWFjaChkZWR1cGVDb25mID0+IHtcbiAgICAgICAgbmV3U3RhdGUgPSBuZXdTdGF0ZS5tYXAoc2VjdGlvbiA9PiB7XG4gICAgICAgICAgaWYgKHNlY3Rpb24uaWQgPT09IGRlZHVwZUNvbmYuaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZHVwZWRSb3dzID0gZGVkdXBlQ29uZi5kZWR1cGVGcm9tLnJlZHVjZShcbiAgICAgICAgICAgICAgKHJvd3MsIGRlZHVwZVNlY3Rpb25JZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZHVwZVNlY3Rpb24gPSBuZXdTdGF0ZS5maW5kKFxuICAgICAgICAgICAgICAgICAgcyA9PiBzLmlkID09PSBkZWR1cGVTZWN0aW9uSWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IFssIG5ld1Jvd3NdID0gZGVkdXBlLmdyb3VwKGRlZHVwZVNlY3Rpb24ucm93cywgcm93cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Jvd3M7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNlY3Rpb24ucm93c1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHsgcm93czogZGVkdXBlZFJvd3MgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICBjYXNlIGF0LlNFQ1RJT05fVVBEQVRFX0NBUkQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+IHtcbiAgICAgICAgaWYgKHNlY3Rpb24gJiYgc2VjdGlvbi5pZCA9PT0gYWN0aW9uLmRhdGEuaWQgJiYgc2VjdGlvbi5yb3dzKSB7XG4gICAgICAgICAgY29uc3QgbmV3Um93cyA9IHNlY3Rpb24ucm93cy5tYXAoY2FyZCA9PiB7XG4gICAgICAgICAgICBpZiAoY2FyZC51cmwgPT09IGFjdGlvbi5kYXRhLnVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY2FyZCwgYWN0aW9uLmRhdGEub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FyZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc2VjdGlvbiwgeyByb3dzOiBuZXdSb3dzIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xuICAgICAgfSk7XG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktfQURERUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgICAgICByb3dzOiBzZWN0aW9uLnJvd3MubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgaXRlbSB3aXRoaW4gdGhlIHJvd3MgdGhhdCBpcyBhdHRlbXB0ZWQgdG8gYmUgYm9va21hcmtlZFxuICAgICAgICAgICAgaWYgKGl0ZW0udXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBib29rbWFya0d1aWQsIGJvb2ttYXJrVGl0bGUsIGRhdGVBZGRlZCB9ID0gYWN0aW9uLmRhdGE7XG4gICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7XG4gICAgICAgICAgICAgICAgYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgICAgIGJvb2ttYXJrVGl0bGUsXG4gICAgICAgICAgICAgICAgYm9va21hcmtEYXRlQ3JlYXRlZDogZGF0ZUFkZGVkLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9va21hcmtcIixcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5QTEFDRVNfQk9PS01BUktTX1JFTU9WRUQ6XG4gICAgICBpZiAoIWFjdGlvbi5kYXRhKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlLm1hcChzZWN0aW9uID0+XG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHNlY3Rpb24sIHtcbiAgICAgICAgICByb3dzOiBzZWN0aW9uLnJvd3MubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgLy8gZmluZCB0aGUgYm9va21hcmsgd2l0aGluIHRoZSByb3dzIHRoYXQgaXMgYXR0ZW1wdGVkIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIGlmIChhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKGl0ZW0udXJsKSkge1xuICAgICAgICAgICAgICBjb25zdCBuZXdTaXRlID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBuZXdTaXRlLmJvb2ttYXJrR3VpZDtcbiAgICAgICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtUaXRsZTtcbiAgICAgICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtEYXRlQ3JlYXRlZDtcbiAgICAgICAgICAgICAgaWYgKCFuZXdTaXRlLnR5cGUgfHwgbmV3U2l0ZS50eXBlID09PSBcImJvb2ttYXJrXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdTaXRlLnR5cGUgPSBcImhpc3RvcnlcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbmV3U2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBjYXNlIGF0LlBMQUNFU19MSU5LU19ERUxFVEVEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLmZpbHRlcihcbiAgICAgICAgICAgIHNpdGUgPT4gIWFjdGlvbi5kYXRhLnVybHMuaW5jbHVkZXMoc2l0ZS51cmwpXG4gICAgICAgICAgKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY2FzZSBhdC5QTEFDRVNfTElOS19CTE9DS0VEOlxuICAgICAgaWYgKCFhY3Rpb24uZGF0YSkge1xuICAgICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZS5tYXAoc2VjdGlvbiA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBzZWN0aW9uLCB7XG4gICAgICAgICAgcm93czogc2VjdGlvbi5yb3dzLmZpbHRlcihzaXRlID0+IHNpdGUudXJsICE9PSBhY3Rpb24uZGF0YS51cmwpLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBNZXNzYWdlcyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLk1lc3NhZ2VzLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuTUVTU0FHRV9TRVQ6XG4gICAgICBpZiAocHJldlN0YXRlLm1lc3NhZ2VEYXRhLm1lc3NhZ2VUeXBlKSB7XG4gICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIG1lc3NhZ2VEYXRhOiBhY3Rpb24uZGF0YS5tZXNzYWdlLFxuICAgICAgICBwb3J0SUQ6IGFjdGlvbi5kYXRhLnBvcnRJRCB8fCBcIlwiLFxuICAgICAgfTtcbiAgICBjYXNlIGF0Lk1FU1NBR0VfVE9HR0xFX1ZJU0lCSUxJVFk6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGlzVmlzaWJsZTogYWN0aW9uLmRhdGEgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBQb2NrZXQocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5Qb2NrZXQsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5QT0NLRVRfV0FJVElOR19GT1JfU1BPQzpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgd2FpdGluZ0ZvclNwb2M6IGFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5QT0NLRVRfQ1RBOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBwb2NrZXRDdGE6IHtcbiAgICAgICAgICBjdGFCdXR0b246IGFjdGlvbi5kYXRhLmN0YV9idXR0b24sXG4gICAgICAgICAgY3RhVGV4dDogYWN0aW9uLmRhdGEuY3RhX3RleHQsXG4gICAgICAgICAgY3RhVXJsOiBhY3Rpb24uZGF0YS5jdGFfdXJsLFxuICAgICAgICAgIHVzZUN0YTogYWN0aW9uLmRhdGEudXNlX2N0YSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gUGVyc29uYWxpemF0aW9uKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuUGVyc29uYWxpemF0aW9uLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fTEFTVF9VUERBVEVEOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBsYXN0VXBkYXRlZDogYWN0aW9uLmRhdGEubGFzdFVwZGF0ZWQsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fSU5JVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9QRVJTT05BTElaQVRJT05fUkVTRVQ6XG4gICAgICByZXR1cm4geyAuLi5JTklUSUFMX1NUQVRFLlBlcnNvbmFsaXphdGlvbiB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIEluZmVycmVkUGVyc29uYWxpemF0aW9uKFxuICBwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkluZmVycmVkUGVyc29uYWxpemF0aW9uLFxuICBhY3Rpb25cbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fVVBEQVRFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgaW5mZXJyZWRJbnRlcmVzdHM6IGFjdGlvbi5kYXRhLmluZmVycmVkSW50ZXJlc3RzLFxuICAgICAgICBjb2Fyc2VJbmZlcnJlZEludGVyZXN0czogYWN0aW9uLmRhdGEuY29hcnNlSW5mZXJyZWRJbnRlcmVzdHMsXG4gICAgICAgIGNvYXJzZVByaXZhdGVJbmZlcnJlZEludGVyZXN0czpcbiAgICAgICAgICBhY3Rpb24uZGF0YS5jb2Fyc2VQcml2YXRlSW5mZXJyZWRJbnRlcmVzdHMsXG4gICAgICAgIGxhc3RVcGRhdGVkOiBhY3Rpb24uZGF0YS5sYXN0VXBkYXRlZCxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fUkVTRVQ6XG4gICAgICByZXR1cm4geyAuLi5JTklUSUFMX1NUQVRFLkluZmVycmVkUGVyc29uYWxpemF0aW9uIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIERpc2NvdmVyeVN0cmVhbShwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLkRpc2NvdmVyeVN0cmVhbSwgYWN0aW9uKSB7XG4gIC8vIFJldHVybiBpZiBhY3Rpb24gZGF0YSBpcyBlbXB0eSwgb3Igc3BvY3Mgb3IgZmVlZHMgZGF0YSBpcyBub3QgbG9hZGVkXG4gIGNvbnN0IGlzTm90UmVhZHkgPSAoKSA9PlxuICAgICFhY3Rpb24uZGF0YSB8fCAhcHJldlN0YXRlLnNwb2NzLmxvYWRlZCB8fCAhcHJldlN0YXRlLmZlZWRzLmxvYWRlZDtcblxuICBjb25zdCBoYW5kbGVQbGFjZW1lbnRzID0gaGFuZGxlU2l0ZXMgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGxhY2VtZW50cyB9ID0gcHJldlN0YXRlLnNwb2NzO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgY29uc3QgZm9yUGxhY2VtZW50ID0gcGxhY2VtZW50ID0+IHtcbiAgICAgIGNvbnN0IHBsYWNlbWVudFNwb2NzID0gZGF0YVtwbGFjZW1lbnQubmFtZV07XG5cbiAgICAgIGlmIChcbiAgICAgICAgIXBsYWNlbWVudFNwb2NzIHx8XG4gICAgICAgICFwbGFjZW1lbnRTcG9jcy5pdGVtcyB8fFxuICAgICAgICAhcGxhY2VtZW50U3BvY3MuaXRlbXMubGVuZ3RoXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbcGxhY2VtZW50Lm5hbWVdID0ge1xuICAgICAgICAuLi5wbGFjZW1lbnRTcG9jcyxcbiAgICAgICAgaXRlbXM6IGhhbmRsZVNpdGVzKHBsYWNlbWVudFNwb2NzLml0ZW1zKSxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGlmICghcGxhY2VtZW50cyB8fCAhcGxhY2VtZW50cy5sZW5ndGgpIHtcbiAgICAgIFt7IG5hbWU6IFwic3BvY3NcIiB9XS5mb3JFYWNoKGZvclBsYWNlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBsYWNlbWVudHMuZm9yRWFjaChmb3JQbGFjZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IG5leHRTdGF0ZSA9IGhhbmRsZVNpdGVzID0+ICh7XG4gICAgLi4ucHJldlN0YXRlLFxuICAgIHNwb2NzOiB7XG4gICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICBkYXRhOiBoYW5kbGVQbGFjZW1lbnRzKGhhbmRsZVNpdGVzKSxcbiAgICB9LFxuICAgIGZlZWRzOiB7XG4gICAgICAuLi5wcmV2U3RhdGUuZmVlZHMsXG4gICAgICBkYXRhOiBPYmplY3Qua2V5cyhwcmV2U3RhdGUuZmVlZHMuZGF0YSkucmVkdWNlKFxuICAgICAgICAoYWNjdW11bGF0b3IsIGZlZWRfdXJsKSA9PiB7XG4gICAgICAgICAgYWNjdW11bGF0b3JbZmVlZF91cmxdID0ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMuZGF0YVtmZWVkX3VybF0uZGF0YSxcbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBoYW5kbGVTaXRlcyhcbiAgICAgICAgICAgICAgICBwcmV2U3RhdGUuZmVlZHMuZGF0YVtmZWVkX3VybF0uZGF0YS5yZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApLFxuICAgIH0sXG4gIH0pO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX0NIQU5HRTpcbiAgICAvLyBGYWxsIHRocm91Z2ggdG8gYSBzZXBhcmF0ZSBhY3Rpb24gaXMgc28gaXQgZG9lc24ndCB0cmlnZ2VyIGEgbGlzdGVuZXIgdXBkYXRlIG9uIGluaXRcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fQ09ORklHX1NFVFVQOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBjb25maWc6IGFjdGlvbi5kYXRhIHx8IHt9IH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0VYUEVSSU1FTlRfREFUQTpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgZXhwZXJpbWVudERhdGE6IGFjdGlvbi5kYXRhIHx8IHt9IH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9VUERBVEU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGxheW91dDogYWN0aW9uLmRhdGEubGF5b3V0IHx8IFtdLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fVE9QSUNTX0xPQURJTkc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHRvcGljc0xvYWRpbmc6IGFjdGlvbi5kYXRhLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fUFJFRlNfU0VUVVA6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGhpZGVEZXNjcmlwdGlvbnM6IGFjdGlvbi5kYXRhLmhpZGVEZXNjcmlwdGlvbnMsXG4gICAgICAgIGNvbXBhY3RJbWFnZXM6IGFjdGlvbi5kYXRhLmNvbXBhY3RJbWFnZXMsXG4gICAgICAgIGltYWdlR3JhZGllbnQ6IGFjdGlvbi5kYXRhLmltYWdlR3JhZGllbnQsXG4gICAgICAgIG5ld1Nwb25zb3JlZExhYmVsOiBhY3Rpb24uZGF0YS5uZXdTcG9uc29yZWRMYWJlbCxcbiAgICAgICAgdGl0bGVMaW5lczogYWN0aW9uLmRhdGEudGl0bGVMaW5lcyxcbiAgICAgICAgZGVzY0xpbmVzOiBhY3Rpb24uZGF0YS5kZXNjTGluZXMsXG4gICAgICAgIHJlYWRUaW1lOiBhY3Rpb24uZGF0YS5yZWFkVGltZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5TSE9XX1BSSVZBQ1lfSU5GTzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0xBWU9VVF9SRVNFVDpcbiAgICAgIHJldHVybiB7IC4uLklOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLCBjb25maWc6IHByZXZTdGF0ZS5jb25maWcgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fRkVFRFNfVVBEQVRFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBmZWVkczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5mZWVkcyxcbiAgICAgICAgICBsb2FkZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9GRUVEX1VQREFURToge1xuICAgICAgY29uc3QgbmV3RGF0YSA9IHt9O1xuICAgICAgbmV3RGF0YVthY3Rpb24uZGF0YS51cmxdID0gYWN0aW9uLmRhdGEuZmVlZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgZmVlZHM6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuZmVlZHMsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgLi4ucHJldlN0YXRlLmZlZWRzLmRhdGEsXG4gICAgICAgICAgICAuLi5uZXdEYXRhLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fREVWX0lNUFJFU1NJT05TOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBpbXByZXNzaW9uczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5pbXByZXNzaW9ucyxcbiAgICAgICAgICBmZWVkOiBhY3Rpb24uZGF0YSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0RFVl9CTE9DS1M6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGJsb2NrczogYWN0aW9uLmRhdGEsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19DQVBTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzcG9jczoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgICAgICBmcmVxdWVuY3lfY2FwczogWy4uLnByZXZTdGF0ZS5zcG9jcy5mcmVxdWVuY3lfY2FwcywgLi4uYWN0aW9uLmRhdGFdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfRU5EUE9JTlQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNwb2NzOiB7XG4gICAgICAgICAgLi4uSU5JVElBTF9TVEFURS5EaXNjb3ZlcnlTdHJlYW0uc3BvY3MsXG4gICAgICAgICAgc3BvY3NfZW5kcG9pbnQ6XG4gICAgICAgICAgICBhY3Rpb24uZGF0YS51cmwgfHxcbiAgICAgICAgICAgIElOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLnNwb2NzLnNwb2NzX2VuZHBvaW50LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkRJU0NPVkVSWV9TVFJFQU1fU1BPQ1NfUExBQ0VNRU5UUzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUuc3BvY3MsXG4gICAgICAgICAgcGxhY2VtZW50czpcbiAgICAgICAgICAgIGFjdGlvbi5kYXRhLnBsYWNlbWVudHMgfHxcbiAgICAgICAgICAgIElOSVRJQUxfU1RBVEUuRGlzY292ZXJ5U3RyZWFtLnNwb2NzLnBsYWNlbWVudHMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DU19VUERBVEU6XG4gICAgICBpZiAoYWN0aW9uLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgc3BvY3M6IHtcbiAgICAgICAgICAgIC4uLnByZXZTdGF0ZS5zcG9jcyxcbiAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBhY3Rpb24uZGF0YS5sYXN0VXBkYXRlZCxcbiAgICAgICAgICAgIGRhdGE6IGFjdGlvbi5kYXRhLnNwb2NzLFxuICAgICAgICAgICAgbG9hZGVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgIGNhc2UgYXQuRElTQ09WRVJZX1NUUkVBTV9TUE9DX0JMT0NLRUQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNwb2NzOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLnNwb2NzLFxuICAgICAgICAgIGJsb2NrZWQ6IFsuLi5wcmV2U3RhdGUuc3BvY3MuYmxvY2tlZCwgYWN0aW9uLmRhdGEudXJsXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5ESVNDT1ZFUllfU1RSRUFNX0xJTktfQkxPQ0tFRDpcbiAgICAgIHJldHVybiBpc05vdFJlYWR5KClcbiAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgOiBuZXh0U3RhdGUoaXRlbXMgPT5cbiAgICAgICAgICAgIGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0udXJsICE9PSBhY3Rpb24uZGF0YS51cmwpXG4gICAgICAgICAgKTtcblxuICAgIGNhc2UgYXQuUExBQ0VTX0JPT0tNQVJLX0FEREVEOiB7XG4gICAgICBjb25zdCB1cGRhdGVCb29rbWFya0luZm8gPSBpdGVtID0+IHtcbiAgICAgICAgaWYgKGl0ZW0udXJsID09PSBhY3Rpb24uZGF0YS51cmwpIHtcbiAgICAgICAgICBjb25zdCB7IGJvb2ttYXJrR3VpZCwgYm9va21hcmtUaXRsZSwgZGF0ZUFkZGVkIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSwge1xuICAgICAgICAgICAgYm9va21hcmtHdWlkLFxuICAgICAgICAgICAgYm9va21hcmtUaXRsZSxcbiAgICAgICAgICAgIGJvb2ttYXJrRGF0ZUNyZWF0ZWQ6IGRhdGVBZGRlZCxcbiAgICAgICAgICAgIGNvbnRleHRfdHlwZTogXCJib29rbWFya1wiLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBpc05vdFJlYWR5KClcbiAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgOiBuZXh0U3RhdGUoaXRlbXMgPT4gaXRlbXMubWFwKHVwZGF0ZUJvb2ttYXJrSW5mbykpO1xuICAgIH1cbiAgICBjYXNlIGF0LlBMQUNFU19CT09LTUFSS1NfUkVNT1ZFRDoge1xuICAgICAgY29uc3QgcmVtb3ZlQm9va21hcmtJbmZvID0gaXRlbSA9PiB7XG4gICAgICAgIGlmIChhY3Rpb24uZGF0YS51cmxzLmluY2x1ZGVzKGl0ZW0udXJsKSkge1xuICAgICAgICAgIGNvbnN0IG5ld1NpdGUgPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0d1aWQ7XG4gICAgICAgICAgZGVsZXRlIG5ld1NpdGUuYm9va21hcmtUaXRsZTtcbiAgICAgICAgICBkZWxldGUgbmV3U2l0ZS5ib29rbWFya0RhdGVDcmVhdGVkO1xuICAgICAgICAgIGlmICghbmV3U2l0ZS5jb250ZXh0X3R5cGUgfHwgbmV3U2l0ZS5jb250ZXh0X3R5cGUgPT09IFwiYm9va21hcmtcIikge1xuICAgICAgICAgICAgbmV3U2l0ZS5jb250ZXh0X3R5cGUgPSBcInJlbW92ZWRCb29rbWFya1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3U2l0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaXNOb3RSZWFkeSgpXG4gICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgIDogbmV4dFN0YXRlKGl0ZW1zID0+IGl0ZW1zLm1hcChyZW1vdmVCb29rbWFya0luZm8pKTtcbiAgICB9XG4gICAgY2FzZSBhdC5UT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX09QRU46XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHNob3dUb3BpY1NlbGVjdGlvbjogdHJ1ZSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5UT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX0NMT1NFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzaG93VG9waWNTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LlNFQ1RJT05fQkxPQ0tFRDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc2hvd0Jsb2NrU2VjdGlvbkNvbmZpcm1hdGlvbjogdHJ1ZSxcbiAgICAgICAgc2VjdGlvblBlcnNvbmFsaXphdGlvbjogYWN0aW9uLmRhdGEsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuUkVQT1JUX0FEX09QRU46XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHJlcG9ydDoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5yZXBvcnQsXG4gICAgICAgICAgY2FyZF90eXBlOiBhY3Rpb24uZGF0YT8uY2FyZF90eXBlLFxuICAgICAgICAgIHBvc2l0aW9uOiBhY3Rpb24uZGF0YT8ucG9zaXRpb24sXG4gICAgICAgICAgcGxhY2VtZW50X2lkOiBhY3Rpb24uZGF0YT8ucGxhY2VtZW50X2lkLFxuICAgICAgICAgIHJlcG9ydGluZ191cmw6IGFjdGlvbi5kYXRhPy5yZXBvcnRpbmdfdXJsLFxuICAgICAgICAgIHVybDogYWN0aW9uLmRhdGE/LnVybCxcbiAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LlJFUE9SVF9DT05URU5UX09QRU46XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHJlcG9ydDoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5yZXBvcnQsXG4gICAgICAgICAgY2FyZF90eXBlOiBhY3Rpb24uZGF0YT8uY2FyZF90eXBlLFxuICAgICAgICAgIGNvcnB1c19pdGVtX2lkOiBhY3Rpb24uZGF0YT8uY29ycHVzX2l0ZW1faWQsXG4gICAgICAgICAgc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkOiBhY3Rpb24uZGF0YT8uc2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkLFxuICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IGFjdGlvbi5kYXRhPy5zZWN0aW9uX3Bvc2l0aW9uLFxuICAgICAgICAgIHNlY3Rpb246IGFjdGlvbi5kYXRhPy5zZWN0aW9uLFxuICAgICAgICAgIHRpdGxlOiBhY3Rpb24uZGF0YT8udGl0bGUsXG4gICAgICAgICAgdG9waWM6IGFjdGlvbi5kYXRhPy50b3BpYyxcbiAgICAgICAgICB1cmw6IGFjdGlvbi5kYXRhPy51cmwsXG4gICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5SRVBPUlRfQ0xPU0U6XG4gICAgY2FzZSBhdC5SRVBPUlRfQURfU1VCTUlUOlxuICAgIGNhc2UgYXQuUkVQT1JUX0NPTlRFTlRfU1VCTUlUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICByZXBvcnQ6IHtcbiAgICAgICAgICAuLi5wcmV2U3RhdGUucmVwb3J0LFxuICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICBjYXNlIGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1VQREFURTpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgc2VjdGlvblBlcnNvbmFsaXphdGlvbjogYWN0aW9uLmRhdGEgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBTZWFyY2gocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5TZWFyY2gsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5ESVNBQkxFX1NFQVJDSDpcbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgLi4ucHJldlN0YXRlLCBkaXNhYmxlOiB0cnVlIH0pO1xuICAgIGNhc2UgYXQuRkFLRV9GT0NVU19TRUFSQ0g6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IC4uLnByZXZTdGF0ZSwgZmFrZUZvY3VzOiB0cnVlIH0pO1xuICAgIGNhc2UgYXQuU0hPV19TRUFSQ0g6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7IC4uLnByZXZTdGF0ZSwgZGlzYWJsZTogZmFsc2UsIGZha2VGb2N1czogZmFsc2UgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gV2FsbHBhcGVycyhwcmV2U3RhdGUgPSBJTklUSUFMX1NUQVRFLldhbGxwYXBlcnMsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5XQUxMUEFQRVJTX1NFVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgd2FsbHBhcGVyTGlzdDogYWN0aW9uLmRhdGEsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0FMTFBBUEVSU19GRUFUVVJFX0hJR0hMSUdIVF9DT1VOVEVSX0lOQ1JFTUVOVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgaGlnaGxpZ2h0U2VlbkNvdW50ZXI6IGFjdGlvbi5kYXRhLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LldBTExQQVBFUlNfQ0FURUdPUllfU0VUOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBjYXRlZ29yaWVzOiBhY3Rpb24uZGF0YSB9O1xuICAgIGNhc2UgYXQuV0FMTFBBUEVSU19DVVNUT01fU0VUOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCB1cGxvYWRlZFdhbGxwYXBlcjogYWN0aW9uLmRhdGEgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBOb3RpZmljYXRpb25zKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuTm90aWZpY2F0aW9ucywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIGF0LlNIT1dfVE9BU1RfTUVTU0FHRTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgc2hvd05vdGlmaWNhdGlvbnM6IGFjdGlvbi5kYXRhLnNob3dOb3RpZmljYXRpb25zLFxuICAgICAgICB0b2FzdENvdW50ZXI6IHByZXZTdGF0ZS50b2FzdENvdW50ZXIgKyAxLFxuICAgICAgICB0b2FzdElkOiBhY3Rpb24uZGF0YS50b2FzdElkLFxuICAgICAgICB0b2FzdFF1ZXVlOiBbYWN0aW9uLmRhdGEudG9hc3RJZF0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuSElERV9UT0FTVF9NRVNTQUdFOiB7XG4gICAgICBjb25zdCB7IHNob3dOb3RpZmljYXRpb25zLCB0b2FzdElkOiBoaWRkZW5Ub2FzdElkIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgIGNvbnN0IHF1ZXVlZFRvYXN0cyA9IFsuLi5wcmV2U3RhdGUudG9hc3RRdWV1ZV0uZmlsdGVyKFxuICAgICAgICB0b2FzdElkID0+IHRvYXN0SWQgIT09IGhpZGRlblRvYXN0SWRcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHRvYXN0Q291bnRlcjogcXVldWVkVG9hc3RzLmxlbmd0aCxcbiAgICAgICAgdG9hc3RRdWV1ZTogcXVldWVkVG9hc3RzLFxuICAgICAgICB0b2FzdElkOiBcIlwiLFxuICAgICAgICBzaG93Tm90aWZpY2F0aW9ucyxcbiAgICAgIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFdlYXRoZXIocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5XZWF0aGVyLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuV0VBVEhFUl9VUERBVEU6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHN1Z2dlc3Rpb25zOiBhY3Rpb24uZGF0YS5zdWdnZXN0aW9ucyxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IGFjdGlvbi5kYXRhLmRhdGUsXG4gICAgICAgIGxvY2F0aW9uRGF0YTogYWN0aW9uLmRhdGEubG9jYXRpb25EYXRhIHx8IHByZXZTdGF0ZS5sb2NhdGlvbkRhdGEsXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LldFQVRIRVJfU0VBUkNIX0FDVElWRTpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgc2VhcmNoQWN0aXZlOiBhY3Rpb24uZGF0YSB9O1xuICAgIGNhc2UgYXQuV0VBVEhFUl9MT0NBVElPTl9TRUFSQ0hfVVBEQVRFOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBsb2NhdGlvblNlYXJjaFN0cmluZzogYWN0aW9uLmRhdGEgfTtcbiAgICBjYXNlIGF0LldFQVRIRVJfTE9DQVRJT05fU1VHR0VTVElPTlNfVVBEQVRFOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBzdWdnZXN0ZWRMb2NhdGlvbnM6IGFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5XRUFUSEVSX0xPQ0FUSU9OX0RBVEFfVVBEQVRFOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBsb2NhdGlvbkRhdGE6IGFjdGlvbi5kYXRhIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gQWRzKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuQWRzLCBhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgYXQuQURTX0lOSVQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgfTtcbiAgICBjYXNlIGF0LkFEU19VUERBVEVfVElMRVM6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIHRpbGVzOiBhY3Rpb24uZGF0YS50aWxlcyxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5BRFNfVVBEQVRFX1NQT0NTOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICBzcG9jczogYWN0aW9uLmRhdGEuc3BvY3MsXG4gICAgICAgIHNwb2NQbGFjZW1lbnRzOiBhY3Rpb24uZGF0YS5zcG9jUGxhY2VtZW50cyxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5BRFNfUkVTRVQ6XG4gICAgICByZXR1cm4geyAuLi5JTklUSUFMX1NUQVRFLkFkcyB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRyZW5kaW5nU2VhcmNoKHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuVHJlbmRpbmdTZWFyY2gsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5UUkVORElOR19TRUFSQ0hfVVBEQVRFOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBzdWdnZXN0aW9uczogYWN0aW9uLmRhdGEgfTtcbiAgICBjYXNlIGF0LlRSRU5ESU5HX1NFQVJDSF9UT0dHTEVfQ09MTEFQU0U6XG4gICAgICByZXR1cm4geyAuLi5wcmV2U3RhdGUsIGNvbGxhcHNlZDogYWN0aW9uLmRhdGEuY29sbGFwc2VkIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gVGltZXJXaWRnZXQocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5UaW1lcldpZGdldCwgYWN0aW9uKSB7XG4gIC8vIGZhbGxiYWNrIHRvIGN1cnJlbnQgdGltZXJUeXBlIGluIHN0YXRlIGlmIG5vdCBwcm92aWRlZCBpbiBhY3Rpb25cbiAgY29uc3QgdGltZXJUeXBlID0gYWN0aW9uLmRhdGE/LnRpbWVyVHlwZSB8fCBwcmV2U3RhdGUudGltZXJUeXBlO1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5XSURHRVRTX1RJTUVSX1NFVDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgLi4uYWN0aW9uLmRhdGEsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0lER0VUU19USU1FUl9TRVRfVFlQRTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgICAgdGltZXJUeXBlOiBhY3Rpb24uZGF0YS50aW1lclR5cGUsXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0lER0VUU19USU1FUl9TRVRfRFVSQVRJT046XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIFt0aW1lclR5cGVdOiB7XG4gICAgICAgICAgLy8gc2V0dGluZyBhIGR5bmFtaWMga2V5IGFzc2lnbm1lbnQgdG8gbGV0IHVzIGR5bmFtaWNhbGx5IHVwZGF0ZSB0aW1lciB0eXBlJ3Mgc3RhdGUgYmFzZWQgb24gd2hhdCBpcyBzZXRcbiAgICAgICAgICBkdXJhdGlvbjogYWN0aW9uLmRhdGEuZHVyYXRpb24sXG4gICAgICAgICAgaW5pdGlhbER1cmF0aW9uOiBhY3Rpb24uZGF0YS5kdXJhdGlvbixcbiAgICAgICAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgICAgICAgaXNSdW5uaW5nOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgY2FzZSBhdC5XSURHRVRTX1RJTUVSX1BMQVk6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIFt0aW1lclR5cGVdOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlW3RpbWVyVHlwZV0sXG4gICAgICAgICAgc3RhcnRUaW1lOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSwgLy8gcmVmbGVjdGVkIGluIHNlY29uZHNcbiAgICAgICAgICBpc1J1bm5pbmc6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0lER0VUU19USU1FUl9QQVVTRTpcbiAgICAgIGlmIChwcmV2U3RhdGVbdGltZXJUeXBlXT8uaXNSdW5uaW5nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlLFxuICAgICAgICAgIFt0aW1lclR5cGVdOiB7XG4gICAgICAgICAgICAuLi5wcmV2U3RhdGVbdGltZXJUeXBlXSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhY3Rpb24uZGF0YS5kdXJhdGlvbixcbiAgICAgICAgICAgIC8vIHNldHRpbmcgc3RhcnRUaW1lIHRvIG51bGwgb24gcGF1c2UgYmVjYXVzZSB3ZSBuZWVkIHRvIGNoZWNrIHRoZSBleGFjdCB0aW1lIHRoZSB1c2VyIHByZXNzZXMgcGxheSxcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgaXQncyB3aGVuIHRoZSB1c2VyIHN0YXJ0cyBvciByZXN1bWVzIHRoZSB0aW1lci4gVGhpcyBoZWxwcyBnZXQgYWNjdXJhdGUgcmVzdWx0c1xuICAgICAgICAgICAgc3RhcnRUaW1lOiBudWxsLFxuICAgICAgICAgICAgaXNSdW5uaW5nOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICBjYXNlIGF0LldJREdFVFNfVElNRVJfUkVTRVQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIFt0aW1lclR5cGVdOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlW3RpbWVyVHlwZV0sXG4gICAgICAgICAgZHVyYXRpb246IGFjdGlvbi5kYXRhLmR1cmF0aW9uLFxuICAgICAgICAgIGluaXRpYWxEdXJhdGlvbjogYWN0aW9uLmRhdGEuZHVyYXRpb24sXG4gICAgICAgICAgc3RhcnRUaW1lOiBudWxsLFxuICAgICAgICAgIGlzUnVubmluZzogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGNhc2UgYXQuV0lER0VUU19USU1FUl9FTkQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgIFt0aW1lclR5cGVdOiB7XG4gICAgICAgICAgLi4ucHJldlN0YXRlW3RpbWVyVHlwZV0sXG4gICAgICAgICAgZHVyYXRpb246IGFjdGlvbi5kYXRhLmR1cmF0aW9uLFxuICAgICAgICAgIGluaXRpYWxEdXJhdGlvbjogYWN0aW9uLmRhdGEuZHVyYXRpb24sXG4gICAgICAgICAgc3RhcnRUaW1lOiBudWxsLFxuICAgICAgICAgIGlzUnVubmluZzogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIExpc3RzV2lkZ2V0KHByZXZTdGF0ZSA9IElOSVRJQUxfU1RBVEUuTGlzdHNXaWRnZXQsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBhdC5XSURHRVRTX0xJU1RTX1NFVDpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgbGlzdHM6IGFjdGlvbi5kYXRhIH07XG4gICAgY2FzZSBhdC5XSURHRVRTX0xJU1RTX1NFVF9TRUxFQ1RFRDpcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgc2VsZWN0ZWQ6IGFjdGlvbi5kYXRhIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gU21hcnRXaW5kb3cocHJldlN0YXRlID0gSU5JVElBTF9TVEFURS5TbWFydFdpbmRvdywgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiU01BUlRfV0lORE9XX1NUQVRFX1VQREFURVwiOlxuICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCBhY3RpdmU6IGFjdGlvbi5kYXRhLnNtYXJ0V2luZG93QWN0aXZlIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlZHVjZXJzID0ge1xuICBUb3BTaXRlcyxcbiAgQXBwLFxuICBBZHMsXG4gIFByZWZzLFxuICBEaWFsb2csXG4gIFNlY3Rpb25zLFxuICBNZXNzYWdlcyxcbiAgTm90aWZpY2F0aW9ucyxcbiAgUG9ja2V0LFxuICBQZXJzb25hbGl6YXRpb24sXG4gIEluZmVycmVkUGVyc29uYWxpemF0aW9uLFxuICBEaXNjb3ZlcnlTdHJlYW0sXG4gIFNlYXJjaCxcbiAgVGltZXJXaWRnZXQsXG4gIExpc3RzV2lkZ2V0LFxuICBUcmVuZGluZ1NlYXJjaCxcbiAgV2FsbHBhcGVycyxcbiAgV2VhdGhlcixcbiAgU21hcnRXaW5kb3csXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZUZvcm1JbnB1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyB2YWxpZGF0aW9uRXJyb3I6IHRoaXMucHJvcHMudmFsaWRhdGlvbkVycm9yIH07XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTW91bnQgPSB0aGlzLm9uTW91bnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ2xlYXJJY29uUHJlc3MgPSB0aGlzLm9uQ2xlYXJJY29uUHJlc3MuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgaWYgKG5leHRQcm9wcy5zaG91bGRGb2N1cyAmJiAhdGhpcy5wcm9wcy5zaG91bGRGb2N1cykge1xuICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgICBpZiAobmV4dFByb3BzLnZhbGlkYXRpb25FcnJvciAmJiAhdGhpcy5wcm9wcy52YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IHRydWUgfSk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBjb21wb25lbnQgaXMgaW4gYW4gZXJyb3Igc3RhdGUgYnV0IHRoZSB2YWx1ZSB3YXMgY2xlYXJlZCBieSB0aGUgcGFyZW50XG4gICAgaWYgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmICFuZXh0UHJvcHMudmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2xlYXJJY29uUHJlc3MoZXZlbnQpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBpbnB1dCBpbiB0aGUgVVJMIG9yIGN1c3RvbSBpbWFnZSBVUkwgZmllbGRzLFxuICAgIC8vIGFuZCB3ZSBoaXQgJ2VudGVyJyB3aGlsZSB0YWJiZWQgb3ZlciB0aGUgY2xlYXIgaWNvbixcbiAgICAvLyB3ZSBzaG91bGQgZXhlY3V0ZSB0aGUgZnVuY3Rpb24gdG8gY2xlYXIgdGhlIGZpZWxkLlxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsZWFyKCk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UoZXYpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS52YWxpZGF0aW9uRXJyb3IpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlIH0pO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGV2KTtcbiAgfVxuXG4gIG9uTW91bnQoaW5wdXQpIHtcbiAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nT3JDbG9zZUJ1dHRvbigpIHtcbiAgICBjb25zdCBzaG93Q2xlYXJCdXR0b24gPSB0aGlzLnByb3BzLnZhbHVlICYmIHRoaXMucHJvcHMub25DbGVhcjtcblxuICAgIGlmICh0aGlzLnByb3BzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctYW5pbWF0aW9uXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoc2hvd0NsZWFyQnV0dG9uKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWNsZWFyLWlucHV0IGljb24tYnV0dG9uLXN0eWxlXCJcbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xlYXJ9XG4gICAgICAgICAgb25LZXlQcmVzcz17dGhpcy5vbkNsZWFySWNvblByZXNzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB0eXBlVXJsIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgdmFsaWRhdGlvbkVycm9yIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsYWJlbD5cbiAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPXt0aGlzLnByb3BzLnRpdGxlSWR9IC8+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BmaWVsZCAke3R5cGVVcmwgPyBcInVybFwiIDogXCJcIn0ke1xuICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9yID8gXCIgaW52YWxpZFwiIDogXCJcIlxuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICAgIHJlZj17dGhpcy5vbk1vdW50fVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJJZH1cbiAgICAgICAgICAgIC8vIFNldCBmb2N1cyBvbiBlcnJvciBpZiB0aGUgdXJsIGZpZWxkIGlzIHZhbGlkIG9yIHdoZW4gdGhlIGlucHV0IGlzIGZpcnN0IHJlbmRlcmVkIGFuZCBpcyBlbXB0eVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L25vLWF1dG9mb2N1c1xuICAgICAgICAgICAgYXV0b0ZvY3VzPXt0aGlzLnByb3BzLmF1dG9Gb2N1c09uT3Blbn1cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLmxvYWRpbmd9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJMb2FkaW5nT3JDbG9zZUJ1dHRvbigpfVxuICAgICAgICAgIHt2YWxpZGF0aW9uRXJyb3IgJiYgKFxuICAgICAgICAgICAgPGFzaWRlXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVycm9yLXRvb2x0aXBcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e3RoaXMucHJvcHMuZXJyb3JNZXNzYWdlSWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9sYWJlbD5cbiAgICApO1xuICB9XG59XG5cblRvcFNpdGVGb3JtSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICBzaG93Q2xlYXJCdXR0b246IGZhbHNlLFxuICB2YWx1ZTogXCJcIixcbiAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgVklTSUJMRSA9IFwidmlzaWJsZVwiO1xuY29uc3QgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcblxuLy8gUGVyIGFuYWx5dGljYWwgcmVxdWlyZW1lbnQsIHdlIHNldCB0aGUgbWluaW1hbCBpbnRlcnNlY3Rpb24gcmF0aW8gdG9cbi8vIDAuNSwgYW5kIGFuIGltcHJlc3Npb24gaXMgaWRlbnRpZmllZCB3aGVuIHRoZSB3cmFwcGVkIGl0ZW0gaGFzIGF0IGxlYXN0XG4vLyA1MCUgdmlzaWJpbGl0eS5cbi8vXG4vLyBUaGlzIGNvbnN0YW50IGlzIGV4cG9ydGVkIGZvciB1bml0IHRlc3RcbmV4cG9ydCBjb25zdCBJTlRFUlNFQ1RJT05fUkFUSU8gPSAwLjU7XG5cbi8qKlxuICogSW1wcmVzc2lvbiB3cmFwcGVyIGZvciBhIFRvcFNpdGUgdGlsZS5cbiAqXG4gKiBJdCBtYWtzZXMgdXNlIG9mIHRoZSBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgQVBJIHRvIGRldGVjdCB0aGUgdmlzaWJpbGl0eSxcbiAqIGFuZCByZWxpZXMgb24gcGFnZSB2aXNpYmlsaXR5IHRvIGVuc3VyZSB0aGUgaW1wcmVzc2lvbiBpcyByZXBvcnRlZFxuICogb25seSB3aGVuIHRoZSBjb21wb25lbnQgaXMgdmlzaWJsZSBvbiB0aGUgcGFnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFRvcFNpdGVJbXByZXNzaW9uV3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBfZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKSB7XG4gICAgY29uc3QgeyBhY3Rpb25UeXBlLCB0aWxlIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghYWN0aW9uVHlwZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYWN0aW9uVHlwZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHR5cGU6IFwiaW1wcmVzc2lvblwiLFxuICAgICAgICAgIC4uLnRpbGUsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBzZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG5cbiAgICBpZiAoIXByb3BzLmRpc3BhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2Ugc2hvdWxkIG9ubHkgZXZlciBzZW5kIHRoZSBsYXRlc3QgaW1wcmVzc2lvbiBzdGF0cyBwaW5nLCBzbyByZW1vdmUgYW55XG4gICAgICAvLyBvbGRlciBsaXN0ZW5lcnMuXG4gICAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVyKCk7XG4gICAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHByb3BzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbiBpbXByZXNzaW9uIG9ic2VydmVyIGZvciB0aGUgd3JhcHBlZCBjb21wb25lbnQuIEl0IG1ha2VzIHVzZSBvZlxuICAgKiB0aGUgSW50ZXJzZWN0aW9uIE9ic2VydmVyIEFQSSB0byBkZXRlY3QgaWYgdGhlIHdyYXBwZWQgY29tcG9uZW50IGlzXG4gICAqIHZpc2libGUgd2l0aCBhIGRlc2lyZWQgcmF0aW8sIGFuZCBvbmx5IHNlbmRzIGltcHJlc3Npb24gaWYgdGhhdCdzIHRoZSBjYXNlLlxuICAgKlxuICAgKiBTZWUgbW9yZSBkZXRhaWxzIGFib3V0IEludGVyc2VjdGlvbiBPYnNlcnZlciBBUEkgYXQ6XG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbnRlcnNlY3Rpb25fT2JzZXJ2ZXJfQVBJXG4gICAqL1xuICBzZXRJbXByZXNzaW9uT2JzZXJ2ZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMudGlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZUludGVyc2VjdCA9IGVudHJpZXMgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlbnRyaWVzLnNvbWUoXG4gICAgICAgICAgZW50cnkgPT5cbiAgICAgICAgICAgIGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmXG4gICAgICAgICAgICBlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+PSBJTlRFUlNFQ1RJT05fUkFUSU9cbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCk7XG4gICAgICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLnJlZnMudG9wc2l0ZV9pbXByZXNzaW9uX3dyYXBwZXIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0geyB0aHJlc2hvbGQ6IElOVEVSU0VDVElPTl9SQVRJTyB9O1xuICAgIHRoaXMuaW1wcmVzc2lvbk9ic2VydmVyID0gbmV3IHByb3BzLkludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgdGhpcy5faGFuZGxlSW50ZXJzZWN0LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnJlZnMudG9wc2l0ZV9pbXByZXNzaW9uX3dyYXBwZXIpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudGlsZSkge1xuICAgICAgdGhpcy5zZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2hhbmRsZUludGVyc2VjdCAmJiB0aGlzLmltcHJlc3Npb25PYnNlcnZlcikge1xuICAgICAgdGhpcy5pbXByZXNzaW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMucmVmcy50b3BzaXRlX2ltcHJlc3Npb25fd3JhcHBlcik7XG4gICAgfVxuICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgcmVmPXtcInRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyXCJ9XG4gICAgICAgIGNsYXNzTmFtZT1cInRvcHNpdGUtaW1wcmVzc2lvbi1vYnNlcnZlclwiXG4gICAgICA+XG4gICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5Ub3BTaXRlSW1wcmVzc2lvbldyYXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICBJbnRlcnNlY3Rpb25PYnNlcnZlcjogZ2xvYmFsVGhpcy5JbnRlcnNlY3Rpb25PYnNlcnZlcixcbiAgZG9jdW1lbnQ6IGdsb2JhbFRoaXMuZG9jdW1lbnQsXG4gIGFjdGlvblR5cGU6IG51bGwsXG4gIHRpbGU6IG51bGwsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzXCI7XG5cbi8vIE5vdGU6IE1lc3NhZ2VXcmFwcGVyIGVtaXRzIGV2ZW50cyB2aWEgc3VibWl0R2xlYW5QaW5nRm9yUGluZygpIGluIHRoZSBPTUMgbWVzc2FnaW5nLXN5c3RlbS5cbi8vIElmIGEgZmVhdHVyZSBpcyB0cmlnZ2VyZWQgb3V0c2lkZSBvZiB0aGlzIGZsb3cgKGUuZy4sIHRoZSBNb2JpbGUgRG93bmxvYWQgUVIgUHJvbW8pLFxuLy8gaXQgc2hvdWxkIGVtaXQgTmV3IFRhYi1zcGVjaWZpYyBHbGVhbiBldmVudHMgaW5kZXBlbmRlbnRseS5cblxuZnVuY3Rpb24gTWVzc2FnZVdyYXBwZXIoeyBjaGlsZHJlbiwgZGlzcGF0Y2gsIGhpZGRlbk92ZXJyaWRlLCBvbkRpc21pc3MgfSkge1xuICBjb25zdCBtZXNzYWdlID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuTWVzc2FnZXMpO1xuICBjb25zdCBbaXNJbnRlcnNlY3RpbmcsIHNldElzSW50ZXJzZWN0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3RhYklzVmlzaWJsZSwgc2V0VGFiSXNWaXNpYmxlXSA9IHVzZVN0YXRlKFxuICAgICgpID0+XG4gICAgICB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcInZpc2libGVcIlxuICApO1xuICBjb25zdCBbaGFzUnVuLCBzZXRIYXNSdW5dID0gdXNlU3RhdGUoKTtcblxuICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNJbnRlcnNlY3RpbmcodHJ1ZSk7XG4gICAgLy8gb25seSBzZW5kIGltcHJlc3Npb24gaWYgbWVzc2FnZUlkIGlzIGRlZmluZWQgYW5kIHRhYiBpcyB2aXNpYmxlXG4gICAgaWYgKHRhYklzVmlzaWJsZSAmJiBtZXNzYWdlLm1lc3NhZ2VEYXRhLmlkICYmICFoYXNSdW4pIHtcbiAgICAgIHNldEhhc1J1bih0cnVlKTtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5NRVNTQUdFX0lNUFJFU1NJT04sXG4gICAgICAgICAgZGF0YTogbWVzc2FnZS5tZXNzYWdlRGF0YSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIG1lc3NhZ2UsIHRhYklzVmlzaWJsZSwgaGFzUnVuXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyB3ZSBkb250IHdhbnQgdG8gZGlzcGF0Y2ggdGhpcyBhY3Rpb24gdW5sZXNzIHRoZSBjdXJyZW50IHRhYiBpcyBvcGVuIGFuZCB2aXNpYmxlXG4gICAgaWYgKG1lc3NhZ2UuaXNWaXNpYmxlICYmIHRhYklzVmlzaWJsZSkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk1FU1NBR0VfTk9USUZZX1ZJU0lCSUxJVFksXG4gICAgICAgICAgZGF0YTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9LCBbbWVzc2FnZSwgZGlzcGF0Y2gsIHRhYklzVmlzaWJsZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcbiAgICAgIHNldFRhYklzVmlzaWJsZShkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFwidmlzaWJsZVwiKTtcbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBjb25zdCByZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbnRlcnNlY3Rpb24pO1xuXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbiA9IHtcbiAgICAgIHR5cGU6IGF0Lk1FU1NBR0VfVE9HR0xFX1ZJU0lCSUxJVFksXG4gICAgICBkYXRhOiBmYWxzZSwgLy9pc1Zpc2libGVcbiAgICB9O1xuICAgIGlmIChtZXNzYWdlLnBvcnRJRCkge1xuICAgICAgZGlzcGF0Y2goYWMuT25seVRvT25lQ29udGVudChhY3Rpb24sIG1lc3NhZ2UucG9ydElEKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKGFjLkFsc29Ub01haW4oYWN0aW9uKSk7XG4gICAgfVxuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0Lk1FU1NBR0VfTk9USUZZX1ZJU0lCSUxJVFksXG4gICAgICAgIGRhdGE6IGZhbHNlLFxuICAgICAgfSlcbiAgICApO1xuICAgIG9uRGlzbWlzcz8uKCk7XG4gIH0sIFtkaXNwYXRjaCwgbWVzc2FnZSwgb25EaXNtaXNzXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlRGlzbWlzcygpIHtcbiAgICBjb25zdCB7IGlkIH0gPSBtZXNzYWdlLm1lc3NhZ2VEYXRhO1xuICAgIGlmIChpZCkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk1FU1NBR0VfRElTTUlTUyxcbiAgICAgICAgICBkYXRhOiB7IG1lc3NhZ2U6IG1lc3NhZ2UubWVzc2FnZURhdGEgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGhhbmRsZUNsb3NlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVCbG9jaygpIHtcbiAgICBjb25zdCB7IGlkIH0gPSBtZXNzYWdlLm1lc3NhZ2VEYXRhO1xuICAgIGlmIChpZCkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0Lk1FU1NBR0VfQkxPQ0ssXG4gICAgICAgICAgZGF0YTogaWQsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGVsZW1lbnRJZCkge1xuICAgIGNvbnN0IHsgaWQgfSA9IG1lc3NhZ2UubWVzc2FnZURhdGE7XG4gICAgaWYgKGlkKSB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuTUVTU0FHRV9DTElDSyxcbiAgICAgICAgICBkYXRhOiB7IG1lc3NhZ2U6IG1lc3NhZ2UubWVzc2FnZURhdGEsIHNvdXJjZTogZWxlbWVudElkIHx8IFwiXCIgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFtZXNzYWdlIHx8ICghaGlkZGVuT3ZlcnJpZGUgJiYgIW1lc3NhZ2UuaXNWaXNpYmxlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gb25seSBkaXNwbGF5IHRoZSBtZXNzYWdlIGlmIGBpc1Zpc2libGVgIGlzIHRydWVcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBbZWxdO1xuICAgICAgfX1cbiAgICAgIGNsYXNzTmFtZT1cIm1lc3NhZ2Utd3JhcHBlclwiXG4gICAgPlxuICAgICAge1JlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICBpc0ludGVyc2VjdGluZyxcbiAgICAgICAgaGFuZGxlRGlzbWlzcyxcbiAgICAgICAgaGFuZGxlQ2xpY2ssXG4gICAgICAgIGhhbmRsZUJsb2NrLFxuICAgICAgICBoYW5kbGVDbG9zZSxcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgeyBNZXNzYWdlV3JhcHBlciB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gRmVhdHVyZUhpZ2hsaWdodCh7XG4gIG1lc3NhZ2UsXG4gIGljb24sXG4gIHRvZ2dsZSxcbiAgYXJyb3dQb3NpdGlvbiA9IFwiXCIsXG4gIHBvc2l0aW9uID0gXCJ0b3AtbGVmdFwiLFxuICB2ZXJ0aWNhbFBvc2l0aW9uID0gXCJcIixcbiAgdGl0bGUsXG4gIGFyaWFMYWJlbCxcbiAgZmVhdHVyZSA9IFwiRkVBVFVSRV9ISUdITElHSFRfREVGQVVMVFwiLFxuICBkaXNwYXRjaCA9ICgpID0+IHt9LFxuICB3aW5kb3dPYmogPSBnbG9iYWwsXG4gIG9wZW5lZE92ZXJyaWRlID0gZmFsc2UsXG4gIHNob3dCdXR0b25JY29uID0gdHJ1ZSxcbiAgZGlzbWlzc0NhbGxiYWNrID0gKCkgPT4ge30sXG4gIG91dHNpZGVDbGlja0NhbGxiYWNrID0gKCkgPT4ge30sXG4gIG1vZGFsQ2xhc3NOYW1lID0gXCJcIixcbn0pIHtcbiAgY29uc3QgW29wZW5lZCwgc2V0T3BlbmVkXSA9IHVzZVN0YXRlKG9wZW5lZE92ZXJyaWRlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlT3V0c2lkZUNsaWNrID0gZSA9PiB7XG4gICAgICBpZiAoIXJlZj8uY3VycmVudD8uY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgIHNldE9wZW5lZChmYWxzZSk7XG4gICAgICAgIG91dHNpZGVDbGlja0NhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSBlID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgICBvdXRzaWRlQ2xpY2tDYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3dPYmouZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU91dHNpZGVDbGljayk7XG4gICAgd2luZG93T2JqLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3dPYmouZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU91dHNpZGVDbGljayk7XG4gICAgICB3aW5kb3dPYmouZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgfTtcbiAgfSwgW3dpbmRvd09iaiwgb3V0c2lkZUNsaWNrQ2FsbGJhY2tdKTtcblxuICBjb25zdCBvblRvZ2dsZUNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghb3BlbmVkKSB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuRGlzY292ZXJ5U3RyZWFtVXNlckV2ZW50KHtcbiAgICAgICAgICBldmVudDogXCJDTElDS1wiLFxuICAgICAgICAgIHNvdXJjZTogXCJGRUFUVVJFX0hJR0hMSUdIVFwiLFxuICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBmZWF0dXJlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBzZXRPcGVuZWQoIW9wZW5lZCk7XG4gIH0sIFtkaXNwYXRjaCwgZmVhdHVyZSwgb3BlbmVkXSk7XG5cbiAgY29uc3Qgb25EaXNtaXNzQ2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0T3BlbmVkKGZhbHNlKTtcbiAgICBkaXNtaXNzQ2FsbGJhY2soKTtcbiAgfSwgW2Rpc21pc3NDYWxsYmFja10pO1xuXG4gIGNvbnN0IGhpZGVCdXR0b25DbGFzcyA9IHNob3dCdXR0b25JY29uID8gYGAgOiBgaXNIaWRkZW5gO1xuICBjb25zdCBvcGVuZWRDbGFzc25hbWUgPSBvcGVuZWQgPyBgb3BlbmVkYCA6IGBjbG9zZWRgO1xuICByZXR1cm4gKFxuICAgIDxkaXYgcmVmPXtyZWZ9IGNsYXNzTmFtZT17YGZlYXR1cmUtaGlnaGxpZ2h0ICR7dmVydGljYWxQb3NpdGlvbn1gfT5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgIGFyaWEtbGFiZWw9e2FyaWFMYWJlbH1cbiAgICAgICAgY2xhc3NOYW1lPXtgdG9nZ2xlLWJ1dHRvbiAke2hpZGVCdXR0b25DbGFzc31gfVxuICAgICAgICBvbkNsaWNrPXtvblRvZ2dsZUNsaWNrfVxuICAgICAgPlxuICAgICAgICB7dG9nZ2xlfVxuICAgICAgPC9idXR0b24+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YGZlYXR1cmUtaGlnaGxpZ2h0LW1vZGFsICR7cG9zaXRpb259ICR7YXJyb3dQb3NpdGlvbn0gJHttb2RhbENsYXNzTmFtZX0gJHtvcGVuZWRDbGFzc25hbWV9YH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWljb25cIj57aWNvbn08L2Rpdj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiY29udGVudC13cmFwcGVyXCI+e21lc3NhZ2V9PC9wPlxuICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cImZlYXR1cmUtaGlnaGxpZ2h0LWRpc21pc3MtYnV0dG9uXCJcbiAgICAgICAgICBpY29uc3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvY2xvc2Uuc3ZnXCJcbiAgICAgICAgICBvbkNsaWNrPXtvbkRpc21pc3NDbGlja31cbiAgICAgICAgICBvbktleURvd249e29uRGlzbWlzc0NsaWNrfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZlYXR1cmVIaWdobGlnaHQgfSBmcm9tIFwiLi9GZWF0dXJlSGlnaGxpZ2h0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTaG9ydGN1dEZlYXR1cmVIaWdobGlnaHQoe1xuICBwb3NpdGlvbixcbiAgZGlzcGF0Y2gsXG4gIGhhbmRsZURpc21pc3MsXG4gIGhhbmRsZUJsb2NrLFxuICBmZWF0dXJlLFxufSkge1xuICBjb25zdCBvbkRpc21pc3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaGFuZGxlRGlzbWlzcygpO1xuICAgIGhhbmRsZUJsb2NrKCk7XG4gIH0sIFtoYW5kbGVEaXNtaXNzLCBoYW5kbGVCbG9ja10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzaG9ydGN1dC1mZWF0dXJlLWhpZ2hsaWdodFwiPlxuICAgICAgPEZlYXR1cmVIaWdobGlnaHRcbiAgICAgICAgcG9zaXRpb249e3Bvc2l0aW9ufVxuICAgICAgICBmZWF0dXJlPXtmZWF0dXJlfVxuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIG1lc3NhZ2U9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hvcnRjdXQtZmVhdHVyZS1oaWdobGlnaHQtY29udGVudFwiPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICBzcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9vcGVuLWluLW5ldy5zdmdcIlxuICAgICAgICAgICAgICB3aWR0aD1cIjI0XCJcbiAgICAgICAgICAgICAgaGVpZ2h0PVwiMjRcIlxuICAgICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2hvcnRjdXQtZmVhdHVyZS1oaWdobGlnaHQtY29weVwiPlxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRpdGxlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2hvcnRjdXRzLWhpZ2hsaWdodC10aXRsZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3VidGl0bGVcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zaG9ydGN1dHMtaGlnaGxpZ2h0LXN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIG9wZW5lZE92ZXJyaWRlPXt0cnVlfVxuICAgICAgICBzaG93QnV0dG9uSWNvbj17ZmFsc2V9XG4gICAgICAgIGRpc21pc3NDYWxsYmFjaz17b25EaXNtaXNzfVxuICAgICAgICBvdXRzaWRlQ2xpY2tDYWxsYmFjaz17aGFuZGxlRGlzbWlzc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQge1xuICBNSU5fUklDSF9GQVZJQ09OX1NJWkUsXG4gIE1JTl9TTUFMTF9GQVZJQ09OX1NJWkUsXG4gIFRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUyxcbiAgVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlMsXG4gIFRPUF9TSVRFU19TUE9OU09SRURfUE9TSVRJT05fQ09OVEVYVF9NRU5VX09QVElPTlMsXG4gIFRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TLFxuICBUT1BfU0lURVNfU09VUkNFLFxufSBmcm9tIFwiLi9Ub3BTaXRlc0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgSW1wcmVzc2lvblN0YXRzIH0gZnJvbSBcIi4uL0Rpc2NvdmVyeVN0cmVhbUltcHJlc3Npb25TdGF0cy9JbXByZXNzaW9uU3RhdHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNjcmVlbnNob3RVdGlscyB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvc2NyZWVuc2hvdC11dGlsc1wiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5zeXMubWpzXCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudUJ1dHRvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbnRleHRNZW51L0NvbnRleHRNZW51QnV0dG9uXCI7XG5pbXBvcnQgeyBUb3BTaXRlSW1wcmVzc2lvbldyYXBwZXIgfSBmcm9tIFwiLi9Ub3BTaXRlSW1wcmVzc2lvbldyYXBwZXJcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IE1lc3NhZ2VXcmFwcGVyIH0gZnJvbSBcIi4uL01lc3NhZ2VXcmFwcGVyL01lc3NhZ2VXcmFwcGVyXCI7XG5pbXBvcnQgeyBTaG9ydGN1dEZlYXR1cmVIaWdobGlnaHQgfSBmcm9tIFwiLi4vRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9GZWF0dXJlSGlnaGxpZ2h0L1Nob3J0Y3V0RmVhdHVyZUhpZ2hsaWdodFwiO1xuXG5jb25zdCBTUE9DX1RZUEUgPSBcIlNQT0NcIjtcbmNvbnN0IE5FV1RBQl9TT1VSQ0UgPSBcIm5ld3RhYlwiO1xuXG4vLyBGb3IgY2FzZXMgaWYgd2Ugd2FudCB0byBrbm93IGlmIHRoaXMgaXMgc3BvbnNvcmVkIGJ5IGVpdGhlciBzcG9uc29yZWRfcG9zaXRpb24gb3IgdHlwZS5cbi8vIFdlIGhhdmUgdHdvIHNvdXJjZXMgZm9yIHNwb25zb3JlZCB0b3BzaXRlcywgYW5kXG4vLyBzcG9uc29yZWRfcG9zaXRpb24gaXMgc2V0IGJ5IG9uZSBzcG9uc29yZWQgc291cmNlLCBhbmQgdHlwZSBpcyBzZXQgYnkgYW5vdGhlci5cbi8vIFRoaXMgaXMgbm90IGNhbGxlZCBpbiBhbGwgY2FzZXMsIHNvbWV0aW1lcyB3ZSB3YW50IHRvIGtub3cgaWYgaXQncyBvbmUgc291cmNlXG4vLyBvciB0aGUgb3RoZXIuIFRoaXMgZnVuY3Rpb24gaXMgb25seSBhcHBsaWNhYmxlIGluIGNhc2VzIHdoZXJlIHdlIG9ubHkgY2FyZSBpZiBpdCdzIGVpdGhlci5cbmZ1bmN0aW9uIGlzU3BvbnNvcmVkKGxpbmspIHtcbiAgcmV0dXJuIGxpbms/LnNwb25zb3JlZF9wb3NpdGlvbiB8fCBsaW5rPy50eXBlID09PSBTUE9DX1RZUEU7XG59XG5cbmV4cG9ydCBjbGFzcyBUb3BTaXRlTGluayBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBzY3JlZW5zaG90SW1hZ2U6IG51bGwgfTtcbiAgICB0aGlzLm9uRHJhZ0V2ZW50ID0gdGhpcy5vbkRyYWdFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlQcmVzcyA9IHRoaXMub25LZXlQcmVzcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2hvdWxkU2hvd09NQ0hpZ2hsaWdodCA9IHRoaXMuc2hvdWxkU2hvd09NQ0hpZ2hsaWdodC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLypcbiAgICogSGVscGVyIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBkcm9wIHpvbmUgc2hvdWxkIGFsbG93IGEgZHJvcC4gV2Ugb25seSBhbGxvd1xuICAgKiBkcm9wcGluZyB0b3Agc2l0ZXMgZm9yIG5vdy4gV2UgZG9uJ3QgYWxsb3cgZHJvcHBpbmcgb24gc3BvbnNvcmVkIHRvcCBzaXRlc1xuICAgKiBhcyB0aGVpciBwb3NpdGlvbiBpcyBmaXhlZC5cbiAgICovXG4gIF9hbGxvd0Ryb3AoZSkge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5kcmFnZ2VkIHx8ICFpc1Nwb25zb3JlZCh0aGlzLnByb3BzLmxpbmspKSAmJlxuICAgICAgZS5kYXRhVHJhbnNmZXIudHlwZXMuaW5jbHVkZXMoXCJ0ZXh0L3RvcHNpdGUtaW5kZXhcIilcbiAgICApO1xuICB9XG5cbiAgb25EcmFnRXZlbnQoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJjbGlja1wiOlxuICAgICAgICAvLyBTdG9wIGFueSBsaW5rIGNsaWNrcyBpZiB3ZSBzdGFydGVkIGFueSBkcmFnZ2luZ1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2VkKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcmFnc3RhcnRcIjpcbiAgICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgaWYgKGlzU3BvbnNvcmVkKHRoaXMucHJvcHMubGluaykpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhZ2dlZCA9IHRydWU7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJtb3ZlXCI7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC90b3BzaXRlLWluZGV4XCIsIHRoaXMucHJvcHMuaW5kZXgpO1xuICAgICAgICB0aGlzLnByb3BzLm9uRHJhZ0V2ZW50KFxuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgdGhpcy5wcm9wcy5saW5rLFxuICAgICAgICAgIHRoaXMucHJvcHMudGl0bGVcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJhZ2VuZFwiOlxuICAgICAgICB0aGlzLnByb3BzLm9uRHJhZ0V2ZW50KGV2ZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICBjYXNlIFwiZHJhZ292ZXJcIjpcbiAgICAgIGNhc2UgXCJkcm9wXCI6XG4gICAgICAgIGlmICh0aGlzLl9hbGxvd0Ryb3AoZXZlbnQpKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uRHJhZ0V2ZW50KGV2ZW50LCB0aGlzLnByb3BzLmluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgLy8gQmxvY2sgdGhlIHNjcm9sbCB3aGVlbCBmcm9tIGFwcGVhcmluZyBmb3IgbWlkZGxlIGNsaWNrcyBvbiBzZWFyY2ggdG9wIHNpdGVzXG4gICAgICAgIGlmIChldmVudC5idXR0b24gPT09IDEgJiYgdGhpcy5wcm9wcy5saW5rLnNlYXJjaFRvcFNpdGUpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2V0IGF0IHRoZSBmaXJzdCBtb3VzZSBldmVudCBvZiBhIHBvdGVudGlhbCBkcmFnXG4gICAgICAgIHRoaXMuZHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIHRvIG9idGFpbiB0aGUgbmV4dCBzdGF0ZSBiYXNlZCBvbiBuZXh0UHJvcHMgYW5kIHByZXZTdGF0ZS5cbiAgICpcbiAgICogTk9URTogUmVuYW1lIHRoaXMgbWV0aG9kIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB3aGVuIHdlIHVwZGF0ZSBSZWFjdFxuICAgKiAgICAgICB0byA+PSAxNi4zLiBXZSB3aWxsIG5lZWQgdG8gdXBkYXRlIHRlc3RzIGFzIHdlbGwuIFdlIGNhbm5vdCByZW5hbWUgdGhpc1xuICAgKiAgICAgICBtZXRob2QgdG8gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIG5vdyBiZWNhdXNlIHRoZXJlIGlzIGEgbWlzbWF0Y2ggaW5cbiAgICogICAgICAgdGhlIFJlYWN0IHZlcnNpb24gdGhhdCB3ZSBhcmUgdXNpbmcgZm9yIGJvdGggdGVzdGluZyBhbmQgcHJvZHVjdGlvbi5cbiAgICogICAgICAgKGkuZS4gcmVhY3QtdGVzdC1yZW5kZXIgPT4gXCIxNi4zLjJcIiwgcmVhY3QgPT4gXCIxNi4yLjBcIikuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWlyYm5iL2VuenltZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9lbnp5bWUtYWRhcHRlci1yZWFjdC0xNi9wYWNrYWdlLmpzb24jTDQzLlxuICAgKi9cbiAgc3RhdGljIGdldE5leHRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGNvbnN0IHsgc2NyZWVuc2hvdCB9ID0gbmV4dFByb3BzLmxpbms7XG4gICAgY29uc3QgaW1hZ2VJblN0YXRlID0gU2NyZWVuc2hvdFV0aWxzLmlzUmVtb3RlSW1hZ2VMb2NhbChcbiAgICAgIHByZXZTdGF0ZS5zY3JlZW5zaG90SW1hZ2UsXG4gICAgICBzY3JlZW5zaG90XG4gICAgKTtcbiAgICBpZiAoaW1hZ2VJblN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTaW5jZSBpbWFnZSB3YXMgdXBkYXRlZCwgYXR0ZW1wdCB0byByZXZva2Ugb2xkIGltYWdlIGJsb2IgVVJMLCBpZiBpdCBleGlzdHMuXG4gICAgU2NyZWVuc2hvdFV0aWxzLm1heWJlUmV2b2tlQmxvYk9iamVjdFVSTChwcmV2U3RhdGUuc2NyZWVuc2hvdEltYWdlKTtcblxuICAgIHJldHVybiB7XG4gICAgICBzY3JlZW5zaG90SW1hZ2U6IFNjcmVlbnNob3RVdGlscy5jcmVhdGVMb2NhbEltYWdlT2JqZWN0KHNjcmVlbnNob3QpLFxuICAgIH07XG4gIH1cblxuICAvLyBOT1RFOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiB3aGVuIHdlIHVwZGF0ZSBSZWFjdCB0byA+PSAxNi4zIHNpbmNlIFJlYWN0IHdpbGxcbiAgLy8gICAgICAgY2FsbCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgYXV0b21hdGljYWxseS4gV2Ugd2lsbCBhbHNvIG5lZWQgdG9cbiAgLy8gICAgICAgcmVuYW1lIGdldE5leHRTdGF0ZUZyb21Qcm9wcyB0byBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSBUb3BTaXRlTGluay5nZXROZXh0U3RhdGVGcm9tUHJvcHModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSk7XG4gICAgaWYgKG5leHRTdGF0ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE5PVEU6IFJlbW92ZSB0aGlzIGZ1bmN0aW9uIHdoZW4gd2UgdXBkYXRlIFJlYWN0IHRvID49IDE2LjMgc2luY2UgUmVhY3Qgd2lsbFxuICAvLyAgICAgICBjYWxsIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyBhdXRvbWF0aWNhbGx5LiBXZSB3aWxsIGFsc28gbmVlZCB0b1xuICAvLyAgICAgICByZW5hbWUgZ2V0TmV4dFN0YXRlRnJvbVByb3BzIHRvIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSBUb3BTaXRlTGluay5nZXROZXh0U3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCB0aGlzLnN0YXRlKTtcbiAgICBpZiAobmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgU2NyZWVuc2hvdFV0aWxzLm1heWJlUmV2b2tlQmxvYk9iamVjdFVSTCh0aGlzLnN0YXRlLnNjcmVlbnNob3RJbWFnZSk7XG4gIH1cblxuICBvbktleVByZXNzKGV2ZW50KSB7XG4gICAgLy8gSWYgd2UgaGF2ZSB0YWJiZWQgdG8gYSBzZWFyY2ggc2hvcnRjdXQgdG9wIHNpdGUsIGFuZCB3ZSBjbGljayAnZW50ZXInLFxuICAgIC8vIHdlIHNob3VsZCBleGVjdXRlIHRoZSBvbkNsaWNrIGZ1bmN0aW9uLiBUaGlzIG5lZWRzIHRvIGJlIGFkZGVkIGJlY2F1c2VcbiAgICAvLyBzZWFyY2ggdG9wIHNpdGVzIGFyZSBhbmNob3IgdGFncyB3aXRob3V0IGFuIGhyZWYuIFNlZSBidWcgMTQ4MzEzNVxuICAgIGlmIChcbiAgICAgIGV2ZW50LmtleSA9PT0gXCJFbnRlclwiICYmXG4gICAgICAodGhpcy5wcm9wcy5saW5rLnNlYXJjaFRvcFNpdGUgfHwgdGhpcy5wcm9wcy5pc0FkZEJ1dHRvbilcbiAgICApIHtcbiAgICAgIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogVGFrZXMgdGhlIHVybCBhcyBhIHN0cmluZywgcnVucyBpdCB0aHJvdWdoIGEgc2ltcGxlIChub24tc2VjdXJlKSBoYXNoIHR1cm5pbmcgaXQgaW50byBhIHJhbmRvbSBudW1iZXJcbiAgICogQXBwbHkgdGhhdCByYW5kb20gbnVtYmVyIHRvIHRoZSBjb2xvciBhcnJheS4gVGhlIHNhbWUgdXJsIHdpbGwgYWx3YXlzIGdlbmVyYXRlIHRoZSBzYW1lIGNvbG9yLlxuICAgKi9cbiAgZ2VuZXJhdGVDb2xvcigpIHtcbiAgICBsZXQgeyB0aXRsZSwgY29sb3JzIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghY29sb3JzKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBsZXQgY29sb3JBcnJheSA9IGNvbG9ycy5zcGxpdChcIixcIik7XG5cbiAgICBjb25zdCBoYXNoU3RyID0gc3RyID0+IHtcbiAgICAgIGxldCBoYXNoID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBoYXNoICs9IGNoYXJDb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfTtcblxuICAgIGxldCBoYXNoID0gaGFzaFN0cih0aXRsZSk7XG4gICAgbGV0IGluZGV4ID0gaGFzaCAlIGNvbG9yQXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBjb2xvckFycmF5W2luZGV4XTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVN0eWxlKCkge1xuICAgIGNvbnN0IHsgZGVmYXVsdFN0eWxlLCBsaW5rIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgeyB0aXBweVRvcEljb24sIGZhdmljb25TaXplIH0gPSBsaW5rO1xuICAgIGxldCBpbWFnZUNsYXNzTmFtZTtcbiAgICBsZXQgaW1hZ2VTdHlsZTtcbiAgICBsZXQgc2hvd1NtYWxsRmF2aWNvbiA9IGZhbHNlO1xuICAgIGxldCBzbWFsbEZhdmljb25TdHlsZTtcbiAgICBsZXQgaGFzU2NyZWVuc2hvdEltYWdlID1cbiAgICAgIHRoaXMuc3RhdGUuc2NyZWVuc2hvdEltYWdlICYmIHRoaXMuc3RhdGUuc2NyZWVuc2hvdEltYWdlLnVybDtcbiAgICBsZXQgc2VsZWN0ZWRDb2xvcjtcblxuICAgIGlmIChkZWZhdWx0U3R5bGUpIHtcbiAgICAgIC8vIGZvcmNlIG5vIHN0eWxlcyAobGV0dGVyIGZhbGxiYWNrKSBldmVuIGlmIHRoZSBsaW5rIGhhcyBpbWFnZXJ5XG4gICAgICBzZWxlY3RlZENvbG9yID0gdGhpcy5nZW5lcmF0ZUNvbG9yKCk7XG4gICAgfSBlbHNlIGlmIChsaW5rLnNlYXJjaFRvcFNpdGUpIHtcbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJ0b3Atc2l0ZS1pY29uIHJpY2gtaWNvblwiO1xuICAgICAgaW1hZ2VTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBsaW5rLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dGlwcHlUb3BJY29ufSlgLFxuICAgICAgfTtcbiAgICAgIHNtYWxsRmF2aWNvblN0eWxlID0geyBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aXBweVRvcEljb259KWAgfTtcbiAgICB9IGVsc2UgaWYgKGxpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCkge1xuICAgICAgLy8gYXNzdW1lIGhpZ2ggcXVhbGl0eSBjdXN0b20gc2NyZWVuc2hvdCBhbmQgdXNlIHJpY2ggaWNvbiBzdHlsZXMgYW5kIGNsYXNzIG5hbWVzXG4gICAgICBpbWFnZUNsYXNzTmFtZSA9IFwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIjtcbiAgICAgIGltYWdlU3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbGluay5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogaGFzU2NyZWVuc2hvdEltYWdlXG4gICAgICAgICAgPyBgdXJsKCR7dGhpcy5zdGF0ZS5zY3JlZW5zaG90SW1hZ2UudXJsfSlgXG4gICAgICAgICAgOiBcIlwiLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGlwcHlUb3BJY29uIHx8XG4gICAgICBsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSB8fFxuICAgICAgZmF2aWNvblNpemUgPj0gTUlOX1JJQ0hfRkFWSUNPTl9TSVpFXG4gICAgKSB7XG4gICAgICAvLyBzdHlsZXMgYW5kIGNsYXNzIG5hbWVzIGZvciB0b3Agc2l0ZXMgd2l0aCByaWNoIGljb25zXG4gICAgICBpbWFnZUNsYXNzTmFtZSA9IFwidG9wLXNpdGUtaWNvbiByaWNoLWljb25cIjtcbiAgICAgIGltYWdlU3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbGluay5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3RpcHB5VG9wSWNvbiB8fCBsaW5rLmZhdmljb259KWAsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZmF2aWNvblNpemUgPj0gTUlOX1NNQUxMX0ZBVklDT05fU0laRSkge1xuICAgICAgc2hvd1NtYWxsRmF2aWNvbiA9IHRydWU7XG4gICAgICBzbWFsbEZhdmljb25TdHlsZSA9IHsgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7bGluay5mYXZpY29ufSlgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkQ29sb3IgPSB0aGlzLmdlbmVyYXRlQ29sb3IoKTtcbiAgICAgIGltYWdlQ2xhc3NOYW1lID0gXCJcIjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2hvd1NtYWxsRmF2aWNvbixcbiAgICAgIHNtYWxsRmF2aWNvblN0eWxlLFxuICAgICAgaW1hZ2VTdHlsZSxcbiAgICAgIGltYWdlQ2xhc3NOYW1lLFxuICAgICAgc2VsZWN0ZWRDb2xvcixcbiAgICB9O1xuICB9XG5cbiAgc2hvdWxkU2hvd09NQ0hpZ2hsaWdodChjb21wb25lbnRJZCkge1xuICAgIGNvbnN0IG1lc3NhZ2VEYXRhID0gdGhpcy5wcm9wcy5NZXNzYWdlcz8ubWVzc2FnZURhdGE7XG4gICAgaWYgKCFtZXNzYWdlRGF0YSB8fCBPYmplY3Qua2V5cyhtZXNzYWdlRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlRGF0YT8uY29udGVudD8ubWVzc2FnZVR5cGUgPT09IGNvbXBvbmVudElkO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgaXNEcmFnZ2FibGUsXG4gICAgICBsaW5rLFxuICAgICAgb25DbGljayxcbiAgICAgIHRpdGxlLFxuICAgICAgaXNBZGRCdXR0b24sXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCB0b3BTaXRlT3V0ZXJDbGFzc05hbWUgPSBgdG9wLXNpdGUtb3V0ZXIke1xuICAgICAgY2xhc3NOYW1lID8gYCAke2NsYXNzTmFtZX1gIDogXCJcIlxuICAgIH0ke2xpbmsuaXNEcmFnZ2VkID8gXCIgZHJhZ2dlZFwiIDogXCJcIn0ke1xuICAgICAgbGluay5zZWFyY2hUb3BTaXRlID8gXCIgc2VhcmNoLXNob3J0Y3V0XCIgOiBcIlwiXG4gICAgfWA7XG4gICAgY29uc3QgW2xldHRlckZhbGxiYWNrXSA9IHRpdGxlO1xuICAgIGNvbnN0IHtcbiAgICAgIHNob3dTbWFsbEZhdmljb24sXG4gICAgICBzbWFsbEZhdmljb25TdHlsZSxcbiAgICAgIGltYWdlU3R5bGUsXG4gICAgICBpbWFnZUNsYXNzTmFtZSxcbiAgICAgIHNlbGVjdGVkQ29sb3IsXG4gICAgfSA9IHRoaXMuY2FsY3VsYXRlU3R5bGUoKTtcblxuICAgIGNvbnN0IGFkZEJ1dHRvbkxhYmVsbDEwbiA9IHtcbiAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IFwibmV3dGFiLXRvcHNpdGVzLWFkZC1zaG9ydGN1dC1sYWJlbFwiLFxuICAgIH07XG4gICAgY29uc3QgYWRkQnV0dG9uVGl0bGVsMTBuID0ge1xuICAgICAgXCJkYXRhLWwxMG4taWRcIjogXCJuZXd0YWItdG9wc2l0ZXMtYWRkLXNob3J0Y3V0LXRpdGxlXCIsXG4gICAgfTtcbiAgICBjb25zdCBhZGRQaW5uZWRUaXRsZWwxMG4gPSB7XG4gICAgICBcImRhdGEtbDEwbi1pZFwiOiBcInRvcHNpdGUtbGFiZWwtcGlubmVkXCIsXG4gICAgICBcImRhdGEtbDEwbi1hcmdzXCI6IEpTT04uc3RyaW5naWZ5KHsgdGl0bGUgfSksXG4gICAgfTtcblxuICAgIGxldCBkcmFnZ2FibGVQcm9wcyA9IHt9O1xuICAgIGlmIChpc0RyYWdnYWJsZSkge1xuICAgICAgZHJhZ2dhYmxlUHJvcHMgPSB7XG4gICAgICAgIG9uQ2xpY2s6IHRoaXMub25EcmFnRXZlbnQsXG4gICAgICAgIG9uRHJhZ0VuZDogdGhpcy5vbkRyYWdFdmVudCxcbiAgICAgICAgb25EcmFnU3RhcnQ6IHRoaXMub25EcmFnRXZlbnQsXG4gICAgICAgIG9uTW91c2VEb3duOiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgaW1wcmVzc2lvblN0YXRzID0gbnVsbDtcbiAgICBpZiAobGluay50eXBlID09PSBTUE9DX1RZUEUpIHtcbiAgICAgIC8vIFJlY29yZCBpbXByZXNzaW9ucyBmb3IgUG9ja2V0IHRpbGVzLlxuICAgICAgaW1wcmVzc2lvblN0YXRzID0gKFxuICAgICAgICA8SW1wcmVzc2lvblN0YXRzXG4gICAgICAgICAgZmxpZ2h0SWQ9e2xpbmsuZmxpZ2h0SWR9XG4gICAgICAgICAgcm93cz17W1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogbGluay5pZCxcbiAgICAgICAgICAgICAgcG9zOiBsaW5rLnBvcyxcbiAgICAgICAgICAgICAgc2hpbTogbGluay5zaGltICYmIGxpbmsuc2hpbS5pbXByZXNzaW9uLFxuICAgICAgICAgICAgICBhZHZlcnRpc2VyOiB0aXRsZS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIHNvdXJjZT17VE9QX1NJVEVTX1NPVVJDRX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpc1Nwb25zb3JlZChsaW5rKSkge1xuICAgICAgLy8gUmVjb3JkIGltcHJlc3Npb25zIGZvciBub24tUG9ja2V0IHNwb25zb3JlZCB0aWxlcy5cbiAgICAgIGltcHJlc3Npb25TdGF0cyA9IChcbiAgICAgICAgPFRvcFNpdGVJbXByZXNzaW9uV3JhcHBlclxuICAgICAgICAgIGFjdGlvblR5cGU9e2F0LlRPUF9TSVRFU19TUE9OU09SRURfSU1QUkVTU0lPTl9TVEFUU31cbiAgICAgICAgICB0aWxlPXt7XG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgIHRpbGVfaWQ6IGxpbmsuc3BvbnNvcmVkX3RpbGVfaWQgfHwgLTEsXG4gICAgICAgICAgICByZXBvcnRpbmdfdXJsOiBsaW5rLnNwb25zb3JlZF9pbXByZXNzaW9uX3VybCxcbiAgICAgICAgICAgIGFkdmVydGlzZXI6IHRpdGxlLnRvTG9jYWxlTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBzb3VyY2U6IE5FV1RBQl9TT1VSQ0UsXG4gICAgICAgICAgfX1cbiAgICAgICAgICAvLyBGb3IgdGVzdGluZy5cbiAgICAgICAgICBJbnRlcnNlY3Rpb25PYnNlcnZlcj17dGhpcy5wcm9wcy5JbnRlcnNlY3Rpb25PYnNlcnZlcn1cbiAgICAgICAgICBkb2N1bWVudD17dGhpcy5wcm9wcy5kb2N1bWVudH1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlY29yZCBpbXByZXNzaW9ucyBmb3Igb3JnYW5pYyB0aWxlcy5cbiAgICAgIGltcHJlc3Npb25TdGF0cyA9IChcbiAgICAgICAgPFRvcFNpdGVJbXByZXNzaW9uV3JhcHBlclxuICAgICAgICAgIGFjdGlvblR5cGU9e2F0LlRPUF9TSVRFU19PUkdBTklDX0lNUFJFU1NJT05fU1RBVFN9XG4gICAgICAgICAgdGlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMuaW5kZXgsXG4gICAgICAgICAgICBzb3VyY2U6IE5FV1RBQl9TT1VSQ0UsXG4gICAgICAgICAgICBpc1Bpbm5lZDogdGhpcy5wcm9wcy5saW5rLmlzUGlubmVkLFxuICAgICAgICAgICAgZ3VpZDogdGhpcy5wcm9wcy5saW5rLmd1aWQsXG4gICAgICAgICAgfX1cbiAgICAgICAgICAvLyBGb3IgdGVzdGluZy5cbiAgICAgICAgICBJbnRlcnNlY3Rpb25PYnNlcnZlcj17dGhpcy5wcm9wcy5JbnRlcnNlY3Rpb25PYnNlcnZlcn1cbiAgICAgICAgICBkb2N1bWVudD17dGhpcy5wcm9wcy5kb2N1bWVudH1cbiAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaVxuICAgICAgICBjbGFzc05hbWU9e3RvcFNpdGVPdXRlckNsYXNzTmFtZX1cbiAgICAgICAgb25Ecm9wPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLm9uRHJhZ0V2ZW50fVxuICAgICAgICBvbkRyYWdFbnRlcj17dGhpcy5vbkRyYWdFdmVudH1cbiAgICAgICAgb25EcmFnTGVhdmU9e3RoaXMub25EcmFnRXZlbnR9XG4gICAgICAgIHJlZj17dGhpcy5wcm9wcy5zZXRSZWZ9XG4gICAgICAgIHsuLi5kcmFnZ2FibGVQcm9wc31cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3Atc2l0ZS1pbm5lclwiPlxuICAgICAgICAgIHsvKiBXZSBkb24ndCB5ZXQgc3VwcG9ydCBhbiBhY2Nlc3NpYmxlIGRyYWctYW5kLWRyb3AgaW1wbGVtZW50YXRpb24sIHNlZSBCdWcgMTU1MjAwNSAqL31cbiAgICAgICAgICB7LyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2FuY2hvci1pcy12YWxpZCAqL31cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGUtYnV0dG9uXCJcbiAgICAgICAgICAgIGhyZWY9e2xpbmsuc2VhcmNoVG9wU2l0ZSA/IHVuZGVmaW5lZCA6IGxpbmsudXJsfVxuICAgICAgICAgICAgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG4gICAgICAgICAgICBvbktleVByZXNzPXt0aGlzLm9uS2V5UHJlc3N9XG4gICAgICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICAgICAgZHJhZ2dhYmxlPXt0cnVlfVxuICAgICAgICAgICAgZGF0YS1pcy1zcG9uc29yZWQtbGluaz17ISFsaW5rLnNwb25zb3JlZF90aWxlX2lkfVxuICAgICAgICAgICAgb25Gb2N1cz17dGhpcy5wcm9wcy5vbkZvY3VzfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD17bGluay5pc1Bpbm5lZCA/IHVuZGVmaW5lZCA6IHRpdGxlfVxuICAgICAgICAgICAgey4uLihpc0FkZEJ1dHRvbiAmJiB7IC4uLmFkZEJ1dHRvblRpdGxlbDEwbiB9KX1cbiAgICAgICAgICAgIHsuLi4oIWlzQWRkQnV0dG9uICYmIHsgdGl0bGUgfSl9XG4gICAgICAgICAgICB7Li4uKGxpbmsuaXNQaW5uZWQgJiYgeyAuLi5hZGRQaW5uZWRUaXRsZWwxMG4gfSl9XG4gICAgICAgICAgICBkYXRhLWwxMG4tYXJncz17SlNPTi5zdHJpbmdpZnkoeyB0aXRsZSB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGluay5pc1Bpbm5lZCAmJiA8ZGl2IGNsYXNzTmFtZT1cImljb24gaWNvbi1waW4tc21hbGxcIiAvPn1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGlsZVwiIGFyaWEtaGlkZGVuPXt0cnVlfT5cbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgICAgICBzZWxlY3RlZENvbG9yXG4gICAgICAgICAgICAgICAgICAgID8gXCJpY29uLXdyYXBwZXIgbGV0dGVyLWZhbGxiYWNrXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcImljb24td3JhcHBlclwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGEtZmFsbGJhY2s9e2xldHRlckZhbGxiYWNrfVxuICAgICAgICAgICAgICAgIHN0eWxlPXtzZWxlY3RlZENvbG9yID8geyBiYWNrZ3JvdW5kQ29sb3I6IHNlbGVjdGVkQ29sb3IgfSA6IHt9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2ltYWdlQ2xhc3NOYW1lfSBzdHlsZT17aW1hZ2VTdHlsZX0gLz5cbiAgICAgICAgICAgICAgICB7c2hvd1NtYWxsRmF2aWNvbiAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcC1zaXRlLWljb24gZGVmYXVsdC1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1mYWxsYmFjaz17c21hbGxGYXZpY29uU3R5bGUgPyBcIlwiIDogbGV0dGVyRmFsbGJhY2t9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzbWFsbEZhdmljb25TdHlsZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGl0bGUke2xpbmsuaXNQaW5uZWQgPyBcIiBoYXMtaWNvbiBwaW5uZWRcIiA6IFwiXCJ9JHtcbiAgICAgICAgICAgICAgICBsaW5rLnR5cGUgPT09IFNQT0NfVFlQRSB8fCBsaW5rLnNob3dfc3BvbnNvcmVkX2xhYmVsXG4gICAgICAgICAgICAgICAgICA/IFwiIHNwb25zb3JlZFwiXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGl0bGUtbGFiZWxcIlxuICAgICAgICAgICAgICAgIGRpcj1cImF1dG9cIlxuICAgICAgICAgICAgICAgIHsuLi4oaXNBZGRCdXR0b24gJiYgeyAuLi5hZGRCdXR0b25MYWJlbGwxMG4gfSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7bGluay5zZWFyY2hUb3BTaXRlICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9wLXNpdGUtaWNvbiBzZWFyY2gtdG9wc2l0ZVwiIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7dGl0bGUgfHwgPGJyIC8+fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3BvbnNvcmVkLWxhYmVsXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZS1zcG9uc29yZWRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIHtpc0FkZEJ1dHRvbiAmJiB0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQoXCJTaG9ydGN1dEhpZ2hsaWdodFwiKSAmJiAoXG4gICAgICAgICAgICA8TWVzc2FnZVdyYXBwZXJcbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNob3J0Y3V0RmVhdHVyZUhpZ2hsaWdodFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgIGZlYXR1cmU9XCJGRUFUVVJFX1NIT1JUQ1VUX0hJR0hMSUdIVFwiXG4gICAgICAgICAgICAgICAgcG9zaXRpb249XCJpbnNldC1ibG9jay1lbmQgaW5zZXQtaW5saW5lLXN0YXJ0XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvTWVzc2FnZVdyYXBwZXI+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAge2ltcHJlc3Npb25TdGF0c31cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbn1cblRvcFNpdGVMaW5rLmRlZmF1bHRQcm9wcyA9IHtcbiAgdGl0bGU6IFwiXCIsXG4gIGxpbms6IHt9LFxuICBpc0RyYWdnYWJsZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjbGFzcyBUb3BTaXRlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IHNob3dDb250ZXh0TWVudTogZmFsc2UgfTtcbiAgICB0aGlzLm9uTGlua0NsaWNrID0gdGhpcy5vbkxpbmtDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25NZW51VXBkYXRlID0gdGhpcy5vbk1lbnVVcGRhdGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvcnQgdG8gdGVsZW1ldHJ5IGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGl0ZW0uXG4gICAqL1xuICBfZ2V0VGVsZW1ldHJ5SW5mbygpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHsgaWNvbl90eXBlOiB0aGlzLnByb3BzLmxpbmsuaWNvblR5cGUgfTtcbiAgICAvLyBGaWx0ZXIgb3V0IFwibm90X3Bpbm5lZFwiIHR5cGUgZm9yIGJlaW5nIHRoZSBkZWZhdWx0XG4gICAgaWYgKHRoaXMucHJvcHMubGluay5pc1Bpbm5lZCkge1xuICAgICAgdmFsdWUuY2FyZF90eXBlID0gXCJwaW5uZWRcIjtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICAvLyBTZXQgdGhlIGNhcmRfdHlwZSBhcyBcInNlYXJjaFwiIHJlZ2FyZGxlc3Mgb2YgaXRzIHBpbm5pbmcgc3RhdHVzXG4gICAgICB2YWx1ZS5jYXJkX3R5cGUgPSBcInNlYXJjaFwiO1xuICAgICAgdmFsdWUuc2VhcmNoX3ZlbmRvciA9IHRoaXMucHJvcHMubGluay5ob3N0bmFtZTtcbiAgICB9XG4gICAgaWYgKGlzU3BvbnNvcmVkKHRoaXMucHJvcHMubGluaykpIHtcbiAgICAgIHZhbHVlLmNhcmRfdHlwZSA9IFwic3BvY1wiO1xuICAgIH1cbiAgICByZXR1cm4geyB2YWx1ZSB9O1xuICB9XG5cbiAgdXNlckV2ZW50KGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudChcbiAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRoaXMuX2dldFRlbGVtZXRyeUluZm8oKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgdGhpcy51c2VyRXZlbnQoXCJDTElDS1wiKTtcblxuICAgIC8vIFNwZWNpYWxseSBoYW5kbGUgYSB0b3Agc2l0ZSBsaW5rIGNsaWNrIGZvciBcInR5cGVkXCIgZnJlY2VuY3kgYm9udXMgYXNcbiAgICAvLyBzcGVjaWZpZWQgYXMgYSBwcm9wZXJ0eSBvbiB0aGUgbGluay5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHsgYWx0S2V5LCBidXR0b24sIGN0cmxLZXksIG1ldGFLZXksIHNoaWZ0S2V5IH0gPSBldmVudDtcbiAgICBpZiAoIXRoaXMucHJvcHMubGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5PUEVOX0xJTkssXG4gICAgICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih0aGlzLnByb3BzLmxpbmssIHtcbiAgICAgICAgICAgIGV2ZW50OiB7IGFsdEtleSwgYnV0dG9uLCBjdHJsS2V5LCBtZXRhS2V5LCBzaGlmdEtleSB9LFxuICAgICAgICAgICAgaXNfc3BvbnNvcmVkOiAhIXRoaXMucHJvcHMubGluay5zcG9uc29yZWRfdGlsZV9pZCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmxpbmsudHlwZSA9PT0gU1BPQ19UWVBFKSB7XG4gICAgICAgIC8vIFJlY29yZCBhIFBvY2tldC1zcGVjaWZpYyBjbGljay5cbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgICAgc291cmNlOiBUT1BfU0lURVNfU09VUkNFLFxuICAgICAgICAgICAgY2xpY2s6IDAsXG4gICAgICAgICAgICB0aWxlczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMucHJvcHMubGluay5pZCxcbiAgICAgICAgICAgICAgICBwb3M6IHRoaXMucHJvcHMubGluay5wb3MsXG4gICAgICAgICAgICAgICAgc2hpbTogdGhpcy5wcm9wcy5saW5rLnNoaW0gJiYgdGhpcy5wcm9wcy5saW5rLnNoaW0uY2xpY2ssXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gUmVjb3JkIGEgY2xpY2sgZm9yIGEgUG9ja2V0IHNwb25zb3JlZCB0aWxlLlxuICAgICAgICAvLyBUaGlzIGZpcnN0IGV2ZW50IGlzIGZvciB0aGUgc2hpbSBwcm9wZXJ0eVxuICAgICAgICAvLyBhbmQgaXMgdXNlZCBieSBvdXIgYWQgc2VydmljZSBwcm92aWRlci5cbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICAgIGFjdGlvbl9wb3NpdGlvbjogdGhpcy5wcm9wcy5saW5rLnBvcyxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgIGNhcmRfdHlwZTogXCJzcG9jXCIsXG4gICAgICAgICAgICAgIHRpbGVfaWQ6IHRoaXMucHJvcHMubGluay5pZCxcbiAgICAgICAgICAgICAgc2hpbTogdGhpcy5wcm9wcy5saW5rLnNoaW0gJiYgdGhpcy5wcm9wcy5saW5rLnNoaW0uY2xpY2ssXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQSBzZWNvbmQgZXZlbnQgaXMgcmVjb2RlZCBmb3IgaW50ZXJuYWwgdXNhZ2UuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gdGhpcy5wcm9wcy5saW5rLmxhYmVsIHx8IHRoaXMucHJvcHMubGluay5ob3N0bmFtZTtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19TUE9OU09SRURfSU1QUkVTU0lPTl9TVEFUUyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5saW5rLnBvcyxcbiAgICAgICAgICAgICAgdGlsZV9pZDogdGhpcy5wcm9wcy5saW5rLmlkLFxuICAgICAgICAgICAgICBhZHZlcnRpc2VyOiB0aXRsZS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBzb3VyY2U6IE5FV1RBQl9TT1VSQ0UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3BvbnNvcmVkKHRoaXMucHJvcHMubGluaykpIHtcbiAgICAgICAgLy8gUmVjb3JkIGEgY2xpY2sgZm9yIGEgbm9uLVBvY2tldCBzcG9uc29yZWQgdGlsZS5cbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLnByb3BzLmxpbmsubGFiZWwgfHwgdGhpcy5wcm9wcy5saW5rLmhvc3RuYW1lO1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX1NQT05TT1JFRF9JTVBSRVNTSU9OX1NUQVRTLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB0eXBlOiBcImNsaWNrXCIsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnByb3BzLmluZGV4LFxuICAgICAgICAgICAgICB0aWxlX2lkOiB0aGlzLnByb3BzLmxpbmsuc3BvbnNvcmVkX3RpbGVfaWQgfHwgLTEsXG4gICAgICAgICAgICAgIHJlcG9ydGluZ191cmw6IHRoaXMucHJvcHMubGluay5zcG9uc29yZWRfY2xpY2tfdXJsLFxuICAgICAgICAgICAgICBhZHZlcnRpc2VyOiB0aXRsZS50b0xvY2FsZUxvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICBzb3VyY2U6IE5FV1RBQl9TT1VSQ0UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZWNvcmQgYSBjbGljayBmb3IgYW4gb3JnYW5pYyB0aWxlLlxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX09SR0FOSUNfSU1QUkVTU0lPTl9TVEFUUyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgICAgc291cmNlOiBORVdUQUJfU09VUkNFLFxuICAgICAgICAgICAgICBpc1Bpbm5lZDogdGhpcy5wcm9wcy5saW5rLmlzUGlubmVkLFxuICAgICAgICAgICAgICBndWlkOiB0aGlzLnByb3BzLmxpbmsuZ3VpZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucHJvcHMubGluay5zZW5kQXR0cmlidXRpb25SZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5QQVJUTkVSX0xJTktfQVRUUklCVVRJT04sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHRhcmdldFVSTDogdGhpcy5wcm9wcy5saW5rLnVybCxcbiAgICAgICAgICAgICAgc291cmNlOiBcIm5ld3RhYlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5GSUxMX1NFQVJDSF9URVJNLFxuICAgICAgICAgIGRhdGE6IHsgbGFiZWw6IHRoaXMucHJvcHMubGluay5sYWJlbCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBvbk1lbnVVcGRhdGUoaXNPcGVuKSB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2YXRlKHRoaXMucHJvcHMuaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLm9uQWN0aXZhdGUoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7IGxpbmsgfSA9IHByb3BzO1xuICAgIGNvbnN0IGlzQ29udGV4dE1lbnVPcGVuID0gcHJvcHMuYWN0aXZlSW5kZXggPT09IHByb3BzLmluZGV4O1xuICAgIGNvbnN0IHRpdGxlID0gbGluay5sYWJlbCB8fCBsaW5rLnRpdGxlIHx8IGxpbmsuaG9zdG5hbWU7XG4gICAgbGV0IG1lbnVPcHRpb25zO1xuICAgIGlmIChsaW5rLnNwb25zb3JlZF9wb3NpdGlvbikge1xuICAgICAgbWVudU9wdGlvbnMgPSBUT1BfU0lURVNfU1BPTlNPUkVEX1BPU0lUSU9OX0NPTlRFWFRfTUVOVV9PUFRJT05TO1xuICAgIH0gZWxzZSBpZiAobGluay5zZWFyY2hUb3BTaXRlKSB7XG4gICAgICBtZW51T3B0aW9ucyA9IFRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TO1xuICAgIH0gZWxzZSBpZiAobGluay50eXBlID09PSBTUE9DX1RZUEUpIHtcbiAgICAgIG1lbnVPcHRpb25zID0gVE9QX1NJVEVTX1NQT0NfQ09OVEVYVF9NRU5VX09QVElPTlM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lbnVPcHRpb25zID0gVE9QX1NJVEVTX0NPTlRFWFRfTUVOVV9PUFRJT05TO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8VG9wU2l0ZUxpbmtcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBvbkNsaWNrPXt0aGlzLm9uTGlua0NsaWNrfVxuICAgICAgICBvbkRyYWdFdmVudD17dGhpcy5wcm9wcy5vbkRyYWdFdmVudH1cbiAgICAgICAgY2xhc3NOYW1lPXtgJHtwcm9wcy5jbGFzc05hbWUgfHwgXCJcIn0ke1xuICAgICAgICAgIGlzQ29udGV4dE1lbnVPcGVuID8gXCIgYWN0aXZlXCIgOiBcIlwiXG4gICAgICAgIH1gfVxuICAgICAgICB0aXRsZT17dGl0bGV9XG4gICAgICAgIHNldFByZWY9e3RoaXMucHJvcHMuc2V0UHJlZn1cbiAgICAgICAgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG4gICAgICAgIG9uRm9jdXM9e3RoaXMucHJvcHMub25Gb2N1c31cbiAgICAgID5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8Q29udGV4dE1lbnVCdXR0b25cbiAgICAgICAgICAgIHRvb2x0aXA9XCJuZXd0YWItbWVudS1jb250ZW50LXRvb2x0aXBcIlxuICAgICAgICAgICAgdG9vbHRpcEFyZ3M9e3sgdGl0bGUgfX1cbiAgICAgICAgICAgIG9uVXBkYXRlPXt0aGlzLm9uTWVudVVwZGF0ZX1cbiAgICAgICAgICAgIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuICAgICAgICAgICAgb25Gb2N1cz17dGhpcy5wcm9wcy5vbkZvY3VzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGluZGV4PXtwcm9wcy5pbmRleH1cbiAgICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25NZW51VXBkYXRlfVxuICAgICAgICAgICAgICBvcHRpb25zPXttZW51T3B0aW9uc31cbiAgICAgICAgICAgICAgc2l0ZT17bGlua31cbiAgICAgICAgICAgICAgc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cz17bGluay50eXBlID09PSBTUE9DX1RZUEV9XG4gICAgICAgICAgICAgIHNpdGVJbmZvPXt0aGlzLl9nZXRUZWxlbWV0cnlJbmZvKCl9XG4gICAgICAgICAgICAgIHNvdXJjZT17VE9QX1NJVEVTX1NPVVJDRX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Db250ZXh0TWVudUJ1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1RvcFNpdGVMaW5rPlxuICAgICk7XG4gIH1cbn1cblRvcFNpdGUuZGVmYXVsdFByb3BzID0ge1xuICBsaW5rOiB7fSxcbiAgb25BY3RpdmF0ZSgpIHt9LFxufTtcblxuZXhwb3J0IGNsYXNzIFRvcFNpdGVBZGRCdXR0b24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5vbkVkaXRCdXR0b25DbGljayA9IHRoaXMub25FZGl0QnV0dG9uQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uRWRpdEJ1dHRvbkNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goe1xuICAgICAgdHlwZTogYXQuVE9QX1NJVEVTX0VESVQsXG4gICAgICBkYXRhOiB7IGluZGV4OiB0aGlzLnByb3BzLmluZGV4IH0sXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb3BTaXRlTGlua1xuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgaXNBZGRCdXR0b249e3RydWV9XG4gICAgICAgIGNsYXNzTmFtZT17YGFkZC1idXR0b24gJHt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCBcIlwifWB9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMub25FZGl0QnV0dG9uQ2xpY2t9XG4gICAgICAgIHNldFByZWY9e3RoaXMucHJvcHMuc2V0UHJlZn1cbiAgICAgICAgaXNEcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgICB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9wU2l0ZVBsYWNlaG9sZGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRvcFNpdGVMaW5rXG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBjbGFzc05hbWU9e2BwbGFjZWhvbGRlciAke3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8IFwiXCJ9YH1cbiAgICAgICAgaXNEcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBfVG9wU2l0ZUxpc3QgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgc3RhdGljIGdldCBERUZBVUxUX1NUQVRFKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVJbmRleDogbnVsbCxcbiAgICAgIGRyYWdnZWRJbmRleDogbnVsbCxcbiAgICAgIGRyYWdnZWRTaXRlOiBudWxsLFxuICAgICAgZHJhZ2dlZFRpdGxlOiBudWxsLFxuICAgICAgdG9wU2l0ZXNQcmV2aWV3OiBudWxsLFxuICAgICAgZm9jdXNlZEluZGV4OiAwLFxuICAgIH07XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0gX1RvcFNpdGVMaXN0LkRFRkFVTFRfU1RBVEU7XG4gICAgdGhpcy5vbkRyYWdFdmVudCA9IHRoaXMub25EcmFnRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQWN0aXZhdGUgPSB0aGlzLm9uQWN0aXZhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV3JhcHBlckZvY3VzID0gdGhpcy5vbldyYXBwZXJGb2N1cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Ub3BzaXRlRm9jdXMgPSB0aGlzLm9uVG9wc2l0ZUZvY3VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbldyYXBwZXJCbHVyID0gdGhpcy5vbldyYXBwZXJCbHVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleURvd24gPSB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZSkge1xuICAgICAgY29uc3QgcHJldlRvcFNpdGVzID0gdGhpcy5wcm9wcy5Ub3BTaXRlcyAmJiB0aGlzLnByb3BzLlRvcFNpdGVzLnJvd3M7XG4gICAgICBjb25zdCBuZXdUb3BTaXRlcyA9IG5leHRQcm9wcy5Ub3BTaXRlcyAmJiBuZXh0UHJvcHMuVG9wU2l0ZXMucm93cztcbiAgICAgIGlmIChcbiAgICAgICAgcHJldlRvcFNpdGVzICYmXG4gICAgICAgIHByZXZUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0gJiZcbiAgICAgICAgcHJldlRvcFNpdGVzW3RoaXMuc3RhdGUuZHJhZ2dlZEluZGV4XS51cmwgPT09XG4gICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS51cmwgJiZcbiAgICAgICAgKCFuZXdUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0gfHxcbiAgICAgICAgICBuZXdUb3BTaXRlc1t0aGlzLnN0YXRlLmRyYWdnZWRJbmRleF0udXJsICE9PVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZS51cmwpXG4gICAgICApIHtcbiAgICAgICAgLy8gV2UgZ290IHRoZSBuZXcgb3JkZXIgZnJvbSB0aGUgcmVkdXggc3RvcmUgdmlhIHByb3BzLiBXZSBjYW4gY2xlYXIgc3RhdGUgbm93LlxuICAgICAgICB0aGlzLnNldFN0YXRlKF9Ub3BTaXRlTGlzdC5ERUZBVUxUX1NUQVRFKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB1c2VyRXZlbnQoZXZlbnQsIGluZGV4KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgIGFjdGlvbl9wb3NpdGlvbjogaW5kZXgsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBvbkRyYWdFdmVudChldmVudCwgaW5kZXgsIGxpbmssIHRpdGxlKSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgIHRoaXMuZHJvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBkcmFnZ2VkSW5kZXg6IGluZGV4LFxuICAgICAgICAgIGRyYWdnZWRTaXRlOiBsaW5rLFxuICAgICAgICAgIGRyYWdnZWRUaXRsZTogdGl0bGUsXG4gICAgICAgICAgYWN0aXZlSW5kZXg6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVzZXJFdmVudChcIkRSQUdcIiwgaW5kZXgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgIGlmICghdGhpcy5kcm9wcGVkKSB7XG4gICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGRyb3AgZXZlbnQsIHJlc2V0IHRoZSBzdGF0ZSB0byB0aGUgZGVmYXVsdC5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKF9Ub3BTaXRlTGlzdC5ERUZBVUxUX1NUQVRFKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0b3BTaXRlc1ByZXZpZXc6IG51bGwgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB0b3BTaXRlc1ByZXZpZXc6IHRoaXMuX21ha2VUb3BTaXRlc1ByZXZpZXcoaW5kZXgpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRyb3BcIjpcbiAgICAgICAgaWYgKGluZGV4ICE9PSB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCkge1xuICAgICAgICAgIHRoaXMuZHJvcHBlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgICB0eXBlOiBhdC5UT1BfU0lURVNfSU5TRVJULFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgc2l0ZToge1xuICAgICAgICAgICAgICAgICAgdXJsOiB0aGlzLnN0YXRlLmRyYWdnZWRTaXRlLnVybCxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLnN0YXRlLmRyYWdnZWRUaXRsZSxcbiAgICAgICAgICAgICAgICAgIGN1c3RvbVNjcmVlbnNob3RVUkw6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCxcbiAgICAgICAgICAgICAgICAgIC8vIE9ubHkgaWYgdGhlIHNlYXJjaCB0b3BzaXRlcyBleHBlcmltZW50IGlzIGVuYWJsZWRcbiAgICAgICAgICAgICAgICAgIC4uLih0aGlzLnN0YXRlLmRyYWdnZWRTaXRlLnNlYXJjaFRvcFNpdGUgJiYge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hUb3BTaXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICBkcmFnZ2VkRnJvbUluZGV4OiB0aGlzLnN0YXRlLmRyYWdnZWRJbmRleCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnVzZXJFdmVudChcIkRST1BcIiwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRUb3BTaXRlcygpIHtcbiAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgc2l0ZXMgdG8gdHJ1bmNhdGUgb3IgZXh0ZW5kIHRvIGRlc2lyZWQgbGVuZ3RoXG4gICAgbGV0IHRvcFNpdGVzID0gdGhpcy5wcm9wcy5Ub3BTaXRlcy5yb3dzLnNsaWNlKCk7XG4gICAgdG9wU2l0ZXMubGVuZ3RoID0gdGhpcy5wcm9wcy5Ub3BTaXRlc1Jvd3MgKiBUT1BfU0lURVNfTUFYX1NJVEVTX1BFUl9ST1c7XG4gICAgLy8gaWYgdG9wU2l0ZXMgZG8gbm90IGZpbGwgYW4gZW50aXJlIHJvdyBhZGQgJ0FkZCBzaG9ydGN1dCcgYnV0dG9uIHRvIGFycmF5IG9mIHRvcFNpdGVzXG4gICAgLy8gKHRoZXJlIHNob3VsZCBvbmx5IGJlIG9uZSBvZiB0aGVzZSlcbiAgICBsZXQgZmlyc3RQbGFjZWhvbGRlciA9IHRvcFNpdGVzLmZpbmRJbmRleChPYmplY3QuaXMuYmluZChudWxsLCB1bmRlZmluZWQpKTtcbiAgICAvLyBtYWtlIHN1cmUgcGxhY2Vob2xkZXIgZXhpc3RzIGFuZCB0aGVyZSBhbHJlYWR5IGlzbnQgYSBhZGQgYnV0dG9uXG4gICAgaWYgKGZpcnN0UGxhY2Vob2xkZXIgJiYgIXRvcFNpdGVzLmluY2x1ZGVzKHNpdGUgPT4gc2l0ZS5pc0FkZEJ1dHRvbikpIHtcbiAgICAgIHRvcFNpdGVzW2ZpcnN0UGxhY2Vob2xkZXJdID0geyBpc0FkZEJ1dHRvbjogdHJ1ZSB9O1xuICAgIH0gZWxzZSBpZiAodG9wU2l0ZXMuaW5jbHVkZXMoc2l0ZSA9PiBzaXRlLmlzQWRkQnV0dG9uKSkge1xuICAgICAgdG9wU2l0ZXMucHVzaChcbiAgICAgICAgdG9wU2l0ZXMuc3BsaWNlKHRvcFNpdGVzLmluZGV4T2YoeyBpc0FkZEJ1dHRvbjogdHJ1ZSB9KSwgMSlbMF1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0b3BTaXRlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgcHJldmlldyBvZiB0aGUgdG9wc2l0ZXMgdGhhdCB3aWxsIGJlIHRoZSByZXN1bHQgb2YgZHJvcHBpbmcgdGhlIGN1cnJlbnRseVxuICAgKiBkcmFnZ2VkIHNpdGUgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICovXG4gIF9tYWtlVG9wU2l0ZXNQcmV2aWV3KGluZGV4KSB7XG4gICAgY29uc3QgdG9wU2l0ZXMgPSB0aGlzLl9nZXRUb3BTaXRlcygpO1xuICAgIHRvcFNpdGVzW3RoaXMuc3RhdGUuZHJhZ2dlZEluZGV4XSA9IG51bGw7XG4gICAgY29uc3QgcHJldmlldyA9IHRvcFNpdGVzLm1hcChzaXRlID0+XG4gICAgICBzaXRlICYmIChzaXRlLmlzUGlubmVkIHx8IGlzU3BvbnNvcmVkKHNpdGUpKSA/IHNpdGUgOiBudWxsXG4gICAgKTtcbiAgICBjb25zdCB1bnBpbm5lZCA9IHRvcFNpdGVzLmZpbHRlcihcbiAgICAgIHNpdGUgPT4gc2l0ZSAmJiAhc2l0ZS5pc1Bpbm5lZCAmJiAhaXNTcG9uc29yZWQoc2l0ZSlcbiAgICApO1xuICAgIGNvbnN0IHNpdGVUb0luc2VydCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZHJhZ2dlZFNpdGUsIHtcbiAgICAgIGlzUGlubmVkOiB0cnVlLFxuICAgICAgaXNEcmFnZ2VkOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgaWYgKCFwcmV2aWV3W2luZGV4XSkge1xuICAgICAgcHJldmlld1tpbmRleF0gPSBzaXRlVG9JbnNlcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZpbmQgdGhlIGhvbGUgdG8gc2hpZnQgdGhlIHBpbm5lZCBzaXRlKHMpIHRvd2FyZHMuIFdlIHNoaWZ0IHRvd2FyZHMgdGhlXG4gICAgICAvLyBob2xlIGxlZnQgYnkgdGhlIHNpdGUgYmVpbmcgZHJhZ2dlZC5cbiAgICAgIGxldCBob2xlSW5kZXggPSBpbmRleDtcbiAgICAgIGNvbnN0IGluZGV4U3RlcCA9IGluZGV4ID4gdGhpcy5zdGF0ZS5kcmFnZ2VkSW5kZXggPyAtMSA6IDE7XG4gICAgICB3aGlsZSAocHJldmlld1tob2xlSW5kZXhdKSB7XG4gICAgICAgIGhvbGVJbmRleCArPSBpbmRleFN0ZXA7XG4gICAgICB9XG5cbiAgICAgIC8vIFNoaWZ0IHRvd2FyZHMgdGhlIGhvbGUuXG4gICAgICBjb25zdCBzaGlmdGluZ1N0ZXAgPSBpbmRleCA+IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4ID8gMSA6IC0xO1xuICAgICAgd2hpbGUgKFxuICAgICAgICBpbmRleCA+IHRoaXMuc3RhdGUuZHJhZ2dlZEluZGV4ID8gaG9sZUluZGV4IDwgaW5kZXggOiBob2xlSW5kZXggPiBpbmRleFxuICAgICAgKSB7XG4gICAgICAgIGxldCBuZXh0SW5kZXggPSBob2xlSW5kZXggKyBzaGlmdGluZ1N0ZXA7XG4gICAgICAgIHdoaWxlIChpc1Nwb25zb3JlZChwcmV2aWV3W25leHRJbmRleF0pKSB7XG4gICAgICAgICAgbmV4dEluZGV4ICs9IHNoaWZ0aW5nU3RlcDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aWV3W2hvbGVJbmRleF0gPSBwcmV2aWV3W25leHRJbmRleF07XG4gICAgICAgIGhvbGVJbmRleCA9IG5leHRJbmRleDtcbiAgICAgIH1cbiAgICAgIHByZXZpZXdbaW5kZXhdID0gc2l0ZVRvSW5zZXJ0O1xuICAgIH1cblxuICAgIC8vIEZpbGwgaW4gdGhlIHJlbWFpbmluZyBob2xlcyB3aXRoIHVucGlubmVkIHNpdGVzLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFwcmV2aWV3W2ldKSB7XG4gICAgICAgIHByZXZpZXdbaV0gPSB1bnBpbm5lZC5zaGlmdCgpIHx8IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHByZXZpZXc7XG4gIH1cblxuICBvbkFjdGl2YXRlKGluZGV4KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZUluZGV4OiBpbmRleCB9KTtcbiAgfVxuXG4gIG9uS2V5RG93bihlKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYWN0aXZlSW5kZXggfHwgdGhpcy5zdGF0ZS5hY3RpdmVJbmRleCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd0Rvd25cIiB8fCBlLmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgIC8vIHByZXZlbnQgdGhlIHBhZ2UgZnJvbSBzY3JvbGxpbmcgdXAvZG93biB3aGlsZSBuYXZpZ2F0aW5nLlxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuZm9jdXNlZFJlZj8ubmV4dFNpYmxpbmc/LnF1ZXJ5U2VsZWN0b3IoXCJhXCIpICYmXG4gICAgICBlLmtleSA9PT0gXCJBcnJvd0Rvd25cIlxuICAgICkge1xuICAgICAgdGhpcy5mb2N1c2VkUmVmLm5leHRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpLnRhYkluZGV4ID0gMDtcbiAgICAgIHRoaXMuZm9jdXNlZFJlZi5uZXh0U2libGluZy5xdWVyeVNlbGVjdG9yKFwiYVwiKS5mb2N1cygpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLmZvY3VzZWRSZWY/LnByZXZpb3VzU2libGluZz8ucXVlcnlTZWxlY3RvcihcImFcIikgJiZcbiAgICAgIGUua2V5ID09PSBcIkFycm93VXBcIlxuICAgICkge1xuICAgICAgdGhpcy5mb2N1c2VkUmVmLnByZXZpb3VzU2libGluZy5xdWVyeVNlbGVjdG9yKFwiYVwiKS50YWJJbmRleCA9IDA7XG4gICAgICB0aGlzLmZvY3VzZWRSZWYucHJldmlvdXNTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgb25XcmFwcGVyRm9jdXMoKSB7XG4gICAgdGhpcy5mb2N1c1JlZj8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICB9XG4gIG9uV3JhcHBlckJsdXIoKSB7XG4gICAgdGhpcy5mb2N1c1JlZj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICB9XG4gIG9uVG9wc2l0ZUZvY3VzKGZvY3VzSW5kZXgpIHtcbiAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7XG4gICAgICBmb2N1c2VkSW5kZXg6IGZvY3VzSW5kZXgsXG4gICAgfSkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgdG9wU2l0ZXMgPSB0aGlzLnN0YXRlLnRvcFNpdGVzUHJldmlldyB8fCB0aGlzLl9nZXRUb3BTaXRlcygpO1xuICAgIGNvbnN0IHRvcFNpdGVzVUkgPSBbXTtcbiAgICBjb25zdCBjb21tb25Qcm9wcyA9IHtcbiAgICAgIG9uRHJhZ0V2ZW50OiB0aGlzLm9uRHJhZ0V2ZW50LFxuICAgICAgZGlzcGF0Y2g6IHByb3BzLmRpc3BhdGNoLFxuICAgIH07XG4gICAgLy8gV2UgYXNzaWduIGEga2V5IHRvIGVhY2ggcGxhY2Vob2xkZXIgc2xvdC4gV2UgbmVlZCBpdCB0byBiZSBpbmRlcGVuZGVudFxuICAgIC8vIG9mIHRoZSBzbG90IGluZGV4IChpIGJlbG93KSBzbyB0aGF0IHRoZSBrZXlzIHVzZWQgc3RheSB0aGUgc2FtZSBkdXJpbmdcbiAgICAvLyBkcmFnIGFuZCBkcm9wIHJlb3JkZXJpbmcgYW5kIHRoZSB1bmRlcmx5aW5nIERPTSBub2RlcyBhcmUgcmV1c2VkLlxuICAgIC8vIFRoaXMgbW9zdGx5IChvbmx5PykgYWZmZWN0cyBsaW51eCBzbyBiZSBzdXJlIHRvIHRlc3Qgb24gbGludXggYmVmb3JlIGNoYW5naW5nLlxuICAgIGxldCBob2xlSW5kZXggPSAwO1xuXG4gICAgLy8gT24gbmFycm93IHZpZXdwb3J0cywgd2Ugb25seSBzaG93IDYgc2l0ZXMgcGVyIHJvdy4gV2UnbGwgbWFyayB0aGUgcmVzdCBhc1xuICAgIC8vIC5oaWRlLWZvci1uYXJyb3cgdG8gaGlkZSBpbiBDU1MgdmlhIEBtZWRpYSBxdWVyeS5cbiAgICBjb25zdCBtYXhOYXJyb3dWaXNpYmxlSW5kZXggPSBwcm9wcy5Ub3BTaXRlc1Jvd3MgKiA2O1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0b3BTaXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmsgPVxuICAgICAgICB0b3BTaXRlc1tpXSAmJlxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0b3BTaXRlc1tpXSwge1xuICAgICAgICAgIGljb25UeXBlOiB0aGlzLnByb3BzLnRvcFNpdGVJY29uVHlwZSh0b3BTaXRlc1tpXSksXG4gICAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzbG90UHJvcHMgPSB7XG4gICAgICAgIGtleTogbGluayA/IGxpbmsudXJsIDogaG9sZUluZGV4KyssXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgfTtcbiAgICAgIGlmIChpID49IG1heE5hcnJvd1Zpc2libGVJbmRleCkge1xuICAgICAgICBzbG90UHJvcHMuY2xhc3NOYW1lID0gXCJoaWRlLWZvci1uYXJyb3dcIjtcbiAgICAgIH1cblxuICAgICAgbGV0IHRvcFNpdGVMaW5rO1xuICAgICAgLy8gVXNlIGEgcGxhY2Vob2xkZXIgaWYgdGhlIGxpbmsgaXMgZW1wdHkgb3IgaXQncyByZW5kZXJpbmcgYSBzcG9uc29yZWRcbiAgICAgIC8vIHRpbGUgZm9yIHRoZSBhYm91dDpob21lIHN0YXJ0dXAgY2FjaGUuXG4gICAgICBpZiAoXG4gICAgICAgICFsaW5rIHx8XG4gICAgICAgIChwcm9wcy5BcHAuaXNGb3JTdGFydHVwQ2FjaGUuVG9wU2l0ZXMgJiYgaXNTcG9uc29yZWQobGluaykpXG4gICAgICApIHtcbiAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICB0b3BTaXRlTGluayA9IDxUb3BTaXRlUGxhY2Vob2xkZXIgey4uLnNsb3RQcm9wc30gey4uLmNvbW1vblByb3BzfSAvPjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0b3BTaXRlc1tpXT8uaXNBZGRCdXR0b24pIHtcbiAgICAgICAgdG9wU2l0ZUxpbmsgPSAoXG4gICAgICAgICAgPFRvcFNpdGVBZGRCdXR0b25cbiAgICAgICAgICAgIHsuLi5zbG90UHJvcHN9XG4gICAgICAgICAgICB7Li4uY29tbW9uUHJvcHN9XG4gICAgICAgICAgICBzZXRSZWY9e1xuICAgICAgICAgICAgICBpID09PSB0aGlzLnN0YXRlLmZvY3VzZWRJbmRleFxuICAgICAgICAgICAgICAgID8gZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWRSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6ICgpID0+IHt9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWJJbmRleD17aSA9PT0gdGhpcy5zdGF0ZS5mb2N1c2VkSW5kZXggPyAwIDogLTF9XG4gICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMub25Ub3BzaXRlRm9jdXMoaSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgTWVzc2FnZXM9e3RoaXMucHJvcHMuTWVzc2FnZXN9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvcFNpdGVMaW5rID0gKFxuICAgICAgICAgIDxUb3BTaXRlXG4gICAgICAgICAgICBsaW5rPXtsaW5rfVxuICAgICAgICAgICAgYWN0aXZlSW5kZXg9e3RoaXMuc3RhdGUuYWN0aXZlSW5kZXh9XG4gICAgICAgICAgICBvbkFjdGl2YXRlPXt0aGlzLm9uQWN0aXZhdGV9XG4gICAgICAgICAgICB7Li4uc2xvdFByb3BzfVxuICAgICAgICAgICAgey4uLmNvbW1vblByb3BzfVxuICAgICAgICAgICAgY29sb3JzPXtwcm9wcy5jb2xvcnN9XG4gICAgICAgICAgICBzZXRSZWY9e1xuICAgICAgICAgICAgICBpID09PSB0aGlzLnN0YXRlLmZvY3VzZWRJbmRleFxuICAgICAgICAgICAgICAgID8gZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWRSZWYgPSBlbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6ICgpID0+IHt9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWJJbmRleD17aSA9PT0gdGhpcy5zdGF0ZS5mb2N1c2VkSW5kZXggPyAwIDogLTF9XG4gICAgICAgICAgICBvbkZvY3VzPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMub25Ub3BzaXRlRm9jdXMoaSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRvcFNpdGVzVUkucHVzaCh0b3BTaXRlTGluayk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zaXRlcy1saXN0LXdyYXBwZXJcIj5cbiAgICAgICAgPHVsXG4gICAgICAgICAgcm9sZT1cImdyb3VwXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiU2hvcnRjdXRzXCJcbiAgICAgICAgICBvbkZvY3VzPXt0aGlzLm9uV3JhcHBlckZvY3VzfVxuICAgICAgICAgIG9uQmx1cj17dGhpcy5vbldyYXBwZXJCbHVyfVxuICAgICAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb2N1c1JlZiA9IGVsO1xuICAgICAgICAgIH19XG4gICAgICAgICAgY2xhc3NOYW1lPXtgdG9wLXNpdGVzLWxpc3Qke1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcmFnZ2VkU2l0ZSA/IFwiIGRuZC1hY3RpdmVcIiA6IFwiXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIHt0b3BTaXRlc1VJfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgVG9wU2l0ZUxpc3QgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIEFwcDogc3RhdGUuQXBwLFxuICBNZXNzYWdlczogc3RhdGUuTWVzc2FnZXMsXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfVG9wU2l0ZUxpc3QpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgQTExeUxpbmtCdXR0b24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9BMTF5TGlua0J1dHRvbi9BMTF5TGlua0J1dHRvblwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX1NPVVJDRSB9IGZyb20gXCIuL1RvcFNpdGVzQ29uc3RhbnRzXCI7XG5pbXBvcnQgeyBUb3BTaXRlRm9ybUlucHV0IH0gZnJvbSBcIi4vVG9wU2l0ZUZvcm1JbnB1dFwiO1xuaW1wb3J0IHsgVG9wU2l0ZUxpbmsgfSBmcm9tIFwiLi9Ub3BTaXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBUb3BTaXRlRm9ybSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBjb25zdCB7IHNpdGUgfSA9IHByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsYWJlbDogc2l0ZSA/IHNpdGUubGFiZWwgfHwgc2l0ZS5ob3N0bmFtZSA6IFwiXCIsXG4gICAgICB1cmw6IHNpdGUgPyBzaXRlLnVybCA6IFwiXCIsXG4gICAgICB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlLFxuICAgICAgY3VzdG9tU2NyZWVuc2hvdFVybDogc2l0ZSA/IHNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCA6IFwiXCIsXG4gICAgICBzaG93Q3VzdG9tU2NyZWVuc2hvdEZvcm06IHNpdGUgPyBzaXRlLmN1c3RvbVNjcmVlbnNob3RVUkwgOiBmYWxzZSxcbiAgICAgIGhhc1VSTENoYW5nZWQ6IGZhbHNlLFxuICAgICAgaGFzVGl0bGVDaGFuZ2VkOiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMub25DbGVhclNjcmVlbnNob3RJbnB1dCA9IHRoaXMub25DbGVhclNjcmVlbnNob3RJbnB1dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25MYWJlbENoYW5nZSA9IHRoaXMub25MYWJlbENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25VcmxDaGFuZ2UgPSB0aGlzLm9uVXJsQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrID0gdGhpcy5vbkNhbmNlbEJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsZWFyVXJsQ2xpY2sgPSB0aGlzLm9uQ2xlYXJVcmxDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Eb25lQnV0dG9uQ2xpY2sgPSB0aGlzLm9uRG9uZUJ1dHRvbkNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkN1c3RvbVNjcmVlbnNob3RVcmxDaGFuZ2UgPVxuICAgICAgdGhpcy5vbkN1c3RvbVNjcmVlbnNob3RVcmxDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uUHJldmlld0J1dHRvbkNsaWNrID0gdGhpcy5vblByZXZpZXdCdXR0b25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25FbmFibGVTY3JlZW5zaG90VXJsRm9ybSA9IHRoaXMub25FbmFibGVTY3JlZW5zaG90VXJsRm9ybS5iaW5kKHRoaXMpO1xuICAgIHRoaXMudmFsaWRhdGVVcmwgPSB0aGlzLnZhbGlkYXRlVXJsLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkxhYmVsQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBsYWJlbDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgaGFzVGl0bGVDaGFuZ2VkOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgb25VcmxDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHVybDogZXZlbnQudGFyZ2V0LnZhbHVlLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICAgIGhhc1VSTENoYW5nZWQ6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvbkNsZWFyVXJsQ2xpY2soKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB1cmw6IFwiXCIsXG4gICAgICB2YWxpZGF0aW9uRXJyb3I6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgb25FbmFibGVTY3JlZW5zaG90VXJsRm9ybSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtOiB0cnVlIH0pO1xuICB9XG5cbiAgX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dChjdXN0b21TY3JlZW5zaG90VXJsKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsLFxuICAgICAgdmFsaWRhdGlvbkVycm9yOiBmYWxzZSxcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKHsgdHlwZTogYXQuUFJFVklFV19SRVFVRVNUX0NBTkNFTCB9KTtcbiAgfVxuXG4gIG9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZShldmVudCkge1xuICAgIHRoaXMuX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dChldmVudC50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgb25DbGVhclNjcmVlbnNob3RJbnB1dCgpIHtcbiAgICB0aGlzLl91cGRhdGVDdXN0b21TY3JlZW5zaG90SW5wdXQoXCJcIik7XG4gIH1cblxuICBvbkNhbmNlbEJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfVxuXG4gIG9uRG9uZUJ1dHRvbkNsaWNrKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLnZhbGlkYXRlRm9ybSgpKSB7XG4gICAgICBjb25zdCBzaXRlID0geyB1cmw6IHRoaXMuY2xlYW5VcmwodGhpcy5zdGF0ZS51cmwpIH07XG4gICAgICBjb25zdCB7IGluZGV4IH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgaXNFZGl0ID0gISF0aGlzLnByb3BzLnNpdGU7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmxhYmVsICE9PSBcIlwiKSB7XG4gICAgICAgIHNpdGUubGFiZWwgPSB0aGlzLnN0YXRlLmxhYmVsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jdXN0b21TY3JlZW5zaG90VXJsKSB7XG4gICAgICAgIHNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCA9IHRoaXMuY2xlYW5VcmwoXG4gICAgICAgICAgdGhpcy5zdGF0ZS5jdXN0b21TY3JlZW5zaG90VXJsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2l0ZSAmJiB0aGlzLnByb3BzLnNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCkge1xuICAgICAgICAvLyBVc2VkIHRvIGZsYWcgdGhhdCBwcmV2aW91c2x5IGNhY2hlZCBzY3JlZW5zaG90IHNob3VsZCBiZSByZW1vdmVkXG4gICAgICAgIHNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlRPUF9TSVRFU19QSU4sXG4gICAgICAgICAgZGF0YTogeyBzaXRlLCBpbmRleCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgaWYgKGlzRWRpdCkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgICBldmVudDogXCJUT1BfU0lURVNfRURJVFwiLFxuICAgICAgICAgICAgYWN0aW9uX3Bvc2l0aW9uOiBpbmRleCxcbiAgICAgICAgICAgIGhhc1RpdGxlQ2hhbmdlZDogdGhpcy5zdGF0ZS5oYXNUaXRsZUNoYW5nZWQsXG4gICAgICAgICAgICBoYXNVUkxDaGFuZ2VkOiB0aGlzLnN0YXRlLmhhc1VSTENoYW5nZWQsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzRWRpdCkge1xuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLlVzZXJFdmVudCh7XG4gICAgICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgICAgICBldmVudDogXCJUT1BfU0lURVNfQUREXCIsXG4gICAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IGluZGV4LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uUHJldmlld0J1dHRvbkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy52YWxpZGF0ZUZvcm0oKSkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuUFJFVklFV19SRVFVRVNULFxuICAgICAgICAgIGRhdGE6IHsgdXJsOiB0aGlzLmNsZWFuVXJsKHRoaXMuc3RhdGUuY3VzdG9tU2NyZWVuc2hvdFVybCkgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICAgIHNvdXJjZTogVE9QX1NJVEVTX1NPVVJDRSxcbiAgICAgICAgICBldmVudDogXCJQUkVWSUVXX1JFUVVFU1RcIixcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY2xlYW5VcmwodXJsKSB7XG4gICAgLy8gSWYgd2UgYXJlIG1pc3NpbmcgYSBwcm90b2NvbCwgcHJlcGVuZCBodHRwOi8vXG4gICAgaWYgKCF1cmwuc3RhcnRzV2l0aChcImh0dHA6XCIpICYmICF1cmwuc3RhcnRzV2l0aChcImh0dHBzOlwiKSkge1xuICAgICAgcmV0dXJuIGBodHRwOi8vJHt1cmx9YDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIF90cnlQYXJzZVVybCh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBVUkwodXJsKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICB2YWxpZGF0ZVVybCh1cmwpIHtcbiAgICBjb25zdCB2YWxpZFByb3RvY29scyA9IFtcImh0dHA6XCIsIFwiaHR0cHM6XCJdO1xuICAgIGNvbnN0IHVybE9iaiA9XG4gICAgICB0aGlzLl90cnlQYXJzZVVybCh1cmwpIHx8IHRoaXMuX3RyeVBhcnNlVXJsKHRoaXMuY2xlYW5VcmwodXJsKSk7XG5cbiAgICByZXR1cm4gdXJsT2JqICYmIHZhbGlkUHJvdG9jb2xzLmluY2x1ZGVzKHVybE9iai5wcm90b2NvbCk7XG4gIH1cblxuICB2YWxpZGF0ZUN1c3RvbVNjcmVlbnNob3RVcmwoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiAhY3VzdG9tU2NyZWVuc2hvdFVybCB8fCB0aGlzLnZhbGlkYXRlVXJsKGN1c3RvbVNjcmVlbnNob3RVcmwpO1xuICB9XG5cbiAgdmFsaWRhdGVGb3JtKCkge1xuICAgIGNvbnN0IHZhbGlkYXRlID1cbiAgICAgIHRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpICYmIHRoaXMudmFsaWRhdGVDdXN0b21TY3JlZW5zaG90VXJsKCk7XG5cbiAgICBpZiAoIXZhbGlkYXRlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgdmFsaWRhdGlvbkVycm9yOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZTtcbiAgfVxuXG4gIF9yZW5kZXJDdXN0b21TY3JlZW5zaG90SW5wdXQoKSB7XG4gICAgY29uc3QgeyBjdXN0b21TY3JlZW5zaG90VXJsIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHJlcXVlc3RGYWlsZWQgPSB0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSA9PT0gXCJcIjtcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3IgPVxuICAgICAgKHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmICF0aGlzLnZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCgpKSB8fFxuICAgICAgcmVxdWVzdEZhaWxlZDtcbiAgICAvLyBTZXQgZm9jdXMgb24gZXJyb3IgaWYgdGhlIHVybCBmaWVsZCBpcyB2YWxpZCBvciB3aGVuIHRoZSBpbnB1dCBpcyBmaXJzdCByZW5kZXJlZCBhbmQgaXMgZW1wdHlcbiAgICBjb25zdCBzaG91bGRGb2N1cyA9XG4gICAgICAodmFsaWRhdGlvbkVycm9yICYmIHRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpKSB8fFxuICAgICAgIWN1c3RvbVNjcmVlbnNob3RVcmw7XG4gICAgY29uc3QgaXNMb2FkaW5nID1cbiAgICAgIHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlID09PSBudWxsICYmXG4gICAgICBjdXN0b21TY3JlZW5zaG90VXJsICYmXG4gICAgICB0aGlzLnByb3BzLnByZXZpZXdVcmwgPT09IHRoaXMuY2xlYW5VcmwoY3VzdG9tU2NyZWVuc2hvdFVybCk7XG5cbiAgICBpZiAoIXRoaXMuc3RhdGUuc2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QTExeUxpbmtCdXR0b25cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uRW5hYmxlU2NyZWVuc2hvdFVybEZvcm19XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZW5hYmxlLWN1c3RvbS1pbWFnZS1pbnB1dFwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcHNpdGVzLXVzZS1pbWFnZS1saW5rXCJcbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1c3RvbS1pbWFnZS1pbnB1dC1jb250YWluZXJcIj5cbiAgICAgICAgPFRvcFNpdGVGb3JtSW5wdXRcbiAgICAgICAgICBlcnJvck1lc3NhZ2VJZD17XG4gICAgICAgICAgICByZXF1ZXN0RmFpbGVkXG4gICAgICAgICAgICAgID8gXCJuZXd0YWItdG9wc2l0ZXMtaW1hZ2UtdmFsaWRhdGlvblwiXG4gICAgICAgICAgICAgIDogXCJuZXd0YWItdG9wc2l0ZXMtdXJsLXZhbGlkYXRpb25cIlxuICAgICAgICAgIH1cbiAgICAgICAgICBsb2FkaW5nPXtpc0xvYWRpbmd9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DdXN0b21TY3JlZW5zaG90VXJsQ2hhbmdlfVxuICAgICAgICAgIG9uQ2xlYXI9e3RoaXMub25DbGVhclNjcmVlbnNob3RJbnB1dH1cbiAgICAgICAgICBzaG91bGRGb2N1cz17c2hvdWxkRm9jdXN9XG4gICAgICAgICAgdHlwZVVybD17dHJ1ZX1cbiAgICAgICAgICB2YWx1ZT17Y3VzdG9tU2NyZWVuc2hvdFVybH1cbiAgICAgICAgICB2YWxpZGF0aW9uRXJyb3I9e3ZhbGlkYXRpb25FcnJvcn1cbiAgICAgICAgICB0aXRsZUlkPVwibmV3dGFiLXRvcHNpdGVzLWltYWdlLXVybC1sYWJlbFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXJJZD1cIm5ld3RhYi10b3BzaXRlcy11cmwtaW5wdXRcIlxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGN1c3RvbVNjcmVlbnNob3RVcmwgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgcmVxdWVzdEZhaWxlZCA9IHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlID09PSBcIlwiO1xuICAgIC8vIEZvciBVSSBwdXJwb3NlcywgZWRpdGluZyB3aXRob3V0IGFuIGV4aXN0aW5nIGxpbmsgaXMgXCJhZGRcIlxuICAgIGNvbnN0IHNob3dBc0FkZCA9ICF0aGlzLnByb3BzLnNpdGU7XG4gICAgY29uc3QgcHJldmlvdXMgPVxuICAgICAgKHRoaXMucHJvcHMuc2l0ZSAmJiB0aGlzLnByb3BzLnNpdGUuY3VzdG9tU2NyZWVuc2hvdFVSTCkgfHwgXCJcIjtcbiAgICBjb25zdCBjaGFuZ2VkID1cbiAgICAgIGN1c3RvbVNjcmVlbnNob3RVcmwgJiYgdGhpcy5jbGVhblVybChjdXN0b21TY3JlZW5zaG90VXJsKSAhPT0gcHJldmlvdXM7XG4gICAgLy8gUHJldmlldyBtb2RlIGlmIGNoYW5nZXMgd2VyZSBtYWRlIHRvIHRoZSBjdXN0b20gc2NyZWVuc2hvdCBVUkwgYW5kIG5vIHByZXZpZXcgd2FzIHJlY2VpdmVkIHlldFxuICAgIC8vIG9yIHRoZSByZXF1ZXN0IGZhaWxlZFxuICAgIGNvbnN0IHByZXZpZXdNb2RlID0gY2hhbmdlZCAmJiAhdGhpcy5wcm9wcy5wcmV2aWV3UmVzcG9uc2U7XG4gICAgY29uc3QgcHJldmlld0xpbmsgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLnNpdGUpO1xuICAgIGlmICh0aGlzLnByb3BzLnByZXZpZXdSZXNwb25zZSkge1xuICAgICAgcHJldmlld0xpbmsuc2NyZWVuc2hvdCA9IHRoaXMucHJvcHMucHJldmlld1Jlc3BvbnNlO1xuICAgICAgcHJldmlld0xpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCA9IHRoaXMucHJvcHMucHJldmlld1VybDtcbiAgICB9XG4gICAgLy8gSGFuZGxlcyB0aGUgZm9ybSBzdWJtaXQgc28gYW4gZW50ZXIgcHJlc3MgcGVyZm9ybXMgdGhlIGNvcnJlY3QgYWN0aW9uXG4gICAgY29uc3Qgb25TdWJtaXQgPSBwcmV2aWV3TW9kZVxuICAgICAgPyB0aGlzLm9uUHJldmlld0J1dHRvbkNsaWNrXG4gICAgICA6IHRoaXMub25Eb25lQnV0dG9uQ2xpY2s7XG5cbiAgICBjb25zdCBhZGRUb3BzaXRlc0hlYWRlckwxMG5JZCA9IFwibmV3dGFiLXRvcHNpdGVzLWFkZC1zaG9ydGN1dC1oZWFkZXJcIjtcbiAgICBjb25zdCBlZGl0VG9wc2l0ZXNIZWFkZXJMMTBuSWQgPSBcIm5ld3RhYi10b3BzaXRlcy1lZGl0LXNob3J0Y3V0LWhlYWRlclwiO1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBjbGFzc05hbWU9XCJ0b3BzaXRlLWZvcm1cIiBvblN1Ym1pdD17b25TdWJtaXR9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0taW5wdXQtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgzXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlIGdyZXktdGl0bGVcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtcbiAgICAgICAgICAgICAgc2hvd0FzQWRkID8gYWRkVG9wc2l0ZXNIZWFkZXJMMTBuSWQgOiBlZGl0VG9wc2l0ZXNIZWFkZXJMMTBuSWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmllbGRzLWFuZC1wcmV2aWV3XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0td3JhcHBlclwiPlxuICAgICAgICAgICAgICA8VG9wU2l0ZUZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uTGFiZWxDaGFuZ2V9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubGFiZWx9XG4gICAgICAgICAgICAgICAgdGl0bGVJZD1cIm5ld3RhYi10b3BzaXRlcy10aXRsZS1sYWJlbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJJZD1cIm5ld3RhYi10b3BzaXRlcy10aXRsZS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgYXV0b0ZvY3VzT25PcGVuPXt0cnVlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8VG9wU2l0ZUZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVXJsQ2hhbmdlfVxuICAgICAgICAgICAgICAgIHNob3VsZEZvY3VzPXtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudmFsaWRhdGlvbkVycm9yICYmXG4gICAgICAgICAgICAgICAgICAhdGhpcy52YWxpZGF0ZVVybCh0aGlzLnN0YXRlLnVybClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUudXJsfVxuICAgICAgICAgICAgICAgIG9uQ2xlYXI9e3RoaXMub25DbGVhclVybENsaWNrfVxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcj17XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnZhbGlkYXRpb25FcnJvciAmJlxuICAgICAgICAgICAgICAgICAgIXRoaXMudmFsaWRhdGVVcmwodGhpcy5zdGF0ZS51cmwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRpdGxlSWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLWxhYmVsXCJcbiAgICAgICAgICAgICAgICB0eXBlVXJsPXt0cnVlfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVySWQ9XCJuZXd0YWItdG9wc2l0ZXMtdXJsLWlucHV0XCJcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2VJZD1cIm5ld3RhYi10b3BzaXRlcy11cmwtdmFsaWRhdGlvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJDdXN0b21TY3JlZW5zaG90SW5wdXQoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPFRvcFNpdGVMaW5rXG4gICAgICAgICAgICAgIGxpbms9e3ByZXZpZXdMaW5rfVxuICAgICAgICAgICAgICBkZWZhdWx0U3R5bGU9e3JlcXVlc3RGYWlsZWR9XG4gICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnN0YXRlLmxhYmVsfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cImFjdGlvbnNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYW5jZWxcIlxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsQnV0dG9uQ2xpY2t9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtY2FuY2VsLWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICB7cHJldmlld01vZGUgPyAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRvbmUgcHJldmlld1wiXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9wc2l0ZXMtcHJldmlldy1idXR0b25cIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJkb25lXCJcbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17XG4gICAgICAgICAgICAgICAgc2hvd0FzQWRkXG4gICAgICAgICAgICAgICAgICA/IFwibmV3dGFiLXRvcHNpdGVzLWFkZC1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgOiBcIm5ld3RhYi10b3BzaXRlcy1zYXZlLWJ1dHRvblwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cblxuVG9wU2l0ZUZvcm0uZGVmYXVsdFByb3BzID0ge1xuICBzaXRlOiBudWxsLFxuICBpbmRleDogLTEsXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgTUlOX1JJQ0hfRkFWSUNPTl9TSVpFLCBUT1BfU0lURVNfU09VUkNFIH0gZnJvbSBcIi4vVG9wU2l0ZXNDb25zdGFudHNcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlU2VjdGlvbiB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbGxhcHNpYmxlU2VjdGlvbi9Db2xsYXBzaWJsZVNlY3Rpb25cIjtcbmltcG9ydCB7IENvbXBvbmVudFBlcmZUaW1lciB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NvbXBvbmVudFBlcmZUaW1lci9Db21wb25lbnRQZXJmVGltZXJcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IE1vZGFsT3ZlcmxheVdyYXBwZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Nb2RhbE92ZXJsYXkvTW9kYWxPdmVybGF5XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWFyY2hTaG9ydGN1dHNGb3JtIH0gZnJvbSBcIi4vU2VhcmNoU2hvcnRjdXRzRm9ybVwiO1xuaW1wb3J0IHsgVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIH0gZnJvbSBcImNvbW1vbi9SZWR1Y2Vycy5zeXMubWpzXCI7XG5pbXBvcnQgeyBUb3BTaXRlRm9ybSB9IGZyb20gXCIuL1RvcFNpdGVGb3JtXCI7XG5pbXBvcnQgeyBUb3BTaXRlTGlzdCB9IGZyb20gXCIuL1RvcFNpdGVcIjtcblxuZnVuY3Rpb24gdG9wU2l0ZUljb25UeXBlKGxpbmspIHtcbiAgaWYgKGxpbmsuY3VzdG9tU2NyZWVuc2hvdFVSTCkge1xuICAgIHJldHVybiBcImN1c3RvbV9zY3JlZW5zaG90XCI7XG4gIH1cbiAgaWYgKGxpbmsudGlwcHlUb3BJY29uIHx8IGxpbmsuZmF2aWNvblJlZiA9PT0gXCJ0aXBweXRvcFwiKSB7XG4gICAgcmV0dXJuIFwidGlwcHl0b3BcIjtcbiAgfVxuICBpZiAobGluay5mYXZpY29uU2l6ZSA+PSBNSU5fUklDSF9GQVZJQ09OX1NJWkUpIHtcbiAgICByZXR1cm4gXCJyaWNoX2ljb25cIjtcbiAgfVxuICBpZiAobGluay5zY3JlZW5zaG90KSB7XG4gICAgcmV0dXJuIFwic2NyZWVuc2hvdFwiO1xuICB9XG4gIHJldHVybiBcIm5vX2ltYWdlXCI7XG59XG5cbi8qKlxuICogSXRlcmF0ZXMgdGhyb3VnaCBUb3BTaXRlcyBhbmQgY291bnRzIHR5cGVzIG9mIGltYWdlcy5cbiAqIEBwYXJhbSBhY2MgQWNjdW11bGF0b3IgZm9yIHJlZHVjZXIuXG4gKiBAcGFyYW0gdG9wc2l0ZSBFbnRyeSBpbiBUb3BTaXRlcy5cbiAqL1xuZnVuY3Rpb24gY291bnRUb3BTaXRlc0ljb25zVHlwZXModG9wU2l0ZXMpIHtcbiAgY29uc3QgY291bnRUb3BTaXRlc1R5cGVzID0gKGFjYywgbGluaykgPT4ge1xuICAgIGFjY1t0b3BTaXRlSWNvblR5cGUobGluayldKys7XG4gICAgcmV0dXJuIGFjYztcbiAgfTtcblxuICByZXR1cm4gdG9wU2l0ZXMucmVkdWNlKGNvdW50VG9wU2l0ZXNUeXBlcywge1xuICAgIGN1c3RvbV9zY3JlZW5zaG90OiAwLFxuICAgIHNjcmVlbnNob3Q6IDAsXG4gICAgdGlwcHl0b3A6IDAsXG4gICAgcmljaF9pY29uOiAwLFxuICAgIG5vX2ltYWdlOiAwLFxuICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIF9Ub3BTaXRlcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uRWRpdEZvcm1DbG9zZSA9IHRoaXMub25FZGl0Rm9ybUNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaFNob3J0Y3V0c0Zvcm1DbG9zZSA9XG4gICAgICB0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggc2Vzc2lvbiBzdGF0aXN0aWNzIGFib3V0IHRoZSBxdWFsaXR5IG9mIFRvcFNpdGVzIGljb25zIGFuZCBwaW5uZWQgY291bnQuXG4gICAqL1xuICBfZGlzcGF0Y2hUb3BTaXRlc1N0YXRzKCkge1xuICAgIGNvbnN0IHRvcFNpdGVzID0gdGhpcy5fZ2V0VmlzaWJsZVRvcFNpdGVzKCkuZmlsdGVyKFxuICAgICAgdG9wU2l0ZSA9PiB0b3BTaXRlICE9PSBudWxsICYmIHRvcFNpdGUgIT09IHVuZGVmaW5lZFxuICAgICk7XG4gICAgY29uc3QgdG9wU2l0ZXNJY29uc1N0YXRzID0gY291bnRUb3BTaXRlc0ljb25zVHlwZXModG9wU2l0ZXMpO1xuICAgIGNvbnN0IHRvcFNpdGVzUGlubmVkID0gdG9wU2l0ZXMuZmlsdGVyKHNpdGUgPT4gISFzaXRlLmlzUGlubmVkKS5sZW5ndGg7XG4gICAgY29uc3Qgc2VhcmNoU2hvcnRjdXRzID0gdG9wU2l0ZXMuZmlsdGVyKFxuICAgICAgc2l0ZSA9PiAhIXNpdGUuc2VhcmNoVG9wU2l0ZVxuICAgICkubGVuZ3RoO1xuICAgIC8vIERpc3BhdGNoIHRlbGVtZXRyeSBldmVudCB3aXRoIHRoZSBjb3VudCBvZiBUb3BTaXRlcyBpbWFnZXMgdHlwZXMuXG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5TQVZFX1NFU1NJT05fUEVSRl9EQVRBLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9wc2l0ZXNfaWNvbl9zdGF0czogdG9wU2l0ZXNJY29uc1N0YXRzLFxuICAgICAgICAgIHRvcHNpdGVzX3Bpbm5lZDogdG9wU2l0ZXNQaW5uZWQsXG4gICAgICAgICAgdG9wc2l0ZXNfc2VhcmNoX3Nob3J0Y3V0czogc2VhcmNoU2hvcnRjdXRzLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgVG9wU2l0ZXMgdGhhdCBhcmUgdmlzaWJsZSBiYXNlZCBvbiBwcmVmcyBhbmQgd2luZG93IHdpZHRoLlxuICAgKi9cbiAgX2dldFZpc2libGVUb3BTaXRlcygpIHtcbiAgICAvLyBXZSBoaWRlIDIgc2l0ZXMgcGVyIHJvdyB3aGVuIG5vdCBpbiB0aGUgd2lkZSBsYXlvdXQuXG4gICAgbGV0IHNpdGVzUGVyUm93ID0gVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XO1xuICAgIC8vICRicmVhay1wb2ludC13aWRlc3QgPSAxMDcycHggKGZyb20gX3ZhcmlhYmxlcy5zY3NzKVxuICAgIGlmICghZ2xvYmFsVGhpcy5tYXRjaE1lZGlhKGAobWluLXdpZHRoOiAxMDcycHgpYCkubWF0Y2hlcykge1xuICAgICAgc2l0ZXNQZXJSb3cgLT0gMjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuVG9wU2l0ZXMucm93cy5zbGljZShcbiAgICAgIDAsXG4gICAgICB0aGlzLnByb3BzLlRvcFNpdGVzUm93cyAqIHNpdGVzUGVyUm93XG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLl9kaXNwYXRjaFRvcFNpdGVzU3RhdHMoKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuX2Rpc3BhdGNoVG9wU2l0ZXNTdGF0cygpO1xuICB9XG5cbiAgb25FZGl0Rm9ybUNsb3NlKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgIGV2ZW50OiBcIlRPUF9TSVRFU19FRElUX0NMT1NFXCIsXG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LlRPUF9TSVRFU19DQU5DRUxfRURJVCB9KTtcbiAgfVxuXG4gIG9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICBhYy5Vc2VyRXZlbnQoe1xuICAgICAgICBzb3VyY2U6IFRPUF9TSVRFU19TT1VSQ0UsXG4gICAgICAgIGV2ZW50OiBcIlNFQVJDSF9FRElUX0NMT1NFXCIsXG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LlRPUF9TSVRFU19DTE9TRV9TRUFSQ0hfU0hPUlRDVVRTX01PREFMIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBlZGl0Rm9ybSwgc2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm0gfSA9IHByb3BzLlRvcFNpdGVzO1xuICAgIGNvbnN0IGV4dHJhTWVudU9wdGlvbnMgPSBbXCJBZGRUb3BTaXRlXCJdO1xuICAgIGNvbnN0IGNvbG9ycyA9IHByb3BzLlByZWZzLnZhbHVlc1tcIm5ld05ld3RhYkV4cGVyaWVuY2UuY29sb3JzXCJdO1xuXG4gICAgaWYgKHByb3BzLlByZWZzLnZhbHVlc1tcImltcHJvdmVzZWFyY2gudG9wU2l0ZVNlYXJjaFNob3J0Y3V0c1wiXSkge1xuICAgICAgZXh0cmFNZW51T3B0aW9ucy5wdXNoKFwiQWRkU2VhcmNoU2hvcnRjdXRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wb25lbnRQZXJmVGltZXJcbiAgICAgICAgaWQ9XCJ0b3BzaXRlc1wiXG4gICAgICAgIGluaXRpYWxpemVkPXtwcm9wcy5Ub3BTaXRlcy5pbml0aWFsaXplZH1cbiAgICAgICAgZGlzcGF0Y2g9e3Byb3BzLmRpc3BhdGNofVxuICAgICAgPlxuICAgICAgICA8Q29sbGFwc2libGVTZWN0aW9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwidG9wLXNpdGVzXCJcbiAgICAgICAgICBpZD1cInRvcHNpdGVzXCJcbiAgICAgICAgICB0aXRsZT17cHJvcHMudGl0bGUgfHwgeyBpZDogXCJuZXd0YWItc2VjdGlvbi1oZWFkZXItdG9wc2l0ZXNcIiB9fVxuICAgICAgICAgIGhpZGVUaXRsZT17dHJ1ZX1cbiAgICAgICAgICBleHRyYU1lbnVPcHRpb25zPXtleHRyYU1lbnVPcHRpb25zfVxuICAgICAgICAgIHNob3dQcmVmTmFtZT1cImZlZWRzLnRvcHNpdGVzXCJcbiAgICAgICAgICBldmVudFNvdXJjZT17VE9QX1NJVEVTX1NPVVJDRX1cbiAgICAgICAgICBjb2xsYXBzZWQ9e2ZhbHNlfVxuICAgICAgICAgIGlzRml4ZWQ9e3Byb3BzLmlzRml4ZWR9XG4gICAgICAgICAgaXNGaXJzdD17cHJvcHMuaXNGaXJzdH1cbiAgICAgICAgICBpc0xhc3Q9e3Byb3BzLmlzTGFzdH1cbiAgICAgICAgICBkaXNwYXRjaD17cHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgID5cbiAgICAgICAgICA8VG9wU2l0ZUxpc3RcbiAgICAgICAgICAgIFRvcFNpdGVzPXtwcm9wcy5Ub3BTaXRlc31cbiAgICAgICAgICAgIFRvcFNpdGVzUm93cz17cHJvcHMuVG9wU2l0ZXNSb3dzfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e3Byb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgdG9wU2l0ZUljb25UeXBlPXt0b3BTaXRlSWNvblR5cGV9XG4gICAgICAgICAgICBjb2xvcnM9e2NvbG9yc31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZWRpdC10b3BzaXRlcy13cmFwcGVyXCI+XG4gICAgICAgICAgICB7ZWRpdEZvcm0gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXQtdG9wc2l0ZXNcIj5cbiAgICAgICAgICAgICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICAgICAgICAgICAgdW5zdHlsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uRWRpdEZvcm1DbG9zZX1cbiAgICAgICAgICAgICAgICAgIGlubmVyQ2xhc3NOYW1lPVwibW9kYWxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxUb3BTaXRlRm9ybVxuICAgICAgICAgICAgICAgICAgICBzaXRlPXtwcm9wcy5Ub3BTaXRlcy5yb3dzW2VkaXRGb3JtLmluZGV4XX1cbiAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17dGhpcy5vbkVkaXRGb3JtQ2xvc2V9XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgICAgICAgICB7Li4uZWRpdEZvcm19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWxPdmVybGF5V3JhcHBlcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3Nob3dTZWFyY2hTaG9ydGN1dHNGb3JtICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0LXNlYXJjaC1zaG9ydGN1dHNcIj5cbiAgICAgICAgICAgICAgICA8TW9kYWxPdmVybGF5V3JhcHBlclxuICAgICAgICAgICAgICAgICAgdW5zdHlsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgaW5uZXJDbGFzc05hbWU9XCJtb2RhbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNlYXJjaFNob3J0Y3V0c0Zvcm1cbiAgICAgICAgICAgICAgICAgICAgVG9wU2l0ZXM9e3Byb3BzLlRvcFNpdGVzfVxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLm9uU2VhcmNoU2hvcnRjdXRzRm9ybUNsb3NlfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Nb2RhbE92ZXJsYXlXcmFwcGVyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29sbGFwc2libGVTZWN0aW9uPlxuICAgICAgPC9Db21wb25lbnRQZXJmVGltZXI+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgVG9wU2l0ZXMgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIFRvcFNpdGVzOiBzdGF0ZS5Ub3BTaXRlcyxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBUb3BTaXRlc1Jvd3M6IHN0YXRlLlByZWZzLnZhbHVlcy50b3BTaXRlc1Jvd3MsXG59KSkoX1RvcFNpdGVzKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IENhcmQsIFBsYWNlaG9sZGVyQ2FyZCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0NhcmQvQ2FyZFwiO1xuaW1wb3J0IHsgQ29sbGFwc2libGVTZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29sbGFwc2libGVTZWN0aW9uL0NvbGxhcHNpYmxlU2VjdGlvblwiO1xuaW1wb3J0IHsgQ29tcG9uZW50UGVyZlRpbWVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29tcG9uZW50UGVyZlRpbWVyL0NvbXBvbmVudFBlcmZUaW1lclwiO1xuaW1wb3J0IHsgRmx1ZW50T3JUZXh0IH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRmx1ZW50T3JUZXh0L0ZsdWVudE9yVGV4dFwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgTW9yZVJlY29tbWVuZGF0aW9ucyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL01vcmVSZWNvbW1lbmRhdGlvbnMvTW9yZVJlY29tbWVuZGF0aW9uc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVG9wU2l0ZXMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Ub3BTaXRlcy9Ub3BTaXRlc1wiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuY29uc3QgQ0FSRFNfUEVSX1JPV19ERUZBVUxUID0gMztcbmNvbnN0IENBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFID0gNDtcblxuZXhwb3J0IGNsYXNzIFNlY3Rpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgZ2V0IG51bVJvd3MoKSB7XG4gICAgY29uc3QgeyByb3dzUHJlZiwgbWF4Um93cywgUHJlZnMgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIHJvd3NQcmVmID8gUHJlZnMudmFsdWVzW3Jvd3NQcmVmXSA6IG1heFJvd3M7XG4gIH1cblxuICBfZGlzcGF0Y2hJbXByZXNzaW9uU3RhdHMoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBsZXQgY2FyZHNQZXJSb3cgPSBDQVJEU19QRVJfUk9XX0RFRkFVTFQ7XG4gICAgaWYgKFxuICAgICAgcHJvcHMuY29tcGFjdENhcmRzICYmXG4gICAgICBnbG9iYWxUaGlzLm1hdGNoTWVkaWEoYChtaW4td2lkdGg6IDEwNzJweClgKS5tYXRjaGVzXG4gICAgKSB7XG4gICAgICAvLyBJZiB0aGUgc2VjdGlvbiBoYXMgY29tcGFjdCBjYXJkcyBhbmQgdGhlIHZpZXdwb3J0IGlzIHdpZGUgZW5vdWdoLCB3ZSBzaG93XG4gICAgICAvLyA0IGNvbHVtbnMgaW5zdGVhZCBvZiAzLlxuICAgICAgLy8gJGJyZWFrLXBvaW50LXdpZGVzdCA9IDEwNzJweCAoZnJvbSBfdmFyaWFibGVzLnNjc3MpXG4gICAgICBjYXJkc1BlclJvdyA9IENBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFO1xuICAgIH1cbiAgICBjb25zdCBtYXhDYXJkcyA9IGNhcmRzUGVyUm93ICogdGhpcy5udW1Sb3dzO1xuICAgIGNvbnN0IGNhcmRzID0gcHJvcHMucm93cy5zbGljZSgwLCBtYXhDYXJkcyk7XG5cbiAgICBpZiAodGhpcy5uZWVkc0ltcHJlc3Npb25TdGF0cyhjYXJkcykpIHtcbiAgICAgIHByb3BzLmRpc3BhdGNoKFxuICAgICAgICBhYy5JbXByZXNzaW9uU3RhdHMoe1xuICAgICAgICAgIHNvdXJjZTogcHJvcHMuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgdGlsZXM6IGNhcmRzLm1hcChsaW5rID0+ICh7IGlkOiBsaW5rLmd1aWQgfSkpLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcyA9IGNhcmRzLm1hcChsaW5rID0+IGxpbmsuZ3VpZCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBzZW5kcyBhbiBldmVudCB3aGVuIGEgdXNlciBzZWVzIGEgc2V0IG9mIG5ldyBjb250ZW50LiBJZiBjb250ZW50XG4gIC8vIGNoYW5nZXMgd2hpbGUgdGhlIHBhZ2UgaXMgaGlkZGVuIChpLmUuIHByZWxvYWRlZCBvciBvbiBhIGhpZGRlbiB0YWIpLFxuICAvLyBvbmx5IHNlbmQgdGhlIGV2ZW50IGlmIHRoZSBwYWdlIGJlY29tZXMgdmlzaWJsZSBhZ2Fpbi5cbiAgc2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGlmICghcHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cyB8fCAhcHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLl9kaXNwYXRjaEltcHJlc3Npb25TdGF0cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBzaG91bGQgb25seSBldmVyIHNlbmQgdGhlIGxhdGVzdCBpbXByZXNzaW9uIHN0YXRzIHBpbmcsIHNvIHJlbW92ZSBhbnlcbiAgICAgIC8vIG9sZGVyIGxpc3RlbmVycy5cbiAgICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2hlbiB0aGUgcGFnZSBiZWNvbWVzIHZpc2libGUsIHNlbmQgdGhlIGltcHJlc3Npb24gc3RhdHMgcGluZyBpZiB0aGUgc2VjdGlvbiBpc24ndCBjb2xsYXBzZWQuXG4gICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgICAgICBpZiAoIXRoaXMucHJvcHMucHJlZi5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICB0aGlzLnNlbmROZXdUYWJSZWh5ZHJhdGVkKHRoaXMucHJvcHMuaW5pdGlhbGl6ZWQpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucm93cy5sZW5ndGggJiYgIXRoaXMucHJvcHMucHJlZi5jb2xsYXBzZWQpIHtcbiAgICAgIHRoaXMuc2VuZEltcHJlc3Npb25TdGF0c09yQWRkTGlzdGVuZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCBpc0NvbGxhcHNlZCA9IHByb3BzLnByZWYuY29sbGFwc2VkO1xuICAgIGNvbnN0IHdhc0NvbGxhcHNlZCA9IHByZXZQcm9wcy5wcmVmLmNvbGxhcHNlZDtcbiAgICBpZiAoXG4gICAgICAvLyBEb24ndCBzZW5kIGltcHJlc3Npb24gc3RhdHMgZm9yIHRoZSBlbXB0eSBzdGF0ZVxuICAgICAgcHJvcHMucm93cy5sZW5ndGggJiZcbiAgICAgIC8vIFdlIG9ubHkgd2FudCB0byBzZW5kIGltcHJlc3Npb24gc3RhdHMgaWYgdGhlIGNvbnRlbnQgb2YgdGhlIGNhcmRzIGhhcyBjaGFuZ2VkXG4gICAgICAvLyBhbmQgdGhlIHNlY3Rpb24gaXMgbm90IGNvbGxhcHNlZC4uLlxuICAgICAgKChwcm9wcy5yb3dzICE9PSBwcmV2UHJvcHMucm93cyAmJiAhaXNDb2xsYXBzZWQpIHx8XG4gICAgICAgIC8vIG9yIGlmIHdlIGFyZSBleHBhbmRpbmcgYSBzZWN0aW9uIHRoYXQgd2FzIGNvbGxhcHNlZC5cbiAgICAgICAgKHdhc0NvbGxhcHNlZCAmJiAhaXNDb2xsYXBzZWQpKVxuICAgICkge1xuICAgICAgdGhpcy5zZW5kSW1wcmVzc2lvblN0YXRzT3JBZGRMaXN0ZW5lcigpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgdGhpcy5zZW5kTmV3VGFiUmVoeWRyYXRlZChuZXh0UHJvcHMuaW5pdGlhbGl6ZWQpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG5lZWRzSW1wcmVzc2lvblN0YXRzKGNhcmRzKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuaW1wcmVzc2lvbkNhcmRHdWlkcyB8fFxuICAgICAgdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzLmxlbmd0aCAhPT0gY2FyZHMubGVuZ3RoXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2FyZHNbaV0uZ3VpZCAhPT0gdGhpcy5pbXByZXNzaW9uQ2FyZEd1aWRzW2ldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRoZSBORVdfVEFCX1JFSFlEUkFURUQgZXZlbnQgaXMgdXNlZCB0byBpbmZvcm0gZmVlZHMgdGhhdCB0aGVpclxuICAvLyBkYXRhIGhhcyBiZWVuIGNvbnN1bWVkIGUuZy4gZm9yIGNvdW50aW5nIHRoZSBudW1iZXIgb2YgdGFicyB0aGF0XG4gIC8vIGhhdmUgcmVuZGVyZWQgdGhhdCBkYXRhLlxuICBzZW5kTmV3VGFiUmVoeWRyYXRlZChpbml0aWFsaXplZCkge1xuICAgIGlmIChpbml0aWFsaXplZCAmJiAhdGhpcy5yZW5kZXJOb3RpZmllZCkge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfUkVIWURSQVRFRCwgZGF0YToge30gfSlcbiAgICAgICk7XG4gICAgICB0aGlzLnJlbmRlck5vdGlmaWVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBldmVudFNvdXJjZSxcbiAgICAgIHRpdGxlLFxuICAgICAgcm93cyxcbiAgICAgIGVtcHR5U3RhdGUsXG4gICAgICBkaXNwYXRjaCxcbiAgICAgIGNvbXBhY3RDYXJkcyxcbiAgICAgIHJlYWRfbW9yZV9lbmRwb2ludCxcbiAgICAgIGNvbnRleHRNZW51T3B0aW9ucyxcbiAgICAgIGluaXRpYWxpemVkLFxuICAgICAgbGVhcm5Nb3JlLFxuICAgICAgcHJlZixcbiAgICAgIHByaXZhY3lOb3RpY2VVUkwsXG4gICAgICBpc0ZpcnN0LFxuICAgICAgaXNMYXN0LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgd2FpdGluZ0ZvclNwb2MgPVxuICAgICAgaWQgPT09IFwidG9wc3Rvcmllc1wiICYmIHRoaXMucHJvcHMuUG9ja2V0LndhaXRpbmdGb3JTcG9jO1xuICAgIGNvbnN0IG1heENhcmRzUGVyUm93ID0gY29tcGFjdENhcmRzXG4gICAgICA/IENBUkRTX1BFUl9ST1dfQ09NUEFDVF9XSURFXG4gICAgICA6IENBUkRTX1BFUl9ST1dfREVGQVVMVDtcbiAgICBjb25zdCB7IG51bVJvd3MgfSA9IHRoaXM7XG4gICAgY29uc3QgbWF4Q2FyZHMgPSBtYXhDYXJkc1BlclJvdyAqIG51bVJvd3M7XG4gICAgY29uc3QgbWF4Q2FyZHNPbk5hcnJvdyA9IENBUkRTX1BFUl9ST1dfREVGQVVMVCAqIG51bVJvd3M7XG4gICAgY29uc3Qgc2hvdWxkU2hvd1JlYWRNb3JlID0gcmVhZF9tb3JlX2VuZHBvaW50O1xuXG4gICAgY29uc3QgcmVhbFJvd3MgPSByb3dzLnNsaWNlKDAsIG1heENhcmRzKTtcblxuICAgIC8vIFRoZSBlbXB0eSBzdGF0ZSBzaG91bGQgb25seSBiZSBzaG93biBhZnRlciB3ZSBoYXZlIGluaXRpYWxpemVkIGFuZCB0aGVyZSBpcyBubyBjb250ZW50LlxuICAgIC8vIE90aGVyd2lzZSwgd2Ugc2hvdWxkIHNob3cgcGxhY2Vob2xkZXJzLlxuICAgIGNvbnN0IHNob3VsZFNob3dFbXB0eVN0YXRlID0gaW5pdGlhbGl6ZWQgJiYgIXJvd3MubGVuZ3RoO1xuXG4gICAgY29uc3QgY2FyZHMgPSBbXTtcbiAgICBpZiAoIXNob3VsZFNob3dFbXB0eVN0YXRlKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heENhcmRzOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGluayA9IHJlYWxSb3dzW2ldO1xuICAgICAgICAvLyBPbiBuYXJyb3cgdmlld3BvcnRzLCB3ZSBvbmx5IHNob3cgMyBjYXJkcyBwZXIgcm93LiBXZSdsbCBtYXJrIHRoZSByZXN0IGFzXG4gICAgICAgIC8vIC5oaWRlLWZvci1uYXJyb3cgdG8gaGlkZSBpbiBDU1MgdmlhIEBtZWRpYSBxdWVyeS5cbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gaSA+PSBtYXhDYXJkc09uTmFycm93ID8gXCJoaWRlLWZvci1uYXJyb3dcIiA6IFwiXCI7XG4gICAgICAgIGxldCB1c2VQbGFjZWhvbGRlciA9ICFsaW5rO1xuICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gdGhlIHRoaXJkIGNhcmQgYW5kIHdhaXRpbmcgZm9yIHNwb2MsXG4gICAgICAgIC8vIHVzZSB0aGUgcGxhY2Vob2xkZXIuXG4gICAgICAgIGlmICghdXNlUGxhY2Vob2xkZXIgJiYgaSA9PT0gMiAmJiB3YWl0aW5nRm9yU3BvYykge1xuICAgICAgICAgIHVzZVBsYWNlaG9sZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXJkcy5wdXNoKFxuICAgICAgICAgICF1c2VQbGFjZWhvbGRlciA/IChcbiAgICAgICAgICAgIDxDYXJkXG4gICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgaW5kZXg9e2l9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGxpbms9e2xpbmt9XG4gICAgICAgICAgICAgIGNvbnRleHRNZW51T3B0aW9ucz17Y29udGV4dE1lbnVPcHRpb25zfVxuICAgICAgICAgICAgICBldmVudFNvdXJjZT17ZXZlbnRTb3VyY2V9XG4gICAgICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RoaXMucHJvcHMuc2hvdWxkU2VuZEltcHJlc3Npb25TdGF0c31cbiAgICAgICAgICAgICAgaXNXZWJFeHRlbnNpb249e3RoaXMucHJvcHMuaXNXZWJFeHRlbnNpb259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8UGxhY2Vob2xkZXJDYXJkIGtleT17aX0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IC8+XG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlY3Rpb25DbGFzc05hbWUgPSBbXG4gICAgICBcInNlY3Rpb25cIixcbiAgICAgIGNvbXBhY3RDYXJkcyA/IFwiY29tcGFjdC1jYXJkc1wiIDogXCJub3JtYWwtY2FyZHNcIixcbiAgICBdLmpvaW4oXCIgXCIpO1xuXG4gICAgLy8gPFNlY3Rpb24+IDwtLSBSZWFjdCBjb21wb25lbnRcbiAgICAvLyA8c2VjdGlvbj4gPC0tIEhUTUw1IGVsZW1lbnRcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBvbmVudFBlcmZUaW1lciB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgIDxDb2xsYXBzaWJsZVNlY3Rpb25cbiAgICAgICAgICBjbGFzc05hbWU9e3NlY3Rpb25DbGFzc05hbWV9XG4gICAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICAgIGlkPXtpZH1cbiAgICAgICAgICBldmVudFNvdXJjZT17ZXZlbnRTb3VyY2V9XG4gICAgICAgICAgY29sbGFwc2VkPXt0aGlzLnByb3BzLnByZWYuY29sbGFwc2VkfVxuICAgICAgICAgIHNob3dQcmVmTmFtZT17KHByZWYgJiYgcHJlZi5mZWVkKSB8fCBpZH1cbiAgICAgICAgICBwcml2YWN5Tm90aWNlVVJMPXtwcml2YWN5Tm90aWNlVVJMfVxuICAgICAgICAgIFByZWZzPXt0aGlzLnByb3BzLlByZWZzfVxuICAgICAgICAgIGlzRml4ZWQ9e3RoaXMucHJvcHMuaXNGaXhlZH1cbiAgICAgICAgICBpc0ZpcnN0PXtpc0ZpcnN0fVxuICAgICAgICAgIGlzTGFzdD17aXNMYXN0fVxuICAgICAgICAgIGxlYXJuTW9yZT17bGVhcm5Nb3JlfVxuICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgIGlzV2ViRXh0ZW5zaW9uPXt0aGlzLnByb3BzLmlzV2ViRXh0ZW5zaW9ufVxuICAgICAgICA+XG4gICAgICAgICAgeyFzaG91bGRTaG93RW1wdHlTdGF0ZSAmJiAoXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic2VjdGlvbi1saXN0XCIgc3R5bGU9e3sgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAge2NhcmRzfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzaG91bGRTaG93RW1wdHlTdGF0ZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tZW1wdHktc3RhdGVcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlbXB0eS1zdGF0ZVwiPlxuICAgICAgICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17ZW1wdHlTdGF0ZS5tZXNzYWdlfT5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImVtcHR5LXN0YXRlLW1lc3NhZ2VcIiAvPlxuICAgICAgICAgICAgICAgIDwvRmx1ZW50T3JUZXh0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAge2lkID09PSBcInRvcHN0b3JpZXNcIiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRvcC1zdG9yaWVzLWJvdHRvbS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyLW1vcmUtcmVjb21tZW5kYXRpb25zXCI+XG4gICAgICAgICAgICAgICAge3Nob3VsZFNob3dSZWFkTW9yZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8TW9yZVJlY29tbWVuZGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICByZWFkX21vcmVfZW5kcG9pbnQ9e3JlYWRfbW9yZV9lbmRwb2ludH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L0NvbGxhcHNpYmxlU2VjdGlvbj5cbiAgICAgIDwvQ29tcG9uZW50UGVyZlRpbWVyPlxuICAgICk7XG4gIH1cbn1cblxuU2VjdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGRvY3VtZW50OiBnbG9iYWxUaGlzLmRvY3VtZW50LFxuICByb3dzOiBbXSxcbiAgZW1wdHlTdGF0ZToge30sXG4gIHByZWY6IHt9LFxuICB0aXRsZTogXCJcIixcbn07XG5cbmV4cG9ydCBjb25zdCBTZWN0aW9uSW50bCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBQb2NrZXQ6IHN0YXRlLlBvY2tldCxcbn0pKShTZWN0aW9uKTtcblxuZXhwb3J0IGNsYXNzIF9TZWN0aW9ucyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXJTZWN0aW9ucygpIHtcbiAgICBjb25zdCBzZWN0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGVuYWJsZWRTZWN0aW9ucyA9IHRoaXMucHJvcHMuU2VjdGlvbnMuZmlsdGVyKFxuICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLmVuYWJsZWRcbiAgICApO1xuICAgIGNvbnN0IHsgc2VjdGlvbk9yZGVyLCBcImZlZWRzLnRvcHNpdGVzXCI6IHNob3dUb3BTaXRlcyB9ID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIC8vIEVuYWJsZWQgc2VjdGlvbnMgZG9lc24ndCBpbmNsdWRlIFRvcCBTaXRlcywgc28gd2UgYWRkIGl0IGlmIGVuYWJsZWQuXG4gICAgY29uc3QgZXhwZWN0ZWRDb3VudCA9IGVuYWJsZWRTZWN0aW9ucy5sZW5ndGggKyB+fnNob3dUb3BTaXRlcztcblxuICAgIGZvciAoY29uc3Qgc2VjdGlvbklkIG9mIHNlY3Rpb25PcmRlci5zcGxpdChcIixcIikpIHtcbiAgICAgIGNvbnN0IGNvbW1vblByb3BzID0ge1xuICAgICAgICBrZXk6IHNlY3Rpb25JZCxcbiAgICAgICAgaXNGaXJzdDogc2VjdGlvbnMubGVuZ3RoID09PSAwLFxuICAgICAgICBpc0xhc3Q6IHNlY3Rpb25zLmxlbmd0aCA9PT0gZXhwZWN0ZWRDb3VudCAtIDEsXG4gICAgICB9O1xuICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gXCJ0b3BzaXRlc1wiICYmIHNob3dUb3BTaXRlcykge1xuICAgICAgICBzZWN0aW9ucy5wdXNoKDxUb3BTaXRlcyB7Li4uY29tbW9uUHJvcHN9IC8+KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBlbmFibGVkU2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICAgIGlmIChzZWN0aW9uKSB7XG4gICAgICAgICAgc2VjdGlvbnMucHVzaCg8U2VjdGlvbkludGwgey4uLnNlY3Rpb259IHsuLi5jb21tb25Qcm9wc30gLz4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWN0aW9ucztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9ucy1saXN0XCI+e3RoaXMucmVuZGVyU2VjdGlvbnMoKX08L2Rpdj47XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFNlY3Rpb25zID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbn0pKShfU2VjdGlvbnMpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VjdGlvbkludGwgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9TZWN0aW9ucy9TZWN0aW9uc1wiO1xuXG5leHBvcnQgY2xhc3MgX0hpZ2hsaWdodHMgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLnByb3BzLlNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBcImhpZ2hsaWdodHNcIik7XG4gICAgaWYgKCFzZWN0aW9uIHx8ICFzZWN0aW9uLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWhpZ2hsaWdodHMgc2VjdGlvbnMtbGlzdFwiPlxuICAgICAgICA8U2VjdGlvbkludGwgey4uLnNlY3Rpb259IGlzRml4ZWQ9e3RydWV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBIaWdobGlnaHRzID0gY29ubmVjdChzdGF0ZSA9PiAoeyBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMgfSkpKFxuICBfSGlnaGxpZ2h0c1xuKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGNsYXNzIEhvcml6b250YWxSdWxlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGhyIGNsYXNzTmFtZT1cImRzLWhyXCIgLz47XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcblxuZXhwb3J0IGNsYXNzIFRvcGljIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5vbkxpbmtDbGljayA9IHRoaXMub25MaW5rQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9uTGlua0NsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzcGF0Y2gpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgICAgZXZlbnQ6IFwiQ0xJQ0tcIixcbiAgICAgICAgICBzb3VyY2U6IFwiUE9QVUxBUl9UT1BJQ1NcIixcbiAgICAgICAgICBhY3Rpb25fcG9zaXRpb246IDAsXG4gICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHRvcGljOiBldmVudC50YXJnZXQudGV4dC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoYCBgLCBgLWApLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHVybCwgbmFtZTogdG9waWNOYW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8U2FmZUFuY2hvclxuICAgICAgICBvbkxpbmtDbGljaz17dGhpcy5vbkxpbmtDbGlja31cbiAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX1cbiAgICAgICAgdXJsPXt1cmx9XG4gICAgICA+XG4gICAgICAgIHt0b3BpY05hbWV9XG4gICAgICA8L1NhZmVBbmNob3I+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgbGV0IGxpbmtzID0gdGhpcy5wcm9wcy5saW5rcyB8fCBbXTtcbiAgICBjb25zdCBhbGlnbm1lbnQgPSB0aGlzLnByb3BzLmFsaWdubWVudCB8fCBcImNlbnRlcmVkXCI7XG4gICAgY29uc3QgaGVhZGVyID0gdGhpcy5wcm9wcy5oZWFkZXIgfHwge307XG4gICAgY29uc3QgZW5nbGlzaCA9IHRoaXMucHJvcHMubG9jYWxlLnN0YXJ0c1dpdGgoXCJlbi1cIik7XG4gICAgY29uc3QgcHJpdmFjeU5vdGljZSA9IHRoaXMucHJvcHMucHJpdmFjeU5vdGljZVVSTCB8fCB7fTtcbiAgICBjb25zdCB7IG5ld0Zvb3RlclNlY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY2xhc3NOYW1lID0gYGRzLW5hdmlnYXRpb24gZHMtbmF2aWdhdGlvbi0ke2FsaWdubWVudH0gJHtcbiAgICAgIG5ld0Zvb3RlclNlY3Rpb24gPyBgZHMtbmF2aWdhdGlvbi1uZXctdG9waWNzYCA6IGBgXG4gICAgfWA7XG4gICAgbGV0IHsgdGl0bGUgfSA9IGhlYWRlcjtcbiAgICBpZiAobmV3Rm9vdGVyU2VjdGlvbikge1xuICAgICAgdGl0bGUgPSB7IGlkOiBcIm5ld3RhYi1wb2NrZXQtbmV3LXRvcGljcy10aXRsZVwiIH07XG4gICAgICBpZiAodGhpcy5wcm9wcy5leHRyYUxpbmtzKSB7XG4gICAgICAgIGxpbmtzID0gW1xuICAgICAgICAgIC4uLmxpbmtzLnNsaWNlKDAsIGxpbmtzLmxlbmd0aCAtIDEpLFxuICAgICAgICAgIC4uLnRoaXMucHJvcHMuZXh0cmFMaW5rcyxcbiAgICAgICAgICBsaW5rc1tsaW5rcy5sZW5ndGggLSAxXSxcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX0+XG4gICAgICAgIHt0aXRsZSAmJiBlbmdsaXNoID8gKFxuICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17dGl0bGV9PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZHMtbmF2aWdhdGlvbi1oZWFkZXJcIiAvPlxuICAgICAgICAgIDwvRmx1ZW50T3JUZXh0PlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7ZW5nbGlzaCA/IChcbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICB7bGlua3MgJiZcbiAgICAgICAgICAgICAgbGlua3MubWFwKHQgPT4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e3QubmFtZX0+XG4gICAgICAgICAgICAgICAgICA8VG9waWNcbiAgICAgICAgICAgICAgICAgICAgdXJsPXt0LnVybH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17dC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAgeyFuZXdGb290ZXJTZWN0aW9uID8gKFxuICAgICAgICAgIDxTYWZlQW5jaG9yIGNsYXNzTmFtZT1cImRzLW5hdmlnYXRpb24tcHJpdmFjeVwiIHVybD17cHJpdmFjeU5vdGljZS51cmx9PlxuICAgICAgICAgICAgPEZsdWVudE9yVGV4dCBtZXNzYWdlPXtwcml2YWN5Tm90aWNlLnRpdGxlfSAvPlxuICAgICAgICAgIDwvU2FmZUFuY2hvcj5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge25ld0Zvb3RlclNlY3Rpb24gPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkcy1uYXZpZ2F0aW9uLWZhbWlseVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBmaXJlZm94LWxvZ29cIiAvPlxuICAgICAgICAgICAgPHNwYW4+fDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gcG9ja2V0LWxvZ29cIiAvPlxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHMtbmF2aWdhdGlvbi1mYW1pbHktbWVzc2FnZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1wb2NrZXQtcG9ja2V0LWZpcmVmb3gtZmFtaWx5XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2FmZUFuY2hvciB9IGZyb20gXCIuLi9TYWZlQW5jaG9yL1NhZmVBbmNob3JcIjtcbmltcG9ydCB7IEZsdWVudE9yVGV4dCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0ZsdWVudE9yVGV4dC9GbHVlbnRPclRleHRcIjtcblxuZXhwb3J0IGNsYXNzIFByaXZhY3lMaW5rIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHByb3BlcnRpZXMgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtcHJpdmFjeS1saW5rXCI+XG4gICAgICAgIDxTYWZlQW5jaG9yIHVybD17cHJvcGVydGllcy51cmx9PlxuICAgICAgICAgIDxGbHVlbnRPclRleHQgbWVzc2FnZT17cHJvcGVydGllcy50aXRsZX0gLz5cbiAgICAgICAgPC9TYWZlQW5jaG9yPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQgY2xhc3MgU2VjdGlvblRpdGxlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBoZWFkZXI6IHsgdGl0bGUsIHN1YnRpdGxlIH0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtc2VjdGlvbi10aXRsZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+e3RpdGxlfTwvZGl2PlxuICAgICAgICB7c3VidGl0bGUgPyA8ZGl2IGNsYXNzTmFtZT1cInN1YnRpdGxlXCI+e3N1YnRpdGxlfTwvZGl2PiA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5leHBvcnQgY29uc3Qgc2VsZWN0TGF5b3V0UmVuZGVyID0gKHsgc3RhdGUgPSB7fSwgcHJlZnMgPSB7fSB9KSA9PiB7XG4gIGNvbnN0IHsgbGF5b3V0LCBmZWVkcywgc3BvY3MgfSA9IHN0YXRlO1xuICBsZXQgc3BvY0luZGV4UGxhY2VtZW50TWFwID0ge307XG5cbiAgLyogVGhpcyBmdW5jdGlvbiBmaWxscyBzcG9jIHBvc2l0aW9ucyBvbiBhIHBlciBwbGFjZW1lbnQgYmFzaXMgd2l0aCBhdmFpbGFibGUgc3BvY3MuXG4gICAqIEl0IGRvZXMgdGhpcyBieSBsb29waW5nIHRocm91Z2ggZWFjaCBwb3NpdGlvbiBmb3IgYSBwbGFjZW1lbnQgYW5kIHJlcGxhY2luZyBhIHJlYyB3aXRoIGEgc3BvYy5cbiAgICogSWYgaXQgcnVucyBvdXQgb2Ygc3BvY3Mgb3IgcG9zaXRpb25zLCBpdCBzdG9wcy5cbiAgICogSWYgaXQgc2VlcyB0aGUgc2FtZSBwbGFjZW1lbnQgYWdhaW4sIGl0IHJlbWVtYmVycyB0aGUgcHJldmlvdXMgc3BvYyBpbmRleCwgYW5kIGNvbnRpbnVlcy5cbiAgICogSWYgaXQgc2VlcyBhIGJsb2NrZWQgc3BvYywgaXQgc2tpcHMgdGhhdCBwb3NpdGlvbiBsZWF2aW5nIGluIGEgcmVndWxhciBzdG9yeS5cbiAgICovXG4gIGZ1bmN0aW9uIGZpbGxTcG9jUG9zaXRpb25zRm9yUGxhY2VtZW50KFxuICAgIGRhdGEsXG4gICAgc3BvY3NQb3NpdGlvbnMsXG4gICAgc3BvY3NEYXRhLFxuICAgIHBsYWNlbWVudE5hbWVcbiAgKSB7XG4gICAgaWYgKFxuICAgICAgIXNwb2NJbmRleFBsYWNlbWVudE1hcFtwbGFjZW1lbnROYW1lXSAmJlxuICAgICAgc3BvY0luZGV4UGxhY2VtZW50TWFwW3BsYWNlbWVudE5hbWVdICE9PSAwXG4gICAgKSB7XG4gICAgICBzcG9jSW5kZXhQbGFjZW1lbnRNYXBbcGxhY2VtZW50TmFtZV0gPSAwO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gWy4uLmRhdGFdO1xuICAgIGZvciAobGV0IHBvc2l0aW9uIG9mIHNwb2NzUG9zaXRpb25zKSB7XG4gICAgICBjb25zdCBzcG9jID0gc3BvY3NEYXRhW3Nwb2NJbmRleFBsYWNlbWVudE1hcFtwbGFjZW1lbnROYW1lXV07XG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gc3BvY3MgbGVmdCwgd2UgY2FuIHN0b3AgZmlsbGluZyBwb3NpdGlvbnMuXG4gICAgICBpZiAoIXNwb2MpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIEEgcGxhY2VtZW50IGNvdWxkIGJlIHVzZWQgaW4gdHdvIHNlY3Rpb25zLlxuICAgICAgLy8gSW4gdGhlc2UgY2FzZXMsIHdlIHdhbnQgdG8gbWFpbnRhaW4gdGhlIGluZGV4IG9mIHRoZSBwcmV2aW91cyBzZWN0aW9uLlxuICAgICAgLy8gSWYgd2UgZGlkbid0IGRvIHRoaXMsIGl0IG1pZ2h0IGR1cGxpY2F0ZSBzcG9jcy5cbiAgICAgIHNwb2NJbmRleFBsYWNlbWVudE1hcFtwbGFjZW1lbnROYW1lXSsrO1xuXG4gICAgICAvLyBBIHNwb2MgdGhhdCdzIGJsb2NrZWQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBzb3VyY2UgZm9yIHN1YnNlcXVlbnQgbmV3dGFiIGxvYWRzLlxuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHNwb2MgaW4gdGhlIHNvdXJjZSB0aGF0J3MgYmxvY2tlZCwgaXQgbWVhbnMgaXQgd2FzICpqdXN0KiBibG9ja2VkLFxuICAgICAgLy8gYW5kIGluIHRoaXMgY2FzZSwgd2Ugc2tpcCB0aGlzIHBvc2l0aW9uLCBhbmQgc2hvdyBhIHJlZ3VsYXIgc3BvYyBpbnN0ZWFkLlxuICAgICAgaWYgKCFzcG9jcy5ibG9ja2VkLmluY2x1ZGVzKHNwb2MudXJsKSkge1xuICAgICAgICByZXN1bHRzLnNwbGljZShwb3NpdGlvbi5pbmRleCwgMCwgc3BvYyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICBjb25zdCBwb3NpdGlvbnMgPSB7fTtcbiAgY29uc3QgRFNfQ09NUE9ORU5UUyA9IFtcbiAgICBcIk1lc3NhZ2VcIixcbiAgICBcIlRleHRQcm9tb1wiLFxuICAgIFwiU2VjdGlvblRpdGxlXCIsXG4gICAgXCJTaWdudXBcIixcbiAgICBcIk5hdmlnYXRpb25cIixcbiAgICBcIldpZGdldHNcIixcbiAgICBcIkNhcmRHcmlkXCIsXG4gICAgXCJIb3Jpem9udGFsUnVsZVwiLFxuICAgIFwiUHJpdmFjeUxpbmtcIixcbiAgXTtcblxuICBjb25zdCBmaWx0ZXJBcnJheSA9IFtdO1xuXG4gIC8vIEZpbHRlciBzZWN0aW9ucyBpcyBUb3BzaXRlcyBhcmUgdHVybmVkIG9mZlxuICBpZiAoIXByZWZzW1wiZmVlZHMudG9wc2l0ZXNcIl0pIHtcbiAgICBmaWx0ZXJBcnJheS5wdXNoKFwiVG9wU2l0ZXNcIik7XG4gIH1cblxuICAvLyBGaWx0ZXIgc2VjdGlvbnMgaXMgV2lkZ2V0cyBhcmUgdHVybmVkIG9mZlxuICAvLyBOb3RlIGV4dHJhIGxvZ2ljIGlzIHJlcXVpcmVkIGJjIHRoaXMgZmVhdHVyZSBjYW4gYmUgZW5hYmxlZCB2aWEgTmltYnVzXG4gIGNvbnN0IG5pbWJ1c1dpZGdldHNFbmFibGVkID0gcHJlZnMud2lkZ2V0c0NvbmZpZz8uZW5hYmxlZDtcbiAgY29uc3Qgd2lkZ2V0c0VuYWJsZWQgPSBwcmVmc1tcIndpZGdldHMuc3lzdGVtLmVuYWJsZWRcIl07XG4gIGlmICghbmltYnVzV2lkZ2V0c0VuYWJsZWQgJiYgIXdpZGdldHNFbmFibGVkKSB7XG4gICAgZmlsdGVyQXJyYXkucHVzaChcIldpZGdldHNcIik7XG4gIH1cblxuICAvLyBGaWx0ZXIgc2VjdGlvbnMgaXMgUmVjb21tZW5kZWQgU3RvcmllcyBhcmUgdHVybmVkIG9mZlxuICBjb25zdCBwb2NrZXRFbmFibGVkID1cbiAgICBwcmVmc1tcImZlZWRzLnNlY3Rpb24udG9wc3Rvcmllc1wiXSAmJiBwcmVmc1tcImZlZWRzLnN5c3RlbS50b3BzdG9yaWVzXCJdO1xuICBpZiAoIXBvY2tldEVuYWJsZWQpIHtcbiAgICBmaWx0ZXJBcnJheS5wdXNoKFxuICAgICAgLy8gQnVnIDE5ODA0NTkgLSBEbyBub3QgcmVtb3ZlIFdpZGdldHMgaWYgRFMgaXMgZGlzYWJsZWRcbiAgICAgIC4uLkRTX0NPTVBPTkVOVFMuZmlsdGVyKGNvbXBvbmVudCA9PiBjb21wb25lbnQgIT09IFwiV2lkZ2V0c1wiKVxuICAgICk7XG4gIH1cblxuICAvLyBmdW5jdGlvbiB0byBkZXRlcm1pbmUgYW1vdW50IG9mIHRpbGVzIHNob3duIHBlciBzZWN0aW9uIHBlciB2aWV3cG9ydFxuICBmdW5jdGlvbiBnZXRNYXhUaWxlcyhyZXNwb25zaXZlTGF5b3V0cykge1xuICAgIHJldHVybiByZXNwb25zaXZlTGF5b3V0c1xuICAgICAgLmZsYXRNYXAocmVzcG9uc2l2ZUxheW91dCA9PiByZXNwb25zaXZlTGF5b3V0KVxuICAgICAgLnJlZHVjZSgoYWNjLCB0KSA9PiB7XG4gICAgICAgIGFjY1t0LmNvbHVtbkNvdW50XSA9IHQudGlsZXMubGVuZ3RoO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBtYXhUaWxlIGlmIGN1cnJlbnQgdGlsZSBjb3VudCBpcyBncmVhdGVyXG4gICAgICAgIGlmICghYWNjLm1heFRpbGUgfHwgdC50aWxlcy5sZW5ndGggPiBhY2MubWF4VGlsZSkge1xuICAgICAgICAgIGFjYy5tYXhUaWxlID0gdC50aWxlcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgfVxuXG4gIGNvbnN0IHBsYWNlaG9sZGVyQ29tcG9uZW50ID0gY29tcG9uZW50ID0+IHtcbiAgICBpZiAoIWNvbXBvbmVudC5mZWVkKSB7XG4gICAgICAvLyBUT0RPIHdlIG5vdyBuZWVkIGEgcGxhY2Vob2xkZXIgZm9yIHRvcHNpdGVzIGFuZCB0ZXh0UHJvbW8uXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jb21wb25lbnQsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzcG9jczogW10sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgcmVjb21tZW5kYXRpb25zOiBbXSxcbiAgICAgIHNlY3Rpb25zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgIHJlc3BvbnNpdmVMYXlvdXRzOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuXG4gICAgbGV0IGl0ZW1zID0gMDtcbiAgICBpZiAoY29tcG9uZW50LnByb3BlcnRpZXMgJiYgY29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXMpIHtcbiAgICAgIGl0ZW1zID0gY29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXM7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXM7IGkrKykge1xuICAgICAgZGF0YS5yZWNvbW1lbmRhdGlvbnMucHVzaCh7IHBsYWNlaG9sZGVyOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHNlY3Rpb25zRW5hYmxlZCA9IHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmVuYWJsZWRcIl07XG4gICAgaWYgKHNlY3Rpb25zRW5hYmxlZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtczsgaSsrKSB7XG4gICAgICAgIGRhdGEuc2VjdGlvbnNbMF0uZGF0YS5wdXNoKHsgcGxhY2Vob2xkZXI6IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgLi4uY29tcG9uZW50LCBkYXRhIH07XG4gIH07XG5cbiAgLy8gVE9ETyB1cGRhdGUgZGV2dG9vbHMgdG8gc2hvdyBwbGFjZW1lbnRzXG4gIGNvbnN0IGhhbmRsZVNwb2NzID0gKGRhdGEgPSBbXSwgc3BvY3NQb3NpdGlvbnMsIHNwb2NzUGxhY2VtZW50KSA9PiB7XG4gICAgbGV0IHJlc3VsdCA9IFsuLi5kYXRhXTtcbiAgICAvLyBEbyB3ZSBldmVyIGV4cGVjdCB0byBwb3NzaWJseSBoYXZlIGEgc3BvYy5cbiAgICBpZiAoc3BvY3NQb3NpdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgY29uc3QgcGxhY2VtZW50ID0gc3BvY3NQbGFjZW1lbnQgfHwge307XG4gICAgICBjb25zdCBwbGFjZW1lbnROYW1lID0gcGxhY2VtZW50Lm5hbWUgfHwgXCJuZXd0YWJfc3BvY3NcIjtcbiAgICAgIGNvbnN0IHNwb2NzRGF0YSA9IHNwb2NzLmRhdGFbcGxhY2VtZW50TmFtZV07XG5cbiAgICAgIC8vIFdlIGV4cGVjdCBhIHNwb2MsIHNwb2NzIGFyZSBsb2FkZWQsIGFuZCB0aGUgc2VydmVyIHJldHVybmVkIHNwb2NzLlxuICAgICAgaWYgKHNwb2NzLmxvYWRlZCAmJiBzcG9jc0RhdGE/Lml0ZW1zPy5sZW5ndGgpIHtcbiAgICAgICAgLy8gU2luY2UgYmFubmVyLXR5cGUgYWRzIGFyZSBwbGFjZWQgYnkgcm93IGFuZCBkb24ndCB1c2UgdGhlIG5vcm1hbCBzcG9jIHBvc2l0aW9uLFxuICAgICAgICAvLyBkb250IGNvbWJpbmUgd2l0aCBjb250ZW50XG4gICAgICAgIGNvbnN0IGV4Y2x1ZGVkU3BvY3MgPSBbXCJiaWxsYm9hcmRcIiwgXCJsZWFkZXJib2FyZFwiXTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRTcG9jcyA9IHNwb2NzRGF0YT8uaXRlbXM/LmZpbHRlcihcbiAgICAgICAgICBpdGVtID0+ICFleGNsdWRlZFNwb2NzLmluY2x1ZGVzKGl0ZW0uZm9ybWF0KVxuICAgICAgICApO1xuICAgICAgICByZXN1bHQgPSBmaWxsU3BvY1Bvc2l0aW9uc0ZvclBsYWNlbWVudChcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgc3BvY3NQb3NpdGlvbnMsXG4gICAgICAgICAgZmlsdGVyZWRTcG9jcyxcbiAgICAgICAgICBwbGFjZW1lbnROYW1lXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VjdGlvbnMgPSAoc2VjdGlvbnMgPSBbXSwgcmVjb21tZW5kYXRpb25zID0gW10pID0+IHtcbiAgICBsZXQgcmVzdWx0ID0gc2VjdGlvbnMuc29ydCgoYSwgYikgPT4gYS5yZWNlaXZlZFJhbmsgLSBiLnJlY2VpdmVkUmFuayk7XG5cbiAgICBjb25zdCBzZWN0aW9uc01hcCA9IHJlY29tbWVuZGF0aW9ucy5yZWR1Y2UoKGFjYywgcmVjb21tZW5kYXRpb24pID0+IHtcbiAgICAgIGNvbnN0IHsgc2VjdGlvbiB9ID0gcmVjb21tZW5kYXRpb247XG4gICAgICBhY2Nbc2VjdGlvbl0gPSBhY2Nbc2VjdGlvbl0gfHwgW107XG4gICAgICBhY2Nbc2VjdGlvbl0ucHVzaChyZWNvbW1lbmRhdGlvbik7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcblxuICAgIHJlc3VsdC5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgY29uc3QgeyBzZWN0aW9uS2V5IH0gPSBzZWN0aW9uO1xuICAgICAgc2VjdGlvbi5kYXRhID0gc2VjdGlvbnNNYXBbc2VjdGlvbktleV07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbXBvbmVudCA9IGNvbXBvbmVudCA9PiB7XG4gICAgaWYgKGNvbXBvbmVudD8uc3BvY3M/LnBvc2l0aW9ucz8ubGVuZ3RoKSB7XG4gICAgICBjb25zdCBwbGFjZW1lbnQgPSBjb21wb25lbnQucGxhY2VtZW50IHx8IHt9O1xuICAgICAgY29uc3QgcGxhY2VtZW50TmFtZSA9IHBsYWNlbWVudC5uYW1lIHx8IFwibmV3dGFiX3Nwb2NzXCI7XG4gICAgICBjb25zdCBzcG9jc0RhdGEgPSBzcG9jcy5kYXRhW3BsYWNlbWVudE5hbWVdO1xuICAgICAgaWYgKHNwb2NzLmxvYWRlZCAmJiBzcG9jc0RhdGE/Lml0ZW1zPy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jb21wb25lbnQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgc3BvY3M6IHNwb2NzRGF0YS5pdGVtc1xuICAgICAgICAgICAgICAuZmlsdGVyKHNwb2MgPT4gc3BvYyAmJiAhc3BvY3MuYmxvY2tlZC5pbmNsdWRlcyhzcG9jLnVybCkpXG4gICAgICAgICAgICAgIC5tYXAoKHNwb2MsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnNwb2MsXG4gICAgICAgICAgICAgICAgcG9zOiBpbmRleCxcbiAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5jb21wb25lbnQsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHNwb2NzOiBbXSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDb21wb25lbnRXaXRoRmVlZCA9IGNvbXBvbmVudCA9PiB7XG4gICAgcG9zaXRpb25zW2NvbXBvbmVudC50eXBlXSA9IHBvc2l0aW9uc1tjb21wb25lbnQudHlwZV0gfHwgMDtcbiAgICBsZXQgZGF0YSA9IHtcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICBzZWN0aW9uczogW10sXG4gICAgfTtcblxuICAgIGNvbnN0IGZlZWQgPSBmZWVkcy5kYXRhW2NvbXBvbmVudC5mZWVkLnVybF07XG4gICAgaWYgKGZlZWQ/LmRhdGEpIHtcbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLmZlZWQuZGF0YSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbLi4uKGZlZWQuZGF0YS5yZWNvbW1lbmRhdGlvbnMgfHwgW10pXSxcbiAgICAgICAgc2VjdGlvbnM6IFsuLi4oZmVlZC5kYXRhLnNlY3Rpb25zIHx8IFtdKV0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LnByb3BlcnRpZXMgJiYgY29tcG9uZW50LnByb3BlcnRpZXMub2Zmc2V0KSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGRhdGEucmVjb21tZW5kYXRpb25zLnNsaWNlKFxuICAgICAgICAgIGNvbXBvbmVudC5wcm9wZXJ0aWVzLm9mZnNldFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc3BvY3NQb3NpdGlvbnMgPSBjb21wb25lbnQ/LnNwb2NzPy5wb3NpdGlvbnM7XG4gICAgY29uc3Qgc3BvY3NQbGFjZW1lbnQgPSBjb21wb25lbnQ/LnBsYWNlbWVudDtcblxuICAgIGNvbnN0IHNlY3Rpb25zRW5hYmxlZCA9IHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmVuYWJsZWRcIl07XG4gICAgZGF0YSA9IHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICAuLi4oc2VjdGlvbnNFbmFibGVkXG4gICAgICAgID8ge1xuICAgICAgICAgICAgc2VjdGlvbnM6IGhhbmRsZVNlY3Rpb25zKGRhdGEuc2VjdGlvbnMsIGRhdGEucmVjb21tZW5kYXRpb25zKS5tYXAoXG4gICAgICAgICAgICAgIHNlY3Rpb24gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25zU3BvY3NQb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmxheW91dC5yZXNwb25zaXZlTGF5b3V0c1xuICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBwb3NpdGlvbiBmb3Igc3BvY3MgaXMgZ29pbmcgdG8gYmUgZm9yIHRoZSBzbWFsbGVzdCBicmVha3BvaW50LlxuICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIHRoZW4gbW92ZSBpdCBmcm9tIHRoZXJlIHZpYSBicmVha3BvaW50cy5cbiAgICAgICAgICAgICAgICAgIC5maW5kKGl0ZW0gPT4gaXRlbS5jb2x1bW5Db3VudCA9PT0gMSlcbiAgICAgICAgICAgICAgICAgIC50aWxlcy5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZS5oYXNBZCkge1xuICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zU3BvY3NQb3NpdGlvbnMucHVzaCh7IGluZGV4OiB0aWxlLnBvc2l0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgLi4uc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgIGRhdGE6IGhhbmRsZVNwb2NzKFxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25zU3BvY3NQb3NpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHNwb2NzUGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAvLyBXZSBkb24ndCBmaWxsIHNwb2NzIGluIHJlY3MgaWYgc2VjdGlvbnMgYXJlIGVuYWJsZWQsXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHJlY3MgYXJlIG5vdCBnb2luZyB0byBiZSBzZWVuLlxuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBkYXRhLnJlY29tbWVuZGF0aW9ucyxcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBoYW5kbGVTcG9jcyhcbiAgICAgICAgICAgICAgZGF0YS5yZWNvbW1lbmRhdGlvbnMsXG4gICAgICAgICAgICAgIHNwb2NzUG9zaXRpb25zLFxuICAgICAgICAgICAgICBzcG9jc1BsYWNlbWVudFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9KSxcbiAgICB9O1xuXG4gICAgbGV0IGl0ZW1zID0gMDtcbiAgICBpZiAoY29tcG9uZW50LnByb3BlcnRpZXMgJiYgY29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXMpIHtcbiAgICAgIGl0ZW1zID0gTWF0aC5taW4oY29tcG9uZW50LnByb3BlcnRpZXMuaXRlbXMsIGRhdGEucmVjb21tZW5kYXRpb25zLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLy8gbG9vcCB0aHJvdWdoIGEgY29tcG9uZW50IGl0ZW1zXG4gICAgLy8gU3RvcmUgdGhlIGl0ZW1zIHBvc2l0aW9uIHNlcXVlbnRpYWxseSBmb3IgbXVsdGlwbGUgY29tcG9uZW50cyBvZiB0aGUgc2FtZSB0eXBlLlxuICAgIC8vIEV4YW1wbGU6IEEgc2Vjb25kIGNhcmQgZ3JpZCBzdGFydHMgcG9zIG9mZnNldCBmcm9tIHRoZSBsYXN0IGNhcmQgZ3JpZC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zOyBpKyspIHtcbiAgICAgIGRhdGEucmVjb21tZW5kYXRpb25zW2ldID0ge1xuICAgICAgICAuLi5kYXRhLnJlY29tbWVuZGF0aW9uc1tpXSxcbiAgICAgICAgcG9zOiBwb3NpdGlvbnNbY29tcG9uZW50LnR5cGVdKyssXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFNldHVwIGFic29sdXRlIHBvc2l0aW9ucyBmb3Igc2VjdGlvbnMgbGF5b3V0LlxuICAgIGlmIChzZWN0aW9uc0VuYWJsZWQpIHtcbiAgICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSAwO1xuICAgICAgZGF0YS5zZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICAvLyBXZSBhc3N1bWUgdGhlIGNvdW50IGZvciB0aGUgYnJlYWtwb2ludCB3aXRoIHRoZSBtb3N0IHRpbGVzLlxuICAgICAgICBjb25zdCB7IG1heFRpbGUgfSA9IGdldE1heFRpbGVzKHNlY3Rpb24/LmxheW91dD8ucmVzcG9uc2l2ZUxheW91dHMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRpbGU7IGkrKykge1xuICAgICAgICAgIGlmIChzZWN0aW9uLmRhdGFbaV0pIHtcbiAgICAgICAgICAgIHNlY3Rpb24uZGF0YVtpXSA9IHtcbiAgICAgICAgICAgICAgLi4uc2VjdGlvbi5kYXRhW2ldLFxuICAgICAgICAgICAgICBwb3M6IGN1cnJlbnRQb3NpdGlvbisrLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7IC4uLmNvbXBvbmVudCwgZGF0YSB9O1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckxheW91dCA9ICgpID0+IHtcbiAgICBjb25zdCByZW5kZXJlZExheW91dEFycmF5ID0gW107XG4gICAgZm9yIChjb25zdCByb3cgb2YgbGF5b3V0LmZpbHRlcihcbiAgICAgIHIgPT4gci5jb21wb25lbnRzLmZpbHRlcihjID0+ICFmaWx0ZXJBcnJheS5pbmNsdWRlcyhjLnR5cGUpKS5sZW5ndGhcbiAgICApKSB7XG4gICAgICBsZXQgY29tcG9uZW50cyA9IFtdO1xuICAgICAgcmVuZGVyZWRMYXlvdXRBcnJheS5wdXNoKHtcbiAgICAgICAgLi4ucm93LFxuICAgICAgICBjb21wb25lbnRzLFxuICAgICAgfSk7XG4gICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiByb3cuY29tcG9uZW50cy5maWx0ZXIoXG4gICAgICAgIGMgPT4gIWZpbHRlckFycmF5LmluY2x1ZGVzKGMudHlwZSlcbiAgICAgICkpIHtcbiAgICAgICAgY29uc3Qgc3BvY3NDb25maWcgPSBjb21wb25lbnQuc3BvY3M7XG4gICAgICAgIGlmIChzcG9jc0NvbmZpZyB8fCBjb21wb25lbnQuZmVlZCkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChjb21wb25lbnQuZmVlZCAmJiAhZmVlZHMuZGF0YVtjb21wb25lbnQuZmVlZC51cmxdKSB8fFxuICAgICAgICAgICAgKHNwb2NzQ29uZmlnICYmXG4gICAgICAgICAgICAgIHNwb2NzQ29uZmlnLnBvc2l0aW9ucyAmJlxuICAgICAgICAgICAgICBzcG9jc0NvbmZpZy5wb3NpdGlvbnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICFzcG9jcy5sb2FkZWQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2gocGxhY2Vob2xkZXJDb21wb25lbnQoY29tcG9uZW50KSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnQuZmVlZCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKGhhbmRsZUNvbXBvbmVudFdpdGhGZWVkKGNvbXBvbmVudCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2goaGFuZGxlQ29tcG9uZW50KGNvbXBvbmVudCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVuZGVyZWRMYXlvdXRBcnJheTtcbiAgfTtcblxuICBjb25zdCBsYXlvdXRSZW5kZXIgPSByZW5kZXJMYXlvdXQoKTtcblxuICByZXR1cm4geyBsYXlvdXRSZW5kZXIgfTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cHM6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBMaW5rTWVudSB9IGZyb20gXCIuLi8uLi9MaW5rTWVudS9MaW5rTWVudVwiO1xuXG4vKipcbiAqIEEgY29udGV4dCBtZW51IGZvciBibG9ja2luZywgZm9sbG93aW5nIGFuZCB1bmZvbGxvd2luZyBzZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0gcHJvcHNcbiAqIEByZXR1cm5zIHtSZWFjdC5GdW5jdGlvbkNvbXBvbmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlY3Rpb25Db250ZXh0TWVudSh7XG4gIHR5cGUgPSBcIkRJU0NPVkVSWV9TVFJFQU1cIixcbiAgdGl0bGUsXG4gIHNvdXJjZSxcbiAgaW5kZXgsXG4gIGRpc3BhdGNoLFxuICBzZWN0aW9uS2V5LFxuICBmb2xsb3dpbmcsXG4gIHNlY3Rpb25QZXJzb25hbGl6YXRpb24sXG4gIHNlY3Rpb25Qb3NpdGlvbixcbn0pIHtcbiAgLy8gSW5pdGlhbCBjb250ZXh0IG1lbnUgb3B0aW9uczogYmxvY2sgdGhpcyBzZWN0aW9uIG9ubHkuXG4gIGNvbnN0IFNFQ1RJT05TX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1wiU2VjdGlvbkJsb2NrXCJdO1xuICBjb25zdCBbc2hvd0NvbnRleHRNZW51LCBzZXRTaG93Q29udGV4dE1lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGlmIChmb2xsb3dpbmcpIHtcbiAgICBTRUNUSU9OU19DT05URVhUX01FTlVfT1BUSU9OUy5wdXNoKFwiU2VjdGlvblVuZm9sbG93XCIpO1xuICB9XG5cbiAgY29uc3Qgb25DbGljayA9IGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRTaG93Q29udGV4dE1lbnUoIXNob3dDb250ZXh0TWVudSk7XG4gIH07XG5cbiAgY29uc3Qgb25VcGRhdGUgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0NvbnRleHRNZW51KCFzaG93Q29udGV4dE1lbnUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWNvbnRleHQtbWVudVwiPlxuICAgICAgPG1vei1idXR0b25cbiAgICAgICAgdHlwZT1cImljb25cIlxuICAgICAgICBzaXplPVwiZGVmYXVsdFwiXG4gICAgICAgIGljb25zcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9tb3JlLnN2Z1wiXG4gICAgICAgIHRpdGxlPXt0aXRsZSB8fCBzb3VyY2V9XG4gICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAvPlxuICAgICAge3Nob3dDb250ZXh0TWVudSAmJiAoXG4gICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgIG9uVXBkYXRlPXtvblVwZGF0ZX1cbiAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgIHNvdXJjZT17dHlwZS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgIG9wdGlvbnM9e1NFQ1RJT05TX0NPTlRFWFRfTUVOVV9PUFRJT05TfVxuICAgICAgICAgIHNob3VsZFNlbmRJbXByZXNzaW9uU3RhdHM9e3RydWV9XG4gICAgICAgICAgc2l0ZT17e1xuICAgICAgICAgICAgc2VjdGlvblBlcnNvbmFsaXphdGlvbixcbiAgICAgICAgICAgIHNlY3Rpb25LZXksXG4gICAgICAgICAgICBzZWN0aW9uUG9zaXRpb24sXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciB9IGZyb20gXCIuLi8uLi8uLi9saWIvdXRpbHNcIjtcbmNvbnN0IFBSRUZfVklTSUJMRV9TRUNUSU9OUyA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmludGVyZXN0UGlja2VyLnZpc2libGVTZWN0aW9uc1wiO1xuXG4vKipcbiAqIFNob3dzIGEgbGlzdCBvZiByZWNvbW1lbmRlZCB0b3BpY3Mgd2l0aCB2aXN1YWwgaW5kaWNhdGlvbiB3aGV0aGVyXG4gKiB0aGUgdXNlciBmb2xsb3dzIHNvbWUgb2YgdGhlIHRvcGljcyAoYWN0aXZlLCBibHVlLCBzZWxlY3RlZCB0b3BpY3MpXG4gKiBvciBpcyB5ZXQgdG8gZG8gc28gKG5ldXRyYWxseS1jb2xvdXJlZCB0b3BpY3Mgd2l0aCBhIFwicGx1c1wiIGJ1dHRvbikuXG4gKlxuICogQHJldHVybnMge1JlYWN0LkVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIEludGVyZXN0UGlja2VyKHsgdGl0bGUsIHN1YnRpdGxlLCBpbnRlcmVzdHMsIHJlY2VpdmVkRmVlZFJhbmsgfSkge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IGZvY3VzZWRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGZvY3VzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbZm9jdXNlZEluZGV4LCBzZXRGb2N1c2VkSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IHByZWZzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuUHJlZnMudmFsdWVzKTtcbiAgY29uc3QgeyBzZWN0aW9uUGVyc29uYWxpemF0aW9uIH0gPSB1c2VTZWxlY3RvcihcbiAgICBzdGF0ZSA9PiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW1cbiAgKTtcbiAgY29uc3QgdmlzaWJsZVNlY3Rpb25zID0gcHJlZnNbUFJFRl9WSVNJQkxFX1NFQ1RJT05TXT8uc3BsaXQoXCIsXCIpXG4gICAgLm1hcChpdGVtID0+IGl0ZW0udHJpbSgpKVxuICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtKTtcblxuICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuSU5MSU5FX1NFTEVDVElPTl9JTVBSRVNTSU9OLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogcmVjZWl2ZWRGZWVkUmFuayxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoLCByZWNlaXZlZEZlZWRSYW5rXSk7XG5cbiAgY29uc3QgcmVmID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uKTtcblxuICBjb25zdCBvbktleURvd24gPSB1c2VDYWxsYmFjayhlID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dEb3duXCIgfHwgZS5rZXkgPT09IFwiQXJyb3dVcFwiKSB7XG4gICAgICAvLyBwcmV2ZW50IHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nIHVwL2Rvd24gd2hpbGUgbmF2aWdhdGluZy5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBmb2N1c2VkUmVmLmN1cnJlbnQ/Lm5leHRTaWJsaW5nPy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikgJiZcbiAgICAgIGUua2V5ID09PSBcIkFycm93RG93blwiXG4gICAgKSB7XG4gICAgICBmb2N1c2VkUmVmLmN1cnJlbnQubmV4dFNpYmxpbmcucXVlcnlTZWxlY3RvcihcImlucHV0XCIpLnRhYkluZGV4ID0gMDtcbiAgICAgIGZvY3VzZWRSZWYuY3VycmVudC5uZXh0U2libGluZy5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuZm9jdXMoKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgZm9jdXNlZFJlZi5jdXJyZW50Py5wcmV2aW91c1NpYmxpbmc/LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKSAmJlxuICAgICAgZS5rZXkgPT09IFwiQXJyb3dVcFwiXG4gICAgKSB7XG4gICAgICBmb2N1c2VkUmVmLmN1cnJlbnQucHJldmlvdXNTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS50YWJJbmRleCA9IDA7XG4gICAgICBmb2N1c2VkUmVmLmN1cnJlbnQucHJldmlvdXNTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS5mb2N1cygpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGZ1bmN0aW9uIG9uV3JhcHBlckZvY3VzKCkge1xuICAgIGZvY3VzUmVmLmN1cnJlbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5RG93bik7XG4gIH1cbiAgZnVuY3Rpb24gb25XcmFwcGVyQmx1cigpIHtcbiAgICBmb2N1c1JlZi5jdXJyZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICB9XG4gIGZ1bmN0aW9uIG9uSXRlbUZvY3VzKGluZGV4KSB7XG4gICAgc2V0Rm9jdXNlZEluZGV4KGluZGV4KTtcbiAgfVxuXG4gIC8vIFVwZGF0ZXMgdXNlciBwcmVmZXJlbmNlcyBhcyB0aGV5IGZvbGxvdyBvciB1bmZvbGxvdyB0b3BpY3NcbiAgLy8gYnkgc2VsZWN0aW5nIHRoZW0gZnJvbSB0aGUgbGlzdFxuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSwgaW5kZXgpIHtcbiAgICBjb25zdCB7IG5hbWU6IHRvcGljLCBjaGVja2VkIH0gPSBlLnRhcmdldDtcbiAgICBsZXQgdXBkYXRlZFNlY3Rpb25zID0geyAuLi5zZWN0aW9uUGVyc29uYWxpemF0aW9uIH07XG4gICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgIHVwZGF0ZWRTZWN0aW9uc1t0b3BpY10gPSB7XG4gICAgICAgIGlzRm9sbG93ZWQ6IHRydWUsXG4gICAgICAgIGlzQmxvY2tlZDogZmFsc2UsXG4gICAgICAgIGZvbGxvd2VkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG4gICAgICBpZiAoIXZpc2libGVTZWN0aW9ucy5pbmNsdWRlcyh0b3BpYykpIHtcbiAgICAgICAgLy8gYWRkIHNlY3Rpb24gdG8gdmlzaWJsZSBzZWN0aW9ucyBhbmQgcGxhY2UgYWZ0ZXIgdGhlIGlubGluZSBwaWNrZXJcbiAgICAgICAgLy8gc3VidHJhY3QgMSBmcm9tIHRoZSByYW5rIHNvIHRoYXQgaXQgaXMgbm9ybWFsaXplZCB3aXRoIGFycmF5IGluZGV4XG4gICAgICAgIHZpc2libGVTZWN0aW9ucy5zcGxpY2UocmVjZWl2ZWRGZWVkUmFuayAtIDEsIDAsIHRvcGljKTtcbiAgICAgICAgZGlzcGF0Y2goYWMuU2V0UHJlZihQUkVGX1ZJU0lCTEVfU0VDVElPTlMsIHZpc2libGVTZWN0aW9ucy5qb2luKFwiLCBcIikpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHVwZGF0ZWRTZWN0aW9uc1t0b3BpY107XG4gICAgfVxuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LklOTElORV9TRUxFQ1RJT05fQ0xJQ0ssXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICBpc19mb2xsb3dlZDogY2hlY2tlZCxcbiAgICAgICAgICB0b3BpY19wb3NpdGlvbjogaW5kZXgsXG4gICAgICAgICAgc2VjdGlvbl9wb3NpdGlvbjogcmVjZWl2ZWRGZWVkUmFuayxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5TRUNUSU9OX1BFUlNPTkFMSVpBVElPTl9TRVQsXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRTZWN0aW9ucyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uXG4gICAgICBjbGFzc05hbWU9XCJpbmxpbmUtc2VsZWN0aW9uLXdyYXBwZXIgZHMtc2VjdGlvblwiXG4gICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBbZWxdO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24taGVhZGluZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGUtd3JhcHBlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+e3RpdGxlfTwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwic2VjdGlvbi1zdWJ0aXRsZVwiPntzdWJ0aXRsZX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8dWxcbiAgICAgICAgY2xhc3NOYW1lPVwidG9waWMtbGlzdFwiXG4gICAgICAgIG9uRm9jdXM9e29uV3JhcHBlckZvY3VzfVxuICAgICAgICBvbkJsdXI9e29uV3JhcHBlckJsdXJ9XG4gICAgICAgIHJlZj17Zm9jdXNSZWZ9XG4gICAgICA+XG4gICAgICAgIHtpbnRlcmVzdHMubWFwKChpbnRlcmVzdCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBjaGVja2VkID1cbiAgICAgICAgICAgIHNlY3Rpb25QZXJzb25hbGl6YXRpb25baW50ZXJlc3Quc2VjdGlvbklkXT8uaXNGb2xsb3dlZDtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgIGtleT17aW50ZXJlc3Quc2VjdGlvbklkfVxuICAgICAgICAgICAgICByZWY9e2luZGV4ID09PSBmb2N1c2VkSW5kZXggPyBmb2N1c2VkUmVmIDogbnVsbH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgIGlkPXtpbnRlcmVzdC5zZWN0aW9uSWR9XG4gICAgICAgICAgICAgICAgICBuYW1lPXtpbnRlcmVzdC5zZWN0aW9uSWR9XG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgYXJpYS1jaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gaGFuZGxlQ2hhbmdlKGUsIGluZGV4KX1cbiAgICAgICAgICAgICAgICAgIGtleT17YCR7aW50ZXJlc3Quc2VjdGlvbklkfS0ke2NoZWNrZWR9YH0gLy8gRm9yY2UgcmVtb3VudCB0byBzeW5jIERPTSBzdGF0ZSB3aXRoIFJlYWN0IHN0YXRlXG4gICAgICAgICAgICAgICAgICB0YWJJbmRleD17aW5kZXggPT09IGZvY3VzZWRJbmRleCA/IDAgOiAtMX1cbiAgICAgICAgICAgICAgICAgIG9uRm9jdXM9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25JdGVtRm9jdXMoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvcGljLWl0ZW0tbGFiZWxcIj57aW50ZXJlc3QudGl0bGUgfHwgXCJcIn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdG9waWMtaXRlbS1pY29uIGljb24gJHtjaGVja2VkID8gXCJpY29uLWNoZWNrLWZpbGxlZFwiIDogXCJpY29uLWFkZC1jaXJjbGUtZmlsbFwifWB9XG4gICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvdWw+XG4gICAgICA8cCBjbGFzc05hbWU9XCJsZWFybi1tb3JlLWNvcHlcIj5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXtwcmVmc1tcInN1cHBvcnQudXJsXCJdfVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b3BpYy1zZWxlY3Rpb24tcHJpdmFjeS1saW5rXCJcbiAgICAgICAgLz5cbiAgICAgIDwvcD5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59XG5cbmV4cG9ydCB7IEludGVyZXN0UGlja2VyIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNhZmVBbmNob3IgfSBmcm9tIFwiLi4vU2FmZUFuY2hvci9TYWZlQW5jaG9yXCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5cbmV4cG9ydCBjb25zdCBQZXJzb25hbGl6ZWRDYXJkID0gKHtcbiAgZGlzcGF0Y2gsXG4gIGhhbmRsZURpc21pc3MsXG4gIGhhbmRsZUNsaWNrLFxuICBoYW5kbGVCbG9jayxcbiAgbWVzc2FnZURhdGEsXG59KSA9PiB7XG4gIGNvbnN0IHdhdmluZ0ZveCA9XG4gICAgXCJjaHJvbWU6Ly9uZXd0YWIvY29udGVudC9kYXRhL2NvbnRlbnQvYXNzZXRzL3dhdmluZy1mb3guc3ZnXCI7XG5cbiAgY29uc3Qgb25EaXNtaXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGhhbmRsZURpc21pc3MoKTtcbiAgICBoYW5kbGVCbG9jaygpO1xuICB9LCBbaGFuZGxlRGlzbWlzcywgaGFuZGxlQmxvY2tdKTtcblxuICBjb25zdCBvblRvZ2dsZUNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgZWxlbWVudElkID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYXQuU0hPV19QRVJTT05BTElaRSB9KTtcbiAgICAgIGRpc3BhdGNoKGFjLlVzZXJFdmVudCh7IGV2ZW50OiBcIlNIT1dfUEVSU09OQUxJWkVcIiB9KSk7XG4gICAgICBoYW5kbGVDbGljayhlbGVtZW50SWQpO1xuICAgIH0sXG4gICAgW2Rpc3BhdGNoLCBoYW5kbGVDbGlja11cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxhc2lkZSBjbGFzc05hbWU9XCJwZXJzb25hbGl6ZWQtY2FyZC13cmFwcGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBlcnNvbmFsaXplZC1jYXJkLWRpc21pc3NcIj5cbiAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICB0eXBlPVwiaWNvbiBnaG9zdFwiXG4gICAgICAgICAgaWNvblNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL2Nsb3NlLnN2Z1wiXG4gICAgICAgICAgb25DbGljaz17b25EaXNtaXNzfVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi10b2FzdC1kaXNtaXNzLWJ1dHRvblwiXG4gICAgICAgID48L21vei1idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGVyc29uYWxpemVkLWNhcmQtaW5uZXJcIj5cbiAgICAgICAgPGltZyBzcmM9e3dhdmluZ0ZveH0gYWx0PVwiXCIgLz5cbiAgICAgICAgPGgyPnttZXNzYWdlRGF0YS5jb250ZW50LmNhcmRUaXRsZX08L2gyPlxuICAgICAgICA8cD57bWVzc2FnZURhdGEuY29udGVudC5jYXJkTWVzc2FnZX08L3A+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGVyc29uYWxpemVkLWNhcmQtY3RhLXdyYXBwZXJcIj5cbiAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgY2xhc3M9XCJwZXJzb25hbGl6ZWQtY2FyZC1jdGFcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25Ub2dnbGVDbGljayhcIm9wZW4tcGVyc29uYWxpemF0aW9uLXBhbmVsXCIpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHttZXNzYWdlRGF0YS5jb250ZW50LmN0YVRleHR9XG4gICAgICAgICAgPC9tb3otYnV0dG9uPlxuICAgICAgICAgIDxTYWZlQW5jaG9yXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwZXJzb25hbGl6ZWQtY2FyZC1saW5rXCJcbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIHVybD17bWVzc2FnZURhdGEuY29udGVudC5saW5rVXJsIHx8IFwiaHR0cHM6Ly9zdXBwb3J0Lm1vemlsbGEub3JnL1wifVxuICAgICAgICAgICAgb25MaW5rQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgaGFuZGxlQ2xpY2soXCJsaW5rLWNsaWNrXCIpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bWVzc2FnZURhdGEuY29udGVudC5saW5rVGV4dH1cbiAgICAgICAgICA8L1NhZmVBbmNob3I+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9hc2lkZT5cbiAgKTtcbn07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBGZWF0dXJlSGlnaGxpZ2h0IH0gZnJvbSBcIi4vRmVhdHVyZUhpZ2hsaWdodFwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBGb2xsb3dTZWN0aW9uQnV0dG9uSGlnaGxpZ2h0KHtcbiAgYXJyb3dQb3NpdGlvbixcbiAgcG9zaXRpb24sXG4gIHZlcnRpY2FsUG9zaXRpb24sXG4gIGRpc3BhdGNoLFxuICBoYW5kbGVEaXNtaXNzLFxuICBoYW5kbGVCbG9jayxcbiAgZmVhdHVyZSxcbn0pIHtcbiAgY29uc3Qgb25EaXNtaXNzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGhhbmRsZURpc21pc3MoKTtcbiAgICBoYW5kbGVCbG9jaygpO1xuICB9LCBbaGFuZGxlRGlzbWlzcywgaGFuZGxlQmxvY2tdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9sbG93LXNlY3Rpb24tYnV0dG9uLWhpZ2hsaWdodFwiPlxuICAgICAgPEZlYXR1cmVIaWdobGlnaHRcbiAgICAgICAgcG9zaXRpb249e3Bvc2l0aW9ufVxuICAgICAgICBhcnJvd1Bvc2l0aW9uPXthcnJvd1Bvc2l0aW9ufVxuICAgICAgICB2ZXJ0aWNhbFBvc2l0aW9uPXt2ZXJ0aWNhbFBvc2l0aW9ufVxuICAgICAgICBmZWF0dXJlPXtmZWF0dXJlfVxuICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgIG1lc3NhZ2U9e1xuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9sbG93LXNlY3Rpb24tYnV0dG9uLWhpZ2hsaWdodC1jb250ZW50XCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz1cImNocm9tZTovL2Jyb3dzZXIvY29udGVudC9hc3JvdXRlci9hc3NldHMvc21pbGluZy1mb3gtaWNvbi5zdmdcIlxuICAgICAgICAgICAgICB3aWR0aD1cIjI0XCJcbiAgICAgICAgICAgICAgaGVpZ2h0PVwiMjRcIlxuICAgICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9sbG93LXNlY3Rpb24tYnV0dG9uLWhpZ2hsaWdodC1jb3B5XCI+XG4gICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGl0bGVcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLWZvbGxvdy1oaWdobGlnaHQtdGl0bGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1mb2xsb3ctaGlnaGxpZ2h0LXN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIG9wZW5lZE92ZXJyaWRlPXt0cnVlfVxuICAgICAgICBzaG93QnV0dG9uSWNvbj17ZmFsc2V9XG4gICAgICAgIGRpc21pc3NDYWxsYmFjaz17b25EaXNtaXNzfVxuICAgICAgICBvdXRzaWRlQ2xpY2tDYWxsYmFjaz17aGFuZGxlRGlzbWlzc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcblxuZnVuY3Rpb24gTG9jYXRpb25TZWFyY2goeyBvdXRlckNsYXNzTmFtZSB9KSB7XG4gIC8vIHNob3VsZCBiZSB0aGUgbG9jYXRpb24gb2JqZWN0IGZyb20gc3VnZ2VzdGVkTG9jYXRpb25zXG4gIGNvbnN0IFtzZWxlY3RlZExvY2F0aW9uLCBzZXRTZWxlY3RlZExvY2F0aW9uXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBzdWdnZXN0ZWRMb2NhdGlvbnMgPSB1c2VTZWxlY3RvcihcbiAgICBzdGF0ZSA9PiBzdGF0ZS5XZWF0aGVyLnN1Z2dlc3RlZExvY2F0aW9uc1xuICApO1xuICBjb25zdCBsb2NhdGlvblNlYXJjaFN0cmluZyA9IHVzZVNlbGVjdG9yKFxuICAgIHN0YXRlID0+IHN0YXRlLldlYXRoZXIubG9jYXRpb25TZWFyY2hTdHJpbmdcbiAgKTtcbiAgY29uc3QgW3VzZXJJbnB1dCwgc2V0VXNlcklucHV0XSA9IHVzZVN0YXRlKGxvY2F0aW9uU2VhcmNoU3RyaW5nIHx8IFwiXCIpO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcblxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRMb2NhdGlvbikge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldFQVRIRVJfTE9DQVRJT05fREFUQV9VUERBVEUsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY2l0eTogc2VsZWN0ZWRMb2NhdGlvbi5sb2NhbGl6ZWRfbmFtZSxcbiAgICAgICAgICAgIGFkbWluTmFtZTogc2VsZWN0ZWRMb2NhdGlvbi5hZG1pbmlzdHJhdGl2ZV9hcmVhLFxuICAgICAgICAgICAgY291bnRyeTogc2VsZWN0ZWRMb2NhdGlvbi5jb3VudHJ5LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgZGlzcGF0Y2goYWMuU2V0UHJlZihcIndlYXRoZXIucXVlcnlcIiwgc2VsZWN0ZWRMb2NhdGlvbi5rZXkpKTtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Ccm9hZGNhc3RUb0NvbnRlbnQoe1xuICAgICAgICAgIHR5cGU6IGF0LldFQVRIRVJfU0VBUkNIX0FDVElWRSxcbiAgICAgICAgICBkYXRhOiBmYWxzZSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRMb2NhdGlvbiwgZGlzcGF0Y2hdKTtcblxuICAvLyB3aGVuIGNvbXBvbmVudCBtb3VudHMsIHNldCBmb2N1cyB0byBpbnB1dFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlucHV0UmVmPy5jdXJyZW50Py5mb2N1cygpO1xuICB9LCBbaW5wdXRSZWZdKTtcblxuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBldmVudC50YXJnZXQ7XG4gICAgc2V0VXNlcklucHV0KHZhbHVlKTtcbiAgICAvLyBpZiB0aGUgdXNlciBpbnB1dCBjb250YWlucyBsZXNzIHRoYW4gdGhyZWUgY2hhcmFjdGVycyBhbmQgc3VnZ2VzdGVkTG9jYXRpb25zIGlzIG5vdCBhbiBlbXB0eSBhcnJheSxcbiAgICAvLyByZXNldCBzdWdnZXN0ZWRMb2NhdGlvbnMgdG8gW10gc28gdGhlcmUgYXJlbnQgaW5jb3JyZWN0IGl0ZW1zIGluIHRoZSBkYXRhbGlzdFxuICAgIGlmICh2YWx1ZS5sZW5ndGggPCAzICYmIHN1Z2dlc3RlZExvY2F0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XRUFUSEVSX0xPQ0FUSU9OX1NVR0dFU1RJT05TX1VQREFURSxcbiAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIC8vIGZpbmQgbWF0Y2ggaW4gc3VnZ2VzdGVkTG9jYXRpb24gYXJyYXlcbiAgICBjb25zdCBtYXRjaCA9IHN1Z2dlc3RlZExvY2F0aW9ucz8uZmluZCgoeyBrZXkgfSkgPT4ga2V5ID09PSB2YWx1ZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBzZXRTZWxlY3RlZExvY2F0aW9uKG1hdGNoKTtcbiAgICAgIHNldFVzZXJJbnB1dChcbiAgICAgICAgYCR7bWF0Y2gubG9jYWxpemVkX25hbWV9LCAke21hdGNoLmFkbWluaXN0cmF0aXZlX2FyZWEubG9jYWxpemVkX25hbWV9YFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA+PSAzICYmICFtYXRjaCkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldFQVRIRVJfTE9DQVRJT05fU0VBUkNIX1VQREFURSxcbiAgICAgICAgICBkYXRhOiB2YWx1ZSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2xvc2VTZWFyY2goKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Ccm9hZGNhc3RUb0NvbnRlbnQoe1xuICAgICAgICB0eXBlOiBhdC5XRUFUSEVSX1NFQVJDSF9BQ1RJVkUsXG4gICAgICAgIGRhdGE6IGZhbHNlLFxuICAgICAgfSlcbiAgICApO1xuICAgIHNldFVzZXJJbnB1dChcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgaGFuZGxlQ2xvc2VTZWFyY2goKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtvdXRlckNsYXNzTmFtZX0gbG9jYXRpb24tc2VhcmNoYH0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvY2F0aW9uLWlucHV0LXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWFyY2gtaWNvblwiIC8+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgbGlzdD1cIm1lcmluby1sb2NhdGlvbi1saXN0XCJcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdlYXRoZXItY2hhbmdlLWxvY2F0aW9uLXNlYXJjaC1pbnB1dC1wbGFjZWhvbGRlclwiXG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICB2YWx1ZT17dXNlcklucHV0fVxuICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgLz5cbiAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICBjbGFzcz1cImNsb3NlLWljb25cIlxuICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgIGljb25TcmM9XCJjaHJvbWU6Ly9nbG9iYWwvc2tpbi9pY29ucy9jbG9zZS5zdmdcIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlU2VhcmNofVxuICAgICAgICAvPlxuICAgICAgICA8ZGF0YWxpc3QgaWQ9XCJtZXJpbm8tbG9jYXRpb24tbGlzdFwiPlxuICAgICAgICAgIHsoc3VnZ2VzdGVkTG9jYXRpb25zIHx8IFtdKS5tYXAobWVyaW5vTGNhdGlvbiA9PiAoXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXttZXJpbm9MY2F0aW9uLmtleX0ga2V5PXttZXJpbm9MY2F0aW9uLmtleX0+XG4gICAgICAgICAgICAgIHttZXJpbm9MY2F0aW9uLmxvY2FsaXplZF9uYW1lfSx7XCIgXCJ9XG4gICAgICAgICAgICAgIHttZXJpbm9MY2F0aW9uLmFkbWluaXN0cmF0aXZlX2FyZWEubG9jYWxpemVkX25hbWV9XG4gICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kYXRhbGlzdD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgeyBMb2NhdGlvblNlYXJjaCB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgTGlua01lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9MaW5rTWVudS9MaW5rTWVudVwiO1xuaW1wb3J0IHsgTG9jYXRpb25TZWFyY2ggfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9XZWF0aGVyL0xvY2F0aW9uU2VhcmNoXCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHNcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG5mdW5jdGlvbiBXZWF0aGVyUGxhY2Vob2xkZXIoKSB7XG4gIGNvbnN0IFtpc1NlZW4sIHNldElzU2Vlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gV2UgYXJlIHNldHRpbmcgdXAgYSB2aXNpYmlsaXR5IGFuZCBpbnRlcnNlY3Rpb24gZXZlbnRcbiAgLy8gc28gYW5pbWF0aW9ucyBkb24ndCBoYXBwZW4gd2l0aCBoZWFkbGVzcyBhdXRvbWF0aW9uLlxuICAvLyBUaGUgYW5pbWF0aW9ucyBjYXVzZXMgdGVzdHMgdG8gZmFpbCBiZWF1c2UgdGhleSBuZXZlciBzdG9wLFxuICAvLyBhbmQgbWFueSB0ZXN0cyB3YWl0IHVudGlsIGV2ZXJ5dGhpbmcgaGFzIHN0b3BwZWQgYmVmb3JlIHBhc3NpbmcuXG4gIGNvbnN0IHJlZiA9IHVzZUludGVyc2VjdGlvbk9ic2VydmVyKCgpID0+IHNldElzU2Vlbih0cnVlKSwgMSk7XG5cbiAgY29uc3QgaXNTZWVuQ2xhc3NOYW1lID0gaXNTZWVuID8gYHBsYWNlaG9sZGVyLXNlZW5gIDogYGA7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2B3ZWF0aGVyIHdlYXRoZXItcGxhY2Vob2xkZXIgJHtpc1NlZW5DbGFzc05hbWV9YH1cbiAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICByZWYuY3VycmVudCA9IFtlbF07XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItaW1hZ2UgcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBsYWNlaG9sZGVyLWNvbnRleHRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbGFjZWhvbGRlci1oZWFkZXIgcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItZGVzY3JpcHRpb24gcGxhY2Vob2xkZXItZmlsbFwiIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGNsYXNzIF9XZWF0aGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjb250ZXh0TWVudUtleWJvYXJkOiBmYWxzZSxcbiAgICAgIHNob3dDb250ZXh0TWVudTogZmFsc2UsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiLFxuICAgICAgaW1wcmVzc2lvblNlZW46IGZhbHNlLFxuICAgICAgZXJyb3JTZWVuOiBmYWxzZSxcbiAgICB9O1xuICAgIHRoaXMuc2V0SW1wcmVzc2lvblJlZiA9IGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5pbXByZXNzaW9uRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcbiAgICB0aGlzLnNldEVycm9yUmVmID0gZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmVycm9yRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5RG93biA9IHRoaXMub25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblVwZGF0ZSA9IHRoaXMub25VcGRhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uUHJvdmlkZXJDbGljayA9IHRoaXMub25Qcm92aWRlckNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgaWYgKCFwcm9wcy5kaXNwYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09IFZJU0lCTEUpIHtcbiAgICAgIC8vIFNldHVwIHRoZSBpbXByZXNzaW9uIG9ic2VydmVyIG9uY2UgdGhlIHBhZ2UgaXMgdmlzaWJsZS5cbiAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBzaG91bGQgb25seSBldmVyIHNlbmQgdGhlIGxhdGVzdCBpbXByZXNzaW9uIHN0YXRzIHBpbmcsIHNvIHJlbW92ZSBhbnlcbiAgICAgIC8vIG9sZGVyIGxpc3RlbmVycy5cbiAgICAgIGlmICh0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpIHtcbiAgICAgICAgcHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICAgICAgLy8gU2V0dXAgdGhlIGltcHJlc3Npb24gb2JzZXJ2ZXIgb25jZSB0aGUgcGFnZSBpcyB2aXNpYmxlLlxuICAgICAgICAgIHRoaXMuc2V0SW1wcmVzc2lvbk9ic2VydmVycygpO1xuICAgICAgICAgIHByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIC8vIFJlbW92ZSBvYnNlcnZlcnMgb24gdW5tb3VudFxuICAgIGlmICh0aGlzLm9ic2VydmVyICYmIHRoaXMuaW1wcmVzc2lvbkVsZW1lbnQpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuaW1wcmVzc2lvbkVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vYnNlcnZlciAmJiB0aGlzLmVycm9yRWxlbWVudCkge1xuICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5lcnJvckVsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc2V0SW1wcmVzc2lvbk9ic2VydmVycygpIHtcbiAgICBpZiAodGhpcy5pbXByZXNzaW9uRWxlbWVudCkge1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLm9uSW1wcmVzc2lvbi5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmltcHJlc3Npb25FbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZXJyb3JFbGVtZW50KSB7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMub25FcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVycm9yRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgb25JbXByZXNzaW9uKGVudHJpZXMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkge1xuICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzLmZpbmQoZSA9PiBlLmlzSW50ZXJzZWN0aW5nKTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLmltcHJlc3Npb25FbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy5pbXByZXNzaW9uRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0VBVEhFUl9JTVBSRVNTSU9OLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU3RvcCBvYnNlcnZpbmcgc2luY2UgZWxlbWVudCBoYXMgYmVlbiBzZWVuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGltcHJlc3Npb25TZWVuOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbkVycm9yKGVudHJpZXMpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkge1xuICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzLmZpbmQoZSA9PiBlLmlzSW50ZXJzZWN0aW5nKTtcblxuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLmVycm9yRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuZXJyb3JFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XRUFUSEVSX0xPQURfRVJST1IsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBTdG9wIG9ic2VydmluZyBzaW5jZSBlbGVtZW50IGhhcyBiZWVuIHNlZW5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZXJyb3JTZWVuOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvcGVuQ29udGV4dE1lbnUoaXNLZXlCb2FyZCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uVXBkYXRlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uVXBkYXRlKHRydWUpO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dDb250ZXh0TWVudTogdHJ1ZSxcbiAgICAgIGNvbnRleHRNZW51S2V5Ym9hcmQ6IGlzS2V5Qm9hcmQsXG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLm9wZW5Db250ZXh0TWVudShmYWxzZSwgZXZlbnQpO1xuICB9XG5cbiAgb25LZXlEb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9wZW5Db250ZXh0TWVudSh0cnVlLCBldmVudCk7XG4gICAgfVxuICB9XG5cbiAgb25VcGRhdGUoc2hvd0NvbnRleHRNZW51KSB7XG4gICAgaWYgKHRoaXMucHJvcHMub25VcGRhdGUpIHtcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGUoc2hvd0NvbnRleHRNZW51KTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dDb250ZXh0TWVudSB9KTtcbiAgfVxuXG4gIG9uUHJvdmlkZXJDbGljaygpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LldFQVRIRVJfT1BFTl9QUk9WSURFUl9VUkwsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzb3VyY2U6IFwiV0VBVEhFUlwiLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIENoZWNrIGlmIHdlYXRoZXIgc2hvdWxkIGJlIHJlbmRlcmVkXG4gICAgY29uc3QgaXNXZWF0aGVyRW5hYmxlZCA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1wic3lzdGVtLnNob3dXZWF0aGVyXCJdO1xuXG4gICAgaWYgKCFpc1dlYXRoZXJFbmFibGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5BcHAuaXNGb3JTdGFydHVwQ2FjaGUuV2VhdGhlciB8fFxuICAgICAgIXRoaXMucHJvcHMuV2VhdGhlci5pbml0aWFsaXplZFxuICAgICkge1xuICAgICAgcmV0dXJuIDxXZWF0aGVyUGxhY2Vob2xkZXIgLz47XG4gICAgfVxuXG4gICAgY29uc3QgeyBzaG93Q29udGV4dE1lbnUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCB7IHByb3BzIH0gPSB0aGlzO1xuXG4gICAgY29uc3QgeyBkaXNwYXRjaCwgUHJlZnMsIFdlYXRoZXIgfSA9IHByb3BzO1xuXG4gICAgY29uc3QgV0VBVEhFUl9TVUdHRVNUSU9OID0gV2VhdGhlci5zdWdnZXN0aW9ucz8uWzBdO1xuXG4gICAgY29uc3Qgb3V0ZXJDbGFzc05hbWUgPSBbXG4gICAgICBcIndlYXRoZXJcIixcbiAgICAgIFdlYXRoZXIuc2VhcmNoQWN0aXZlICYmIFwic2VhcmNoXCIsXG4gICAgICBwcm9wcy5pc0luU2VjdGlvbiAmJiBcInNlY3Rpb24td2VhdGhlclwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgY29uc3Qgc2hvd0RldGFpbGVkVmlldyA9IFByZWZzLnZhbHVlc1tcIndlYXRoZXIuZGlzcGxheVwiXSA9PT0gXCJkZXRhaWxlZFwiO1xuXG4gICAgLy8gTm90ZTogVGhlIHRlbXBlcmF0dXJlIHVuaXRzL2Rpc3BsYXkgb3B0aW9ucyB3aWxsIGJlY29tZSBzZWNvbmRhcnkgbWVudSBpdGVtc1xuICAgIGNvbnN0IFdFQVRIRVJfU09VUkNFX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICAgICAgLi4uKFByZWZzLnZhbHVlc1tcIndlYXRoZXIubG9jYXRpb25TZWFyY2hFbmFibGVkXCJdXG4gICAgICAgID8gW1wiQ2hhbmdlV2VhdGhlckxvY2F0aW9uXCJdXG4gICAgICAgIDogW10pLFxuICAgICAgLi4uKFByZWZzLnZhbHVlc1tcIndlYXRoZXIudGVtcGVyYXR1cmVVbml0c1wiXSA9PT0gXCJmXCJcbiAgICAgICAgPyBbXCJDaGFuZ2VUZW1wVW5pdENlbHNpdXNcIl1cbiAgICAgICAgOiBbXCJDaGFuZ2VUZW1wVW5pdEZhaHJlbmhlaXRcIl0pLFxuICAgICAgLi4uKFByZWZzLnZhbHVlc1tcIndlYXRoZXIuZGlzcGxheVwiXSA9PT0gXCJzaW1wbGVcIlxuICAgICAgICA/IFtcIkNoYW5nZVdlYXRoZXJEaXNwbGF5RGV0YWlsZWRcIl1cbiAgICAgICAgOiBbXCJDaGFuZ2VXZWF0aGVyRGlzcGxheVNpbXBsZVwiXSksXG4gICAgICBcIkhpZGVXZWF0aGVyXCIsXG4gICAgICBcIk9wZW5MZWFybk1vcmVVUkxcIixcbiAgICBdO1xuICAgIGNvbnN0IFdFQVRIRVJfU09VUkNFX0VSUk9SX0NPTlRFWFRfTUVOVV9PUFRJT05TID0gW1xuICAgICAgLi4uKFByZWZzLnZhbHVlc1tcIndlYXRoZXIubG9jYXRpb25TZWFyY2hFbmFibGVkXCJdXG4gICAgICAgID8gW1wiQ2hhbmdlV2VhdGhlckxvY2F0aW9uXCJdXG4gICAgICAgIDogW10pLFxuICAgICAgXCJIaWRlV2VhdGhlclwiLFxuICAgICAgXCJPcGVuTGVhcm5Nb3JlVVJMXCIsXG4gICAgXTtcblxuICAgIGNvbnN0IGNvbnRleHRNZW51ID0gY29udGV4dE9wdHMgPT4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVyQnV0dG9uQ29udGV4dE1lbnVXcmFwcGVyXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiXG4gICAgICAgICAgb25LZXlEb3duPXt0aGlzLm9uS2V5RG93bn1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2t9XG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLW1lbnUtc2VjdGlvbi10b29sdGlwXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3ZWF0aGVyQnV0dG9uQ29udGV4dE1lbnVcIlxuICAgICAgICA+XG4gICAgICAgICAge3Nob3dDb250ZXh0TWVudSA/IChcbiAgICAgICAgICAgIDxMaW5rTWVudVxuICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGluZGV4PXswfVxuICAgICAgICAgICAgICBzb3VyY2U9XCJXRUFUSEVSXCJcbiAgICAgICAgICAgICAgb25VcGRhdGU9e3RoaXMub25VcGRhdGV9XG4gICAgICAgICAgICAgIG9wdGlvbnM9e2NvbnRleHRPcHRzfVxuICAgICAgICAgICAgICBzaXRlPXt7XG4gICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy9rYi9jdXN0b21pemUtaXRlbXMtb24tZmlyZWZveC1uZXctdGFiLXBhZ2VcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgbGluaz1cImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy9rYi9jdXN0b21pemUtaXRlbXMtb24tZmlyZWZveC1uZXctdGFiLXBhZ2VcIlxuICAgICAgICAgICAgICBzaG91bGRTZW5kSW1wcmVzc2lvblN0YXRzPXtmYWxzZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcblxuICAgIGlmIChXZWF0aGVyLnNlYXJjaEFjdGl2ZSkge1xuICAgICAgcmV0dXJuIDxMb2NhdGlvblNlYXJjaCBvdXRlckNsYXNzTmFtZT17b3V0ZXJDbGFzc05hbWV9IC8+O1xuICAgIH0gZWxzZSBpZiAoV0VBVEhFUl9TVUdHRVNUSU9OKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHJlZj17dGhpcy5zZXRJbXByZXNzaW9uUmVmfSBjbGFzc05hbWU9e291dGVyQ2xhc3NOYW1lfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYXRoZXJDYXJkXCI+XG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2VhdGhlci1zZWUtZm9yZWNhc3RcIlxuICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wicHJvdmlkZXJcIjogXCJBY2N1V2VhdGhlcsKuXCJ9J1xuICAgICAgICAgICAgICBocmVmPXtXRUFUSEVSX1NVR0dFU1RJT04uZm9yZWNhc3QudXJsfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3ZWF0aGVySW5mb0xpbmtcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uUHJvdmlkZXJDbGlja31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVySWNvbkNvbFwiPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3ZWF0aGVySWNvbiBpY29uSWQke1dFQVRIRVJfU1VHR0VTVElPTi5jdXJyZW50X2NvbmRpdGlvbnMuaWNvbl9pZH1gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYXRoZXJUZXh0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVyRm9yZWNhc3RSb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIndlYXRoZXJUZW1wZXJhdHVyZVwiPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgV0VBVEhFUl9TVUdHRVNUSU9OLmN1cnJlbnRfY29uZGl0aW9ucy50ZW1wZXJhdHVyZVtcbiAgICAgICAgICAgICAgICAgICAgICAgIFByZWZzLnZhbHVlc1tcIndlYXRoZXIudGVtcGVyYXR1cmVVbml0c1wiXVxuICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAmZGVnO3tQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIl19XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVyQ2l0eVJvd1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwid2VhdGhlckNpdHlcIj5cbiAgICAgICAgICAgICAgICAgICAge1dlYXRoZXIubG9jYXRpb25EYXRhLmNpdHl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge3Nob3dEZXRhaWxlZFZpZXcgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYXRoZXJEZXRhaWxlZFN1bW1hcnlSb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3ZWF0aGVySGlnaExvd1RlbXBzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIExvdyBGb3JlY2FzdGVkIFRlbXBlcmF0dXJlICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBXRUFUSEVSX1NVR0dFU1RJT04uZm9yZWNhc3QuaGlnaFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJmRlZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHtQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIl19XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBTcGFjZXIgLyBCdWxsZXQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+JmJ1bGw7PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBMb3cgRm9yZWNhc3RlZCBUZW1wZXJhdHVyZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgV0VBVEhFUl9TVUdHRVNUSU9OLmZvcmVjYXN0Lmxvd1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJmRlZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHtQcmVmcy52YWx1ZXNbXCJ3ZWF0aGVyLnRlbXBlcmF0dXJlVW5pdHNcIl19XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwid2VhdGhlclRleHRTdW1tYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAge1dFQVRIRVJfU1VHR0VTVElPTi5jdXJyZW50X2NvbmRpdGlvbnMuc3VtbWFyeX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAge2NvbnRleHRNZW51KFdFQVRIRVJfU09VUkNFX0NPTlRFWFRfTUVOVV9PUFRJT05TKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3ZWF0aGVyU3BvbnNvclRleHRcIj5cbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13ZWF0aGVyLXNwb25zb3JlZFwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPSd7XCJwcm92aWRlclwiOiBcIkFjY3VXZWF0aGVywq5cIn0nXG4gICAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHJlZj17dGhpcy5zZXRFcnJvclJlZn0gY2xhc3NOYW1lPXtvdXRlckNsYXNzTmFtZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2VhdGhlck5vdEF2YWlsYWJsZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImljb24gaWNvbi1pbmZvLXdhcm5pbmdcIiAvPntcIiBcIn1cbiAgICAgICAgICA8cCBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2VhdGhlci1lcnJvci1ub3QtYXZhaWxhYmxlXCI+PC9wPlxuICAgICAgICAgIHtjb250ZXh0TWVudShXRUFUSEVSX1NPVVJDRV9FUlJPUl9DT05URVhUX01FTlVfT1BUSU9OUyl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgV2VhdGhlciA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgQXBwOiBzdGF0ZS5BcHAsXG4gIFdlYXRoZXI6IHN0YXRlLldlYXRoZXIsXG4gIFByZWZzOiBzdGF0ZS5QcmVmcyxcbiAgSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6IGdsb2JhbFRoaXMuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsXG4gIGRvY3VtZW50OiBnbG9iYWxUaGlzLmRvY3VtZW50LFxufSkpKF9XZWF0aGVyKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwczovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IERTRW1wdHlTdGF0ZSB9IGZyb20gXCIuLi9EU0VtcHR5U3RhdGUvRFNFbXB0eVN0YXRlXCI7XG5pbXBvcnQgeyBEU0NhcmQsIFBsYWNlaG9sZGVyRFNDYXJkIH0gZnJvbSBcIi4uL0RTQ2FyZC9EU0NhcmRcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQge1xuICBzZWxlY3RXZWF0aGVyUGxhY2VtZW50LFxuICB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcixcbn0gZnJvbSBcIi4uLy4uLy4uL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgU2VjdGlvbkNvbnRleHRNZW51IH0gZnJvbSBcIi4uL1NlY3Rpb25Db250ZXh0TWVudS9TZWN0aW9uQ29udGV4dE1lbnVcIjtcbmltcG9ydCB7IEludGVyZXN0UGlja2VyIH0gZnJvbSBcIi4uL0ludGVyZXN0UGlja2VyL0ludGVyZXN0UGlja2VyXCI7XG5pbXBvcnQgeyBBZEJhbm5lciB9IGZyb20gXCIuLi9BZEJhbm5lci9BZEJhbm5lci5qc3hcIjtcbmltcG9ydCB7IFBlcnNvbmFsaXplZENhcmQgfSBmcm9tIFwiLi4vUGVyc29uYWxpemVkQ2FyZC9QZXJzb25hbGl6ZWRDYXJkXCI7XG5pbXBvcnQgeyBGb2xsb3dTZWN0aW9uQnV0dG9uSGlnaGxpZ2h0IH0gZnJvbSBcIi4uL0ZlYXR1cmVIaWdobGlnaHQvRm9sbG93U2VjdGlvbkJ1dHRvbkhpZ2hsaWdodFwiO1xuaW1wb3J0IHsgTWVzc2FnZVdyYXBwZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9NZXNzYWdlV3JhcHBlci9NZXNzYWdlV3JhcHBlclwiO1xuaW1wb3J0IHsgVHJlbmRpbmdTZWFyY2hlcyB9IGZyb20gXCIuLi9UcmVuZGluZ1NlYXJjaGVzL1RyZW5kaW5nU2VhcmNoZXMuanN4XCI7XG5pbXBvcnQgeyBXZWF0aGVyIH0gZnJvbSBcIi4uLy4uL1dlYXRoZXIvV2VhdGhlci5qc3hcIjtcblxuLy8gUHJlZnNcbmNvbnN0IFBSRUZfU0VDVElPTlNfQ0FSRFNfRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmNhcmRzLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfU0VDVElPTlNfQ0FSRFNfVEhVTUJTX1VQX0RPV05fRU5BQkxFRCA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmNhcmRzLnRodW1ic1VwRG93bi5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1NFQ1RJT05TX1BFUlNPTkFMSVpBVElPTl9FTkFCTEVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMucGVyc29uYWxpemF0aW9uLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfVE9QSUNTX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS50b3BpY0xhYmVscy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1RPUElDU19TRUxFQ1RFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLnNlbGVjdGVkVG9waWNzXCI7XG5jb25zdCBQUkVGX1RPUElDU19BVkFJTEFCTEUgPSBcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi50b3BpY3NcIjtcbmNvbnN0IFBSRUZfVEhVTUJTX1VQX0RPV05fRU5BQkxFRCA9IFwiZGlzY292ZXJ5c3RyZWFtLnRodW1ic1VwRG93bi5lbmFibGVkXCI7XG5jb25zdCBQUkVGX0lOVEVSRVNUX1BJQ0tFUl9FTkFCTEVEID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuaW50ZXJlc3RQaWNrZXIuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9WSVNJQkxFX1NFQ1RJT05TID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuaW50ZXJlc3RQaWNrZXIudmlzaWJsZVNlY3Rpb25zXCI7XG5jb25zdCBQUkVGX0JJTExCT0FSRF9FTkFCTEVEID0gXCJuZXd0YWJBZFNpemUuYmlsbGJvYXJkXCI7XG5jb25zdCBQUkVGX0JJTExCT0FSRF9QT1NJVElPTiA9IFwibmV3dGFiQWRTaXplLmJpbGxib2FyZC5wb3NpdGlvblwiO1xuY29uc3QgUFJFRl9MRUFERVJCT0FSRF9FTkFCTEVEID0gXCJuZXd0YWJBZFNpemUubGVhZGVyYm9hcmRcIjtcbmNvbnN0IFBSRUZfTEVBREVSQk9BUkRfUE9TSVRJT04gPSBcIm5ld3RhYkFkU2l6ZS5sZWFkZXJib2FyZC5wb3NpdGlvblwiO1xuY29uc3QgUFJFRl9SRUZJTkVEX0NBUkRTX0VOQUJMRUQgPSBcImRpc2NvdmVyeXN0cmVhbS5yZWZpbmVkQ2FyZHNMYXlvdXQuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fVVNFUiA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLnBlcnNvbmFsaXphdGlvbi5pbmZlcnJlZC51c2VyLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfVFJFTkRJTkdfU0VBUkNIID0gXCJ0cmVuZGluZ1NlYXJjaC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1RSRU5ESU5HX1NFQVJDSF9TWVNURU0gPSBcInN5c3RlbS50cmVuZGluZ1NlYXJjaC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1NFQVJDSF9FTkdJTkUgPSBcInRyZW5kaW5nU2VhcmNoLmRlZmF1bHRTZWFyY2hFbmdpbmVcIjtcbmNvbnN0IFBSRUZfVFJFTkRJTkdfU0VBUkNIX1ZBUklBTlQgPSBcInRyZW5kaW5nU2VhcmNoLnZhcmlhbnRcIjtcbmNvbnN0IFBSRUZfREFJTFlfQlJJRUZfU0VDVElPTklEID0gXCJkaXNjb3ZlcnlzdHJlYW0uZGFpbHlCcmllZi5zZWN0aW9uSWRcIjtcblxuZnVuY3Rpb24gZ2V0TGF5b3V0RGF0YShcbiAgcmVzcG9uc2l2ZUxheW91dHMsXG4gIGluZGV4LFxuICByZWZpbmVkQ2FyZHNMYXlvdXQsXG4gIHNlY3Rpb25LZXlcbikge1xuICBsZXQgbGF5b3V0RGF0YSA9IHtcbiAgICBjbGFzc05hbWVzOiBbXSxcbiAgICBpbWFnZVNpemVzOiB7fSxcbiAgfTtcblxuICByZXNwb25zaXZlTGF5b3V0cy5mb3JFYWNoKGxheW91dCA9PiB7XG4gICAgbGF5b3V0LnRpbGVzLmZvckVhY2goKHRpbGUsIHRpbGVJbmRleCkgPT4ge1xuICAgICAgaWYgKHRpbGUucG9zaXRpb24gPT09IGluZGV4KSB7XG4gICAgICAgIC8vIFdoZW4gdHJlbmRpbmcgc2VhcmNoZXMgc2hvdWxkIGJlIHBsYWNlZCBpbiB0aGUgYHRvcF9zdG9yaWVzX3NlY3Rpb25gLFxuICAgICAgICAvLyB3ZSB1cGRhdGUgdGhlIGxheW91dCBzbyB0aGF0IHRoZSBmaXJzdCBpdGVtIGlzIGFsd2F5cyBhIG1lZGl1bSBjYXJkIHRvIG1ha2VcbiAgICAgICAgLy8gcm9vbSBmb3IgdGhlIHRyZW5kaW5nIHNlYXJjaCB3aWRnZXRcbiAgICAgICAgaWYgKHNlY3Rpb25LZXkgPT09IFwidG9wX3N0b3JpZXNfc2VjdGlvblwiICYmIHRpbGVJbmRleCA9PT0gMCkge1xuICAgICAgICAgIGxheW91dERhdGEuY2xhc3NOYW1lcy5wdXNoKGBjb2wtJHtsYXlvdXQuY29sdW1uQ291bnR9LW1lZGl1bWApO1xuICAgICAgICAgIGxheW91dERhdGEuY2xhc3NOYW1lcy5wdXNoKFxuICAgICAgICAgICAgYGNvbC0ke2xheW91dC5jb2x1bW5Db3VudH0tcG9zaXRpb24tJHt0aWxlSW5kZXh9YFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGF5b3V0RGF0YS5pbWFnZVNpemVzW2xheW91dC5jb2x1bW5Db3VudF0gPSBcIm1lZGl1bVwiO1xuICAgICAgICAgIGxheW91dERhdGEuY2xhc3NOYW1lcy5wdXNoKGBjb2wtJHtsYXlvdXQuY29sdW1uQ291bnR9LWhpZGUtZXhjZXJwdGApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxheW91dERhdGEuY2xhc3NOYW1lcy5wdXNoKGBjb2wtJHtsYXlvdXQuY29sdW1uQ291bnR9LSR7dGlsZS5zaXplfWApO1xuICAgICAgICAgIGxheW91dERhdGEuY2xhc3NOYW1lcy5wdXNoKFxuICAgICAgICAgICAgYGNvbC0ke2xheW91dC5jb2x1bW5Db3VudH0tcG9zaXRpb24tJHt0aWxlSW5kZXh9YFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGF5b3V0RGF0YS5pbWFnZVNpemVzW2xheW91dC5jb2x1bW5Db3VudF0gPSB0aWxlLnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgQVBJIHRlbGxzIHVzIHdoZXRoZXIgdGhlIHRpbGUgc2hvdWxkIHNob3cgdGhlIGV4Y2VycHQgb3Igbm90LlxuICAgICAgICAvLyBBcHBseSBleHRyYSBzdHlsZXMgYWNjb3JkaW5nbHkuXG4gICAgICAgIGlmICh0aWxlLmhhc0V4Y2VycHQpIHtcbiAgICAgICAgICBpZiAodGlsZS5zaXplID09PSBcIm1lZGl1bVwiICYmIHJlZmluZWRDYXJkc0xheW91dCkge1xuICAgICAgICAgICAgbGF5b3V0RGF0YS5jbGFzc05hbWVzLnB1c2goXG4gICAgICAgICAgICAgIGBjb2wtJHtsYXlvdXQuY29sdW1uQ291bnR9LWhpZGUtZXhjZXJwdGBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxheW91dERhdGEuY2xhc3NOYW1lcy5wdXNoKFxuICAgICAgICAgICAgICBgY29sLSR7bGF5b3V0LmNvbHVtbkNvdW50fS1zaG93LWV4Y2VycHRgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXlvdXREYXRhLmNsYXNzTmFtZXMucHVzaChgY29sLSR7bGF5b3V0LmNvbHVtbkNvdW50fS1oaWRlLWV4Y2VycHRgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gbGF5b3V0RGF0YTtcbn1cblxuLy8gZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGFtb3VudCBvZiB0aWxlcyBzaG93biBwZXIgc2VjdGlvbiBwZXIgdmlld3BvcnRcbmZ1bmN0aW9uIGdldE1heFRpbGVzKHJlc3BvbnNpdmVMYXlvdXRzKSB7XG4gIHJldHVybiByZXNwb25zaXZlTGF5b3V0c1xuICAgIC5mbGF0TWFwKHJlc3BvbnNpdmVMYXlvdXQgPT4gcmVzcG9uc2l2ZUxheW91dClcbiAgICAucmVkdWNlKChhY2MsIHQpID0+IHtcbiAgICAgIGFjY1t0LmNvbHVtbkNvdW50XSA9IHQudGlsZXMubGVuZ3RoO1xuXG4gICAgICAvLyBVcGRhdGUgbWF4VGlsZSBpZiBjdXJyZW50IHRpbGUgY291bnQgaXMgZ3JlYXRlclxuICAgICAgaWYgKCFhY2MubWF4VGlsZSB8fCB0LnRpbGVzLmxlbmd0aCA+IGFjYy5tYXhUaWxlKSB7XG4gICAgICAgIGFjYy5tYXhUaWxlID0gdC50aWxlcy5sZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZyBpbiB1c2VyIHByZWZlcmVuY2VzXG4gKiBpbnRvIGEgY2xlYW5lZC11cCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlZiAtIFRoZSBjb21tYS1zZXBhcmF0ZWQgcHJlZiB0byBiZSBjb252ZXJ0ZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nW119IEFuIGFycmF5IG9mIHRyaW1tZWQgc3RyaW5ncywgZXhjbHVkaW5nIGVtcHR5IHZhbHVlcy5cbiAqL1xuXG5jb25zdCBwcmVmVG9BcnJheSA9IChwcmVmID0gXCJcIikgPT4ge1xuICByZXR1cm4gcHJlZlxuICAgIC5zcGxpdChcIixcIilcbiAgICAubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkpXG4gICAgLmZpbHRlcihpdGVtID0+IGl0ZW0pO1xufTtcblxuZnVuY3Rpb24gc2hvdWxkU2hvd09NQ0hpZ2hsaWdodChtZXNzYWdlRGF0YSwgY29tcG9uZW50SWQpIHtcbiAgaWYgKCFtZXNzYWdlRGF0YSB8fCBPYmplY3Qua2V5cyhtZXNzYWdlRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBtZXNzYWdlRGF0YT8uY29udGVudD8ubWVzc2FnZVR5cGUgPT09IGNvbXBvbmVudElkO1xufVxuXG5mdW5jdGlvbiBDYXJkU2VjdGlvbih7XG4gIHNlY3Rpb25Qb3NpdGlvbixcbiAgc2VjdGlvbixcbiAgZGlzcGF0Y2gsXG4gIHR5cGUsXG4gIGZpcnN0VmlzaWJsZVRpbWVzdGFtcCxcbiAgY3RhQnV0dG9uVmFyaWFudCxcbiAgY3RhQnV0dG9uU3BvbnNvcnMsXG4gIGFueVNlY3Rpb25zRm9sbG93ZWQsXG4gIHNob3dXZWF0aGVyLFxufSkge1xuICBjb25zdCBwcmVmcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlByZWZzLnZhbHVlcyk7XG5cbiAgY29uc3QgeyBtZXNzYWdlRGF0YSB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuTWVzc2FnZXMpO1xuXG4gIGNvbnN0IHsgc2VjdGlvblBlcnNvbmFsaXphdGlvbiB9ID0gdXNlU2VsZWN0b3IoXG4gICAgc3RhdGUgPT4gc3RhdGUuRGlzY292ZXJ5U3RyZWFtXG4gICk7XG4gIGNvbnN0IHNob3dUb3BpY3MgPSBwcmVmc1tQUkVGX1RPUElDU19FTkFCTEVEXTtcbiAgY29uc3QgbWF5SGF2ZVNlY3Rpb25zQ2FyZHMgPSBwcmVmc1tQUkVGX1NFQ1RJT05TX0NBUkRTX0VOQUJMRURdO1xuICBjb25zdCBtYXlIYXZlU2VjdGlvbnNDYXJkc1RodW1ic1VwRG93biA9XG4gICAgcHJlZnNbUFJFRl9TRUNUSU9OU19DQVJEU19USFVNQlNfVVBfRE9XTl9FTkFCTEVEXTtcbiAgY29uc3QgbWF5SGF2ZVRodW1ic1VwRG93biA9IHByZWZzW1BSRUZfVEhVTUJTX1VQX0RPV05fRU5BQkxFRF07XG4gIGNvbnN0IHNlbGVjdGVkVG9waWNzID0gcHJlZnNbUFJFRl9UT1BJQ1NfU0VMRUNURURdO1xuICBjb25zdCBhdmFpbGFibGVUb3BpY3MgPSBwcmVmc1tQUkVGX1RPUElDU19BVkFJTEFCTEVdO1xuICBjb25zdCByZWZpbmVkQ2FyZHNMYXlvdXQgPSBwcmVmc1tQUkVGX1JFRklORURfQ0FSRFNfRU5BQkxFRF07XG5cbiAgY29uc3QgdHJlbmRpbmdFbmFibGVkID1cbiAgICBwcmVmc1tQUkVGX1RSRU5ESU5HX1NFQVJDSF0gJiZcbiAgICBwcmVmc1tQUkVGX1RSRU5ESU5HX1NFQVJDSF9TWVNURU1dICYmXG4gICAgcHJlZnNbUFJFRl9TRUFSQ0hfRU5HSU5FXT8udG9Mb3dlckNhc2UoKSA9PT0gXCJnb29nbGVcIjtcbiAgY29uc3QgdHJlbmRpbmdWYXJpYW50ID0gcHJlZnNbUFJFRl9UUkVORElOR19TRUFSQ0hfVkFSSUFOVF07XG5cbiAgY29uc3Qgc2hvdWxkU2hvd1RyZW5kaW5nU2VhcmNoID0gdHJlbmRpbmdFbmFibGVkICYmIHRyZW5kaW5nVmFyaWFudCA9PT0gXCJiXCI7XG5cbiAgY29uc3QgbWF5SGF2ZVNlY3Rpb25zUGVyc29uYWxpemF0aW9uID1cbiAgICBwcmVmc1tQUkVGX1NFQ1RJT05TX1BFUlNPTkFMSVpBVElPTl9FTkFCTEVEXTtcblxuICBjb25zdCB7IHNlY3Rpb25LZXksIHRpdGxlLCBzdWJ0aXRsZSB9ID0gc2VjdGlvbjtcbiAgY29uc3QgeyByZXNwb25zaXZlTGF5b3V0cywgbmFtZTogbGF5b3V0TmFtZSB9ID0gc2VjdGlvbi5sYXlvdXQ7XG5cbiAgY29uc3QgZm9sbG93aW5nID0gc2VjdGlvblBlcnNvbmFsaXphdGlvbltzZWN0aW9uS2V5XT8uaXNGb2xsb3dlZDtcblxuICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuQ0FSRF9TRUNUSU9OX0lNUFJFU1NJT04sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzZWN0aW9uOiBzZWN0aW9uS2V5LFxuICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHNlY3Rpb25Qb3NpdGlvbixcbiAgICAgICAgICBpc19zZWN0aW9uX2ZvbGxvd2VkOiBmb2xsb3dpbmcsXG4gICAgICAgICAgbGF5b3V0X25hbWU6IGxheW91dE5hbWUsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaCwgc2VjdGlvbktleSwgc2VjdGlvblBvc2l0aW9uLCBmb2xsb3dpbmcsIGxheW91dE5hbWVdKTtcblxuICAvLyBSZWYgdG8gaG9sZCB0aGUgc2VjdGlvbiBlbGVtZW50XG4gIGNvbnN0IHNlY3Rpb25SZWZzID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uKTtcblxuICAvLyBPbmx5IHNob3cgdGh1bWJzIHVwL2Rvd24gYnV0dG9ucyBpZiBib3RoIGRlZmF1bHQgdGh1bWJzIGFuZCBzZWN0aW9ucyB0aHVtYnMgcHJlZnMgYXJlIGVuYWJsZWRcbiAgY29uc3QgbWF5SGF2ZUNvbWJpbmVkVGh1bWJzVXBEb3duID1cbiAgICBtYXlIYXZlU2VjdGlvbnNDYXJkc1RodW1ic1VwRG93biAmJiBtYXlIYXZlVGh1bWJzVXBEb3duO1xuXG4gIGNvbnN0IG9uRm9sbG93Q2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZFNlY3Rpb25EYXRhID0ge1xuICAgICAgLi4uc2VjdGlvblBlcnNvbmFsaXphdGlvbixcbiAgICAgIFtzZWN0aW9uS2V5XToge1xuICAgICAgICBpc0ZvbGxvd2VkOiB0cnVlLFxuICAgICAgICBpc0Jsb2NrZWQ6IGZhbHNlLFxuICAgICAgICBmb2xsb3dlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9LFxuICAgIH07XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VULFxuICAgICAgICBkYXRhOiB1cGRhdGVkU2VjdGlvbkRhdGEsXG4gICAgICB9KVxuICAgICk7XG4gICAgLy8gVGVsZW1ldHJ5IEV2ZW50IERpc3BhdGNoXG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogXCJGT0xMT1dfU0VDVElPTlwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc2VjdGlvbjogc2VjdGlvbktleSxcbiAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBzZWN0aW9uUG9zaXRpb24sXG4gICAgICAgICAgZXZlbnRfc291cmNlOiBcIk1PWl9CVVRUT05cIixcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoLCBzZWN0aW9uUGVyc29uYWxpemF0aW9uLCBzZWN0aW9uS2V5LCBzZWN0aW9uUG9zaXRpb25dKTtcblxuICBjb25zdCBvblVuZm9sbG93Q2xpY2sgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlZFNlY3Rpb25EYXRhID0geyAuLi5zZWN0aW9uUGVyc29uYWxpemF0aW9uIH07XG4gICAgZGVsZXRlIHVwZGF0ZWRTZWN0aW9uRGF0YVtzZWN0aW9uS2V5XTtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5TRUNUSU9OX1BFUlNPTkFMSVpBVElPTl9TRVQsXG4gICAgICAgIGRhdGE6IHVwZGF0ZWRTZWN0aW9uRGF0YSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIC8vIFRlbGVtZXRyeSBFdmVudCBEaXNwYXRjaFxuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IFwiVU5GT0xMT1dfU0VDVElPTlwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc2VjdGlvbjogc2VjdGlvbktleSxcbiAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiBzZWN0aW9uUG9zaXRpb24sXG4gICAgICAgICAgZXZlbnRfc291cmNlOiBcIk1PWl9CVVRUT05cIixcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoLCBzZWN0aW9uUGVyc29uYWxpemF0aW9uLCBzZWN0aW9uS2V5LCBzZWN0aW9uUG9zaXRpb25dKTtcblxuICBjb25zdCB7IG1heFRpbGUgfSA9IGdldE1heFRpbGVzKHJlc3BvbnNpdmVMYXlvdXRzKTtcbiAgY29uc3QgZGlzcGxheVNlY3Rpb25zID0gc2VjdGlvbi5kYXRhLnNsaWNlKDAsIG1heFRpbGUpO1xuICBjb25zdCBpc1NlY3Rpb25FbXB0eSA9ICFkaXNwbGF5U2VjdGlvbnM/Lmxlbmd0aDtcbiAgY29uc3Qgc2hvdWxkU2hvd0xhYmVscyA9IHNlY3Rpb25LZXkgPT09IFwidG9wX3N0b3JpZXNfc2VjdGlvblwiICYmIHNob3dUb3BpY3M7XG5cbiAgaWYgKGlzU2VjdGlvbkVtcHR5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBzZWN0aW9uQ29udGV4dFdyYXBwZXIgPSAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWNvbnRleHQtd3JhcHBlclwiPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2ZvbGxvd2luZyA/IFwic2VjdGlvbi1mb2xsb3cgZm9sbG93aW5nXCIgOiBcInNlY3Rpb24tZm9sbG93XCJ9XG4gICAgICA+XG4gICAgICAgIHshYW55U2VjdGlvbnNGb2xsb3dlZCAmJlxuICAgICAgICAgIHNlY3Rpb25Qb3NpdGlvbiA9PT0gMSAmJlxuICAgICAgICAgIHNob3VsZFNob3dPTUNIaWdobGlnaHQoXG4gICAgICAgICAgICBtZXNzYWdlRGF0YSxcbiAgICAgICAgICAgIFwiRm9sbG93U2VjdGlvbkJ1dHRvbkhpZ2hsaWdodFwiXG4gICAgICAgICAgKSAmJiAoXG4gICAgICAgICAgICA8TWVzc2FnZVdyYXBwZXIgZGlzcGF0Y2g9e2Rpc3BhdGNofT5cbiAgICAgICAgICAgICAgPEZvbGxvd1NlY3Rpb25CdXR0b25IaWdobGlnaHRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFBvc2l0aW9uPVwiaW5zZXQtYmxvY2stY2VudGVyXCJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbj1cImFycm93LWlubGluZS1zdGFydFwiXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICAgIGZlYXR1cmU9XCJGRUFUVVJFX0ZPTExPV19TRUNUSU9OX0JVVFRPTlwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L01lc3NhZ2VXcmFwcGVyPlxuICAgICAgICAgICl9XG4gICAgICAgIHshYW55U2VjdGlvbnNGb2xsb3dlZCAmJlxuICAgICAgICAgIHNlY3Rpb25Qb3NpdGlvbiA9PT0gMSAmJlxuICAgICAgICAgIHNob3VsZFNob3dPTUNIaWdobGlnaHQoXG4gICAgICAgICAgICBtZXNzYWdlRGF0YSxcbiAgICAgICAgICAgIFwiRm9sbG93U2VjdGlvbkJ1dHRvbkFsdEhpZ2hsaWdodFwiXG4gICAgICAgICAgKSAmJiAoXG4gICAgICAgICAgICA8TWVzc2FnZVdyYXBwZXIgZGlzcGF0Y2g9e2Rpc3BhdGNofT5cbiAgICAgICAgICAgICAgPEZvbGxvd1NlY3Rpb25CdXR0b25IaWdobGlnaHRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFBvc2l0aW9uPVwiaW5zZXQtYmxvY2stY2VudGVyXCJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbj1cImFycm93LWlubGluZS1zdGFydFwiXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICAgIGZlYXR1cmU9XCJGRUFUVVJFX0FMVF9GT0xMT1dfU0VDVElPTl9CVVRUT05cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9NZXNzYWdlV3JhcHBlcj5cbiAgICAgICAgICApfVxuICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2ZvbGxvd2luZyA/IG9uVW5mb2xsb3dDbGljayA6IG9uRm9sbG93Q2xpY2t9XG4gICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgIGluZGV4PXtzZWN0aW9uUG9zaXRpb259XG4gICAgICAgICAgc2VjdGlvbj17c2VjdGlvbktleX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLWJ1dHRvbi1mb2xsb3ctdGV4dFwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1mb2xsb3ctYnV0dG9uXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLWJ1dHRvbi1mb2xsb3dpbmctdGV4dFwiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1mb2xsb3dpbmctYnV0dG9uXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLWJ1dHRvbi11bmZvbGxvdy10ZXh0XCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLXVuZm9sbG93LWJ1dHRvblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9tb3otYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8U2VjdGlvbkNvbnRleHRNZW51XG4gICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgaW5kZXg9e3NlY3Rpb25Qb3NpdGlvbn1cbiAgICAgICAgZm9sbG93aW5nPXtmb2xsb3dpbmd9XG4gICAgICAgIHNlY3Rpb25QZXJzb25hbGl6YXRpb249e3NlY3Rpb25QZXJzb25hbGl6YXRpb259XG4gICAgICAgIHNlY3Rpb25LZXk9e3NlY3Rpb25LZXl9XG4gICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgc2VjdGlvblBvc2l0aW9uPXtzZWN0aW9uUG9zaXRpb259XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uXG4gICAgICBjbGFzc05hbWU9XCJkcy1zZWN0aW9uXCJcbiAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICBzZWN0aW9uUmVmcy5jdXJyZW50WzBdID0gZWw7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1oZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1oZWFkaW5nLWlubGluZS1zdGFydFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPnt0aXRsZX08L2gyPlxuICAgICAgICAgICAge3N1YnRpdGxlICYmIDxwIGNsYXNzTmFtZT1cInNlY3Rpb24tc3VidGl0bGVcIj57c3VidGl0bGV9PC9wPn1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7c2hvd1dlYXRoZXIgJiYgPFdlYXRoZXIgaXNJblNlY3Rpb249e3RydWV9IC8+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge21heUhhdmVTZWN0aW9uc1BlcnNvbmFsaXphdGlvbiA/IHNlY3Rpb25Db250ZXh0V3JhcHBlciA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZHMtc2VjdGlvbi1ncmlkIGRzLWNhcmQtZ3JpZGB9PlxuICAgICAgICB7c2VjdGlvbi5kYXRhLnNsaWNlKDAsIG1heFRpbGUpLm1hcCgocmVjLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxheW91dERhdGEgPSBnZXRMYXlvdXREYXRhKFxuICAgICAgICAgICAgcmVzcG9uc2l2ZUxheW91dHMsXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIHJlZmluZWRDYXJkc0xheW91dCxcbiAgICAgICAgICAgIHNob3VsZFNob3dUcmVuZGluZ1NlYXJjaCAmJiBzZWN0aW9uS2V5XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNvbnN0IHsgY2xhc3NOYW1lcywgaW1hZ2VTaXplcyB9ID0gbGF5b3V0RGF0YTtcbiAgICAgICAgICBpZiAoIXJlYyB8fCByZWMucGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiA8UGxhY2Vob2xkZXJEU0NhcmQga2V5PXtgZHNjYXJkLSR7aW5kZXh9YH0gLz47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgY2FyZCA9IChcbiAgICAgICAgICAgIDxEU0NhcmRcbiAgICAgICAgICAgICAga2V5PXtgZHNjYXJkLSR7cmVjLmlkfWB9XG4gICAgICAgICAgICAgIHBvcz17cmVjLnBvc31cbiAgICAgICAgICAgICAgZmxpZ2h0SWQ9e3JlYy5mbGlnaHRfaWR9XG4gICAgICAgICAgICAgIGltYWdlX3NyYz17cmVjLmltYWdlX3NyY31cbiAgICAgICAgICAgICAgcmF3X2ltYWdlX3NyYz17cmVjLnJhd19pbWFnZV9zcmN9XG4gICAgICAgICAgICAgIGljb25fc3JjPXtyZWMuaWNvbl9zcmN9XG4gICAgICAgICAgICAgIHdvcmRfY291bnQ9e3JlYy53b3JkX2NvdW50fVxuICAgICAgICAgICAgICB0aW1lX3RvX3JlYWQ9e3JlYy50aW1lX3RvX3JlYWR9XG4gICAgICAgICAgICAgIHRpdGxlPXtyZWMudGl0bGV9XG4gICAgICAgICAgICAgIHRvcGljPXtyZWMudG9waWN9XG4gICAgICAgICAgICAgIGZlYXR1cmVzPXtyZWMuZmVhdHVyZXN9XG4gICAgICAgICAgICAgIGV4Y2VycHQ9e3JlYy5leGNlcnB0fVxuICAgICAgICAgICAgICB1cmw9e3JlYy51cmx9XG4gICAgICAgICAgICAgIGlkPXtyZWMuaWR9XG4gICAgICAgICAgICAgIHNoaW09e3JlYy5zaGltfVxuICAgICAgICAgICAgICBmZXRjaFRpbWVzdGFtcD17cmVjLmZldGNoVGltZXN0YW1wfVxuICAgICAgICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICAgICAgICBjb250ZXh0PXtyZWMuY29udGV4dH1cbiAgICAgICAgICAgICAgc3BvbnNvcj17cmVjLnNwb25zb3J9XG4gICAgICAgICAgICAgIHNwb25zb3JlZF9ieV9vdmVycmlkZT17cmVjLnNwb25zb3JlZF9ieV9vdmVycmlkZX1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICBzb3VyY2U9e3JlYy5kb21haW59XG4gICAgICAgICAgICAgIHB1Ymxpc2hlcj17cmVjLnB1Ymxpc2hlcn1cbiAgICAgICAgICAgICAgcG9ja2V0X2lkPXtyZWMucG9ja2V0X2lkfVxuICAgICAgICAgICAgICBjb250ZXh0X3R5cGU9e3JlYy5jb250ZXh0X3R5cGV9XG4gICAgICAgICAgICAgIGJvb2ttYXJrR3VpZD17cmVjLmJvb2ttYXJrR3VpZH1cbiAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25faWQ9e3JlYy5yZWNvbW1lbmRhdGlvbl9pZH1cbiAgICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXtmaXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgICAgICAgIGNvcnB1c19pdGVtX2lkPXtyZWMuY29ycHVzX2l0ZW1faWR9XG4gICAgICAgICAgICAgIHNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZD17cmVjLnNjaGVkdWxlZF9jb3JwdXNfaXRlbV9pZH1cbiAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYXQ9e3JlYy5yZWNvbW1lbmRlZF9hdH1cbiAgICAgICAgICAgICAgcmVjZWl2ZWRfcmFuaz17cmVjLnJlY2VpdmVkX3Jhbmt9XG4gICAgICAgICAgICAgIGZvcm1hdD17cmVjLmZvcm1hdH1cbiAgICAgICAgICAgICAgYWx0X3RleHQ9e3JlYy5hbHRfdGV4dH1cbiAgICAgICAgICAgICAgbWF5SGF2ZVRodW1ic1VwRG93bj17bWF5SGF2ZUNvbWJpbmVkVGh1bWJzVXBEb3dufVxuICAgICAgICAgICAgICBtYXlIYXZlU2VjdGlvbnNDYXJkcz17bWF5SGF2ZVNlY3Rpb25zQ2FyZHN9XG4gICAgICAgICAgICAgIHNob3dUb3BpY3M9e3Nob3VsZFNob3dMYWJlbHN9XG4gICAgICAgICAgICAgIHNlbGVjdGVkVG9waWNzPXtzZWxlY3RlZFRvcGljc31cbiAgICAgICAgICAgICAgYXZhaWxhYmxlVG9waWNzPXthdmFpbGFibGVUb3BpY3N9XG4gICAgICAgICAgICAgIGN0YUJ1dHRvblNwb25zb3JzPXtjdGFCdXR0b25TcG9uc29yc31cbiAgICAgICAgICAgICAgY3RhQnV0dG9uVmFyaWFudD17Y3RhQnV0dG9uVmFyaWFudH1cbiAgICAgICAgICAgICAgc2VjdGlvbnNDbGFzc05hbWVzPXtjbGFzc05hbWVzLmpvaW4oXCIgXCIpfVxuICAgICAgICAgICAgICBzZWN0aW9uc0NhcmRJbWFnZVNpemVzPXtpbWFnZVNpemVzfVxuICAgICAgICAgICAgICBzZWN0aW9uPXtzZWN0aW9uS2V5fVxuICAgICAgICAgICAgICBzZWN0aW9uUG9zaXRpb249e3NlY3Rpb25Qb3NpdGlvbn1cbiAgICAgICAgICAgICAgc2VjdGlvbkZvbGxvd2VkPXtmb2xsb3dpbmd9XG4gICAgICAgICAgICAgIHNlY3Rpb25MYXlvdXROYW1lPXtsYXlvdXROYW1lfVxuICAgICAgICAgICAgICBpc1RpbWVTZW5zaXRpdmU9e3JlYy5pc1RpbWVTZW5zaXRpdmV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGluZGV4ID09PSAwICYmXG4gICAgICAgICAgICBzaG91bGRTaG93VHJlbmRpbmdTZWFyY2ggJiZcbiAgICAgICAgICAgIHNlY3Rpb25LZXkgPT09IFwidG9wX3N0b3JpZXNfc2VjdGlvblwiXG4gICAgICAgICAgICA/IFtjYXJkLCA8VHJlbmRpbmdTZWFyY2hlcyBrZXk9XCJ0cmVuZGluZ1wiIC8+XVxuICAgICAgICAgICAgOiBbY2FyZF07XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuXG5mdW5jdGlvbiBDYXJkU2VjdGlvbnMoe1xuICBkYXRhLFxuICBmZWVkLFxuICBkaXNwYXRjaCxcbiAgdHlwZSxcbiAgZmlyc3RWaXNpYmxlVGltZXN0YW1wLFxuICBjdGFCdXR0b25WYXJpYW50LFxuICBjdGFCdXR0b25TcG9uc29ycyxcbn0pIHtcbiAgY29uc3QgcHJlZnMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5QcmVmcy52YWx1ZXMpO1xuICBjb25zdCB7IHNwb2NzLCBzZWN0aW9uUGVyc29uYWxpemF0aW9uIH0gPSB1c2VTZWxlY3RvcihcbiAgICBzdGF0ZSA9PiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW1cbiAgKTtcbiAgY29uc3QgeyBtZXNzYWdlRGF0YSB9ID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuTWVzc2FnZXMpO1xuICBjb25zdCB3ZWF0aGVyUGxhY2VtZW50ID0gdXNlU2VsZWN0b3Ioc2VsZWN0V2VhdGhlclBsYWNlbWVudCk7XG4gIGNvbnN0IGRhaWx5QnJpZWZTZWN0aW9uSWQgPVxuICAgIHByZWZzLnRyYWluaG9wQ29uZmlnPy5kYWlseUJyaWVmaW5nPy5zZWN0aW9uSWQgfHxcbiAgICBwcmVmc1tQUkVGX0RBSUxZX0JSSUVGX1NFQ1RJT05JRF07XG4gIGNvbnN0IHdlYXRoZXJFbmFibGVkID0gcHJlZnMuc2hvd1dlYXRoZXI7XG4gIGNvbnN0IHBlcnNvbmFsaXphdGlvbkVuYWJsZWQgPSBwcmVmc1tQUkVGX1NFQ1RJT05TX1BFUlNPTkFMSVpBVElPTl9FTkFCTEVEXTtcbiAgY29uc3QgaW50ZXJlc3RQaWNrZXJFbmFibGVkID0gcHJlZnNbUFJFRl9JTlRFUkVTVF9QSUNLRVJfRU5BQkxFRF07XG5cbiAgLy8gSGFuZGxlIGEgcmVuZGVyIGJlZm9yZSBmZWVkIGhhcyBiZWVuIGZldGNoZWQgYnkgZGlzcGxheWluZyBub3RoaW5nXG4gIGlmICghZGF0YSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgdmlzaWJsZVNlY3Rpb25zID0gcHJlZlRvQXJyYXkocHJlZnNbUFJFRl9WSVNJQkxFX1NFQ1RJT05TXSk7XG4gIGNvbnN0IHsgaW50ZXJlc3RQaWNrZXIgfSA9IGRhdGE7XG5cbiAgLy8gVXNlZCB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHNob3cgRm9sbG93U2VjdGlvbkJ1dHRvbkhpZ2hsaWdodFxuICBjb25zdCBhbnlTZWN0aW9uc0ZvbGxvd2VkID1cbiAgICBzZWN0aW9uUGVyc29uYWxpemF0aW9uICYmXG4gICAgT2JqZWN0LnZhbHVlcyhzZWN0aW9uUGVyc29uYWxpemF0aW9uKS5zb21lKHNlY3Rpb24gPT4gc2VjdGlvbj8uaXNGb2xsb3dlZCk7XG5cbiAgbGV0IGZpbHRlcmVkU2VjdGlvbnMgPSBkYXRhLnNlY3Rpb25zLmZpbHRlcihcbiAgICBzZWN0aW9uID0+ICFzZWN0aW9uUGVyc29uYWxpemF0aW9uW3NlY3Rpb24uc2VjdGlvbktleV0/LmlzQmxvY2tlZFxuICApO1xuXG4gIGlmIChpbnRlcmVzdFBpY2tlckVuYWJsZWQgJiYgdmlzaWJsZVNlY3Rpb25zLmxlbmd0aCkge1xuICAgIGZpbHRlcmVkU2VjdGlvbnMgPSB2aXNpYmxlU2VjdGlvbnMucmVkdWNlKChhY2MsIHZpc2libGVTZWN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBmb3VuZCA9IGZpbHRlcmVkU2VjdGlvbnMuZmluZChcbiAgICAgICAgKHsgc2VjdGlvbktleSB9KSA9PiBzZWN0aW9uS2V5ID09PSB2aXNpYmxlU2VjdGlvblxuICAgICAgKTtcbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICBhY2MucHVzaChmb3VuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIFtdKTtcbiAgfVxuXG4gIGxldCBzZWN0aW9uc1RvUmVuZGVyID0gZmlsdGVyZWRTZWN0aW9ucy5tYXAoKHNlY3Rpb24sIHNlY3Rpb25Qb3NpdGlvbikgPT4gKFxuICAgIDxDYXJkU2VjdGlvblxuICAgICAga2V5PXtgc2VjdGlvbi0ke3NlY3Rpb24uc2VjdGlvbktleX1gfVxuICAgICAgc2VjdGlvblBvc2l0aW9uPXtzZWN0aW9uUG9zaXRpb259XG4gICAgICBzZWN0aW9uPXtzZWN0aW9ufVxuICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgdHlwZT17dHlwZX1cbiAgICAgIGZpcnN0VmlzaWJsZVRpbWVzdGFtcD17Zmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgY3RhQnV0dG9uVmFyaWFudD17Y3RhQnV0dG9uVmFyaWFudH1cbiAgICAgIGN0YUJ1dHRvblNwb25zb3JzPXtjdGFCdXR0b25TcG9uc29yc31cbiAgICAgIGFueVNlY3Rpb25zRm9sbG93ZWQ9e2FueVNlY3Rpb25zRm9sbG93ZWR9XG4gICAgICBzaG93V2VhdGhlcj17XG4gICAgICAgIHdlYXRoZXJFbmFibGVkICYmXG4gICAgICAgIHdlYXRoZXJQbGFjZW1lbnQgPT09IFwic2VjdGlvblwiICYmXG4gICAgICAgIHNlY3Rpb25Qb3NpdGlvbiA9PT0gMCAmJlxuICAgICAgICBzZWN0aW9uLnNlY3Rpb25LZXkgPT09IGRhaWx5QnJpZWZTZWN0aW9uSWRcbiAgICAgIH1cbiAgICAvPlxuICApKTtcblxuICAvLyBBZGQgYSBiaWxsYm9hcmQvbGVhZGVyYm9hcmQgSUFCIGFkIHRvIHRoZSBzZWN0aW9uc1RvUmVuZGVyIGFycmF5IChpZiBlbmFibGVkL3Bvc3NpYmxlKS5cbiAgY29uc3QgYmlsbGJvYXJkRW5hYmxlZCA9IHByZWZzW1BSRUZfQklMTEJPQVJEX0VOQUJMRURdO1xuICBjb25zdCBsZWFkZXJib2FyZEVuYWJsZWQgPSBwcmVmc1tQUkVGX0xFQURFUkJPQVJEX0VOQUJMRURdO1xuXG4gIGlmIChcbiAgICAoYmlsbGJvYXJkRW5hYmxlZCB8fCBsZWFkZXJib2FyZEVuYWJsZWQpICYmXG4gICAgc3BvY3M/LmRhdGE/Lm5ld3RhYl9zcG9jcz8uaXRlbXNcbiAgKSB7XG4gICAgY29uc3Qgc3BvY1RvUmVuZGVyID1cbiAgICAgIHNwb2NzLmRhdGEubmV3dGFiX3Nwb2NzLml0ZW1zLmZpbmQoXG4gICAgICAgICh7IGZvcm1hdCB9KSA9PiBmb3JtYXQgPT09IFwibGVhZGVyYm9hcmRcIiAmJiBsZWFkZXJib2FyZEVuYWJsZWRcbiAgICAgICkgfHxcbiAgICAgIHNwb2NzLmRhdGEubmV3dGFiX3Nwb2NzLml0ZW1zLmZpbmQoXG4gICAgICAgICh7IGZvcm1hdCB9KSA9PiBmb3JtYXQgPT09IFwiYmlsbGJvYXJkXCIgJiYgYmlsbGJvYXJkRW5hYmxlZFxuICAgICAgKTtcblxuICAgIGlmIChzcG9jVG9SZW5kZXIgJiYgIXNwb2NzLmJsb2NrZWQuaW5jbHVkZXMoc3BvY1RvUmVuZGVyLnVybCkpIHtcbiAgICAgIGNvbnN0IHJvdyA9XG4gICAgICAgIHNwb2NUb1JlbmRlci5mb3JtYXQgPT09IFwibGVhZGVyYm9hcmRcIlxuICAgICAgICAgID8gcHJlZnNbUFJFRl9MRUFERVJCT0FSRF9QT1NJVElPTl1cbiAgICAgICAgICA6IHByZWZzW1BSRUZfQklMTEJPQVJEX1BPU0lUSU9OXTtcblxuICAgICAgc2VjdGlvbnNUb1JlbmRlci5zcGxpY2UoXG4gICAgICAgIC8vIE1hdGgubWluIGlzIHVzZWQgaGVyZSB0byBlbnN1cmUgdGhlIGdpdmVuIHJvdyBzdGF5cyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgc2VjdGlvbnNUb1JlbmRlciBhcnJheS5cbiAgICAgICAgTWF0aC5taW4oc2VjdGlvbnNUb1JlbmRlci5sZW5ndGggLSAxLCByb3cpLFxuICAgICAgICAwLFxuICAgICAgICA8QWRCYW5uZXJcbiAgICAgICAgICBzcG9jPXtzcG9jVG9SZW5kZXJ9XG4gICAgICAgICAga2V5PXtgZHNjYXJkLSR7c3BvY1RvUmVuZGVyLmlkfWB9XG4gICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXtmaXJzdFZpc2libGVUaW1lc3RhbXB9XG4gICAgICAgICAgcm93PXtyb3d9XG4gICAgICAgICAgcHJlZnM9e3ByZWZzfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgdGhlIGludGVyZXN0IHBpY2tlciB0byB0aGUgc2VjdGlvbnNUb1JlbmRlciBhcnJheSAoaWYgZW5hYmxlZC9wb3NzaWJsZSkuXG4gIGlmIChcbiAgICBpbnRlcmVzdFBpY2tlckVuYWJsZWQgJiZcbiAgICBwZXJzb25hbGl6YXRpb25FbmFibGVkICYmXG4gICAgaW50ZXJlc3RQaWNrZXI/LnNlY3Rpb25zXG4gICkge1xuICAgIGNvbnN0IGluZGV4ID0gaW50ZXJlc3RQaWNrZXIucmVjZWl2ZWRGZWVkUmFuayAtIDE7XG5cbiAgICBzZWN0aW9uc1RvUmVuZGVyLnNwbGljZShcbiAgICAgIC8vIE1hdGgubWluIGlzIHVzZWQgaGVyZSB0byBlbnN1cmUgdGhlIGdpdmVuIHJvdyBzdGF5cyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgc2VjdGlvbnNUb1JlbmRlciBhcnJheS5cbiAgICAgIE1hdGgubWluKHNlY3Rpb25zVG9SZW5kZXIubGVuZ3RoIC0gMSwgaW5kZXgpLFxuICAgICAgMCxcbiAgICAgIDxJbnRlcmVzdFBpY2tlclxuICAgICAgICB0aXRsZT17aW50ZXJlc3RQaWNrZXIudGl0bGV9XG4gICAgICAgIHN1YnRpdGxlPXtpbnRlcmVzdFBpY2tlci5zdWJ0aXRsZX1cbiAgICAgICAgaW50ZXJlc3RzPXtpbnRlcmVzdFBpY2tlci5zZWN0aW9ucyB8fCBbXX1cbiAgICAgICAgcmVjZWl2ZWRGZWVkUmFuaz17aW50ZXJlc3RQaWNrZXIucmVjZWl2ZWRGZWVkUmFua31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BsYXlQMTNuQ2FyZCgpIHtcbiAgICBpZiAobWVzc2FnZURhdGEgJiYgT2JqZWN0LmtleXMobWVzc2FnZURhdGEpLmxlbmd0aCA+PSAxKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHNob3VsZFNob3dPTUNIaWdobGlnaHQobWVzc2FnZURhdGEsIFwiUGVyc29uYWxpemVkQ2FyZFwiKSAmJlxuICAgICAgICBwcmVmc1tQUkVGX0lORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9VU0VSXVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IG1lc3NhZ2VEYXRhLmNvbnRlbnQucG9zaXRpb247XG4gICAgICAgIHNlY3Rpb25zVG9SZW5kZXIuc3BsaWNlKFxuICAgICAgICAgIHJvdyxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDxNZXNzYWdlV3JhcHBlciBkaXNwYXRjaD17ZGlzcGF0Y2h9IG9uRGlzbWlzcz17KCkgPT4ge319PlxuICAgICAgICAgICAgPFBlcnNvbmFsaXplZENhcmRcbiAgICAgICAgICAgICAgcG9zaXRpb249e3Jvd31cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgICAgICBtZXNzYWdlRGF0YT17bWVzc2FnZURhdGF9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvTWVzc2FnZVdyYXBwZXI+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGlzcGxheVAxM25DYXJkKCk7XG5cbiAgY29uc3QgaXNFbXB0eSA9IHNlY3Rpb25zVG9SZW5kZXIubGVuZ3RoID09PSAwO1xuXG4gIHJldHVybiBpc0VtcHR5ID8gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtY2FyZC1ncmlkIGVtcHR5XCI+XG4gICAgICA8RFNFbXB0eVN0YXRlIHN0YXR1cz17ZGF0YS5zdGF0dXN9IGRpc3BhdGNoPXtkaXNwYXRjaH0gZmVlZD17ZmVlZH0gLz5cbiAgICA8L2Rpdj5cbiAgKSA6IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLXNlY3Rpb24td3JhcHBlclwiPntzZWN0aW9uc1RvUmVuZGVyfTwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgeyBDYXJkU2VjdGlvbnMgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwczovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHtcbiAgdXNlUmVmLFxuICB1c2VTdGF0ZSxcbiAgdXNlRWZmZWN0LFxuICB1c2VDYWxsYmFjayxcbiAgdXNlTWVtbyxcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgYmF0Y2ggfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IHVzZUludGVyc2VjdGlvbk9ic2VydmVyLCB1c2VDb25mZXR0aSB9IGZyb20gXCIuLi8uLi8uLi9saWIvdXRpbHNcIjtcblxuY29uc3QgVEFTS19UWVBFID0ge1xuICBJTl9QUk9HUkVTUzogXCJ0YXNrc1wiLFxuICBDT01QTEVURUQ6IFwiY29tcGxldGVkXCIsXG59O1xuXG5jb25zdCBVU0VSX0FDVElPTl9UWVBFUyA9IHtcbiAgTElTVF9DT1BZOiBcImxpc3RfY29weVwiLFxuICBMSVNUX0NSRUFURTogXCJsaXN0X2NyZWF0ZVwiLFxuICBMSVNUX0VESVQ6IFwibGlzdF9lZGl0XCIsXG4gIExJU1RfREVMRVRFOiBcImxpc3RfZGVsZXRlXCIsXG4gIFRBU0tfQ1JFQVRFOiBcInRhc2tfY3JlYXRlXCIsXG4gIFRBU0tfRURJVDogXCJ0YXNrX2VkaXRcIixcbiAgVEFTS19ERUxFVEU6IFwidGFza19kZWxldGVcIixcbiAgVEFTS19DT01QTEVURTogXCJ0YXNrX2NvbXBsZXRlXCIsXG59O1xuXG5jb25zdCBQUkVGX1dJREdFVFNfTElTVFNfTUFYX0xJU1RTID0gXCJ3aWRnZXRzLmxpc3RzLm1heExpc3RzXCI7XG5jb25zdCBQUkVGX1dJREdFVFNfTElTVFNfTUFYX0xJU1RJVEVNUyA9IFwid2lkZ2V0cy5saXN0cy5tYXhMaXN0SXRlbXNcIjtcbmNvbnN0IFBSRUZfV0lER0VUU19MSVNUU19CQURHRV9FTkFCTEVEID0gXCJ3aWRnZXRzLmxpc3RzLmJhZGdlLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfV0lER0VUU19MSVNUU19CQURHRV9MQUJFTCA9IFwid2lkZ2V0cy5saXN0cy5iYWRnZS5sYWJlbFwiO1xuXG5mdW5jdGlvbiBMaXN0cyh7IGRpc3BhdGNoLCBoYW5kbGVVc2VySW50ZXJhY3Rpb24gfSkge1xuICBjb25zdCBwcmVmcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlByZWZzLnZhbHVlcyk7XG4gIGNvbnN0IHsgc2VsZWN0ZWQsIGxpc3RzIH0gPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5MaXN0c1dpZGdldCk7XG4gIGNvbnN0IFtuZXdUYXNrLCBzZXROZXdUYXNrXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNFZGl0aW5nLCBzZXRJc0VkaXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGVuZGluZ05ld0xpc3QsIHNldFBlbmRpbmdOZXdMaXN0XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBzZWxlY3RlZExpc3QgPSB1c2VNZW1vKCgpID0+IGxpc3RzW3NlbGVjdGVkXSwgW2xpc3RzLCBzZWxlY3RlZF0pO1xuXG4gIGNvbnN0IHByZXZDb21wbGV0ZWRDb3VudCA9IHVzZVJlZihzZWxlY3RlZExpc3Q/LmNvbXBsZXRlZD8ubGVuZ3RoIHx8IDApO1xuICBjb25zdCBpbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgc2VsZWN0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCByZW9yZGVyTGlzdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgW2NhbnZhc1JlZiwgZmlyZUNvbmZldHRpXSA9IHVzZUNvbmZldHRpKCk7XG5cbiAgY29uc3QgaGFuZGxlTGlzdEludGVyYWN0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKCkgPT4gaGFuZGxlVXNlckludGVyYWN0aW9uKFwibGlzdHNcIiksXG4gICAgW2hhbmRsZVVzZXJJbnRlcmFjdGlvbl1cbiAgKTtcblxuICAvLyBzdG9yZSBzZWxlY3RlZExpc3Qgd2l0aCB1c2VNZW1vIHNvIGl0IGlzbnQgcmUtY2FsY3VsYXRlZCBvbiBldmVyeSByZS1yZW5kZXJcbiAgY29uc3QgaXNWYWxpZFVybCA9IHVzZUNhbGxiYWNrKHN0ciA9PiBVUkwuY2FuUGFyc2Uoc3RyKSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUludGVyc2VjdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX1VTRVJfSU1QUkVTU0lPTixcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgY29uc3QgbGlzdHNSZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbnRlcnNlY3Rpb24pO1xuXG4gIGNvbnN0IHJlb3JkZXJMaXN0cyA9IHVzZUNhbGxiYWNrKFxuICAgIChkcmFnZ2VkRWxlbWVudCwgdGFyZ2V0RWxlbWVudCwgYmVmb3JlID0gZmFsc2UpID0+IHtcbiAgICAgIGNvbnN0IGRyYWdnZWRJbmRleCA9IHNlbGVjdGVkTGlzdC50YXNrcy5maW5kSW5kZXgoXG4gICAgICAgICh7IGlkIH0pID0+IGlkID09PSBkcmFnZ2VkRWxlbWVudC5pZFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gc2VsZWN0ZWRMaXN0LnRhc2tzLmZpbmRJbmRleChcbiAgICAgICAgKHsgaWQgfSkgPT4gaWQgPT09IHRhcmdldEVsZW1lbnQuaWRcbiAgICAgICk7XG5cbiAgICAgIC8vIHJldHVybiBlYXJseSBpcyBpbmRleCBpcyBub3QgZm91bmRcbiAgICAgIGlmIChcbiAgICAgICAgZHJhZ2dlZEluZGV4ID09PSAtMSB8fFxuICAgICAgICB0YXJnZXRJbmRleCA9PT0gLTEgfHxcbiAgICAgICAgZHJhZ2dlZEluZGV4ID09PSB0YXJnZXRJbmRleFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVvcmRlcmVkID0gWy4uLnNlbGVjdGVkTGlzdC50YXNrc107XG4gICAgICBjb25zdCBbcmVtb3ZlZF0gPSByZW9yZGVyZWQuc3BsaWNlKGRyYWdnZWRJbmRleCwgMSk7XG4gICAgICBjb25zdCBpbnNlcnRJbmRleCA9IGJlZm9yZSA/IHRhcmdldEluZGV4IDogdGFyZ2V0SW5kZXggKyAxO1xuXG4gICAgICByZW9yZGVyZWQuc3BsaWNlKFxuICAgICAgICBpbnNlcnRJbmRleCA+IGRyYWdnZWRJbmRleCA/IGluc2VydEluZGV4IC0gMSA6IGluc2VydEluZGV4LFxuICAgICAgICAwLFxuICAgICAgICByZW1vdmVkXG4gICAgICApO1xuXG4gICAgICBjb25zdCB1cGRhdGVkTGlzdHMgPSB7XG4gICAgICAgIC4uLmxpc3RzLFxuICAgICAgICBbc2VsZWN0ZWRdOiB7XG4gICAgICAgICAgLi4uc2VsZWN0ZWRMaXN0LFxuICAgICAgICAgIHRhc2tzOiByZW9yZGVyZWQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VUERBVEUsXG4gICAgICAgICAgZGF0YTogeyBsaXN0czogdXBkYXRlZExpc3RzIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgaGFuZGxlTGlzdEludGVyYWN0aW9uKCk7XG4gICAgfSxcbiAgICBbbGlzdHMsIHNlbGVjdGVkLCBzZWxlY3RlZExpc3QsIGRpc3BhdGNoLCBoYW5kbGVMaXN0SW50ZXJhY3Rpb25dXG4gICk7XG5cbiAgY29uc3QgbW92ZVRhc2sgPSB1c2VDYWxsYmFjayhcbiAgICAodGFzaywgZGlyZWN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IHNlbGVjdGVkTGlzdC50YXNrcy5maW5kSW5kZXgoKHsgaWQgfSkgPT4gaWQgPT09IHRhc2suaWQpO1xuXG4gICAgICAvLyBndWFyZHJhaWwgYSBmYWxzZXkgaW5kZXhcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXRJbmRleCA9IGRpcmVjdGlvbiA9PT0gXCJ1cFwiID8gaW5kZXggLSAxIDogaW5kZXggKyAxO1xuICAgICAgY29uc3QgYmVmb3JlID0gZGlyZWN0aW9uID09PSBcInVwXCI7XG4gICAgICBjb25zdCB0YXJnZXRUYXNrID0gc2VsZWN0ZWRMaXN0LnRhc2tzW3RhcmdldEluZGV4XTtcblxuICAgICAgaWYgKHRhcmdldFRhc2spIHtcbiAgICAgICAgcmVvcmRlckxpc3RzKHRhc2ssIHRhcmdldFRhc2ssIGJlZm9yZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbc2VsZWN0ZWRMaXN0LCByZW9yZGVyTGlzdHNdXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzZWxlY3ROb2RlID0gc2VsZWN0UmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgcmVvcmRlck5vZGUgPSByZW9yZGVyTGlzdFJlZi5jdXJyZW50O1xuXG4gICAgaWYgKCFzZWxlY3ROb2RlIHx8ICFyZW9yZGVyTm9kZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVTZWxlY3RDaGFuZ2UoZSkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfQ0hBTkdFX1NFTEVDVEVELFxuICAgICAgICAgIGRhdGE6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlb3JkZXIoZSkge1xuICAgICAgY29uc3QgeyBkcmFnZ2VkRWxlbWVudCwgdGFyZ2V0RWxlbWVudCwgcG9zaXRpb24gfSA9IGUuZGV0YWlsO1xuICAgICAgcmVvcmRlckxpc3RzKGRyYWdnZWRFbGVtZW50LCB0YXJnZXRFbGVtZW50LCBwb3NpdGlvbiA9PT0gLTEpO1xuICAgIH1cblxuICAgIHJlb3JkZXJOb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJyZW9yZGVyXCIsIGhhbmRsZVJlb3JkZXIpO1xuICAgIHNlbGVjdE5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVTZWxlY3RDaGFuZ2UpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNlbGVjdE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVTZWxlY3RDaGFuZ2UpO1xuICAgICAgcmVvcmRlck5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlb3JkZXJcIiwgaGFuZGxlUmVvcmRlcik7XG4gICAgfTtcbiAgfSwgW2Rpc3BhdGNoLCBpc0VkaXRpbmcsIHJlb3JkZXJMaXN0cywgaGFuZGxlTGlzdEludGVyYWN0aW9uXSk7XG5cbiAgLy8gZWZmZWN0IHRoYXQgZW5hYmxlcyBlZGl0aW5nIG5ldyBsaXN0IG5hbWUgb25seSBhZnRlciBzdG9yZSBoYXMgYmVlbiBoeWRyYXRlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZCA9PT0gcGVuZGluZ05ld0xpc3QpIHtcbiAgICAgIHNldElzRWRpdGluZyh0cnVlKTtcbiAgICAgIHNldFBlbmRpbmdOZXdMaXN0KG51bGwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkLCBwZW5kaW5nTmV3TGlzdF0pO1xuXG4gIGZ1bmN0aW9uIHNhdmVUYXNrKCkge1xuICAgIGNvbnN0IHRyaW1tZWRUYXNrID0gbmV3VGFzay50cmltRW5kKCk7XG4gICAgLy8gb25seSBhZGQgbmV3IHRhc2sgaWYgaXQgaGFzIGEgbGVuZ3RoLCB0byBhdm9pZCBjcmVhdGluZyBlbXB0eSB0YXNrc1xuICAgIGlmICh0cmltbWVkVGFzaykge1xuICAgICAgY29uc3QgZm9ybWF0dGVkVGFzayA9IHtcbiAgICAgICAgdmFsdWU6IHRyaW1tZWRUYXNrLFxuICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICBjcmVhdGVkOiBEYXRlLm5vdygpLFxuICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgaXNVcmw6IGlzVmFsaWRVcmwodHJpbW1lZFRhc2spLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRMaXN0cyA9IHtcbiAgICAgICAgLi4ubGlzdHMsXG4gICAgICAgIFtzZWxlY3RlZF06IHtcbiAgICAgICAgICAuLi5zZWxlY3RlZExpc3QsXG4gICAgICAgICAgdGFza3M6IFtmb3JtYXR0ZWRUYXNrLCAuLi5saXN0c1tzZWxlY3RlZF0udGFza3NdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX1VQREFURSxcbiAgICAgICAgICAgIGRhdGE6IHsgbGlzdHM6IHVwZGF0ZWRMaXN0cyB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VU0VSX0VWRU5ULFxuICAgICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5UQVNLX0NSRUFURSB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHNldE5ld1Rhc2soXCJcIik7XG4gICAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUYXNrKHVwZGF0ZWRUYXNrLCB0eXBlKSB7XG4gICAgY29uc3QgaXNDb21wbGV0ZWRUeXBlID0gdHlwZSA9PT0gVEFTS19UWVBFLkNPTVBMRVRFRDtcbiAgICBjb25zdCBpc05vd0NvbXBsZXRlZCA9IHVwZGF0ZWRUYXNrLmNvbXBsZXRlZDtcblxuICAgIGxldCBuZXdUYXNrcyA9IHNlbGVjdGVkTGlzdC50YXNrcztcbiAgICBsZXQgbmV3Q29tcGxldGVkID0gc2VsZWN0ZWRMaXN0LmNvbXBsZXRlZDtcbiAgICBsZXQgdXNlckFjdGlvbjtcblxuICAgIC8vIElmIHRoZSB0YXNrIGlzIGluIHRoZSBjb21wbGV0ZWQgYXJyYXkgYW5kIGlzIG5vdyB1bmNoZWNrZWRcbiAgICBjb25zdCBzaG91bGRNb3ZlVG9UYXNrcyA9IGlzQ29tcGxldGVkVHlwZSAmJiAhaXNOb3dDb21wbGV0ZWQ7XG5cbiAgICAvLyBJZiB3ZSdyZSBtb3ZpbmcgdGhlIHRhc2sgZnJvbSB0YXNrcyDihpIgY29tcGxldGVkICh1c2VyIGNoZWNrZWQgaXQpXG4gICAgY29uc3Qgc2hvdWxkTW92ZVRvQ29tcGxldGVkID0gIWlzQ29tcGxldGVkVHlwZSAmJiBpc05vd0NvbXBsZXRlZDtcblxuICAgIC8vICBNb3ZlIHRhc2sgZnJvbSBjb21wbGV0ZWQgLT4gdGFza1xuICAgIGlmIChzaG91bGRNb3ZlVG9UYXNrcykge1xuICAgICAgbmV3Q29tcGxldGVkID0gc2VsZWN0ZWRMaXN0LmNvbXBsZXRlZC5maWx0ZXIoXG4gICAgICAgIHRhc2sgPT4gdGFzay5pZCAhPT0gdXBkYXRlZFRhc2suaWRcbiAgICAgICk7XG4gICAgICBuZXdUYXNrcyA9IFsuLi5zZWxlY3RlZExpc3QudGFza3MsIHVwZGF0ZWRUYXNrXTtcbiAgICAgIC8vIE1vdmUgdGFzayB0byBjb21wbGV0ZWQsIGJ1dCBhbHNvIGNyZWF0ZSBsb2NhbCB2ZXJzaW9uXG4gICAgfSBlbHNlIGlmIChzaG91bGRNb3ZlVG9Db21wbGV0ZWQpIHtcbiAgICAgIG5ld1Rhc2tzID0gc2VsZWN0ZWRMaXN0LnRhc2tzLmZpbHRlcih0YXNrID0+IHRhc2suaWQgIT09IHVwZGF0ZWRUYXNrLmlkKTtcbiAgICAgIG5ld0NvbXBsZXRlZCA9IFsuLi5zZWxlY3RlZExpc3QuY29tcGxldGVkLCB1cGRhdGVkVGFza107XG5cbiAgICAgIHVzZXJBY3Rpb24gPSBVU0VSX0FDVElPTl9UWVBFUy5UQVNLX0NPTVBMRVRFO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0YXJnZXRLZXkgPSBpc0NvbXBsZXRlZFR5cGUgPyBcImNvbXBsZXRlZFwiIDogXCJ0YXNrc1wiO1xuICAgICAgY29uc3QgdXBkYXRlZEFycmF5ID0gc2VsZWN0ZWRMaXN0W3RhcmdldEtleV0ubWFwKHRhc2sgPT5cbiAgICAgICAgdGFzay5pZCA9PT0gdXBkYXRlZFRhc2suaWQgPyB1cGRhdGVkVGFzayA6IHRhc2tcbiAgICAgICk7XG4gICAgICAvLyBJbi1wbGFjZSB1cGRhdGU6IHRvZ2dsZSBjaGVja2JveCAoYnV0IHN0YXkgaW4gc2FtZSBhcnJheSBvciBlZGl0IG5hbWUpXG4gICAgICBpZiAodGFyZ2V0S2V5ID09PSBcInRhc2tzXCIpIHtcbiAgICAgICAgbmV3VGFza3MgPSB1cGRhdGVkQXJyYXk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdDb21wbGV0ZWQgPSB1cGRhdGVkQXJyYXk7XG4gICAgICB9XG4gICAgICB1c2VyQWN0aW9uID0gVVNFUl9BQ1RJT05fVFlQRVMuVEFTS19FRElUO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZWRMaXN0cyA9IHtcbiAgICAgIC4uLmxpc3RzLFxuICAgICAgW3NlbGVjdGVkXToge1xuICAgICAgICAuLi5zZWxlY3RlZExpc3QsXG4gICAgICAgIHRhc2tzOiBuZXdUYXNrcyxcbiAgICAgICAgY29tcGxldGVkOiBuZXdDb21wbGV0ZWQsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VUERBVEUsXG4gICAgICAgICAgZGF0YTogeyBsaXN0czogdXBkYXRlZExpc3RzIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgaWYgKHVzZXJBY3Rpb24pIHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb24gfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlVGFzayh0YXNrLCB0eXBlKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRUYXNrcyA9IGxpc3RzW3NlbGVjdGVkXVt0eXBlXTtcbiAgICBjb25zdCB1cGRhdGVkVGFza3MgPSBzZWxlY3RlZFRhc2tzLmZpbHRlcigoeyBpZCB9KSA9PiBpZCAhPT0gdGFzay5pZCk7XG5cbiAgICBjb25zdCB1cGRhdGVkTGlzdHMgPSB7XG4gICAgICAuLi5saXN0cyxcbiAgICAgIFtzZWxlY3RlZF06IHtcbiAgICAgICAgLi4uc2VsZWN0ZWRMaXN0LFxuICAgICAgICBbdHlwZV06IHVwZGF0ZWRUYXNrcyxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VUERBVEUsXG4gICAgICAgICAgZGF0YTogeyBsaXN0czogdXBkYXRlZExpc3RzIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVNFUl9FVkVOVCxcbiAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLlRBU0tfREVMRVRFIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgc2F2ZVRhc2soKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZS5rZXkgPT09IFwiRXNjYXBlXCIgJiZcbiAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGlucHV0UmVmLmN1cnJlbnRcbiAgICApIHtcbiAgICAgIC8vIENsZWFyIG91dCB0aGUgaW5wdXQgd2hlbiBlc2MgaXMgcHJlc3NlZFxuICAgICAgc2V0TmV3VGFzayhcIlwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVMaXN0TmFtZVNhdmUobmV3TGFiZWwpIHtcbiAgICBjb25zdCB0cmltbWVkTGFiZWwgPSBuZXdMYWJlbC50cmltRW5kKCk7XG4gICAgaWYgKHRyaW1tZWRMYWJlbCAmJiB0cmltbWVkTGFiZWwgIT09IHNlbGVjdGVkTGlzdD8ubGFiZWwpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRMaXN0cyA9IHtcbiAgICAgICAgLi4ubGlzdHMsXG4gICAgICAgIFtzZWxlY3RlZF06IHtcbiAgICAgICAgICAuLi5zZWxlY3RlZExpc3QsXG4gICAgICAgICAgbGFiZWw6IHRyaW1tZWRMYWJlbCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VUERBVEUsXG4gICAgICAgICAgICBkYXRhOiB7IGxpc3RzOiB1cGRhdGVkTGlzdHMgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVNFUl9FVkVOVCxcbiAgICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuTElTVF9FRElUIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZU5ld0xpc3QoKSB7XG4gICAgY29uc3QgaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld0xpc3RzID0ge1xuICAgICAgLi4ubGlzdHMsXG4gICAgICBbaWRdOiB7XG4gICAgICAgIGxhYmVsOiBcIlwiLFxuICAgICAgICB0YXNrczogW10sXG4gICAgICAgIGNvbXBsZXRlZDogW10sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBiYXRjaCgoKSA9PiB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VUERBVEUsXG4gICAgICAgICAgZGF0YTogeyBsaXN0czogbmV3TGlzdHMgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19DSEFOR0VfU0VMRUNURUQsXG4gICAgICAgICAgZGF0YTogaWQsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfVVNFUl9FVkVOVCxcbiAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLkxJU1RfQ1JFQVRFIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICAgIHNldFBlbmRpbmdOZXdMaXN0KGlkKTtcbiAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNhbmNlbE5ld0xpc3QoKSB7XG4gICAgLy8gSWYgY3VycmVudCBsaXN0IGlzIG5ldyBhbmQgaGFzIG5vIGxhYmVsL3Rhc2tzLCByZW1vdmUgaXRcbiAgICBpZiAoIXNlbGVjdGVkTGlzdD8ubGFiZWwgJiYgc2VsZWN0ZWRMaXN0Py50YXNrcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCB1cGRhdGVkTGlzdHMgPSB7IC4uLmxpc3RzIH07XG4gICAgICBkZWxldGUgdXBkYXRlZExpc3RzW3NlbGVjdGVkXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVEZWxldGVMaXN0KCkge1xuICAgIGxldCB1cGRhdGVkTGlzdHMgPSB7IC4uLmxpc3RzIH07XG4gICAgaWYgKHVwZGF0ZWRMaXN0c1tzZWxlY3RlZF0pIHtcbiAgICAgIGRlbGV0ZSB1cGRhdGVkTGlzdHNbc2VsZWN0ZWRdO1xuXG4gICAgICAvLyBpZiB0aGlzIGxpc3Qgd2FzIHRoZSBsYXN0IG9uZSBjcmVhdGVkLCBhZGQgYSBuZXcgbGlzdCBhcyBkZWZhdWx0XG4gICAgICBpZiAoT2JqZWN0LmtleXModXBkYXRlZExpc3RzKT8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHVwZGF0ZWRMaXN0cyA9IHtcbiAgICAgICAgICBbY3J5cHRvLnJhbmRvbVVVSUQoKV06IHtcbiAgICAgICAgICAgIGxhYmVsOiBcIlwiLFxuICAgICAgICAgICAgdGFza3M6IFtdLFxuICAgICAgICAgICAgY29tcGxldGVkOiBbXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgbGlzdEtleXMgPSBPYmplY3Qua2V5cyh1cGRhdGVkTGlzdHMpO1xuICAgICAgY29uc3Qga2V5ID0gbGlzdEtleXNbbGlzdEtleXMubGVuZ3RoIC0gMV07XG4gICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VUERBVEUsXG4gICAgICAgICAgICBkYXRhOiB7IGxpc3RzOiB1cGRhdGVkTGlzdHMgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfTElTVFNfQ0hBTkdFX1NFTEVDVEVELFxuICAgICAgICAgICAgZGF0YToga2V5LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19MSVNUU19VU0VSX0VWRU5ULFxuICAgICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5MSVNUX0RFTEVURSB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlTGlzdEludGVyYWN0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVIaWRlTGlzdHMoKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuU0VUX1BSRUYsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiBcIndpZGdldHMubGlzdHMuZW5hYmxlZFwiLFxuICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBoYW5kbGVMaXN0SW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUNvcHlMaXN0VG9DbGlwYm9hcmQoKSB7XG4gICAgY29uc3QgY3VycmVudExpc3QgPSBsaXN0c1tzZWxlY3RlZF07XG5cbiAgICBpZiAoIWN1cnJlbnRMaXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBsYWJlbCwgdGFza3MgPSBbXSwgY29tcGxldGVkID0gW10gfSA9IGN1cnJlbnRMaXN0O1xuXG4gICAgY29uc3QgdW5jb21wbGV0ZWQgPSB0YXNrcy5maWx0ZXIodGFzayA9PiAhdGFzay5jb21wbGV0ZWQpO1xuICAgIGNvbnN0IGN1cnJlbnRDb21wbGV0ZWQgPSB0YXNrcy5maWx0ZXIodGFzayA9PiB0YXNrLmNvbXBsZXRlZCk7XG5cbiAgICAvLyBJbiBvcmRlciBpbiBpbmNsdWRlIGFsbCBpdGVtcywgd2UgbmVlZCB0byBpdGVyYXRlIHRocm91Z2ggYm90aCBjdXJyZW50IGFuZCBjb21wbGV0ZWQgdGFza3MgbGlzdCBhbmQgbWFyayBmb3JtYXQgYWxsIGNvbXBsZXRlZCB0YXNrcyBhY2NvcmRpbmdseS5cbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBbXG4gICAgICBgTGlzdDogJHtsYWJlbH1gLFxuICAgICAgYC0tLWAsXG4gICAgICAuLi51bmNvbXBsZXRlZC5tYXAodGFzayA9PiBgLSBbIF0gJHt0YXNrLnZhbHVlfWApLFxuICAgICAgLi4uY3VycmVudENvbXBsZXRlZC5tYXAodGFzayA9PiBgLSBbeF0gJHt0YXNrLnZhbHVlfWApLFxuICAgICAgLi4uY29tcGxldGVkLm1hcCh0YXNrID0+IGAtIFt4XSAke3Rhc2sudmFsdWV9YCksXG4gICAgXS5qb2luKFwiXFxuXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGZvcm1hdHRlZCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ29weSBmYWlsZWRcIiwgZXJyKTtcbiAgICB9XG5cbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5XSURHRVRTX0xJU1RTX1VTRVJfRVZFTlQsXG4gICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuTElTVF9DT1BZIH0sXG4gICAgICB9KVxuICAgICk7XG4gICAgaGFuZGxlTGlzdEludGVyYWN0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVMZWFybk1vcmUoKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy9rYi9maXJlZm94LW5ldy10YWItd2lkZ2V0c1wiLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICAgIGhhbmRsZUxpc3RJbnRlcmFjdGlvbigpO1xuICB9XG5cbiAgLy8gUmVzZXQgYmFzZWxpbmUgb25seSB3aGVuIHN3aXRjaGluZyBsaXN0c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHByZXZDb21wbGV0ZWRDb3VudC5jdXJyZW50ID0gc2VsZWN0ZWRMaXN0Py5jb21wbGV0ZWQ/Lmxlbmd0aCB8fCAwO1xuICAgIC8vIGludGVudGlvbmFsbHkgbGVhdmluZyBvdXQgc2VsZWN0ZWRMaXN0IGZyb20gZGVwZW5kZW5jeSBhcnJheVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW3NlbGVjdGVkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRMaXN0KSB7XG4gICAgICBjb25zdCBkb25lQ291bnQgPSBzZWxlY3RlZExpc3QuY29tcGxldGVkPy5sZW5ndGggfHwgMDtcbiAgICAgIGNvbnN0IHByZXZpb3VzID0gTWF0aC5mbG9vcihwcmV2Q29tcGxldGVkQ291bnQuY3VycmVudCAvIDUpO1xuICAgICAgY29uc3QgY3VycmVudCA9IE1hdGguZmxvb3IoZG9uZUNvdW50IC8gNSk7XG5cbiAgICAgIGlmIChjdXJyZW50ID4gcHJldmlvdXMpIHtcbiAgICAgICAgZmlyZUNvbmZldHRpKCk7XG4gICAgICB9XG4gICAgICBwcmV2Q29tcGxldGVkQ291bnQuY3VycmVudCA9IGRvbmVDb3VudDtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZExpc3QsIGZpcmVDb25mZXR0aSwgc2VsZWN0ZWRdKTtcblxuICBpZiAoIWxpc3RzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBFbmZvcmNlIG1heGltdW0gY291bnQgbGltaXRzIHRvIGxpc3RzXG4gIGNvbnN0IGN1cnJlbnRMaXN0c0NvdW50ID0gT2JqZWN0LmtleXMobGlzdHMpLmxlbmd0aDtcbiAgLy8gRW5zdXJlIGEgbWluaW11bSBvZiAxLCBidXQgYWxsb3cgaGlnaGVyIHZhbHVlcyBmcm9tIHByZWZzXG4gIGNvbnN0IG1heExpc3RzQ291bnQgPSBNYXRoLm1heCgxLCBwcmVmc1tQUkVGX1dJREdFVFNfTElTVFNfTUFYX0xJU1RTXSk7XG4gIGNvbnN0IGlzQXRNYXhMaXN0c0xpbWl0ID0gY3VycmVudExpc3RzQ291bnQgPj0gbWF4TGlzdHNDb3VudDtcblxuICAvLyBFbmZvcmNlIG1heGltdW0gY291bnQgbGltaXRzIHRvIGxpc3QgaXRlbXNcbiAgLy8gVGhlIG1heGltdW0gYXBwbGllcyB0byB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIChib3RoIGluY29tcGxldGUgYW5kIGNvbXBsZXRlZCBpdGVtcylcbiAgY29uc3QgY3VycmVudFNlbGVjdGVkTGlzdEl0ZW1zQ291bnQgPVxuICAgIHNlbGVjdGVkTGlzdD8udGFza3MubGVuZ3RoICsgc2VsZWN0ZWRMaXN0Py5jb21wbGV0ZWQubGVuZ3RoO1xuXG4gIC8vIEVuc3VyZSBhIG1pbmltdW0gb2YgMSwgYnV0IGFsbG93IGhpZ2hlciB2YWx1ZXMgZnJvbSBwcmVmc1xuICBjb25zdCBtYXhMaXN0SXRlbXNDb3VudCA9IE1hdGgubWF4KFxuICAgIDEsXG4gICAgcHJlZnNbUFJFRl9XSURHRVRTX0xJU1RTX01BWF9MSVNUSVRFTVNdXG4gICk7XG5cbiAgY29uc3QgaXNBdE1heExpc3RJdGVtc0xpbWl0ID1cbiAgICBjdXJyZW50U2VsZWN0ZWRMaXN0SXRlbXNDb3VudCA+PSBtYXhMaXN0SXRlbXNDb3VudDtcblxuICAvLyBGaWd1cmUgb3V0IGlmIHRoZSBzZWxlY3RlZCBsaXN0IGlzIHRoZSBmaXJzdCAoZGVmYXVsdCkgb3IgYSBuZXcgb25lLlxuICAvLyBJbmRleCAwIOKGkiB1c2UgXCJUYXNrIGxpc3RcIjsgYW55IGxhdGVyIGluZGV4IOKGkiB1c2UgXCJOZXcgbGlzdFwiLlxuICAvLyBGYWxsYmFjayB0byAwIGlmIHRoZSBzZWxlY3RlZCBpZCBpc27igJl0IGZvdW5kLlxuICBjb25zdCBsaXN0S2V5cyA9IE9iamVjdC5rZXlzKGxpc3RzKTtcbiAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IE1hdGgubWF4KDAsIGxpc3RLZXlzLmluZGV4T2Yoc2VsZWN0ZWQpKTtcblxuICBjb25zdCBsaXN0TmFtZVBsYWNlaG9sZGVyID1cbiAgICBjdXJyZW50TGlzdHNDb3VudCA+IDEgJiYgc2VsZWN0ZWRJbmRleCAhPT0gMFxuICAgICAgPyBcIm5ld3RhYi13aWRnZXQtbGlzdHMtbmFtZS1wbGFjZWhvbGRlci1uZXdcIlxuICAgICAgOiBcIm5ld3RhYi13aWRnZXQtbGlzdHMtbmFtZS1wbGFjZWhvbGRlci1kZWZhdWx0XCI7XG5cbiAgY29uc3QgbmltYnVzQmFkZ2VFbmFibGVkID0gcHJlZnMud2lkZ2V0c0NvbmZpZz8ubGlzdHNCYWRnZUVuYWJsZWQ7XG4gIGNvbnN0IG5pbWJ1c0JhZGdlTGFiZWwgPSBwcmVmcy53aWRnZXRzQ29uZmlnPy5saXN0c0JhZGdlTGFiZWw7XG4gIGNvbnN0IG5pbWJ1c0JhZGdlVHJhaW5ob3BFbmFibGVkID1cbiAgICBwcmVmcy50cmFpbmhvcENvbmZpZz8ud2lkZ2V0cz8ubGlzdHNCYWRnZUVuYWJsZWQ7XG4gIGNvbnN0IG5pbWJ1c0JhZGdlVHJhaW5ob3BMYWJlbCA9XG4gICAgcHJlZnMudHJhaW5ob3BDb25maWc/LndpZGdldHM/Lmxpc3RzQmFkZ2VMYWJlbDtcblxuICBjb25zdCBiYWRnZUVuYWJsZWQgPVxuICAgIChuaW1idXNCYWRnZUVuYWJsZWQgfHwgbmltYnVzQmFkZ2VUcmFpbmhvcEVuYWJsZWQpID8/XG4gICAgcHJlZnNbUFJFRl9XSURHRVRTX0xJU1RTX0JBREdFX0VOQUJMRURdID8/XG4gICAgZmFsc2U7XG5cbiAgY29uc3QgYmFkZ2VMYWJlbCA9XG4gICAgKG5pbWJ1c0JhZGdlTGFiZWwgfHwgbmltYnVzQmFkZ2VUcmFpbmhvcExhYmVsKSA/P1xuICAgIHByZWZzW1BSRUZfV0lER0VUU19MSVNUU19CQURHRV9MQUJFTF0gPz9cbiAgICBcIlwiO1xuXG4gIHJldHVybiAoXG4gICAgPGFydGljbGVcbiAgICAgIGNsYXNzTmFtZT1cImxpc3RzXCJcbiAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICBsaXN0c1JlZi5jdXJyZW50ID0gW2VsXTtcbiAgICAgIH19XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3Qtd3JhcHBlclwiPlxuICAgICAgICA8RWRpdGFibGVUZXh0XG4gICAgICAgICAgdmFsdWU9e2xpc3RzW3NlbGVjdGVkXT8ubGFiZWwgfHwgXCJcIn1cbiAgICAgICAgICBvblNhdmU9e2hhbmRsZUxpc3ROYW1lU2F2ZX1cbiAgICAgICAgICBpc0VkaXRpbmc9e2lzRWRpdGluZ31cbiAgICAgICAgICBzZXRJc0VkaXRpbmc9e3NldElzRWRpdGluZ31cbiAgICAgICAgICBvbkNhbmNlbD17aGFuZGxlQ2FuY2VsTmV3TGlzdH1cbiAgICAgICAgICB0eXBlPVwibGlzdFwiXG4gICAgICAgICAgbWF4TGVuZ3RoPXszMH1cbiAgICAgICAgICBkYXRhTDEwbklkPXtsaXN0TmFtZVBsYWNlaG9sZGVyfVxuICAgICAgICA+XG4gICAgICAgICAgPG1vei1zZWxlY3QgcmVmPXtzZWxlY3RSZWZ9IHZhbHVlPXtzZWxlY3RlZH0+XG4gICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMobGlzdHMpLm1hcCgoW2tleSwgbGlzdF0pID0+IChcbiAgICAgICAgICAgICAgPG1vei1vcHRpb25cbiAgICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17a2V5fVxuICAgICAgICAgICAgICAgIC8vIE9uIHRoZSBmaXJzdC9pbml0aWFsIGxpc3QsIHVzZSBkZWZhdWx0IG5hbWVcbiAgICAgICAgICAgICAgICB7Li4uKGxpc3QubGFiZWxcbiAgICAgICAgICAgICAgICAgID8geyBsYWJlbDogbGlzdC5sYWJlbCB9XG4gICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtbDEwbi1pZFwiOiBcIm5ld3RhYi13aWRnZXQtbGlzdHMtbmFtZS1sYWJlbC1kZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9tb3otc2VsZWN0PlxuICAgICAgICA8L0VkaXRhYmxlVGV4dD5cbiAgICAgICAgey8qIEhpZGUgdGhlIGJhZGdlIHdoZW4gdXNlciBpcyBlZGl0aW5nIHRhc2sgbGlzdCB0aXRsZSAqL31cbiAgICAgICAgeyFpc0VkaXRpbmcgJiYgYmFkZ2VFbmFibGVkICYmIGJhZGdlTGFiZWwgJiYgKFxuICAgICAgICAgIDxtb3otYmFkZ2VcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17KCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGJhZGdlTGFiZWwgPT09IFwiTmV3XCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJuZXd0YWItd2lkZ2V0LWxpc3RzLWxhYmVsLW5ld1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChiYWRnZUxhYmVsID09PSBcIkJldGFcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm5ld3RhYi13aWRnZXQtbGlzdHMtbGFiZWwtYmV0YVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICA+PC9tb3otYmFkZ2U+XG4gICAgICAgICl9XG4gICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwibGlzdHMtcGFuZWwtYnV0dG9uXCJcbiAgICAgICAgICBpY29uU3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvbW9yZS5zdmdcIlxuICAgICAgICAgIG1lbnVJZD1cImxpc3RzLXBhbmVsXCJcbiAgICAgICAgICB0eXBlPVwiZ2hvc3RcIlxuICAgICAgICAvPlxuICAgICAgICA8cGFuZWwtbGlzdCBpZD1cImxpc3RzLXBhbmVsXCI+XG4gICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtbWVudS1lZGl0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdGluZyh0cnVlKX1cbiAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICB7Li4uKGlzQXRNYXhMaXN0c0xpbWl0ID8geyBkaXNhYmxlZDogdHJ1ZSB9IDoge30pfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1tZW51LWNyZWF0ZVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDcmVhdGVOZXdMaXN0KCl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjcmVhdGUtbGlzdFwiXG4gICAgICAgICAgPjwvcGFuZWwtaXRlbT5cbiAgICAgICAgICA8cGFuZWwtaXRlbVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1tZW51LWRlbGV0ZVwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVMaXN0KCl9XG4gICAgICAgICAgPjwvcGFuZWwtaXRlbT5cbiAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICA8cGFuZWwtaXRlbVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1tZW51LWNvcHlcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ29weUxpc3RUb0NsaXBib2FyZCgpfVxuICAgICAgICAgID48L3BhbmVsLWl0ZW0+XG4gICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtbWVudS1oaWRlXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUhpZGVMaXN0cygpfVxuICAgICAgICAgID48L3BhbmVsLWl0ZW0+XG4gICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImxlYXJuLW1vcmVcIlxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1tZW51LWxlYXJuLW1vcmVcIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTGVhcm5Nb3JlfVxuICAgICAgICAgID48L3BhbmVsLWl0ZW0+XG4gICAgICAgIDwvcGFuZWwtbGlzdD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGQtdGFzay1jb250YWluZXJcIj5cbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBjbGFzc05hbWU9e2BpY29uIGljb24tYWRkICR7aXNBdE1heExpc3RJdGVtc0xpbWl0ID8gXCJpY29uLWRpc2FibGVkXCIgOiBcIlwifWB9XG4gICAgICAgIC8+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XG4gICAgICAgICAgb25CbHVyPXsoKSA9PiBzYXZlVGFzaygpfVxuICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE5ld1Rhc2soZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIHZhbHVlPXtuZXdUYXNrfVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtaW5wdXQtYWRkLWFuLWl0ZW1cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImFkZC10YXNrLWlucHV0XCJcbiAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgIG1heExlbmd0aD17MTAwfVxuICAgICAgICAgIGRpc2FibGVkPXtpc0F0TWF4TGlzdEl0ZW1zTGltaXR9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFzay1saXN0LXdyYXBwZXJcIj5cbiAgICAgICAgPG1vei1yZW9yZGVyYWJsZS1saXN0XG4gICAgICAgICAgcmVmPXtyZW9yZGVyTGlzdFJlZn1cbiAgICAgICAgICBpdGVtU2VsZWN0b3I9XCJmaWVsZHNldCAudGFzay10eXBlLXRhc2tzXCJcbiAgICAgICAgICBkcmFnU2VsZWN0b3I9XCIuY2hlY2tib3gtd3JhcHBlclwiXG4gICAgICAgID5cbiAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICB7LyogSW5jb21wbGV0ZSBMaXN0ICAqL31cbiAgICAgICAgICAgIHtzZWxlY3RlZExpc3Q/LnRhc2tzLmxlbmd0aCA+PSAxICYmXG4gICAgICAgICAgICAgIHNlbGVjdGVkTGlzdC50YXNrcy5tYXAoKHRhc2ssIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPExpc3RJdGVtXG4gICAgICAgICAgICAgICAgICB0eXBlPXtUQVNLX1RZUEUuSU5fUFJPR1JFU1N9XG4gICAgICAgICAgICAgICAgICB0YXNrPXt0YXNrfVxuICAgICAgICAgICAgICAgICAga2V5PXt0YXNrLmlkfVxuICAgICAgICAgICAgICAgICAgdXBkYXRlVGFzaz17dXBkYXRlVGFza31cbiAgICAgICAgICAgICAgICAgIGRlbGV0ZVRhc2s9e2RlbGV0ZVRhc2t9XG4gICAgICAgICAgICAgICAgICBtb3ZlVGFzaz17bW92ZVRhc2t9XG4gICAgICAgICAgICAgICAgICBpc1ZhbGlkVXJsPXtpc1ZhbGlkVXJsfVxuICAgICAgICAgICAgICAgICAgaXNGaXJzdD17aW5kZXggPT09IDB9XG4gICAgICAgICAgICAgICAgICBpc0xhc3Q9e2luZGV4ID09PSBzZWxlY3RlZExpc3QudGFza3MubGVuZ3RoIC0gMX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIHsvKiBDb21wbGV0ZWQgTGlzdCAqL31cbiAgICAgICAgICAgIHtzZWxlY3RlZExpc3Q/LmNvbXBsZXRlZC5sZW5ndGggPj0gMSAmJiAoXG4gICAgICAgICAgICAgIDxkZXRhaWxzXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY29tcGxldGVkLXRhc2std3JhcHBlclwiXG4gICAgICAgICAgICAgICAgb3Blbj17c2VsZWN0ZWRMaXN0Py50YXNrcy5sZW5ndGggPCAxfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnk+XG4gICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWxpc3RzLWNvbXBsZXRlZC1saXN0XCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9e0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICBudW1iZXI6IGxpc3RzW3NlbGVjdGVkXT8uY29tcGxldGVkLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbXBsZXRlZC10aXRsZVwiXG4gICAgICAgICAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRMaXN0Py5jb21wbGV0ZWQubWFwKGNvbXBsZXRlZFRhc2sgPT4gKFxuICAgICAgICAgICAgICAgICAgPExpc3RJdGVtXG4gICAgICAgICAgICAgICAgICAgIGtleT17Y29tcGxldGVkVGFzay5pZH1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT17VEFTS19UWVBFLkNPTVBMRVRFRH1cbiAgICAgICAgICAgICAgICAgICAgdGFzaz17Y29tcGxldGVkVGFza31cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlVGFzaz17ZGVsZXRlVGFza31cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVGFzaz17dXBkYXRlVGFza31cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGV0YWlscz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgPC9tb3otcmVvcmRlcmFibGUtbGlzdD5cbiAgICAgICAgey8qIEVtcHR5IFN0YXRlICovfVxuICAgICAgICB7c2VsZWN0ZWRMaXN0Py50YXNrcy5sZW5ndGggPCAxICYmXG4gICAgICAgICAgc2VsZWN0ZWRMaXN0Py5jb21wbGV0ZWQubGVuZ3RoIDwgMSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5LWxpc3RcIj5cbiAgICAgICAgICAgICAgPHBpY3R1cmU+XG4gICAgICAgICAgICAgICAgPHNvdXJjZVxuICAgICAgICAgICAgICAgICAgc3JjU2V0PVwiY2hyb21lOi8vbmV3dGFiL2NvbnRlbnQvZGF0YS9jb250ZW50L2Fzc2V0cy9saXN0cy1lbXB0eS1zdGF0ZS1kYXJrLnN2Z1wiXG4gICAgICAgICAgICAgICAgICBtZWRpYT1cIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHNvdXJjZVxuICAgICAgICAgICAgICAgICAgc3JjU2V0PVwiY2hyb21lOi8vbmV3dGFiL2NvbnRlbnQvZGF0YS9jb250ZW50L2Fzc2V0cy9saXN0cy1lbXB0eS1zdGF0ZS1saWdodC5zdmdcIlxuICAgICAgICAgICAgICAgICAgbWVkaWE9XCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8aW1nIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCIgYWx0PVwiXCIgLz5cbiAgICAgICAgICAgICAgPC9waWN0dXJlPlxuICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVtcHR5LWxpc3QtdGV4dFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1lbXB0eS1jdGFcIlxuICAgICAgICAgICAgICA+PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGNhbnZhcyBjbGFzc05hbWU9XCJjb25mZXR0aS1jYW52YXNcIiByZWY9e2NhbnZhc1JlZn0gLz5cbiAgICA8L2FydGljbGU+XG4gICk7XG59XG5cbmZ1bmN0aW9uIExpc3RJdGVtKHtcbiAgdGFzayxcbiAgdXBkYXRlVGFzayxcbiAgZGVsZXRlVGFzayxcbiAgbW92ZVRhc2ssXG4gIGlzVmFsaWRVcmwsXG4gIHR5cGUsXG4gIGlzRmlyc3QgPSBmYWxzZSxcbiAgaXNMYXN0ID0gZmFsc2UsXG59KSB7XG4gIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtleGl0aW5nLCBzZXRFeGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaXNDb21wbGV0ZWQgPSB0eXBlID09PSBUQVNLX1RZUEUuQ09NUExFVEVEO1xuXG4gIGNvbnN0IHByZWZlcnNSZWR1Y2VkTW90aW9uID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIHdpbmRvdy5tYXRjaE1lZGlhID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIpLm1hdGNoZXM7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hDaGFuZ2UoZSkge1xuICAgIGNvbnN0IHsgY2hlY2tlZCB9ID0gZS50YXJnZXQ7XG4gICAgY29uc3QgdXBkYXRlZFRhc2sgPSB7IC4uLnRhc2ssIGNvbXBsZXRlZDogY2hlY2tlZCB9O1xuICAgIGlmIChjaGVja2VkICYmICFwcmVmZXJzUmVkdWNlZE1vdGlvbikge1xuICAgICAgc2V0RXhpdGluZyh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlVGFzayh1cGRhdGVkVGFzaywgdHlwZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gV2hlbiB0aGUgQ1NTIHRyYW5zaXRpb24gZmluaXNoZXMsIGRpc3BhdGNoIHRoZSByZWFsIOKAnGNvbXBsZXRlZCA9IHRydWXigJ1cbiAgZnVuY3Rpb24gaGFuZGxlVHJhbnNpdGlvbkVuZChlKSB7XG4gICAgLy8gb25seSBmaXJlIG9uY2UgZm9yIHRoZSBleGl0OlxuICAgIGlmIChlLnByb3BlcnR5TmFtZSA9PT0gXCJvcGFjaXR5XCIgJiYgZXhpdGluZykge1xuICAgICAgdXBkYXRlVGFzayh7IC4uLnRhc2ssIGNvbXBsZXRlZDogdHJ1ZSB9LCB0eXBlKTtcbiAgICAgIHNldEV4aXRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVNhdmUobmV3VmFsdWUpIHtcbiAgICBjb25zdCB0cmltbWVkVGFzayA9IG5ld1ZhbHVlLnRyaW1FbmQoKTtcbiAgICBpZiAodHJpbW1lZFRhc2sgJiYgdHJpbW1lZFRhc2sgIT09IHRhc2sudmFsdWUpIHtcbiAgICAgIHVwZGF0ZVRhc2soXG4gICAgICAgIHsgLi4udGFzaywgdmFsdWU6IG5ld1ZhbHVlLCBpc1VybDogaXNWYWxpZFVybCh0cmltbWVkVGFzaykgfSxcbiAgICAgICAgdHlwZVxuICAgICAgKTtcbiAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRGVsZXRlKCkge1xuICAgIGRlbGV0ZVRhc2sodGFzaywgdHlwZSk7XG4gIH1cblxuICBjb25zdCB0YXNrTGFiZWwgPSB0YXNrLmlzVXJsID8gKFxuICAgIDxhXG4gICAgICBocmVmPXt0YXNrLnZhbHVlfVxuICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgY2xhc3NOYW1lPVwidGFzay1sYWJlbFwiXG4gICAgICB0aXRsZT17dGFzay52YWx1ZX1cbiAgICA+XG4gICAgICB7dGFzay52YWx1ZX1cbiAgICA8L2E+XG4gICkgOiAoXG4gICAgPGxhYmVsXG4gICAgICBjbGFzc05hbWU9XCJ0YXNrLWxhYmVsXCJcbiAgICAgIHRpdGxlPXt0YXNrLnZhbHVlfVxuICAgICAgaHRtbEZvcj17YHRhc2stJHt0YXNrLmlkfWB9XG4gICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmcodHJ1ZSl9XG4gICAgPlxuICAgICAge3Rhc2sudmFsdWV9XG4gICAgPC9sYWJlbD5cbiAgKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17YHRhc2staXRlbSB0YXNrLXR5cGUtJHt0eXBlfSAke2V4aXRpbmcgPyBcIiBleGl0aW5nXCIgOiBcIlwifWB9XG4gICAgICBpZD17dGFzay5pZH1cbiAgICAgIGtleT17dGFzay5pZH1cbiAgICAgIG9uVHJhbnNpdGlvbkVuZD17aGFuZGxlVHJhbnNpdGlvbkVuZH1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrYm94LXdyYXBwZXJcIj5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hlY2tib3hDaGFuZ2V9XG4gICAgICAgICAgY2hlY2tlZD17dGFzay5jb21wbGV0ZWQgfHwgZXhpdGluZ31cbiAgICAgICAgICBpZD17YHRhc2stJHt0YXNrLmlkfWB9XG4gICAgICAgIC8+XG4gICAgICAgIHtpc0NvbXBsZXRlZCA/IChcbiAgICAgICAgICB0YXNrTGFiZWxcbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8RWRpdGFibGVUZXh0XG4gICAgICAgICAgICBpc0VkaXRpbmc9e2lzRWRpdGluZ31cbiAgICAgICAgICAgIHNldElzRWRpdGluZz17c2V0SXNFZGl0aW5nfVxuICAgICAgICAgICAgdmFsdWU9e3Rhc2sudmFsdWV9XG4gICAgICAgICAgICBvblNhdmU9e2hhbmRsZVNhdmV9XG4gICAgICAgICAgICB0eXBlPVwidGFza1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3Rhc2tMYWJlbH1cbiAgICAgICAgICA8L0VkaXRhYmxlVGV4dD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPG1vei1idXR0b25cbiAgICAgICAgaWNvblNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL21vcmUuc3ZnXCJcbiAgICAgICAgbWVudUlkPXtgcGFuZWwtdGFzay0ke3Rhc2suaWR9YH1cbiAgICAgICAgdHlwZT1cImdob3N0XCJcbiAgICAgIC8+XG4gICAgICA8cGFuZWwtbGlzdCBpZD17YHBhbmVsLXRhc2stJHt0YXNrLmlkfWB9PlxuICAgICAgICB7IWlzQ29tcGxldGVkICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAge3Rhc2suaXNVcmwgJiYgKFxuICAgICAgICAgICAgICA8cGFuZWwtaXRlbVxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtaW5wdXQtbWVudS1vcGVuLWxpbmtcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKHRhc2sudmFsdWUsIFwiX2JsYW5rXCIsIFwibm9vcGVuZXJcIil9XG4gICAgICAgICAgICAgID48L3BhbmVsLWl0ZW0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgICAgey4uLihpc0ZpcnN0ID8geyBkaXNhYmxlZDogdHJ1ZSB9IDoge30pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBtb3ZlVGFzayh0YXNrLCBcInVwXCIpfVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LWxpc3RzLWlucHV0LW1lbnUtbW92ZS11cFwiXG4gICAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgICAgey4uLihpc0xhc3QgPyB7IGRpc2FibGVkOiB0cnVlIH0gOiB7fSl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG1vdmVUYXNrKHRhc2ssIFwiZG93blwiKX1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1pbnB1dC1tZW51LW1vdmUtZG93blwiXG4gICAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1saXN0cy1pbnB1dC1tZW51LWVkaXRcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0LWl0ZW1cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0VkaXRpbmcodHJ1ZSl9XG4gICAgICAgICAgICA+PC9wYW5lbC1pdGVtPlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgICA8cGFuZWwtaXRlbVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQtbGlzdHMtaW5wdXQtbWVudS1kZWxldGVcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImRlbGV0ZS1pdGVtXCJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWxldGV9XG4gICAgICAgID48L3BhbmVsLWl0ZW0+XG4gICAgICA8L3BhbmVsLWxpc3Q+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIEVkaXRhYmxlVGV4dCh7XG4gIHZhbHVlLFxuICBpc0VkaXRpbmcsXG4gIHNldElzRWRpdGluZyxcbiAgb25TYXZlLFxuICBvbkNhbmNlbCxcbiAgY2hpbGRyZW4sXG4gIHR5cGUsXG4gIGRhdGFMMTBuSWQgPSBudWxsLFxuICBtYXhMZW5ndGggPSAxMDAsXG59KSB7XG4gIGNvbnN0IFt0ZW1wVmFsdWUsIHNldFRlbXBWYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSk7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIC8vIFRydWUgaWYgdGVtcFZhbHVlIGlzIGVtcHR5LCBudWxsL3VuZGVmaW5lZCwgb3Igb25seSB3aGl0ZXNwYWNlXG4gIGNvbnN0IHNob3dQbGFjZWhvbGRlciA9ICh0ZW1wVmFsdWUgPz8gXCJcIikudHJpbSgpID09PSBcIlwiO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzRWRpdGluZykge1xuICAgICAgaW5wdXRSZWYuY3VycmVudD8uZm9jdXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGVtcFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH0sIFtpc0VkaXRpbmcsIHZhbHVlXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIG9uU2F2ZSh0ZW1wVmFsdWUudHJpbSgpKTtcbiAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICAgIHNldFRlbXBWYWx1ZSh2YWx1ZSk7XG4gICAgICBvbkNhbmNlbD8uKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlT25CbHVyKCkge1xuICAgIG9uU2F2ZSh0ZW1wVmFsdWUudHJpbSgpKTtcbiAgICBzZXRJc0VkaXRpbmcoZmFsc2UpO1xuICB9XG5cbiAgcmV0dXJuIGlzRWRpdGluZyA/IChcbiAgICA8aW5wdXRcbiAgICAgIGNsYXNzTmFtZT17YGVkaXQtJHt0eXBlfWB9XG4gICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgdmFsdWU9e3RlbXBWYWx1ZX1cbiAgICAgIG1heExlbmd0aD17bWF4TGVuZ3RofVxuICAgICAgb25DaGFuZ2U9e2V2ZW50ID0+IHNldFRlbXBWYWx1ZShldmVudC50YXJnZXQudmFsdWUpfVxuICAgICAgb25CbHVyPXtoYW5kbGVPbkJsdXJ9XG4gICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAvLyBOb3RlIHRoYXQgaWYgYSB1c2VyIGhhcyBhIGN1c3RvbSBuYW1lIHNldCwgaXQgd2lsbCBvdmVycmlkZSB0aGUgcGxhY2Vob2xkZXJcbiAgICAgIHsuLi4oc2hvd1BsYWNlaG9sZGVyICYmIGRhdGFMMTBuSWQgPyB7IFwiZGF0YS1sMTBuLWlkXCI6IGRhdGFMMTBuSWQgfSA6IHt9KX1cbiAgICAvPlxuICApIDogKFxuICAgIFtjaGlsZHJlbl1cbiAgKTtcbn1cblxuZXhwb3J0IHsgTGlzdHMgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwczovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIGJhdGNoIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciB9IGZyb20gXCIuLi8uLi8uLi9saWIvdXRpbHNcIjtcblxuY29uc3QgVVNFUl9BQ1RJT05fVFlQRVMgPSB7XG4gIFRJTUVSX1NFVDogXCJ0aW1lcl9zZXRcIixcbiAgVElNRVJfUExBWTogXCJ0aW1lcl9wbGF5XCIsXG4gIFRJTUVSX1BBVVNFOiBcInRpbWVyX3BhdXNlXCIsXG4gIFRJTUVSX1JFU0VUOiBcInRpbWVyX3Jlc2V0XCIsXG4gIFRJTUVSX0VORDogXCJ0aW1lcl9lbmRcIixcbiAgVElNRVJfVE9HR0xFX0ZPQ1VTOiBcInRpbWVyX3RvZ2dsZV9mb2N1c1wiLFxuICBUSU1FUl9UT0dHTEVfQlJFQUs6IFwidGltZXJfdG9nZ2xlX2JyZWFrXCIsXG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHJlbWFpbmluZyB0aW1lIChpbiBzZWNvbmRzKSBieSBzdWJ0cmFjdGluZyBlbGFwc2VkIHRpbWUgZnJvbSB0aGUgb3JpZ2luYWwgZHVyYXRpb25cbiAqXG4gKiBAcGFyYW0gZHVyYXRpb25cbiAqIEBwYXJhbSBzdGFydFxuICogQHJldHVybnMgaW50XG4gKi9cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVUaW1lUmVtYWluaW5nID0gKGR1cmF0aW9uLCBzdGFydCkgPT4ge1xuICBjb25zdCBjdXJyZW50VGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuXG4gIC8vIFN1YnRyYWN0IHRoZSBlbGFwc2VkIHRpbWUgZnJvbSBpbml0aWFsIGR1cmF0aW9uIHRvIGdldCB0aW1lIHJlbWFpbmluZyBpbiB0aGUgdGltZXJcbiAgcmV0dXJuIE1hdGgubWF4KGR1cmF0aW9uIC0gKGN1cnJlbnRUaW1lIC0gc3RhcnQpLCAwKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBudW1iZXIgb2Ygc2Vjb25kcyBpbnRvIGEgemVyby1wYWRkZWQgTU06U1MgdGltZSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0gc2Vjb25kc1xuICogQHJldHVybnMgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBmb3JtYXRUaW1lID0gc2Vjb25kcyA9PiB7XG4gIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MClcbiAgICAudG9TdHJpbmcoKVxuICAgIC5wYWRTdGFydCgyLCBcIjBcIik7XG4gIGNvbnN0IHNlY3MgPSAoc2Vjb25kcyAlIDYwKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcbiAgcmV0dXJuIGAke21pbnV0ZXN9OiR7c2Vjc31gO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIHBvbGFyIGNvb3JkaW5hdGUgKGFuZ2xlIG9uIGNpcmNsZSkgaW50byBhIHBlcmNlbnRhZ2UtYmFzZWQgW3gseV0gcG9zaXRpb24gZm9yIGNsaXAtcGF0aFxuICpcbiAqIEBwYXJhbSBjeFxuICogQHBhcmFtIGN5XG4gKiBAcGFyYW0gcmFkaXVzXG4gKiBAcGFyYW0gYW5nbGVcbiAqIEByZXR1cm5zIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgcG9sYXJUb1BlcmNlbnQgPSAoY3gsIGN5LCByYWRpdXMsIGFuZ2xlKSA9PiB7XG4gIGNvbnN0IHJhZCA9ICgoYW5nbGUgLSA5MCkgKiBNYXRoLlBJKSAvIDE4MDtcbiAgY29uc3QgeCA9IGN4ICsgcmFkaXVzICogTWF0aC5jb3MocmFkKTtcbiAgY29uc3QgeSA9IGN5ICsgcmFkaXVzICogTWF0aC5zaW4ocmFkKTtcbiAgcmV0dXJuIGAke3h9JSAke3l9JWA7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGNsaXAtcGF0aCBwb2x5Z29uIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgYSBwaWUgc2xpY2UgZnJvbSAwIGRlZ3JlZXNcbiAqIHRvIHRoZSBjdXJyZW50IHByb2dyZXNzIGFuZ2xlXG4gKlxuICogQHJldHVybnMgc3RyaW5nXG4gKiBAcGFyYW0gcHJvZ3Jlc3NcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENsaXBQYXRoID0gcHJvZ3Jlc3MgPT4ge1xuICBjb25zdCBjeCA9IDUwO1xuICBjb25zdCBjeSA9IDUwO1xuICBjb25zdCByYWRpdXMgPSA1MDtcbiAgLy8gU2hvdyBzb21lIHByb2dyZXNzIHJpZ2h0IGF0IHRoZSBzdGFydCAtIDYgZGVncmVlcyBpcyBqdXN0IGVub3VnaCB0byBwYWludCBhIGRvdCBvbmNlIHRoZSB0aW1lciBpcyB0aWNraW5nXG4gIGNvbnN0IGFuZ2xlID0gcHJvZ3Jlc3MgPiAwID8gTWF0aC5tYXgocHJvZ3Jlc3MgKiAzNjAsIDYpIDogMDtcbiAgY29uc3QgcG9pbnRzID0gW2A1MCUgNTAlYF07XG5cbiAgZm9yIChsZXQgYSA9IDA7IGEgPD0gYW5nbGU7IGEgKz0gMikge1xuICAgIHBvaW50cy5wdXNoKHBvbGFyVG9QZXJjZW50KGN4LCBjeSwgcmFkaXVzLCBhKSk7XG4gIH1cblxuICByZXR1cm4gYHBvbHlnb24oJHtwb2ludHMuam9pbihcIiwgXCIpfSlgO1xufTtcblxuZXhwb3J0IGNvbnN0IEZvY3VzVGltZXIgPSAoeyBkaXNwYXRjaCwgaGFuZGxlVXNlckludGVyYWN0aW9uIH0pID0+IHtcbiAgY29uc3QgW3RpbWVMZWZ0LCBzZXRUaW1lTGVmdF0gPSB1c2VTdGF0ZSgwKTtcbiAgLy8gY2FsY3VsYXRlZCB2YWx1ZSBmb3IgdGhlIHByb2dyZXNzIGNpcmNsZTsgMSA9IDEwMCVcbiAgY29uc3QgW3Byb2dyZXNzLCBzZXRQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKTtcblxuICBjb25zdCBhY3RpdmVNaW51dGVzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBhY3RpdmVTZWNvbmRzUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBhcmNSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgY29uc3QgdGltZXJUeXBlID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuVGltZXJXaWRnZXQudGltZXJUeXBlKTtcbiAgY29uc3QgdGltZXJEYXRhID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuVGltZXJXaWRnZXQpO1xuICBjb25zdCB7IGR1cmF0aW9uLCBpbml0aWFsRHVyYXRpb24sIHN0YXJ0VGltZSwgaXNSdW5uaW5nIH0gPVxuICAgIHRpbWVyRGF0YVt0aW1lclR5cGVdO1xuICBjb25zdCBpbml0aWFsVGltZXJEdXJhdGlvbiA9IHRpbWVyRGF0YVt0aW1lclR5cGVdLmluaXRpYWxEdXJhdGlvbjtcblxuICBjb25zdCBoYW5kbGVUaW1lckludGVyYWN0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKCkgPT4gaGFuZGxlVXNlckludGVyYWN0aW9uKFwiZm9jdXNUaW1lclwiKSxcbiAgICBbaGFuZGxlVXNlckludGVyYWN0aW9uXVxuICApO1xuXG4gIGNvbnN0IGhhbmRsZUludGVyc2VjdGlvbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfSU1QUkVTU0lPTixcbiAgICAgIH0pXG4gICAgKTtcbiAgfSwgW2Rpc3BhdGNoXSk7XG5cbiAgY29uc3QgdGltZXJSZWYgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbnRlcnNlY3Rpb24pO1xuXG4gIGNvbnN0IHJlc2V0UHJvZ3Jlc3NDaXJjbGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKGFyY1JlZj8uY3VycmVudCkge1xuICAgICAgYXJjUmVmLmN1cnJlbnQuc3R5bGUuY2xpcFBhdGggPSBcInBvbHlnb24oNTAlIDUwJSlcIjtcbiAgICAgIGFyY1JlZi5jdXJyZW50LnN0eWxlLndlYmtpdENsaXBQYXRoID0gXCJwb2x5Z29uKDUwJSA1MCUpXCI7XG4gICAgfVxuICAgIHNldFByb2dyZXNzKDApO1xuICAgIGhhbmRsZVRpbWVySW50ZXJhY3Rpb24oKTtcbiAgfSwgW2FyY1JlZiwgaGFuZGxlVGltZXJJbnRlcmFjdGlvbl0pO1xuXG4gIGNvbnN0IHByZWZzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuUHJlZnMudmFsdWVzKTtcbiAgY29uc3Qgc2hvd1N5c3RlbU5vdGlmaWNhdGlvbnMgPVxuICAgIHByZWZzW1wid2lkZ2V0cy5mb2N1c1RpbWVyLnNob3dTeXN0ZW1Ob3RpZmljYXRpb25zXCJdO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gcmVzZXRzIGRlZmF1bHQgdmFsdWVzIGFmdGVyIHRpbWVyIGVuZHNcbiAgICBsZXQgaW50ZXJ2YWw7XG4gICAgaWYgKGlzUnVubmluZyAmJiBkdXJhdGlvbiA+IDApIHtcbiAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBjb25zdCByZW1haW5pbmcgPSBjYWxjdWxhdGVUaW1lUmVtYWluaW5nKGR1cmF0aW9uLCBzdGFydFRpbWUpO1xuXG4gICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfRU5ELFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgIHRpbWVyVHlwZSxcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBpbml0aWFsVGltZXJEdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxEdXJhdGlvbjogaW5pdGlhbFRpbWVyRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9FTkQgfSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBhbmltYXRlIHRoZSBwcm9ncmVzcyBjaXJjbGUgdG8gdHVybiBzb2xpZCBncmVlblxuICAgICAgICAgIHNldFByb2dyZXNzKDEpO1xuXG4gICAgICAgICAgLy8gTW9yZSB0cmFuc2l0aW9ucyBhZnRlciBhIGRlbGF5IHRvIGFsbG93IHRoZSBhbmltYXRpb24gYWJvdmUgdG8gY29tcGxldGVcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIHByb2dyZXNzIGNpcmNsZSBnb2VzIGJhY2sgdG8gZGVmYXVsdCBncmV5XG4gICAgICAgICAgICByZXNldFByb2dyZXNzQ2lyY2xlKCk7XG5cbiAgICAgICAgICAgIC8vIFRoZXJlJ3MgbW9yZSB0byBzZWUhXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgLy8gc3dpdGNoIG92ZXIgdG8gdGhlIG90aGVyIHRpbWVyIHR5cGVcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1uZXN0ZWQtY2FsbGJhY2tzXG4gICAgICAgICAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1NFVF9UWVBFLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdGltZXJUeXBlOiB0aW1lclR5cGUgPT09IFwiZm9jdXNcIiA/IFwiYnJlYWtcIiA6IFwiZm9jdXNcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfVVNFUl9FVkVOVCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIHVzZXJBY3Rpb246XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lclR5cGUgPT09IFwiZm9jdXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1RPR0dMRV9CUkVBS1xuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1RPR0dMRV9GT0NVUyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgICB9LCAxNTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVzaW5nIHNldFRpbWVMZWZ0IHRvIHRyaWdnZXIgYSByZS1yZW5kZXIgb2YgdGhlIGNvbXBvbmVudCB0byBzaG93IGxpdmUgY291bnRkb3duIGVhY2ggc2Vjb25kXG4gICAgICAgIHNldFRpbWVMZWZ0KHJlbWFpbmluZyk7XG4gICAgICAgIHNldFByb2dyZXNzKChpbml0aWFsRHVyYXRpb24gLSByZW1haW5pbmcpIC8gaW5pdGlhbER1cmF0aW9uKTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIC8vIFNob3dzIHRoZSBjb3JyZWN0IGxpdmUgdGltZSBpbiB0aGUgVUkgd2hlbmV2ZXIgdGhlIHRpbWVyIHN0YXRlIGNoYW5nZXNcbiAgICBjb25zdCBuZXdUaW1lID0gaXNSdW5uaW5nXG4gICAgICA/IGNhbGN1bGF0ZVRpbWVSZW1haW5pbmcoZHVyYXRpb24sIHN0YXJ0VGltZSlcbiAgICAgIDogZHVyYXRpb247XG5cbiAgICBzZXRUaW1lTGVmdChuZXdUaW1lKTtcblxuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSwgW1xuICAgIGlzUnVubmluZyxcbiAgICBzdGFydFRpbWUsXG4gICAgZHVyYXRpb24sXG4gICAgaW5pdGlhbER1cmF0aW9uLFxuICAgIGRpc3BhdGNoLFxuICAgIHJlc2V0UHJvZ3Jlc3NDaXJjbGUsXG4gICAgdGltZXJUeXBlLFxuICAgIGluaXRpYWxUaW1lckR1cmF0aW9uLFxuICBdKTtcblxuICAvLyBVcGRhdGUgdGhlIGNsaXAtcGF0aCBvZiB0aGUgZ3JhZGllbnQgY2lyY2xlIHRvIG1hdGNoIHRoZSBjdXJyZW50IHByb2dyZXNzIHZhbHVlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGFyY1JlZj8uY3VycmVudCkge1xuICAgICAgYXJjUmVmLmN1cnJlbnQuc3R5bGUuY2xpcFBhdGggPSBnZXRDbGlwUGF0aChwcm9ncmVzcyk7XG4gICAgfVxuICB9LCBbcHJvZ3Jlc3NdKTtcblxuICAvLyBzZXQgdGltZXIgZnVuY3Rpb25cbiAgY29uc3Qgc2V0VGltZXJEdXJhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBtaW51dGVzRWwgPSBhY3RpdmVNaW51dGVzUmVmLmN1cnJlbnQ7XG4gICAgY29uc3Qgc2Vjb25kc0VsID0gYWN0aXZlU2Vjb25kc1JlZi5jdXJyZW50O1xuXG4gICAgY29uc3QgbWludXRlc1ZhbHVlID0gbWludXRlc0VsLmlubmVyVGV4dC50cmltKCkgfHwgXCIwXCI7XG4gICAgY29uc3Qgc2Vjb25kc1ZhbHVlID0gc2Vjb25kc0VsLmlubmVyVGV4dC50cmltKCkgfHwgXCIwXCI7XG5cbiAgICBsZXQgbWludXRlcyA9IHBhcnNlSW50KG1pbnV0ZXNWYWx1ZSB8fCBcIjBcIiwgMTApO1xuICAgIGxldCBzZWNvbmRzID0gcGFyc2VJbnQoc2Vjb25kc1ZhbHVlIHx8IFwiMFwiLCAxMCk7XG5cbiAgICAvLyBTZXQgYSBsaW1pdCBvZiA5OSBtaW51dGVzXG4gICAgbWludXRlcyA9IE1hdGgubWluKG1pbnV0ZXMsIDk5KTtcbiAgICAvLyBTZXQgYSBsaW1pdCBvZiA1OSBzZWNvbmRzXG4gICAgc2Vjb25kcyA9IE1hdGgubWluKHNlY29uZHMsIDU5KTtcblxuICAgIGNvbnN0IHRvdGFsU2Vjb25kcyA9IG1pbnV0ZXMgKiA2MCArIHNlY29uZHM7XG5cbiAgICBpZiAoXG4gICAgICAhTnVtYmVyLmlzTmFOKHRvdGFsU2Vjb25kcykgJiZcbiAgICAgIHRvdGFsU2Vjb25kcyA+IDAgJiZcbiAgICAgIHRvdGFsU2Vjb25kcyAhPT0gZHVyYXRpb25cbiAgICApIHtcbiAgICAgIGJhdGNoKCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1NFVF9EVVJBVElPTixcbiAgICAgICAgICAgIGRhdGE6IHsgdGltZXJUeXBlLCBkdXJhdGlvbjogdG90YWxTZWNvbmRzIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1NFVCB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlVGltZXJJbnRlcmFjdGlvbigpO1xuICB9O1xuXG4gIC8vIFBhdXNlIHRpbWVyIGZ1bmN0aW9uXG4gIGNvbnN0IHRvZ2dsZVRpbWVyID0gKCkgPT4ge1xuICAgIGlmICghaXNSdW5uaW5nICYmIGR1cmF0aW9uID4gMCkge1xuICAgICAgYmF0Y2goKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfUExBWSxcbiAgICAgICAgICAgIGRhdGE6IHsgdGltZXJUeXBlIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgICBkYXRhOiB7IHVzZXJBY3Rpb246IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1BMQVkgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpc1J1bm5pbmcpIHtcbiAgICAgIC8vIGNhbGN1bGF0ZWQgdG8gZ2V0IHRoZSBuZXcgYmFzZWxpbmUgb2YgdGhlIHRpbWVyIHdoZW4gaXQgc3RhcnRzIG9yIHJlc3VtZXNcbiAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGNhbGN1bGF0ZVRpbWVSZW1haW5pbmcoZHVyYXRpb24sIHN0YXJ0VGltZSk7XG4gICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9QQVVTRSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdGltZXJUeXBlLFxuICAgICAgICAgICAgICBkdXJhdGlvbjogcmVtYWluaW5nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfVVNFUl9FVkVOVCxcbiAgICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuVElNRVJfUEFVU0UgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVRpbWVySW50ZXJhY3Rpb24oKTtcbiAgfTtcblxuICAvLyByZXNldCB0aW1lciBmdW5jdGlvblxuICBjb25zdCByZXNldFRpbWVyID0gKCkgPT4ge1xuICAgIGJhdGNoKCgpID0+IHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1JFU0VULFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRpbWVyVHlwZSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBpbml0aWFsVGltZXJEdXJhdGlvbixcbiAgICAgICAgICAgIGluaXRpYWxEdXJhdGlvbjogaW5pdGlhbFRpbWVyRHVyYXRpb24sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9SRVNFVCB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIFJlc2V0IHByb2dyZXNzIHZhbHVlIGFuZCBncmFkaWVudCBhcmMgb24gdGhlIHByb2dyZXNzIGNpcmNsZVxuICAgIHJlc2V0UHJvZ3Jlc3NDaXJjbGUoKTtcblxuICAgIGhhbmRsZVRpbWVySW50ZXJhY3Rpb24oKTtcbiAgfTtcblxuICAvLyBUb2dnbGVzIGJldHdlZW4gXCJmb2N1c1wiIGFuZCBcImJyZWFrXCIgdGltZXIgdHlwZXNcbiAgY29uc3QgdG9nZ2xlVHlwZSA9IHR5cGUgPT4ge1xuICAgIGNvbnN0IG9sZFR5cGVSZW1haW5pbmcgPSBjYWxjdWxhdGVUaW1lUmVtYWluaW5nKGR1cmF0aW9uLCBzdGFydFRpbWUpO1xuXG4gICAgYmF0Y2goKCkgPT4ge1xuICAgICAgLy8gVGhlIHR5cGUgd2UgYXJlIHRvZ2dsaW5nIGF3YXkgZnJvbSBhdXRvbWF0aWNhbGx5IHBhdXNlc1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfUEFVU0UsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdGltZXJUeXBlLFxuICAgICAgICAgICAgZHVyYXRpb246IG9sZFR5cGVSZW1haW5pbmcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQsXG4gICAgICAgICAgZGF0YTogeyB1c2VyQWN0aW9uOiBVU0VSX0FDVElPTl9UWVBFUy5USU1FUl9QQVVTRSB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgLy8gU2V0cyB0aGUgY3VycmVudCB0aW1lciB0eXBlIHNvIGl0IHBlcnNpc3RzIHdoZW4gb3BlbmluZyBhIG5ldyB0YWJcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5BbHNvVG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBhdC5XSURHRVRTX1RJTUVSX1NFVF9UWVBFLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHRpbWVyVHlwZTogdHlwZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfVVNFUl9FVkVOVCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VyQWN0aW9uOlxuICAgICAgICAgICAgICB0eXBlID09PSBcImZvY3VzXCJcbiAgICAgICAgICAgICAgICA/IFVTRVJfQUNUSU9OX1RZUEVTLlRJTUVSX1RPR0dMRV9GT0NVU1xuICAgICAgICAgICAgICAgIDogVVNFUl9BQ1RJT05fVFlQRVMuVElNRVJfVE9HR0xFX0JSRUFLLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICAgIGhhbmRsZVRpbWVySW50ZXJhY3Rpb24oKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gZSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNldFRpbWVyRHVyYXRpb24oZSk7XG4gICAgICBoYW5kbGVUaW1lckludGVyYWN0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKGUua2V5ID09PSBcIlRhYlwiKSB7XG4gICAgICBzZXRUaW1lckR1cmF0aW9uKGUpO1xuICAgICAgaGFuZGxlVGltZXJJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVCZWZvcmVJbnB1dCA9IGUgPT4ge1xuICAgIGNvbnN0IGlucHV0ID0gZS5kYXRhO1xuICAgIGNvbnN0IHZhbHVlcyA9IGUudGFyZ2V0LmlubmVyVGV4dC50cmltKCk7XG5cbiAgICAvLyBvbmx5IGFsbG93IG51bWVyaWNhbCBkaWdpdHMgMOKAkzkgZm9yIHRpbWUgaW5wdXRcbiAgICBpZiAoIS9eXFxkKyQvLnRlc3QoaW5wdXQpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLy8gb25seSBhbGxvdyAyIHZhbHVlcyBlYWNoIGZvciBtaW51dGVzIGFuZCBzZWNvbmRzXG4gICAgaWYgKHZhbHVlcy5sZW5ndGggPj0gMikge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBjb25zdCBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcblxuICAgIC8vIGlmIGVudGlyZSB2YWx1ZSBpcyBzZWxlY3RlZCwgcmVwbGFjZSBpdCB3aXRoIHRoZSBuZXcgaW5wdXRcbiAgICBpZiAoc2VsZWN0ZWRUZXh0ID09PSB2YWx1ZXMpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBkZWZhdWx0IHR5cGluZ1xuICAgICAgZS50YXJnZXQuaW5uZXJUZXh0ID0gaW5wdXQ7XG5cbiAgICAgIC8vIFBsYWNlcyB0aGUgY2FyZXQgYXQgdGhlIGVuZCBvZiB0aGUgY29udGVudC1lZGl0YWJsZSB0ZXh0XG4gICAgICAvLyBUaGlzIGlzIGEga25vd24gcHJvYmxlbSB3aXRoIGNvbnRlbnQtZWRpdGFibGUgd2hlcmUgdGhlIGNhcmV0XG4gICAgICBjb25zdCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZS50YXJnZXQpO1xuICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpO1xuICAgICAgY29uc3Qgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRm9jdXMgPSBlID0+IHtcbiAgICBpZiAoaXNSdW5uaW5nKSB7XG4gICAgICAvLyBjYWxjdWxhdGVkIHRvIGdldCB0aGUgbmV3IGJhc2VsaW5lIG9mIHRoZSB0aW1lciB3aGVuIGl0IHN0YXJ0cyBvciByZXN1bWVzXG4gICAgICBjb25zdCByZW1haW5pbmcgPSBjYWxjdWxhdGVUaW1lUmVtYWluaW5nKGR1cmF0aW9uLCBzdGFydFRpbWUpO1xuXG4gICAgICBiYXRjaCgoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0lER0VUU19USU1FUl9QQVVTRSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdGltZXJUeXBlLFxuICAgICAgICAgICAgICBkdXJhdGlvbjogcmVtYWluaW5nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICAgIHR5cGU6IGF0LldJREdFVFNfVElNRVJfVVNFUl9FVkVOVCxcbiAgICAgICAgICAgIGRhdGE6IHsgdXNlckFjdGlvbjogVVNFUl9BQ1RJT05fVFlQRVMuVElNRVJfUEFVU0UgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gaGlnaGxpZ2h0IGVudGlyZSB0ZXh0IHdoZW4gZm9jdXNlZCBvbiB0aGUgdGltZS5cbiAgICAvLyB0aGlzIG1ha2VzIGl0IGVhc2llciB0byBpbnB1dCB0aGUgbmV3IHRpbWUgaW5zdGVhZCBvZiBiYWNrc3BhY2luZ1xuICAgIGNvbnN0IGVsID0gZS50YXJnZXQ7XG4gICAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlICYmIHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7XG4gICAgICBjb25zdCBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBoYW5kbGVMZWFybk1vcmUoKSB7XG4gICAgZGlzcGF0Y2goXG4gICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgdHlwZTogYXQuT1BFTl9MSU5LLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXJsOiBcImh0dHBzOi8vc3VwcG9ydC5tb3ppbGxhLm9yZy9rYi9maXJlZm94LW5ldy10YWItd2lkZ2V0c1wiLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICAgIGhhbmRsZVRpbWVySW50ZXJhY3Rpb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVByZWZVcGRhdGUocHJlZk5hbWUsIHByZWZWYWx1ZSkge1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgIHR5cGU6IGF0LlNFVF9QUkVGLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbmFtZTogcHJlZk5hbWUsXG4gICAgICAgICAgdmFsdWU6IHByZWZWYWx1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgKTtcbiAgICBoYW5kbGVUaW1lckludGVyYWN0aW9uKCk7XG4gIH1cblxuICByZXR1cm4gdGltZXJEYXRhID8gKFxuICAgIDxhcnRpY2xlXG4gICAgICBjbGFzc05hbWU9XCJmb2N1cy10aW1lclwiXG4gICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgdGltZXJSZWYuY3VycmVudCA9IFtlbF07XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3dGFiLXdpZGdldC10aW1lci1ub3RpZmljYXRpb24tdGl0bGUtd3JhcHBlclwiPlxuICAgICAgICA8aDMgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC10aW1lci1ub3RpZmljYXRpb24tdGl0bGVcIj48L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvY3VzLXRpbWVyLWNvbnRleHQtbWVudS13cmFwcGVyXCI+XG4gICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvY3VzLXRpbWVyLWNvbnRleHQtbWVudS1idXR0b25cIlxuICAgICAgICAgICAgaWNvblNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL21vcmUuc3ZnXCJcbiAgICAgICAgICAgIG1lbnVJZD1cImZvY3VzLXRpbWVyLWNvbnRleHQtbWVudVwiXG4gICAgICAgICAgICB0eXBlPVwiZ2hvc3RcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPHBhbmVsLWxpc3QgaWQ9XCJmb2N1cy10aW1lci1jb250ZXh0LW1lbnVcIj5cbiAgICAgICAgICAgIDxwYW5lbC1pdGVtXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17XG4gICAgICAgICAgICAgICAgc2hvd1N5c3RlbU5vdGlmaWNhdGlvbnNcbiAgICAgICAgICAgICAgICAgID8gXCJuZXd0YWItd2lkZ2V0LXRpbWVyLW1lbnUtbm90aWZpY2F0aW9uc1wiXG4gICAgICAgICAgICAgICAgICA6IFwibmV3dGFiLXdpZGdldC10aW1lci1tZW51LW5vdGlmaWNhdGlvbnMtb25cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVQcmVmVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgXCJ3aWRnZXRzLmZvY3VzVGltZXIuc2hvd1N5c3RlbU5vdGlmaWNhdGlvbnNcIixcbiAgICAgICAgICAgICAgICAgICFzaG93U3lzdGVtTm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHBhbmVsLWl0ZW1cbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC10aW1lci1tZW51LWhpZGVcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlUHJlZlVwZGF0ZShcIndpZGdldHMuZm9jdXNUaW1lci5lbmFibGVkXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8cGFuZWwtaXRlbVxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LXRpbWVyLW1lbnUtbGVhcm4tbW9yZVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxlYXJuTW9yZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9wYW5lbC1saXN0PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb2N1cy10aW1lci10YWJzXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9jdXMtdGltZXItdGFicy1idXR0b25zXCI+XG4gICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgIHR5cGU9e3RpbWVyVHlwZSA9PT0gXCJmb2N1c1wiID8gXCJkZWZhdWx0XCIgOiBcImdob3N0XCJ9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LXRpbWVyLW1vZGUtZm9jdXNcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlVHlwZShcImZvY3VzXCIpfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPG1vei1idXR0b25cbiAgICAgICAgICAgIHR5cGU9e3RpbWVyVHlwZSA9PT0gXCJicmVha1wiID8gXCJkZWZhdWx0XCIgOiBcImdob3N0XCJ9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LXRpbWVyLW1vZGUtYnJlYWtcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlVHlwZShcImJyZWFrXCIpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2XG4gICAgICAgIHJvbGU9XCJwcm9ncmVzc1wiXG4gICAgICAgIGNsYXNzTmFtZT17YHByb2dyZXNzLWNpcmNsZS13cmFwcGVyICR7XG4gICAgICAgICAgIXNob3dTeXN0ZW1Ob3RpZmljYXRpb25zICYmICF0aW1lckRhdGFbdGltZXJUeXBlXS5pc1J1bm5pbmdcbiAgICAgICAgICAgID8gXCJpcy1zbWFsbFwiXG4gICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgfWB9XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Bwcm9ncmVzcy1jaXJjbGUtYmFja2dyb3VuZCR7dGltZXJUeXBlID09PSBcImJyZWFrXCIgPyBcIi1icmVha1wiIDogXCJcIn1gfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Bwcm9ncmVzcy1jaXJjbGUgJHt0aW1lclR5cGUgPT09IFwiZm9jdXNcIiA/IFwiZm9jdXMtdmlzaWJsZVwiIDogXCJmb2N1cy1oaWRkZW5cIn1gfVxuICAgICAgICAgIHJlZj17dGltZXJUeXBlID09PSBcImZvY3VzXCIgPyBhcmNSZWYgOiBudWxsfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Bwcm9ncmVzcy1jaXJjbGUgJHt0aW1lclR5cGUgPT09IFwiYnJlYWtcIiA/IFwiYnJlYWstdmlzaWJsZVwiIDogXCJicmVhay1oaWRkZW5cIn1gfVxuICAgICAgICAgIHJlZj17dGltZXJUeXBlID09PSBcImJyZWFrXCIgPyBhcmNSZWYgOiBudWxsfVxuICAgICAgICAvPlxuXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Bwcm9ncmVzcy1jaXJjbGUtY29tcGxldGUke3Byb2dyZXNzID09PSAxID8gXCIgdmlzaWJsZVwiIDogXCJcIn1gfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IHJvbGU9XCJ0aW1lclwiIGNsYXNzTmFtZT1cInByb2dyZXNzLWNpcmNsZS1sYWJlbFwiPlxuICAgICAgICAgIDxFZGl0YWJsZVRpbWVyRmllbGRzXG4gICAgICAgICAgICBtaW51dGVzUmVmPXthY3RpdmVNaW51dGVzUmVmfVxuICAgICAgICAgICAgc2Vjb25kc1JlZj17YWN0aXZlU2Vjb25kc1JlZn1cbiAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgIG9uQmVmb3JlSW5wdXQ9e2hhbmRsZUJlZm9yZUlucHV0fVxuICAgICAgICAgICAgb25Gb2N1cz17aGFuZGxlRm9jdXN9XG4gICAgICAgICAgICB0aW1lTGVmdD17dGltZUxlZnR9XG4gICAgICAgICAgICBvbkJsdXI9eygpID0+IHNldFRpbWVyRHVyYXRpb24oKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldC10aW1lci1jb250cm9scy13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZm9jdXMtdGltZXItY29udHJvbHMgdGltZXItcnVubmluZ2B9PlxuICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICB7Li4uKCFpc1J1bm5pbmcgPyB7IHR5cGU6IFwicHJpbWFyeVwiIH0gOiB7fSl9XG4gICAgICAgICAgICBpY29uc3JjPXtgY2hyb21lOi8vZ2xvYmFsL3NraW4vbWVkaWEvJHtpc1J1bm5pbmcgPyBcInBhdXNlXCIgOiBcInBsYXlcIn0tZmlsbC5zdmdgfVxuICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtcbiAgICAgICAgICAgICAgaXNSdW5uaW5nXG4gICAgICAgICAgICAgICAgPyBcIm5ld3RhYi13aWRnZXQtdGltZXItbGFiZWwtcGF1c2VcIlxuICAgICAgICAgICAgICAgIDogXCJuZXd0YWItd2lkZ2V0LXRpbWVyLWxhYmVsLXBsYXlcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlVGltZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImljb24gZ2hvc3RcIlxuICAgICAgICAgICAgaWNvbnNyYz1cImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvYXJyb3ctY2xvY2t3aXNlLTE2LnN2Z1wiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LXRpbWVyLXJlc2V0XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3Jlc2V0VGltZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIHshc2hvd1N5c3RlbU5vdGlmaWNhdGlvbnMgJiYgIXRpbWVyRGF0YVt0aW1lclR5cGVdLmlzUnVubmluZyAmJiAoXG4gICAgICAgIDxwXG4gICAgICAgICAgY2xhc3NOYW1lPVwidGltZXItbm90aWZpY2F0aW9uLXN0YXR1c1wiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC10aW1lci1ub3RpZmljYXRpb24td2FybmluZ1wiXG4gICAgICAgID48L3A+XG4gICAgICApfVxuICAgIDwvYXJ0aWNsZT5cbiAgKSA6IG51bGw7XG59O1xuXG5mdW5jdGlvbiBFZGl0YWJsZVRpbWVyRmllbGRzKHtcbiAgbWludXRlc1JlZixcbiAgc2Vjb25kc1JlZixcbiAgdGFiSW5kZXggPSAwLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8c3BhblxuICAgICAgICBjb250ZW50RWRpdGFibGU9XCJ0cnVlXCJcbiAgICAgICAgcmVmPXttaW51dGVzUmVmfVxuICAgICAgICBjbGFzc05hbWU9XCJ0aW1lci1zZXQtbWludXRlc1wiXG4gICAgICAgIG9uS2V5RG93bj17cHJvcHMub25LZXlEb3dufVxuICAgICAgICBvbkJlZm9yZUlucHV0PXtwcm9wcy5vbkJlZm9yZUlucHV0fVxuICAgICAgICBvbkZvY3VzPXtwcm9wcy5vbkZvY3VzfVxuICAgICAgICBvbkJsdXI9e3Byb3BzLm9uQmx1cn1cbiAgICAgICAgdGFiSW5kZXg9e3RhYkluZGV4fVxuICAgICAgPlxuICAgICAgICB7Zm9ybWF0VGltZShwcm9wcy50aW1lTGVmdCkuc3BsaXQoXCI6XCIpWzBdfVxuICAgICAgPC9zcGFuPlxuICAgICAgOlxuICAgICAgPHNwYW5cbiAgICAgICAgY29udGVudEVkaXRhYmxlPVwidHJ1ZVwiXG4gICAgICAgIHJlZj17c2Vjb25kc1JlZn1cbiAgICAgICAgY2xhc3NOYW1lPVwidGltZXItc2V0LXNlY29uZHNcIlxuICAgICAgICBvbktleURvd249e3Byb3BzLm9uS2V5RG93bn1cbiAgICAgICAgb25CZWZvcmVJbnB1dD17cHJvcHMub25CZWZvcmVJbnB1dH1cbiAgICAgICAgb25Gb2N1cz17cHJvcHMub25Gb2N1c31cbiAgICAgICAgb25CbHVyPXtwcm9wcy5vbkJsdXJ9XG4gICAgICAgIHRhYkluZGV4PXt0YWJJbmRleH1cbiAgICAgID5cbiAgICAgICAge2Zvcm1hdFRpbWUocHJvcHMudGltZUxlZnQpLnNwbGl0KFwiOlwiKVsxXX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8Lz5cbiAgKTtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAqIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwczovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgRmVhdHVyZUhpZ2hsaWdodCB9IGZyb20gXCIuL0ZlYXR1cmVIaWdobGlnaHRcIjtcblxuZnVuY3Rpb24gV2lkZ2V0c0ZlYXR1cmVIaWdobGlnaHQoeyBoYW5kbGVEaXNtaXNzLCBoYW5kbGVCbG9jaywgZGlzcGF0Y2ggfSkge1xuICBjb25zdCB7IG1lc3NhZ2VEYXRhIH0gPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5NZXNzYWdlcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8RmVhdHVyZUhpZ2hsaWdodFxuICAgICAgcG9zaXRpb249XCJpbnNldC1pbmxpbmUtY2VudGVyIGluc2V0LWJsb2NrLWVuZFwiXG4gICAgICBhcnJvd1Bvc2l0aW9uPVwiYXJyb3ctdG9wLWNlbnRlclwiXG4gICAgICBvcGVuZWRPdmVycmlkZT17dHJ1ZX1cbiAgICAgIHNob3dCdXR0b25JY29uPXtmYWxzZX1cbiAgICAgIGZlYXR1cmU9e21lc3NhZ2VEYXRhPy5jb250ZW50Py5mZWF0dXJlfVxuICAgICAgbW9kYWxDbGFzc05hbWU9XCJ3aWRnZXQtaGlnaGxpZ2h0LXdyYXBwZXJcIlxuICAgICAgbWVzc2FnZT17XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2lkZ2V0LWhpZ2hsaWdodFwiPlxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz1cImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvd2lkZ2V0LW1lc3NhZ2UucG5nXCJcbiAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aDMgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdpZGdldC1tZXNzYWdlLXRpdGxlXCIgLz5cbiAgICAgICAgICA8cCBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2lkZ2V0LW1lc3NhZ2UtY29weVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgZGlzbWlzc0NhbGxiYWNrPXsoKSA9PiB7XG4gICAgICAgIGhhbmRsZURpc21pc3MoKTtcbiAgICAgICAgaGFuZGxlQmxvY2soKTtcbiAgICAgIH19XG4gICAgICBvdXRzaWRlQ2xpY2tDYWxsYmFjaz17aGFuZGxlRGlzbWlzc31cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgeyBXaWRnZXRzRmVhdHVyZUhpZ2hsaWdodCB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBMaXN0cyB9IGZyb20gXCIuL0xpc3RzL0xpc3RzXCI7XG5pbXBvcnQgeyBGb2N1c1RpbWVyIH0gZnJvbSBcIi4vRm9jdXNUaW1lci9Gb2N1c1RpbWVyXCI7XG5pbXBvcnQgeyBNZXNzYWdlV3JhcHBlciB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL01lc3NhZ2VXcmFwcGVyL01lc3NhZ2VXcmFwcGVyXCI7XG5pbXBvcnQgeyBXaWRnZXRzRmVhdHVyZUhpZ2hsaWdodCB9IGZyb20gXCIuLi9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvV2lkZ2V0c0ZlYXR1cmVIaWdobGlnaHRcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuXG5jb25zdCBQUkVGX1dJREdFVFNfTElTVFNfRU5BQkxFRCA9IFwid2lkZ2V0cy5saXN0cy5lbmFibGVkXCI7XG5jb25zdCBQUkVGX1dJREdFVFNfU1lTVEVNX0xJU1RTX0VOQUJMRUQgPSBcIndpZGdldHMuc3lzdGVtLmxpc3RzLmVuYWJsZWRcIjtcbmNvbnN0IFBSRUZfV0lER0VUU19USU1FUl9FTkFCTEVEID0gXCJ3aWRnZXRzLmZvY3VzVGltZXIuZW5hYmxlZFwiO1xuY29uc3QgUFJFRl9XSURHRVRTX1NZU1RFTV9USU1FUl9FTkFCTEVEID0gXCJ3aWRnZXRzLnN5c3RlbS5mb2N1c1RpbWVyLmVuYWJsZWRcIjtcblxuZnVuY3Rpb24gV2lkZ2V0cygpIHtcbiAgY29uc3QgcHJlZnMgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5QcmVmcy52YWx1ZXMpO1xuICBjb25zdCB7IG1lc3NhZ2VEYXRhIH0gPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5NZXNzYWdlcyk7XG4gIGNvbnN0IGxpc3RzU3RhdGUgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5MaXN0c1dpZGdldCk7XG4gIGNvbnN0IHRpbWVyU3RhdGUgPSB1c2VTZWxlY3RvcihzdGF0ZSA9PiBzdGF0ZS5UaW1lcldpZGdldCk7XG4gIGNvbnN0IHRpbWVyVHlwZSA9IHRpbWVyU3RhdGU/LnRpbWVyVHlwZTtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuXG4gIGNvbnN0IG5pbWJ1c0xpc3RzRW5hYmxlZCA9IHByZWZzLndpZGdldHNDb25maWc/Lmxpc3RzRW5hYmxlZDtcbiAgY29uc3QgbmltYnVzVGltZXJFbmFibGVkID0gcHJlZnMud2lkZ2V0c0NvbmZpZz8udGltZXJFbmFibGVkO1xuXG4gIGNvbnN0IGxpc3RzRW5hYmxlZCA9XG4gICAgKG5pbWJ1c0xpc3RzRW5hYmxlZCB8fCBwcmVmc1tQUkVGX1dJREdFVFNfU1lTVEVNX0xJU1RTX0VOQUJMRURdKSAmJlxuICAgIHByZWZzW1BSRUZfV0lER0VUU19MSVNUU19FTkFCTEVEXTtcblxuICBjb25zdCB0aW1lckVuYWJsZWQgPVxuICAgIChuaW1idXNUaW1lckVuYWJsZWQgfHwgcHJlZnNbUFJFRl9XSURHRVRTX1NZU1RFTV9USU1FUl9FTkFCTEVEXSkgJiZcbiAgICBwcmVmc1tQUkVGX1dJREdFVFNfVElNRVJfRU5BQkxFRF07XG5cbiAgY29uc3QgdGFza3NDb3VudCA9XG4gICAgbGlzdHNFbmFibGVkICYmIGxpc3RzU3RhdGU/Lmxpc3RzICYmIGxpc3RzU3RhdGU/LnNlbGVjdGVkXG4gICAgICA/IChsaXN0c1N0YXRlLmxpc3RzW2xpc3RzU3RhdGUuc2VsZWN0ZWRdPy50YXNrcz8ubGVuZ3RoID8/IDApXG4gICAgICA6IDA7XG5cbiAgY29uc3QgbWFueVRhc2tzID0gdGFza3NDb3VudCA+PSA0O1xuICBjb25zdCBpc1RpbWVyUnVubmluZyA9IHRpbWVyU3RhdGU/Llt0aW1lclR5cGVdLmlzUnVubmluZztcbiAgY29uc3Qgc2hvd1Njcm9sbE1lc3NhZ2UgPSBtYW55VGFza3MgfHwgaXNUaW1lclJ1bm5pbmc7XG5cbiAgZnVuY3Rpb24gaGFuZGxlVXNlckludGVyYWN0aW9uKHdpZGdldE5hbWUpIHtcbiAgICBjb25zdCBwcmVmTmFtZSA9IGB3aWRnZXRzLiR7d2lkZ2V0TmFtZX0uaW50ZXJhY3Rpb25gO1xuICAgIGNvbnN0IGhhc0ludGVyYWN0ZWQgPSBwcmVmc1twcmVmTmFtZV07XG4gICAgLy8gd2Ugd2FudCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgdmFsdWUgaXMgYSBzdHJpY3QgZmFsc2UgKGFuZCB0aGF0IHRoZSBwcm9wZXJ0eSBleGlzdHMpXG4gICAgaWYgKGhhc0ludGVyYWN0ZWQgPT09IGZhbHNlKSB7XG4gICAgICBkaXNwYXRjaChhYy5TZXRQcmVmKHByZWZOYW1lLCB0cnVlKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIndpZGdldHMtd3JhcHBlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXRzLWNvbnRhaW5lclwiPlxuICAgICAgICB7bGlzdHNFbmFibGVkICYmIChcbiAgICAgICAgICA8TGlzdHNcbiAgICAgICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgICAgIGhhbmRsZVVzZXJJbnRlcmFjdGlvbj17aGFuZGxlVXNlckludGVyYWN0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHt0aW1lckVuYWJsZWQgJiYgKFxuICAgICAgICAgIDxGb2N1c1RpbWVyXG4gICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICBoYW5kbGVVc2VySW50ZXJhY3Rpb249e2hhbmRsZVVzZXJJbnRlcmFjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICB7c2hvd1Njcm9sbE1lc3NhZ2UgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndpZGdldHMtc2Nyb2xsLW1lc3NhZ2UgZmFkZS1pblwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiPlxuICAgICAgICAgIDxwIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13aWRnZXQta2VlcC1zY3JvbGxpbmdcIj48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHttZXNzYWdlRGF0YT8uY29udGVudD8ubWVzc2FnZVR5cGUgPT09IFwiV2lkZ2V0TWVzc2FnZVwiICYmIChcbiAgICAgICAgPE1lc3NhZ2VXcmFwcGVyIGRpc3BhdGNoPXtkaXNwYXRjaH0+XG4gICAgICAgICAgPFdpZGdldHNGZWF0dXJlSGlnaGxpZ2h0IGRpc3BhdGNoPXtkaXNwYXRjaH0gLz5cbiAgICAgICAgPC9NZXNzYWdlV3JhcHBlcj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCB7IFdpZGdldHMgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IENhcmRHcmlkIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9DYXJkR3JpZC9DYXJkR3JpZFwiO1xuaW1wb3J0IHsgQ29sbGFwc2libGVTZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ29sbGFwc2libGVTZWN0aW9uL0NvbGxhcHNpYmxlU2VjdGlvblwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgRFNNZXNzYWdlIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU01lc3NhZ2UvRFNNZXNzYWdlXCI7XG5pbXBvcnQgeyBSZXBvcnRDb250ZW50IH0gZnJvbSBcIi4uL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvUmVwb3J0Q29udGVudC9SZXBvcnRDb250ZW50XCI7XG5pbXBvcnQgeyBEU1NpZ251cCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvRFNTaWdudXAvRFNTaWdudXBcIjtcbmltcG9ydCB7IERTVGV4dFByb21vIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9EU1RleHRQcm9tby9EU1RleHRQcm9tb1wiO1xuaW1wb3J0IHsgSGlnaGxpZ2h0cyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvSGlnaGxpZ2h0cy9IaWdobGlnaHRzXCI7XG5pbXBvcnQgeyBIb3Jpem9udGFsUnVsZSB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0Rpc2NvdmVyeVN0cmVhbUNvbXBvbmVudHMvSG9yaXpvbnRhbFJ1bGUvSG9yaXpvbnRhbFJ1bGVcIjtcbmltcG9ydCB7IE5hdmlnYXRpb24gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL05hdmlnYXRpb24vTmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgUHJpdmFjeUxpbmsgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1ByaXZhY3lMaW5rL1ByaXZhY3lMaW5rXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBTZWN0aW9uVGl0bGUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1NlY3Rpb25UaXRsZS9TZWN0aW9uVGl0bGVcIjtcbmltcG9ydCB7IHNlbGVjdExheW91dFJlbmRlciB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvc2VsZWN0TGF5b3V0UmVuZGVyXCI7XG5pbXBvcnQgeyBUb3BTaXRlcyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1RvcFNpdGVzL1RvcFNpdGVzXCI7XG5pbXBvcnQgeyBDYXJkU2VjdGlvbnMgfSBmcm9tIFwiLi4vRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9DYXJkU2VjdGlvbnMvQ2FyZFNlY3Rpb25zXCI7XG5pbXBvcnQgeyBXaWRnZXRzIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvV2lkZ2V0cy9XaWRnZXRzXCI7XG5cbmNvbnN0IEFMTE9XRURfQ1NTX1VSTF9QUkVGSVhFUyA9IFtcbiAgXCJjaHJvbWU6Ly9cIixcbiAgXCJyZXNvdXJjZTovL1wiLFxuICBcImh0dHBzOi8vaW1nLWdldHBvY2tldC5jZG4ubW96aWxsYS5uZXQvXCIsXG5dO1xuY29uc3QgRFVNTVlfQ1NTX1NFTEVDVE9SID0gXCJEVU1NWSNDU1MuU0VMRUNUT1JcIjtcblxuLyoqXG4gKiBWYWxpZGF0ZSBhIENTUyBkZWNsYXJhdGlvbi4gVGhlIHZhbHVlcyBhcmUgYXNzdW1lZCB0byBiZSBub3JtYWxpemVkIGJ5IENTU09NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBbGxvd2VkQ1NTKHByb3BlcnR5LCB2YWx1ZSkge1xuICAvLyBCdWcgMTQ1NDgyMzogSU5URVJOQUwgcHJvcGVydGllcywgZS5nLiwgLW1vei1jb250ZXh0LXByb3BlcnRpZXMsIGFyZVxuICAvLyBleHBvc2VkIGJ1dCB0aGVpciB2YWx1ZXMgYXJlbid0IHJlc3VsdGluZyBpbiBnZXR0aW5nIG5vdGhpbmcuIEZvcnR1bmF0ZWx5LFxuICAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IHZhbGlkYXRpbmcgdGhlIHZhbHVlcyBvZiB0aGUgY3VycmVudCBzZXQgb2YgcHJvcGVydGllcy5cbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSBhbGwgdXJscyBhcmUgb2YgdGhlIGFsbG93ZWQgcHJvdG9jb2xzL3ByZWZpeGVzXG4gIGNvbnN0IHVybHMgPSB2YWx1ZS5tYXRjaCgvdXJsXFwoXCJbXlwiXStcIlxcKS9nKTtcbiAgcmV0dXJuIChcbiAgICAhdXJscyB8fFxuICAgIHVybHMuZXZlcnkodXJsID0+XG4gICAgICBBTExPV0VEX0NTU19VUkxfUFJFRklYRVMuc29tZShwcmVmaXggPT4gdXJsLnNsaWNlKDUpLnN0YXJ0c1dpdGgocHJlZml4KSlcbiAgICApXG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBfRGlzY292ZXJ5U3RyZWFtQmFzZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uU3R5bGVNb3VudCA9IHRoaXMub25TdHlsZU1vdW50LmJpbmQodGhpcyk7XG4gIH1cblxuICBvblN0eWxlTW91bnQoc3R5bGUpIHtcbiAgICAvLyBVbm1vdW50aW5nIHN0eWxlIGdldHMgcmlkIG9mIG9sZCBzdHlsZXMsIHNvIG5vdGhpbmcgZWxzZSB0byBkb1xuICAgIGlmICghc3R5bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IHNoZWV0IH0gPSBzdHlsZTtcbiAgICBjb25zdCBzdHlsZXMgPSBKU09OLnBhcnNlKHN0eWxlLmRhdGFzZXQuc3R5bGVzKTtcbiAgICBzdHlsZXMuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKGNvbXBvbmVudCwgY29tcG9uZW50SW5kZXgpID0+IHtcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyB3aXRob3V0IG9wdGlvbmFsIHN0eWxlcyBvdmVycmlkZXNcbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuZW50cmllcyhjb21wb25lbnQpLmZvckVhY2goKFtzZWxlY3RvcnMsIGRlY2xhcmF0aW9uc10pID0+IHtcbiAgICAgICAgICAvLyBTdGFydCB3aXRoIGEgZHVtbXkgcnVsZSB0byB2YWxpZGF0ZSBkZWNsYXJhdGlvbnMgYW5kIHNlbGVjdG9yc1xuICAgICAgICAgIHNoZWV0Lmluc2VydFJ1bGUoYCR7RFVNTVlfQ1NTX1NFTEVDVE9SfSB7fWApO1xuICAgICAgICAgIGNvbnN0IFtydWxlXSA9IHNoZWV0LmNzc1J1bGVzO1xuXG4gICAgICAgICAgLy8gVmFsaWRhdGUgZGVjbGFyYXRpb25zIGFuZCByZW1vdmUgYW55IG9mZmVuZGVycy4gQ1NTT00gc2lsZW50bHlcbiAgICAgICAgICAvLyBkaXNjYXJkcyBpbnZhbGlkIGVudHJpZXMsIHNvIGhlcmUgd2UgYXBwbHkgZXh0cmEgcmVzdHJpY3Rpb25zLlxuICAgICAgICAgIHJ1bGUuc3R5bGUgPSBkZWNsYXJhdGlvbnM7XG4gICAgICAgICAgWy4uLnJ1bGUuc3R5bGVdLmZvckVhY2gocHJvcGVydHkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBydWxlLnN0eWxlW3Byb3BlcnR5XTtcbiAgICAgICAgICAgIGlmICghaXNBbGxvd2VkQ1NTKHByb3BlcnR5LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQmFkIENTUyBkZWNsYXJhdGlvbiAke3Byb3BlcnR5fTogJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgcnVsZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBTZXQgdGhlIGFjdHVhbCBkZXNpcmVkIHNlbGVjdG9ycyBzY29wZWQgdG8gdGhlIGNvbXBvbmVudFxuICAgICAgICAgIGNvbnN0IHByZWZpeCA9IGAuZHMtbGF5b3V0ID4gLmRzLWNvbHVtbjpudGgtY2hpbGQoJHtcbiAgICAgICAgICAgIHJvd0luZGV4ICsgMVxuICAgICAgICAgIH0pIC5kcy1jb2x1bW4tZ3JpZCA+IDpudGgtY2hpbGQoJHtjb21wb25lbnRJbmRleCArIDF9KWA7XG4gICAgICAgICAgLy8gTkI6IFNwbGl0dGluZyBvbiBcIixcIiBkb2Vzbid0IHdvcmsgd2l0aCBzdHJpbmdzIHdpdGggY29tbWFzLCBidXRcbiAgICAgICAgICAvLyB3ZSdyZSBva2F5IHdpdGggbm90IHN1cHBvcnRpbmcgdGhvc2Ugc2VsZWN0b3JzXG4gICAgICAgICAgcnVsZS5zZWxlY3RvclRleHQgPSBzZWxlY3RvcnNcbiAgICAgICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgIHNlbGVjdG9yID0+XG4gICAgICAgICAgICAgICAgcHJlZml4ICtcbiAgICAgICAgICAgICAgICAvLyBBc3N1bWUgOnBzZXVkby1jbGFzc2VzIGFyZSBmb3IgY29tcG9uZW50IGluc3RlYWQgb2YgZGVzY2VuZGFudFxuICAgICAgICAgICAgICAgIChzZWxlY3RvclswXSA9PT0gXCI6XCIgPyBcIlwiIDogXCIgXCIpICtcbiAgICAgICAgICAgICAgICBzZWxlY3RvclxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmpvaW4oXCIsXCIpO1xuXG4gICAgICAgICAgLy8gQ1NTT00gc2lsZW50bHkgaWdub3JlcyBiYWQgc2VsZWN0b3JzLCBzbyB3ZSdsbCBiZSBub2lzeSBpbnN0ZWFkXG4gICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0ID09PSBEVU1NWV9DU1NfU0VMRUNUT1IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEJhZCBDU1Mgc2VsZWN0b3IgJHtzZWxlY3RvcnN9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIHN3aXRjaCAoY29tcG9uZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJIaWdobGlnaHRzXCI6XG4gICAgICAgIHJldHVybiA8SGlnaGxpZ2h0cyAvPjtcbiAgICAgIGNhc2UgXCJUb3BTaXRlc1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZHMtdG9wLXNpdGVzXCI+XG4gICAgICAgICAgICA8VG9wU2l0ZXMgaXNGaXhlZD17dHJ1ZX0gdGl0bGU9e2NvbXBvbmVudC5oZWFkZXI/LnRpdGxlfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgY2FzZSBcIlRleHRQcm9tb1wiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEU1RleHRQcm9tb1xuICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICB0eXBlPXtjb21wb25lbnQudHlwZX1cbiAgICAgICAgICAgIGRhdGE9e2NvbXBvbmVudC5kYXRhfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiU2lnbnVwXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERTU2lnbnVwXG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgZGF0YT17Y29tcG9uZW50LmRhdGF9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJNZXNzYWdlXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERTTWVzc2FnZVxuICAgICAgICAgICAgdGl0bGU9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci50aXRsZX1cbiAgICAgICAgICAgIHN1YnRpdGxlPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIuc3VidGl0bGV9XG4gICAgICAgICAgICBsaW5rX3RleHQ9e2NvbXBvbmVudC5oZWFkZXIgJiYgY29tcG9uZW50LmhlYWRlci5saW5rX3RleHR9XG4gICAgICAgICAgICBsaW5rX3VybD17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLmxpbmtfdXJsfVxuICAgICAgICAgICAgaWNvbj17Y29tcG9uZW50LmhlYWRlciAmJiBjb21wb25lbnQuaGVhZGVyLmljb259XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJTZWN0aW9uVGl0bGVcIjpcbiAgICAgICAgcmV0dXJuIDxTZWN0aW9uVGl0bGUgaGVhZGVyPXtjb21wb25lbnQuaGVhZGVyfSAvPjtcbiAgICAgIGNhc2UgXCJOYXZpZ2F0aW9uXCI6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE5hdmlnYXRpb25cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgbGlua3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmxpbmtzfVxuICAgICAgICAgICAgZXh0cmFMaW5rcz17Y29tcG9uZW50LnByb3BlcnRpZXMuZXh0cmFMaW5rc31cbiAgICAgICAgICAgIGFsaWdubWVudD17Y29tcG9uZW50LnByb3BlcnRpZXMuYWxpZ25tZW50fVxuICAgICAgICAgICAgZXhwbG9yZV90b3BpY3M9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmV4cGxvcmVfdG9waWNzfVxuICAgICAgICAgICAgaGVhZGVyPXtjb21wb25lbnQuaGVhZGVyfVxuICAgICAgICAgICAgbG9jYWxlPXt0aGlzLnByb3BzLkFwcC5sb2NhbGV9XG4gICAgICAgICAgICBuZXdGb290ZXJTZWN0aW9uPXtjb21wb25lbnQubmV3Rm9vdGVyU2VjdGlvbn1cbiAgICAgICAgICAgIHByaXZhY3lOb3RpY2VVUkw9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLnByaXZhY3lOb3RpY2VVUkx9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJDYXJkR3JpZFwiOiB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25zRW5hYmxlZCA9XG4gICAgICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMuZW5hYmxlZFwiXTtcbiAgICAgICAgaWYgKHNlY3Rpb25zRW5hYmxlZCkge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q2FyZFNlY3Rpb25zXG4gICAgICAgICAgICAgIGZlZWQ9e2NvbXBvbmVudC5mZWVkfVxuICAgICAgICAgICAgICBkYXRhPXtjb21wb25lbnQuZGF0YX1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIHR5cGU9e2NvbXBvbmVudC50eXBlfVxuICAgICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA9e3RoaXMucHJvcHMuZmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgICAgICBjdGFCdXR0b25TcG9uc29ycz17Y29tcG9uZW50LnByb3BlcnRpZXMuY3RhQnV0dG9uU3BvbnNvcnN9XG4gICAgICAgICAgICAgIGN0YUJ1dHRvblZhcmlhbnQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmN0YUJ1dHRvblZhcmlhbnR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Q2FyZEdyaWRcbiAgICAgICAgICAgIHRpdGxlPXtjb21wb25lbnQuaGVhZGVyICYmIGNvbXBvbmVudC5oZWFkZXIudGl0bGV9XG4gICAgICAgICAgICBkYXRhPXtjb21wb25lbnQuZGF0YX1cbiAgICAgICAgICAgIGZlZWQ9e2NvbXBvbmVudC5mZWVkfVxuICAgICAgICAgICAgd2lkZ2V0cz17Y29tcG9uZW50LndpZGdldHN9XG4gICAgICAgICAgICB0eXBlPXtjb21wb25lbnQudHlwZX1cbiAgICAgICAgICAgIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofVxuICAgICAgICAgICAgaXRlbXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLml0ZW1zfVxuICAgICAgICAgICAgaHlicmlkTGF5b3V0PXtjb21wb25lbnQucHJvcGVydGllcy5oeWJyaWRMYXlvdXR9XG4gICAgICAgICAgICBoaWRlQ2FyZEJhY2tncm91bmQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmhpZGVDYXJkQmFja2dyb3VuZH1cbiAgICAgICAgICAgIGZvdXJDYXJkTGF5b3V0PXtjb21wb25lbnQucHJvcGVydGllcy5mb3VyQ2FyZExheW91dH1cbiAgICAgICAgICAgIGNvbXBhY3RHcmlkPXtjb21wb25lbnQucHJvcGVydGllcy5jb21wYWN0R3JpZH1cbiAgICAgICAgICAgIGN0YUJ1dHRvblNwb25zb3JzPXtjb21wb25lbnQucHJvcGVydGllcy5jdGFCdXR0b25TcG9uc29yc31cbiAgICAgICAgICAgIGN0YUJ1dHRvblZhcmlhbnQ9e2NvbXBvbmVudC5wcm9wZXJ0aWVzLmN0YUJ1dHRvblZhcmlhbnR9XG4gICAgICAgICAgICBoaWRlRGVzY3JpcHRpb25zPXt0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbS5oaWRlRGVzY3JpcHRpb25zfVxuICAgICAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wPXt0aGlzLnByb3BzLmZpcnN0VmlzaWJsZVRpbWVzdGFtcH1cbiAgICAgICAgICAgIHNwb2NQb3NpdGlvbnM9e2NvbXBvbmVudC5zcG9jcz8ucG9zaXRpb25zfVxuICAgICAgICAgIC8+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSG9yaXpvbnRhbFJ1bGVcIjpcbiAgICAgICAgcmV0dXJuIDxIb3Jpem9udGFsUnVsZSAvPjtcbiAgICAgIGNhc2UgXCJQcml2YWN5TGlua1wiOlxuICAgICAgICByZXR1cm4gPFByaXZhY3lMaW5rIHByb3BlcnRpZXM9e2NvbXBvbmVudC5wcm9wZXJ0aWVzfSAvPjtcbiAgICAgIGNhc2UgXCJXaWRnZXRzXCI6XG4gICAgICAgIHJldHVybiA8V2lkZ2V0cyAvPjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiA8ZGl2Pntjb21wb25lbnQudHlwZX08L2Rpdj47XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyU3R5bGVzKHN0eWxlcykge1xuICAgIC8vIFVzZSBqc29uIHN0cmluZyBhcyBib3RoIHRoZSBrZXkgYW5kIHN0eWxlcyB0byByZW5kZXIgc28gUmVhY3Qga25vd3Mgd2hlblxuICAgIC8vIHRvIHVubW91bnQgYW5kIG1vdW50IGEgbmV3IGluc3RhbmNlIGZvciBuZXcgc3R5bGVzLlxuICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShzdHlsZXMpO1xuICAgIHJldHVybiA8c3R5bGUga2V5PXtqc29ufSBkYXRhLXN0eWxlcz17anNvbn0gcmVmPXt0aGlzLm9uU3R5bGVNb3VudH0gLz47XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsb2NhbGUgfSA9IHRoaXMucHJvcHM7XG4gICAgLy8gQnVnIDE5ODA0NTkgLSBOb3RlIHRoYXQgc2VsZWN0TGF5b3V0UmVuZGVyIGFjdHMgYXMgYSBzZWxlY3RvciB0aGF0IHRyYW5zZm9ybXMgbGF5b3V0IGRhdGEgYmFzZWQgb24gY3VycmVudFxuICAgIC8vIHByZWZlcmVuY2VzIGFuZCBleHBlcmltZW50IGZsYWdzLiBJdCBydW5zIGFmdGVyIFJlZHV4IHN0YXRlIGlzIHBvcHVsYXRlZCBidXQgYmVmb3JlIHJlbmRlci5cbiAgICAvLyBDb21wb25lbnRzIHJlbW92ZWQgaW4gc2VsZWN0TGF5b3V0UmVuZGVyIChlLmcuLCBXaWRnZXRzIG9yIFRvcFNpdGVzKSB3aWxsIG5vdCBhcHBlYXIgaW4gdGhlXG4gICAgLy8gbGF5b3V0UmVuZGVyIHJlc3VsdCwgYW5kIHRoZXJlZm9yZSB3aWxsIG5vdCBiZSByZW5kZXJlZCBoZXJlIHJlZ2FyZGxlc3Mgb2YgbG9naWMgYmVsb3cuXG5cbiAgICAvLyBTZWxlY3QgbGF5b3V0IHJlbmRlcnMgZGF0YSBieSBhZGRpbmcgc3BvY3MgYW5kIHBvc2l0aW9uIHRvIHJlY29tbWVuZGF0aW9uc1xuICAgIGNvbnN0IHsgbGF5b3V0UmVuZGVyIH0gPSBzZWxlY3RMYXlvdXRSZW5kZXIoe1xuICAgICAgc3RhdGU6IHRoaXMucHJvcHMuRGlzY292ZXJ5U3RyZWFtLFxuICAgICAgcHJlZnM6IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzLFxuICAgICAgbG9jYWxlLFxuICAgIH0pO1xuICAgIGNvbnN0IHNlY3Rpb25zRW5hYmxlZCA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHsgY29uZmlnIH0gPSB0aGlzLnByb3BzLkRpc2NvdmVyeVN0cmVhbTtcbiAgICBjb25zdCB0b3BpY1NlbGVjdGlvbkVuYWJsZWQgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24uZW5hYmxlZFwiXTtcbiAgICBjb25zdCByZXBvcnRBZHNFbmFibGVkID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1wiZGlzY292ZXJ5c3RyZWFtLnJlcG9ydEFkcy5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHNwb2NzRW5hYmxlZCA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1widW5pZmllZEFkcy5zcG9jcy5lbmFibGVkXCJdO1xuXG4gICAgLy8gQWxsb3cgcmVuZGVyaW5nIHdpdGhvdXQgZXh0cmFjdGluZyBzcGVjaWFsIGNvbXBvbmVudHNcbiAgICBpZiAoIWNvbmZpZy5jb2xsYXBzaWJsZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyTGF5b3V0KGxheW91dFJlbmRlcik7XG4gICAgfVxuXG4gICAgLy8gRmluZCB0aGUgZmlyc3QgY29tcG9uZW50IG9mIGEgdHlwZSBhbmQgcmVtb3ZlIGl0IGZyb20gbGF5b3V0XG4gICAgY29uc3QgZXh0cmFjdENvbXBvbmVudCA9IHR5cGUgPT4ge1xuICAgICAgZm9yIChjb25zdCBbcm93SW5kZXgsIHJvd10gb2YgT2JqZWN0LmVudHJpZXMobGF5b3V0UmVuZGVyKSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY29tcG9uZW50XSBvZiBPYmplY3QuZW50cmllcyhyb3cuY29tcG9uZW50cykpIHtcbiAgICAgICAgICBpZiAoY29tcG9uZW50LnR5cGUgPT09IHR5cGUpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcm93IGlmIGl0IHdhcyB0aGUgb25seSBjb21wb25lbnQgb3IgdGhlIHNpbmdsZSBpdGVtXG4gICAgICAgICAgICBpZiAocm93LmNvbXBvbmVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIGxheW91dFJlbmRlci5zcGxpY2Uocm93SW5kZXgsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcm93LmNvbXBvbmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gR2V0IFwidG9wc3Rvcmllc1wiIFNlY3Rpb24gc3RhdGUgZm9yIGRlZmF1bHQgdmFsdWVzXG4gICAgY29uc3QgdG9wU3RvcmllcyA9IHRoaXMucHJvcHMuU2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IFwidG9wc3Rvcmllc1wiKTtcblxuICAgIGlmICghdG9wU3Rvcmllcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBUb3BTaXRlcyB0byByZW5kZXIgYmVmb3JlIHRoZSByZXN0IGFuZCBNZXNzYWdlIHRvIHVzZSBmb3IgaGVhZGVyXG4gICAgY29uc3QgdG9wU2l0ZXMgPSBleHRyYWN0Q29tcG9uZW50KFwiVG9wU2l0ZXNcIik7XG5cbiAgICAvLyBUaGVyZSBhcmUgdHdvIHdheXMgdG8gZW5hYmxlIHdpZGdldHM6XG4gICAgLy8gVmlhIGB3aWRnZXRzLnN5c3RlbS4qYCBwcmVmcyBvciBOaW1idXMgZXhwZXJpbWVudFxuICAgIGNvbnN0IHdpZGdldHNOaW1idXNFbmFibGVkID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXMud2lkZ2V0c0NvbmZpZz8uZW5hYmxlZDtcbiAgICBjb25zdCB3aWRnZXRzU3lzdGVtUHJlZnNFbmFibGVkID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1wid2lkZ2V0cy5zeXN0ZW0uZW5hYmxlZFwiXTtcblxuICAgIGNvbnN0IHdpZGdldHMgPSB3aWRnZXRzTmltYnVzRW5hYmxlZCB8fCB3aWRnZXRzU3lzdGVtUHJlZnNFbmFibGVkO1xuXG4gICAgY29uc3QgbWVzc2FnZSA9IGV4dHJhY3RDb21wb25lbnQoXCJNZXNzYWdlXCIpIHx8IHtcbiAgICAgIGhlYWRlcjoge1xuICAgICAgICBsaW5rX3RleHQ6IHRvcFN0b3JpZXMubGVhcm5Nb3JlLmxpbmsubWVzc2FnZSxcbiAgICAgICAgbGlua191cmw6IHRvcFN0b3JpZXMubGVhcm5Nb3JlLmxpbmsuaHJlZixcbiAgICAgICAgdGl0bGU6IHRvcFN0b3JpZXMudGl0bGUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCBwcml2YWN5TGlua0NvbXBvbmVudCA9IGV4dHJhY3RDb21wb25lbnQoXCJQcml2YWN5TGlua1wiKTtcbiAgICBsZXQgbGVhcm5Nb3JlID0ge1xuICAgICAgbGluazoge1xuICAgICAgICBocmVmOiBtZXNzYWdlLmhlYWRlci5saW5rX3VybCxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZS5oZWFkZXIubGlua190ZXh0LFxuICAgICAgfSxcbiAgICB9O1xuICAgIGxldCBzZWN0aW9uVGl0bGUgPSBtZXNzYWdlLmhlYWRlci50aXRsZTtcbiAgICBsZXQgc3ViVGl0bGUgPSBcIlwiO1xuXG4gICAgY29uc3QgeyBEaXNjb3ZlcnlTdHJlYW0gfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICB7LyogUmVwb3J0aW5nIHN0b3JpZXMvYXJ0aWNsZXMgd2lsbCBvbmx5IGJlIGF2YWlsYWJsZSBpbiBzZWN0aW9ucywgbm90IHRoZSBkZWZhdWx0IGNhcmQgZ3JpZCAgKi99XG4gICAgICAgIHsoKHJlcG9ydEFkc0VuYWJsZWQgJiYgc3BvY3NFbmFibGVkKSB8fCBzZWN0aW9uc0VuYWJsZWQpICYmIChcbiAgICAgICAgICA8UmVwb3J0Q29udGVudCBzcG9jcz17RGlzY292ZXJ5U3RyZWFtLnNwb2NzfSAvPlxuICAgICAgICApfVxuXG4gICAgICAgIHt0b3BTaXRlcyAmJlxuICAgICAgICAgIHRoaXMucmVuZGVyTGF5b3V0KFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDEyLFxuICAgICAgICAgICAgICBjb21wb25lbnRzOiBbdG9wU2l0ZXNdLFxuICAgICAgICAgICAgICBzZWN0aW9uVHlwZTogXCJ0b3BzaXRlc1wiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdKX1cbiAgICAgICAge3dpZGdldHMgJiZcbiAgICAgICAgICB0aGlzLnJlbmRlckxheW91dChbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgICAgY29tcG9uZW50czogW3sgdHlwZTogXCJXaWRnZXRzXCIgfV0sXG4gICAgICAgICAgICAgIHNlY3Rpb25UeXBlOiBcIndpZGdldHNcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSl9XG4gICAgICAgIHshIWxheW91dFJlbmRlci5sZW5ndGggJiYgKFxuICAgICAgICAgIDxDb2xsYXBzaWJsZVNlY3Rpb25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImRzLWxheW91dFwiXG4gICAgICAgICAgICBjb2xsYXBzZWQ9e3RvcFN0b3JpZXMucHJlZi5jb2xsYXBzZWR9XG4gICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgIGlkPXt0b3BTdG9yaWVzLmlkfVxuICAgICAgICAgICAgaXNGaXhlZD17dHJ1ZX1cbiAgICAgICAgICAgIGxlYXJuTW9yZT17bGVhcm5Nb3JlfVxuICAgICAgICAgICAgcHJpdmFjeU5vdGljZVVSTD17dG9wU3Rvcmllcy5wcml2YWN5Tm90aWNlVVJMfVxuICAgICAgICAgICAgc2hvd1ByZWZOYW1lPXt0b3BTdG9yaWVzLnByZWYuZmVlZH1cbiAgICAgICAgICAgIHRpdGxlPXtzZWN0aW9uVGl0bGV9XG4gICAgICAgICAgICBzdWJUaXRsZT17c3ViVGl0bGV9XG4gICAgICAgICAgICBtYXlIYXZlVG9waWNzU2VsZWN0aW9uPXt0b3BpY1NlbGVjdGlvbkVuYWJsZWR9XG4gICAgICAgICAgICBzZWN0aW9uc0VuYWJsZWQ9e3NlY3Rpb25zRW5hYmxlZH1cbiAgICAgICAgICAgIGV2ZW50U291cmNlPVwiQ0FSREdSSURcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckxheW91dChsYXlvdXRSZW5kZXIpfVxuICAgICAgICAgIDwvQ29sbGFwc2libGVTZWN0aW9uPlxuICAgICAgICApfVxuICAgICAgICB7dGhpcy5yZW5kZXJMYXlvdXQoW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFt7IHR5cGU6IFwiSGlnaGxpZ2h0c1wiIH1dLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pfVxuICAgICAgICB7cHJpdmFjeUxpbmtDb21wb25lbnQgJiZcbiAgICAgICAgICB0aGlzLnJlbmRlckxheW91dChbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMixcbiAgICAgICAgICAgICAgY29tcG9uZW50czogW3ByaXZhY3lMaW5rQ29tcG9uZW50XSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSl9XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJMYXlvdXQobGF5b3V0UmVuZGVyKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgbGV0IFtkYXRhXSA9IGxheW91dFJlbmRlcjtcbiAgICAvLyBBZGQgaGVscGVyIGNsYXNzIGZvciB0b3BzaXRlc1xuICAgIGNvbnN0IHNlY3Rpb25DbGFzcyA9IGRhdGEuc2VjdGlvblR5cGVcbiAgICAgID8gYGRzLWxheW91dC0ke2RhdGEuc2VjdGlvblR5cGV9YFxuICAgICAgOiBcIlwiO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZGlzY292ZXJ5LXN0cmVhbSBkcy1sYXlvdXQgJHtzZWN0aW9uQ2xhc3N9YH0+XG4gICAgICAgIHtsYXlvdXRSZW5kZXIubWFwKChyb3csIHJvd0luZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAga2V5PXtgcm93LSR7cm93SW5kZXh9YH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGRzLWNvbHVtbiBkcy1jb2x1bW4tJHtyb3cud2lkdGh9YH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRzLWNvbHVtbi1ncmlkXCI+XG4gICAgICAgICAgICAgIHtyb3cuY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudCwgY29tcG9uZW50SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0eWxlc1tyb3dJbmRleF0gPSBbXG4gICAgICAgICAgICAgICAgICAuLi4oc3R5bGVzW3Jvd0luZGV4XSB8fCBbXSksXG4gICAgICAgICAgICAgICAgICBjb21wb25lbnQuc3R5bGVzLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgY29tcG9uZW50LSR7Y29tcG9uZW50SW5kZXh9YH0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIHJvdy53aWR0aCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgICAge3RoaXMucmVuZGVyU3R5bGVzKHN0eWxlcyl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBEaXNjb3ZlcnlTdHJlYW1CYXNlID0gY29ubmVjdChzdGF0ZSA9PiAoe1xuICBEaXNjb3ZlcnlTdHJlYW06IHN0YXRlLkRpc2NvdmVyeVN0cmVhbSxcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxuICBTZWN0aW9uczogc3RhdGUuU2VjdGlvbnMsXG4gIGRvY3VtZW50OiBnbG9iYWxUaGlzLmRvY3VtZW50LFxuICBBcHA6IHN0YXRlLkFwcCxcbn0pKShfRGlzY292ZXJ5U3RyZWFtQmFzZSk7XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiB9IGZyb20gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCI7XG5cbmZ1bmN0aW9uIFNlY3Rpb25zTWdtdFBhbmVsKHsgZXhpdEV2ZW50RmlyZWQgfSkge1xuICBjb25zdCBbc2hvd1BhbmVsLCBzZXRTaG93UGFuZWxdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBTdGF0ZSBtYW5hZ2VtZW50IHdpdGggdXNlU3RhdGVcbiAgY29uc3QgeyBzZWN0aW9uUGVyc29uYWxpemF0aW9uIH0gPSB1c2VTZWxlY3RvcihcbiAgICBzdGF0ZSA9PiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW1cbiAgKTtcbiAgY29uc3QgbGF5b3V0Q29tcG9uZW50cyA9IHVzZVNlbGVjdG9yKFxuICAgIHN0YXRlID0+IHN0YXRlLkRpc2NvdmVyeVN0cmVhbS5sYXlvdXRbMF0uY29tcG9uZW50c1xuICApO1xuICBjb25zdCBzZWN0aW9ucyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLkRpc2NvdmVyeVN0cmVhbS5mZWVkcy5kYXRhKTtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuXG4gIC8vIFRPRE86IFdyYXAgc2VjdGlvbnNGZWVkTmFtZSAtPiBzZWN0aW9uc0xpc3QgbG9naWMgaW4gdHJ5Li4uY2F0Y2g/XG4gIGxldCBzZWN0aW9uc0ZlZWROYW1lO1xuXG4gIGNvbnN0IGNhcmRHcmlkRW50cnkgPSBsYXlvdXRDb21wb25lbnRzLmZpbmQoaXRlbSA9PiBpdGVtLnR5cGUgPT09IFwiQ2FyZEdyaWRcIik7XG5cbiAgaWYgKGNhcmRHcmlkRW50cnkpIHtcbiAgICBzZWN0aW9uc0ZlZWROYW1lID0gY2FyZEdyaWRFbnRyeS5mZWVkLnVybDtcbiAgfVxuXG4gIGxldCBzZWN0aW9uc0xpc3Q7XG5cbiAgaWYgKHNlY3Rpb25zRmVlZE5hbWUpIHtcbiAgICBzZWN0aW9uc0xpc3QgPSBzZWN0aW9uc1tzZWN0aW9uc0ZlZWROYW1lXS5kYXRhLnNlY3Rpb25zO1xuICB9XG5cbiAgY29uc3QgW3NlY3Rpb25zU3RhdGUsIHNldFNlY3Rpb25TdGF0ZV0gPSB1c2VTdGF0ZShzZWN0aW9uUGVyc29uYWxpemF0aW9uKTsgLy8gU3RhdGUgbWFuYWdlbWVudCB3aXRoIHVzZVN0YXRlXG5cbiAgbGV0IGZvbGxvd2VkU2VjdGlvbnNEYXRhID0gc2VjdGlvbnNMaXN0LmZpbHRlcihcbiAgICBpdGVtID0+IHNlY3Rpb25zU3RhdGVbaXRlbS5zZWN0aW9uS2V5XT8uaXNGb2xsb3dlZFxuICApO1xuXG4gIGxldCBibG9ja2VkU2VjdGlvbnNEYXRhID0gc2VjdGlvbnNMaXN0LmZpbHRlcihcbiAgICBpdGVtID0+IHNlY3Rpb25zU3RhdGVbaXRlbS5zZWN0aW9uS2V5XT8uaXNCbG9ja2VkXG4gICk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlQ2FjaGVkRGF0YSgpIHtcbiAgICAvLyBSZXNldCBjYWNoZWQgZm9sbG93ZWQvYmxvY2tlZCBsaXN0IGRhdGEgd2hpbGUgcGFuZWwgaXMgb3BlblxuICAgIHNldFNlY3Rpb25TdGF0ZShzZWN0aW9uUGVyc29uYWxpemF0aW9uKTtcblxuICAgIGZvbGxvd2VkU2VjdGlvbnNEYXRhID0gc2VjdGlvbnNMaXN0LmZpbHRlcihcbiAgICAgIGl0ZW0gPT4gc2VjdGlvbnNTdGF0ZVtpdGVtLnNlY3Rpb25LZXldPy5pc0ZvbGxvd2VkXG4gICAgKTtcblxuICAgIGJsb2NrZWRTZWN0aW9uc0RhdGEgPSBzZWN0aW9uc0xpc3QuZmlsdGVyKFxuICAgICAgaXRlbSA9PiBzZWN0aW9uc1N0YXRlW2l0ZW0uc2VjdGlvbktleV0/LmlzQmxvY2tlZFxuICAgICk7XG4gIH1cblxuICBjb25zdCBvbkZvbGxvd0NsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKHNlY3Rpb25LZXksIHJlY2VpdmVkUmFuaykgPT4ge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAuLi5zZWN0aW9uUGVyc29uYWxpemF0aW9uLFxuICAgICAgICAgICAgW3NlY3Rpb25LZXldOiB7XG4gICAgICAgICAgICAgIGlzRm9sbG93ZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGlzQmxvY2tlZDogZmFsc2UsXG4gICAgICAgICAgICAgIGZvbGxvd2VkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICAvLyBUZWxlbWV0cnkgRXZlbnQgRGlzcGF0Y2hcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBcIkZPTExPV19TRUNUSU9OXCIsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgc2VjdGlvbjogc2VjdGlvbktleSxcbiAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHJlY2VpdmVkUmFuayxcbiAgICAgICAgICAgIGV2ZW50X3NvdXJjZTogXCJDVVNUT01JWkVfUEFORUxcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIFtkaXNwYXRjaCwgc2VjdGlvblBlcnNvbmFsaXphdGlvbl1cbiAgKTtcblxuICBjb25zdCBvbkJsb2NrQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoc2VjdGlvbktleSwgcmVjZWl2ZWRSYW5rKSA9PiB7XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VULFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIC4uLnNlY3Rpb25QZXJzb25hbGl6YXRpb24sXG4gICAgICAgICAgICBbc2VjdGlvbktleV06IHtcbiAgICAgICAgICAgICAgaXNGb2xsb3dlZDogZmFsc2UsXG4gICAgICAgICAgICAgIGlzQmxvY2tlZDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIFRlbGVtZXRyeSBFdmVudCBEaXNwYXRjaFxuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgIHR5cGU6IFwiQkxPQ0tfU0VDVElPTlwiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiByZWNlaXZlZFJhbmssXG4gICAgICAgICAgICBldmVudF9zb3VyY2U6IFwiQ1VTVE9NSVpFX1BBTkVMXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBbZGlzcGF0Y2gsIHNlY3Rpb25QZXJzb25hbGl6YXRpb25dXG4gICk7XG5cbiAgY29uc3Qgb25VbmJsb2NrQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAoc2VjdGlvbktleSwgcmVjZWl2ZWRSYW5rKSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVkU2VjdGlvbkRhdGEgPSB7IC4uLnNlY3Rpb25QZXJzb25hbGl6YXRpb24gfTtcbiAgICAgIGRlbGV0ZSB1cGRhdGVkU2VjdGlvbkRhdGFbc2VjdGlvbktleV07XG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VULFxuICAgICAgICAgIGRhdGE6IHVwZGF0ZWRTZWN0aW9uRGF0YSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICAvLyBUZWxlbWV0cnkgRXZlbnQgRGlzcGF0Y2hcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5Pbmx5VG9NYWluKHtcbiAgICAgICAgICB0eXBlOiBcIlVOQkxPQ0tfU0VDVElPTlwiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb25LZXksXG4gICAgICAgICAgICBzZWN0aW9uX3Bvc2l0aW9uOiByZWNlaXZlZFJhbmssXG4gICAgICAgICAgICBldmVudF9zb3VyY2U6IFwiQ1VTVE9NSVpFX1BBTkVMXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBbZGlzcGF0Y2gsIHNlY3Rpb25QZXJzb25hbGl6YXRpb25dXG4gICk7XG5cbiAgY29uc3Qgb25VbmZvbGxvd0NsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKHNlY3Rpb25LZXksIHJlY2VpdmVkUmFuaykgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZFNlY3Rpb25EYXRhID0geyAuLi5zZWN0aW9uUGVyc29uYWxpemF0aW9uIH07XG4gICAgICBkZWxldGUgdXBkYXRlZFNlY3Rpb25EYXRhW3NlY3Rpb25LZXldO1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLkFsc29Ub01haW4oe1xuICAgICAgICAgIHR5cGU6IGF0LlNFQ1RJT05fUEVSU09OQUxJWkFUSU9OX1NFVCxcbiAgICAgICAgICBkYXRhOiB1cGRhdGVkU2VjdGlvbkRhdGEsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgLy8gVGVsZW1ldHJ5IEV2ZW50IERpc3BhdGNoXG4gICAgICBkaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogXCJVTkZPTExPV19TRUNUSU9OXCIsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgc2VjdGlvbjogc2VjdGlvbktleSxcbiAgICAgICAgICAgIHNlY3Rpb25fcG9zaXRpb246IHJlY2VpdmVkUmFuayxcbiAgICAgICAgICAgIGV2ZW50X3NvdXJjZTogXCJDVVNUT01JWkVfUEFORUxcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIFtkaXNwYXRjaCwgc2VjdGlvblBlcnNvbmFsaXphdGlvbl1cbiAgKTtcblxuICAvLyBDbG9zZSBmb2xsb3dlZC9ibG9ja2VkIHRvcGljIHN1YnBhbmVsIHdoZW4gcGFyZW50IG1lbnUgaXMgY2xvc2VkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGV4aXRFdmVudEZpcmVkKSB7XG4gICAgICBzZXRTaG93UGFuZWwoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2V4aXRFdmVudEZpcmVkXSk7XG5cbiAgY29uc3QgdG9nZ2xlUGFuZWwgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1BhbmVsKHByZXZTaG93UGFuZWwgPT4gIXByZXZTaG93UGFuZWwpO1xuXG4gICAgLy8gRmlyZSB3aGVuIHRoZSBwYW5lbCBpcyBvcGVuXG4gICAgaWYgKCFzaG93UGFuZWwpIHtcbiAgICAgIHVwZGF0ZUNhY2hlZERhdGEoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm9sbG93ZWRTZWN0aW9uc0xpc3QgPSBmb2xsb3dlZFNlY3Rpb25zRGF0YS5tYXAoXG4gICAgKHsgc2VjdGlvbktleSwgdGl0bGUsIHJlY2VpdmVkUmFuayB9KSA9PiB7XG4gICAgICBjb25zdCBmb2xsb3dpbmcgPSBzZWN0aW9uUGVyc29uYWxpemF0aW9uW3NlY3Rpb25LZXldPy5pc0ZvbGxvd2VkO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkga2V5PXtzZWN0aW9uS2V5fT5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17YGZvbGxvdy10b3BpYy0ke3NlY3Rpb25LZXl9YH0+e3RpdGxlfTwvbGFiZWw+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgZm9sbG93aW5nID8gXCJzZWN0aW9uLWZvbGxvdyBmb2xsb3dpbmdcIiA6IFwic2VjdGlvbi1mb2xsb3dcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgZm9sbG93aW5nXG4gICAgICAgICAgICAgICAgICA/IG9uVW5mb2xsb3dDbGljayhzZWN0aW9uS2V5LCByZWNlaXZlZFJhbmspXG4gICAgICAgICAgICAgICAgICA6IG9uRm9sbG93Q2xpY2soc2VjdGlvbktleSwgcmVjZWl2ZWRSYW5rKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHR5cGU9e1wiZGVmYXVsdFwifVxuICAgICAgICAgICAgICBpbmRleD17cmVjZWl2ZWRSYW5rfVxuICAgICAgICAgICAgICBzZWN0aW9uPXtzZWN0aW9uS2V5fVxuICAgICAgICAgICAgICBpZD17YGZvbGxvdy10b3BpYy0ke3NlY3Rpb25LZXl9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLWJ1dHRvbi1mb2xsb3ctdGV4dFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tZm9sbG93LWJ1dHRvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tZm9sbG93aW5nLXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLWZvbGxvd2luZy1idXR0b25cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlY3Rpb24tYnV0dG9uLXVuZm9sbG93LXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLXVuZm9sbG93LWJ1dHRvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L21vei1idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICApO1xuICAgIH1cbiAgKTtcblxuICBjb25zdCBibG9ja2VkU2VjdGlvbnNMaXN0ID0gYmxvY2tlZFNlY3Rpb25zRGF0YS5tYXAoXG4gICAgKHsgc2VjdGlvbktleSwgdGl0bGUsIHJlY2VpdmVkUmFuayB9KSA9PiB7XG4gICAgICBjb25zdCBibG9ja2VkID0gc2VjdGlvblBlcnNvbmFsaXphdGlvbltzZWN0aW9uS2V5XT8uaXNCbG9ja2VkO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkga2V5PXtzZWN0aW9uS2V5fT5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17YGJsb2NrZWQtdG9waWMtJHtzZWN0aW9uS2V5fWB9Pnt0aXRsZX08L2xhYmVsPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtibG9ja2VkID8gXCJzZWN0aW9uLWJsb2NrIGJsb2NrZWRcIiA6IFwic2VjdGlvbi1ibG9ja1wifT5cbiAgICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XG4gICAgICAgICAgICAgICAgYmxvY2tlZFxuICAgICAgICAgICAgICAgICAgPyBvblVuYmxvY2tDbGljayhzZWN0aW9uS2V5LCByZWNlaXZlZFJhbmspXG4gICAgICAgICAgICAgICAgICA6IG9uQmxvY2tDbGljayhzZWN0aW9uS2V5LCByZWNlaXZlZFJhbmspXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHlwZT1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICBpbmRleD17cmVjZWl2ZWRSYW5rfVxuICAgICAgICAgICAgICBzZWN0aW9uPXtzZWN0aW9uS2V5fVxuICAgICAgICAgICAgICBpZD17YGJsb2NrZWQtdG9waWMtJHtzZWN0aW9uS2V5fWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VjdGlvbi1idXR0b24tYmxvY2stdGV4dFwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tYmxvY2stYnV0dG9uXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLWJ1dHRvbi1ibG9ja2VkLXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLWJsb2NrZWQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWN0aW9uLWJ1dHRvbi11bmJsb2NrLXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLXVuYmxvY2stYnV0dG9uXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbW96LWJ1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxtb3otYm94LWJ1dHRvblxuICAgICAgICBvbkNsaWNrPXt0b2dnbGVQYW5lbH1cbiAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tbWFuYWdlLXRvcGljcy1idXR0b24tdjJcIlxuICAgICAgPjwvbW96LWJveC1idXR0b24+XG4gICAgICA8Q1NTVHJhbnNpdGlvblxuICAgICAgICBpbj17c2hvd1BhbmVsfVxuICAgICAgICB0aW1lb3V0PXszMDB9XG4gICAgICAgIGNsYXNzTmFtZXM9XCJzZWN0aW9ucy1tZ210LXBhbmVsXCJcbiAgICAgICAgdW5tb3VudE9uRXhpdD17dHJ1ZX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9ucy1tZ210LXBhbmVsXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJhcnJvdy1idXR0b25cIiBvbkNsaWNrPXt0b2dnbGVQYW5lbH0+XG4gICAgICAgICAgICA8aDEgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tbWFuZ2FnZS10b3BpY3MtdGl0bGVcIj48L2gxPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxoMyBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2VjdGlvbi1tYW5nYWdlLXRvcGljcy1mb2xsb3dlZC10b3BpY3NcIj48L2gzPlxuICAgICAgICAgIHtmb2xsb3dlZFNlY3Rpb25zRGF0YS5sZW5ndGggPyAoXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidG9waWMtbGlzdFwiPntmb2xsb3dlZFNlY3Rpb25zTGlzdH08L3VsPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0b3BpYy1saXN0LWVtcHR5LXN0YXRlXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tbWFuZ2FnZS10b3BpY3MtZm9sbG93ZWQtdG9waWNzLWVtcHR5LXN0YXRlXCJcbiAgICAgICAgICAgID48L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8aDMgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlY3Rpb24tbWFuZ2FnZS10b3BpY3MtYmxvY2tlZC10b3BpY3NcIj48L2gzPlxuICAgICAgICAgIHtibG9ja2VkU2VjdGlvbnNEYXRhLmxlbmd0aCA/IChcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0b3BpYy1saXN0XCI+e2Jsb2NrZWRTZWN0aW9uc0xpc3R9PC91bD5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidG9waWMtbGlzdC1lbXB0eS1zdGF0ZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWN0aW9uLW1hbmdhZ2UtdG9waWNzLWJsb2NrZWQtdG9waWNzLWVtcHR5LXN0YXRlXCJcbiAgICAgICAgICAgID48L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCB7IFNlY3Rpb25zTWdtdFBhbmVsIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG5pbXBvcnQgeyBDU1NUcmFuc2l0aW9uIH0gZnJvbSBcInJlYWN0LXRyYW5zaXRpb24tZ3JvdXBcIjtcblxuY29uc3QgUFJFRl9XQUxMUEFQRVJfVVBMT0FERURfUFJFVklPVVNMWSA9XG4gIFwibmV3dGFiV2FsbHBhcGVycy5jdXN0b21XYWxscGFwZXIudXBsb2FkZWRQcmV2aW91c2x5XCI7XG5cbmNvbnN0IFBSRUZfV0FMTFBBUEVSX1VQTE9BRF9NQVhfRklMRV9TSVpFID1cbiAgXCJuZXd0YWJXYWxscGFwZXJzLmN1c3RvbVdhbGxwYXBlci5maWxlU2l6ZVwiO1xuXG5jb25zdCBQUkVGX1dBTExQQVBFUl9VUExPQURfTUFYX0ZJTEVfU0laRV9FTkFCTEVEID1cbiAgXCJuZXd0YWJXYWxscGFwZXJzLmN1c3RvbVdhbGxwYXBlci5maWxlU2l6ZS5lbmFibGVkXCI7XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjb250aW51b3VzbHkgdHJpZ2dlcmVkIHdoZW4gY2FsbGVkLiBUaGVcbi8vIGZ1bmN0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGlmIGNhbGxlZCBhZ2FpbiBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLlxuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCkge1xuICBsZXQgdGltZXI7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB3YWtlVXAgPSAoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgfTtcblxuICAgIHRpbWVyID0gc2V0VGltZW91dCh3YWtlVXAsIHdhaXQpO1xuICAgIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBfV2FsbHBhcGVyQ2F0ZWdvcmllcyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUNvbG9ySW5wdXQgPSB0aGlzLmhhbmRsZUNvbG9ySW5wdXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlYm91bmNlZEhhbmRsZUNoYW5nZSA9IGRlYm91bmNlKHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyksIDk5OSk7XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlUmVzZXQgPSB0aGlzLmhhbmRsZVJlc2V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDYXRlZ29yeSA9IHRoaXMuaGFuZGxlQ2F0ZWdvcnkuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZvY3VzQ2F0ZWdvcnkgPSB0aGlzLmZvY3VzQ2F0ZWdvcnkuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVVwbG9hZCA9IHRoaXMuaGFuZGxlVXBsb2FkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVCYWNrID0gdGhpcy5oYW5kbGVCYWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5nZXRSR0JDb2xvcnMgPSB0aGlzLmdldFJHQkNvbG9ycy5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJlZmVyc0hpZ2hDb250cmFzdFF1ZXJ5ID0gbnVsbDtcbiAgICB0aGlzLnByZWZlcnNEYXJrUXVlcnkgPSBudWxsO1xuICAgIHRoaXMuY2F0ZWdvcnlSZWYgPSBbXTsgLy8gc3RvcmUgcmVmZXJlbmNlcyBmb3Igd2FsbHBhcGVyIGNhdGVnb3J5IGxpc3RcbiAgICB0aGlzLndhbGxwYXBlclJlZiA9IFtdOyAvLyBzdG9yZSByZWZlcmVuY2UgZm9yIHdhbGxwYXBlciBzZWxlY3Rpb24gbGlzdFxuICAgIHRoaXMuY3VzdG9tQ29sb3JQaWNrZXJSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTsgLy8gVXNlZCB0byBkZXRlcm1pbmUgY29udHJhc3QgaWNvbiBjb2xvciBmb3IgY3VzdG9tIGNvbG9yIHBpY2tlclxuICAgIHRoaXMuY3VzdG9tQ29sb3JJbnB1dCA9IFJlYWN0LmNyZWF0ZVJlZigpOyAvLyBVc2VkIHRvIGRldGVybWluZSBjb250cmFzdCBpY29uIGNvbG9yIGZvciBjdXN0b20gY29sb3IgcGlja2VyXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFjdGl2ZUNhdGVnb3J5OiBudWxsLFxuICAgICAgYWN0aXZlQ2F0ZWdvcnlGbHVlbnRJRDogbnVsbCxcbiAgICAgIHNob3dDb2xvclBpY2tlcjogZmFsc2UsXG4gICAgICBpbnB1dFR5cGU6IFwicmFkaW9cIixcbiAgICAgIGFjdGl2ZUlkOiBudWxsLFxuICAgICAgY3VzdG9tV2FsbHBhcGVyRXJyb3JUeXBlOiBudWxsLFxuICAgICAgZm9jdXNlZENhdGVnb3J5SW5kZXg6IDAsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucHJlZmVyc0RhcmtRdWVyeSA9IGdsb2JhbFRoaXMubWF0Y2hNZWRpYShcbiAgICAgIFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiXG4gICAgKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAvLyBXYWxsbHBhcGVyIGNhdGVnb3J5IHN1YnBhbmVsIHNob3VsZCBjbG9zZSB3aGVuIHBhcmVudCBtZW51IGlzIGNsb3NlZFxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuZXhpdEV2ZW50RmlyZWQgJiZcbiAgICAgIHRoaXMucHJvcHMuZXhpdEV2ZW50RmlyZWQgIT09IHByZXZQcm9wcy5leGl0RXZlbnRGaXJlZFxuICAgICkge1xuICAgICAgdGhpcy5oYW5kbGVCYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ29sb3JJbnB1dChldmVudCkge1xuICAgIGxldCB7IGlkIH0gPSBldmVudC50YXJnZXQ7XG4gICAgLy8gU2V0IElEIHRvIGluY2x1ZGUgaGV4IHZhbHVlIG9mIGN1c3RvbSBjb2xvclxuICAgIGlkID0gYHNvbGlkLWNvbG9yLXBpY2tlci0ke2V2ZW50LnRhcmdldC52YWx1ZX1gO1xuICAgIGNvbnN0IHJnYkNvbG9ycyA9IHRoaXMuZ2V0UkdCQ29sb3JzKGV2ZW50LnRhcmdldC52YWx1ZSk7XG5cbiAgICAvLyBTZXQgYmFja2dyb3VuZCBjb2xvciB0byBjdXN0b20gY29sb3JcbiAgICBldmVudC50YXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYHJnYigke3JnYkNvbG9ycy50b1N0cmluZygpfSlgO1xuXG4gICAgaWYgKHRoaXMuY3VzdG9tQ29sb3JQaWNrZXJSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgY29sb3JJbnB1dEJhY2tncm91bmQgPVxuICAgICAgICB0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmLmN1cnJlbnQuY2hpbGRyZW5bMF0uc3R5bGUuYmFja2dyb3VuZENvbG9yO1xuICAgICAgdGhpcy5jdXN0b21Db2xvclBpY2tlclJlZi5jdXJyZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9XG4gICAgICAgIGNvbG9ySW5wdXRCYWNrZ3JvdW5kO1xuICAgIH1cblxuICAgIC8vIFNldCBpY29uIGNvbG9yIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBjb2xvclxuICAgIGNvbnN0IGlzQ29sb3JEYXJrID0gdGhpcy5pc1dhbGxwYXBlckNvbG9yRGFyayhyZ2JDb2xvcnMpO1xuICAgIGlmICh0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGlmIChpc0NvbG9yRGFyaykge1xuICAgICAgICB0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZChcImlzLWRhcmtcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZShcImlzLWRhcmtcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSBhbnkgcG9zc2libGUgaW5pdGlhbCBjbGFzc2VzXG4gICAgICB0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgICAgXCJjdXN0b20tY29sb3Itc2V0XCIsXG4gICAgICAgIFwiY3VzdG9tLWNvbG9yLWRhcmtcIixcbiAgICAgICAgXCJkZWZhdWx0LWNvbG9yLXNldFwiXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFNldHRpbmcgdGhpcyBub3cgc28gd2hlbiB3ZSByZW1vdmUgdjEgd2UgZG9uJ3QgaGF2ZSB0byBtaWdyYXRlIHYxIHZhbHVlcy5cbiAgICB0aGlzLnByb3BzLnNldFByZWYoXCJuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlclwiLCBpZCk7XG4gIH1cblxuICAvLyBOb3RlOiBUaGVyZSdzIGEgc2VwYXJhdGUgZXZlbnQgKGRlYm91bmNlZEhhbmRsZUNoYW5nZSkgdGhhdCBmaXJlcyB0aGUgaGFuZGxlQ2hhbmdlXG4gIC8vIGV2ZW50IGJ1dCBpcyBkZWxheWVkIHNvIHRoYXQgaXQgZG9lc24ndCBmaXJlIG11bHRpcGxlIGV2ZW50cyB3aGVuIGEgdXNlclxuICAvLyBpcyBzZWxlY3RpbmcgYSBjdXN0b20gY29sb3IgYmFja2dyb3VuZFxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBsZXQgeyBpZCB9ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgLy8gU2V0IElEIHRvIGluY2x1ZGUgaGV4IHZhbHVlIG9mIGN1c3RvbSBjb2xvclxuICAgIGlmIChpZCA9PT0gXCJzb2xpZC1jb2xvci1waWNrZXJcIikge1xuICAgICAgaWQgPSBgc29saWQtY29sb3ItcGlja2VyLSR7ZXZlbnQudGFyZ2V0LnZhbHVlfWA7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5zZXRQcmVmKFwibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIiwgaWQpO1xuXG4gICAgY29uc3QgdXBsb2FkZWRQcmV2aW91c2x5ID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1BSRUZfV0FMTFBBUEVSX1VQTE9BREVEX1BSRVZJT1VTTFldO1xuXG4gICAgdGhpcy5oYW5kbGVVc2VyRXZlbnQoYXQuV0FMTFBBUEVSX0NMSUNLLCB7XG4gICAgICBzZWxlY3RlZF93YWxscGFwZXI6IGlkLFxuICAgICAgaGFkX3ByZXZpb3VzX3dhbGxwYXBlcjogISF0aGlzLnByb3BzLmFjdGl2ZVdhbGxwYXBlcixcbiAgICAgIGhhZF91cGxvYWRlZF9wcmV2aW91c2x5OiAhIXVwbG9hZGVkUHJldmlvdXNseSxcbiAgICB9KTtcbiAgfVxuXG4gIGZvY3VzQ2F0ZWdvcnkoZm9jdXNJbmRleCkge1xuICAgIGlmICghdGhpcy5jYXRlZ29yeVJlZikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsID0gdGhpcy5jYXRlZ29yeVJlZltmb2N1c0luZGV4XTtcbiAgICBpZiAoZWwpIHtcbiAgICAgIGVsLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZnVuY3Rpb24gaW1wbGVtZW50aW5nIGFycm93IG5hdmlnYXRpb24gZm9yIHdhbGxwYXBlciBjYXRlZ29yeSBzZWxlY3Rpb25cbiAgaGFuZGxlQ2F0ZWdvcnlLZXlEb3duKGV2ZW50LCBjYXRlZ29yeSkge1xuICAgIGNvbnN0IGdldEluZGV4ID0gdGhpcy5jYXRlZ29yeVJlZi5maW5kSW5kZXgoY2F0ID0+IGNhdC5pZCA9PT0gY2F0ZWdvcnkpO1xuICAgIGlmIChnZXRJbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybjsgLy8gcHJldmVudHMgZXJyb3JzIGlmIHdhbGxwYXBlciBpbmRleCBpc24ndCBmb3VuZCB3aGVuIG5hdmlnYXRpbmcgd2l0aCBhcnJvdyBrZXlzXG4gICAgfVxuXG4gICAgY29uc3QgaXNSVEwgPSBkb2N1bWVudC5kaXIgPT09IFwicnRsXCI7IC8vIHJldHVybnMgdHJ1ZSBpZiBwYWdlIGxhbmd1YWdlIGlzIHJpZ2h0LXRvLWxlZnRcbiAgICBsZXQgZXZlbnRLZXkgPSBldmVudC5rZXk7XG5cbiAgICBpZiAoZXZlbnRLZXkgPT09IFwiQXJyb3dSaWdodFwiIHx8IGV2ZW50S2V5ID09PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICBpZiAoaXNSVEwpIHtcbiAgICAgICAgZXZlbnRLZXkgPSBldmVudEtleSA9PT0gXCJBcnJvd1JpZ2h0XCIgPyBcIkFycm93TGVmdFwiIDogXCJBcnJvd1JpZ2h0XCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IG5leHRJbmRleCA9IGdldEluZGV4O1xuXG4gICAgaWYgKGV2ZW50S2V5ID09PSBcIkFycm93UmlnaHRcIikge1xuICAgICAgbmV4dEluZGV4ID1cbiAgICAgICAgZ2V0SW5kZXggKyAxIDwgdGhpcy5jYXRlZ29yeVJlZi5sZW5ndGggPyBnZXRJbmRleCArIDEgOiBnZXRJbmRleDtcbiAgICB9IGVsc2UgaWYgKGV2ZW50S2V5ID09PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICBuZXh0SW5kZXggPSBnZXRJbmRleCAtIDEgPj0gMCA/IGdldEluZGV4IC0gMSA6IGdldEluZGV4O1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkQ2F0ZWdvcnlJbmRleDogbmV4dEluZGV4IH0sICgpID0+XG4gICAgICB0aGlzLmZvY3VzQ2F0ZWdvcnkobmV4dEluZGV4KVxuICAgICk7XG4gIH1cblxuICAvLyBmdW5jdGlvbiBpbXBsZW1lbnRpbmcgYXJyb3cgbmF2aWdhdGlvbiBmb3Igd2FsbHBhcGVyIHNlbGVjdGlvblxuICBoYW5kbGVXYWxscGFwZXJLZXlEb3duKGV2ZW50LCB0aXRsZSkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiVGFiXCIpIHtcbiAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmJhY2tUb01lbnVCdXR0b24/LmZvY3VzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IHRhYmJpbmcgd2l0aGluIHdhbGxwYXBlciBzZWxlY3Rpb24uIFdlIHNob3VsZCBvbmx5IGJlIHVzaW5nIHRoZSBUYWIga2V5IHRvIHRhYiBiZXR3ZWVuIGdyb3Vwc1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlzUlRMID0gZG9jdW1lbnQuZGlyID09PSBcInJ0bFwiOyAvLyByZXR1cm5zIHRydWUgaWYgcGFnZSBsYW5ndWFnZSBpcyByaWdodC10by1sZWZ0XG4gICAgbGV0IGV2ZW50S2V5ID0gZXZlbnQua2V5O1xuXG4gICAgaWYgKGV2ZW50S2V5ID09PSBcIkFycm93UmlnaHRcIiB8fCBldmVudEtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgaWYgKGlzUlRMKSB7XG4gICAgICAgIGV2ZW50S2V5ID0gZXZlbnRLZXkgPT09IFwiQXJyb3dSaWdodFwiID8gXCJBcnJvd0xlZnRcIiA6IFwiQXJyb3dSaWdodFwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGdldEluZGV4ID0gdGhpcy53YWxscGFwZXJSZWYuZmluZEluZGV4KFxuICAgICAgd2FsbHBhcGVyID0+IHdhbGxwYXBlci5pZCA9PT0gdGl0bGVcbiAgICApO1xuXG4gICAgaWYgKGdldEluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuOyAvLyBwcmV2ZW50cyBlcnJvcnMgaWYgd2FsbHBhcGVyIGluZGV4IGlzbid0IGZvdW5kIHdoZW4gbmF2aWdhdGluZyB3aXRoIGFycm93IGtleXNcbiAgICB9XG5cbiAgICAvLyB0aGUgc2V0IGxheW91dCBvZiBjb2x1bW5zIHBlciByb3cgZm9yIHRoZSB3YWxscGFwZXIgc2VsZWN0aW9uXG4gICAgY29uc3QgY29sdW1uQ291bnQgPSAzO1xuICAgIGxldCBuZXh0SW5kZXggPSBnZXRJbmRleDtcblxuICAgIGlmIChldmVudEtleSA9PT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgIG5leHRJbmRleCA9XG4gICAgICAgIGdldEluZGV4ICsgMSA8IHRoaXMud2FsbHBhcGVyUmVmLmxlbmd0aCA/IGdldEluZGV4ICsgMSA6IGdldEluZGV4O1xuICAgIH0gZWxzZSBpZiAoZXZlbnRLZXkgPT09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICAgIG5leHRJbmRleCA9IGdldEluZGV4IC0gMSA+PSAwID8gZ2V0SW5kZXggLSAxIDogZ2V0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChldmVudEtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgbmV4dEluZGV4ID1cbiAgICAgICAgZ2V0SW5kZXggKyBjb2x1bW5Db3VudCA8IHRoaXMud2FsbHBhcGVyUmVmLmxlbmd0aFxuICAgICAgICAgID8gZ2V0SW5kZXggKyBjb2x1bW5Db3VudFxuICAgICAgICAgIDogZ2V0SW5kZXg7XG4gICAgfSBlbHNlIGlmIChldmVudEtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgIG5leHRJbmRleCA9XG4gICAgICAgIGdldEluZGV4IC0gY29sdW1uQ291bnQgPj0gMCA/IGdldEluZGV4IC0gY29sdW1uQ291bnQgOiBnZXRJbmRleDtcbiAgICB9XG5cbiAgICB0aGlzLndhbGxwYXBlclJlZltuZXh0SW5kZXhdLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLndhbGxwYXBlclJlZltnZXRJbmRleF0udGFiSW5kZXggPSAtMTtcbiAgICB0aGlzLndhbGxwYXBlclJlZltuZXh0SW5kZXhdLmZvY3VzKCk7XG4gICAgdGhpcy53YWxscGFwZXJSZWZbbmV4dEluZGV4XS5jbGljaygpO1xuICB9XG5cbiAgaGFuZGxlUmVzZXQoKSB7XG4gICAgY29uc3QgdXBsb2FkZWRQcmV2aW91c2x5ID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1BSRUZfV0FMTFBBUEVSX1VQTE9BREVEX1BSRVZJT1VTTFldO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWRXYWxscGFwZXIgPVxuICAgICAgdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXNbXCJuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlclwiXTtcblxuICAgIC8vIElmIGEgY3VzdG9tIHdhbGxwYXBlciBpcyBzZXQsIHJlbW92ZSBpdFxuICAgIGlmIChzZWxlY3RlZFdhbGxwYXBlciA9PT0gXCJjdXN0b21cIikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgYWMuT25seVRvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuV0FMTFBBUEVSX1JFTU9WRV9VUExPQUQsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IGFjdGl2ZSB3YWxscGFwZXJcbiAgICB0aGlzLnByb3BzLnNldFByZWYoXCJuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlclwiLCBcIlwiKTtcblxuICAgIC8vIEZpcmUgV0FMTFBBUEVSX0NMSUNLIHRlbGVtZXRyeSBldmVudFxuICAgIHRoaXMuaGFuZGxlVXNlckV2ZW50KGF0LldBTExQQVBFUl9DTElDSywge1xuICAgICAgc2VsZWN0ZWRfd2FsbHBhcGVyOiBcIm5vbmVcIixcbiAgICAgIGhhZF9wcmV2aW91c193YWxscGFwZXI6ICEhdGhpcy5wcm9wcy5hY3RpdmVXYWxscGFwZXIsXG4gICAgICBoYWRfdXBsb2FkZWRfcHJldmlvdXNseTogISF1cGxvYWRlZFByZXZpb3VzbHksXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVDYXRlZ29yeSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlQ2F0ZWdvcnk6IGV2ZW50LnRhcmdldC5pZCB9KTtcblxuICAgIHRoaXMuaGFuZGxlVXNlckV2ZW50KGF0LldBTExQQVBFUl9DQVRFR09SWV9DTElDSywgZXZlbnQudGFyZ2V0LmlkKTtcblxuICAgIGxldCBmbHVlbnRfaWQ7XG4gICAgc3dpdGNoIChldmVudC50YXJnZXQuaWQpIHtcbiAgICAgIGNhc2UgXCJhYnN0cmFjdHNcIjpcbiAgICAgICAgZmx1ZW50X2lkID0gXCJuZXd0YWItd2FsbHBhcGVyLWNhdGVnb3J5LXRpdGxlLWFic3RyYWN0XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNlbGVzdGlhbFwiOlxuICAgICAgICBmbHVlbnRfaWQgPSBcIm5ld3RhYi13YWxscGFwZXItY2F0ZWdvcnktdGl0bGUtY2VsZXN0aWFsXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBob3RvZ3JhcGhzXCI6XG4gICAgICAgIGZsdWVudF9pZCA9IFwibmV3dGFiLXdhbGxwYXBlci1jYXRlZ29yeS10aXRsZS1waG90b2dyYXBoc1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzb2xpZC1jb2xvcnNcIjpcbiAgICAgICAgZmx1ZW50X2lkID0gXCJuZXd0YWItd2FsbHBhcGVyLWNhdGVnb3J5LXRpdGxlLWNvbG9yc1wiO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVDYXRlZ29yeUZsdWVudElEOiBmbHVlbnRfaWQgfSk7XG4gIH07XG5cbiAgLy8gQ3VzdG9tIHdhbGxwYXBlciBpbWFnZSB1cGxvYWRcbiAgYXN5bmMgaGFuZGxlVXBsb2FkKCkge1xuICAgIGNvbnN0IHdhbGxwYXBlclVwbG9hZE1heEZpbGVTaXplRW5hYmxlZCA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tQUkVGX1dBTExQQVBFUl9VUExPQURfTUFYX0ZJTEVfU0laRV9FTkFCTEVEXTtcblxuICAgIGNvbnN0IHdhbGxwYXBlclVwbG9hZE1heEZpbGVTaXplID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1BSRUZfV0FMTFBBUEVSX1VQTE9BRF9NQVhfRklMRV9TSVpFXTtcblxuICAgIGNvbnN0IHVwbG9hZGVkUHJldmlvdXNseSA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tQUkVGX1dBTExQQVBFUl9VUExPQURFRF9QUkVWSU9VU0xZXTtcblxuICAgIC8vIENyZWF0ZSBhIGZpbGUgaW5wdXQgc2luY2UgY2F0ZWdvcnkgYnV0dG9ucyBhcmUgcmFkaW8gaW5wdXRzXG4gICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGZpbGVJbnB1dC50eXBlID0gXCJmaWxlXCI7XG4gICAgZmlsZUlucHV0LmFjY2VwdCA9IFwiaW1hZ2UvKlwiOyAvLyBvbmx5IGFsbG93IGltYWdlIGZpbGVzXG5cbiAgICAvLyBDYXRjaCBjYW5jZWwgZXZlbnRzXG4gICAgZmlsZUlucHV0Lm9uY2FuY2VsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1c3RvbVdhbGxwYXBlckVycm9yVHlwZTogbnVsbCB9KTtcbiAgICB9O1xuXG4gICAgLy8gUmVzZXQgZXJyb3Igc3RhdGUgd2hlbiB1c2VyIGJlZ2lucyBmaWxlIHNlbGVjdGlvblxuICAgIHRoaXMuc2V0U3RhdGUoeyBjdXN0b21XYWxscGFwZXJFcnJvclR5cGU6IG51bGwgfSk7XG5cbiAgICAvLyBGaXJlIHdoZW4gdXNlciBzZWxlY3RzIGEgZmlsZVxuICAgIGZpbGVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IFtmaWxlXSA9IGV2ZW50LnRhcmdldC5maWxlcztcblxuICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgLy8gVmFsaWRhdGUgZmlsZSB0eXBlOiBPbmx5IGFjY2VwdCBmaWxlcyB3aXRoIGEgdmFsaWQgaW1hZ2UgTUlNRSB0eXBlXG4gICAgICAgIGNvbnN0IGlzVmFsaWRJbWFnZSA9IGZpbGUudHlwZSAmJiBmaWxlLnR5cGUuc3RhcnRzV2l0aChcImltYWdlL1wiKTtcbiAgICAgICAgaWYgKCFpc1ZhbGlkSW1hZ2UpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBmaWxlIHR5cGVcIik7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1c3RvbVdhbGxwYXBlckVycm9yVHlwZTogXCJmaWxlVHlwZVwiIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExpbWl0IGltYWdlIHVwbG9hZGVkIHRvIGEgbWF4aW11bSBmaWxlIHNpemUgaWYgZW5hYmxlZFxuICAgICAgICAvLyBOb3RlOiBUaGUgbWF4IGZpbGUgc2l6ZSBwcmVmIChjdXN0b21XYWxscGFwZXIuZmlsZVNpemUpIGlzIGNvbnZlcnRlZCB0byBtZWdhYnl0ZXMgKE1CKVxuICAgICAgICAvLyBFeGFtcGxlOiBpZiBwcmVmIHZhbHVlIGlzIDUsIG1heCBmaWxlIHNpemUgaXMgNSBNQlxuICAgICAgICBjb25zdCBtYXhTaXplID0gd2FsbHBhcGVyVXBsb2FkTWF4RmlsZVNpemUgKiAxMDI0ICogMTAyNDtcbiAgICAgICAgaWYgKHdhbGxwYXBlclVwbG9hZE1heEZpbGVTaXplRW5hYmxlZCAmJiBmaWxlLnNpemUgPiBtYXhTaXplKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkZpbGUgc2l6ZSBleGNlZWRzIGxpbWl0XCIpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXN0b21XYWxscGFwZXJFcnJvclR5cGU6IFwiZmlsZVNpemVcIiB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICAgICAgdHlwZTogYXQuV0FMTFBBUEVSX1VQTE9BRCxcbiAgICAgICAgICAgIGRhdGE6IHsgZmlsZSB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU2V0IGFjdGl2ZSB3YWxscGFwZXIgSUQgdG8gXCJjdXN0b21cIlxuICAgICAgICB0aGlzLnByb3BzLnNldFByZWYoXCJuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlclwiLCBcImN1c3RvbVwiKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIHVwbG9hZGVkUHJldmlvdXNseSBwcmVmIHRvIFRSVUVcbiAgICAgICAgLy8gTm90ZTogdGhpcyBwcmVmIHVzZWQgZm9yIHRlbGVtZXRyeS4gRG8gbm90IHJlc2V0IHRvIGZhbHNlLlxuICAgICAgICB0aGlzLnByb3BzLnNldFByZWYoUFJFRl9XQUxMUEFQRVJfVVBMT0FERURfUFJFVklPVVNMWSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVVc2VyRXZlbnQoYXQuV0FMTFBBUEVSX0NMSUNLLCB7XG4gICAgICAgICAgc2VsZWN0ZWRfd2FsbHBhcGVyOiBcImN1c3RvbVwiLFxuICAgICAgICAgIGhhZF9wcmV2aW91c193YWxscGFwZXI6ICEhdGhpcy5wcm9wcy5hY3RpdmVXYWxscGFwZXIsXG4gICAgICAgICAgaGFkX3VwbG9hZGVkX3ByZXZpb3VzbHk6ICEhdXBsb2FkZWRQcmV2aW91c2x5LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmlsZUlucHV0LmNsaWNrKCk7XG4gIH1cblxuICBoYW5kbGVCYWNrKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmVDYXRlZ29yeTogbnVsbCB9LCAoKSA9PiB7XG4gICAgICAvLyBXYWl0IGZvciB0aGUgY2F0ZWdvcnkgZ3JpZCB0byBiZSBiYWNrIGluIHRoZSBET01cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuZm9jdXNDYXRlZ29yeSh0aGlzLnN0YXRlLmZvY3VzZWRDYXRlZ29yeUluZGV4KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gUmVjb3JkIHVzZXIgaW50ZXJhY3Rpb24gd2hlbiBjaGFuZ2luZyB3YWxscGFwZXIgYW5kIHJlc2V0aW5nIHdhbGxwYXBlciB0byBkZWZhdWx0XG4gIGhhbmRsZVVzZXJFdmVudCh0eXBlLCBkYXRhKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Pbmx5VG9NYWluKHsgdHlwZSwgZGF0YSB9KSk7XG4gIH1cblxuICBzZXRBY3RpdmVJZCA9IGlkID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlSWQ6IGlkIH0pOyAvLyBTZXQgdGhlIGFjdGl2ZSBJRFxuICB9O1xuXG4gIGdldFJHQkNvbG9ycyhpbnB1dCkge1xuICAgIGlmIChpbnB1dC5sZW5ndGggIT09IDcpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCByID0gcGFyc2VJbnQoaW5wdXQuc3Vic3RyKDEsIDIpLCAxNik7XG4gICAgY29uc3QgZyA9IHBhcnNlSW50KGlucHV0LnN1YnN0cigzLCAyKSwgMTYpO1xuICAgIGNvbnN0IGIgPSBwYXJzZUludChpbnB1dC5zdWJzdHIoNSwgMiksIDE2KTtcblxuICAgIHJldHVybiBbciwgZywgYl07XG4gIH1cblxuICBpc1dhbGxwYXBlckNvbG9yRGFyayhbciwgZywgYl0pIHtcbiAgICByZXR1cm4gMC4yMTI1ICogciArIDAuNzE1NCAqIGcgKyAwLjA3MjEgKiBiIDw9IDExMDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBwcmVmcyA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIGNvbnN0IHsgd2FsbHBhcGVyTGlzdCwgY2F0ZWdvcmllcyB9ID0gdGhpcy5wcm9wcy5XYWxscGFwZXJzO1xuICAgIGNvbnN0IHsgYWN0aXZlV2FsbHBhcGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgYWN0aXZlQ2F0ZWdvcnksIHNob3dDb2xvclBpY2tlciB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IGFjdGl2ZUNhdGVnb3J5Rmx1ZW50SUQgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGZpbHRlcmVkV2FsbHBhcGVycyA9IHdhbGxwYXBlckxpc3QuZmlsdGVyKFxuICAgICAgd2FsbHBhcGVyID0+IHdhbGxwYXBlci5jYXRlZ29yeSA9PT0gYWN0aXZlQ2F0ZWdvcnlcbiAgICApO1xuICAgIGNvbnN0IHdhbGxwYXBlclVwbG9hZE1heEZpbGVTaXplID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW1BSRUZfV0FMTFBBUEVSX1VQTE9BRF9NQVhfRklMRV9TSVpFXTtcblxuICAgIGZ1bmN0aW9uIHJlZHVjZUNvbG9yc1RvRml0Q3VzdG9tQ29sb3JJbnB1dChhcnIpIHtcbiAgICAgIC8vIFJlZHVjZSB0aGUgYW1vdW50IG9mIGN1c3RvbSBjb2xvcnMgdG8gbWFrZSBzcGFjZSBmb3IgdGhlIGN1c3RvbSBjb2xvciBwaWNrZXJcbiAgICAgIHdoaWxlIChhcnIubGVuZ3RoICUgMyAhPT0gMikge1xuICAgICAgICBhcnIucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH1cblxuICAgIGxldCB3YWxscGFwZXJDdXN0b21Tb2xpZENvbG9ySGV4ID0gbnVsbDtcblxuICAgIGNvbnN0IHNlbGVjdGVkV2FsbHBhcGVyID0gcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlclwiXTtcblxuICAgIC8vIFVzZXIgaGFzIHByZXZpb3VzIHNlbGVjdGVkIGEgY3VzdG9tIGNvbG9yXG4gICAgaWYgKHNlbGVjdGVkV2FsbHBhcGVyLmluY2x1ZGVzKFwic29saWQtY29sb3ItcGlja2VyXCIpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0NvbG9yUGlja2VyOiB0cnVlIH0pO1xuICAgICAgY29uc3QgcmVnZXggPSAvIyhbYS1mQS1GMC05XXs2fSkvO1xuICAgICAgW3dhbGxwYXBlckN1c3RvbVNvbGlkQ29sb3JIZXhdID0gc2VsZWN0ZWRXYWxscGFwZXIubWF0Y2gocmVnZXgpO1xuICAgIH1cblxuICAgIC8vIEVuYWJsZSBjdXN0b20gY29sb3Igc2VsZWN0IGlmIHByZWYnZWQgb25cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dDb2xvclBpY2tlcjogcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmN1c3RvbUNvbG9yLmVuYWJsZWRcIl0sXG4gICAgfSk7XG5cbiAgICAvLyBSZW1vdmUgbGFzdCBpdGVtIG9mIHNvbGlkIGNvbG9ycyB0byBtYWtlIHNwYWNlIGZvciBjdXN0b20gY29sb3IgcGlja2VyXG4gICAgaWYgKFxuICAgICAgcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmN1c3RvbUNvbG9yLmVuYWJsZWRcIl0gJiZcbiAgICAgIGFjdGl2ZUNhdGVnb3J5ID09PSBcInNvbGlkLWNvbG9yc1wiXG4gICAgKSB7XG4gICAgICBmaWx0ZXJlZFdhbGxwYXBlcnMgPVxuICAgICAgICByZWR1Y2VDb2xvcnNUb0ZpdEN1c3RvbUNvbG9ySW5wdXQoZmlsdGVyZWRXYWxscGFwZXJzKTtcbiAgICB9XG5cbiAgICAvLyBCdWcgMTk1MzAxMiAtIElmIG5vdGhpbmcgc2VsZWN0ZWQsIGRlZmF1bHQgdG8gY29sb3Igb2YgY3VzdG9taXplIHBhbmVsXG4gICAgLy8gLS1jb2xvci1ibHVlLTcwIDogIzA1NDA5NlxuICAgIC8vIC0tY29sb3ItYmx1ZS0wNSA6ICNkZWVhZmNcbiAgICBjb25zdCBzdGFydGVyQ29sb3JIZXggPSB0aGlzLnByZWZlcnNEYXJrUXVlcnk/Lm1hdGNoZXNcbiAgICAgID8gXCIjMDU0MDk2XCJcbiAgICAgIDogXCIjZGVlYWZjXCI7XG5cbiAgICAvLyBTZXQgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29sb3IgcGlja2VyIChkZXBlbmRpbmcgaWYgdGhlIHVzZXIgaGFzIGFscmVhZHkgc2V0IGEgY3VzdG9tIGNvbG9yKVxuICAgIGxldCBpbml0U3RhdGVDbGFzc25hbWUgPSB3YWxscGFwZXJDdXN0b21Tb2xpZENvbG9ySGV4XG4gICAgICA/IFwiY3VzdG9tLWNvbG9yLXNldFwiXG4gICAgICA6IFwiZGVmYXVsdC1jb2xvci1zZXRcIjtcblxuICAgIC8vIElmIGEgY3VzdG9tIGNvbG9yIHBpY2tlciBpcyBzZXQsIG1ha2Ugc3VyZSB0aGUgaWNvbiBoYXMgdGhlIGNvcnJlY3QgY29udHJhc3RcbiAgICBpZiAod2FsbHBhcGVyQ3VzdG9tU29saWRDb2xvckhleCkge1xuICAgICAgY29uc3QgcmdiQ29sb3JzID0gdGhpcy5nZXRSR0JDb2xvcnMod2FsbHBhcGVyQ3VzdG9tU29saWRDb2xvckhleCk7XG4gICAgICBjb25zdCBpc0NvbG9yRGFyayA9IHRoaXMuaXNXYWxscGFwZXJDb2xvckRhcmsocmdiQ29sb3JzKTtcbiAgICAgIGlmIChpc0NvbG9yRGFyaykge1xuICAgICAgICBpbml0U3RhdGVDbGFzc25hbWUgKz0gXCIgY3VzdG9tLWNvbG9yLWRhcmtcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgY29sb3JQaWNrZXJJbnB1dCA9XG4gICAgICBzaG93Q29sb3JQaWNrZXIgJiYgYWN0aXZlQ2F0ZWdvcnkgPT09IFwic29saWQtY29sb3JzXCIgPyAoXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2B0aGVtZS1jdXN0b20tY29sb3ItcGlja2VyICR7aW5pdFN0YXRlQ2xhc3NuYW1lfWB9XG4gICAgICAgICAgcmVmPXt0aGlzLmN1c3RvbUNvbG9yUGlja2VyUmVmfVxuICAgICAgICA+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBvbklucHV0PXt0aGlzLmhhbmRsZUNvbG9ySW5wdXR9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5kZWJvdW5jZWRIYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldEFjdGl2ZUlkKFwic29saWQtY29sb3ItcGlja2VyXCIpfSAvL1xuICAgICAgICAgICAgdHlwZT1cImNvbG9yXCJcbiAgICAgICAgICAgIG5hbWU9e2B3YWxscGFwZXItc29saWQtY29sb3ItcGlja2VyYH1cbiAgICAgICAgICAgIGlkPVwic29saWQtY29sb3ItcGlja2VyXCJcbiAgICAgICAgICAgIC8vIGFyaWEtY2hlY2tlZCBpcyBub3QgYXBwbGljYWJsZSBmb3IgaW5wdXRbdHlwZT1cImNvbG9yXCJdIGVsZW1lbnRzXG4gICAgICAgICAgICBhcmlhLWN1cnJlbnQ9e3RoaXMuc3RhdGUuYWN0aXZlSWQgPT09IFwic29saWQtY29sb3ItcGlja2VyXCJ9XG4gICAgICAgICAgICB2YWx1ZT17d2FsbHBhcGVyQ3VzdG9tU29saWRDb2xvckhleCB8fCBzdGFydGVyQ29sb3JIZXh9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2B3YWxscGFwZXItaW5wdXRcbiAgICAgICAgICAgICAgJHt0aGlzLnN0YXRlLmFjdGl2ZUlkID09PSBcInNvbGlkLWNvbG9yLXBpY2tlclwiID8gXCJhY3RpdmVcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgIHJlZj17dGhpcy5jdXN0b21Db2xvcklucHV0fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICBodG1sRm9yPVwic29saWQtY29sb3ItcGlja2VyXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13YWxscGFwZXItY3VzdG9tLWNvbG9yXCJcbiAgICAgICAgICA+PC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICBcIlwiXG4gICAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2F0ZWdvcnktaGVhZGVyXCI+XG4gICAgICAgICAgPGgyIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13YWxscGFwZXItdGl0bGVcIj48L2gyPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIndhbGxwYXBlcnMtcmVzZXRcIlxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVSZXNldH1cbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13YWxscGFwZXItcmVzZXRcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgcm9sZT1cImdyaWRcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJXYWxscGFwZXIgY2F0ZWdvcnkgc2VsZWN0aW9uLiBVc2UgYXJyb3cga2V5cyB0byBuYXZpZ2F0ZS5cIlxuICAgICAgICA+XG4gICAgICAgICAgPGZpZWxkc2V0IGNsYXNzTmFtZT1cImNhdGVnb3J5LWxpc3RcIj5cbiAgICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkTGlzdCA9IHdhbGxwYXBlckxpc3QuZmlsdGVyKFxuICAgICAgICAgICAgICAgIHdhbGxwYXBlciA9PiB3YWxscGFwZXIuY2F0ZWdvcnkgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVdhbGxwYXBlck9iaiA9XG4gICAgICAgICAgICAgICAgYWN0aXZlV2FsbHBhcGVyICYmXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRMaXN0LmZpbmQod3AgPT4gd3AudGl0bGUgPT09IGFjdGl2ZVdhbGxwYXBlcik7XG4gICAgICAgICAgICAgIC8vIERldGVjdCBjdXN0b20gc29saWQgY29sb3JcbiAgICAgICAgICAgICAgY29uc3QgaXNDdXN0b21Tb2xpZENvbG9yID1cbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9PT0gXCJzb2xpZC1jb2xvcnNcIiAmJlxuICAgICAgICAgICAgICAgIGFjdGl2ZVdhbGxwYXBlci5zdGFydHNXaXRoKFwic29saWQtY29sb3ItcGlja2VyXCIpO1xuICAgICAgICAgICAgICBjb25zdCB0aHVtYm5haWwgPSBhY3RpdmVXYWxscGFwZXJPYmogfHwgZmlsdGVyZWRMaXN0WzBdO1xuICAgICAgICAgICAgICBsZXQgZmx1ZW50X2lkO1xuICAgICAgICAgICAgICBzd2l0Y2ggKGNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFic3RyYWN0c1wiOlxuICAgICAgICAgICAgICAgICAgZmx1ZW50X2lkID0gXCJuZXd0YWItd2FsbHBhcGVyLWNhdGVnb3J5LXRpdGxlLWFic3RyYWN0XCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2VsZXN0aWFsXCI6XG4gICAgICAgICAgICAgICAgICBmbHVlbnRfaWQgPSBcIm5ld3RhYi13YWxscGFwZXItY2F0ZWdvcnktdGl0bGUtY2VsZXN0aWFsXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY3VzdG9tLXdhbGxwYXBlclwiOlxuICAgICAgICAgICAgICAgICAgZmx1ZW50X2lkID0gXCJuZXd0YWItd2FsbHBhcGVyLXVwbG9hZC1pbWFnZVwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBob3RvZ3JhcGhzXCI6XG4gICAgICAgICAgICAgICAgICBmbHVlbnRfaWQgPSBcIm5ld3RhYi13YWxscGFwZXItY2F0ZWdvcnktdGl0bGUtcGhvdG9ncmFwaHNcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzb2xpZC1jb2xvcnNcIjpcbiAgICAgICAgICAgICAgICAgIGZsdWVudF9pZCA9IFwibmV3dGFiLXdhbGxwYXBlci1jYXRlZ29yeS10aXRsZS1jb2xvcnNcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgc3R5bGUgPSB7fTtcbiAgICAgICAgICAgICAgaWYgKHRodW1ibmFpbD8ud2FsbHBhcGVyVXJsKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3RodW1ibmFpbC53YWxscGFwZXJVcmx9KWA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGh1bWJuYWlsPy5zb2xpZF9jb2xvciB8fCBcIlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIElmIGN1c3RvbSBzb2xpZCBjb2xvciBpcyBhY3RpdmUsIG92ZXJyaWRlIHRoZSB0aHVtYm5haWwgdG8gdGhlIGNob3NlbiBoZXhcbiAgICAgICAgICAgICAgaWYgKGlzQ3VzdG9tU29saWRDb2xvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhleCA9XG4gICAgICAgICAgICAgICAgICBhY3RpdmVXYWxscGFwZXIuc3BsaXQoXCJzb2xpZC1jb2xvci1waWNrZXItXCIpWzFdIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaGV4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IGlzQ2F0ZWdvcnlTZWxlY3RlZCA9XG4gICAgICAgICAgICAgICAgYWN0aXZlV2FsbHBhcGVyT2JqIHx8IGlzQ3VzdG9tU29saWRDb2xvcjtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlSZWZbaW5kZXhdID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBpZD17Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHRoaXMuaGFuZGxlQ2F0ZWdvcnlLZXlEb3duKGUsIGNhdGVnb3J5KX1cbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG92ZXJyaWRlcyBmb3IgY3VzdG9tIHdhbGxwYXBlciB1cGxvYWQgVUlcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkQ2F0ZWdvcnlJbmRleDogaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5ICE9PSBcImN1c3RvbS13YWxscGFwZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDYXRlZ29yeShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVXBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3YWxscGFwZXItaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAke2NhdGVnb3J5ID09PSBcImN1c3RvbS13YWxscGFwZXJcIiA/IFwidGhlbWUtY3VzdG9tLXdhbGxwYXBlclwiIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAke2lzQ2F0ZWdvcnlTZWxlY3RlZCA/IFwic2VsZWN0ZWRcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9e1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZm9jdXNlZENhdGVnb3J5SW5kZXggPT09IGluZGV4ID8gMCA6IC0xXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgey4uLihjYXRlZ29yeSA9PT0gXCJjdXN0b20td2FsbHBhcGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgXCJhcmlhLWVycm9ybWVzc2FnZVwiOiBcImN1c3RvbVdhbGxwYXBlckVycm9yXCIgfVxuICAgICAgICAgICAgICAgICAgICAgIDoge30pfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPXtjYXRlZ29yeX0gZGF0YS1sMTBuLWlkPXtmbHVlbnRfaWR9PlxuICAgICAgICAgICAgICAgICAgICB7Zmx1ZW50X2lkfVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAge3RoaXMuc3RhdGUuY3VzdG9tV2FsbHBhcGVyRXJyb3JUeXBlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VzdG9tLXdhbGxwYXBlci1lcnJvclwiIGlkPVwiY3VzdG9tV2FsbHBhcGVyRXJyb3JcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaWNvbiBpY29uLWluZm9cIj48L3NwYW4+XG4gICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5jdXN0b21XYWxscGFwZXJFcnJvclR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmaWxlU2l6ZVwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItd2FsbHBhcGVyLWVycm9yLW1heC1maWxlLXNpemVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9e2B7XCJmaWxlX3NpemVcIjogJHt3YWxscGFwZXJVcGxvYWRNYXhGaWxlU2l6ZX19YH1cbiAgICAgICAgICAgICAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGVUeXBlXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1sMTBuLWlkPVwibmV3dGFiLXdhbGxwYXBlci1lcnJvci11cGxvYWQtZmlsZS10eXBlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPENTU1RyYW5zaXRpb25cbiAgICAgICAgICBpbj17ISFhY3RpdmVDYXRlZ29yeX1cbiAgICAgICAgICB0aW1lb3V0PXszMDB9XG4gICAgICAgICAgY2xhc3NOYW1lcz1cIndhbGxwYXBlci1saXN0XCJcbiAgICAgICAgICB1bm1vdW50T25FeGl0PXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwiY2F0ZWdvcnkgd2FsbHBhcGVyLWxpc3QgaWdub3JlLWNvbG9yLW1vZGVcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXJyb3ctYnV0dG9uXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXthY3RpdmVDYXRlZ29yeUZsdWVudElEfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUJhY2t9XG4gICAgICAgICAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFja1RvTWVudUJ1dHRvbiA9IGVsO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgcm9sZT1cImdyaWRcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiV2FsbHBhcGVyIHNlbGVjdGlvbi4gVXNlIGFycm93IGtleXMgdG8gbmF2aWdhdGUuXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICAgIHtmaWx0ZXJlZFdhbGxwYXBlcnMubWFwKFxuICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICB7IHRpdGxlLCB0aGVtZSwgZmx1ZW50X2lkLCBzb2xpZF9jb2xvciwgd2FsbHBhcGVyVXJsIH0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmICh3YWxscGFwZXJVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7d2FsbHBhcGVyVXJsfSlgO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLmJhY2tncm91bmRDb2xvciA9IHNvbGlkX2NvbG9yIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17ZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxscGFwZXJSZWZbaW5kZXhdID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB0aGlzLmhhbmRsZVdhbGxwYXBlcktleURvd24oZSwgdGl0bGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2B3YWxscGFwZXItJHt0aXRsZX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17dGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGl0bGUgPT09IGFjdGl2ZVdhbGxwYXBlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1jaGVja2VkPXt0aXRsZSA9PT0gYWN0aXZlV2FsbHBhcGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3YWxscGFwZXItaW5wdXQgdGhlbWUtJHt0aGVtZX0gJHt0aGlzLnN0YXRlLmFjdGl2ZUlkID09PSB0aXRsZSA/IFwiYWN0aXZlXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0QWN0aXZlSWQodGl0bGUpfSAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD17aW5kZXggPT09IDAgPyAwIDogLTF9IC8vdGhlIGZpcnN0IHdhbGxwYXBlciBpbiB0aGUgYXJyYXkgd2lsbCBoYXZlIGEgdGFiaW5kZXggb2YgMCBzbyB3ZSBjYW4gdGFiIGludG8gaXQuIFRoZSByZXN0IHdpbGwgaGF2ZSBhIHRhYmluZGV4IG9mIC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzci1vbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtmbHVlbnRfaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmbHVlbnRfaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2NvbG9yUGlja2VySW5wdXR9XG4gICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFdhbGxwYXBlckNhdGVnb3JpZXMgPSBjb25uZWN0KHN0YXRlID0+IHtcbiAgcmV0dXJuIHtcbiAgICBXYWxscGFwZXJzOiBzdGF0ZS5XYWxscGFwZXJzLFxuICAgIFByZWZzOiBzdGF0ZS5QcmVmcyxcbiAgfTtcbn0pKF9XYWxscGFwZXJDYXRlZ29yaWVzKTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjIH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbnNNZ210UGFuZWwgfSBmcm9tIFwiLi4vU2VjdGlvbnNNZ210UGFuZWwvU2VjdGlvbnNNZ210UGFuZWxcIjtcbmltcG9ydCB7IFdhbGxwYXBlckNhdGVnb3JpZXMgfSBmcm9tIFwiLi4vLi4vV2FsbHBhcGVyQ2F0ZWdvcmllcy9XYWxscGFwZXJDYXRlZ29yaWVzXCI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZW50U2VjdGlvbiBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdCA9IHRoaXMub25QcmVmZXJlbmNlU2VsZWN0LmJpbmQodGhpcyk7XG5cbiAgICAvLyBSZWZzIGFyZSBuZWNlc3NhcnkgZm9yIGR5bmFtaWNhbGx5IG1lYXN1cmluZyBkcmF3ZXIgaGVpZ2h0cyBmb3Igc2xpZGUgYW5pbWF0aW9uc1xuICAgIHRoaXMudG9wU2l0ZXNEcmF3ZXJSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICB0aGlzLnBvY2tldERyYXdlclJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICB9XG5cbiAgaW5wdXRVc2VyRXZlbnQoZXZlbnRTb3VyY2UsIGV2ZW50VmFsdWUpIHtcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgYWMuVXNlckV2ZW50KHtcbiAgICAgICAgZXZlbnQ6IFwiUFJFRl9DSEFOR0VEXCIsXG4gICAgICAgIHNvdXJjZTogZXZlbnRTb3VyY2UsXG4gICAgICAgIHZhbHVlOiB7IHN0YXR1czogZXZlbnRWYWx1ZSwgbWVudV9zb3VyY2U6IFwiQ1VTVE9NSVpFX01FTlVcIiB9LFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgb25QcmVmZXJlbmNlU2VsZWN0KGUpIHtcbiAgICAvLyBldmVudFNvdXJjZTogV0VBVEhFUiB8IFRPUF9TSVRFUyB8IFRPUF9TVE9SSUVTIHwgV0lER0VUX0xJU1RTIHwgV0lER0VUX1RJTUVSIHwgVFJFTkRJTkdfU0VBUkNIXG4gICAgY29uc3QgeyBwcmVmZXJlbmNlLCBldmVudFNvdXJjZSB9ID0gZS50YXJnZXQuZGF0YXNldDtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKGUudGFyZ2V0Lm5vZGVOYW1lID09PSBcIlNFTEVDVFwiKSB7XG4gICAgICB2YWx1ZSA9IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlLCAxMCk7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgICB2YWx1ZSA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICBpZiAoZXZlbnRTb3VyY2UpIHtcbiAgICAgICAgdGhpcy5pbnB1dFVzZXJFdmVudChldmVudFNvdXJjZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09IFwiTU9aLVRPR0dMRVwiKSB7XG4gICAgICB2YWx1ZSA9IGUudGFyZ2V0LnByZXNzZWQ7XG4gICAgICBpZiAoZXZlbnRTb3VyY2UpIHtcbiAgICAgICAgdGhpcy5pbnB1dFVzZXJFdmVudChldmVudFNvdXJjZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLnNldFByZWYocHJlZmVyZW5jZSwgdmFsdWUpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zZXREcmF3ZXJNYXJnaW5zKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5zZXREcmF3ZXJNYXJnaW5zKCk7XG4gIH1cblxuICBzZXREcmF3ZXJNYXJnaW5zKCkge1xuICAgIHRoaXMuc2V0RHJhd2VyTWFyZ2luKFxuICAgICAgYFRPUF9TSVRFU2AsXG4gICAgICB0aGlzLnByb3BzLmVuYWJsZWRTZWN0aW9ucy50b3BTaXRlc0VuYWJsZWRcbiAgICApO1xuICAgIHRoaXMuc2V0RHJhd2VyTWFyZ2luKFxuICAgICAgYFRPUF9TVE9SSUVTYCxcbiAgICAgIHRoaXMucHJvcHMuZW5hYmxlZFNlY3Rpb25zLnBvY2tldEVuYWJsZWRcbiAgICApO1xuICB9XG5cbiAgc2V0RHJhd2VyTWFyZ2luKGRyYXdlcklELCBpc09wZW4pIHtcbiAgICBsZXQgZHJhd2VyUmVmO1xuXG4gICAgaWYgKGRyYXdlcklEID09PSBgVE9QX1NJVEVTYCkge1xuICAgICAgZHJhd2VyUmVmID0gdGhpcy50b3BTaXRlc0RyYXdlclJlZi5jdXJyZW50O1xuICAgIH0gZWxzZSBpZiAoZHJhd2VySUQgPT09IGBUT1BfU1RPUklFU2ApIHtcbiAgICAgIGRyYXdlclJlZiA9IHRoaXMucG9ja2V0RHJhd2VyUmVmLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZHJhd2VyUmVmKSB7XG4gICAgICBsZXQgZHJhd2VySGVpZ2h0ID1cbiAgICAgICAgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkcmF3ZXJSZWYpPy5oZWlnaHQpIHx8IDA7XG5cbiAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgZHJhd2VyUmVmLnN0eWxlLm1hcmdpblRvcCA9IFwidmFyKC0tc3BhY2Utc21hbGwpXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcmF3ZXJSZWYuc3R5bGUubWFyZ2luVG9wID0gYC0ke2RyYXdlckhlaWdodCArIDN9cHhgO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBlbmFibGVkU2VjdGlvbnMsXG4gICAgICBlbmFibGVkV2lkZ2V0cyxcbiAgICAgIHBvY2tldFJlZ2lvbixcbiAgICAgIG1heUhhdmVJbmZlcnJlZFBlcnNvbmFsaXphdGlvbixcbiAgICAgIG1heUhhdmVXZWF0aGVyLFxuICAgICAgbWF5SGF2ZVRyZW5kaW5nU2VhcmNoLFxuICAgICAgbWF5SGF2ZVdpZGdldHMsXG4gICAgICBtYXlIYXZlVGltZXJXaWRnZXQsXG4gICAgICBtYXlIYXZlTGlzdHNXaWRnZXQsXG4gICAgICBvcGVuUHJlZmVyZW5jZXMsXG4gICAgICB3YWxscGFwZXJzRW5hYmxlZCxcbiAgICAgIGFjdGl2ZVdhbGxwYXBlcixcbiAgICAgIHNldFByZWYsXG4gICAgICBtYXlIYXZlVG9waWNTZWN0aW9ucyxcbiAgICAgIGV4aXRFdmVudEZpcmVkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtcbiAgICAgIHRvcFNpdGVzRW5hYmxlZCxcbiAgICAgIHBvY2tldEVuYWJsZWQsXG4gICAgICB3ZWF0aGVyRW5hYmxlZCxcbiAgICAgIHRyZW5kaW5nU2VhcmNoRW5hYmxlZCxcbiAgICAgIHNob3dJbmZlcnJlZFBlcnNvbmFsaXphdGlvbkVuYWJsZWQsXG4gICAgICB0b3BTaXRlc1Jvd3NDb3VudCxcbiAgICB9ID0gZW5hYmxlZFNlY3Rpb25zO1xuICAgIGNvbnN0IHsgdGltZXJFbmFibGVkLCBsaXN0c0VuYWJsZWQgfSA9IGVuYWJsZWRXaWRnZXRzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaG9tZS1zZWN0aW9uXCI+XG4gICAgICAgIHt3YWxscGFwZXJzRW5hYmxlZCAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2FsbHBhcGVycy1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgIDxXYWxscGFwZXJDYXRlZ29yaWVzXG4gICAgICAgICAgICAgICAgc2V0UHJlZj17c2V0UHJlZn1cbiAgICAgICAgICAgICAgICBhY3RpdmVXYWxscGFwZXI9e2FjdGl2ZVdhbGxwYXBlcn1cbiAgICAgICAgICAgICAgICBleGl0RXZlbnRGaXJlZD17ZXhpdEV2ZW50RmlyZWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvKiBJZiB3aWRnZXRzIHNlY3Rpb24gaXMgdmlzaWJsZSwgaGlkZSB0aGlzIGRpdmlkZXIgKi99XG4gICAgICAgICAgICB7IW1heUhhdmVXaWRnZXRzICYmIChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGl2aWRlclwiIHJvbGU9XCJzZXBhcmF0b3JcIj48L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgICB7bWF5SGF2ZVdpZGdldHMgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2lkZ2V0cy1zZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWhlYWRlclwiPlxuICAgICAgICAgICAgICA8aDIgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS13aWRnZXQtc2VjdGlvbi10aXRsZVwiPjwvaDI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3Mtd2lkZ2V0c1wiPlxuICAgICAgICAgICAgICB7LyogV2VhdGhlciAqL31cbiAgICAgICAgICAgICAge21heUhhdmVXZWF0aGVyICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwid2VhdGhlci1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJ3ZWF0aGVyLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgIHByZXNzZWQ9e3dlYXRoZXJFbmFibGVkIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wcmVmZXJlbmNlPVwic2hvd1dlYXRoZXJcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWV2ZW50U291cmNlPVwiV0VBVEhFUlwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20td2lkZ2V0LXdlYXRoZXItdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgey8qIExpc3RzICovfVxuICAgICAgICAgICAgICB7bWF5SGF2ZUxpc3RzV2lkZ2V0ICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibGlzdHMtd2lkZ2V0LXNlY3Rpb25cIiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICBpZD1cImxpc3RzLXRvZ2dsZVwiXG4gICAgICAgICAgICAgICAgICAgIHByZXNzZWQ9e2xpc3RzRW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cIndpZGdldHMubGlzdHMuZW5hYmxlZFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtZXZlbnRTb3VyY2U9XCJXSURHRVRfTElTVFNcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXdpZGdldC1saXN0cy10b2dnbGVcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogVGltZXIgKi99XG4gICAgICAgICAgICAgIHttYXlIYXZlVGltZXJXaWRnZXQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0aW1lci13aWRnZXQtc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIDxtb3otdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIGlkPVwidGltZXItdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgcHJlc3NlZD17dGltZXJFbmFibGVkIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wcmVmZXJlbmNlPVwid2lkZ2V0cy5mb2N1c1RpbWVyLmVuYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWV2ZW50U291cmNlPVwiV0lER0VUX1RJTUVSXCJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS13aWRnZXQtdGltZXItdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgey8qIFRyZW5kaW5nIFNlYXJjaCAqL31cbiAgICAgICAgICAgICAge21heUhhdmVUcmVuZGluZ1NlYXJjaCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cInRyZW5kaW5nLXNlYXJjaC1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0cmVuZGluZy1zZWFyY2gtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgICAgcHJlc3NlZD17dHJlbmRpbmdTZWFyY2hFbmFibGVkIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wcmVmZXJlbmNlPVwidHJlbmRpbmdTZWFyY2guZW5hYmxlZFwiXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtZXZlbnRTb3VyY2U9XCJUUkVORElOR19TRUFSQ0hcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXdpZGdldC10cmVuZGluZy1zZWFyY2gtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRpdmlkZXJcIiByb2xlPVwic2VwYXJhdG9yXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtdG9nZ2xlc1wiPlxuICAgICAgICAgIHsvKiBOb3RlOiBJZiB3aWRnZXRzIGFyZSBlbmFibGVkLCB0aGUgd2VhdGhlciB0b2dnbGUgd2lsbCBiZSBtb3ZlZCB1bmRlciBXaWRnZXRzIHN1YnNlY3Rpb24gKi99XG4gICAgICAgICAgeyFtYXlIYXZlV2lkZ2V0cyAmJiBtYXlIYXZlV2VhdGhlciAmJiAoXG4gICAgICAgICAgICA8ZGl2IGlkPVwid2VhdGhlci1zZWN0aW9uXCIgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgICA8bW96LXRvZ2dsZVxuICAgICAgICAgICAgICAgIGlkPVwid2VhdGhlci10b2dnbGVcIlxuICAgICAgICAgICAgICAgIHByZXNzZWQ9e3dlYXRoZXJFbmFibGVkIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgb25Ub2dnbGU9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cInNob3dXZWF0aGVyXCJcbiAgICAgICAgICAgICAgICBkYXRhLWV2ZW50U291cmNlPVwiV0VBVEhFUlwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS13ZWF0aGVyLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIE5vdGU6IElmIHdpZGdldHMgYXJlIGVuYWJsZWQsIHRoZSB0cmVuZGluZyBzZWFyY2ggdG9nZ2xlIHdpbGwgYmUgbW92ZWQgdW5kZXIgV2lkZ2V0cyBzdWJzZWN0aW9uICovfVxuICAgICAgICAgIHshbWF5SGF2ZVdpZGdldHMgJiYgbWF5SGF2ZVRyZW5kaW5nU2VhcmNoICYmIChcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ0cmVuZGluZy1zZWFyY2gtc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgPG1vei10b2dnbGVcbiAgICAgICAgICAgICAgICBpZD1cInRyZW5kaW5nLXNlYXJjaC10b2dnbGVcIlxuICAgICAgICAgICAgICAgIHByZXNzZWQ9e3RyZW5kaW5nU2VhcmNoRW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICBkYXRhLXByZWZlcmVuY2U9XCJ0cmVuZGluZ1NlYXJjaC5lbmFibGVkXCJcbiAgICAgICAgICAgICAgICBkYXRhLWV2ZW50U291cmNlPVwiVFJFTkRJTkdfU0VBUkNIXCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXRyZW5kaW5nLXNlYXJjaC10b2dnbGVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxkaXYgaWQ9XCJzaG9ydGN1dHMtc2VjdGlvblwiIGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxtb3otdG9nZ2xlXG4gICAgICAgICAgICAgIGlkPVwic2hvcnRjdXRzLXRvZ2dsZVwiXG4gICAgICAgICAgICAgIHByZXNzZWQ9e3RvcFNpdGVzRW5hYmxlZCB8fCBudWxsfVxuICAgICAgICAgICAgICBvblRvZ2dsZT17dGhpcy5vblByZWZlcmVuY2VTZWxlY3R9XG4gICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cImZlZWRzLnRvcHNpdGVzXCJcbiAgICAgICAgICAgICAgZGF0YS1ldmVudFNvdXJjZT1cIlRPUF9TSVRFU1wiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tc2hvcnRjdXRzLXRvZ2dsZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgc2xvdD1cIm5lc3RlZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9yZS1pbmZvLXRvcC13cmFwcGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1vcmUtaW5mb3JtYXRpb25cIlxuICAgICAgICAgICAgICAgICAgICByZWY9e3RoaXMudG9wU2l0ZXNEcmF3ZXJSZWZ9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cInJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJyb3ctY291bnRcIlxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcHJlZmVyZW5jZT1cInRvcFNpdGVzUm93c1wiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RvcFNpdGVzUm93c0NvdW50fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uUHJlZmVyZW5jZVNlbGVjdH1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRvcFNpdGVzRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJjdXN0b20tc2hvcnRjdXRzLXRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wibnVtXCI6IDF9J1xuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b20tcm93LXNlbGVjdG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPSd7XCJudW1cIjogMn0nXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIjNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1yb3ctc2VsZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWFyZ3M9J3tcIm51bVwiOiAzfSdcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXJvdy1zZWxlY3RvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWwxMG4tYXJncz0ne1wibnVtXCI6IDR9J1xuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9tb3otdG9nZ2xlPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAge3BvY2tldFJlZ2lvbiAmJiAoXG4gICAgICAgICAgICA8ZGl2IGlkPVwicG9ja2V0LXNlY3Rpb25cIiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgIDxtb3otdG9nZ2xlXG4gICAgICAgICAgICAgICAgaWQ9XCJwb2NrZXQtdG9nZ2xlXCJcbiAgICAgICAgICAgICAgICBwcmVzc2VkPXtwb2NrZXRFbmFibGVkIHx8IG51bGx9XG4gICAgICAgICAgICAgICAgb25Ub2dnbGU9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJjdXN0b20tcG9ja2V0LXN1YnRpdGxlXCJcbiAgICAgICAgICAgICAgICBkYXRhLXByZWZlcmVuY2U9XCJmZWVkcy5zZWN0aW9uLnRvcHN0b3JpZXNcIlxuICAgICAgICAgICAgICAgIGRhdGEtZXZlbnRTb3VyY2U9XCJUT1BfU1RPUklFU1wiXG4gICAgICAgICAgICAgICAgey4uLihtYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb25cbiAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1sMTBuLWlkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5ld3RhYi1jdXN0b20tc3Rvcmllcy1wZXJzb25hbGl6ZWQtdG9nZ2xlXCIsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1sMTBuLWlkXCI6IFwibmV3dGFiLWN1c3RvbS1zdG9yaWVzLXRvZ2dsZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXYgc2xvdD1cIm5lc3RlZFwiPlxuICAgICAgICAgICAgICAgICAgeyhtYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb24gfHwgbWF5SGF2ZVRvcGljU2VjdGlvbnMpICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb3JlLWluZm8tcG9ja2V0LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtb3JlLWluZm9ybWF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5wb2NrZXREcmF3ZXJSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge21heUhhdmVJbmZlcnJlZFBlcnNvbmFsaXphdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2std3JhcHBlclwiIHJvbGU9XCJwcmVzZW50YXRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaW5mZXJyZWQtcGVyc29uYWxpemF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbWl6ZS1tZW51LWNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshcG9ja2V0RW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3Nob3dJbmZlcnJlZFBlcnNvbmFsaXphdGlvbkVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25QcmVmZXJlbmNlU2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wcmVmZXJlbmNlPVwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLnBlcnNvbmFsaXphdGlvbi5pbmZlcnJlZC51c2VyLmVuYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1ldmVudFNvdXJjZT1cIklORkVSUkVEX1BFUlNPTkFMSVpBVElPTlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbWl6ZS1tZW51LWNoZWNrYm94LWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9XCJpbmZlcnJlZC1wZXJzb25hbGl6YXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbS1zdG9yaWVzLXBlcnNvbmFsaXplZC1jaGVja2JveC1sYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge21heUhhdmVUb3BpY1NlY3Rpb25zICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlY3Rpb25zTWdtdFBhbmVsIGV4aXRFdmVudEZpcmVkPXtleGl0RXZlbnRGaXJlZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9tb3otdG9nZ2xlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGl2aWRlclwiIHJvbGU9XCJzZXBhcmF0b3JcIj48L3NwYW4+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBpZD1cInNldHRpbmdzLWxpbmtcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZXh0ZXJuYWwtbGlua1wiXG4gICAgICAgICAgICBvbkNsaWNrPXtvcGVuUHJlZmVyZW5jZXN9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLXNldHRpbmdzXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IENvbnRlbnRTZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvQ3VzdG9taXplTWVudS9Db250ZW50U2VjdGlvbi9Db250ZW50U2VjdGlvblwiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiB9IGZyb20gXCJyZWFjdC10cmFuc2l0aW9uLWdyb3VwXCI7XG5cbmV4cG9ydCBjbGFzcyBfQ3VzdG9taXplTWVudSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uRW50ZXJlZCA9IHRoaXMub25FbnRlcmVkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkV4aXRlZCA9IHRoaXMub25FeGl0ZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZXhpdEV2ZW50RmlyZWQ6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBvbkVudGVyZWQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGV4aXRFdmVudEZpcmVkOiBmYWxzZSB9KTtcbiAgICBpZiAodGhpcy5jbG9zZUJ1dHRvbikge1xuICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIG9uRXhpdGVkKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBleGl0RXZlbnRGaXJlZDogdHJ1ZSB9KTtcbiAgICBpZiAodGhpcy5vcGVuQnV0dG9uKSB7XG4gICAgICB0aGlzLm9wZW5CdXR0b24uZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuPlxuICAgICAgICA8Q1NTVHJhbnNpdGlvblxuICAgICAgICAgIHRpbWVvdXQ9ezMwMH1cbiAgICAgICAgICBjbGFzc05hbWVzPVwicGVyc29uYWxpemUtYW5pbWF0ZVwiXG4gICAgICAgICAgaW49eyF0aGlzLnByb3BzLnNob3dpbmd9XG4gICAgICAgICAgYXBwZWFyPXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicGVyc29uYWxpemUtYnV0dG9uXCJcbiAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1jdXN0b21pemUtcGFuZWwtaWNvbi1idXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wcm9wcy5vbk9wZW4oKX1cbiAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7XG4gICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk9wZW4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHJlZj17YyA9PiAodGhpcy5vcGVuQnV0dG9uID0gYyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuICAgICAgICAgICAgICAgIHNyYz1cImNocm9tZTovL2dsb2JhbC9za2luL2ljb25zL2VkaXQtb3V0bGluZS5zdmdcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8bGFiZWwgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWN1c3RvbWl6ZS1wYW5lbC1pY29uLWJ1dHRvbi1sYWJlbFwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvQ1NTVHJhbnNpdGlvbj5cbiAgICAgICAgPENTU1RyYW5zaXRpb25cbiAgICAgICAgICB0aW1lb3V0PXsyNTB9XG4gICAgICAgICAgY2xhc3NOYW1lcz1cImN1c3RvbWl6ZS1hbmltYXRlXCJcbiAgICAgICAgICBpbj17dGhpcy5wcm9wcy5zaG93aW5nfVxuICAgICAgICAgIG9uRW50ZXJlZD17dGhpcy5vbkVudGVyZWR9XG4gICAgICAgICAgb25FeGl0ZWQ9e3RoaXMub25FeGl0ZWR9XG4gICAgICAgICAgYXBwZWFyPXt0cnVlfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3VzdG9taXplLW1lbnVcIlxuICAgICAgICAgICAgcm9sZT1cImRpYWxvZ1wiXG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItc2V0dGluZ3MtZGlhbG9nLWxhYmVsXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsb3NlLWJ1dHRvbi13cmFwcGVyXCI+XG4gICAgICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5wcm9wcy5vbkNsb3NlKCl9XG4gICAgICAgICAgICAgICAgaWQ9XCJjbG9zZS1idXR0b25cIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJpY29uIGdob3N0XCJcbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItY3VzdG9tLWNsb3NlLW1lbnUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICBpY29uc3JjPVwiY2hyb21lOi8vZ2xvYmFsL3NraW4vaWNvbnMvY2xvc2Uuc3ZnXCJcbiAgICAgICAgICAgICAgICByZWY9e2MgPT4gKHRoaXMuY2xvc2VCdXR0b24gPSBjKX1cbiAgICAgICAgICAgICAgPjwvbW96LWJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPENvbnRlbnRTZWN0aW9uXG4gICAgICAgICAgICAgIG9wZW5QcmVmZXJlbmNlcz17dGhpcy5wcm9wcy5vcGVuUHJlZmVyZW5jZXN9XG4gICAgICAgICAgICAgIHNldFByZWY9e3RoaXMucHJvcHMuc2V0UHJlZn1cbiAgICAgICAgICAgICAgZW5hYmxlZFNlY3Rpb25zPXt0aGlzLnByb3BzLmVuYWJsZWRTZWN0aW9uc31cbiAgICAgICAgICAgICAgZW5hYmxlZFdpZGdldHM9e3RoaXMucHJvcHMuZW5hYmxlZFdpZGdldHN9XG4gICAgICAgICAgICAgIHdhbGxwYXBlcnNFbmFibGVkPXt0aGlzLnByb3BzLndhbGxwYXBlcnNFbmFibGVkfVxuICAgICAgICAgICAgICBhY3RpdmVXYWxscGFwZXI9e3RoaXMucHJvcHMuYWN0aXZlV2FsbHBhcGVyfVxuICAgICAgICAgICAgICBwb2NrZXRSZWdpb249e3RoaXMucHJvcHMucG9ja2V0UmVnaW9ufVxuICAgICAgICAgICAgICBtYXlIYXZlVG9waWNTZWN0aW9ucz17dGhpcy5wcm9wcy5tYXlIYXZlVG9waWNTZWN0aW9uc31cbiAgICAgICAgICAgICAgbWF5SGF2ZUluZmVycmVkUGVyc29uYWxpemF0aW9uPXtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm1heUhhdmVJbmZlcnJlZFBlcnNvbmFsaXphdGlvblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1heUhhdmVXZWF0aGVyPXt0aGlzLnByb3BzLm1heUhhdmVXZWF0aGVyfVxuICAgICAgICAgICAgICBtYXlIYXZlVHJlbmRpbmdTZWFyY2g9e3RoaXMucHJvcHMubWF5SGF2ZVRyZW5kaW5nU2VhcmNofVxuICAgICAgICAgICAgICBtYXlIYXZlV2lkZ2V0cz17dGhpcy5wcm9wcy5tYXlIYXZlV2lkZ2V0c31cbiAgICAgICAgICAgICAgbWF5SGF2ZVRpbWVyV2lkZ2V0PXt0aGlzLnByb3BzLm1heUhhdmVUaW1lcldpZGdldH1cbiAgICAgICAgICAgICAgbWF5SGF2ZUxpc3RzV2lkZ2V0PXt0aGlzLnByb3BzLm1heUhhdmVMaXN0c1dpZGdldH1cbiAgICAgICAgICAgICAgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIGV4aXRFdmVudEZpcmVkPXt0aGlzLnN0YXRlLmV4aXRFdmVudEZpcmVkfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DU1NUcmFuc2l0aW9uPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IEN1c3RvbWl6ZU1lbnUgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIERpc2NvdmVyeVN0cmVhbTogc3RhdGUuRGlzY292ZXJ5U3RyZWFtLFxufSkpKF9DdXN0b21pemVNZW51KTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmV4cG9ydCBjb25zdCBJU19ORVdUQUIgPVxuICBnbG9iYWxUaGlzLmRvY3VtZW50ICYmIGdsb2JhbFRoaXMuZG9jdW1lbnQuZG9jdW1lbnRVUkkgPT09IFwiYWJvdXQ6bmV3dGFiXCI7XG5leHBvcnQgY29uc3QgTkVXVEFCX0RBUktfVEhFTUUgPSB7XG4gIG50cF9iYWNrZ3JvdW5kOiB7XG4gICAgcjogNDIsXG4gICAgZzogNDIsXG4gICAgYjogNDYsXG4gICAgYTogMSxcbiAgfSxcbiAgbnRwX2NhcmRfYmFja2dyb3VuZDoge1xuICAgIHI6IDY2LFxuICAgIGc6IDY1LFxuICAgIGI6IDc3LFxuICAgIGE6IDEsXG4gIH0sXG4gIG50cF90ZXh0OiB7XG4gICAgcjogMjQ5LFxuICAgIGc6IDI0OSxcbiAgICBiOiAyNTAsXG4gICAgYTogMSxcbiAgfSxcbiAgc2lkZWJhcjoge1xuICAgIHI6IDU2LFxuICAgIGc6IDU2LFxuICAgIGI6IDYxLFxuICAgIGE6IDEsXG4gIH0sXG4gIHNpZGViYXJfdGV4dDoge1xuICAgIHI6IDI0OSxcbiAgICBnOiAyNDksXG4gICAgYjogMjUwLFxuICAgIGE6IDEsXG4gIH0sXG59O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBMb2dvKCkge1xuICByZXR1cm4gKFxuICAgIDxoMSBjbGFzc05hbWU9XCJsb2dvLWFuZC13b3JkbWFyay13cmFwcGVyXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImxvZ28tYW5kLXdvcmRtYXJrXCJcbiAgICAgICAgcm9sZT1cImltZ1wiXG4gICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1sb2dvLWFuZC13b3JkbWFya1wiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9nb1wiIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid29yZG1hcmtcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9oMT5cbiAgKTtcbn1cblxuZXhwb3J0IHsgTG9nbyB9O1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuLyogZ2xvYmFscyBDb250ZW50U2VhcmNoVUlDb250cm9sbGVyLCBDb250ZW50U2VhcmNoSGFuZG9mZlVJQ29udHJvbGxlciAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBJU19ORVdUQUIgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTG9nbyB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL0xvZ28vTG9nb1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVHJlbmRpbmdTZWFyY2hlcyB9IGZyb20gXCIuLi9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL1RyZW5kaW5nU2VhcmNoZXMvVHJlbmRpbmdTZWFyY2hlc1wiO1xuXG5leHBvcnQgY2xhc3MgX1NlYXJjaCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9uU2VhcmNoQ2xpY2sgPSB0aGlzLm9uU2VhcmNoQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VhcmNoSGFuZG9mZkNsaWNrID0gdGhpcy5vblNlYXJjaEhhbmRvZmZDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmUGFzdGUgPSB0aGlzLm9uU2VhcmNoSGFuZG9mZlBhc3RlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblNlYXJjaEhhbmRvZmZEcm9wID0gdGhpcy5vblNlYXJjaEhhbmRvZmZEcm9wLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbklucHV0TW91bnQgPSB0aGlzLm9uSW5wdXRNb3VudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25JbnB1dE1vdW50SGFuZG9mZiA9IHRoaXMub25JbnB1dE1vdW50SGFuZG9mZi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWFyY2hIYW5kb2ZmQnV0dG9uTW91bnQgPVxuICAgICAgdGhpcy5vblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAvLyBBbHNvIHRyYWNrIHNlYXJjaCBldmVudHMgd2l0aCBvdXIgb3duIHRlbGVtZXRyeVxuICAgIGlmIChldmVudC5kZXRhaWwudHlwZSA9PT0gXCJTZWFyY2hcIikge1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJTRUFSQ0hcIiB9KSk7XG4gICAgfVxuICB9XG5cbiAgb25TZWFyY2hDbGljayhldmVudCkge1xuICAgIHdpbmRvdy5nQ29udGVudFNlYXJjaENvbnRyb2xsZXIuc2VhcmNoKGV2ZW50KTtcbiAgfVxuXG4gIGRvU2VhcmNoSGFuZG9mZih0ZXh0KSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5IQU5ET0ZGX1NFQVJDSF9UT19BV0VTT01FQkFSLCBkYXRhOiB7IHRleHQgfSB9KVxuICAgICk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LkZBS0VfRk9DVVNfU0VBUkNIIH0pO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiU0VBUkNIX0hBTkRPRkZcIiB9KSk7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5ESVNBQkxFX1NFQVJDSCB9KTtcbiAgICB9XG4gIH1cblxuICBvblNlYXJjaEhhbmRvZmZDbGljayhldmVudCkge1xuICAgIC8vIFdoZW4gc2VhcmNoIGhhbmQtb2ZmIGlzIGVuYWJsZWQsIHdlIHJlbmRlciBhIGJpZyBidXR0b24gdGhhdCBpcyBzdHlsZWQgdG9cbiAgICAvLyBsb29rIGxpa2UgYSBzZWFyY2ggdGV4dGJveC4gSWYgdGhlIGJ1dHRvbiBpcyBjbGlja2VkLCB3ZSBzdHlsZVxuICAgIC8vIHRoZSBidXR0b24gYXMgaWYgaXQgd2FzIGEgZm9jdXNlZCBzZWFyY2ggYm94IGFuZCBzaG93IGEgZmFrZSBjdXJzb3IgYnV0XG4gICAgLy8gcmVhbGx5IGZvY3VzIHRoZSBhd2Vzb21lYmFyIHdpdGhvdXQgdGhlIGZvY3VzIHN0eWxlcyAoXCJoaWRkZW4gZm9jdXNcIikuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmRvU2VhcmNoSGFuZG9mZigpO1xuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmUGFzdGUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuZG9TZWFyY2hIYW5kb2ZmKGV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikpO1xuICB9XG5cbiAgb25TZWFyY2hIYW5kb2ZmRHJvcChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IHRleHQgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHRcIik7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIHRoaXMuZG9TZWFyY2hIYW5kb2ZmKHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IGNhcmV0ID0gdGhpcy5mYWtlQ2FyZXQ7XG4gICAgY29uc3QgeyBjYXJldEJsaW5rQ291bnQsIGNhcmV0QmxpbmtUaW1lIH0gPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcblxuICAgIGlmIChjYXJldCkge1xuICAgICAgLy8gSWYgY2FyZXQgYmxpbmsgY291bnQgaXNuJ3QgZGVmaW5lZCwgdXNlIHRoZSBkZWZhdWx0IGluZmluaXRlIGJlaGF2aW9yIGZvciBhbmltYXRpb25cbiAgICAgIGNhcmV0LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICBcIi0tY2FyZXQtYmxpbmstY291bnRcIixcbiAgICAgICAgY2FyZXRCbGlua0NvdW50ID4gLTEgPyBjYXJldEJsaW5rQ291bnQgOiBcImluZmluaXRlXCJcbiAgICAgICk7XG5cbiAgICAgIC8vIEFwcGx5IGN1c3RvbSBibGluayByYXRlIGlmIHNldCwgZWxzZSBmYWxsYmFjayB0byBkZWZhdWx0ICg1NjdtcyBvbi9vZmYgLS0+IDExMzRtcyB0b3RhbClcbiAgICAgIGNhcmV0LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICBcIi0tY2FyZXQtYmxpbmstdGltZVwiLFxuICAgICAgICBjYXJldEJsaW5rVGltZSA+IDAgPyBgJHtjYXJldEJsaW5rVGltZSAqIDJ9bXNgIDogYCR7MTEzNH1tc2BcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgZGVsZXRlIHdpbmRvdy5nQ29udGVudFNlYXJjaENvbnRyb2xsZXI7XG4gIH1cblxuICBvbklucHV0TW91bnQoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIC8vIFRoZSBcImhlYWx0aFJlcG9ydEtleVwiIGFuZCBuZWVkcyB0byBiZSBcIm5ld3RhYlwiIG9yIFwiYWJvdXRob21lXCIgc28gdGhhdFxuICAgICAgLy8gQnJvd3NlclVzYWdlVGVsZW1ldHJ5LnN5cy5tanMga25vd3MgdG8gaGFuZGxlIGV2ZW50cyB3aXRoIHRoaXMgbmFtZSwgYW5kXG4gICAgICAvLyBjYW4gYWRkIHRoZSBhcHByb3ByaWF0ZSB0ZWxlbWV0cnkgcHJvYmVzIGZvciBzZWFyY2guIFdpdGhvdXQgdGhlIGNvcnJlY3RcbiAgICAgIC8vIG5hbWUsIGNlcnRhaW4gdGVzdHMgbGlrZSBicm93c2VyX1VzYWdlVGVsZW1ldHJ5X2NvbnRlbnQuanMgd2lsbCBmYWlsXG4gICAgICAvLyAoU2VlIGdpdGh1YiB0aWNrZXQgIzIzNDggZm9yIG1vcmUgZGV0YWlscylcbiAgICAgIGNvbnN0IGhlYWx0aFJlcG9ydEtleSA9IElTX05FV1RBQiA/IFwibmV3dGFiXCIgOiBcImFib3V0aG9tZVwiO1xuXG4gICAgICAvLyBnQ29udGVudFNlYXJjaENvbnRyb2xsZXIgbmVlZHMgdG8gZXhpc3QgYXMgYSBnbG9iYWwgc28gdGhhdCB0ZXN0cyBmb3JcbiAgICAgIC8vIHRoZSBleGlzdGluZyBhYm91dDpob21lIGNhbiBmaW5kIGl0OyBhbmQgc28gaXQgYWxsb3dzIHRoZXNlIHRlc3RzIHRvIHBhc3MuXG4gICAgICAvLyBJbiB0aGUgZnV0dXJlLCB3aGVuIGFjdGl2aXR5IHN0cmVhbSBpcyBkZWZhdWx0IGFib3V0OmhvbWUsIHRoaXMgY2FuIGJlIHJlbmFtZWRcbiAgICAgIHdpbmRvdy5nQ29udGVudFNlYXJjaENvbnRyb2xsZXIgPSBuZXcgQ29udGVudFNlYXJjaFVJQ29udHJvbGxlcihcbiAgICAgICAgaW5wdXQsXG4gICAgICAgIGlucHV0LnBhcmVudE5vZGUsXG4gICAgICAgIGhlYWx0aFJlcG9ydEtleVxuICAgICAgKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJDb250ZW50U2VhcmNoQ2xpZW50XCIsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyID0gbnVsbDtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJDb250ZW50U2VhcmNoQ2xpZW50XCIsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIG9uSW5wdXRNb3VudEhhbmRvZmYoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIC8vIFRoZSBoYW5kb2ZmIFVJIGNvbnRyb2xsZXIgaGVscHMgdXMgc2V0IHRoZSBzZWFyY2ggaWNvbiBhbmQgcmVhY3RzIHRvXG4gICAgICAvLyBjaGFuZ2VzIHRvIGRlZmF1bHQgZW5naW5lIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jLlxuICAgICAgdGhpcy5faGFuZG9mZlNlYXJjaENvbnRyb2xsZXIgPSBuZXcgQ29udGVudFNlYXJjaEhhbmRvZmZVSUNvbnRyb2xsZXIoKTtcbiAgICB9XG4gIH1cblxuICBvblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudChidXR0b24pIHtcbiAgICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZm9yIHVzZSBkdXJpbmcgXCJwYXN0ZVwiIGV2ZW50IGhhbmRsaW5nLlxuICAgIHRoaXMuX3NlYXJjaEhhbmRvZmZCdXR0b24gPSBidXR0b247XG4gIH1cblxuICAvKlxuICAgKiBEbyBub3QgY2hhbmdlIHRoZSBJRCBvbiB0aGUgaW5wdXQgZmllbGQsIGFzIGxlZ2FjeSBuZXd0YWIgY29kZVxuICAgKiBzcGVjaWZpY2FsbHkgbG9va3MgZm9yIHRoZSBpZCAnbmV3dGFiLXNlYXJjaC10ZXh0JyBvbiBpbnB1dCBmaWVsZHNcbiAgICogaW4gb3JkZXIgdG8gZXhlY3V0ZSBzZWFyY2hlcyBpbiB2YXJpb3VzIHRlc3RzXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgd3JhcHBlckNsYXNzTmFtZSA9IFtcbiAgICAgIFwic2VhcmNoLXdyYXBwZXJcIixcbiAgICAgIHRoaXMucHJvcHMuZGlzYWJsZSAmJiBcInNlYXJjaC1kaXNhYmxlZFwiLFxuICAgICAgdGhpcy5wcm9wcy5mYWtlRm9jdXMgJiYgXCJmYWtlLWZvY3VzXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcblxuICAgIGNvbnN0IHRyZW5kaW5nU2VhcmNoRW5hYmxlZCA9XG4gICAgICBwcmVmc1tcInRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIl0gJiZcbiAgICAgIHByZWZzW1wic3lzdGVtLnRyZW5kaW5nU2VhcmNoLmVuYWJsZWRcIl0gJiZcbiAgICAgIHByZWZzW1widHJlbmRpbmdTZWFyY2guZGVmYXVsdFNlYXJjaEVuZ2luZVwiXT8udG9Mb3dlckNhc2UoKSA9PT0gXCJnb29nbGVcIjtcblxuICAgIGNvbnN0IHRyZW5kaW5nU2VhcmNoVmFyaWFudCA9XG4gICAgICB0aGlzLnByb3BzLlByZWZzLnZhbHVlc1tcInRyZW5kaW5nU2VhcmNoLnZhcmlhbnRcIl07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3dyYXBwZXJDbGFzc05hbWV9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLnNob3dMb2dvICYmIDxMb2dvIC8+fVxuICAgICAgICAgIHshdGhpcy5wcm9wcy5oYW5kb2ZmRW5hYmxlZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1pbm5lci13cmFwcGVyIG5vLWhhbmRvZmZcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJuZXd0YWItc2VhcmNoLXRleHRcIlxuICAgICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1zZWFyY2gtYm94LWlucHV0XCJcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyNTZcIlxuICAgICAgICAgICAgICAgIHJlZj17dGhpcy5vbklucHV0TW91bnR9XG4gICAgICAgICAgICAgICAgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBpZD1cInNlYXJjaFN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VhcmNoLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXNlYXJjaC1ib3gtc2VhcmNoLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNlYXJjaENsaWNrfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7dHJlbmRpbmdTZWFyY2hFbmFibGVkICYmXG4gICAgICAgICAgICAgICAgKHRyZW5kaW5nU2VhcmNoVmFyaWFudCA9PT0gXCJhXCIgfHxcbiAgICAgICAgICAgICAgICAgIHRyZW5kaW5nU2VhcmNoVmFyaWFudCA9PT0gXCJjXCIpICYmIDxUcmVuZGluZ1NlYXJjaGVzIC8+fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5oYW5kb2ZmRW5hYmxlZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlYXJjaC1pbm5lci13cmFwcGVyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWFyY2gtaGFuZG9mZi1idXR0b25cIlxuICAgICAgICAgICAgICAgIHJlZj17dGhpcy5vblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uU2VhcmNoSGFuZG9mZkNsaWNrfVxuICAgICAgICAgICAgICAgIHRhYkluZGV4PVwiLTFcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmYWtlLXRleHRib3hcIiAvPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInNlYXJjaFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmYWtlLWVkaXRhYmxlXCJcbiAgICAgICAgICAgICAgICAgIHRhYkluZGV4PVwiLTFcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgIG9uRHJvcD17dGhpcy5vblNlYXJjaEhhbmRvZmZEcm9wfVxuICAgICAgICAgICAgICAgICAgb25QYXN0ZT17dGhpcy5vblNlYXJjaEhhbmRvZmZQYXN0ZX1cbiAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5vbklucHV0TW91bnRIYW5kb2ZmfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmFrZS1jYXJldFwiXG4gICAgICAgICAgICAgICAgICByZWY9e2VsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWtlQ2FyZXQgPSBlbDtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHt0cmVuZGluZ1NlYXJjaEVuYWJsZWQgJiZcbiAgICAgICAgICAgICAgICAodHJlbmRpbmdTZWFyY2hWYXJpYW50ID09PSBcImFcIiB8fFxuICAgICAgICAgICAgICAgICAgdHJlbmRpbmdTZWFyY2hWYXJpYW50ID09PSBcImNcIikgJiYgPFRyZW5kaW5nU2VhcmNoZXMgLz59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IFNlYXJjaCA9IGNvbm5lY3Qoc3RhdGUgPT4gKHtcbiAgUHJlZnM6IHN0YXRlLlByZWZzLFxufSkpKF9TZWFyY2gpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBEb3dubG9hZE1vZGFsVG9nZ2xlKHsgb25DbGljaywgaXNBY3RpdmUgfSkge1xuICByZXR1cm4gKFxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzTmFtZT17YG1vYmlsZS1kb3dubG9hZC1wcm9tbyAke2lzQWN0aXZlID8gXCIgaXMtYWN0aXZlXCIgOiBcIlwifWB9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWRldmljZS1waG9uZVwiPjwvZGl2PlxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuXG5leHBvcnQgeyBEb3dubG9hZE1vZGFsVG9nZ2xlIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcblxuZnVuY3Rpb24gVGh1bWJVcFRodW1iRG93blRvYXN0KHsgb25EaXNtaXNzQ2xpY2ssIG9uQW5pbWF0aW9uRW5kIH0pIHtcbiAgY29uc3QgbW96TWVzc2FnZUJhclJlZiA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudDogbW96TWVzc2FnZUJhckVsZW1lbnQgfSA9IG1vek1lc3NhZ2VCYXJSZWY7XG5cbiAgICBtb3pNZXNzYWdlQmFyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJtZXNzYWdlLWJhcjp1c2VyLWRpc21pc3NlZFwiLFxuICAgICAgb25EaXNtaXNzQ2xpY2ssXG4gICAgICB7XG4gICAgICAgIG9uY2U6IHRydWUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtb3pNZXNzYWdlQmFyRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1lc3NhZ2UtYmFyOnVzZXItZGlzbWlzc2VkXCIsXG4gICAgICAgIG9uRGlzbWlzc0NsaWNrXG4gICAgICApO1xuICAgIH07XG4gIH0sIFtvbkRpc21pc3NDbGlja10pO1xuXG4gIHJldHVybiAoXG4gICAgPG1vei1tZXNzYWdlLWJhclxuICAgICAgdHlwZT1cInN1Y2Nlc3NcIlxuICAgICAgY2xhc3M9XCJub3RpZmljYXRpb24tZmVlZC1pdGVtXCJcbiAgICAgIGRpc21pc3NhYmxlPXt0cnVlfVxuICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvYXN0LXRodW1icy11cC1vci1kb3duMlwiXG4gICAgICByZWY9e21vek1lc3NhZ2VCYXJSZWZ9XG4gICAgICBvbkFuaW1hdGlvbkVuZD17b25BbmltYXRpb25FbmR9XG4gICAgPjwvbW96LW1lc3NhZ2UtYmFyPlxuICApO1xufVxuXG5leHBvcnQgeyBUaHVtYlVwVGh1bWJEb3duVG9hc3QgfTtcbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG5mdW5jdGlvbiBSZXBvcnRDb250ZW50VG9hc3QoeyBvbkRpc21pc3NDbGljaywgb25BbmltYXRpb25FbmQgfSkge1xuICBjb25zdCBtb3pNZXNzYWdlQmFyUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50OiBtb3pNZXNzYWdlQmFyRWxlbWVudCB9ID0gbW96TWVzc2FnZUJhclJlZjtcblxuICAgIG1vek1lc3NhZ2VCYXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1lc3NhZ2UtYmFyOnVzZXItZGlzbWlzc2VkXCIsXG4gICAgICBvbkRpc21pc3NDbGljayxcbiAgICAgIHtcbiAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vek1lc3NhZ2VCYXJFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibWVzc2FnZS1iYXI6dXNlci1kaXNtaXNzZWRcIixcbiAgICAgICAgb25EaXNtaXNzQ2xpY2tcbiAgICAgICk7XG4gICAgfTtcbiAgfSwgW29uRGlzbWlzc0NsaWNrXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bW96LW1lc3NhZ2UtYmFyXG4gICAgICB0eXBlPVwic3VjY2Vzc1wiXG4gICAgICBjbGFzcz1cIm5vdGlmaWNhdGlvbi1mZWVkLWl0ZW1cIlxuICAgICAgZGlzbWlzc2FibGU9e3RydWV9XG4gICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9hc3QtdGhhbmtzLWZvci1yZXBvcnRpbmdcIlxuICAgICAgcmVmPXttb3pNZXNzYWdlQmFyUmVmfVxuICAgICAgb25BbmltYXRpb25FbmQ9e29uQW5pbWF0aW9uRW5kfVxuICAgID48L21vei1tZXNzYWdlLWJhcj5cbiAgKTtcbn1cblxuZXhwb3J0IHsgUmVwb3J0Q29udGVudFRvYXN0IH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IFRodW1iVXBUaHVtYkRvd25Ub2FzdCB9IGZyb20gXCIuL1RvYXN0cy9UaHVtYlVwVGh1bWJEb3duVG9hc3RcIjtcbmltcG9ydCB7IFJlcG9ydENvbnRlbnRUb2FzdCB9IGZyb20gXCIuL1RvYXN0cy9SZXBvcnRDb250ZW50VG9hc3RcIjtcblxuZnVuY3Rpb24gTm90aWZpY2F0aW9ucyh7IGRpc3BhdGNoIH0pIHtcbiAgY29uc3QgdG9hc3RRdWV1ZSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLk5vdGlmaWNhdGlvbnMudG9hc3RRdWV1ZSk7XG4gIGNvbnN0IHRvYXN0Q291bnRlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLk5vdGlmaWNhdGlvbnMudG9hc3RDb3VudGVyKTtcblxuICAvKipcbiAgICogU3luY3Mge0BsaW5rIHRvYXN0UXVldWV9IGFycmF5IHNvIGl0IGNhbiBiZSB1c2VkIHRvXG4gICAqIHJlbW92ZSB0aGUgdG9hc3RzIHdyYXBwZXIgaWYgdGhlcmUgYXJlIG5vbmUgYWZ0ZXIgYVxuICAgKiB0b2FzdCBpcyBhdXRvLWhpZGRlbiAoYW5pbWF0ZWQgb3V0KSB2aWEgQ1NTLlxuICAgKi9cbiAgY29uc3Qgc3luY0hpZGRlblRvYXN0RGF0YSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCB0b2FzdElkID0gdG9hc3RRdWV1ZVt0b2FzdFF1ZXVlLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IHF1ZXVlZFRvYXN0cyA9IFsuLi50b2FzdFF1ZXVlXS5zbGljZSgxKTtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb09uZUNvbnRlbnQoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBhdC5ISURFX1RPQVNUX01FU1NBR0UsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdG9hc3RRdWV1ZTogcXVldWVkVG9hc3RzLFxuICAgICAgICAgICAgdG9hc3RDb3VudGVyOiBxdWV1ZWRUb2FzdHMubGVuZ3RoLFxuICAgICAgICAgICAgdG9hc3RJZCxcbiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBcIkFjdGl2aXR5U3RyZWFtOkNvbnRlbnRcIlxuICAgICAgKVxuICAgICk7XG4gIH0sIFtkaXNwYXRjaCwgdG9hc3RRdWV1ZV0pO1xuXG4gIGNvbnN0IGdldFRvYXN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIC8vIE5vdGU6IFRoaXMgYXJjaGl0ZWN0dXJlIGNvdWxkIGV4cGFuZCB0byBzdXBwb3J0IG11bHRpcGxlIHRvYXN0IG5vdGlmaWNhdGlvbnMgYXQgb25jZVxuICAgIGNvbnN0IGxhdGVzdFRvYXN0SXRlbSA9IHRvYXN0UXVldWVbdG9hc3RRdWV1ZS5sZW5ndGggLSAxXTtcblxuICAgIGlmICghbGF0ZXN0VG9hc3RJdGVtKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB0b2FzdCBmb3VuZFwiKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGxhdGVzdFRvYXN0SXRlbSkge1xuICAgICAgY2FzZSBcInJlcG9ydFN1Y2Nlc3NUb2FzdFwiOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxSZXBvcnRDb250ZW50VG9hc3RcbiAgICAgICAgICAgIG9uRGlzbWlzc0NsaWNrPXtzeW5jSGlkZGVuVG9hc3REYXRhfVxuICAgICAgICAgICAgb25BbmltYXRpb25FbmQ9e3N5bmNIaWRkZW5Ub2FzdERhdGF9XG4gICAgICAgICAgICBrZXk9e3RvYXN0Q291bnRlcn1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgY2FzZSBcInRodW1ic1VwVG9hc3RcIjpcbiAgICAgIGNhc2UgXCJ0aHVtYnNEb3duVG9hc3RcIjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8VGh1bWJVcFRodW1iRG93blRvYXN0XG4gICAgICAgICAgICBvbkRpc21pc3NDbGljaz17c3luY0hpZGRlblRvYXN0RGF0YX1cbiAgICAgICAgICAgIG9uQW5pbWF0aW9uRW5kPXtzeW5jSGlkZGVuVG9hc3REYXRhfVxuICAgICAgICAgICAga2V5PXt0b2FzdENvdW50ZXJ9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0b2FzdCB0eXBlOiAke2xhdGVzdFRvYXN0SXRlbX1gKTtcbiAgICB9XG4gIH0sIFtzeW5jSGlkZGVuVG9hc3REYXRhLCB0b2FzdENvdW50ZXIsIHRvYXN0UXVldWVdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldFRvYXN0KCk7XG4gIH0sIFt0b2FzdFF1ZXVlLCBnZXRUb2FzdF0pO1xuXG4gIHJldHVybiB0b2FzdFF1ZXVlLmxlbmd0aCA/IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm5vdGlmaWNhdGlvbi13cmFwcGVyXCI+e2dldFRvYXN0KCl9PC9kaXY+XG4gICkgOiAoXG4gICAgXCJcIlxuICApO1xufVxuXG5leHBvcnQgeyBOb3RpZmljYXRpb25zIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBNb2RhbE92ZXJsYXlXcmFwcGVyIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvTW9kYWxPdmVybGF5L01vZGFsT3ZlcmxheVwiO1xuaW1wb3J0IHsgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsIGFjdGlvblR5cGVzIGFzIGF0IH0gZnJvbSBcImNvbW1vbi9BY3Rpb25zLm1qc1wiO1xuXG5jb25zdCBFTU9KSV9MQUJFTFMgPSB7XG4gIGJ1c2luZXNzOiBcIvCfkrxcIixcbiAgYXJ0czogXCLwn46tXCIsXG4gIGZvb2Q6IFwi8J+NlVwiLFxuICBoZWFsdGg6IFwi8J+pulwiLFxuICBmaW5hbmNlOiBcIvCfkrBcIixcbiAgZ292ZXJubWVudDogXCLwn4+b77iPXCIsXG4gIHNwb3J0czogXCLimr3vuI9cIixcbiAgdGVjaDogXCLwn5K7XCIsXG4gIHRyYXZlbDogXCLinIjvuI9cIixcbiAgXCJlZHVjYXRpb24tc2NpZW5jZVwiOiBcIvCfp6pcIixcbiAgc29jaWV0eTogXCLwn5KhXCIsXG59O1xuXG5mdW5jdGlvbiBUb3BpY1NlbGVjdGlvbih7IHN1cHBvcnRVcmwgfSkge1xuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBtb2RhbFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgY2hlY2tib3hXcmFwcGVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBwcmVmcyA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLlByZWZzLnZhbHVlcyk7XG4gIGNvbnN0IHRvcGljcyA9IHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLnRvcGljc1wiXS5zcGxpdChcIiwgXCIpO1xuICBjb25zdCBzZWxlY3RlZFRvcGljcyA9IHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLnNlbGVjdGVkVG9waWNzXCJdO1xuICBjb25zdCBzdWdnZXN0ZWRUb3BpY3MgPVxuICAgIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLnN1Z2dlc3RlZFRvcGljc1wiXT8uc3BsaXQoXCIsIFwiKTtcbiAgY29uc3QgZGlzcGxheUNvdW50ID1cbiAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLmRpc3BsYXlDb3VudFwiXTtcbiAgY29uc3QgdG9waWNzSGF2ZUJlZW5QcmV2aW91c2x5U2V0ID1cbiAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5oYXNCZWVuVXBkYXRlZFByZXZpb3VzbHlcIl07XG4gIGNvbnN0IFtpc0ZpcnN0UnVuXSA9IHVzZVN0YXRlKGRpc3BsYXlDb3VudCA9PT0gMCk7XG4gIGNvbnN0IGRpc3BsYXlDb3VudFJlZiA9IHVzZVJlZihkaXNwbGF5Q291bnQpO1xuICBjb25zdCBwcmVzZWxlY3RlZFRvcGljcyA9ICgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRUb3BpY3MpIHtcbiAgICAgIHJldHVybiBzZWxlY3RlZFRvcGljcy5zcGxpdChcIiwgXCIpO1xuICAgIH1cbiAgICByZXR1cm4gaXNGaXJzdFJ1biA/IHN1Z2dlc3RlZFRvcGljcyA6IFtdO1xuICB9O1xuICBjb25zdCBbdG9waWNzVG9TZWxlY3QsIHNldFRvcGljc1RvU2VsZWN0XSA9IHVzZVN0YXRlKHByZXNlbGVjdGVkVG9waWNzKTtcblxuICBmdW5jdGlvbiBpc0ZpcnN0U2F2ZSgpIHtcbiAgICAvLyBPbmx5IHJldHVybiB0cnVlIGlmIHRoZSB1c2VyIGhhcyBub3QgcHJldmlvdXMgc2V0IHByZWZzXG4gICAgLy8gYW5kIHRoZSBzZWxlY3RlZCB0b3BpY3MgcHJlZiBpcyBlbXB0eVxuICAgIGlmIChzZWxlY3RlZFRvcGljcyA9PT0gXCJcIiAmJiAhdG9waWNzSGF2ZUJlZW5QcmV2aW91c2x5U2V0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb2RhbENsb3NlKCkge1xuICAgIGRpc3BhdGNoKGFjLk9ubHlUb01haW4oeyB0eXBlOiBhdC5UT1BJQ19TRUxFQ1RJT05fVVNFUl9ESVNNSVNTIH0pKTtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkJyb2FkY2FzdFRvQ29udGVudCh7IHR5cGU6IGF0LlRPUElDX1NFTEVDVElPTl9TUE9UTElHSFRfQ0xPU0UgfSlcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVXNlckNsb3NlKGUpIHtcbiAgICBjb25zdCBpZCA9IGU/LnRhcmdldD8uaWQ7XG5cbiAgICBpZiAoaWQgPT09IFwiZmlyc3QtcnVuXCIpIHtcbiAgICAgIGRpc3BhdGNoKGFjLkFsc29Ub01haW4oeyB0eXBlOiBhdC5UT1BJQ19TRUxFQ1RJT05fTUFZQkVfTEFURVIgfSkpO1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLlNldFByZWYoXG4gICAgICAgICAgXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24ub25ib2FyZGluZy5tYXliZURpc3BsYXlcIixcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5TZXRQcmVmKFxuICAgICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcubWF5YmVEaXNwbGF5XCIsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgaGFuZGxlTW9kYWxDbG9zZSgpO1xuICB9XG5cbiAgLy8gQnkgZG9pbmcgdGhpcywgdGhlIHVzZUVmZmVjdCB0aGF0IHNldHMgdXAgdGhlIEludGVyc2VjdGlvbk9ic2VydmVyXG4gIC8vIHdpbGwgbm90IHJlLXJ1biBldmVyeSB0aW1lIGRpc3BsYXlDb3VudCBjaGFuZ2VzLFxuICAvLyBidXQgdGhlIG9ic2VydmVyIGNhbGxiYWNrIHdpbGwgYWx3YXlzIGhhdmUgYWNjZXNzXG4gIC8vIHRvIHRoZSBsYXRlc3QgZGlzcGxheUNvdW50IHZhbHVlIHRocm91Z2ggdGhlIHJlZi5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkaXNwbGF5Q291bnRSZWYuY3VycmVudCA9IGRpc3BsYXlDb3VudDtcbiAgfSwgW2Rpc3BsYXlDb3VudF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50IH0gPSBtb2RhbFJlZjtcbiAgICBsZXQgb2JzZXJ2ZXI7XG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChbZW50cnldKSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIC8vIGlmIHRoZSB1c2VyIGhhcyBzZWVuIHRoZSBtb2RhbCBtb3JlIHRoYW4gMyB0aW1lcyxcbiAgICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGVtIGZyb20gb25ib2FyZGluZ1xuICAgICAgICAgIGlmIChkaXNwbGF5Q291bnRSZWYuY3VycmVudCA+IDMpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICBhYy5TZXRQcmVmKFxuICAgICAgICAgICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcubWF5YmVEaXNwbGF5XCIsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKG1vZGFsUmVmLmN1cnJlbnQpO1xuICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgICAgIHR5cGU6IGF0LlRPUElDX1NFTEVDVElPTl9JTVBSRVNTSU9OLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoY3VycmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbbW9kYWxSZWYsIGRpc3BhdGNoXSk7XG5cbiAgLy8gd2hlbiBjb21wb25lbnQgbW91bnRzLCBzZXQgZm9jdXMgdG8gaW5wdXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbnB1dFJlZj8uY3VycmVudD8uZm9jdXMoKTtcbiAgfSwgW2lucHV0UmVmXSk7XG5cbiAgY29uc3QgaGFuZGxlRm9jdXMgPSB1c2VDYWxsYmFjayhlID0+IHtcbiAgICAvLyB0aGlzIGxpc3Qgd2lsbCBoYXZlIHRvIGJlIHVwZGF0ZWQgd2l0aCBvdGhlciByZXVzYWJsZSBjb21wb25lbnRzIHRoYXQgZ2V0IHVzZWQgaW5zaWRlIG9mIHRoaXMgbW9kYWxcbiAgICBjb25zdCB0YWJiYWJsZUVsZW1lbnRzID0gbW9kYWxSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJ2FbaHJlZl0sIGJ1dHRvbiwgbW96LWJ1dHRvbiwgaW5wdXRbdGFiaW5kZXg9XCIwXCJdJ1xuICAgICk7XG4gICAgY29uc3QgW2ZpcnN0VGFiYWJsZUVsXSA9IHRhYmJhYmxlRWxlbWVudHM7XG4gICAgY29uc3QgbGFzdFRhYmJhYmxlRWwgPSB0YWJiYWJsZUVsZW1lbnRzW3RhYmJhYmxlRWxlbWVudHMubGVuZ3RoIC0gMV07XG5cbiAgICBsZXQgaXNUYWJQcmVzc2VkID0gZS5rZXkgPT09IFwiVGFiXCIgfHwgZS5rZXlDb2RlID09PSA5O1xuICAgIGxldCBpc0Fycm93UHJlc3NlZCA9IGUua2V5ID09PSBcIkFycm93VXBcIiB8fCBlLmtleSA9PT0gXCJBcnJvd0Rvd25cIjtcblxuICAgIGlmIChpc1RhYlByZXNzZWQpIHtcbiAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdFRhYmFibGVFbCkge1xuICAgICAgICAgIGxhc3RUYWJiYWJsZUVsLmZvY3VzKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RUYWJiYWJsZUVsKSB7XG4gICAgICAgIGZpcnN0VGFiYWJsZUVsLmZvY3VzKCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgaXNBcnJvd1ByZXNzZWQgJiZcbiAgICAgIGNoZWNrYm94V3JhcHBlclJlZi5jdXJyZW50LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpXG4gICAgKSB7XG4gICAgICBjb25zdCBjaGVja2JveEVsZW1lbnRzID1cbiAgICAgICAgY2hlY2tib3hXcmFwcGVyUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpO1xuICAgICAgY29uc3QgW2ZpcnN0SW5wdXRdID0gY2hlY2tib3hFbGVtZW50cztcbiAgICAgIGNvbnN0IGxhc3RJbnB1dCA9IGNoZWNrYm94RWxlbWVudHNbY2hlY2tib3hFbGVtZW50cy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGlucHV0QXJyID0gQXJyYXkuZnJvbShjaGVja2JveEVsZW1lbnRzKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGlucHV0QXJyLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICBsZXQgbmV4dEVsO1xuICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICBuZXh0RWwgPVxuICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0SW5wdXRcbiAgICAgICAgICAgID8gbGFzdElucHV0XG4gICAgICAgICAgICA6IGNoZWNrYm94RWxlbWVudHNbY3VycmVudEluZGV4IC0gMV07XG4gICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkFycm93RG93blwiKSB7XG4gICAgICAgIG5leHRFbCA9XG4gICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdElucHV0XG4gICAgICAgICAgICA/IGZpcnN0SW5wdXRcbiAgICAgICAgICAgIDogY2hlY2tib3hFbGVtZW50c1tjdXJyZW50SW5kZXggKyAxXTtcbiAgICAgIH1cbiAgICAgIG5leHRFbC50YWJJbmRleCA9IDA7XG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhYkluZGV4ID0gLTE7XG4gICAgICBuZXh0RWwuZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlZiA9IG1vZGFsUmVmLmN1cnJlbnQ7XG4gICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUZvY3VzKTtcblxuICAgIGlucHV0UmVmLmN1cnJlbnQudGFiSW5kZXggPSAwO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlZi5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVGb2N1cyk7XG4gICAgfTtcbiAgfSwgW2hhbmRsZUZvY3VzXSk7XG5cbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICBjb25zdCB0b3BpYyA9IGUudGFyZ2V0Lm5hbWU7XG4gICAgY29uc3QgaXNDaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZDtcbiAgICBpZiAoaXNDaGVja2VkKSB7XG4gICAgICBzZXRUb3BpY3NUb1NlbGVjdChbLi4udG9waWNzVG9TZWxlY3QsIHRvcGljXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRUb3BpY3MgPSB0b3BpY3NUb1NlbGVjdC5maWx0ZXIodCA9PiB0ICE9PSB0b3BpYyk7XG4gICAgICBzZXRUb3BpY3NUb1NlbGVjdCh1cGRhdGVkVG9waWNzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7XG4gICAgY29uc3QgdG9waWNzU3RyaW5nID0gdG9waWNzVG9TZWxlY3Quam9pbihcIiwgXCIpO1xuICAgIGRpc3BhdGNoKFxuICAgICAgYWMuU2V0UHJlZihcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5zZWxlY3RlZFRvcGljc1wiLCB0b3BpY3NTdHJpbmcpXG4gICAgKTtcbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLlNldFByZWYoXG4gICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcubWF5YmVEaXNwbGF5XCIsXG4gICAgICAgIGZhbHNlXG4gICAgICApXG4gICAgKTtcbiAgICBpZiAoIXRvcGljc0hhdmVCZWVuUHJldmlvdXNseVNldCkge1xuICAgICAgZGlzcGF0Y2goXG4gICAgICAgIGFjLlNldFByZWYoXG4gICAgICAgICAgXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24uaGFzQmVlblVwZGF0ZWRQcmV2aW91c2x5XCIsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLk9ubHlUb01haW4oe1xuICAgICAgICB0eXBlOiBhdC5UT1BJQ19TRUxFQ1RJT05fVVNFUl9TQVZFLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9waWNzOiB0b3BpY3NTdHJpbmcsXG4gICAgICAgICAgcHJldmlvdXNfdG9waWNzOiBzZWxlY3RlZFRvcGljcyxcbiAgICAgICAgICBmaXJzdF9zYXZlOiBpc0ZpcnN0U2F2ZSgpLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICApO1xuICAgIGhhbmRsZU1vZGFsQ2xvc2UoKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPE1vZGFsT3ZlcmxheVdyYXBwZXJcbiAgICAgIG9uQ2xvc2U9e2hhbmRsZVVzZXJDbG9zZX1cbiAgICAgIGlubmVyQ2xhc3NOYW1lPVwidG9waWMtc2VsZWN0aW9uLWNvbnRhaW5lclwiXG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3BpYy1zZWxlY3Rpb24tZm9ybVwiIHJlZj17bW9kYWxSZWZ9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZGlzbWlzcy1idXR0b25cIlxuICAgICAgICAgIHRpdGxlPVwiZGlzbWlzc1wiXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlVXNlckNsb3NlfVxuICAgICAgICAvPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGl0bGVcIiBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9waWMtc2VsZWN0aW9uLXRpdGxlXCIgLz5cbiAgICAgICAgPHBcbiAgICAgICAgICBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiXG4gICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLXRvcGljLXNlbGVjdGlvbi1zdWJ0aXRsZVwiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9waWMtbGlzdFwiIHJlZj17Y2hlY2tib3hXcmFwcGVyUmVmfT5cbiAgICAgICAgICB7dG9waWNzLm1hcCgodG9waWMsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSB0b3BpY3NUb1NlbGVjdC5pbmNsdWRlcyh0b3BpYyk7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPXtgdG9waWMtaXRlbWB9IGtleT17dG9waWN9PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgIGlkPXt0b3BpY31cbiAgICAgICAgICAgICAgICAgIG5hbWU9e3RvcGljfVxuICAgICAgICAgICAgICAgICAgcmVmPXtpID09PSAwID8gaW5wdXRSZWYgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICBhcmlhLWNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICB0YWJJbmRleD17LTF9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRvcGljLWN1c3RvbS1jaGVja2JveGB9PlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidG9waWMtaWNvblwiPntFTU9KSV9MQUJFTFNbYCR7dG9waWN9YF19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidG9waWMtY2hlY2tlZFwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRvcGljLWl0ZW0tbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPXtgbmV3dGFiLXRvcGljLWxhYmVsLSR7dG9waWN9YH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGhyZWY9e3N1cHBvcnRVcmx9XG4gICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9waWMtc2VsZWN0aW9uLXByaXZhY3ktbGlua1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8bW96LWJ1dHRvbi1ncm91cCBjbGFzc05hbWU9XCJidXR0b24tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxtb3otYnV0dG9uXG4gICAgICAgICAgICAgIGlkPXtpc0ZpcnN0UnVuID8gXCJmaXJzdC1ydW5cIiA6IFwiXCJ9XG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17XG4gICAgICAgICAgICAgICAgaXNGaXJzdFJ1blxuICAgICAgICAgICAgICAgICAgPyBcIm5ld3RhYi10b3BpYy1zZWxlY3Rpb24tYnV0dG9uLW1heWJlLWxhdGVyXCJcbiAgICAgICAgICAgICAgICAgIDogXCJuZXd0YWItdG9waWMtc2VsZWN0aW9uLWNhbmNlbC1idXR0b25cIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVVzZXJDbG9zZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9XCJuZXd0YWItdG9waWMtc2VsZWN0aW9uLXNhdmUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgdHlwZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvbW96LWJ1dHRvbi1ncm91cD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsT3ZlcmxheVdyYXBwZXI+XG4gICk7XG59XG5cbmV4cG9ydCB7IFRvcGljU2VsZWN0aW9uIH07XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYyB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IEZlYXR1cmVIaWdobGlnaHQgfSBmcm9tIFwiLi9GZWF0dXJlSGlnaGxpZ2h0XCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcblxuY29uc3QgUFJFRl9NT0JJTEVfRE9XTkxPQURfSElHSExJR0hUX1ZBUklBTlRfQSA9XG4gIFwibW9iaWxlRG93bmxvYWRNb2RhbC52YXJpYW50LWFcIjtcbmNvbnN0IFBSRUZfTU9CSUxFX0RPV05MT0FEX0hJR0hMSUdIVF9WQVJJQU5UX0IgPVxuICBcIm1vYmlsZURvd25sb2FkTW9kYWwudmFyaWFudC1iXCI7XG5jb25zdCBQUkVGX01PQklMRV9ET1dOTE9BRF9ISUdITElHSFRfVkFSSUFOVF9DID1cbiAgXCJtb2JpbGVEb3dubG9hZE1vZGFsLnZhcmlhbnQtY1wiO1xuXG5jb25zdCBGRUFUVVJFX0lEID0gXCJGRUFUVVJFX0RPV05MT0FEX01PQklMRV9QUk9NT1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gRG93bmxvYWRNb2JpbGVQcm9tb0hpZ2hsaWdodCh7XG4gIHBvc2l0aW9uLFxuICBkaXNwYXRjaCxcbiAgaGFuZGxlRGlzbWlzcyxcbiAgaGFuZGxlQmxvY2ssXG4gIGlzSW50ZXJzZWN0aW5nLFxufSkge1xuICBjb25zdCBvbkRpc21pc3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gVGhpcyBldmVudCBpcyBlbWl0dGVkIG1hbnVhbGx5IGJlY2F1c2UgdGhlIGZlYXR1cmUgbWF5IGJlIHRyaWdnZXJlZCBvdXRzaWRlIHRoZSBPTUMgZmxvdyxcbiAgICAvLyBhbmQgbWF5IG5vdCBiZSBjYXB0dXJlZCBieSB0aGUgbWVzc2FnaW5nLXN5c3RlbeKAmXMgYXV0b21hdGljIHJlcG9ydGluZy5cbiAgICBkaXNwYXRjaChcbiAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgIGV2ZW50OiBcIkZFQVRVUkVfSElHSExJR0hUX0RJU01JU1NcIixcbiAgICAgICAgc291cmNlOiBcIkZFQVRVUkVfSElHSExJR0hUXCIsXG4gICAgICAgIHZhbHVlOiB7IGZlYXR1cmU6IEZFQVRVUkVfSUQgfSxcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGhhbmRsZURpc21pc3MoKTtcbiAgICBoYW5kbGVCbG9jaygpO1xuICB9LCBbZGlzcGF0Y2gsIGhhbmRsZURpc21pc3MsIGhhbmRsZUJsb2NrXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgIC8vIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCBtYW51YWxseSBiZWNhdXNlIHRoZSBmZWF0dXJlIG1heSBiZSB0cmlnZ2VyZWQgb3V0c2lkZSB0aGUgT01DIGZsb3csXG4gICAgICAvLyBhbmQgbWF5IG5vdCBiZSBjYXB0dXJlZCBieSB0aGUgbWVzc2FnaW5nLXN5c3RlbeKAmXMgYXV0b21hdGljIHJlcG9ydGluZy5cbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBhYy5EaXNjb3ZlcnlTdHJlYW1Vc2VyRXZlbnQoe1xuICAgICAgICAgIGV2ZW50OiBcIkZFQVRVUkVfSElHSExJR0hUX0lNUFJFU1NJT05cIixcbiAgICAgICAgICBzb3VyY2U6IFwiRkVBVFVSRV9ISUdITElHSFRcIixcbiAgICAgICAgICB2YWx1ZTogeyBmZWF0dXJlOiBGRUFUVVJFX0lEIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBpc0ludGVyc2VjdGluZ10pO1xuXG4gIGNvbnN0IHByZWZzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuUHJlZnMudmFsdWVzKTtcbiAgY29uc3QgbW9iaWxlRG93bmxvYWRQcm9tb1ZhckEgPVxuICAgIHByZWZzW1BSRUZfTU9CSUxFX0RPV05MT0FEX0hJR0hMSUdIVF9WQVJJQU5UX0FdO1xuICBjb25zdCBtb2JpbGVEb3dubG9hZFByb21vVmFyQiA9XG4gICAgcHJlZnNbUFJFRl9NT0JJTEVfRE9XTkxPQURfSElHSExJR0hUX1ZBUklBTlRfQl07XG4gIGNvbnN0IG1vYmlsZURvd25sb2FkUHJvbW9WYXJDID1cbiAgICBwcmVmc1tQUkVGX01PQklMRV9ET1dOTE9BRF9ISUdITElHSFRfVkFSSUFOVF9DXTtcblxuICBmdW5jdGlvbiBnZXRBY3RpdmVWYXJpYW50KCkge1xuICAgIGlmIChtb2JpbGVEb3dubG9hZFByb21vVmFyQSkge1xuICAgICAgcmV0dXJuIFwiQVwiO1xuICAgIH1cbiAgICBpZiAobW9iaWxlRG93bmxvYWRQcm9tb1ZhckIpIHtcbiAgICAgIHJldHVybiBcIkJcIjtcbiAgICB9XG4gICAgaWYgKG1vYmlsZURvd25sb2FkUHJvbW9WYXJDKSB7XG4gICAgICByZXR1cm4gXCJDXCI7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFyaWFudFFSQ29kZUltZygpIHtcbiAgICBjb25zdCB2YXJpYW50ID0gZ2V0QWN0aXZlVmFyaWFudCgpO1xuICAgIHN3aXRjaCAodmFyaWFudCkge1xuICAgICAgY2FzZSBcIkFcIjpcbiAgICAgICAgcmV0dXJuIFwiY2hyb21lOi8vbmV3dGFiL2NvbnRlbnQvZGF0YS9jb250ZW50L2Fzc2V0cy9kb3dubG9hZC1xci1jb2RlLXZhci1hLnBuZ1wiO1xuICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgcmV0dXJuIFwiY2hyb21lOi8vbmV3dGFiL2NvbnRlbnQvZGF0YS9jb250ZW50L2Fzc2V0cy9kb3dubG9hZC1xci1jb2RlLXZhci1iLnBuZ1wiO1xuICAgICAgY2FzZSBcIkNcIjpcbiAgICAgICAgcmV0dXJuIFwiY2hyb21lOi8vbmV3dGFiL2NvbnRlbnQvZGF0YS9jb250ZW50L2Fzc2V0cy9kb3dubG9hZC1xci1jb2RlLXZhci1jLnBuZ1wiO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFyaWFudENvcHkoKSB7XG4gICAgY29uc3QgdmFyaWFudCA9IGdldEFjdGl2ZVZhcmlhbnQoKTtcbiAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgIHJldHVybiBcIm5ld3RhYi1kb3dubG9hZC1tb2JpbGUtaGlnaGxpZ2h0LWJvZHktdmFyaWFudC1hXCI7XG4gICAgICBjYXNlIFwiQlwiOlxuICAgICAgICByZXR1cm4gXCJuZXd0YWItZG93bmxvYWQtbW9iaWxlLWhpZ2hsaWdodC1ib2R5LXZhcmlhbnQtYlwiO1xuICAgICAgY2FzZSBcIkNcIjpcbiAgICAgICAgcmV0dXJuIFwibmV3dGFiLWRvd25sb2FkLW1vYmlsZS1oaWdobGlnaHQtYm9keS12YXJpYW50LWNcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJkb3dubG9hZC1maXJlZm94LWZlYXR1cmUtaGlnaGxpZ2h0XCI+XG4gICAgICA8RmVhdHVyZUhpZ2hsaWdodFxuICAgICAgICBwb3NpdGlvbj17cG9zaXRpb259XG4gICAgICAgIGZlYXR1cmU9e0ZFQVRVUkVfSUR9XG4gICAgICAgIGRpc3BhdGNoPXtkaXNwYXRjaH1cbiAgICAgICAgbWVzc2FnZT17XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkb3dubG9hZC1maXJlZm94LWZlYXR1cmUtaGlnaGxpZ2h0LWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtnZXRWYXJpYW50UVJDb2RlSW1nKCl9XG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi1kb3dubG9hZC1tb2JpbGUtaGlnaGxpZ2h0LWltYWdlXCJcbiAgICAgICAgICAgICAgd2lkdGg9XCIxMjBcIlxuICAgICAgICAgICAgICBoZWlnaHQ9XCIxOTFcIlxuICAgICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRpdGxlXCJcbiAgICAgICAgICAgICAgZGF0YS1sMTBuLWlkPVwibmV3dGFiLWRvd25sb2FkLW1vYmlsZS1oaWdobGlnaHQtdGl0bGVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInN1YnRpdGxlXCIgZGF0YS1sMTBuLWlkPXtnZXRWYXJpYW50Q29weSgpfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIG9wZW5lZE92ZXJyaWRlPXt0cnVlfVxuICAgICAgICBzaG93QnV0dG9uSWNvbj17ZmFsc2V9XG4gICAgICAgIGRpc21pc3NDYWxsYmFjaz17b25EaXNtaXNzfVxuICAgICAgICBvdXRzaWRlQ2xpY2tDYWxsYmFjaz17aGFuZGxlRGlzbWlzc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBhY3Rpb25DcmVhdG9ycyBhcyBhYywgYWN0aW9uVHlwZXMgYXMgYXQgfSBmcm9tIFwiY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBGZWF0dXJlSGlnaGxpZ2h0IH0gZnJvbSBcIi4vRmVhdHVyZUhpZ2hsaWdodFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gV2FsbHBhcGVyRmVhdHVyZUhpZ2hsaWdodCh7XG4gIHBvc2l0aW9uLFxuICBkaXNwYXRjaCxcbiAgaGFuZGxlRGlzbWlzcyxcbiAgaGFuZGxlQ2xpY2ssXG4gIGhhbmRsZUJsb2NrLFxufSkge1xuICBjb25zdCBvbkRpc21pc3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaGFuZGxlRGlzbWlzcygpO1xuICAgIGhhbmRsZUJsb2NrKCk7XG4gIH0sIFtoYW5kbGVEaXNtaXNzLCBoYW5kbGVCbG9ja10pO1xuXG4gIGNvbnN0IG9uVG9nZ2xlQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICBlbGVtZW50SWQgPT4ge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhdC5TSE9XX1BFUlNPTkFMSVpFIH0pO1xuICAgICAgZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiU0hPV19QRVJTT05BTElaRVwiIH0pKTtcbiAgICAgIGhhbmRsZUNsaWNrKGVsZW1lbnRJZCk7XG4gICAgICBvbkRpc21pc3MoKTtcbiAgICB9LFxuICAgIFtkaXNwYXRjaCwgb25EaXNtaXNzLCBoYW5kbGVDbGlja11cbiAgKTtcblxuICAvLyBFeHRyYWN0IHRoZSBzdHJpbmdzIGFuZCBmZWF0dXJlIElEIGZyb20gT01DXG4gIGNvbnN0IHsgbWVzc2FnZURhdGEgfSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLk1lc3NhZ2VzKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwid2FsbHBhcGVyLWZlYXR1cmUtaGlnaGxpZ2h0XCI+XG4gICAgICA8RmVhdHVyZUhpZ2hsaWdodFxuICAgICAgICBwb3NpdGlvbj17cG9zaXRpb259XG4gICAgICAgIGRhdGEtbDEwbi1pZD1cImZlYXR1cmUtaGlnaGxpZ2h0LXdhbGxwYXBlclwiXG4gICAgICAgIGZlYXR1cmU9e21lc3NhZ2VEYXRhLmNvbnRlbnQuZmVhdHVyZX1cbiAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICBtZXNzYWdlPXtcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndhbGxwYXBlci1mZWF0dXJlLWhpZ2hsaWdodC1jb250ZW50XCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz1cImNocm9tZTovL25ld3RhYi9jb250ZW50L2RhdGEvY29udGVudC9hc3NldHMvY3VzdG9tLXdwLWhpZ2hsaWdodC5wbmdcIlxuICAgICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgICB3aWR0aD1cIjMyMFwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjE5NVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGl0bGVcIiBkYXRhLWwxMG4taWQ9e21lc3NhZ2VEYXRhLmNvbnRlbnQudGl0bGV9IC8+XG4gICAgICAgICAgICA8cFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJ0aXRsZVwiXG4gICAgICAgICAgICAgIGRhdGEtbDEwbi1pZD17bWVzc2FnZURhdGEuY29udGVudC5zdWJ0aXRsZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJidXR0b24td3JhcHBlclwiPlxuICAgICAgICAgICAgICA8bW96LWJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblRvZ2dsZUNsaWNrKFwib3Blbi1jdXN0b21pemUtbWVudVwiKX1cbiAgICAgICAgICAgICAgICBkYXRhLWwxMG4taWQ9e21lc3NhZ2VEYXRhLmNvbnRlbnQuY3RhfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZT17PGRpdiBjbGFzc05hbWU9XCJpY29uIGljb24taGVscFwiPjwvZGl2Pn1cbiAgICAgICAgb3BlbmVkT3ZlcnJpZGU9e3RydWV9XG4gICAgICAgIHNob3dCdXR0b25JY29uPXtmYWxzZX1cbiAgICAgICAgZGlzbWlzc0NhbGxiYWNrPXtvbkRpc21pc3N9XG4gICAgICAgIG91dHNpZGVDbGlja0NhbGxiYWNrPXtoYW5kbGVEaXNtaXNzfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IERpc2NvdmVyeVN0cmVhbUFkbWluIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQWRtaW4vRGlzY292ZXJ5U3RyZWFtQWRtaW5cIjtcbmltcG9ydCB7IENvbmZpcm1EaWFsb2cgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Db25maXJtRGlhbG9nL0NvbmZpcm1EaWFsb2dcIjtcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCB7IERpc2NvdmVyeVN0cmVhbUJhc2UgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9EaXNjb3ZlcnlTdHJlYW1CYXNlL0Rpc2NvdmVyeVN0cmVhbUJhc2VcIjtcbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5L0Vycm9yQm91bmRhcnlcIjtcbmltcG9ydCB7IEN1c3RvbWl6ZU1lbnUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9DdXN0b21pemVNZW51L0N1c3RvbWl6ZU1lbnVcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNlYXJjaCB9IGZyb20gXCJjb250ZW50LXNyYy9jb21wb25lbnRzL1NlYXJjaC9TZWFyY2hcIjtcbmltcG9ydCB7IFNlY3Rpb25zIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvU2VjdGlvbnMvU2VjdGlvbnNcIjtcbmltcG9ydCB7IExvZ28gfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Mb2dvL0xvZ29cIjtcbmltcG9ydCB7IFdlYXRoZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9XZWF0aGVyL1dlYXRoZXJcIjtcbmltcG9ydCB7IERvd25sb2FkTW9kYWxUb2dnbGUgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Eb3dubG9hZE1vZGFsVG9nZ2xlL0Rvd25sb2FkTW9kYWxUb2dnbGVcIjtcbmltcG9ydCB7IE5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9Ob3RpZmljYXRpb25zL05vdGlmaWNhdGlvbnNcIjtcbmltcG9ydCB7IFRvcGljU2VsZWN0aW9uIH0gZnJvbSBcImNvbnRlbnQtc3JjL2NvbXBvbmVudHMvRGlzY292ZXJ5U3RyZWFtQ29tcG9uZW50cy9Ub3BpY1NlbGVjdGlvbi9Ub3BpY1NlbGVjdGlvblwiO1xuaW1wb3J0IHsgRG93bmxvYWRNb2JpbGVQcm9tb0hpZ2hsaWdodCB9IGZyb20gXCIuLi9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvRG93bmxvYWRNb2JpbGVQcm9tb0hpZ2hsaWdodFwiO1xuaW1wb3J0IHsgV2FsbHBhcGVyRmVhdHVyZUhpZ2hsaWdodCB9IGZyb20gXCIuLi9EaXNjb3ZlcnlTdHJlYW1Db21wb25lbnRzL0ZlYXR1cmVIaWdobGlnaHQvV2FsbHBhcGVyRmVhdHVyZUhpZ2hsaWdodFwiO1xuaW1wb3J0IHsgTWVzc2FnZVdyYXBwZXIgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9NZXNzYWdlV3JhcHBlci9NZXNzYWdlV3JhcHBlclwiO1xuaW1wb3J0IHsgc2VsZWN0V2VhdGhlclBsYWNlbWVudCB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHNcIjtcblxuY29uc3QgVklTSUJMRSA9IFwidmlzaWJsZVwiO1xuY29uc3QgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcbmNvbnN0IFBSRUZfSU5GRVJSRURfUEVSU09OQUxJWkFUSU9OX1NZU1RFTSA9XG4gIFwiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLnBlcnNvbmFsaXphdGlvbi5pbmZlcnJlZC5lbmFibGVkXCI7XG5jb25zdCBQUkVGX0lORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9VU0VSID1cbiAgXCJkaXNjb3ZlcnlzdHJlYW0uc2VjdGlvbnMucGVyc29uYWxpemF0aW9uLmluZmVycmVkLnVzZXIuZW5hYmxlZFwiO1xuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2lsbCBub3QgYmUgY29udGludW91c2x5IHRyaWdnZXJlZCB3aGVuIGNhbGxlZC4gVGhlXG4vLyBmdW5jdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBpZiBjYWxsZWQgYWdhaW4gYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy5cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQpIHtcbiAgbGV0IHRpbWVyO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgd2FrZVVwID0gKCkgPT4ge1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aW1lciA9IHNldFRpbWVvdXQod2FrZVVwLCB3YWl0KTtcbiAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xufVxuXG5leHBvcnQgY2xhc3MgX0Jhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG1lc3NhZ2U6IHt9LFxuICAgIH07XG4gICAgdGhpcy5ub3RpZnlDb250ZW50ID0gdGhpcy5ub3RpZnlDb250ZW50LmJpbmQodGhpcyk7XG4gIH1cblxuICBub3RpZnlDb250ZW50KHN0YXRlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcbiAgICBjb25zdCB7IEFwcCB9ID0gcHJvcHM7XG4gICAgY29uc3QgaXNEZXZ0b29sc0VuYWJsZWQgPSBwcm9wcy5QcmVmcy52YWx1ZXNbXCJhc3JvdXRlci5kZXZ0b29sc0VuYWJsZWRcIl07XG5cbiAgICBpZiAoIUFwcC5pbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxFcnJvckJvdW5kYXJ5IGNsYXNzTmFtZT1cImJhc2UtY29udGVudC1mYWxsYmFja1wiPlxuICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgPEJhc2VDb250ZW50IHsuLi50aGlzLnByb3BzfSBhZG1pbkNvbnRlbnQ9e3RoaXMuc3RhdGV9IC8+XG4gICAgICAgICAge2lzRGV2dG9vbHNFbmFibGVkID8gKFxuICAgICAgICAgICAgPERpc2NvdmVyeVN0cmVhbUFkbWluIG5vdGlmeUNvbnRlbnQ9e3RoaXMubm90aWZ5Q29udGVudH0gLz5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCYXNlQ29udGVudCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLm9wZW5QcmVmZXJlbmNlcyA9IHRoaXMub3BlblByZWZlcmVuY2VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vcGVuQ3VzdG9taXphdGlvbk1lbnUgPSB0aGlzLm9wZW5DdXN0b21pemF0aW9uTWVudS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudSA9IHRoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlT25LZXlEb3duID0gdGhpcy5oYW5kbGVPbktleURvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV2luZG93U2Nyb2xsID0gZGVib3VuY2UodGhpcy5vbldpbmRvd1Njcm9sbC5iaW5kKHRoaXMpLCA1KTtcbiAgICB0aGlzLnNldFByZWYgPSB0aGlzLnNldFByZWYuYmluZCh0aGlzKTtcbiAgICB0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQgPSB0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnVwZGF0ZVdhbGxwYXBlciA9IHRoaXMudXBkYXRlV2FsbHBhcGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5wcmVmZXJzRGFya1F1ZXJ5ID0gbnVsbDtcbiAgICB0aGlzLmhhbmRsZUNvbG9yTW9kZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ29sb3JNb2RlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zaG91bGREaXNwbGF5VG9waWNTZWxlY3Rpb25Nb2RhbCA9XG4gICAgICB0aGlzLnNob3VsZERpc3BsYXlUb3BpY1NlbGVjdGlvbk1vZGFsLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVEb3dubG9hZEhpZ2hsaWdodCA9IHRoaXMudG9nZ2xlRG93bmxvYWRIaWdobGlnaHQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZURpc21pc3NEb3dubG9hZEhpZ2hsaWdodCA9XG4gICAgICB0aGlzLmhhbmRsZURpc21pc3NEb3dubG9hZEhpZ2hsaWdodC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXBwbHlCb2R5Q2xhc3NlcyA9IHRoaXMuYXBwbHlCb2R5Q2xhc3Nlcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBmaXhlZFNlYXJjaDogZmFsc2UsXG4gICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA6IG51bGwsXG4gICAgICBjb2xvck1vZGU6IFwiXCIsXG4gICAgICBmaXhlZE5hdlN0eWxlOiB7fSxcbiAgICAgIHdhbGxwYXBlclRoZW1lOiBcIlwiLFxuICAgICAgc2hvd0Rvd25sb2FkSGlnaGxpZ2h0T3ZlcnJpZGU6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIHNldEZpcnN0VmlzaWJsZVRpbWVzdGFtcCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuZmlyc3RWaXNpYmxlVGltZXN0YW1wKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmlyc3RWaXNpYmxlVGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5hcHBseUJvZHlDbGFzc2VzKCk7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vbldpbmRvd1Njcm9sbCk7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuaGFuZGxlT25LZXlEb3duKTtcbiAgICBjb25zdCBwcmVmcyA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIGNvbnN0IHdhbGxwYXBlcnNFbmFibGVkID0gcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmVuYWJsZWRcIl07XG4gICAgaWYgKHRoaXMucHJvcHMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLnNldEZpcnN0VmlzaWJsZVRpbWVzdGFtcCgpO1xuICAgICAgdGhpcy5zaG91bGREaXNwbGF5VG9waWNTZWxlY3Rpb25Nb2RhbCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgICAgIHRoaXMuc2V0Rmlyc3RWaXNpYmxlVGltZXN0YW1wKCk7XG4gICAgICAgICAgdGhpcy5zaG91bGREaXNwbGF5VG9waWNTZWxlY3Rpb25Nb2RhbCgpO1xuICAgICAgICAgIHRoaXMucHJvcHMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgICAvLyB0cmFjayBjaGFuZ2UgZXZlbnQgdG8gZGFyay9saWdodCBtb2RlXG4gICAgdGhpcy5wcmVmZXJzRGFya1F1ZXJ5ID0gZ2xvYmFsVGhpcy5tYXRjaE1lZGlhKFxuICAgICAgXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCJcbiAgICApO1xuXG4gICAgdGhpcy5wcmVmZXJzRGFya1F1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNoYW5nZVwiLFxuICAgICAgdGhpcy5oYW5kbGVDb2xvck1vZGVDaGFuZ2VcbiAgICApO1xuICAgIHRoaXMuaGFuZGxlQ29sb3JNb2RlQ2hhbmdlKCk7XG4gICAgaWYgKHdhbGxwYXBlcnNFbmFibGVkKSB7XG4gICAgICB0aGlzLnVwZGF0ZVdhbGxwYXBlcigpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICB0aGlzLmFwcGx5Qm9keUNsYXNzZXMoKTtcbiAgICBjb25zdCBwcmVmcyA9IHRoaXMucHJvcHMuUHJlZnMudmFsdWVzO1xuICAgIGNvbnN0IHdhbGxwYXBlcnNFbmFibGVkID0gcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmVuYWJsZWRcIl07XG4gICAgaWYgKHdhbGxwYXBlcnNFbmFibGVkKSB7XG4gICAgICAvLyBkZXN0cnVjdHVyZSBjdXJyZW50IGFuZCBwcmV2aW91cyBwcm9wcyB3aXRoIGZhbGxiYWNrc1xuICAgICAgLy8gKHByZXZlbnRpbmcgdW5kZWZpbmVkIGVycm9ycylcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgV2FsbHBhcGVyczogeyB1cGxvYWRlZFdhbGxwYXBlciA9IG51bGwsIHdhbGxwYXBlckxpc3QgPSBudWxsIH0gPSB7fSxcbiAgICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIFdhbGxwYXBlcnM6IHtcbiAgICAgICAgICB1cGxvYWRlZFdhbGxwYXBlcjogcHJldlVwbG9hZGVkV2FsbHBhcGVyID0gbnVsbCxcbiAgICAgICAgICB3YWxscGFwZXJMaXN0OiBwcmV2V2FsbHBhcGVyTGlzdCA9IG51bGwsXG4gICAgICAgIH0gPSB7fSxcbiAgICAgICAgUHJlZnM6IHsgdmFsdWVzOiBwcmV2UHJlZnMgPSB7fSB9ID0ge30sXG4gICAgICB9ID0gcHJldlByb3BzO1xuXG4gICAgICBjb25zdCBzZWxlY3RlZFdhbGxwYXBlciA9IHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIl07XG4gICAgICBjb25zdCBwcmV2U2VsZWN0ZWRXYWxscGFwZXIgPSBwcmV2UHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlclwiXTtcbiAgICAgIGNvbnN0IHVwbG9hZGVkV2FsbHBhcGVyVGhlbWUgPVxuICAgICAgICBwcmVmc1tcIm5ld3RhYldhbGxwYXBlcnMuY3VzdG9tV2FsbHBhcGVyLnRoZW1lXCJdO1xuICAgICAgY29uc3QgcHJldlVwbG9hZGVkV2FsbHBhcGVyVGhlbWUgPVxuICAgICAgICBwcmV2UHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmN1c3RvbVdhbGxwYXBlci50aGVtZVwiXTtcblxuICAgICAgLy8gZG9uJ3QgdXBkYXRlIHdhbGxwYXBlciB1bmxlc3MgdGhlIHdhbGxwYXBlciBpcyBiZWluZyBjaGFuZ2VkLlxuICAgICAgaWYgKFxuICAgICAgICBzZWxlY3RlZFdhbGxwYXBlciAhPT0gcHJldlNlbGVjdGVkV2FsbHBhcGVyIHx8IC8vIHNlbGVjdGluZyBhIG5ldyB3YWxscGFwZXJcbiAgICAgICAgdXBsb2FkZWRXYWxscGFwZXIgIT09IHByZXZVcGxvYWRlZFdhbGxwYXBlciB8fCAvLyB1cGxvYWRpbmcgYSBuZXcgd2FsbHBhcGVyXG4gICAgICAgIHdhbGxwYXBlckxpc3QgIT09IHByZXZXYWxscGFwZXJMaXN0IHx8IC8vIHJlbW90ZSBzZXR0aW5ncyB3YWxscGFwZXIgbGlzdCB1cGRhdGVzXG4gICAgICAgIHRoaXMucHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlLldhbGxwYXBlciAhPT1cbiAgICAgICAgICBwcmV2UHJvcHMuQXBwLmlzRm9yU3RhcnR1cENhY2hlLldhbGxwYXBlciB8fCAvLyBTdGFydHVwIGNhY2hlZCBwYWdlIHdhbGxwYXBlciBpcyB1cGRhdGluZ1xuICAgICAgICB1cGxvYWRlZFdhbGxwYXBlclRoZW1lICE9PSBwcmV2VXBsb2FkZWRXYWxscGFwZXJUaGVtZVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMudXBkYXRlV2FsbHBhcGVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQ29sb3JNb2RlQ2hhbmdlKCkge1xuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHRoaXMucHJlZmVyc0RhcmtRdWVyeT8ubWF0Y2hlcyA/IFwiZGFya1wiIDogXCJsaWdodFwiO1xuICAgIGlmIChjb2xvck1vZGUgIT09IHRoaXMuc3RhdGUuY29sb3JNb2RlKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgY29sb3JNb2RlIH0pO1xuICAgICAgdGhpcy51cGRhdGVXYWxscGFwZXIoKTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnByZWZlcnNEYXJrUXVlcnk/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNoYW5nZVwiLFxuICAgICAgdGhpcy5oYW5kbGVDb2xvck1vZGVDaGFuZ2VcbiAgICApO1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25XaW5kb3dTY3JvbGwpO1xuICAgIGdsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZU9uS2V5RG93bik7XG4gICAgaWYgKHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCxcbiAgICAgICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uV2luZG93U2Nyb2xsKCkge1xuICAgIGlmICh3aW5kb3cuaW5uZXJIZWlnaHQgPD0gNzAwKSB7XG4gICAgICAvLyBCdWcgMTkzNzI5NjogT25seSBhcHBseSBmaXhlZC1zZWFyY2ggbG9naWNcbiAgICAgIC8vIGlmIHRoZSBwYWdlIGlzIHRhbGwgZW5vdWdoIHRvIHN1cHBvcnQgaXQuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICBjb25zdCB7IHNob3dTZWFyY2ggfSA9IHByZWZzO1xuXG4gICAgaWYgKCFzaG93U2VhcmNoKSB7XG4gICAgICAvLyBCdWcgMTk0NDcxODogT25seSBhcHBseSBmaXhlZC1zZWFyY2ggbG9naWNcbiAgICAgIC8vIGlmIHNlYXJjaCBpcyB2aXNpYmxlLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGxvZ29BbHdheXNWaXNpYmxlID0gcHJlZnNbXCJsb2dvd29yZG1hcmsuYWx3YXlzVmlzaWJsZVwiXTtcblxuICAgIC8qIEJ1ZyAxOTE3OTM3OiBUaGUgbG9naWMgcHJlc2VudGVkIGJlbG93IGlzIGZyYWdpbGUgYnV0IGFjY3VyYXRlIHRvIHRoZSBwaXhlbC4gQXMgbmV3IHRhYiBleHBlcmltZW50cyB3aXRoIGxheW91dHMsIHdlIGhhdmUgYSB0ZWNoIGRlYnQgb2YgY29tcGV0aW5nIHN0eWxlcyBhbmQgY2xhc3NlcyB0aGUgc2xpZ2h0bHkgbW9kaWZ5IHdoZXJlIHRoZSBzZWFyY2ggYmFyIHNpdHMgb24gdGhlIHBhZ2UuIFRoZSBsYXJnZXIgc29sdXRpb24gZm9yIHRoaXMgaXMgdG8gcmVwbGFjZSBldmVyeXRoaW5nIHdpdGggYW4gaW50ZXJzZWN0aW9uIG9ic2VydmVyLCBidXQgd291bGQgcmVxdWlyZSBhIGxhcmdlciByZWZhY3RvciBvZiB0aGlzIGZpbGUuIEluIHRoZSBpbnRlcmltLCB3ZSBjYW4gcHJvZ3JhbW1hdGljYWxseSBjYWxjdWxhdGUgd2hlbiB0byBmaXJlIHRoZSBmaXhlZC1zY3JvbGwgZXZlbnQgYW5kIGFjY291bnQgZm9yIHRoZSBtb3ZlZCBlbGVtZW50cyBzbyB0aGF0IHRvcHNpdGVzL2V0YyBzdGF5cyBpbiB0aGUgc2FtZSBwbGFjZS4gVGhlIENTUyB0aGlzIHJlZmVyZW5jZXMgaGFzIGJlZW4gZmxhZ2dlZCB0byByZWZlcmVuY2UgdGhpcyBsb2dpYyBzbyAoaG9wZWZ1bGx5KSBrZWVwIHRoZW0gaW4gc3luYy4gKi9cblxuICAgIGxldCBTQ1JPTExfVEhSRVNIT0xEID0gMDsgLy8gV2hlbiB0aGUgZml4ZWQtc2Nyb2xsIGV2ZW50IGZpcmVzXG4gICAgbGV0IE1BSU5fT0ZGU0VUX1BBRERJTkcgPSAwOyAvLyBUaGUgcGFkZGluZyB0byBjb21wZW5zYXRlIGZvciB0aGUgbW92ZWQgZWxlbWVudHNcblxuICAgIGNvbnN0IENTU19WQVJfU1BBQ0VfWFhMQVJHRSA9IDMyLjA0OyAvLyBDdXN0b20gQWNvcm4gdGhlbWVkIHZhcmlhYmxlICg4ICogMC4yNjdyZW0pO1xuXG4gICAgbGV0IGxheW91dCA9IHtcbiAgICAgIG91dGVyV3JhcHBlclBhZGRpbmdUb3A6IDI0LFxuICAgICAgc2VhcmNoV3JhcHBlclBhZGRpbmdUb3A6IDE2LFxuICAgICAgc2VhcmNoV3JhcHBlclBhZGRpbmdCb3R0b206IENTU19WQVJfU1BBQ0VfWFhMQVJHRSxcbiAgICAgIHNlYXJjaFdyYXBwZXJGaXhlZFNjcm9sbFBhZGRpbmdUb3A6IDI3LFxuICAgICAgc2VhcmNoV3JhcHBlckZpeGVkU2Nyb2xsUGFkZGluZ0JvdHRvbTogMjcsXG4gICAgICBzZWFyY2hJbm5lcldyYXBwZXJNaW5IZWlnaHQ6IDUyLFxuICAgICAgbG9nb0FuZFdvcmRtYXJrV3JhcHBlckhlaWdodDogMCxcbiAgICAgIGxvZ29BbmRXb3JkbWFya1dyYXBwZXJNYXJnaW5Cb3R0b206IDAsXG4gICAgfTtcblxuICAgIC8vIExvZ28gdmlzaWJpbGl0eSBhcHBsaWVzIHRvIGFsbCBsYXlvdXRzXG4gICAgaWYgKCFsb2dvQWx3YXlzVmlzaWJsZSkge1xuICAgICAgbGF5b3V0LmxvZ29BbmRXb3JkbWFya1dyYXBwZXJIZWlnaHQgPSAwO1xuICAgICAgbGF5b3V0LmxvZ29BbmRXb3JkbWFya1dyYXBwZXJNYXJnaW5Cb3R0b20gPSAwO1xuICAgIH1cblxuICAgIFNDUk9MTF9USFJFU0hPTEQgPVxuICAgICAgbGF5b3V0Lm91dGVyV3JhcHBlclBhZGRpbmdUb3AgK1xuICAgICAgbGF5b3V0LnNlYXJjaFdyYXBwZXJQYWRkaW5nVG9wICtcbiAgICAgIGxheW91dC5sb2dvQW5kV29yZG1hcmtXcmFwcGVySGVpZ2h0ICtcbiAgICAgIGxheW91dC5sb2dvQW5kV29yZG1hcmtXcmFwcGVyTWFyZ2luQm90dG9tIC1cbiAgICAgIGxheW91dC5zZWFyY2hXcmFwcGVyRml4ZWRTY3JvbGxQYWRkaW5nVG9wO1xuXG4gICAgTUFJTl9PRkZTRVRfUEFERElORyA9XG4gICAgICBsYXlvdXQuc2VhcmNoV3JhcHBlclBhZGRpbmdUb3AgK1xuICAgICAgbGF5b3V0LnNlYXJjaFdyYXBwZXJQYWRkaW5nQm90dG9tICtcbiAgICAgIGxheW91dC5zZWFyY2hJbm5lcldyYXBwZXJNaW5IZWlnaHQgK1xuICAgICAgbGF5b3V0LmxvZ29BbmRXb3JkbWFya1dyYXBwZXJIZWlnaHQgK1xuICAgICAgbGF5b3V0LmxvZ29BbmRXb3JkbWFya1dyYXBwZXJNYXJnaW5Cb3R0b207XG5cbiAgICAvLyBFZGdlIGNhc2UgaWYgbG9nbyBhbmQgdGh1bXMgYXJlIHR1cm5lZCBvZmYsIGJ1dCBWYXIgQSBpcyBlbmFibGVkXG4gICAgaWYgKFNDUk9MTF9USFJFU0hPTEQgPCAxKSB7XG4gICAgICBTQ1JPTExfVEhSRVNIT0xEID0gMTtcbiAgICB9XG5cbiAgICBpZiAoZ2xvYmFsLnNjcm9sbFkgPiBTQ1JPTExfVEhSRVNIT0xEICYmICF0aGlzLnN0YXRlLmZpeGVkU2VhcmNoKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZml4ZWRTZWFyY2g6IHRydWUsXG4gICAgICAgIGZpeGVkTmF2U3R5bGU6IHsgcGFkZGluZ0Jsb2NrU3RhcnQ6IGAke01BSU5fT0ZGU0VUX1BBRERJTkd9cHhgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5zY3JvbGxZIDw9IFNDUk9MTF9USFJFU0hPTEQgJiYgdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZpeGVkU2VhcmNoOiBmYWxzZSwgZml4ZWROYXZTdHlsZToge30gfSk7XG4gICAgfVxuICB9XG5cbiAgb3BlblByZWZlcmVuY2VzKCkge1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuT25seVRvTWFpbih7IHR5cGU6IGF0LlNFVFRJTkdTX09QRU4gfSkpO1xuICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goYWMuVXNlckV2ZW50KHsgZXZlbnQ6IFwiT1BFTl9ORVdUQUJfUFJFRlNcIiB9KSk7XG4gIH1cblxuICBvcGVuQ3VzdG9taXphdGlvbk1lbnUoKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaCh7IHR5cGU6IGF0LlNIT1dfUEVSU09OQUxJWkUgfSk7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJTSE9XX1BFUlNPTkFMSVpFXCIgfSkpO1xuICB9XG5cbiAgY2xvc2VDdXN0b21pemF0aW9uTWVudSgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5BcHAuY3VzdG9taXplTWVudVZpc2libGUpIHtcbiAgICAgIHRoaXMucHJvcHMuZGlzcGF0Y2goeyB0eXBlOiBhdC5ISURFX1BFUlNPTkFMSVpFIH0pO1xuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5Vc2VyRXZlbnQoeyBldmVudDogXCJISURFX1BFUlNPTkFMSVpFXCIgfSkpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU9uS2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlQ3VzdG9taXphdGlvbk1lbnUoKTtcbiAgICB9XG4gIH1cblxuICBzZXRQcmVmKHByZWYsIHZhbHVlKSB7XG4gICAgdGhpcy5wcm9wcy5kaXNwYXRjaChhYy5TZXRQcmVmKHByZWYsIHZhbHVlKSk7XG4gIH1cblxuICBhcHBseUJvZHlDbGFzc2VzKCkge1xuICAgIGNvbnN0IHsgYm9keSwgZG9jdW1lbnRFbGVtZW50IH0gPSB0aGlzLnByb3BzLmRvY3VtZW50O1xuICAgIGlmICghYm9keSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3Rpdml0eS1zdHJlYW1cIikpIHtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImFjdGl2aXR5LXN0cmVhbVwiKTtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBzbWFydC13aW5kb3ctYWN0aXZlIGNsYXNzIHRvIHJvb3QgaHRtbCBlbGVtZW50IGJhc2VkIG9uIFJlZHV4IHN0YXRlXG4gICAgaWYgKGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMucHJvcHMuU21hcnRXaW5kb3c/LmFjdGl2ZSkge1xuICAgICAgICBkb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNtYXJ0LXdpbmRvdy1hY3RpdmVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInNtYXJ0LXdpbmRvdy1hY3RpdmVcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyV2FsbHBhcGVyQXR0cmlidXRpb24oKSB7XG4gICAgY29uc3QgeyB3YWxscGFwZXJMaXN0IH0gPSB0aGlzLnByb3BzLldhbGxwYXBlcnM7XG4gICAgY29uc3QgYWN0aXZlV2FsbHBhcGVyID1cbiAgICAgIHRoaXMucHJvcHMuUHJlZnMudmFsdWVzW2BuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlcmBdO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gd2FsbHBhcGVyTGlzdC5maW5kKHdwID0+IHdwLnRpdGxlID09PSBhY3RpdmVXYWxscGFwZXIpO1xuICAgIC8vIG1ha2Ugc3VyZSBhIHdhbGxwYXBlciBpcyBzZWxlY3RlZCBhbmQgdGhhdCB0aGUgYXR0cmlidXRpb24gYWxzbyBleGlzdHNcbiAgICBpZiAoIXNlbGVjdGVkPy5hdHRyaWJ1dGlvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgeyBuYW1lOiBhdXRob3JEZXRhaWxzLCB3ZWJwYWdlIH0gPSBzZWxlY3RlZC5hdHRyaWJ1dGlvbjtcbiAgICBpZiAoYWN0aXZlV2FsbHBhcGVyICYmIHdhbGxwYXBlckxpc3QgJiYgYXV0aG9yRGV0YWlscy51cmwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxwXG4gICAgICAgICAgY2xhc3NOYW1lPXtgd2FsbHBhcGVyLWF0dHJpYnV0aW9uYH1cbiAgICAgICAgICBrZXk9e2F1dGhvckRldGFpbHMuc3RyaW5nfVxuICAgICAgICAgIGRhdGEtbDEwbi1pZD1cIm5ld3RhYi13YWxscGFwZXItYXR0cmlidXRpb25cIlxuICAgICAgICAgIGRhdGEtbDEwbi1hcmdzPXtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBhdXRob3Jfc3RyaW5nOiBhdXRob3JEZXRhaWxzLnN0cmluZyxcbiAgICAgICAgICAgIGF1dGhvcl91cmw6IGF1dGhvckRldGFpbHMudXJsLFxuICAgICAgICAgICAgd2VicGFnZV9zdHJpbmc6IHdlYnBhZ2Uuc3RyaW5nLFxuICAgICAgICAgICAgd2VicGFnZV91cmw6IHdlYnBhZ2UudXJsLFxuICAgICAgICAgIH0pfVxuICAgICAgICA+XG4gICAgICAgICAgPGEgZGF0YS1sMTBuLW5hbWU9XCJuYW1lLWxpbmtcIiBocmVmPXthdXRob3JEZXRhaWxzLnVybH0+XG4gICAgICAgICAgICB7YXV0aG9yRGV0YWlscy5zdHJpbmd9XG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxhIGRhdGEtbDEwbi1uYW1lPVwid2VicGFnZS1saW5rXCIgaHJlZj17d2VicGFnZS51cmx9PlxuICAgICAgICAgICAge3dlYnBhZ2Uuc3RyaW5nfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyB1cGRhdGVXYWxscGFwZXIoKSB7XG4gICAgY29uc3QgcHJlZnMgPSB0aGlzLnByb3BzLlByZWZzLnZhbHVlcztcbiAgICBjb25zdCBzZWxlY3RlZFdhbGxwYXBlciA9IHByZWZzW1wibmV3dGFiV2FsbHBhcGVycy53YWxscGFwZXJcIl07XG4gICAgY29uc3QgeyB3YWxscGFwZXJMaXN0LCB1cGxvYWRlZFdhbGxwYXBlcjogdXBsb2FkZWRXYWxscGFwZXJVcmwgfSA9XG4gICAgICB0aGlzLnByb3BzLldhbGxwYXBlcnM7XG4gICAgY29uc3QgdXBsb2FkZWRXYWxscGFwZXJUaGVtZSA9XG4gICAgICBwcmVmc1tcIm5ld3RhYldhbGxwYXBlcnMuY3VzdG9tV2FsbHBhcGVyLnRoZW1lXCJdO1xuICAgIC8vIFV1c2UgdGhpcy5wcmVmZXJzRGFya1F1ZXJ5IHNpbmNlIHRoaXMuc3RhdGUuY29sb3JNb2RlIGNhbiBiZSB1bmRlZmluZWQgd2hlbiB0aGlzIGlzIGNhbGxlZFxuICAgIGNvbnN0IGNvbG9yTW9kZSA9IHRoaXMucHJlZmVyc0RhcmtRdWVyeT8ubWF0Y2hlcyA/IFwiZGFya1wiIDogXCJsaWdodFwiO1xuICAgIGxldCB1cmwgPSBcIlwiO1xuICAgIGxldCBjb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICBsZXQgbmV3VGhlbWUgPSBjb2xvck1vZGU7XG5cbiAgICAvLyBpZiBubyBzZWxlY3RlZCB3YWxscGFwZXIgZmFsbGJhY2sgdG8gYnJvd3Nlci90aGVtZSBzdHlsZXNcbiAgICBpZiAoIXNlbGVjdGVkV2FsbHBhcGVyKSB7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQ/LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCItLW5ld3RhYi13YWxscGFwZXJcIik7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQ/LmJvZHkuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCItLW5ld3RhYi13YWxscGFwZXItY29sb3JcIik7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQ/LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImxpZ2h0V2FsbHBhcGVyXCIsIFwiZGFya1dhbGxwYXBlclwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB1cGxvYWRlZCB3YWxscGFwZXJcbiAgICBpZiAoc2VsZWN0ZWRXYWxscGFwZXIgPT09IFwiY3VzdG9tXCIgJiYgdXBsb2FkZWRXYWxscGFwZXJVcmwpIHtcbiAgICAgIHVybCA9IHVwbG9hZGVkV2FsbHBhcGVyVXJsO1xuICAgICAgY29sb3IgPSBcInRyYW5zcGFyZW50XCI7XG4gICAgICBuZXdUaGVtZSA9IHVwbG9hZGVkV2FsbHBhcGVyVGhlbWUgfHwgY29sb3JNb2RlO1xuICAgIH0gZWxzZSBpZiAod2FsbHBhcGVyTGlzdCkge1xuICAgICAgY29uc3Qgd2FsbHBhcGVyID0gd2FsbHBhcGVyTGlzdC5maW5kKFxuICAgICAgICB3cCA9PiB3cC50aXRsZSA9PT0gc2VsZWN0ZWRXYWxscGFwZXJcbiAgICAgICk7XG4gICAgICAvLyBzb2xpZCBjb2xvciBwaWNrZXJcbiAgICAgIGlmIChzZWxlY3RlZFdhbGxwYXBlci5pbmNsdWRlcyhcInNvbGlkLWNvbG9yLXBpY2tlclwiKSkge1xuICAgICAgICBjb25zdCByZWdleFJHQiA9IC8jKFthLWZBLUYwLTldezZ9KS87XG4gICAgICAgIGNvbnN0IGhleCA9IHNlbGVjdGVkV2FsbHBhcGVyLm1hdGNoKHJlZ2V4UkdCKT8uWzBdO1xuICAgICAgICB1cmwgPSBcIlwiO1xuICAgICAgICBjb2xvciA9IGhleDtcbiAgICAgICAgY29uc3QgcmdiQ29sb3JzID0gdGhpcy5nZXRSR0JDb2xvcnMoaGV4KTtcbiAgICAgICAgbmV3VGhlbWUgPSB0aGlzLmlzV2FsbHBhcGVyQ29sb3JEYXJrKHJnYkNvbG9ycykgPyBcImRhcmtcIiA6IFwibGlnaHRcIjtcbiAgICAgICAgLy8gc3RhbmRhcmQgd2FsbHBhcGVyICYgc29saWQgY29sb3JzXG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkV2FsbHBhcGVyKSB7XG4gICAgICAgIHVybCA9IHdhbGxwYXBlcj8ud2FsbHBhcGVyVXJsIHx8IFwiXCI7XG4gICAgICAgIGNvbG9yID0gd2FsbHBhcGVyPy5zb2xpZF9jb2xvciB8fCBcInRyYW5zcGFyZW50XCI7XG4gICAgICAgIG5ld1RoZW1lID0gd2FsbHBhcGVyPy50aGVtZSB8fCBjb2xvck1vZGU7XG4gICAgICAgIC8vIGlmIGEgc29saWQgY29sb3IsIGRldGVybWluZSBpZiBkYXJrIG9yIGxpZ2h0XG4gICAgICAgIGlmICh3YWxscGFwZXI/LnNvbGlkX2NvbG9yKSB7XG4gICAgICAgICAgY29uc3QgcmdiQ29sb3JzID0gdGhpcy5nZXRSR0JDb2xvcnMod2FsbHBhcGVyLnNvbGlkX2NvbG9yKTtcbiAgICAgICAgICBjb25zdCBpc0NvbG9yRGFyayA9IHRoaXMuaXNXYWxscGFwZXJDb2xvckRhcmsocmdiQ29sb3JzKTtcbiAgICAgICAgICBuZXdUaGVtZSA9IGlzQ29sb3JEYXJrID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZ2xvYmFsLmRvY3VtZW50Py5ib2R5LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgXCItLW5ld3RhYi13YWxscGFwZXJcIixcbiAgICAgIGB1cmwoJHt1cmx9KWBcbiAgICApO1xuICAgIGdsb2JhbC5kb2N1bWVudD8uYm9keS5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgIFwiLS1uZXd0YWItd2FsbHBhcGVyLWNvbG9yXCIsXG4gICAgICBjb2xvciB8fCBcInRyYW5zcGFyZW50XCJcbiAgICApO1xuXG4gICAgZ2xvYmFsLmRvY3VtZW50Py5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJsaWdodFdhbGxwYXBlclwiLCBcImRhcmtXYWxscGFwZXJcIik7XG4gICAgZ2xvYmFsLmRvY3VtZW50Py5ib2R5LmNsYXNzTGlzdC5hZGQoXG4gICAgICBuZXdUaGVtZSA9PT0gXCJkYXJrXCIgPyBcImRhcmtXYWxscGFwZXJcIiA6IFwibGlnaHRXYWxscGFwZXJcIlxuICAgICk7XG4gIH1cblxuICBzaG91bGRTaG93T01DSGlnaGxpZ2h0KGNvbXBvbmVudElkKSB7XG4gICAgY29uc3QgbWVzc2FnZURhdGEgPSB0aGlzLnByb3BzLk1lc3NhZ2VzPy5tZXNzYWdlRGF0YTtcbiAgICBpZiAoIW1lc3NhZ2VEYXRhIHx8IE9iamVjdC5rZXlzKG1lc3NhZ2VEYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2VEYXRhPy5jb250ZW50Py5tZXNzYWdlVHlwZSA9PT0gY29tcG9uZW50SWQ7XG4gIH1cblxuICB0b2dnbGVEb3dubG9hZEhpZ2hsaWdodCgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiB7XG4gICAgICBjb25zdCBvdmVycmlkZSA9ICEoXG4gICAgICAgIHByZXZTdGF0ZS5zaG93RG93bmxvYWRIaWdobGlnaHRPdmVycmlkZSA/P1xuICAgICAgICB0aGlzLnNob3VsZFNob3dPTUNIaWdobGlnaHQoXCJEb3dubG9hZE1vYmlsZVByb21vSGlnaGxpZ2h0XCIpXG4gICAgICApO1xuXG4gICAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgICAgLy8gRW1pdCBhbiBvcGVuIGV2ZW50IG1hbnVhbGx5IHNpbmNlIE9NQyBpc24ndCBoYW5kbGluZyBpdFxuICAgICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxuICAgICAgICAgIGFjLkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCh7XG4gICAgICAgICAgICBldmVudDogXCJGRUFUVVJFX0hJR0hMSUdIVF9PUEVOXCIsXG4gICAgICAgICAgICBzb3VyY2U6IFwiRkVBVFVSRV9ISUdITElHSFRcIixcbiAgICAgICAgICAgIHZhbHVlOiB7IGZlYXR1cmU6IFwiRkVBVFVSRV9ET1dOTE9BRF9NT0JJTEVfUFJPTU9cIiB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNob3dEb3dubG9hZEhpZ2hsaWdodE92ZXJyaWRlOiBvdmVycmlkZSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVEaXNtaXNzRG93bmxvYWRIaWdobGlnaHQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dEb3dubG9hZEhpZ2hsaWdodE92ZXJyaWRlOiBmYWxzZSB9KTtcbiAgfVxuXG4gIGdldFJHQkNvbG9ycyhpbnB1dCkge1xuICAgIGlmIChpbnB1dC5sZW5ndGggIT09IDcpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCByID0gcGFyc2VJbnQoaW5wdXQuc3Vic3RyKDEsIDIpLCAxNik7XG4gICAgY29uc3QgZyA9IHBhcnNlSW50KGlucHV0LnN1YnN0cigzLCAyKSwgMTYpO1xuICAgIGNvbnN0IGIgPSBwYXJzZUludChpbnB1dC5zdWJzdHIoNSwgMiksIDE2KTtcblxuICAgIHJldHVybiBbciwgZywgYl07XG4gIH1cblxuICBpc1dhbGxwYXBlckNvbG9yRGFyayhbciwgZywgYl0pIHtcbiAgICByZXR1cm4gMC4yMTI1ICogciArIDAuNzE1NCAqIGcgKyAwLjA3MjEgKiBiIDw9IDExMDtcbiAgfVxuXG4gIHNob3VsZERpc3BsYXlUb3BpY1NlbGVjdGlvbk1vZGFsKCkge1xuICAgIGNvbnN0IHByZWZzID0gdGhpcy5wcm9wcy5QcmVmcy52YWx1ZXM7XG4gICAgY29uc3QgcG9ja2V0RW5hYmxlZCA9XG4gICAgICBwcmVmc1tcImZlZWRzLnNlY3Rpb24udG9wc3Rvcmllc1wiXSAmJiBwcmVmc1tcImZlZWRzLnN5c3RlbS50b3BzdG9yaWVzXCJdO1xuICAgIGNvbnN0IHRvcGljU2VsZWN0aW9uT25ib2FyZGluZ0VuYWJsZWQgPVxuICAgICAgcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24ub25ib2FyZGluZy5lbmFibGVkXCJdICYmXG4gICAgICBwb2NrZXRFbmFibGVkO1xuICAgIGNvbnN0IG1heWJlU2hvd01vZGFsID1cbiAgICAgIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcubWF5YmVEaXNwbGF5XCJdO1xuICAgIGNvbnN0IGRpc3BsYXlUaW1lb3V0ID1cbiAgICAgIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcuZGlzcGxheVRpbWVvdXRcIl07XG4gICAgY29uc3QgbGFzdERpc3BsYXllZCA9XG4gICAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50b3BpY1NlbGVjdGlvbi5vbmJvYXJkaW5nLmxhc3REaXNwbGF5ZWRcIl07XG4gICAgY29uc3QgZGlzcGxheUNvdW50ID1cbiAgICAgIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcuZGlzcGxheUNvdW50XCJdO1xuXG4gICAgaWYgKFxuICAgICAgIW1heWJlU2hvd01vZGFsIHx8XG4gICAgICAhcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24uZW5hYmxlZFwiXSB8fFxuICAgICAgIXRvcGljU2VsZWN0aW9uT25ib2FyZGluZ0VuYWJsZWRcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkYXkgPSAyNCAqIDYwICogNjAgKiAxMDAwO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgY29uc3QgdGltZW91dE9jY3VyZWQgPSBub3cgLSBwYXJzZUZsb2F0KGxhc3REaXNwbGF5ZWQpID4gZGlzcGxheVRpbWVvdXQ7XG4gICAgaWYgKGRpc3BsYXlDb3VudCA8IDMpIHtcbiAgICAgIGlmIChkaXNwbGF5Q291bnQgPT09IDAgfHwgdGltZW91dE9jY3VyZWQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcbiAgICAgICAgICBhYy5Ccm9hZGNhc3RUb0NvbnRlbnQoeyB0eXBlOiBhdC5UT1BJQ19TRUxFQ1RJT05fU1BPVExJR0hUX09QRU4gfSlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5zZXRQcmVmKFxuICAgICAgICAgIFwiZGlzY292ZXJ5c3RyZWFtLnRvcGljU2VsZWN0aW9uLm9uYm9hcmRpbmcuZGlzcGxheVRpbWVvdXRcIixcbiAgICAgICAgICBkYXlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHMsIGNvbXBsZXhpdHlcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBBcHAsIERpc2NvdmVyeVN0cmVhbSB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBpbml0aWFsaXplZCwgY3VzdG9taXplTWVudVZpc2libGUgfSA9IEFwcDtcbiAgICBjb25zdCBwcmVmcyA9IHByb3BzLlByZWZzLnZhbHVlcztcblxuICAgIC8vIElmIFNtYXJ0IFdpbmRvdyBpcyBhY3RpdmUsIG9ubHkgcmVuZGVyIHRoZSBzZWFyY2ggY29tcG9uZW50XG4gICAgaWYgKHByb3BzLlNtYXJ0V2luZG93Py5hY3RpdmUgJiYgcHJlZnMuc2hvd1NlYXJjaCkge1xuICAgICAgY29uc3Qgc2VhcmNoSGFuZG9mZkVuYWJsZWQgPSBwcmVmc1tcImltcHJvdmVzZWFyY2guaGFuZG9mZlRvQXdlc29tZWJhclwiXTtcbiAgICAgIGNvbnN0IG5vU2VjdGlvbnNFbmFibGVkID0gdHJ1ZTsgLy8gU2hvdyBsb2dvIGluIHNtYXJ0IHdpbmRvdyBtb2RlXG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic21hcnQtd2luZG93LXNlYXJjaC1vbmx5XCI+XG4gICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibmV3dGFiLW1haW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm9uLWNvbGxhcHNpYmxlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICAgPFNlYXJjaFxuICAgICAgICAgICAgICAgICAgc2hvd0xvZ289e1xuICAgICAgICAgICAgICAgICAgICBub1NlY3Rpb25zRW5hYmxlZCB8fCBwcmVmc1tcImxvZ293b3JkbWFyay5hbHdheXNWaXNpYmxlXCJdXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBoYW5kb2ZmRW5hYmxlZD17c2VhcmNoSGFuZG9mZkVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICB7Li4ucHJvcHMuU2VhcmNofVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZVdhbGxwYXBlciA9IHByZWZzW2BuZXd0YWJXYWxscGFwZXJzLndhbGxwYXBlcmBdO1xuICAgIGNvbnN0IHdhbGxwYXBlcnNFbmFibGVkID0gcHJlZnNbXCJuZXd0YWJXYWxscGFwZXJzLmVuYWJsZWRcIl07XG4gICAgY29uc3Qgd2VhdGhlckVuYWJsZWQgPSBwcmVmcy5zaG93V2VhdGhlcjtcbiAgICBjb25zdCB7IHNob3dUb3BpY1NlbGVjdGlvbiB9ID0gRGlzY292ZXJ5U3RyZWFtO1xuICAgIGNvbnN0IG1heVNob3dUb3BpY1NlbGVjdGlvbiA9XG4gICAgICBzaG93VG9waWNTZWxlY3Rpb24gJiYgcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udG9waWNTZWxlY3Rpb24uZW5hYmxlZFwiXTtcblxuICAgIGNvbnN0IGlzRGlzY292ZXJ5U3RyZWFtID1cbiAgICAgIHByb3BzLkRpc2NvdmVyeVN0cmVhbS5jb25maWcgJiYgcHJvcHMuRGlzY292ZXJ5U3RyZWFtLmNvbmZpZy5lbmFibGVkO1xuICAgIGxldCBmaWx0ZXJlZFNlY3Rpb25zID0gcHJvcHMuU2VjdGlvbnMuZmlsdGVyKFxuICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLmlkICE9PSBcInRvcHN0b3JpZXNcIlxuICAgICk7XG5cbiAgICBjb25zdCBwb2NrZXRFbmFibGVkID1cbiAgICAgIHByZWZzW1wiZmVlZHMuc2VjdGlvbi50b3BzdG9yaWVzXCJdICYmIHByZWZzW1wiZmVlZHMuc3lzdGVtLnRvcHN0b3JpZXNcIl07XG4gICAgY29uc3Qgbm9TZWN0aW9uc0VuYWJsZWQgPVxuICAgICAgIXByZWZzW1wiZmVlZHMudG9wc2l0ZXNcIl0gJiZcbiAgICAgICFwb2NrZXRFbmFibGVkICYmXG4gICAgICBmaWx0ZXJlZFNlY3Rpb25zLmZpbHRlcihzZWN0aW9uID0+IHNlY3Rpb24uZW5hYmxlZCkubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IHNlYXJjaEhhbmRvZmZFbmFibGVkID0gcHJlZnNbXCJpbXByb3Zlc2VhcmNoLmhhbmRvZmZUb0F3ZXNvbWViYXJcIl07XG4gICAgY29uc3QgZW5hYmxlZFNlY3Rpb25zID0ge1xuICAgICAgdG9wU2l0ZXNFbmFibGVkOiBwcmVmc1tcImZlZWRzLnRvcHNpdGVzXCJdLFxuICAgICAgcG9ja2V0RW5hYmxlZDogcHJlZnNbXCJmZWVkcy5zZWN0aW9uLnRvcHN0b3JpZXNcIl0sXG4gICAgICBzaG93SW5mZXJyZWRQZXJzb25hbGl6YXRpb25FbmFibGVkOlxuICAgICAgICBwcmVmc1tQUkVGX0lORkVSUkVEX1BFUlNPTkFMSVpBVElPTl9VU0VSXSxcbiAgICAgIHRvcFNpdGVzUm93c0NvdW50OiBwcmVmcy50b3BTaXRlc1Jvd3MsXG4gICAgICB3ZWF0aGVyRW5hYmxlZDogcHJlZnMuc2hvd1dlYXRoZXIsXG4gICAgICB0cmVuZGluZ1NlYXJjaEVuYWJsZWQ6IHByZWZzW1widHJlbmRpbmdTZWFyY2guZW5hYmxlZFwiXSxcbiAgICB9O1xuXG4gICAgY29uc3QgcG9ja2V0UmVnaW9uID0gcHJlZnNbXCJmZWVkcy5zeXN0ZW0udG9wc3Rvcmllc1wiXTtcbiAgICBjb25zdCBtYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb24gPVxuICAgICAgcHJlZnNbUFJFRl9JTkZFUlJFRF9QRVJTT05BTElaQVRJT05fU1lTVEVNXTtcbiAgICBjb25zdCBtYXlIYXZlV2VhdGhlciA9IHByZWZzW1wic3lzdGVtLnNob3dXZWF0aGVyXCJdO1xuICAgIGNvbnN0IHN1cHBvcnRVcmwgPSBwcmVmc1tcInN1cHBvcnQudXJsXCJdO1xuXG4gICAgLy8gV2VhdGhlciBjYW4gYmUgZW5hYmxlZCBhbmQgbm90IHJlbmRlcmVkIGluIHRoZSB0b3AgcmlnaHQgY29ybmVyXG4gICAgY29uc3Qgc2hvdWxkRGlzcGxheVdlYXRoZXIgPVxuICAgICAgcHJlZnMuc2hvd1dlYXRoZXIgJiYgdGhpcy5wcm9wcy53ZWF0aGVyUGxhY2VtZW50ID09PSBcImhlYWRlclwiO1xuXG4gICAgLy8gV2lkZ2V0cyBleHBlcmltZW50IHByZWYgY2hlY2tcbiAgICBjb25zdCBuaW1idXNXaWRnZXRzRW5hYmxlZCA9IHByZWZzLndpZGdldHNDb25maWc/LmVuYWJsZWQ7XG4gICAgY29uc3QgbmltYnVzTGlzdHNFbmFibGVkID0gcHJlZnMud2lkZ2V0c0NvbmZpZz8ubGlzdHNFbmFibGVkO1xuICAgIGNvbnN0IG5pbWJ1c1RpbWVyRW5hYmxlZCA9IHByZWZzLndpZGdldHNDb25maWc/LnRpbWVyRW5hYmxlZDtcblxuICAgIGNvbnN0IG1heUhhdmVXaWRnZXRzID1cbiAgICAgIHByZWZzW1wid2lkZ2V0cy5zeXN0ZW0uZW5hYmxlZFwiXSB8fCBuaW1idXNXaWRnZXRzRW5hYmxlZDtcbiAgICBjb25zdCBtYXlIYXZlTGlzdHNXaWRnZXQgPVxuICAgICAgcHJlZnNbXCJ3aWRnZXRzLnN5c3RlbS5saXN0cy5lbmFibGVkXCJdIHx8IG5pbWJ1c0xpc3RzRW5hYmxlZDtcbiAgICBjb25zdCBtYXlIYXZlVGltZXJXaWRnZXQgPVxuICAgICAgcHJlZnNbXCJ3aWRnZXRzLnN5c3RlbS5mb2N1c1RpbWVyLmVuYWJsZWRcIl0gfHwgbmltYnVzVGltZXJFbmFibGVkO1xuXG4gICAgLy8gVGhlc2UgcHJlZnMgc2V0IHRoZSBpbml0aWFsIHZhbHVlcyBvbiB0aGUgQ3VzdG9taXplIHBhbmVsIHRvZ2dsZSBzd2l0Y2hlc1xuICAgIGNvbnN0IGVuYWJsZWRXaWRnZXRzID0ge1xuICAgICAgbGlzdHNFbmFibGVkOiBwcmVmc1tcIndpZGdldHMubGlzdHMuZW5hYmxlZFwiXSxcbiAgICAgIHRpbWVyRW5hYmxlZDogcHJlZnNbXCJ3aWRnZXRzLmZvY3VzVGltZXIuZW5hYmxlZFwiXSxcbiAgICAgIHRyZW5kaW5nU2VhcmNoRW5hYmxlZDogcHJlZnNbXCJ0cmVuZGluZ1NlYXJjaC5lbmFibGVkXCJdLFxuICAgICAgd2VhdGhlckVuYWJsZWQ6IHByZWZzLnNob3dXZWF0aGVyLFxuICAgIH07XG5cbiAgICAvLyBUcmVuZGluZyBTZWFyY2hlcyBleHBlcmltZW50IHByZWYgY2hlY2tcbiAgICBjb25zdCBtYXlIYXZlVHJlbmRpbmdTZWFyY2ggPVxuICAgICAgcHJlZnNbXCJzeXN0ZW0udHJlbmRpbmdTZWFyY2guZW5hYmxlZFwiXSAmJlxuICAgICAgcHJlZnNbXCJ0cmVuZGluZ1NlYXJjaC5kZWZhdWx0U2VhcmNoRW5naW5lXCJdLnRvTG93ZXJDYXNlKCkgPT09IFwiZ29vZ2xlXCI7XG5cbiAgICAvLyBNb2JpbGUgRG93bmxvYWQgUHJvbW8gUHJlZiBDaGVja3NcbiAgICBjb25zdCBtb2JpbGVEb3dubG9hZFByb21vRW5hYmxlZCA9IHByZWZzW1wibW9iaWxlRG93bmxvYWRNb2RhbC5lbmFibGVkXCJdO1xuICAgIGNvbnN0IG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUVuYWJsZWQgPVxuICAgICAgcHJlZnNbXCJtb2JpbGVEb3dubG9hZE1vZGFsLnZhcmlhbnQtYVwiXTtcbiAgICBjb25zdCBtb2JpbGVEb3dubG9hZFByb21vVmFyaWFudEJFbmFibGVkID1cbiAgICAgIHByZWZzW1wibW9iaWxlRG93bmxvYWRNb2RhbC52YXJpYW50LWJcIl07XG4gICAgY29uc3QgbW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRDRW5hYmxlZCA9XG4gICAgICBwcmVmc1tcIm1vYmlsZURvd25sb2FkTW9kYWwudmFyaWFudC1jXCJdO1xuICAgIGNvbnN0IG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUJvckMgPVxuICAgICAgbW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRBRW5hYmxlZCB8fFxuICAgICAgbW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRCRW5hYmxlZCB8fFxuICAgICAgbW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRDRW5hYmxlZDtcbiAgICBjb25zdCBtb2JpbGVEb3dubG9hZFByb21vV3JhcHBlckhlaWdodE1vZGlmaWVyID1cbiAgICAgIHByZWZzW1wid2VhdGhlci5kaXNwbGF5XCJdID09PSBcImRldGFpbGVkXCIgJiZcbiAgICAgIHdlYXRoZXJFbmFibGVkICYmXG4gICAgICBzaG91bGREaXNwbGF5V2VhdGhlciAmJlxuICAgICAgbWF5SGF2ZVdlYXRoZXJcbiAgICAgICAgPyBcImlzLXRhbGxcIlxuICAgICAgICA6IFwiXCI7XG5cbiAgICBjb25zdCBoYXNUaHVtYnNVcERvd25MYXlvdXQgPVxuICAgICAgcHJlZnNbXCJkaXNjb3ZlcnlzdHJlYW0udGh1bWJzVXBEb3duLnNlYXJjaFRvcHNpdGVzQ29tcGFjdFwiXTtcbiAgICBjb25zdCBoYXNUaHVtYnNVcERvd24gPSBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS50aHVtYnNVcERvd24uZW5hYmxlZFwiXTtcbiAgICBjb25zdCBzZWN0aW9uc0VuYWJsZWQgPSBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHRvcGljTGFiZWxzRW5hYmxlZCA9IHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnRvcGljTGFiZWxzLmVuYWJsZWRcIl07XG4gICAgY29uc3Qgc2VjdGlvbnNDdXN0b21pemVNZW51UGFuZWxFbmFibGVkID1cbiAgICAgIHByZWZzW1wiZGlzY292ZXJ5c3RyZWFtLnNlY3Rpb25zLmN1c3RvbWl6ZU1lbnVQYW5lbC5lbmFibGVkXCJdO1xuICAgIGNvbnN0IHNlY3Rpb25zUGVyc29uYWxpemF0aW9uRW5hYmxlZCA9XG4gICAgICBwcmVmc1tcImRpc2NvdmVyeXN0cmVhbS5zZWN0aW9ucy5wZXJzb25hbGl6YXRpb24uZW5hYmxlZFwiXTtcblxuICAgIC8vIExvZ2ljIHRvIHNob3cgZm9sbG93L2Jsb2NrIHRvcGljIG1nbXQgcGFuZWwgaW4gQ3VzdG9taXplIHBhbmVsXG4gICAgY29uc3QgbWF5SGF2ZVBlcnNvbmFsaXplZFRvcGljU2VjdGlvbnMgPVxuICAgICAgc2VjdGlvbnNQZXJzb25hbGl6YXRpb25FbmFibGVkICYmXG4gICAgICB0b3BpY0xhYmVsc0VuYWJsZWQgJiZcbiAgICAgIHNlY3Rpb25zRW5hYmxlZCAmJlxuICAgICAgc2VjdGlvbnNDdXN0b21pemVNZW51UGFuZWxFbmFibGVkICYmXG4gICAgICBEaXNjb3ZlcnlTdHJlYW0uZmVlZHMubG9hZGVkO1xuXG4gICAgY29uc3QgZmVhdHVyZUNsYXNzTmFtZSA9IFtcbiAgICAgIG1vYmlsZURvd25sb2FkUHJvbW9FbmFibGVkICYmXG4gICAgICAgIG1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUJvckMgJiZcbiAgICAgICAgXCJoYXMtbW9iaWxlLWRvd25sb2FkLXByb21vXCIsIC8vIE1vYmlsZSBkb3dubG9hZCBwcm9tbyBtb2RhbCBpcyBlbmFibGVkL3Zpc2libGVcbiAgICAgIHdlYXRoZXJFbmFibGVkICYmIG1heUhhdmVXZWF0aGVyICYmIHNob3VsZERpc3BsYXlXZWF0aGVyICYmIFwiaGFzLXdlYXRoZXJcIiwgLy8gV2VhdGhlciB3aWRnZXQgaXMgZW5hYmxlZC92aXNpYmxlXG4gICAgICBwcmVmcy5zaG93U2VhcmNoID8gXCJoYXMtc2VhcmNoXCIgOiBcIm5vLXNlYXJjaFwiLFxuICAgICAgLy8gbGF5b3V0c1ZhcmlhbnRBRW5hYmxlZCA/IFwibGF5b3V0LXZhcmlhbnQtYVwiIDogXCJcIiwgLy8gTGF5b3V0IGV4cGVyaW1lbnQgdmFyaWFudCBBXG4gICAgICAvLyBsYXlvdXRzVmFyaWFudEJFbmFibGVkID8gXCJsYXlvdXQtdmFyaWFudC1iXCIgOiBcIlwiLCAvLyBMYXlvdXQgZXhwZXJpbWVudCB2YXJpYW50IEJcbiAgICAgIHBvY2tldEVuYWJsZWQgPyBcImhhcy1yZWNvbW1lbmRlZC1zdG9yaWVzXCIgOiBcIm5vLXJlY29tbWVuZGVkLXN0b3JpZXNcIixcbiAgICAgIHNlY3Rpb25zRW5hYmxlZCA/IFwiaGFzLXNlY3Rpb25zLWdyaWRcIiA6IFwiXCIsXG4gICAgXVxuICAgICAgLmZpbHRlcih2ID0+IHYpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICBjb25zdCBvdXRlckNsYXNzTmFtZSA9IFtcbiAgICAgIFwib3V0ZXItd3JhcHBlclwiLFxuICAgICAgaXNEaXNjb3ZlcnlTdHJlYW0gJiYgcG9ja2V0RW5hYmxlZCAmJiBcImRzLW91dGVyLXdyYXBwZXItc2VhcmNoLWFsaWdubWVudFwiLFxuICAgICAgaXNEaXNjb3ZlcnlTdHJlYW0gJiYgXCJkcy1vdXRlci13cmFwcGVyLWJyZWFrcG9pbnQtb3ZlcnJpZGVcIixcbiAgICAgIHByZWZzLnNob3dTZWFyY2ggJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5maXhlZFNlYXJjaCAmJlxuICAgICAgICAhbm9TZWN0aW9uc0VuYWJsZWQgJiZcbiAgICAgICAgXCJmaXhlZC1zZWFyY2hcIixcbiAgICAgIHByZWZzLnNob3dTZWFyY2ggJiYgbm9TZWN0aW9uc0VuYWJsZWQgJiYgXCJvbmx5LXNlYXJjaFwiLFxuICAgICAgcHJlZnNbXCJmZWVkcy50b3BzaXRlc1wiXSAmJlxuICAgICAgICAhcG9ja2V0RW5hYmxlZCAmJlxuICAgICAgICAhcHJlZnMuc2hvd1NlYXJjaCAmJlxuICAgICAgICBcIm9ubHktdG9wc2l0ZXNcIixcbiAgICAgIG5vU2VjdGlvbnNFbmFibGVkICYmIFwibm8tc2VjdGlvbnNcIixcbiAgICAgIHByZWZzW1wibG9nb3dvcmRtYXJrLmFsd2F5c1Zpc2libGVcIl0gJiYgXCJ2aXNpYmxlLWxvZ29cIixcbiAgICAgIGhhc1RodW1ic1VwRG93bkxheW91dCAmJiBoYXNUaHVtYnNVcERvd24gJiYgXCJ0aHVtYnMtdWktY29tcGFjdFwiLFxuICAgIF1cbiAgICAgIC5maWx0ZXIodiA9PiB2KVxuICAgICAgLmpvaW4oXCIgXCIpO1xuXG4gICAgLy8gSWYgc3RhdGUuc2hvd0Rvd25sb2FkSGlnaGxpZ2h0T3ZlcnJpZGUgaGFzIHZhbHVlLCBsZXQgaXQgb3ZlcnJpZGUgdGhlIGxvZ2ljXG4gICAgLy8gT3RoZXJ3aXNlLCBkZWZlciB0byBPTUMgbWVzc2FnZSBkaXNwbGF5IGxvZ2ljXG4gICAgY29uc3Qgc2hvdWxkU2hvd0Rvd25sb2FkSGlnaGxpZ2h0ID1cbiAgICAgIHRoaXMuc3RhdGUuc2hvd0Rvd25sb2FkSGlnaGxpZ2h0T3ZlcnJpZGUgPz9cbiAgICAgIHRoaXMuc2hvdWxkU2hvd09NQ0hpZ2hsaWdodChcIkRvd25sb2FkTW9iaWxlUHJvbW9IaWdobGlnaHRcIik7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2ZlYXR1cmVDbGFzc05hbWV9PlxuICAgICAgICB7LyogRmxvYXRpbmcgbWVudSBmb3IgY3VzdG9taXplIG1lbnUgdG9nZ2xlICovfVxuICAgICAgICA8bWVudSBjbGFzc05hbWU9XCJwZXJzb25hbGl6ZUJ1dHRvbldyYXBwZXJcIj5cbiAgICAgICAgICA8Q3VzdG9taXplTWVudVxuICAgICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZUN1c3RvbWl6YXRpb25NZW51fVxuICAgICAgICAgICAgb25PcGVuPXt0aGlzLm9wZW5DdXN0b21pemF0aW9uTWVudX1cbiAgICAgICAgICAgIG9wZW5QcmVmZXJlbmNlcz17dGhpcy5vcGVuUHJlZmVyZW5jZXN9XG4gICAgICAgICAgICBzZXRQcmVmPXt0aGlzLnNldFByZWZ9XG4gICAgICAgICAgICBlbmFibGVkU2VjdGlvbnM9e2VuYWJsZWRTZWN0aW9uc31cbiAgICAgICAgICAgIGVuYWJsZWRXaWRnZXRzPXtlbmFibGVkV2lkZ2V0c31cbiAgICAgICAgICAgIHdhbGxwYXBlcnNFbmFibGVkPXt3YWxscGFwZXJzRW5hYmxlZH1cbiAgICAgICAgICAgIGFjdGl2ZVdhbGxwYXBlcj17YWN0aXZlV2FsbHBhcGVyfVxuICAgICAgICAgICAgcG9ja2V0UmVnaW9uPXtwb2NrZXRSZWdpb259XG4gICAgICAgICAgICBtYXlIYXZlVG9waWNTZWN0aW9ucz17bWF5SGF2ZVBlcnNvbmFsaXplZFRvcGljU2VjdGlvbnN9XG4gICAgICAgICAgICBtYXlIYXZlSW5mZXJyZWRQZXJzb25hbGl6YXRpb249e21heUhhdmVJbmZlcnJlZFBlcnNvbmFsaXphdGlvbn1cbiAgICAgICAgICAgIG1heUhhdmVXZWF0aGVyPXttYXlIYXZlV2VhdGhlcn1cbiAgICAgICAgICAgIG1heUhhdmVUcmVuZGluZ1NlYXJjaD17bWF5SGF2ZVRyZW5kaW5nU2VhcmNofVxuICAgICAgICAgICAgbWF5SGF2ZVdpZGdldHM9e21heUhhdmVXaWRnZXRzfVxuICAgICAgICAgICAgbWF5SGF2ZVRpbWVyV2lkZ2V0PXttYXlIYXZlVGltZXJXaWRnZXR9XG4gICAgICAgICAgICBtYXlIYXZlTGlzdHNXaWRnZXQ9e21heUhhdmVMaXN0c1dpZGdldH1cbiAgICAgICAgICAgIHNob3dpbmc9e2N1c3RvbWl6ZU1lbnVWaXNpYmxlfVxuICAgICAgICAgIC8+XG4gICAgICAgICAge3RoaXMuc2hvdWxkU2hvd09NQ0hpZ2hsaWdodChcIkN1c3RvbVdhbGxwYXBlckhpZ2hsaWdodFwiKSAmJiAoXG4gICAgICAgICAgICA8TWVzc2FnZVdyYXBwZXIgZGlzcGF0Y2g9e3RoaXMucHJvcHMuZGlzcGF0Y2h9PlxuICAgICAgICAgICAgICA8V2FsbHBhcGVyRmVhdHVyZUhpZ2hsaWdodFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uPVwiaW5zZXQtYmxvY2stc3RhcnQgaW5zZXQtaW5saW5lLXN0YXJ0XCJcbiAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvTWVzc2FnZVdyYXBwZXI+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9tZW51PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndlYXRoZXJXcmFwcGVyXCI+XG4gICAgICAgICAge3Nob3VsZERpc3BsYXlXZWF0aGVyICYmIChcbiAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICA8V2VhdGhlciAvPlxuICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgbW9iaWxlRG93bmxvYWRQcm9tb1dyYXBwZXIgJHttb2JpbGVEb3dubG9hZFByb21vV3JhcHBlckhlaWdodE1vZGlmaWVyfWB9XG4gICAgICAgID5cbiAgICAgICAgICB7bW9iaWxlRG93bmxvYWRQcm9tb0VuYWJsZWQgJiYgbW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRBQm9yQyAmJiAoXG4gICAgICAgICAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgPERvd25sb2FkTW9kYWxUb2dnbGVcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZT17c2hvdWxkU2hvd0Rvd25sb2FkSGlnaGxpZ2h0fVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlRG93bmxvYWRIaWdobGlnaHR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtzaG91bGRTaG93RG93bmxvYWRIaWdobGlnaHQgJiYgKFxuICAgICAgICAgICAgICAgIDxNZXNzYWdlV3JhcHBlclxuICAgICAgICAgICAgICAgICAgaGlkZGVuT3ZlcnJpZGU9e3Nob3VsZFNob3dEb3dubG9hZEhpZ2hsaWdodH1cbiAgICAgICAgICAgICAgICAgIG9uRGlzbWlzcz17dGhpcy5oYW5kbGVEaXNtaXNzRG93bmxvYWRIaWdobGlnaHR9XG4gICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8RG93bmxvYWRNb2JpbGVQcm9tb0hpZ2hsaWdodFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbj17YGluc2V0LWlubGluZS1zdGFydCBpbnNldC1ibG9jay1lbmRgfVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaD17dGhpcy5wcm9wcy5kaXNwYXRjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9NZXNzYWdlV3JhcHBlcj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2NsaWNrLWV2ZW50cy1oYXZlLWtleS1ldmVudHMsIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucyovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17b3V0ZXJDbGFzc05hbWV9IG9uQ2xpY2s9e3RoaXMuY2xvc2VDdXN0b21pemF0aW9uTWVudX0+XG4gICAgICAgICAgPG1haW4gY2xhc3NOYW1lPVwibmV3dGFiLW1haW5cIiBzdHlsZT17dGhpcy5zdGF0ZS5maXhlZE5hdlN0eWxlfT5cbiAgICAgICAgICAgIHtwcmVmcy5zaG93U2VhcmNoICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJub24tY29sbGFwc2libGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICAgICAgPFNlYXJjaFxuICAgICAgICAgICAgICAgICAgICBzaG93TG9nbz17XG4gICAgICAgICAgICAgICAgICAgICAgbm9TZWN0aW9uc0VuYWJsZWQgfHwgcHJlZnNbXCJsb2dvd29yZG1hcmsuYWx3YXlzVmlzaWJsZVwiXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhhbmRvZmZFbmFibGVkPXtzZWFyY2hIYW5kb2ZmRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgey4uLnByb3BzLlNlYXJjaH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7LyogQnVnIDE5MTQwNTU6IFNob3cgbG9nbyByZWdhcmRsZXNzIGlmIHNlYXJjaCBpcyBlbmFibGVkICovfVxuICAgICAgICAgICAgeyFwcmVmcy5zaG93U2VhcmNoICYmICFub1NlY3Rpb25zRW5hYmxlZCAmJiA8TG9nbyAvPn1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYm9keS13cmFwcGVyJHtpbml0aWFsaXplZCA/IFwiIG9uXCIgOiBcIlwifWB9PlxuICAgICAgICAgICAgICB7aXNEaXNjb3ZlcnlTdHJlYW0gPyAoXG4gICAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnkgY2xhc3NOYW1lPVwiYm9yZGVybGVzcy1lcnJvclwiPlxuICAgICAgICAgICAgICAgICAgPERpc2NvdmVyeVN0cmVhbUJhc2VcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlPXtwcm9wcy5BcHAubG9jYWxlfVxuICAgICAgICAgICAgICAgICAgICBmaXJzdFZpc2libGVUaW1lc3RhbXA9e3RoaXMuc3RhdGUuZmlyc3RWaXNpYmxlVGltZXN0YW1wfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPFNlY3Rpb25zIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxDb25maXJtRGlhbG9nIC8+XG4gICAgICAgICAgICB7d2FsbHBhcGVyc0VuYWJsZWQgJiYgdGhpcy5yZW5kZXJXYWxscGFwZXJBdHRyaWJ1dGlvbigpfVxuICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgICA8YXNpZGU+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5Ob3RpZmljYXRpb25zPy5zaG93Tm90aWZpY2F0aW9ucyAmJiAoXG4gICAgICAgICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICAgIDxOb3RpZmljYXRpb25zIGRpc3BhdGNoPXt0aGlzLnByb3BzLmRpc3BhdGNofSAvPlxuICAgICAgICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvYXNpZGU+XG4gICAgICAgICAgey8qIE9ubHkgc2hvdyB0aGUgbW9kYWwgb24gY3VycmVudGx5IHZpc2libGUgcGFnZXMgKG5vdCBwcmVsb2FkZWQpICovfVxuICAgICAgICAgIHttYXlTaG93VG9waWNTZWxlY3Rpb24gJiYgcG9ja2V0RW5hYmxlZCAmJiAoXG4gICAgICAgICAgICA8VG9waWNTZWxlY3Rpb24gc3VwcG9ydFVybD17c3VwcG9ydFVybH0gLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuQmFzZUNvbnRlbnQuZGVmYXVsdFByb3BzID0ge1xuICBkb2N1bWVudDogZ2xvYmFsLmRvY3VtZW50LFxufTtcblxuZXhwb3J0IGNvbnN0IEJhc2UgPSBjb25uZWN0KHN0YXRlID0+ICh7XG4gIEFwcDogc3RhdGUuQXBwLFxuICBQcmVmczogc3RhdGUuUHJlZnMsXG4gIFNlY3Rpb25zOiBzdGF0ZS5TZWN0aW9ucyxcbiAgRGlzY292ZXJ5U3RyZWFtOiBzdGF0ZS5EaXNjb3ZlcnlTdHJlYW0sXG4gIE1lc3NhZ2VzOiBzdGF0ZS5NZXNzYWdlcyxcbiAgTm90aWZpY2F0aW9uczogc3RhdGUuTm90aWZpY2F0aW9ucyxcbiAgU2VhcmNoOiBzdGF0ZS5TZWFyY2gsXG4gIFdhbGxwYXBlcnM6IHN0YXRlLldhbGxwYXBlcnMsXG4gIFdlYXRoZXI6IHN0YXRlLldlYXRoZXIsXG4gIFNtYXJ0V2luZG93OiBzdGF0ZS5TbWFydFdpbmRvdyxcbiAgd2VhdGhlclBsYWNlbWVudDogc2VsZWN0V2VhdGhlclBsYWNlbWVudChzdGF0ZSksXG59KSkoX0Jhc2UpO1xuIiwiLyogVGhpcyBTb3VyY2UgQ29kZSBGb3JtIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNb3ppbGxhIFB1YmxpY1xuICogTGljZW5zZSwgdi4gMi4wLiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLFxuICogWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cblxuaW1wb3J0IHtcbiAgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsXG4gIGFjdGlvblR5cGVzIGFzIGF0LFxufSBmcm9tIFwiLi4vLi4vY29tbW9uL0FjdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBwZXJmU2VydmljZSBhcyBwZXJmU3ZjIH0gZnJvbSBcIi4vcGVyZi1zZXJ2aWNlLm1qc1wiO1xuXG5jb25zdCBWSVNJQkxFID0gXCJ2aXNpYmxlXCI7XG5jb25zdCBWSVNJQklMSVRZX0NIQU5HRV9FVkVOVCA9IFwidmlzaWJpbGl0eWNoYW5nZVwiO1xuXG5leHBvcnQgY2xhc3MgRGV0ZWN0VXNlclNlc3Npb25TdGFydCB7XG4gIGNvbnN0cnVjdG9yKHN0b3JlLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICAgIC8vIE92ZXJyaWRlcyBmb3IgdGVzdGluZ1xuICAgIHRoaXMuZG9jdW1lbnQgPSBvcHRpb25zLmRvY3VtZW50IHx8IGdsb2JhbFRoaXMuZG9jdW1lbnQ7XG4gICAgdGhpcy5fcGVyZlNlcnZpY2UgPSBvcHRpb25zLnBlcmZTZXJ2aWNlIHx8IHBlcmZTdmM7XG4gICAgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlID0gdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogc2VuZEV2ZW50T3JBZGRMaXN0ZW5lciAtIE5vdGlmeSBpbW1lZGlhdGVseSBpZiB0aGUgcGFnZSBpcyBhbHJlYWR5IHZpc2libGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBvciBlbHNlIHNldCB1cCBhIGxpc3RlbmVyIGZvciB3aGVuIHZpc2liaWxpdHkgY2hhbmdlcy5cbiAgICogICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgbmVlZGVkIGZvciBhY2N1cmF0ZSBzZXNzaW9uIHRyYWNraW5nIGZvciB0ZWxlbWV0cnksXG4gICAqICAgICAgICAgICAgICAgICAgICBiZWNhdXNlIHRhYnMgYXJlIHByZS1sb2FkZWQuXG4gICAqL1xuICBzZW5kRXZlbnRPckFkZExpc3RlbmVyKCkge1xuICAgIGlmICh0aGlzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gVklTSUJMRSkge1xuICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGlzIGFscmVhZHkgdmlzaWJsZSwgdG8gdGhlIHVzZXIsIHNlbmQgYSBub3RpZmljYXRpb25cbiAgICAgIC8vIGltbWVkaWF0ZWx5IHRoYXQgYSBzZXNzaW9uIGhhcyBzdGFydGVkLlxuICAgICAgdGhpcy5fc2VuZEV2ZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIElmIHRoZSBkb2N1bWVudCBpcyBub3QgdmlzaWJsZSwgbGlzdGVuIGZvciB3aGVuIGl0IGRvZXMgYmVjb21lIHZpc2libGUuXG4gICAgICB0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5ULFxuICAgICAgICB0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9zZW5kRXZlbnQgLSBTZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIG1haW4gcHJvY2VzcyB0byBpbmRpY2F0ZSB0aGUgY3VycmVudFxuICAgKiAgICAgICAgICAgICAgdGFiIGlzIG5vdyB2aXNpYmxlIHRvIHRoZSB1c2VyLCBpbmNsdWRlcyB0aGVcbiAgICogICAgICAgICAgICAgIHZpc2liaWxpdHlfZXZlbnRfcmN2ZF90cyB0aW1lIGluIG1zIGZyb20gdGhlIFVOSVggZXBvY2guXG4gICAqL1xuICBfc2VuZEV2ZW50KCkge1xuICAgIHRoaXMuX3BlcmZTZXJ2aWNlLm1hcmsoXCJ2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHNcIik7XG5cbiAgICB0cnkge1xuICAgICAgbGV0IHZpc2liaWxpdHlfZXZlbnRfcmN2ZF90cyA9XG4gICAgICAgIHRoaXMuX3BlcmZTZXJ2aWNlLmdldE1vc3RSZWNlbnRBYnNNYXJrU3RhcnRCeU5hbWUoXG4gICAgICAgICAgXCJ2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHNcIlxuICAgICAgICApO1xuXG4gICAgICB0aGlzLl9zdG9yZS5kaXNwYXRjaChcbiAgICAgICAgYWMuQWxzb1RvTWFpbih7XG4gICAgICAgICAgdHlwZTogYXQuU0FWRV9TRVNTSU9OX1BFUkZfREFUQSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5X2V2ZW50X3JjdmRfdHMsXG4gICAgICAgICAgICB3aW5kb3dfaW5uZXJfd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgd2luZG93X2lubmVyX2hlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAvLyBJZiB0aGlzIGZhaWxlZCwgaXQncyBsaWtlbHkgYmVjYXVzZSB0aGUgYHByaXZhY3kucmVzaXN0RmluZ2VycHJpbnRpbmdgXG4gICAgICAvLyBwcmVmIGlzIHRydWUuICBXZSBzaG91bGQgYXQgbGVhc3Qgbm90IGJsb3cgdXAuXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9vblZpc2liaWxpdHlDaGFuZ2UgLSBJZiB0aGUgdmlzaWJpbGl0eSBoYXMgY2hhbmdlZCB0byB2aXNpYmxlLCBzZW5kcyBhIG5vdGlmaWNhdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICBhbmQgcmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXIuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIHRhYi5cbiAgICovXG4gIF9vblZpc2liaWxpdHlDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBWSVNJQkxFKSB7XG4gICAgICB0aGlzLl9zZW5kRXZlbnQoKTtcbiAgICAgIHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgVklTSUJJTElUWV9DSEFOR0VfRVZFTlQsXG4gICAgICAgIHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBSZWR1eDsiLCIvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsXG4gKiBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXG4vKiBlc2xpbnQtZW52IG1vemlsbGEvcmVtb3RlLXBhZ2UgKi9cblxuaW1wb3J0IHtcbiAgYWN0aW9uQ3JlYXRvcnMgYXMgYWMsXG4gIGFjdGlvblR5cGVzIGFzIGF0LFxuICBhY3Rpb25VdGlscyBhcyBhdSxcbn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9BY3Rpb25zLm1qc1wiO1xuLy8gV2UgZGlzYWJsZSBpbXBvcnQgY2hlY2tpbmcgaGVyZSBhcyByZWR1eCBpcyBpbnN0YWxsZWQgdmlhIHRoZSBucG0gcGFja2FnZXNcbi8vIGF0IHRoZSBuZXd0YWIgbGV2ZWwsIHJhdGhlciB0aGFuIGluIHRoZSB0b3AtbGV2ZWwgcGFja2FnZS5qc29uLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnJlc29sdmVkXG5pbXBvcnQgeyBhcHBseU1pZGRsZXdhcmUsIGNvbWJpbmVSZWR1Y2VycywgY3JlYXRlU3RvcmUgfSBmcm9tIFwicmVkdXhcIjtcblxuZXhwb3J0IGNvbnN0IE1FUkdFX1NUT1JFX0FDVElPTiA9IFwiTkVXX1RBQl9JTklUSUFMX1NUQVRFXCI7XG5leHBvcnQgY29uc3QgT1VUR09JTkdfTUVTU0FHRV9OQU1FID0gXCJBY3Rpdml0eVN0cmVhbTpDb250ZW50VG9NYWluXCI7XG5leHBvcnQgY29uc3QgSU5DT01JTkdfTUVTU0FHRV9OQU1FID0gXCJBY3Rpdml0eVN0cmVhbTpNYWluVG9Db250ZW50XCI7XG5cbi8qKlxuICogQSBoaWdoZXItb3JkZXIgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIHJlZHVjZXIgdGhhdCwgb24gTUVSR0VfU1RPUkUgYWN0aW9uLFxuICogd2lsbCByZXR1cm4gdGhlIGFjdGlvbi5kYXRhIG9iamVjdCBtZXJnZWQgaW50byB0aGUgcHJldmlvdXMgc3RhdGUuXG4gKlxuICogRm9yIGFsbCBvdGhlciBhY3Rpb25zLCBpdCBtZXJlbHkgY2FsbHMgbWFpblJlZHVjZXIuXG4gKlxuICogQmVjYXVzZSB3ZSB3YW50IHRoaXMgdG8gbWVyZ2UgdGhlIGVudGlyZSBzdGF0ZSBvYmplY3QsIGl0J3Mgd3JpdHRlbiBhcyBhXG4gKiBoaWdoZXIgb3JkZXIgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlIG1haW4gcmVkdWNlciAoaXRzZWxmIG9mdGVuIGEgY2FsbCB0b1xuICogY29tYmluZVJlZHVjZXJzKSBhcyBhIHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gbWFpblJlZHVjZXIgcmVkdWNlciB0byBjYWxsIGlmIGFjdGlvbiAhPSBNRVJHRV9TVE9SRV9BQ1RJT05cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSAgICAgICAgICAgICBhIHJlZHVjZXIgdGhhdCwgb24gTUVSR0VfU1RPUkVfQUNUSU9OIGFjdGlvbixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIHJldHVybiB0aGUgYWN0aW9uLmRhdGEgb2JqZWN0IG1lcmdlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludG8gdGhlIHByZXZpb3VzIHN0YXRlLCBhbmQgdGhlIHJlc3VsdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIGNhbGxpbmcgbWFpblJlZHVjZXIgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBtZXJnZVN0YXRlUmVkdWNlcihtYWluUmVkdWNlcikge1xuICByZXR1cm4gKHByZXZTdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgaWYgKGFjdGlvbi50eXBlID09PSBNRVJHRV9TVE9SRV9BQ1RJT04pIHtcbiAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgLi4uYWN0aW9uLmRhdGEgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFpblJlZHVjZXIocHJldlN0YXRlLCBhY3Rpb24pO1xuICB9O1xufVxuXG4vKipcbiAqIG1lc3NhZ2VNaWRkbGV3YXJlIC0gTWlkZGxld2FyZSB0aGF0IGxvb2tzIGZvciBTZW50VG9NYWluIHR5cGUgYWN0aW9ucywgYW5kIHNlbmRzIHRoZW0gaWYgbmVjZXNzYXJ5XG4gKi9cbmNvbnN0IG1lc3NhZ2VNaWRkbGV3YXJlID0gKCkgPT4gbmV4dCA9PiBhY3Rpb24gPT4ge1xuICBjb25zdCBza2lwTG9jYWwgPSBhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5za2lwTG9jYWw7XG4gIGlmIChhdS5pc1NlbmRUb01haW4oYWN0aW9uKSkge1xuICAgIFJQTVNlbmRBc3luY01lc3NhZ2UoT1VUR09JTkdfTUVTU0FHRV9OQU1FLCBhY3Rpb24pO1xuICB9XG4gIGlmICghc2tpcExvY2FsKSB7XG4gICAgbmV4dChhY3Rpb24pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVoeWRyYXRpb25NaWRkbGV3YXJlID0gKHsgZ2V0U3RhdGUgfSkgPT4ge1xuICAvLyBOQjogVGhlIHBhcmFtZXRlciBoZXJlIGlzIE1pZGRsZXdhcmVBUEkgd2hpY2ggbG9va3MgbGlrZSBhIFN0b3JlIGFuZCBzaGFyZXNcbiAgLy8gdGhlIHNhbWUgZ2V0U3RhdGUsIHNvIGF0dGFjaGVkIHByb3BlcnRpZXMgYXJlIGFjY2Vzc2libGUgZnJvbSB0aGUgc3RvcmUuXG4gIGdldFN0YXRlLmRpZFJlaHlkcmF0ZSA9IGZhbHNlO1xuICBnZXRTdGF0ZS5kaWRSZXF1ZXN0SW5pdGlhbFN0YXRlID0gZmFsc2U7XG4gIHJldHVybiBuZXh0ID0+IGFjdGlvbiA9PiB7XG4gICAgaWYgKGdldFN0YXRlLmRpZFJlaHlkcmF0ZSB8fCB3aW5kb3cuX19GUk9NX1NUQVJUVVBfQ0FDSEVfXykge1xuICAgICAgLy8gU3RhcnR1cCBtZXNzYWdlcyBjYW4gYmUgc2FmZWx5IGlnbm9yZWQgYnkgdGhlIGFib3V0OmhvbWUgZG9jdW1lbnRcbiAgICAgIC8vIHN0b3JlZCBpbiB0aGUgc3RhcnR1cCBjYWNoZS5cbiAgICAgIGlmIChcbiAgICAgICAgd2luZG93Ll9fRlJPTV9TVEFSVFVQX0NBQ0hFX18gJiZcbiAgICAgICAgYWN0aW9uLm1ldGEgJiZcbiAgICAgICAgYWN0aW9uLm1ldGEuaXNTdGFydHVwXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0IGlzTWVyZ2VTdG9yZUFjdGlvbiA9IGFjdGlvbi50eXBlID09PSBNRVJHRV9TVE9SRV9BQ1RJT047XG4gICAgY29uc3QgaXNSZWh5ZHJhdGlvblJlcXVlc3QgPSBhY3Rpb24udHlwZSA9PT0gYXQuTkVXX1RBQl9TVEFURV9SRVFVRVNUO1xuXG4gICAgaWYgKGlzUmVoeWRyYXRpb25SZXF1ZXN0KSB7XG4gICAgICBnZXRTdGF0ZS5kaWRSZXF1ZXN0SW5pdGlhbFN0YXRlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGlzTWVyZ2VTdG9yZUFjdGlvbikge1xuICAgICAgZ2V0U3RhdGUuZGlkUmVoeWRyYXRlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgfVxuXG4gICAgLy8gSWYgaW5pdCBoYXBwZW5lZCBhZnRlciBvdXIgcmVxdWVzdCB3YXMgbWFkZSwgd2UgbmVlZCB0byByZS1yZXF1ZXN0XG4gICAgaWYgKGdldFN0YXRlLmRpZFJlcXVlc3RJbml0aWFsU3RhdGUgJiYgYWN0aW9uLnR5cGUgPT09IGF0LklOSVQpIHtcbiAgICAgIHJldHVybiBuZXh0KGFjLkFsc29Ub01haW4oeyB0eXBlOiBhdC5ORVdfVEFCX1NUQVRFX1JFUVVFU1QgfSkpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGF1LmlzQnJvYWRjYXN0VG9Db250ZW50KGFjdGlvbikgfHxcbiAgICAgIGF1LmlzU2VuZFRvT25lQ29udGVudChhY3Rpb24pIHx8XG4gICAgICBhdS5pc1NlbmRUb1ByZWxvYWRlZChhY3Rpb24pXG4gICAgKSB7XG4gICAgICAvLyBOb3RlIHRoYXQgYWN0aW9ucyByZWNlaXZlZCBiZWZvcmUgZGlkUmVoeWRyYXRlIHdpbGwgbm90IGJlIGRpc3BhdGNoZWRcbiAgICAgIC8vIGJlY2F1c2UgdGhpcyBjb3VsZCBuZWdhdGl2ZWx5IGFmZmVjdCBwcmVsb2FkaW5nIGFuZCB0aGUgdGhlIHN0YXRlXG4gICAgICAvLyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHJlaHlkcmF0aW9uIGFueXdheS5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gIH07XG59O1xuXG4vKipcbiAqIGluaXRTdG9yZSAtIENyZWF0ZSBhIHN0b3JlIGFuZCBsaXN0ZW4gZm9yIGluY29taW5nIGFjdGlvbnNcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCBjb250YWluaW5nIFJlZHV4IHJlZHVjZXJzXG4gKiBAcGFyYW0gIHtvYmplY3R9IGludGlhbFN0YXRlIChvcHRpb25hbCkgVGhlIGluaXRpYWwgc3RhdGUgb2YgdGhlIHN0b3JlLCBpZiBkZXNpcmVkXG4gKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgICAgIEEgcmVkdXggc3RvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdG9yZShyZWR1Y2VycywgaW5pdGlhbFN0YXRlKSB7XG4gIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgbWVyZ2VTdGF0ZVJlZHVjZXIoY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSksXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIGdsb2JhbFRoaXMuUlBNQWRkTWVzc2FnZUxpc3RlbmVyICYmXG4gICAgICBhcHBseU1pZGRsZXdhcmUocmVoeWRyYXRpb25NaWRkbGV3YXJlLCBtZXNzYWdlTWlkZGxld2FyZSlcbiAgKTtcblxuICBpZiAoZ2xvYmFsVGhpcy5SUE1BZGRNZXNzYWdlTGlzdGVuZXIpIHtcbiAgICBnbG9iYWxUaGlzLlJQTUFkZE1lc3NhZ2VMaXN0ZW5lcihJTkNPTUlOR19NRVNTQUdFX05BTUUsIG1zZyA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChtc2cuZGF0YSk7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ29udGVudCBtc2c6XCIsIG1zZywgXCJEaXNwYXRjaCBlcnJvcjogXCIsIGV4KTtcbiAgICAgICAgZHVtcChcbiAgICAgICAgICBgQ29udGVudCBtc2c6ICR7SlNPTi5zdHJpbmdpZnkobXNnKX1cXG5EaXNwYXRjaCBlcnJvcjogJHtleH1cXG4ke1xuICAgICAgICAgICAgZXguc3RhY2tcbiAgICAgICAgICB9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHN0b3JlO1xufVxuIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFJlYWN0RE9NOyIsIi8qIFRoaXMgU291cmNlIENvZGUgRm9ybSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBvZiB0aGUgTW96aWxsYSBQdWJsaWNcbiAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSxcbiAqIFlvdSBjYW4gb2J0YWluIG9uZSBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uICovXG5cbmltcG9ydCB7IGFjdGlvbkNyZWF0b3JzIGFzIGFjLCBhY3Rpb25UeXBlcyBhcyBhdCB9IGZyb20gXCJjb21tb24vQWN0aW9ucy5tanNcIjtcbmltcG9ydCB7IEJhc2UgfSBmcm9tIFwiY29udGVudC1zcmMvY29tcG9uZW50cy9CYXNlL0Jhc2VcIjtcbmltcG9ydCB7IERldGVjdFVzZXJTZXNzaW9uU3RhcnQgfSBmcm9tIFwiY29udGVudC1zcmMvbGliL2RldGVjdC11c2VyLXNlc3Npb24tc3RhcnRcIjtcbmltcG9ydCB7IGluaXRTdG9yZSB9IGZyb20gXCJjb250ZW50LXNyYy9saWIvaW5pdC1zdG9yZVwiO1xuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyByZWR1Y2VycyB9IGZyb20gXCJjb21tb24vUmVkdWNlcnMuc3lzLm1qc1wiO1xuXG5leHBvcnQgY29uc3QgTmV3VGFiID0gKHsgc3RvcmUgfSkgPT4gKFxuICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT5cbiAgICA8QmFzZSAvPlxuICA8L1Byb3ZpZGVyPlxuKTtcblxuZnVuY3Rpb24gZG9SZXF1ZXN0V2hlblJlYWR5KCkge1xuICAvLyBJZiB0aGlzIGRvY3VtZW50IGhhcyBhbHJlYWR5IGdvbmUgaW50byB0aGUgYmFja2dyb3VuZCBieSB0aGUgdGltZSB3ZSd2ZSByZWFjaGVkXG4gIC8vIGhlcmUsIHdlIGNhbiBkZXByaW9yaXRpemUgdGhlIHJlcXVlc3QgdW50aWwgdGhlIGV2ZW50IGxvb3BcbiAgLy8gZnJlZXMgdXAuIElmLCBob3dldmVyLCB0aGUgdmlzaWJpbGl0eSBjaGFuZ2VzLCB3ZSB0aGVuIHNlbmQgdGhlIHJlcXVlc3QuXG4gIGNvbnN0IGRvUmVxdWVzdFByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBsZXQgZGlkUmVxdWVzdCA9IGZhbHNlO1xuICAgIGxldCByZXF1ZXN0SWRsZUNhbGxiYWNrSWQgPSAwO1xuICAgIGZ1bmN0aW9uIGRvUmVxdWVzdCgpIHtcbiAgICAgIGlmICghZGlkUmVxdWVzdCkge1xuICAgICAgICBpZiAocmVxdWVzdElkbGVDYWxsYmFja0lkKSB7XG4gICAgICAgICAgY2FuY2VsSWRsZUNhbGxiYWNrKHJlcXVlc3RJZGxlQ2FsbGJhY2tJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGlkUmVxdWVzdCA9IHRydWU7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICByZXF1ZXN0SWRsZUNhbGxiYWNrSWQgPSByZXF1ZXN0SWRsZUNhbGxiYWNrKGRvUmVxdWVzdCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBkb1JlcXVlc3QsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRvUmVxdWVzdFByb21pc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJXaXRob3V0U3RhdGUoKSB7XG4gIGNvbnN0IHN0b3JlID0gaW5pdFN0b3JlKHJlZHVjZXJzKTtcbiAgbmV3IERldGVjdFVzZXJTZXNzaW9uU3RhcnQoc3RvcmUpLnNlbmRFdmVudE9yQWRkTGlzdGVuZXIoKTtcblxuICBkb1JlcXVlc3RXaGVuUmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICAvLyBJZiBzdGF0ZSBldmVudHMgaGFwcGVuZWQgYmVmb3JlIHdlIGdvdCBoZXJlLCB3ZSBjYW4gcmVxdWVzdCBzdGF0ZSBhZ2Fpbi5cbiAgICBzdG9yZS5kaXNwYXRjaChhYy5BbHNvVG9NYWluKHsgdHlwZTogYXQuTkVXX1RBQl9TVEFURV9SRVFVRVNUIH0pKTtcbiAgICAvLyBJZiB3ZSByZW5kZXJlZCB3aXRob3V0IHN0YXRlLCB3ZSBkb24ndCBuZWVkIHRoZSBzdGFydHVwIGNhY2hlLlxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfU1RBVEVfUkVRVUVTVF9XSVRIT1VUX1NUQVJUVVBDQUNIRSB9KVxuICAgICk7XG4gIH0pO1xuXG4gIFJlYWN0RE9NLmh5ZHJhdGUoPE5ld1RhYiBzdG9yZT17c3RvcmV9IC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ2FjaGUoaW5pdGlhbFN0YXRlKSB7XG4gIGlmIChpbml0aWFsU3RhdGUpIHtcbiAgICBpbml0aWFsU3RhdGUuQXBwLmlzRm9yU3RhcnR1cENhY2hlLkFwcCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IHN0b3JlID0gaW5pdFN0b3JlKHJlZHVjZXJzLCBpbml0aWFsU3RhdGUpO1xuICBuZXcgRGV0ZWN0VXNlclNlc3Npb25TdGFydChzdG9yZSkuc2VuZEV2ZW50T3JBZGRMaXN0ZW5lcigpO1xuXG4gIGRvUmVxdWVzdFdoZW5SZWFkeSgpLnRoZW4oKCkgPT4ge1xuICAgIC8vIElmIHN0YXRlIGV2ZW50cyBoYXBwZW5lZCBiZWZvcmUgd2UgZ290IGhlcmUsXG4gICAgLy8gd2UgY2FuIG5vdGlmeSBtYWluIHRoYXQgd2UgbmVlZCB1cGRhdGVzLlxuICAgIC8vIFRoZSBpbmRpdmlkdWFsIGZlZWRzIGtub3cgd2hhdCBzdGF0ZSBpcyBub3QgY2FjaGVkLlxuICAgIHN0b3JlLmRpc3BhdGNoKFxuICAgICAgYWMuT25seVRvTWFpbih7IHR5cGU6IGF0Lk5FV19UQUJfU1RBVEVfUkVRVUVTVF9TVEFSVFVQQ0FDSEUgfSlcbiAgICApO1xuICB9KTtcblxuICBSZWFjdERPTS5oeWRyYXRlKDxOZXdUYWIgc3RvcmU9e3N0b3JlfSAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlNpbXBsZUhhc2hSb3V0ZXIiLCJQdXJlQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsIm9uSGFzaENoYW5nZSIsImJpbmQiLCJzdGF0ZSIsImhhc2giLCJnbG9iYWxUaGlzIiwibG9jYXRpb24iLCJzZXRTdGF0ZSIsImNvbXBvbmVudFdpbGxNb3VudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW5kZXIiLCJyb3V0ZXMiLCJzcGxpdCIsImNsb25lRWxlbWVudCIsImNoaWxkcmVuIiwiYWN0aW9uQ3JlYXRvcnMiLCJhYyIsImFjdGlvblR5cGVzIiwiYXQiLCJjb25uZWN0IiwiUFJFRl9BRF9TSVpFX01FRElVTV9SRUNUQU5HTEUiLCJQUkVGX0FEX1NJWkVfQklMTEJPQVJEIiwiUFJFRl9BRF9TSVpFX0xFQURFUkJPQVJEIiwiUFJFRl9DT05URVhUVUFMX0NPTlRFTlRfU0VMRUNURURfRkVFRCIsIlBSRUZfQ09OVEVYVFVBTF9DT05URU5UX0ZFRURTIiwiUFJFRl9TRUNUSU9OU19FTkFCTEVEIiwiUFJFRl9TUE9DX1BMQUNFTUVOVFMiLCJQUkVGX1NQT0NfQ09VTlRTIiwiUFJFRl9DT05URVhUVUFMX0FEU19FTkFCTEVEIiwiUFJFRl9DT05URVhUVUFMX0JBTk5FUl9QTEFDRU1FTlRTIiwiUFJFRl9DT05URVhUVUFMX0JBTk5FUl9DT1VOVFMiLCJSb3ciLCJjcmVhdGVFbGVtZW50IiwiX2V4dGVuZHMiLCJjbGFzc05hbWUiLCJyZWxhdGl2ZVRpbWUiLCJ0aW1lc3RhbXAiLCJzZWNvbmRzIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsIm1pbnV0ZXMiLCJ0b0xvY2FsZVN0cmluZyIsIlRvZ2dsZVN0b3J5QnV0dG9uIiwiaGFuZGxlQ2xpY2siLCJvbkNsaWNrIiwic3RvcnkiLCJUb2dnbGVQcmVmQ2hlY2tib3giLCJvbkNoYW5nZSIsImV2ZW50IiwicHJlZiIsInRhcmdldCIsImNoZWNrZWQiLCJGcmFnbWVudCIsInR5cGUiLCJkaXNhYmxlZCIsIlBlcnNvbmFsaXphdGlvbiIsInRvZ2dsZVBlcnNvbmFsaXphdGlvbiIsImRpc3BhdGNoIiwiT25seVRvTWFpbiIsIkRJU0NPVkVSWV9TVFJFQU1fUEVSU09OQUxJWkFUSU9OX1RPR0dMRSIsImxhc3RVcGRhdGVkIiwiaW5pdGlhbGl6ZWQiLCJjb2xTcGFuIiwicGVyc29uYWxpemVkIiwiRGlzY292ZXJ5U3RyZWFtQWRtaW5VSSIsInJlc3RvcmVQcmVmRGVmYXVsdHMiLCJzZXRDb25maWdWYWx1ZSIsImV4cGlyZUNhY2hlIiwicmVmcmVzaENhY2hlIiwic2hvd1BsYWNlaG9sZGVyIiwiaWRsZURhaWx5Iiwic3lzdGVtVGljayIsInN5bmNSZW1vdGVTZXR0aW5ncyIsIm9uU3RvcnlUb2dnbGUiLCJoYW5kbGVXZWF0aGVyU3VibWl0IiwiaGFuZGxlV2VhdGhlclVwZGF0ZSIsInJlc2V0QmxvY2tzIiwicmVmcmVzaEluZmVycmVkUGVyc29uYWxpemF0aW9uIiwicmVmcmVzaFRvcGljU2VsZWN0aW9uQ2FjaGUiLCJ0b2dnbGVUQlJGZWVkIiwiaGFuZGxlU2VjdGlvbnNUb2dnbGUiLCJ0b2dnbGVJQUJCYW5uZXJzIiwidG9nZ2xlZFN0b3JpZXMiLCJ3ZWF0aGVyUXVlcnkiLCJjb25maWdOYW1lIiwiY29uZmlnVmFsdWUiLCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19TRVRfVkFMVUUiLCJkYXRhIiwibmFtZSIsInZhbHVlIiwiRElTQ09WRVJZX1NUUkVBTV9DT05GSUdfUkVTRVRfREVGQVVMVFMiLCJjb25maWciLCJEaXNjb3ZlcnlTdHJlYW0iLCJESVNDT1ZFUllfU1RSRUFNX0NPTkZJR19DSEFOR0UiLCJJTkZFUlJFRF9QRVJTT05BTElaQVRJT05fUkVGUkVTSCIsIlNldFByZWYiLCJkaXNwYXRjaFNpbXBsZUFjdGlvbiIsIkRJU0NPVkVSWV9TVFJFQU1fREVWX0JMT0NLU19SRVNFVCIsIkRJU0NPVkVSWV9TVFJFQU1fREVWX1NZU1RFTV9USUNLIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfRVhQSVJFX0NBQ0hFIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfU0hPV19QTEFDRUhPTERFUiIsImUiLCJmZWVkIiwic2VsZWN0ZWRGZWVkIiwiRElTQ09WRVJZX1NUUkVBTV9ERVZfSURMRV9EQUlMWSIsIkRJU0NPVkVSWV9TVFJFQU1fREVWX1NZTkNfUlMiLCJwcmV2ZW50RGVmYXVsdCIsInByZXNzZWQiLCJpZCIsImdlbmVyYXRlU3BvY1ByZWZWYWx1ZXMiLCJwbGFjZW1lbnRzIiwib3RoZXJQcmVmcyIsIm1hcCIsIml0ZW0iLCJ0cmltIiwiZmlsdGVyIiwiY291bnRzIiwic3VwcG9ydElBQkFkVHlwZXMiLCJjb3VudFZhbHVlIiwiaW5jbHVkZXMiLCJFcnJvciIsInB1c2giLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJqb2luIiwicmVuZGVyQ29tcG9uZW50Iiwid2lkdGgiLCJjb21wb25lbnQiLCJyZW5kZXJGZWVkIiwicmVuZGVyV2VhdGhlckRhdGEiLCJzdWdnZXN0aW9ucyIsIldlYXRoZXIiLCJ3ZWF0aGVyVGFibGUiLCJvblN1Ym1pdCIsImh0bWxGb3IiLCJtaW4iLCJtYXgiLCJzdWdnZXN0aW9uIiwia2V5IiwiY2l0eV9uYW1lIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbmRlclBlcnNvbmFsaXphdGlvbkRhdGEiLCJpbmZlcnJlZEludGVyZXN0cyIsImNvYXJzZUluZmVycmVkSW50ZXJlc3RzIiwiY29hcnNlUHJpdmF0ZUluZmVycmVkSW50ZXJlc3RzIiwiSW5mZXJyZWRQZXJzb25hbGl6YXRpb24iLCJyZW5kZXJGZWVkRGF0YSIsInVybCIsImZlZWRzIiwicmVjb21tZW5kYXRpb25zIiwicmVuZGVyU3RvcnlEYXRhIiwicmVuZGVyRmVlZHNEYXRhIiwiT2JqZWN0Iiwia2V5cyIsInJlbmRlckltcHJlc3Npb25zRGF0YSIsImltcHJlc3Npb25zIiwicmVuZGVyQmxvY2tzRGF0YSIsImJsb2NrcyIsInJlbmRlclNwb2NzIiwic3BvY3MiLCJ1bmlmaWVkQWRzU3BvY3NFbmFibGVkIiwiUFJFRl9VTklGSUVEX0FEU19BRFNGRUVEX0VOQUJMRUQiLCJhZHNGZWVkRW5hYmxlZCIsInVuaWZpZWRBZHNFbmRwb2ludCIsInNwb2NzRGF0YSIsIm5ld3RhYl9zcG9jcyIsIml0ZW1zIiwic3BvY3NfZW5kcG9pbnQiLCJzcG9jIiwiZnJlcXVlbmN5X2NhcHMiLCJzdG9yeURhdGEiLCJwcmVmVG9nZ2xlcyIsImxheW91dCIsInNlY3Rpb25zRW5hYmxlZCIsIlRCUkZlZWRzIiwicyIsIm1lZGl1bVJlY3RhbmdsZUVuYWJsZWQiLCJiaWxsYm9hcmRzRW5hYmxlZCIsImxlYWRlcmJvYXJkRW5hYmxlZCIsInNwb2NQbGFjZW1lbnRzIiwibWVkaXVtUmVjdGFuZ2xlRW5hYmxlZFByZXNzZWQiLCJiaWxsYm9hcmRQcmVzc2VkIiwibGVhZGVyYm9hcmRQcmVzc2VkIiwib25Ub2dnbGUiLCJsYWJlbCIsInJvdyIsInJvd0luZGV4IiwiY29tcG9uZW50cyIsImNvbXBvbmVudEluZGV4IiwiRGlzY292ZXJ5U3RyZWFtQWRtaW5Jbm5lciIsImNvbGxhcHNlZCIsImhyZWYiLCJQcmVmcyIsInZhbHVlcyIsIkNvbGxhcHNlVG9nZ2xlIiwib25Db2xsYXBzZVRvZ2dsZSIsInJlbmRlckFkbWluIiwic3RhcnRzV2l0aCIsInNldEJvZHlDbGFzcyIsImRvY3VtZW50IiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNvbXBvbmVudERpZE1vdW50IiwiY29tcG9uZW50RGlkVXBkYXRlIiwiaXNDb2xsYXBzZWQiLCJ0aXRsZSIsIl9EaXNjb3ZlcnlTdHJlYW1BZG1pbiIsIkRpc2NvdmVyeVN0cmVhbUFkbWluIiwiU2VjdGlvbnMiLCJfQ29uZmlybURpYWxvZyIsIl9oYW5kbGVDYW5jZWxCdG4iLCJfaGFuZGxlQ29uZmlybUJ0biIsIkRJQUxPR19DQU5DRUwiLCJVc2VyRXZlbnQiLCJzb3VyY2UiLCJldmVudFNvdXJjZSIsIm9uQ29uZmlybSIsImZvckVhY2giLCJfcmVuZGVyTW9kYWxNZXNzYWdlIiwibWVzc2FnZV9ib2R5IiwiYm9keV9zdHJpbmdfaWQiLCJtc2ciLCJ2aXNpYmxlIiwicm9sZSIsImljb24iLCJjYW5jZWxfYnV0dG9uX3N0cmluZ19pZCIsImNvbmZpcm1fYnV0dG9uX3N0cmluZ19pZCIsImNvbmZpcm1fYnV0dG9uX3N0cmluZ19hcmdzIiwiQ29uZmlybURpYWxvZyIsIkRpYWxvZyIsIlBMQUNFSE9MREVSX0lNQUdFX0RBVEFfQVJSQVkiLCJyb3RhdGlvbiIsIm9mZnNldHgiLCJvZmZzZXR5Iiwic2NhbGUiLCJQTEFDRUhPTERFUl9JTUFHRV9DT0xPUlNfQVJSQVkiLCJnZW5lcmF0ZUluZGV4Iiwia2V5Q29kZSIsInJhbmRvbSIsImhhc2hTdHIiLCJzdHIiLCJpIiwibGVuZ3RoIiwiY2hhckNvZGUiLCJjaGFyQ29kZUF0IiwiUGxhY2Vob2xkZXJJbWFnZSIsInVybEtleSIsInRpdGxlS2V5IiwiZGF0YUluZGV4IiwiY29sb3JJbmRleCIsImNvbG9yIiwic3R5bGUiLCJEU0ltYWdlIiwib25PcHRpbWl6ZWRJbWFnZUVycm9yIiwib25Ob25PcHRpbWl6ZWRJbWFnZUVycm9yIiwib25Mb2FkIiwiaXNMb2FkZWQiLCJvcHRpbWl6ZWRJbWFnZUZhaWxlZCIsInVzZVRyYW5zaXRpb24iLCJvbklkbGVDYWxsYmFjayIsInJlZm9ybWF0SW1hZ2VVUkwiLCJoZWlnaHQiLCJzbWFydCIsInNtYXJ0Q3JvcCIsImZvcm1hdHRlZFVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlY3VyZUltYWdlVVJMIiwic2VjdXJlSW1hZ2UiLCJpZGxlQ2FsbGJhY2tJZCIsIndpbmRvd09iaiIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJjYW5jZWxJZGxlQ2FsbGJhY2siLCJjbGFzc05hbWVzIiwiZXh0cmFDbGFzc05hbWVzIiwiaW1nIiwib3B0aW1pemUiLCJyYXdTb3VyY2UiLCJiYXNlU291cmNlIiwic2VjdXJlZFNvdXJjZSIsInNpemVSdWxlcyIsInNyY1NldFJ1bGVzIiwicnVsZSIsInNpemVzIiwibWVkaWFNYXRjaGVyIiwic2l6ZVJ1bGUiLCJzcmNTZXRSdWxlIiwic3JjU2V0UnVsZTJ4IiwibG9hZGluZyIsImFsdCIsImFsdF90ZXh0IiwiY3Jvc3NPcmlnaW4iLCJvbkVycm9yIiwic3JjIiwic3JjU2V0Iiwibm9uT3B0aW1pemVkSW1hZ2VGYWlsZWQiLCJpc1JlY2VudFNhdmUiLCJkZWZhdWx0UHJvcHMiLCJ3aW5kb3ciLCJDb250ZXh0TWVudSIsImhpZGVDb250ZXh0Iiwib25TaG93Iiwib25VcGRhdGUiLCJzZXRUaW1lb3V0Iiwic3RvcFByb3BhZ2F0aW9uIiwib25LZXlEb3duIiwib3B0aW9ucyIsIm9wdGlvbiIsIkNvbnRleHRNZW51SXRlbSIsImtleWJvYXJkQWNjZXNzIiwiX0NvbnRleHRNZW51SXRlbSIsIm9uS2V5VXAiLCJmb2N1c0ZpcnN0IiwiYnV0dG9uIiwiZm9jdXMiLCJmb2N1c1NpYmxpbmciLCJwYXJlbnROb2RlIiwiY2xvc2VzdFNpYmxpbmdTZWxlY3RvciIsImZpcnN0RWxlbWVudENoaWxkIiwic2hpZnRLZXkiLCJmaXJzdCIsImxhc3QiLCJyZWYiLCJzdHJpbmdfaWQiLCJMaW5rTWVudU9wdGlvbnMiLCJERUZBVUxUX1NJVEVfTUVOVV9PUFRJT05TIiwiX0xpbmtNZW51IiwiZ2V0T3B0aW9ucyIsInNpdGUiLCJpc1ByaXZhdGVCcm93c2luZ0VuYWJsZWQiLCJzaXRlSW5mbyIsInBsYXRmb3JtIiwic2hvdWxkU2VuZEltcHJlc3Npb25TdGF0cyIsInVzZXJFdmVudCIsInByb3BPcHRpb25zIiwiaXNEZWZhdWx0Iiwic2VhcmNoVG9wU2l0ZSIsInNwb25zb3JlZF9wb3NpdGlvbiIsImxpbmtNZW51T3B0aW9ucyIsIm8iLCJhY3Rpb24iLCJpbXByZXNzaW9uIiwiZXZlbnROYW1lIiwiY3RybEtleSIsIm1ldGFLZXkiLCJhc3NpZ24iLCJjYXJkX3R5cGUiLCJjb3JwdXNfaXRlbV9pZCIsImV2ZW50X3NvdXJjZSIsImZldGNoVGltZXN0YW1wIiwiZmlyc3RWaXNpYmxlVGltZXN0YW1wIiwiZm9ybWF0IiwiaXNfbGlzdF9jYXJkIiwiaXNfc2VjdGlvbl9mb2xsb3dlZCIsInJlY2VpdmVkX3JhbmsiLCJyZWNvbW1lbmRhdGlvbl9pZCIsInJlY29tbWVuZGVkX2F0Iiwic2NoZWR1bGVkX2NvcnB1c19pdGVtX2lkIiwic2VjdGlvbl9wb3NpdGlvbiIsInNlY3Rpb24iLCJzZWxlY3RlZF90b3BpY3MiLCJ0aWxlX2lkIiwidG9waWMiLCJmbGlnaHRfaWQiLCJ1c2VyRXZlbnREYXRhIiwiYWN0aW9uX3Bvc2l0aW9uIiwiZ2V0U3RhdGUiLCJMaW5rTWVudSIsIkNvbnRleHRNZW51QnV0dG9uIiwic2hvd0NvbnRleHRNZW51IiwiY29udGV4dE1lbnVLZXlib2FyZCIsIm9wZW5Db250ZXh0TWVudSIsImlzS2V5Qm9hcmQiLCJ0b29sdGlwQXJncyIsInRvb2x0aXAiLCJyZWZGdW5jdGlvbiIsInRhYkluZGV4Iiwib25Gb2N1cyIsIl9EU0xpbmtNZW51IiwiVE9QX1NUT1JJRVNfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJQUkVGX1JFUE9SVF9BRFNfRU5BQkxFRCIsInByZWZzIiwic2hvd0Fkc1JlcG9ydGluZyIsImlzU3BvYyIsIm9uTWVudVVwZGF0ZSIsInRvVXBwZXJDYXNlIiwib25NZW51U2hvdyIsIkRpc2NvdmVyeVN0cmVhbVVzZXJFdmVudCIsInJlZmVycmVyIiwiZ3VpZCIsInBvY2tldF9pZCIsInNoaW0iLCJib29rbWFya0d1aWQiLCJmbGlnaHRJZCIsInBvc2l0aW9uIiwiRFNMaW5rTWVudSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiUFJFRl9XRUFUSEVSX1BMQUNFTUVOVCIsIlBSRUZfREFJTFlfQlJJRUZfU0VDVElPTklEIiwiUFJFRl9EQUlMWV9CUklFRl9FTkFCTEVEIiwiUFJFRl9TVE9SSUVTX0VOQUJMRUQiLCJQUkVGX1NZU1RFTV9TVE9SSUVTX0VOQUJMRUQiLCJ1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciIsImNhbGxiYWNrIiwidGhyZXNob2xkIiwiZWxlbWVudHNSZWYiLCJ0cmlnZ2VyZWRFbGVtZW50cyIsIldlYWtTZXQiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJjdXJyZW50IiwiaGFzIiwidW5vYnNlcnZlIiwiZWwiLCJvYnNlcnZlIiwiZGlzY29ubmVjdCIsImdldEFjdGl2ZUNhcmRTaXplIiwic2NyZWVuV2lkdGgiLCJicmVha3BvaW50cyIsImNvbHVtbiIsImNhcmRUeXBlcyIsImN1cnJDb2x1bW5Db3VudCIsImZpbmQiLCJicCIsIkNPTkZFVFRJX1ZBUlMiLCJ1c2VDb25mZXR0aSIsImNvdW50Iiwic3ByZWFkIiwiUEkiLCJwcmVmZXJzUmVkdWNlZE1vdGlvbiIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiY29sb3JzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInN0eWxlcyIsImRvY3VtZW50RWxlbWVudCIsInZhcmlhYmxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImNhbnZhc1JlZiIsInBhcnRpY2xlc1JlZiIsImFuaW1hdGlvbkZyYW1lUmVmIiwiaW5pdGlhbGl6ZUNvbmZldHRpIiwiY2VudGVyWCIsImNlbnRlclkiLCJwb29sIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJ4IiwieSIsInZlbG9jaXR5IiwiZ3Jhdml0eSIsImRlY2F5Iiwic2l6ZSIsImxpZmUiLCJtYXhMaWZlIiwidGlsdCIsInRpbHRTcGVlZCIsImFuaW1hdGVQYXJ0aWNsZXMiLCJjYW52YXMiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImFueUFsaXZlIiwicGFydGljbGUiLCJhbHBoYVZhbHVlIiwic2NhbGVZIiwiZ2xvYmFsQWxwaGEiLCJzZXRUcmFuc2Zvcm0iLCJyb3RhdGUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiZmlyZUNvbmZldHRpIiwic2VsZWN0V2VhdGhlclBsYWNlbWVudCIsInBsYWNlbWVudFByZWYiLCJ0cmFpbmhvcENvbmZpZyIsImRhaWx5QnJpZWZpbmciLCJwbGFjZW1lbnQiLCJzZWN0aW9ucyIsInBvY2tldEVuYWJsZWQiLCJzZWN0aW9uUGVyc29uYWxpemF0aW9uIiwiZGFpbHlCcmllZkVuYWJsZWQiLCJlbmFibGVkIiwic2VjdGlvbklkIiwibm90QmxvY2tlZCIsImlzQmxvY2tlZCIsImZpbHRlcmVkU2VjdGlvbnMiLCJzZWN0aW9uS2V5IiwiZm91bmRTZWN0aW9uIiwiaXNUb3BTZWN0aW9uIiwicmVjZWl2ZWRSYW5rIiwiZWxpZ2libGUiLCJUT1BfU0lURVNfU09VUkNFIiwiVklTSUJMRSIsIlZJU0lCSUxJVFlfQ0hBTkdFX0VWRU5UIiwiSU5URVJTRUNUSU9OX1JBVElPIiwiSW1wcmVzc2lvblN0YXRzIiwiX25lZWRzSW1wcmVzc2lvblN0YXRzIiwiY2FyZHMiLCJpbXByZXNzaW9uQ2FyZEd1aWRzIiwiX2Rpc3BhdGNoSW1wcmVzc2lvblN0YXRzIiwiaXNGYWtlc3BvdCIsInJvd3MiLCJESVNDT1ZFUllfU1RSRUFNX1NQT0NfSU1QUkVTU0lPTiIsImNhcmQiLCJUT1BfU0lURVNfU1BPTlNPUkVEX0lNUFJFU1NJT05fU1RBVFMiLCJhZHZlcnRpc2VyIiwicG9zIiwiRGlzY292ZXJ5U3RyZWFtSW1wcmVzc2lvblN0YXRzIiwid2luZG93X2lubmVyX3dpZHRoIiwiaW5uZXJXaWR0aCIsIndpbmRvd19pbm5lcl9oZWlnaHQiLCJpbm5lckhlaWdodCIsInRpbGVzIiwibGluayIsImNhdGVnb3J5IiwiZmVhdHVyZXMiLCJjbGFzc19uYW1lcyIsImxheW91dF9uYW1lIiwic2VjdGlvbkxheW91dE5hbWUiLCJfbmVlZHNMb2FkZWRDb250ZW50IiwibG9hZGVkQ29udGVudEd1aWRzIiwiX2Rpc3BhdGNoTG9hZGVkQ29udGVudCIsIkRpc2NvdmVyeVN0cmVhbUxvYWRlZENvbnRlbnQiLCJzZXRJbXByZXNzaW9uT2JzZXJ2ZXJPckFkZExpc3RlbmVyIiwidmlzaWJpbGl0eVN0YXRlIiwic2V0SW1wcmVzc2lvbk9ic2VydmVyIiwiX29uVmlzaWJpbGl0eUNoYW5nZSIsIl9oYW5kbGVJbnRlcnNlY3QiLCJzb21lIiwiaW50ZXJzZWN0aW9uUmF0aW8iLCJpbXByZXNzaW9uT2JzZXJ2ZXIiLCJyZWZzIiwiU2FmZUFuY2hvciIsImFsdEtleSIsIk9QRU5fTElOSyIsImN1cnJlbnRUYXJnZXQiLCJpc19zcG9uc29yZWQiLCJpc1Nwb25zb3JlZCIsIm9uTGlua0NsaWNrIiwic2FmZVVSSSIsInByb3RvY29sIiwiVVJMIiwiaXNBbGxvd2VkIiwiY29uc29sZSIsIndhcm4iLCJhbmNob3IiLCJzZXRSZWYiLCJGbHVlbnRPclRleHQiLCJtZXNzYWdlIiwiY2hpbGQiLCJDaGlsZHJlbiIsIm9ubHkiLCJncmFuZENoaWxkcmVuIiwiZXh0cmFQcm9wcyIsImFyZ3MiLCJjYXJkQ29udGV4dFR5cGVzIiwiQ1NTVHJhbnNpdGlvbiIsIlRyYW5zaXRpb25Hcm91cCIsIkFOSU1BVElPTl9EVVJBVElPTiIsIkRTTWVzc2FnZUxhYmVsIiwiY29udGV4dF90eXBlIiwibWF5SGF2ZVNlY3Rpb25zQ2FyZHMiLCJmbHVlbnRJRCIsInRpbWVvdXQiLCJTdGF0dXNNZXNzYWdlIiwiU3BvbnNvckxhYmVsIiwic3BvbnNvcmVkX2J5X292ZXJyaWRlIiwic3BvbnNvciIsIm5ld1Nwb25zb3JlZExhYmVsIiwiRFNDb250ZXh0Rm9vdGVyIiwiY3RhX2J1dHRvbl92YXJpYW50Iiwic3BvbnNvckxhYmVsIiwiZHNNZXNzYWdlTGFiZWwiLCJEU01lc3NhZ2VGb290ZXIiLCJEU1RodW1ic1VwRG93bkJ1dHRvbnMiLCJvblRodW1ic1VwQ2xpY2siLCJvblRodW1ic0Rvd25DbGljayIsImlzVGh1bWJzVXBBY3RpdmUiLCJpc1RodW1ic0Rvd25BY3RpdmUiLCJyZWZpbmVkQ2FyZHNMYXlvdXQiLCJ0aHVtYnNCdXR0b25zIiwiaWNvbnNyYyIsIlJFQURJTkdfV1BNIiwiUFJFRl9PSFRUUF9NRVJJTk8iLCJQUkVGX09IVFRQX1VOSUZJRURfQURTIiwiUFJFRl9GQVZJQ09OU19FTkFCTEVEIiwicmVhZFRpbWVGcm9tV29yZENvdW50Iiwid29yZENvdW50IiwiY2VpbCIsInBhcnNlSW50IiwiRFNTb3VyY2UiLCJ0aW1lVG9SZWFkIiwiaWNvbl9zcmMiLCJmYXZpY29uU2l6ZSIsIkRlZmF1bHRNZXRhIiwiZXhjZXJwdCIsImN0YUJ1dHRvblZhcmlhbnQiLCJtYXlIYXZlVGh1bWJzVXBEb3duIiwiaXNMaXN0Q2FyZCIsImlzU2VjdGlvbnNDYXJkIiwic2hvd1RvcGljcyIsInNob3VsZEhhdmVUaHVtYnMiLCJzaG91bGRIYXZlRm9vdGVyU2VjdGlvbiIsIl9EU0NhcmQiLCJkb2VzTGlua1RvcGljTWF0Y2hTZWxlY3RlZFRvcGljIiwic2V0Q29udGV4dE1lbnVCdXR0b25Ib3N0UmVmIiwiZWxlbWVudCIsImNvbnRleHRNZW51QnV0dG9uSG9zdEVsZW1lbnQiLCJzZXRQbGFjZWhvbGRlclJlZiIsInBsYWNlaG9sZGVyRWxlbWVudCIsImlzU2VlbiIsIkFwcCIsImlzRm9yU3RhcnR1cENhY2hlIiwic3RhbmRhcmRDYXJkSW1hZ2VTaXplcyIsImxpc3RDYXJkSW1hZ2VTaXplcyIsInNlY3Rpb25zQ2FyZEltYWdlc1NpemVzIiwic21hbGwiLCJtZWRpdW0iLCJsYXJnZSIsInNlY3Rpb25zQ29sdW1uTWVkaWFNYXRjaGVyIiwiZ2V0U2VjdGlvbkltYWdlU2l6ZSIsImNhcmRJbWFnZVNpemUiLCJzZWxlY3RlZFRvcGljcyIsImF2YWlsYWJsZVRvcGljcyIsIm1hdGNoZXNTZWxlY3RlZFRvcGljIiwicHJvZHVjdF9pZCIsImNsaWNrIiwibWF0Y2hlc19zZWxlY3RlZF90b3BpYyIsInNlY3Rpb25zQ2xhc3NOYW1lcyIsInNlY3Rpb25Qb3NpdGlvbiIsInNlY3Rpb25Gb2xsb3dlZCIsImN1cnJlbnRTdGF0ZSIsInRodW1ic191cCIsInRodW1ic19kb3duIiwiT25seVRvT25lQ29udGVudCIsIlNIT1dfVE9BU1RfTUVTU0FHRSIsInNob3dOb3RpZmljYXRpb25zIiwidG9hc3RJZCIsInNwb2NEYXRhIiwiYmxvY2tVcmxPcHRpb24iLCJCbG9ja1VybCIsImRzTGlua01lbnVIb3N0RGl2IiwibDEwbiIsInRyYW5zbGF0ZUZyYWdtZW50Iiwic2Nyb2xsTWF4WCIsIm9uU2VlbiIsImdldFJhd0ltYWdlU3JjIiwicmF3SW1hZ2VTcmMiLCJyYXdfaW1hZ2Vfc3JjIiwiZ2V0RmF2aWNvblNyYyIsImZhdmljb25TcmMiLCJmYXZpY29uRW5hYmxlZCIsIm9odHRwRW5hYmxlZCIsIm9odHRwSW1hZ2VzRW5hYmxlZCIsIm9odHRwSW1hZ2VzQ29uZmlnIiwiaW5jbHVkZVRvcFN0b3JpZXNTZWN0aW9uIiwibm9uUGVyc29uYWxpemVkU2VjdGlvbnMiLCJzZWN0aW9uUGVyc29uYWxpemVkIiwicmVuZGVySW1hZ2UiLCJpbWFnZV9zcmMiLCJyZW5kZXJTZWN0aW9uQ2FyZEltYWdlcyIsInNlY3Rpb25zQ2FyZEltYWdlU2l6ZXMiLCJjb2x1bW5zIiwiaW1hZ2VzIiwiaW1hZ2UiLCJyZWZpbmVkQ2FyZHNDbGFzc05hbWUiLCJwbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyQ2xhc3NOYW1lIiwicGxhY2Vob2xkZXJFbGVtZW50cyIsInB1Ymxpc2hlciIsImhvc3RuYW1lIiwiaGlkZURlc2NyaXB0aW9ucyIsImNvbXBhY3RJbWFnZXMiLCJpbWFnZUdyYWRpZW50IiwidGl0bGVMaW5lcyIsImRlc2NMaW5lcyIsInJlYWRUaW1lIiwiZGlzcGxheVJlYWRUaW1lIiwidGltZV90b19yZWFkIiwid29yZF9jb3VudCIsImN0YUJ1dHRvbkVuYWJsZWQiLCJjdGFCdXR0b25TcG9uc29ycyIsInRvTG93ZXJDYXNlIiwiY3RhQnV0dG9uVmFyaWFudENsYXNzTmFtZSIsImN0YUJ1dHRvbkNsYXNzTmFtZSIsImNvbXBhY3RJbWFnZXNDbGFzc05hbWUiLCJpbWFnZUdyYWRpZW50Q2xhc3NOYW1lIiwibGlzdENhcmRDbGFzc05hbWUiLCJmYWtlc3BvdENsYXNzTmFtZSIsInNlY3Rpb25zQ2FyZHNDbGFzc05hbWUiLCJ0aXRsZUxpbmVzTmFtZSIsImRlc2NMaW5lc0NsYXNzTmFtZSIsImlzTWVkaXVtUmVjdGFuZ2xlIiwic3BvY0Zvcm1hdENsYXNzTmFtZSIsInVuZGVmaW5lZCIsInNob3dQcml2YWN5SW5mbyIsImJsb2NrX2tleSIsIkRTQ2FyZCIsIlBsYWNlaG9sZGVyRFNDYXJkIiwiRFNFbXB0eVN0YXRlIiwib25SZXNldCIsImNsZWFyVGltZW91dCIsIkRJU0NPVkVSWV9TVFJFQU1fRkVFRF9VUERBVEUiLCJzdGF0dXMiLCJ3YWl0aW5nIiwiRElTQ09WRVJZX1NUUkVBTV9SRVRSWV9GRUVEIiwicmVuZGVyQnV0dG9uIiwicmVuZGVyU3RhdGUiLCJfVG9waWNzV2lkZ2V0IiwidXRtQ2FtcGFpZ24iLCJ1dG1Db250ZW50IiwidXRtU291cmNlIiwiZXhwZXJpbWVudERhdGEiLCJxdWVyeVBhcmFtcyIsInRvcGljcyIsInBvc2l0aW9uSW5DYXJkIiwicG9zaXRpb25faW5fY2FyZCIsIm1hcFRvcGljSXRlbSIsIm92ZXJmbG93IiwiVG9waWNzV2lkZ2V0IiwidXNlU3RhdGUiLCJ1c2VTZWxlY3RvciIsIlBSRUZfTElTVEZFRURfVElUTEUiLCJQUkVGX0ZBS0VTUE9UX0NBVEVHUk9ZIiwiUFJFRl9GQUtFU1BPVF9GT09URVIiLCJQUkVGX0ZBS0VTUE9UX0NUQV9DT1BZIiwiUFJFRl9GQUtFU1BPVF9DVEFfVVJMIiwiTGlzdEZlZWQiLCJyZWNzIiwiY2F0ZWdvcmllcyIsInNlbGVjdGVkRmFrZXNwb3RGZWVkIiwic2V0U2VsZWN0ZWRGYWtlc3BvdEZlZWQiLCJsaXN0RmVlZFRpdGxlIiwiY2F0ZWdvcnlUaXRsZSIsImZvb3RlckNvcHkiLCJjdGFDb3B5IiwiY3RhVXJsIiwibGlzdEZlZWRSZWNzIiwicmVjIiwiaGFuZGxlQ3RhQ2xpY2siLCJoYW5kbGVDaGFuZ2UiLCJjb250ZXh0TWVudU9wdGlvbnMiLCJsaXN0TGVuZ3RoIiwiZnVsbExpc3QiLCJzbGljZSIsImRvbWFpbiIsIkFkQmFubmVyQ29udGV4dE1lbnUiLCJzaG93QWRSZXBvcnRpbmciLCJ0b2dnbGVBY3RpdmUiLCJBREJBTk5FUl9DT05URVhUX01FTlVfT1BUSU9OUyIsInNldFNob3dDb250ZXh0TWVudSIsImNvbnRleHRNZW51Q2xhc3NOYW1lcyIsInNldENvbnRleHRNZW51Q2xhc3NOYW1lcyIsImlzS2V5Ym9hcmRBY2Nlc3MiLCJzZXRJc0tleWJvYXJkQWNjZXNzIiwidG9nZ2xlQ29udGV4dE1lbnVTdHlsZVN3aXRjaCIsImNvbnRleHRNZW51T3BlbiIsInRvZ2dsZUNvbnRleHRNZW51IiwiaXNfcG9ja2V0X2NhcmQiLCJwZXJzb25hbGl6YXRpb25fbW9kZWxzIiwicHJpb3JpdHkiLCJzY29yZSIsInVzZURpc3BhdGNoIiwiUFJFRl9QUk9NT19DQVJEX0RJU01JU1NFRCIsIlByb21vQ2FyZCIsIm9uQ3RhQ2xpY2siLCJBbHNvVG9NYWluIiwiUFJPTU9fQ0FSRF9DTElDSyIsIm9uRGlzbWlzc0NsaWNrIiwiUFJPTU9fQ0FSRF9ESVNNSVNTIiwiaGFuZGxlSW50ZXJzZWN0aW9uIiwiUFJPTU9fQ0FSRF9JTVBSRVNTSU9OIiwicmVsIiwiUFJFRl9QUk9NT0NBUkRfRU5BQkxFRCIsIlBSRUZfUFJPTU9DQVJEX1ZJU0lCTEUiLCJBZEJhbm5lciIsImdldERpbWVuc2lvbnMiLCJwcm9tb0NhcmRFbmFibGVkIiwibWVudUFjdGl2ZSIsInNldE1lbnVBY3RpdmUiLCJhZEJhbm5lcldyYXBwZXJDbGFzc05hbWUiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsImFjdGl2ZSIsImNsYW1wZWRSb3ciLCJncmlkUm93IiwiUFJFRl9UUkVORElOR19WQVJJQU5UIiwiUFJFRl9SRUZJTkVEX0NBUkRTX0xBWU9VVCIsIlRyZW5kaW5nU2VhcmNoZXMiLCJUcmVuZGluZ1NlYXJjaCIsInZhcmlhbnQiLCJyZWZpbmVkQ2FyZHMiLCJyZXN1bHRSZWYiLCJjb250ZXh0TWVudUhvc3QiLCJUUkVORElOR19TRUFSQ0hfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJvbkFycm93Q2xpY2siLCJUUkVORElOR19TRUFSQ0hfVE9HR0xFX0NPTExBUFNFIiwiaGFuZGxlTGlua09wZW4iLCJUUkVORElOR19TRUFSQ0hfU1VHR0VTVElPTl9PUEVOIiwiaGFuZGxlQ29udGV4dE1lbnVTaG93IiwiaG9zdCIsImlzUlRMIiwiZGlyIiwiY2hlY2tSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWF4Qm91bmRzIiwiY2hlY2tCb3VuZHMiLCJsZWZ0IiwicmlnaHQiLCJoYW5kbGVDb250ZXh0TWVudVVwZGF0ZSIsIm9uQ29udGV4dE1lbnVDbGljayIsIm9uQ29udGV4dE1lbnVLZXlEb3duIiwiaGFuZGxlUmVzdWx0S2V5RG93biIsIm1heFJlc3VsdHMiLCJuZXh0SW5kZXgiLCJUUkVORElOR19TRUFSQ0hfSU1QUkVTU0lPTiIsInJlc3VsdCIsInNlYXJjaFVybCIsImxvd2VyQ2FzZVN1Z2dlc3Rpb24iLCJkZXNjcmlwdGlvbiIsIlBSRUZfU0VDVElPTlNfQ0FSRFNfRU5BQkxFRCIsIlBSRUZfVEhVTUJTX1VQX0RPV05fRU5BQkxFRCIsIlBSRUZfVE9QSUNTX0VOQUJMRUQiLCJQUkVGX1RPUElDU19TRUxFQ1RFRCIsIlBSRUZfVE9QSUNTX0FWQUlMQUJMRSIsIlBSRUZfU1BPQ1NfU1RBUlRVUENBQ0hFX0VOQUJMRUQiLCJQUkVGX0xJU1RfRkVFRF9FTkFCTEVEIiwiUFJFRl9MSVNUX0ZFRURfU0VMRUNURURfRkVFRCIsIlBSRUZfRkFLRVNQT1RfRU5BQkxFRCIsIlBSRUZfQklMTEJPQVJEX0VOQUJMRUQiLCJQUkVGX0JJTExCT0FSRF9QT1NJVElPTiIsIlBSRUZfTEVBREVSQk9BUkRfRU5BQkxFRCIsIlBSRUZfTEVBREVSQk9BUkRfUE9TSVRJT04iLCJQUkVGX1RSRU5ESU5HX1NFQVJDSCIsIlBSRUZfVFJFTkRJTkdfU0VBUkNIX1NZU1RFTSIsIlBSRUZfU0VBUkNIX0VOR0lORSIsIlBSRUZfVFJFTkRJTkdfU0VBUkNIX1ZBUklBTlQiLCJXSURHRVRfSURTIiwiVE9QSUNTIiwiRFNTdWJIZWFkZXIiLCJvbkludGVyc2VjdGluZyIsImludGVyc2VjdGlvbkVsZW1lbnQiLCJfQ2FyZEdyaWQiLCJyZW5kZXJDYXJkcyIsIndpZGdldHMiLCJ0b3BpY3NMb2FkaW5nIiwic3BvY3NTdGFydHVwQ2FjaGVFbmFibGVkIiwibGlzdEZlZWRFbmFibGVkIiwibGlzdEZlZWRTZWxlY3RlZEZlZWQiLCJiaWxsYm9hcmRFbmFibGVkIiwidHJlbmRpbmdFbmFibGVkIiwidHJlbmRpbmdWYXJpYW50IiwiZmVlZE5hbWUiLCJpc1RpbWVTZW5zaXRpdmUiLCJwb3NpdGlvbnMiLCJwb3NpdGlvbkluZGV4Iiwid2lkZ2V0Iiwid2lkZ2V0Q29tcG9uZW50IiwiZmFrZXNwb3RFbmFibGVkIiwicmVuZGVyTGlzdEZlZWQiLCJmaXJzdFNwb2NQb3NpdGlvbiIsInNwb2NQb3NpdGlvbnMiLCJzcG9jVG9SZW5kZXIiLCJibG9ja2VkIiwiZGlzcGxheUNhcmRzUGVyUm93IiwiaW5qZWN0QWRCYW5uZXIiLCJiYW5uZXJJbmRleCIsImdldEJhbm5lckluZGV4IiwiY2FyZHNQZXJSb3ciLCJncmlkQ2xhc3NOYW1lIiwicmVuZGVyR3JpZENsYXNzTmFtZSIsIlNldCIsImxpc3RGZWVkIiwiaHlicmlkTGF5b3V0IiwiaGlkZUNhcmRCYWNrZ3JvdW5kIiwiZm91ckNhcmRMYXlvdXQiLCJjb21wYWN0R3JpZCIsImhpZGVDYXJkQmFja2dyb3VuZENsYXNzIiwiZm91ckNhcmRMYXlvdXRDbGFzcyIsImhpZGVEZXNjcmlwdGlvbnNDbGFzc05hbWUiLCJjb21wYWN0R3JpZENsYXNzTmFtZSIsImh5YnJpZExheW91dENsYXNzTmFtZSIsImlzRW1wdHkiLCJDYXJkR3JpZCIsIkExMXlMaW5rQnV0dG9uIiwiRXJyb3JCb3VuZGFyeUZhbGxiYWNrIiwicmVsb2FkIiwiZGVmYXVsdENsYXNzIiwiRXJyb3JCb3VuZGFyeSIsImhhc0Vycm9yIiwiY29tcG9uZW50RGlkQ2F0Y2giLCJGYWxsYmFja0NvbXBvbmVudCIsIl9Db2xsYXBzaWJsZVNlY3Rpb24iLCJvbkJvZHlNb3VudCIsIm9uTWVudUJ1dHRvbk1vdXNlRW50ZXIiLCJvbk1lbnVCdXR0b25Nb3VzZUxlYXZlIiwic2V0Q29udGV4dE1lbnVCdXR0b25SZWYiLCJoYW5kbGVUb3BpY1NlbGVjdGlvbkJ1dHRvbkNsaWNrIiwibWVudUJ1dHRvbkhvdmVyIiwiY29udGV4dE1lbnVCdXR0b25SZWYiLCJub2RlIiwic2VjdGlvbkJvZHkiLCJtYXliZURpc3BsYXkiLCJUT1BJQ19TRUxFQ1RJT05fVVNFUl9PUEVOIiwiQnJvYWRjYXN0VG9Db250ZW50IiwiVE9QSUNfU0VMRUNUSU9OX1NQT1RMSUdIVF9PUEVOIiwiaXNBbmltYXRpbmciLCJtYXhIZWlnaHQiLCJzdWJUaXRsZSIsIm1heUhhdmVUb3BpY3NTZWxlY3Rpb24iLCJib2R5U3R5bGUiLCJkaXNwbGF5IiwidGl0bGVTdHlsZSIsImhpZGVUaXRsZSIsInZpc2liaWxpdHkiLCJoYXNTdWJ0aXRsZUNsYXNzTmFtZSIsImhhc0JlZW5VcGRhdGVkUHJldmlvdXNseSIsInRvcGljc0hhdmVCZWVuUHJldmlvdXNseVNldCIsIkNvbGxhcHNpYmxlU2VjdGlvbiIsIkRTTWVzc2FnZSIsImJhY2tncm91bmRJbWFnZSIsImxpbmtfdGV4dCIsImxpbmtfdXJsIiwiUmVwb3J0Q29udGVudCIsIm1vZGFsIiwicmFkaW9Hcm91cFJlZiIsInN1Ym1pdEJ1dHRvblJlZiIsInJlcG9ydCIsInZhbHVlU2VsZWN0ZWQiLCJzZXRWYWx1ZVNlbGVjdGVkIiwic2VsZWN0ZWRSZWFzb24iLCJzZXRTZWxlY3RlZFJlYXNvbiIsImhhbmRsZUNhbmNlbCIsIlJFUE9SVF9DTE9TRSIsImhhbmRsZVN1Ym1pdCIsInJlcG9ydGluZ191cmwiLCJSRVBPUlRfQ09OVEVOVF9TVUJNSVQiLCJyZXBvcnRfcmVhc29uIiwiZ2V0UGxhY2VtZW50SWQiLCJwbGFjZW1lbnRJZCIsInNwb2NMaXN0IiwicGxhY2VtZW50X2lkIiwiUkVQT1JUX0FEX1NVQk1JVCIsIkJMT0NLX1VSTCIsInNob3dNb2RhbCIsInJhZGlvR3JvdXAiLCJzZWxlY3RlZFJhZGlvQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUF0dHJpYnV0ZSIsIm9wZW4iLCJjbG9zZSIsInN1Ym1pdEJ1dHRvbiIsImhhbmRsZVJhZGlvQ2hhbmdlIiwicmVhc29uVmFsdWUiLCJ1cGRhdGVTdWJtaXRTdGF0ZSIsInNldEF0dHJpYnV0ZSIsIm9uQ2xvc2UiLCJEU1NpZ251cCIsImxhc3RJdGVtIiwib25NZW51QnV0dG9uVXBkYXRlIiwibmV4dEFuaW1hdGlvbkZyYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJTSUdOVVBfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJvdXRlckNsYXNzTmFtZSIsInYiLCJEU0Rpc21pc3MiLCJvbkhvdmVyIiwib2ZmSG92ZXIiLCJob3ZlcmluZyIsImV4dHJhQ2xhc3NlcyIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsIkRTVGV4dFByb21vIiwiY3RhIiwiU2NyZWVuc2hvdFV0aWxzIiwiZ0ltYWdlTG9hZGluZyIsIk1hcCIsIl9DYXJkIiwiYWN0aXZlQ2FyZCIsImltYWdlTG9hZGVkIiwiY2FyZEltYWdlIiwibWF5YmVMb2FkSW1hZ2UiLCJpbWFnZVVybCIsImxvYWRlclByb21pc2UiLCJyZWplY3QiLCJsb2FkZXIiLCJJbWFnZSIsInNldCIsImNhdGNoIiwiZXgiLCJ0aGVuIiwiZGVsZXRlIiwiZ2V0IiwiaXNSZW1vdGVJbWFnZUxvY2FsIiwiZ2V0TmV4dFN0YXRlRnJvbVByb3BzIiwibmV4dFByb3BzIiwicHJldlN0YXRlIiwiaW1hZ2VJblN0YXRlIiwibmV4dFN0YXRlIiwibWF5YmVSZXZva2VCbG9iT2JqZWN0VVJMIiwiY3JlYXRlTG9jYWxJbWFnZU9iamVjdCIsImlzT3BlbiIsIl9nZXRUZWxlbWV0cnlJbmZvIiwiT1BFTl9ET1dOTE9BRF9GSUxFIiwiaXNXZWJFeHRlbnNpb24iLCJXZWJFeHRFdmVudCIsIldFQkVYVF9DTElDSyIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJpc0NvbnRleHRNZW51T3BlbiIsImhhc0ltYWdlIiwiaW1hZ2VTdHlsZSIsIm9wZW5fdXJsIiwiQ2FyZCIsIlBsYWNlaG9sZGVyQ2FyZCIsInBlcmZTZXJ2aWNlIiwicGVyZlN2YyIsIlJFQ09SREVEX1NFQ1RJT05TIiwiQ29tcG9uZW50UGVyZlRpbWVyIiwiQ29tcG9uZW50IiwiX3NlbmRCYWRTdGF0ZUV2ZW50IiwiX3NlbmRQYWludGVkRXZlbnQiLCJfcmVwb3J0TWlzc2luZ0RhdGEiLCJfdGltZXN0YW1wSGFuZGxlZCIsIl9yZWNvcmRlZEZpcnN0UmVuZGVyIiwiX21heWJlU2VuZFBhaW50ZWRFdmVudCIsIl9hZnRlckZyYW1lUGFpbnQiLCJfbWF5YmVTZW5kQmFkU3RhdGVFdmVudCIsIl9lbnN1cmVGaXJzdFJlbmRlclRzUmVjb3JkZWQiLCJtYXJrIiwiZGF0YVJlYWR5S2V5IiwiZmlyc3RSZW5kZXJLZXkiLCJnZXRNb3N0UmVjZW50QWJzTWFya1N0YXJ0QnlOYW1lIiwiU0FWRV9TRVNTSU9OX1BFUkZfREFUQSIsIk1vcmVSZWNvbW1lbmRhdGlvbnMiLCJyZWFkX21vcmVfZW5kcG9pbnQiLCJNb2RhbE92ZXJsYXlXcmFwcGVyIiwidW5zdHlsZWQiLCJpbm5lckNsYXNzTmFtZSIsImhlYWRlcklkIiwibW9kYWxSZWYiLCJTZWxlY3RhYmxlU2VhcmNoU2hvcnRjdXQiLCJzaG9ydGN1dCIsInNlbGVjdGVkIiwidGlwcHlUb3BJY29uIiwia2V5d29yZCIsIlNlYXJjaFNob3J0Y3V0c0Zvcm0iLCJvbkNhbmNlbEJ1dHRvbkNsaWNrIiwib25TYXZlQnV0dG9uQ2xpY2siLCJzaG9ydGN1dHMiLCJzZWFyY2hTaG9ydGN1dHMiLCJUb3BTaXRlcyIsImlzU2VsZWN0ZWQiLCJpc1Bpbm5lZCIsInRhcmdldE5hbWUiLCJldiIsInBpblF1ZXVlIiwidW5waW5RdWV1ZSIsImFscmVhZHlQaW5uZWQiLCJfc2VhcmNoVG9wU2l0ZSIsInNlYXJjaFZlbmRvciIsInNob3J0VVJMIiwiVVBEQVRFX1BJTk5FRF9TRUFSQ0hfU0hPUlRDVVRTIiwiYWRkZWRTaG9ydGN1dHMiLCJkZWxldGVkU2hvcnRjdXRzIiwic2VhcmNoX3ZlbmRvciIsIlRvcFNpdGVGb3JtSW5wdXQiLCJ2YWxpZGF0aW9uRXJyb3IiLCJvbk1vdW50Iiwib25DbGVhckljb25QcmVzcyIsInNob3VsZEZvY3VzIiwiaW5wdXQiLCJvbkNsZWFyIiwicmVuZGVyTG9hZGluZ09yQ2xvc2VCdXR0b24iLCJzaG93Q2xlYXJCdXR0b24iLCJvbktleVByZXNzIiwidHlwZVVybCIsInRpdGxlSWQiLCJwbGFjZWhvbGRlcklkIiwiYXV0b0ZvY3VzIiwiYXV0b0ZvY3VzT25PcGVuIiwiZXJyb3JNZXNzYWdlSWQiLCJUb3BTaXRlSW1wcmVzc2lvbldyYXBwZXIiLCJhY3Rpb25UeXBlIiwidGlsZSIsInRvcHNpdGVfaW1wcmVzc2lvbl93cmFwcGVyIiwiTWVzc2FnZVdyYXBwZXIiLCJoaWRkZW5PdmVycmlkZSIsIm9uRGlzbWlzcyIsIk1lc3NhZ2VzIiwic2V0SXNJbnRlcnNlY3RpbmciLCJ0YWJJc1Zpc2libGUiLCJzZXRUYWJJc1Zpc2libGUiLCJoYXNSdW4iLCJzZXRIYXNSdW4iLCJtZXNzYWdlRGF0YSIsIk1FU1NBR0VfSU1QUkVTU0lPTiIsImlzVmlzaWJsZSIsIk1FU1NBR0VfTk9USUZZX1ZJU0lCSUxJVFkiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwiaGFuZGxlQ2xvc2UiLCJNRVNTQUdFX1RPR0dMRV9WSVNJQklMSVRZIiwicG9ydElEIiwiaGFuZGxlRGlzbWlzcyIsIk1FU1NBR0VfRElTTUlTUyIsImhhbmRsZUJsb2NrIiwiTUVTU0FHRV9CTE9DSyIsImVsZW1lbnRJZCIsIk1FU1NBR0VfQ0xJQ0siLCJGZWF0dXJlSGlnaGxpZ2h0IiwidG9nZ2xlIiwiYXJyb3dQb3NpdGlvbiIsInZlcnRpY2FsUG9zaXRpb24iLCJhcmlhTGFiZWwiLCJmZWF0dXJlIiwiZ2xvYmFsIiwib3BlbmVkT3ZlcnJpZGUiLCJzaG93QnV0dG9uSWNvbiIsImRpc21pc3NDYWxsYmFjayIsIm91dHNpZGVDbGlja0NhbGxiYWNrIiwibW9kYWxDbGFzc05hbWUiLCJvcGVuZWQiLCJzZXRPcGVuZWQiLCJoYW5kbGVPdXRzaWRlQ2xpY2siLCJjb250YWlucyIsImhhbmRsZUtleURvd24iLCJvblRvZ2dsZUNsaWNrIiwiaGlkZUJ1dHRvbkNsYXNzIiwib3BlbmVkQ2xhc3NuYW1lIiwiU2hvcnRjdXRGZWF0dXJlSGlnaGxpZ2h0IiwiTUlOX1JJQ0hfRkFWSUNPTl9TSVpFIiwiTUlOX1NNQUxMX0ZBVklDT05fU0laRSIsIlRPUF9TSVRFU19DT05URVhUX01FTlVfT1BUSU9OUyIsIlRPUF9TSVRFU19TUE9DX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiVE9QX1NJVEVTX1NQT05TT1JFRF9QT1NJVElPTl9DT05URVhUX01FTlVfT1BUSU9OUyIsIlRPUF9TSVRFU19TRUFSQ0hfU0hPUlRDVVRTX0NPTlRFWFRfTUVOVV9PUFRJT05TIiwiVE9QX1NJVEVTX01BWF9TSVRFU19QRVJfUk9XIiwiU1BPQ19UWVBFIiwiTkVXVEFCX1NPVVJDRSIsIlRvcFNpdGVMaW5rIiwic2NyZWVuc2hvdEltYWdlIiwib25EcmFnRXZlbnQiLCJzaG91bGRTaG93T01DSGlnaGxpZ2h0IiwiX2FsbG93RHJvcCIsImRyYWdnZWQiLCJkYXRhVHJhbnNmZXIiLCJ0eXBlcyIsImJsdXIiLCJlZmZlY3RBbGxvd2VkIiwic2V0RGF0YSIsInNjcmVlbnNob3QiLCJpc0FkZEJ1dHRvbiIsImdlbmVyYXRlQ29sb3IiLCJjb2xvckFycmF5IiwiY2FsY3VsYXRlU3R5bGUiLCJkZWZhdWx0U3R5bGUiLCJpbWFnZUNsYXNzTmFtZSIsInNob3dTbWFsbEZhdmljb24iLCJzbWFsbEZhdmljb25TdHlsZSIsImhhc1NjcmVlbnNob3RJbWFnZSIsInNlbGVjdGVkQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjdXN0b21TY3JlZW5zaG90VVJMIiwiZmF2aWNvbiIsImNvbXBvbmVudElkIiwiY29udGVudCIsIm1lc3NhZ2VUeXBlIiwiaXNEcmFnZ2FibGUiLCJ0b3BTaXRlT3V0ZXJDbGFzc05hbWUiLCJpc0RyYWdnZWQiLCJsZXR0ZXJGYWxsYmFjayIsImFkZEJ1dHRvbkxhYmVsbDEwbiIsImFkZEJ1dHRvblRpdGxlbDEwbiIsImFkZFBpbm5lZFRpdGxlbDEwbiIsImRyYWdnYWJsZVByb3BzIiwib25EcmFnRW5kIiwib25EcmFnU3RhcnQiLCJvbk1vdXNlRG93biIsImltcHJlc3Npb25TdGF0cyIsInRvTG9jYWxlTG93ZXJDYXNlIiwic3BvbnNvcmVkX3RpbGVfaWQiLCJzcG9uc29yZWRfaW1wcmVzc2lvbl91cmwiLCJUT1BfU0lURVNfT1JHQU5JQ19JTVBSRVNTSU9OX1NUQVRTIiwib25Ecm9wIiwib25EcmFnT3ZlciIsIm9uRHJhZ0VudGVyIiwib25EcmFnTGVhdmUiLCJkcmFnZ2FibGUiLCJzaG93X3Nwb25zb3JlZF9sYWJlbCIsIlRvcFNpdGUiLCJpY29uX3R5cGUiLCJpY29uVHlwZSIsInNwb25zb3JlZF9jbGlja191cmwiLCJzZW5kQXR0cmlidXRpb25SZXF1ZXN0IiwiUEFSVE5FUl9MSU5LX0FUVFJJQlVUSU9OIiwidGFyZ2V0VVJMIiwiRklMTF9TRUFSQ0hfVEVSTSIsIm9uQWN0aXZhdGUiLCJhY3RpdmVJbmRleCIsIm1lbnVPcHRpb25zIiwic2V0UHJlZiIsIlRvcFNpdGVBZGRCdXR0b24iLCJvbkVkaXRCdXR0b25DbGljayIsIlRPUF9TSVRFU19FRElUIiwiVG9wU2l0ZVBsYWNlaG9sZGVyIiwiX1RvcFNpdGVMaXN0IiwiREVGQVVMVF9TVEFURSIsImRyYWdnZWRJbmRleCIsImRyYWdnZWRTaXRlIiwiZHJhZ2dlZFRpdGxlIiwidG9wU2l0ZXNQcmV2aWV3IiwiZm9jdXNlZEluZGV4Iiwib25XcmFwcGVyRm9jdXMiLCJvblRvcHNpdGVGb2N1cyIsIm9uV3JhcHBlckJsdXIiLCJwcmV2VG9wU2l0ZXMiLCJuZXdUb3BTaXRlcyIsImRyb3BwZWQiLCJfbWFrZVRvcFNpdGVzUHJldmlldyIsIlRPUF9TSVRFU19JTlNFUlQiLCJkcmFnZ2VkRnJvbUluZGV4IiwiX2dldFRvcFNpdGVzIiwidG9wU2l0ZXMiLCJUb3BTaXRlc1Jvd3MiLCJmaXJzdFBsYWNlaG9sZGVyIiwiZmluZEluZGV4IiwiaXMiLCJwcmV2aWV3IiwidW5waW5uZWQiLCJzaXRlVG9JbnNlcnQiLCJob2xlSW5kZXgiLCJpbmRleFN0ZXAiLCJzaGlmdGluZ1N0ZXAiLCJzaGlmdCIsImZvY3VzZWRSZWYiLCJuZXh0U2libGluZyIsInByZXZpb3VzU2libGluZyIsImZvY3VzUmVmIiwiZm9jdXNJbmRleCIsInRvcFNpdGVzVUkiLCJjb21tb25Qcm9wcyIsIm1heE5hcnJvd1Zpc2libGVJbmRleCIsImwiLCJ0b3BTaXRlSWNvblR5cGUiLCJzbG90UHJvcHMiLCJ0b3BTaXRlTGluayIsIm9uQmx1ciIsIlRvcFNpdGVMaXN0IiwiVG9wU2l0ZUZvcm0iLCJjdXN0b21TY3JlZW5zaG90VXJsIiwic2hvd0N1c3RvbVNjcmVlbnNob3RGb3JtIiwiaGFzVVJMQ2hhbmdlZCIsImhhc1RpdGxlQ2hhbmdlZCIsIm9uQ2xlYXJTY3JlZW5zaG90SW5wdXQiLCJvbkxhYmVsQ2hhbmdlIiwib25VcmxDaGFuZ2UiLCJvbkNsZWFyVXJsQ2xpY2siLCJvbkRvbmVCdXR0b25DbGljayIsIm9uQ3VzdG9tU2NyZWVuc2hvdFVybENoYW5nZSIsIm9uUHJldmlld0J1dHRvbkNsaWNrIiwib25FbmFibGVTY3JlZW5zaG90VXJsRm9ybSIsInZhbGlkYXRlVXJsIiwiX3VwZGF0ZUN1c3RvbVNjcmVlbnNob3RJbnB1dCIsIlBSRVZJRVdfUkVRVUVTVF9DQU5DRUwiLCJ2YWxpZGF0ZUZvcm0iLCJjbGVhblVybCIsImlzRWRpdCIsIlRPUF9TSVRFU19QSU4iLCJQUkVWSUVXX1JFUVVFU1QiLCJfdHJ5UGFyc2VVcmwiLCJ2YWxpZFByb3RvY29scyIsInVybE9iaiIsInZhbGlkYXRlQ3VzdG9tU2NyZWVuc2hvdFVybCIsInZhbGlkYXRlIiwiX3JlbmRlckN1c3RvbVNjcmVlbnNob3RJbnB1dCIsInJlcXVlc3RGYWlsZWQiLCJwcmV2aWV3UmVzcG9uc2UiLCJpc0xvYWRpbmciLCJwcmV2aWV3VXJsIiwic2hvd0FzQWRkIiwicHJldmlvdXMiLCJjaGFuZ2VkIiwicHJldmlld01vZGUiLCJwcmV2aWV3TGluayIsImFkZFRvcHNpdGVzSGVhZGVyTDEwbklkIiwiZWRpdFRvcHNpdGVzSGVhZGVyTDEwbklkIiwiZmF2aWNvblJlZiIsImNvdW50VG9wU2l0ZXNJY29uc1R5cGVzIiwiY291bnRUb3BTaXRlc1R5cGVzIiwiYWNjIiwicmVkdWNlIiwiY3VzdG9tX3NjcmVlbnNob3QiLCJ0aXBweXRvcCIsInJpY2hfaWNvbiIsIm5vX2ltYWdlIiwiX1RvcFNpdGVzIiwib25FZGl0Rm9ybUNsb3NlIiwib25TZWFyY2hTaG9ydGN1dHNGb3JtQ2xvc2UiLCJfZGlzcGF0Y2hUb3BTaXRlc1N0YXRzIiwiX2dldFZpc2libGVUb3BTaXRlcyIsInRvcFNpdGUiLCJ0b3BTaXRlc0ljb25zU3RhdHMiLCJ0b3BTaXRlc1Bpbm5lZCIsInRvcHNpdGVzX2ljb25fc3RhdHMiLCJ0b3BzaXRlc19waW5uZWQiLCJ0b3BzaXRlc19zZWFyY2hfc2hvcnRjdXRzIiwic2l0ZXNQZXJSb3ciLCJUT1BfU0lURVNfQ0FOQ0VMX0VESVQiLCJUT1BfU0lURVNfQ0xPU0VfU0VBUkNIX1NIT1JUQ1VUU19NT0RBTCIsImVkaXRGb3JtIiwic2hvd1NlYXJjaFNob3J0Y3V0c0Zvcm0iLCJleHRyYU1lbnVPcHRpb25zIiwic2hvd1ByZWZOYW1lIiwiaXNGaXhlZCIsImlzRmlyc3QiLCJpc0xhc3QiLCJ0b3BTaXRlc1Jvd3MiLCJDQVJEU19QRVJfUk9XX0RFRkFVTFQiLCJDQVJEU19QRVJfUk9XX0NPTVBBQ1RfV0lERSIsIlNlY3Rpb24iLCJudW1Sb3dzIiwicm93c1ByZWYiLCJtYXhSb3dzIiwiY29tcGFjdENhcmRzIiwibWF4Q2FyZHMiLCJuZWVkc0ltcHJlc3Npb25TdGF0cyIsInNlbmRJbXByZXNzaW9uU3RhdHNPckFkZExpc3RlbmVyIiwic2VuZE5ld1RhYlJlaHlkcmF0ZWQiLCJwcmV2UHJvcHMiLCJ3YXNDb2xsYXBzZWQiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwicmVuZGVyTm90aWZpZWQiLCJORVdfVEFCX1JFSFlEUkFURUQiLCJlbXB0eVN0YXRlIiwibGVhcm5Nb3JlIiwicHJpdmFjeU5vdGljZVVSTCIsIndhaXRpbmdGb3JTcG9jIiwiUG9ja2V0IiwibWF4Q2FyZHNQZXJSb3ciLCJtYXhDYXJkc09uTmFycm93Iiwic2hvdWxkU2hvd1JlYWRNb3JlIiwicmVhbFJvd3MiLCJzaG91bGRTaG93RW1wdHlTdGF0ZSIsInVzZVBsYWNlaG9sZGVyIiwic2VjdGlvbkNsYXNzTmFtZSIsInBhZGRpbmciLCJTZWN0aW9uSW50bCIsIl9TZWN0aW9ucyIsInJlbmRlclNlY3Rpb25zIiwiZW5hYmxlZFNlY3Rpb25zIiwic2VjdGlvbk9yZGVyIiwic2hvd1RvcFNpdGVzIiwiZXhwZWN0ZWRDb3VudCIsIl9IaWdobGlnaHRzIiwiSGlnaGxpZ2h0cyIsIkhvcml6b250YWxSdWxlIiwiVG9waWMiLCJ0ZXh0IiwicmVwbGFjZSIsInRvcGljTmFtZSIsIk5hdmlnYXRpb24iLCJsaW5rcyIsImFsaWdubWVudCIsImhlYWRlciIsImVuZ2xpc2giLCJsb2NhbGUiLCJwcml2YWN5Tm90aWNlIiwibmV3Rm9vdGVyU2VjdGlvbiIsImV4dHJhTGlua3MiLCJ0IiwiUHJpdmFjeUxpbmsiLCJwcm9wZXJ0aWVzIiwiU2VjdGlvblRpdGxlIiwic3VidGl0bGUiLCJTZWN0aW9uQ29udGV4dE1lbnUiLCJmb2xsb3dpbmciLCJTRUNUSU9OU19DT05URVhUX01FTlVfT1BUSU9OUyIsIlBSRUZfVklTSUJMRV9TRUNUSU9OUyIsIkludGVyZXN0UGlja2VyIiwiaW50ZXJlc3RzIiwicmVjZWl2ZWRGZWVkUmFuayIsInNldEZvY3VzZWRJbmRleCIsInZpc2libGVTZWN0aW9ucyIsIklOTElORV9TRUxFQ1RJT05fSU1QUkVTU0lPTiIsIm9uSXRlbUZvY3VzIiwidXBkYXRlZFNlY3Rpb25zIiwiaXNGb2xsb3dlZCIsImZvbGxvd2VkQXQiLCJ0b0lTT1N0cmluZyIsIklOTElORV9TRUxFQ1RJT05fQ0xJQ0siLCJpc19mb2xsb3dlZCIsInRvcGljX3Bvc2l0aW9uIiwiU0VDVElPTl9QRVJTT05BTElaQVRJT05fU0VUIiwiaW50ZXJlc3QiLCJQZXJzb25hbGl6ZWRDYXJkIiwid2F2aW5nRm94IiwiU0hPV19QRVJTT05BTElaRSIsImljb25TcmMiLCJjYXJkVGl0bGUiLCJjYXJkTWVzc2FnZSIsImNsYXNzIiwiY3RhVGV4dCIsImxpbmtVcmwiLCJsaW5rVGV4dCIsIkZvbGxvd1NlY3Rpb25CdXR0b25IaWdobGlnaHQiLCJMb2NhdGlvblNlYXJjaCIsInNlbGVjdGVkTG9jYXRpb24iLCJzZXRTZWxlY3RlZExvY2F0aW9uIiwic3VnZ2VzdGVkTG9jYXRpb25zIiwibG9jYXRpb25TZWFyY2hTdHJpbmciLCJ1c2VySW5wdXQiLCJzZXRVc2VySW5wdXQiLCJpbnB1dFJlZiIsIldFQVRIRVJfTE9DQVRJT05fREFUQV9VUERBVEUiLCJjaXR5IiwibG9jYWxpemVkX25hbWUiLCJhZG1pbk5hbWUiLCJhZG1pbmlzdHJhdGl2ZV9hcmVhIiwiY291bnRyeSIsIldFQVRIRVJfU0VBUkNIX0FDVElWRSIsIldFQVRIRVJfTE9DQVRJT05fU1VHR0VTVElPTlNfVVBEQVRFIiwibWF0Y2giLCJXRUFUSEVSX0xPQ0FUSU9OX1NFQVJDSF9VUERBVEUiLCJoYW5kbGVDbG9zZVNlYXJjaCIsImxpc3QiLCJtZXJpbm9MY2F0aW9uIiwiV2VhdGhlclBsYWNlaG9sZGVyIiwic2V0SXNTZWVuIiwiaXNTZWVuQ2xhc3NOYW1lIiwiX1dlYXRoZXIiLCJpbXByZXNzaW9uU2VlbiIsImVycm9yU2VlbiIsInNldEltcHJlc3Npb25SZWYiLCJpbXByZXNzaW9uRWxlbWVudCIsInNldEVycm9yUmVmIiwiZXJyb3JFbGVtZW50Iiwib25Qcm92aWRlckNsaWNrIiwic2V0SW1wcmVzc2lvbk9ic2VydmVycyIsIm9uSW1wcmVzc2lvbiIsIldFQVRIRVJfSU1QUkVTU0lPTiIsIldFQVRIRVJfTE9BRF9FUlJPUiIsIldFQVRIRVJfT1BFTl9QUk9WSURFUl9VUkwiLCJpc1dlYXRoZXJFbmFibGVkIiwiV0VBVEhFUl9TVUdHRVNUSU9OIiwic2VhcmNoQWN0aXZlIiwiaXNJblNlY3Rpb24iLCJzaG93RGV0YWlsZWRWaWV3IiwiV0VBVEhFUl9TT1VSQ0VfQ09OVEVYVF9NRU5VX09QVElPTlMiLCJXRUFUSEVSX1NPVVJDRV9FUlJPUl9DT05URVhUX01FTlVfT1BUSU9OUyIsImNvbnRleHRNZW51IiwiY29udGV4dE9wdHMiLCJmb3JlY2FzdCIsImN1cnJlbnRfY29uZGl0aW9ucyIsImljb25faWQiLCJ0ZW1wZXJhdHVyZSIsImxvY2F0aW9uRGF0YSIsImhpZ2giLCJsb3ciLCJzdW1tYXJ5IiwiUFJFRl9TRUNUSU9OU19DQVJEU19USFVNQlNfVVBfRE9XTl9FTkFCTEVEIiwiUFJFRl9TRUNUSU9OU19QRVJTT05BTElaQVRJT05fRU5BQkxFRCIsIlBSRUZfSU5URVJFU1RfUElDS0VSX0VOQUJMRUQiLCJQUkVGX1JFRklORURfQ0FSRFNfRU5BQkxFRCIsIlBSRUZfSU5GRVJSRURfUEVSU09OQUxJWkFUSU9OX1VTRVIiLCJnZXRMYXlvdXREYXRhIiwicmVzcG9uc2l2ZUxheW91dHMiLCJsYXlvdXREYXRhIiwiaW1hZ2VTaXplcyIsInRpbGVJbmRleCIsImNvbHVtbkNvdW50IiwiaGFzRXhjZXJwdCIsImdldE1heFRpbGVzIiwiZmxhdE1hcCIsInJlc3BvbnNpdmVMYXlvdXQiLCJtYXhUaWxlIiwicHJlZlRvQXJyYXkiLCJDYXJkU2VjdGlvbiIsImFueVNlY3Rpb25zRm9sbG93ZWQiLCJzaG93V2VhdGhlciIsIm1heUhhdmVTZWN0aW9uc0NhcmRzVGh1bWJzVXBEb3duIiwic2hvdWxkU2hvd1RyZW5kaW5nU2VhcmNoIiwibWF5SGF2ZVNlY3Rpb25zUGVyc29uYWxpemF0aW9uIiwibGF5b3V0TmFtZSIsIkNBUkRfU0VDVElPTl9JTVBSRVNTSU9OIiwic2VjdGlvblJlZnMiLCJtYXlIYXZlQ29tYmluZWRUaHVtYnNVcERvd24iLCJvbkZvbGxvd0NsaWNrIiwidXBkYXRlZFNlY3Rpb25EYXRhIiwib25VbmZvbGxvd0NsaWNrIiwiZGlzcGxheVNlY3Rpb25zIiwiaXNTZWN0aW9uRW1wdHkiLCJzaG91bGRTaG93TGFiZWxzIiwic2VjdGlvbkNvbnRleHRXcmFwcGVyIiwiQ2FyZFNlY3Rpb25zIiwid2VhdGhlclBsYWNlbWVudCIsImRhaWx5QnJpZWZTZWN0aW9uSWQiLCJ3ZWF0aGVyRW5hYmxlZCIsInBlcnNvbmFsaXphdGlvbkVuYWJsZWQiLCJpbnRlcmVzdFBpY2tlckVuYWJsZWQiLCJpbnRlcmVzdFBpY2tlciIsInZpc2libGVTZWN0aW9uIiwiZm91bmQiLCJzZWN0aW9uc1RvUmVuZGVyIiwiZGlzcGxheVAxM25DYXJkIiwidXNlTWVtbyIsImJhdGNoIiwiVEFTS19UWVBFIiwiSU5fUFJPR1JFU1MiLCJDT01QTEVURUQiLCJVU0VSX0FDVElPTl9UWVBFUyIsIkxJU1RfQ09QWSIsIkxJU1RfQ1JFQVRFIiwiTElTVF9FRElUIiwiTElTVF9ERUxFVEUiLCJUQVNLX0NSRUFURSIsIlRBU0tfRURJVCIsIlRBU0tfREVMRVRFIiwiVEFTS19DT01QTEVURSIsIlBSRUZfV0lER0VUU19MSVNUU19NQVhfTElTVFMiLCJQUkVGX1dJREdFVFNfTElTVFNfTUFYX0xJU1RJVEVNUyIsIlBSRUZfV0lER0VUU19MSVNUU19CQURHRV9FTkFCTEVEIiwiUFJFRl9XSURHRVRTX0xJU1RTX0JBREdFX0xBQkVMIiwiTGlzdHMiLCJoYW5kbGVVc2VySW50ZXJhY3Rpb24iLCJsaXN0cyIsIkxpc3RzV2lkZ2V0IiwibmV3VGFzayIsInNldE5ld1Rhc2siLCJpc0VkaXRpbmciLCJzZXRJc0VkaXRpbmciLCJwZW5kaW5nTmV3TGlzdCIsInNldFBlbmRpbmdOZXdMaXN0Iiwic2VsZWN0ZWRMaXN0IiwicHJldkNvbXBsZXRlZENvdW50IiwiY29tcGxldGVkIiwic2VsZWN0UmVmIiwicmVvcmRlckxpc3RSZWYiLCJoYW5kbGVMaXN0SW50ZXJhY3Rpb24iLCJpc1ZhbGlkVXJsIiwiY2FuUGFyc2UiLCJXSURHRVRTX0xJU1RTX1VTRVJfSU1QUkVTU0lPTiIsImxpc3RzUmVmIiwicmVvcmRlckxpc3RzIiwiZHJhZ2dlZEVsZW1lbnQiLCJ0YXJnZXRFbGVtZW50IiwiYmVmb3JlIiwidGFza3MiLCJ0YXJnZXRJbmRleCIsInJlb3JkZXJlZCIsInJlbW92ZWQiLCJpbnNlcnRJbmRleCIsInVwZGF0ZWRMaXN0cyIsIldJREdFVFNfTElTVFNfVVBEQVRFIiwibW92ZVRhc2siLCJ0YXNrIiwiZGlyZWN0aW9uIiwidGFyZ2V0VGFzayIsInNlbGVjdE5vZGUiLCJyZW9yZGVyTm9kZSIsImhhbmRsZVNlbGVjdENoYW5nZSIsIldJREdFVFNfTElTVFNfQ0hBTkdFX1NFTEVDVEVEIiwiaGFuZGxlUmVvcmRlciIsImRldGFpbCIsInNhdmVUYXNrIiwidHJpbW1lZFRhc2siLCJ0cmltRW5kIiwiZm9ybWF0dGVkVGFzayIsImNyZWF0ZWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiaXNVcmwiLCJXSURHRVRTX0xJU1RTX1VTRVJfRVZFTlQiLCJ1c2VyQWN0aW9uIiwidXBkYXRlVGFzayIsInVwZGF0ZWRUYXNrIiwiaXNDb21wbGV0ZWRUeXBlIiwiaXNOb3dDb21wbGV0ZWQiLCJuZXdUYXNrcyIsIm5ld0NvbXBsZXRlZCIsInNob3VsZE1vdmVUb1Rhc2tzIiwic2hvdWxkTW92ZVRvQ29tcGxldGVkIiwidGFyZ2V0S2V5IiwidXBkYXRlZEFycmF5IiwiZGVsZXRlVGFzayIsInNlbGVjdGVkVGFza3MiLCJ1cGRhdGVkVGFza3MiLCJhY3RpdmVFbGVtZW50IiwiaGFuZGxlTGlzdE5hbWVTYXZlIiwibmV3TGFiZWwiLCJ0cmltbWVkTGFiZWwiLCJoYW5kbGVDcmVhdGVOZXdMaXN0IiwibmV3TGlzdHMiLCJoYW5kbGVDYW5jZWxOZXdMaXN0IiwiaGFuZGxlRGVsZXRlTGlzdCIsImxpc3RLZXlzIiwiaGFuZGxlSGlkZUxpc3RzIiwiU0VUX1BSRUYiLCJoYW5kbGVDb3B5TGlzdFRvQ2xpcGJvYXJkIiwiY3VycmVudExpc3QiLCJ1bmNvbXBsZXRlZCIsImN1cnJlbnRDb21wbGV0ZWQiLCJmb3JtYXR0ZWQiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJlcnIiLCJlcnJvciIsImhhbmRsZUxlYXJuTW9yZSIsImRvbmVDb3VudCIsImN1cnJlbnRMaXN0c0NvdW50IiwibWF4TGlzdHNDb3VudCIsImlzQXRNYXhMaXN0c0xpbWl0IiwiY3VycmVudFNlbGVjdGVkTGlzdEl0ZW1zQ291bnQiLCJtYXhMaXN0SXRlbXNDb3VudCIsImlzQXRNYXhMaXN0SXRlbXNMaW1pdCIsInNlbGVjdGVkSW5kZXgiLCJsaXN0TmFtZVBsYWNlaG9sZGVyIiwibmltYnVzQmFkZ2VFbmFibGVkIiwid2lkZ2V0c0NvbmZpZyIsImxpc3RzQmFkZ2VFbmFibGVkIiwibmltYnVzQmFkZ2VMYWJlbCIsImxpc3RzQmFkZ2VMYWJlbCIsIm5pbWJ1c0JhZGdlVHJhaW5ob3BFbmFibGVkIiwibmltYnVzQmFkZ2VUcmFpbmhvcExhYmVsIiwiYmFkZ2VFbmFibGVkIiwiYmFkZ2VMYWJlbCIsIkVkaXRhYmxlVGV4dCIsIm9uU2F2ZSIsIm9uQ2FuY2VsIiwibWF4TGVuZ3RoIiwiZGF0YUwxMG5JZCIsIm1lbnVJZCIsIml0ZW1TZWxlY3RvciIsImRyYWdTZWxlY3RvciIsIkxpc3RJdGVtIiwibnVtYmVyIiwiY29tcGxldGVkVGFzayIsIm1lZGlhIiwiZXhpdGluZyIsInNldEV4aXRpbmciLCJpc0NvbXBsZXRlZCIsImhhbmRsZUNoZWNrYm94Q2hhbmdlIiwiaGFuZGxlVHJhbnNpdGlvbkVuZCIsInByb3BlcnR5TmFtZSIsImhhbmRsZVNhdmUiLCJuZXdWYWx1ZSIsImhhbmRsZURlbGV0ZSIsInRhc2tMYWJlbCIsIm9uVHJhbnNpdGlvbkVuZCIsInRlbXBWYWx1ZSIsInNldFRlbXBWYWx1ZSIsImhhbmRsZU9uQmx1ciIsIlRJTUVSX1NFVCIsIlRJTUVSX1BMQVkiLCJUSU1FUl9QQVVTRSIsIlRJTUVSX1JFU0VUIiwiVElNRVJfRU5EIiwiVElNRVJfVE9HR0xFX0ZPQ1VTIiwiVElNRVJfVE9HR0xFX0JSRUFLIiwiY2FsY3VsYXRlVGltZVJlbWFpbmluZyIsImR1cmF0aW9uIiwic3RhcnQiLCJjdXJyZW50VGltZSIsImZvcm1hdFRpbWUiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwic2VjcyIsInBvbGFyVG9QZXJjZW50IiwiY3giLCJjeSIsInJhZGl1cyIsInJhZCIsImdldENsaXBQYXRoIiwicHJvZ3Jlc3MiLCJwb2ludHMiLCJhIiwiRm9jdXNUaW1lciIsInRpbWVMZWZ0Iiwic2V0VGltZUxlZnQiLCJzZXRQcm9ncmVzcyIsImFjdGl2ZU1pbnV0ZXNSZWYiLCJhY3RpdmVTZWNvbmRzUmVmIiwiYXJjUmVmIiwidGltZXJUeXBlIiwiVGltZXJXaWRnZXQiLCJ0aW1lckRhdGEiLCJpbml0aWFsRHVyYXRpb24iLCJzdGFydFRpbWUiLCJpc1J1bm5pbmciLCJpbml0aWFsVGltZXJEdXJhdGlvbiIsImhhbmRsZVRpbWVySW50ZXJhY3Rpb24iLCJXSURHRVRTX1RJTUVSX1VTRVJfSU1QUkVTU0lPTiIsInRpbWVyUmVmIiwicmVzZXRQcm9ncmVzc0NpcmNsZSIsImNsaXBQYXRoIiwid2Via2l0Q2xpcFBhdGgiLCJzaG93U3lzdGVtTm90aWZpY2F0aW9ucyIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJyZW1haW5pbmciLCJjbGVhckludGVydmFsIiwiV0lER0VUU19USU1FUl9FTkQiLCJXSURHRVRTX1RJTUVSX1VTRVJfRVZFTlQiLCJXSURHRVRTX1RJTUVSX1NFVF9UWVBFIiwibmV3VGltZSIsInNldFRpbWVyRHVyYXRpb24iLCJtaW51dGVzRWwiLCJzZWNvbmRzRWwiLCJtaW51dGVzVmFsdWUiLCJpbm5lclRleHQiLCJzZWNvbmRzVmFsdWUiLCJ0b3RhbFNlY29uZHMiLCJOdW1iZXIiLCJpc05hTiIsIldJREdFVFNfVElNRVJfU0VUX0RVUkFUSU9OIiwidG9nZ2xlVGltZXIiLCJXSURHRVRTX1RJTUVSX1BMQVkiLCJXSURHRVRTX1RJTUVSX1BBVVNFIiwicmVzZXRUaW1lciIsIldJREdFVFNfVElNRVJfUkVTRVQiLCJ0b2dnbGVUeXBlIiwib2xkVHlwZVJlbWFpbmluZyIsImhhbmRsZUJlZm9yZUlucHV0IiwidGVzdCIsInNlbGVjdGlvbiIsImdldFNlbGVjdGlvbiIsInNlbGVjdGVkVGV4dCIsInJhbmdlIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJjb2xsYXBzZSIsInNlbCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVQcmVmVXBkYXRlIiwicHJlZk5hbWUiLCJwcmVmVmFsdWUiLCJFZGl0YWJsZVRpbWVyRmllbGRzIiwibWludXRlc1JlZiIsInNlY29uZHNSZWYiLCJvbkJlZm9yZUlucHV0IiwiY29udGVudEVkaXRhYmxlIiwiV2lkZ2V0c0ZlYXR1cmVIaWdobGlnaHQiLCJQUkVGX1dJREdFVFNfTElTVFNfRU5BQkxFRCIsIlBSRUZfV0lER0VUU19TWVNURU1fTElTVFNfRU5BQkxFRCIsIlBSRUZfV0lER0VUU19USU1FUl9FTkFCTEVEIiwiUFJFRl9XSURHRVRTX1NZU1RFTV9USU1FUl9FTkFCTEVEIiwiV2lkZ2V0cyIsImxpc3RzU3RhdGUiLCJ0aW1lclN0YXRlIiwibmltYnVzTGlzdHNFbmFibGVkIiwibGlzdHNFbmFibGVkIiwibmltYnVzVGltZXJFbmFibGVkIiwidGltZXJFbmFibGVkIiwidGFza3NDb3VudCIsIm1hbnlUYXNrcyIsImlzVGltZXJSdW5uaW5nIiwic2hvd1Njcm9sbE1lc3NhZ2UiLCJ3aWRnZXROYW1lIiwiaGFzSW50ZXJhY3RlZCIsInNlbGVjdExheW91dFJlbmRlciIsIkFMTE9XRURfQ1NTX1VSTF9QUkVGSVhFUyIsIkRVTU1ZX0NTU19TRUxFQ1RPUiIsImlzQWxsb3dlZENTUyIsInByb3BlcnR5IiwidXJscyIsImV2ZXJ5IiwicHJlZml4IiwiX0Rpc2NvdmVyeVN0cmVhbUJhc2UiLCJvblN0eWxlTW91bnQiLCJzaGVldCIsInBhcnNlIiwiZGF0YXNldCIsInNlbGVjdG9ycyIsImRlY2xhcmF0aW9ucyIsImluc2VydFJ1bGUiLCJjc3NSdWxlcyIsInJlbW92ZVByb3BlcnR5Iiwic2VsZWN0b3JUZXh0Iiwic2VsZWN0b3IiLCJleHBsb3JlX3RvcGljcyIsInJlbmRlclN0eWxlcyIsImpzb24iLCJsYXlvdXRSZW5kZXIiLCJ0b3BpY1NlbGVjdGlvbkVuYWJsZWQiLCJyZXBvcnRBZHNFbmFibGVkIiwic3BvY3NFbmFibGVkIiwiY29sbGFwc2libGUiLCJyZW5kZXJMYXlvdXQiLCJleHRyYWN0Q29tcG9uZW50IiwidG9wU3RvcmllcyIsIndpZGdldHNOaW1idXNFbmFibGVkIiwid2lkZ2V0c1N5c3RlbVByZWZzRW5hYmxlZCIsInByaXZhY3lMaW5rQ29tcG9uZW50Iiwic2VjdGlvblRpdGxlIiwic2VjdGlvblR5cGUiLCJzZWN0aW9uQ2xhc3MiLCJEaXNjb3ZlcnlTdHJlYW1CYXNlIiwiU2VjdGlvbnNNZ210UGFuZWwiLCJleGl0RXZlbnRGaXJlZCIsInNob3dQYW5lbCIsInNldFNob3dQYW5lbCIsImxheW91dENvbXBvbmVudHMiLCJzZWN0aW9uc0ZlZWROYW1lIiwiY2FyZEdyaWRFbnRyeSIsInNlY3Rpb25zTGlzdCIsInNlY3Rpb25zU3RhdGUiLCJzZXRTZWN0aW9uU3RhdGUiLCJmb2xsb3dlZFNlY3Rpb25zRGF0YSIsImJsb2NrZWRTZWN0aW9uc0RhdGEiLCJ1cGRhdGVDYWNoZWREYXRhIiwib25CbG9ja0NsaWNrIiwib25VbmJsb2NrQ2xpY2siLCJ0b2dnbGVQYW5lbCIsInByZXZTaG93UGFuZWwiLCJmb2xsb3dlZFNlY3Rpb25zTGlzdCIsImJsb2NrZWRTZWN0aW9uc0xpc3QiLCJpbiIsInVubW91bnRPbkV4aXQiLCJQUkVGX1dBTExQQVBFUl9VUExPQURFRF9QUkVWSU9VU0xZIiwiUFJFRl9XQUxMUEFQRVJfVVBMT0FEX01BWF9GSUxFX1NJWkUiLCJQUkVGX1dBTExQQVBFUl9VUExPQURfTUFYX0ZJTEVfU0laRV9FTkFCTEVEIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsInRpbWVyIiwid2FrZVVwIiwiYXBwbHkiLCJfV2FsbHBhcGVyQ2F0ZWdvcmllcyIsImhhbmRsZUNvbG9ySW5wdXQiLCJkZWJvdW5jZWRIYW5kbGVDaGFuZ2UiLCJoYW5kbGVSZXNldCIsImhhbmRsZUNhdGVnb3J5IiwiZm9jdXNDYXRlZ29yeSIsImhhbmRsZVVwbG9hZCIsImhhbmRsZUJhY2siLCJnZXRSR0JDb2xvcnMiLCJwcmVmZXJzSGlnaENvbnRyYXN0UXVlcnkiLCJwcmVmZXJzRGFya1F1ZXJ5IiwiY2F0ZWdvcnlSZWYiLCJ3YWxscGFwZXJSZWYiLCJjdXN0b21Db2xvclBpY2tlclJlZiIsImNyZWF0ZVJlZiIsImN1c3RvbUNvbG9ySW5wdXQiLCJhY3RpdmVDYXRlZ29yeSIsImFjdGl2ZUNhdGVnb3J5Rmx1ZW50SUQiLCJzaG93Q29sb3JQaWNrZXIiLCJpbnB1dFR5cGUiLCJhY3RpdmVJZCIsImN1c3RvbVdhbGxwYXBlckVycm9yVHlwZSIsImZvY3VzZWRDYXRlZ29yeUluZGV4IiwicmdiQ29sb3JzIiwiY29sb3JJbnB1dEJhY2tncm91bmQiLCJpc0NvbG9yRGFyayIsImlzV2FsbHBhcGVyQ29sb3JEYXJrIiwidXBsb2FkZWRQcmV2aW91c2x5IiwiaGFuZGxlVXNlckV2ZW50IiwiV0FMTFBBUEVSX0NMSUNLIiwic2VsZWN0ZWRfd2FsbHBhcGVyIiwiaGFkX3ByZXZpb3VzX3dhbGxwYXBlciIsImFjdGl2ZVdhbGxwYXBlciIsImhhZF91cGxvYWRlZF9wcmV2aW91c2x5IiwiaGFuZGxlQ2F0ZWdvcnlLZXlEb3duIiwiZ2V0SW5kZXgiLCJjYXQiLCJldmVudEtleSIsImhhbmRsZVdhbGxwYXBlcktleURvd24iLCJiYWNrVG9NZW51QnV0dG9uIiwid2FsbHBhcGVyIiwic2VsZWN0ZWRXYWxscGFwZXIiLCJXQUxMUEFQRVJfUkVNT1ZFX1VQTE9BRCIsIldBTExQQVBFUl9DQVRFR09SWV9DTElDSyIsImZsdWVudF9pZCIsIndhbGxwYXBlclVwbG9hZE1heEZpbGVTaXplRW5hYmxlZCIsIndhbGxwYXBlclVwbG9hZE1heEZpbGVTaXplIiwiZmlsZUlucHV0IiwiYWNjZXB0Iiwib25jYW5jZWwiLCJvbmNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImlzVmFsaWRJbWFnZSIsIm1heFNpemUiLCJXQUxMUEFQRVJfVVBMT0FEIiwic2V0QWN0aXZlSWQiLCJyIiwic3Vic3RyIiwiZyIsImIiLCJ3YWxscGFwZXJMaXN0IiwiV2FsbHBhcGVycyIsImZpbHRlcmVkV2FsbHBhcGVycyIsInJlZHVjZUNvbG9yc1RvRml0Q3VzdG9tQ29sb3JJbnB1dCIsImFyciIsInBvcCIsIndhbGxwYXBlckN1c3RvbVNvbGlkQ29sb3JIZXgiLCJyZWdleCIsInN0YXJ0ZXJDb2xvckhleCIsImluaXRTdGF0ZUNsYXNzbmFtZSIsImNvbG9yUGlja2VySW5wdXQiLCJvbklucHV0IiwiZmlsdGVyZWRMaXN0IiwiYWN0aXZlV2FsbHBhcGVyT2JqIiwid3AiLCJpc0N1c3RvbVNvbGlkQ29sb3IiLCJ0aHVtYm5haWwiLCJ3YWxscGFwZXJVcmwiLCJzb2xpZF9jb2xvciIsImhleCIsImlzQ2F0ZWdvcnlTZWxlY3RlZCIsInRoZW1lIiwiV2FsbHBhcGVyQ2F0ZWdvcmllcyIsIkNvbnRlbnRTZWN0aW9uIiwib25QcmVmZXJlbmNlU2VsZWN0IiwidG9wU2l0ZXNEcmF3ZXJSZWYiLCJwb2NrZXREcmF3ZXJSZWYiLCJpbnB1dFVzZXJFdmVudCIsImV2ZW50VmFsdWUiLCJtZW51X3NvdXJjZSIsInByZWZlcmVuY2UiLCJub2RlTmFtZSIsInNldERyYXdlck1hcmdpbnMiLCJzZXREcmF3ZXJNYXJnaW4iLCJ0b3BTaXRlc0VuYWJsZWQiLCJkcmF3ZXJJRCIsImRyYXdlclJlZiIsImRyYXdlckhlaWdodCIsInBhcnNlRmxvYXQiLCJtYXJnaW5Ub3AiLCJlbmFibGVkV2lkZ2V0cyIsInBvY2tldFJlZ2lvbiIsIm1heUhhdmVJbmZlcnJlZFBlcnNvbmFsaXphdGlvbiIsIm1heUhhdmVXZWF0aGVyIiwibWF5SGF2ZVRyZW5kaW5nU2VhcmNoIiwibWF5SGF2ZVdpZGdldHMiLCJtYXlIYXZlVGltZXJXaWRnZXQiLCJtYXlIYXZlTGlzdHNXaWRnZXQiLCJvcGVuUHJlZmVyZW5jZXMiLCJ3YWxscGFwZXJzRW5hYmxlZCIsIm1heUhhdmVUb3BpY1NlY3Rpb25zIiwidHJlbmRpbmdTZWFyY2hFbmFibGVkIiwic2hvd0luZmVycmVkUGVyc29uYWxpemF0aW9uRW5hYmxlZCIsInRvcFNpdGVzUm93c0NvdW50Iiwic2xvdCIsIl9DdXN0b21pemVNZW51Iiwib25FbnRlcmVkIiwib25FeGl0ZWQiLCJjbG9zZUJ1dHRvbiIsIm9wZW5CdXR0b24iLCJzaG93aW5nIiwiYXBwZWFyIiwib25PcGVuIiwiYyIsIkN1c3RvbWl6ZU1lbnUiLCJMb2dvIiwiSVNfTkVXVEFCIiwiX1NlYXJjaCIsIm9uU2VhcmNoQ2xpY2siLCJvblNlYXJjaEhhbmRvZmZDbGljayIsIm9uU2VhcmNoSGFuZG9mZlBhc3RlIiwib25TZWFyY2hIYW5kb2ZmRHJvcCIsIm9uSW5wdXRNb3VudCIsIm9uSW5wdXRNb3VudEhhbmRvZmYiLCJvblNlYXJjaEhhbmRvZmZCdXR0b25Nb3VudCIsImhhbmRsZUV2ZW50IiwiZ0NvbnRlbnRTZWFyY2hDb250cm9sbGVyIiwic2VhcmNoIiwiZG9TZWFyY2hIYW5kb2ZmIiwiSEFORE9GRl9TRUFSQ0hfVE9fQVdFU09NRUJBUiIsIkZBS0VfRk9DVVNfU0VBUkNIIiwiRElTQUJMRV9TRUFSQ0giLCJjbGlwYm9hcmREYXRhIiwiZ2V0RGF0YSIsImNhcmV0IiwiZmFrZUNhcmV0IiwiY2FyZXRCbGlua0NvdW50IiwiY2FyZXRCbGlua1RpbWUiLCJzZXRQcm9wZXJ0eSIsImhlYWx0aFJlcG9ydEtleSIsIkNvbnRlbnRTZWFyY2hVSUNvbnRyb2xsZXIiLCJfaGFuZG9mZlNlYXJjaENvbnRyb2xsZXIiLCJDb250ZW50U2VhcmNoSGFuZG9mZlVJQ29udHJvbGxlciIsIl9zZWFyY2hIYW5kb2ZmQnV0dG9uIiwid3JhcHBlckNsYXNzTmFtZSIsImRpc2FibGUiLCJmYWtlRm9jdXMiLCJ0cmVuZGluZ1NlYXJjaFZhcmlhbnQiLCJzaG93TG9nbyIsImhhbmRvZmZFbmFibGVkIiwib25QYXN0ZSIsIlNlYXJjaCIsIkRvd25sb2FkTW9kYWxUb2dnbGUiLCJpc0FjdGl2ZSIsIlRodW1iVXBUaHVtYkRvd25Ub2FzdCIsIm9uQW5pbWF0aW9uRW5kIiwibW96TWVzc2FnZUJhclJlZiIsIm1vek1lc3NhZ2VCYXJFbGVtZW50Iiwib25jZSIsImRpc21pc3NhYmxlIiwiUmVwb3J0Q29udGVudFRvYXN0IiwiTm90aWZpY2F0aW9ucyIsInRvYXN0UXVldWUiLCJ0b2FzdENvdW50ZXIiLCJzeW5jSGlkZGVuVG9hc3REYXRhIiwicXVldWVkVG9hc3RzIiwiSElERV9UT0FTVF9NRVNTQUdFIiwiZ2V0VG9hc3QiLCJsYXRlc3RUb2FzdEl0ZW0iLCJFTU9KSV9MQUJFTFMiLCJidXNpbmVzcyIsImFydHMiLCJmb29kIiwiaGVhbHRoIiwiZmluYW5jZSIsImdvdmVybm1lbnQiLCJzcG9ydHMiLCJ0ZWNoIiwidHJhdmVsIiwic29jaWV0eSIsIlRvcGljU2VsZWN0aW9uIiwic3VwcG9ydFVybCIsImNoZWNrYm94V3JhcHBlclJlZiIsInN1Z2dlc3RlZFRvcGljcyIsImRpc3BsYXlDb3VudCIsImlzRmlyc3RSdW4iLCJkaXNwbGF5Q291bnRSZWYiLCJwcmVzZWxlY3RlZFRvcGljcyIsInRvcGljc1RvU2VsZWN0Iiwic2V0VG9waWNzVG9TZWxlY3QiLCJpc0ZpcnN0U2F2ZSIsImhhbmRsZU1vZGFsQ2xvc2UiLCJUT1BJQ19TRUxFQ1RJT05fVVNFUl9ESVNNSVNTIiwiVE9QSUNfU0VMRUNUSU9OX1NQT1RMSUdIVF9DTE9TRSIsImhhbmRsZVVzZXJDbG9zZSIsIlRPUElDX1NFTEVDVElPTl9NQVlCRV9MQVRFUiIsIlRPUElDX1NFTEVDVElPTl9JTVBSRVNTSU9OIiwidGFiYmFibGVFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmaXJzdFRhYmFibGVFbCIsImxhc3RUYWJiYWJsZUVsIiwiaXNUYWJQcmVzc2VkIiwiaXNBcnJvd1ByZXNzZWQiLCJjaGVja2JveEVsZW1lbnRzIiwiZmlyc3RJbnB1dCIsImxhc3RJbnB1dCIsImlucHV0QXJyIiwiQXJyYXkiLCJmcm9tIiwiY3VycmVudEluZGV4IiwibmV4dEVsIiwiaXNDaGVja2VkIiwidXBkYXRlZFRvcGljcyIsInRvcGljc1N0cmluZyIsIlRPUElDX1NFTEVDVElPTl9VU0VSX1NBVkUiLCJwcmV2aW91c190b3BpY3MiLCJmaXJzdF9zYXZlIiwiUFJFRl9NT0JJTEVfRE9XTkxPQURfSElHSExJR0hUX1ZBUklBTlRfQSIsIlBSRUZfTU9CSUxFX0RPV05MT0FEX0hJR0hMSUdIVF9WQVJJQU5UX0IiLCJQUkVGX01PQklMRV9ET1dOTE9BRF9ISUdITElHSFRfVkFSSUFOVF9DIiwiRkVBVFVSRV9JRCIsIkRvd25sb2FkTW9iaWxlUHJvbW9IaWdobGlnaHQiLCJtb2JpbGVEb3dubG9hZFByb21vVmFyQSIsIm1vYmlsZURvd25sb2FkUHJvbW9WYXJCIiwibW9iaWxlRG93bmxvYWRQcm9tb1ZhckMiLCJnZXRBY3RpdmVWYXJpYW50IiwiZ2V0VmFyaWFudFFSQ29kZUltZyIsImdldFZhcmlhbnRDb3B5IiwiV2FsbHBhcGVyRmVhdHVyZUhpZ2hsaWdodCIsIlBSRUZfSU5GRVJSRURfUEVSU09OQUxJWkFUSU9OX1NZU1RFTSIsIl9CYXNlIiwibm90aWZ5Q29udGVudCIsImlzRGV2dG9vbHNFbmFibGVkIiwiQmFzZUNvbnRlbnQiLCJhZG1pbkNvbnRlbnQiLCJvcGVuQ3VzdG9taXphdGlvbk1lbnUiLCJjbG9zZUN1c3RvbWl6YXRpb25NZW51IiwiaGFuZGxlT25LZXlEb3duIiwib25XaW5kb3dTY3JvbGwiLCJ1cGRhdGVXYWxscGFwZXIiLCJoYW5kbGVDb2xvck1vZGVDaGFuZ2UiLCJzaG91bGREaXNwbGF5VG9waWNTZWxlY3Rpb25Nb2RhbCIsInRvZ2dsZURvd25sb2FkSGlnaGxpZ2h0IiwiaGFuZGxlRGlzbWlzc0Rvd25sb2FkSGlnaGxpZ2h0IiwiYXBwbHlCb2R5Q2xhc3NlcyIsImZpeGVkU2VhcmNoIiwiY29sb3JNb2RlIiwiZml4ZWROYXZTdHlsZSIsIndhbGxwYXBlclRoZW1lIiwic2hvd0Rvd25sb2FkSGlnaGxpZ2h0T3ZlcnJpZGUiLCJzZXRGaXJzdFZpc2libGVUaW1lc3RhbXAiLCJ1cGxvYWRlZFdhbGxwYXBlciIsInByZXZVcGxvYWRlZFdhbGxwYXBlciIsInByZXZXYWxscGFwZXJMaXN0IiwicHJldlByZWZzIiwicHJldlNlbGVjdGVkV2FsbHBhcGVyIiwidXBsb2FkZWRXYWxscGFwZXJUaGVtZSIsInByZXZVcGxvYWRlZFdhbGxwYXBlclRoZW1lIiwiV2FsbHBhcGVyIiwic2hvd1NlYXJjaCIsImxvZ29BbHdheXNWaXNpYmxlIiwiU0NST0xMX1RIUkVTSE9MRCIsIk1BSU5fT0ZGU0VUX1BBRERJTkciLCJDU1NfVkFSX1NQQUNFX1hYTEFSR0UiLCJvdXRlcldyYXBwZXJQYWRkaW5nVG9wIiwic2VhcmNoV3JhcHBlclBhZGRpbmdUb3AiLCJzZWFyY2hXcmFwcGVyUGFkZGluZ0JvdHRvbSIsInNlYXJjaFdyYXBwZXJGaXhlZFNjcm9sbFBhZGRpbmdUb3AiLCJzZWFyY2hXcmFwcGVyRml4ZWRTY3JvbGxQYWRkaW5nQm90dG9tIiwic2VhcmNoSW5uZXJXcmFwcGVyTWluSGVpZ2h0IiwibG9nb0FuZFdvcmRtYXJrV3JhcHBlckhlaWdodCIsImxvZ29BbmRXb3JkbWFya1dyYXBwZXJNYXJnaW5Cb3R0b20iLCJzY3JvbGxZIiwicGFkZGluZ0Jsb2NrU3RhcnQiLCJTRVRUSU5HU19PUEVOIiwiY3VzdG9taXplTWVudVZpc2libGUiLCJISURFX1BFUlNPTkFMSVpFIiwiU21hcnRXaW5kb3ciLCJyZW5kZXJXYWxscGFwZXJBdHRyaWJ1dGlvbiIsImF0dHJpYnV0aW9uIiwiYXV0aG9yRGV0YWlscyIsIndlYnBhZ2UiLCJzdHJpbmciLCJhdXRob3Jfc3RyaW5nIiwiYXV0aG9yX3VybCIsIndlYnBhZ2Vfc3RyaW5nIiwid2VicGFnZV91cmwiLCJ1cGxvYWRlZFdhbGxwYXBlclVybCIsIm5ld1RoZW1lIiwicmVnZXhSR0IiLCJvdmVycmlkZSIsInRvcGljU2VsZWN0aW9uT25ib2FyZGluZ0VuYWJsZWQiLCJtYXliZVNob3dNb2RhbCIsImRpc3BsYXlUaW1lb3V0IiwibGFzdERpc3BsYXllZCIsImRheSIsImdldFRpbWUiLCJ0aW1lb3V0T2NjdXJlZCIsInNlYXJjaEhhbmRvZmZFbmFibGVkIiwibm9TZWN0aW9uc0VuYWJsZWQiLCJzaG93VG9waWNTZWxlY3Rpb24iLCJtYXlTaG93VG9waWNTZWxlY3Rpb24iLCJpc0Rpc2NvdmVyeVN0cmVhbSIsInNob3VsZERpc3BsYXlXZWF0aGVyIiwibmltYnVzV2lkZ2V0c0VuYWJsZWQiLCJtb2JpbGVEb3dubG9hZFByb21vRW5hYmxlZCIsIm1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUVuYWJsZWQiLCJtb2JpbGVEb3dubG9hZFByb21vVmFyaWFudEJFbmFibGVkIiwibW9iaWxlRG93bmxvYWRQcm9tb1ZhcmlhbnRDRW5hYmxlZCIsIm1vYmlsZURvd25sb2FkUHJvbW9WYXJpYW50QUJvckMiLCJtb2JpbGVEb3dubG9hZFByb21vV3JhcHBlckhlaWdodE1vZGlmaWVyIiwiaGFzVGh1bWJzVXBEb3duTGF5b3V0IiwiaGFzVGh1bWJzVXBEb3duIiwidG9waWNMYWJlbHNFbmFibGVkIiwic2VjdGlvbnNDdXN0b21pemVNZW51UGFuZWxFbmFibGVkIiwic2VjdGlvbnNQZXJzb25hbGl6YXRpb25FbmFibGVkIiwibWF5SGF2ZVBlcnNvbmFsaXplZFRvcGljU2VjdGlvbnMiLCJsb2FkZWQiLCJmZWF0dXJlQ2xhc3NOYW1lIiwic2hvdWxkU2hvd0Rvd25sb2FkSGlnaGxpZ2h0IiwiQmFzZSIsIkRldGVjdFVzZXJTZXNzaW9uU3RhcnQiLCJpbml0U3RvcmUiLCJQcm92aWRlciIsIlJlYWN0RE9NIiwicmVkdWNlcnMiLCJOZXdUYWIiLCJzdG9yZSIsImRvUmVxdWVzdFdoZW5SZWFkeSIsImRvUmVxdWVzdFByb21pc2UiLCJkaWRSZXF1ZXN0IiwicmVxdWVzdElkbGVDYWxsYmFja0lkIiwiZG9SZXF1ZXN0IiwiaGlkZGVuIiwicmVuZGVyV2l0aG91dFN0YXRlIiwic2VuZEV2ZW50T3JBZGRMaXN0ZW5lciIsIk5FV19UQUJfU1RBVEVfUkVRVUVTVCIsIk5FV19UQUJfU1RBVEVfUkVRVUVTVF9XSVRIT1VUX1NUQVJUVVBDQUNIRSIsImh5ZHJhdGUiLCJnZXRFbGVtZW50QnlJZCIsInJlbmRlckNhY2hlIiwiaW5pdGlhbFN0YXRlIiwiTkVXX1RBQl9TVEFURV9SRVFVRVNUX1NUQVJUVVBDQUNIRSJdLCJzb3VyY2VSb290IjoiIn0=